(self.webpackChunkFrontEndHearMe=self.webpackChunkFrontEndHearMe||[]).push([[179],{976:(Hf,Qa,xa)=>{"use strict";function gr(i){return"function"==typeof i}function ie(i){const y=i(O=>{Error.call(O),O.stack=(new Error).stack});return y.prototype=Object.create(Error.prototype),y.prototype.constructor=y,y}const B=ie(i=>function(y){i(this),this.message=y?`${y.length} errors occurred during unsubscription:\n${y.map((O,X)=>`${X+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=y});function e(i,g){if(i){const y=i.indexOf(g);0<=y&&i.splice(y,1)}}class C{constructor(g){this.initialTeardown=g,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let g;if(!this.closed){this.closed=!0;const{_parentage:y}=this;if(y)if(this._parentage=null,Array.isArray(y))for(const le of y)le.remove(this);else y.remove(this);const{initialTeardown:O}=this;if(gr(O))try{O()}catch(le){g=le instanceof B?le.errors:[le]}const{_finalizers:X}=this;if(X){this._finalizers=null;for(const le of X)try{A(le)}catch(Me){g=g??[],Me instanceof B?g=[...g,...Me.errors]:g.push(Me)}}if(g)throw new B(g)}}add(g){var y;if(g&&g!==this)if(this.closed)A(g);else{if(g instanceof C){if(g.closed||g._hasParent(this))return;g._addParent(this)}(this._finalizers=null!==(y=this._finalizers)&&void 0!==y?y:[]).push(g)}}_hasParent(g){const{_parentage:y}=this;return y===g||Array.isArray(y)&&y.includes(g)}_addParent(g){const{_parentage:y}=this;this._parentage=Array.isArray(y)?(y.push(g),y):y?[y,g]:g}_removeParent(g){const{_parentage:y}=this;y===g?this._parentage=null:Array.isArray(y)&&e(y,g)}remove(g){const{_finalizers:y}=this;y&&e(y,g),g instanceof C&&g._removeParent(this)}}C.EMPTY=(()=>{const i=new C;return i.closed=!0,i})();const S=C.EMPTY;function u(i){return i instanceof C||i&&"closed"in i&&gr(i.remove)&&gr(i.add)&&gr(i.unsubscribe)}function A(i){gr(i)?i():i.unsubscribe()}const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},m={setTimeout(i,g,...y){const{delegate:O}=m;return O?.setTimeout?O.setTimeout(i,g,...y):setTimeout(i,g,...y)},clearTimeout(i){const{delegate:g}=m;return(g?.clearTimeout||clearTimeout)(i)},delegate:void 0};function l(i){m.setTimeout(()=>{const{onUnhandledError:g}=T;if(!g)throw i;g(i)})}function t(){}const o=a("C",void 0,void 0);function a(i,g,y){return{kind:i,value:g,error:y}}let s=null;function c(i){if(T.useDeprecatedSynchronousErrorHandling){const g=!s;if(g&&(s={errorThrown:!1,error:null}),i(),g){const{errorThrown:y,error:O}=s;if(s=null,y)throw O}}else i()}class f extends C{constructor(g){super(),this.isStopped=!1,g?(this.destination=g,u(g)&&g.add(this)):this.destination=d}static create(g,y,O){return new _(g,y,O)}next(g){this.isStopped?M(function n(i){return a("N",i,void 0)}(g),this):this._next(g)}error(g){this.isStopped?M(function r(i){return a("E",void 0,i)}(g),this):(this.isStopped=!0,this._error(g))}complete(){this.isStopped?M(o,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(g){this.destination.next(g)}_error(g){try{this.destination.error(g)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w=Function.prototype.bind;function v(i,g){return w.call(i,g)}class h{constructor(g){this.partialObserver=g}next(g){const{partialObserver:y}=this;if(y.next)try{y.next(g)}catch(O){x(O)}}error(g){const{partialObserver:y}=this;if(y.error)try{y.error(g)}catch(O){x(O)}else x(g)}complete(){const{partialObserver:g}=this;if(g.complete)try{g.complete()}catch(y){x(y)}}}class _ extends f{constructor(g,y,O){let X;if(super(),gr(g)||!g)X={next:g??void 0,error:y??void 0,complete:O??void 0};else{let le;this&&T.useDeprecatedNextContext?(le=Object.create(g),le.unsubscribe=()=>this.unsubscribe(),X={next:g.next&&v(g.next,le),error:g.error&&v(g.error,le),complete:g.complete&&v(g.complete,le)}):X=g}this.destination=new h(X)}}function x(i){T.useDeprecatedSynchronousErrorHandling?function p(i){T.useDeprecatedSynchronousErrorHandling&&s&&(s.errorThrown=!0,s.error=i)}(i):l(i)}function M(i,g){const{onStoppedNotification:y}=T;y&&m.setTimeout(()=>y(i,g))}const d={closed:!0,next:t,error:function b(i){throw i},complete:t},E="function"==typeof Symbol&&Symbol.observable||"@@observable";function k(i){return i}function L(i){return 0===i.length?k:1===i.length?i[0]:function(y){return i.reduce((O,X)=>X(O),y)}}let P=(()=>{class i{constructor(y){y&&(this._subscribe=y)}lift(y){const O=new i;return O.source=this,O.operator=y,O}subscribe(y,O,X){const le=function $(i){return i&&i instanceof f||function z(i){return i&&gr(i.next)&&gr(i.error)&&gr(i.complete)}(i)&&u(i)}(y)?y:new _(y,O,X);return c(()=>{const{operator:Me,source:qe}=this;le.add(Me?Me.call(le,qe):qe?this._subscribe(le):this._trySubscribe(le))}),le}_trySubscribe(y){try{return this._subscribe(y)}catch(O){y.error(O)}}forEach(y,O){return new(O=R(O))((X,le)=>{const Me=new _({next:qe=>{try{y(qe)}catch(Qe){le(Qe),Me.unsubscribe()}},error:le,complete:X});this.subscribe(Me)})}_subscribe(y){var O;return null===(O=this.source)||void 0===O?void 0:O.subscribe(y)}[E](){return this}pipe(...y){return L(y)(this)}toPromise(y){return new(y=R(y))((O,X)=>{let le;this.subscribe(Me=>le=Me,Me=>X(Me),()=>O(le))})}}return i.create=g=>new i(g),i})();function R(i){var g;return null!==(g=i??T.Promise)&&void 0!==g?g:Promise}const N=ie(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let W=(()=>{class i extends P{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(y){const O=new H(this,this);return O.operator=y,O}_throwIfClosed(){if(this.closed)throw new N}next(y){c(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const O of this.currentObservers)O.next(y)}})}error(y){c(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=y;const{observers:O}=this;for(;O.length;)O.shift().error(y)}})}complete(){c(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:y}=this;for(;y.length;)y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var y;return(null===(y=this.observers)||void 0===y?void 0:y.length)>0}_trySubscribe(y){return this._throwIfClosed(),super._trySubscribe(y)}_subscribe(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)}_innerSubscribe(y){const{hasError:O,isStopped:X,observers:le}=this;return O||X?S:(this.currentObservers=null,le.push(y),new C(()=>{this.currentObservers=null,e(le,y)}))}_checkFinalizedStatuses(y){const{hasError:O,thrownError:X,isStopped:le}=this;O?y.error(X):le&&y.complete()}asObservable(){const y=new P;return y.source=this,y}}return i.create=(g,y)=>new H(g,y),i})();class H extends W{constructor(g,y){super(),this.destination=g,this.source=y}next(g){var y,O;null===(O=null===(y=this.destination)||void 0===y?void 0:y.next)||void 0===O||O.call(y,g)}error(g){var y,O;null===(O=null===(y=this.destination)||void 0===y?void 0:y.error)||void 0===O||O.call(y,g)}complete(){var g,y;null===(y=null===(g=this.destination)||void 0===g?void 0:g.complete)||void 0===y||y.call(g)}_subscribe(g){var y,O;return null!==(O=null===(y=this.source)||void 0===y?void 0:y.subscribe(g))&&void 0!==O?O:S}}class U extends W{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const y=super._subscribe(g);return!y.closed&&g.next(this._value),y}getValue(){const{hasError:g,thrownError:y,_value:O}=this;if(g)throw y;return this._throwIfClosed(),O}next(g){super.next(this._value=g)}}function Z(i){return gr(i?.lift)}function Y(i){return g=>{if(Z(g))return g.lift(function(y){try{return i(y,this)}catch(O){this.error(O)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(i,g,y,O,X){return new re(i,g,y,O,X)}class re extends f{constructor(g,y,O,X,le,Me){super(g),this.onFinalize=le,this.shouldUnsubscribe=Me,this._next=y?function(qe){try{y(qe)}catch(Qe){g.error(Qe)}}:super._next,this._error=X?function(qe){try{X(qe)}catch(Qe){g.error(Qe)}finally{this.unsubscribe()}}:super._error,this._complete=O?function(){try{O()}catch(qe){g.error(qe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var g;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:y}=this;super.unsubscribe(),!y&&(null===(g=this.onFinalize)||void 0===g||g.call(this))}}}function Q(i,g){return Y((y,O)=>{let X=0;y.subscribe(ae(O,le=>{O.next(i.call(g,le,X++))}))})}function Ee(i){return this instanceof Ee?(this.v=i,this):new Ee(i)}function ve(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,g=i[Symbol.asyncIterator];return g?g.call(i):(i=function pe(i){var g="function"==typeof Symbol&&Symbol.iterator,y=g&&i[g],O=0;if(y)return y.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&O>=i.length&&(i=void 0),{value:i&&i[O++],done:!i}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),y={},O("next"),O("throw"),O("return"),y[Symbol.asyncIterator]=function(){return this},y);function O(le){y[le]=i[le]&&function(Me){return new Promise(function(qe,Qe){!function X(le,Me,qe,Qe){Promise.resolve(Qe).then(function(ht){le({value:ht,done:qe})},Me)}(qe,Qe,(Me=i[le](Me)).done,Me.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const St=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function gt(i){return gr(i?.then)}function dt(i){return gr(i[E])}function Ct(i){return Symbol.asyncIterator&&gr(i?.[Symbol.asyncIterator])}function Ot(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ht=function Pt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function jt(i){return gr(i?.[Ht])}function nt(i){return function Ue(i,g,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,O=y.apply(i,g||[]),le=[];return X={},Me("next"),Me("throw"),Me("return"),X[Symbol.asyncIterator]=function(){return this},X;function Me(Mn){O[Mn]&&(X[Mn]=function(zn){return new Promise(function(nr,br){le.push([Mn,zn,nr,br])>1||qe(Mn,zn)})})}function qe(Mn,zn){try{!function Qe(Mn){Mn.value instanceof Ee?Promise.resolve(Mn.value.v).then(ht,Lt):Yt(le[0][2],Mn)}(O[Mn](zn))}catch(nr){Yt(le[0][3],nr)}}function ht(Mn){qe("next",Mn)}function Lt(Mn){qe("throw",Mn)}function Yt(Mn,zn){Mn(zn),le.shift(),le.length&&qe(le[0][0],le[0][1])}}(this,arguments,function*(){const y=i.getReader();try{for(;;){const{value:O,done:X}=yield Ee(y.read());if(X)return yield Ee(void 0);yield yield Ee(O)}}finally{y.releaseLock()}})}function it(i){return gr(i?.getReader)}function Xe(i){if(i instanceof P)return i;if(null!=i){if(dt(i))return function rt(i){return new P(g=>{const y=i[E]();if(gr(y.subscribe))return y.subscribe(g);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(St(i))return function ft(i){return new P(g=>{for(let y=0;y<i.length&&!g.closed;y++)g.next(i[y]);g.complete()})}(i);if(gt(i))return function vt(i){return new P(g=>{i.then(y=>{g.closed||(g.next(y),g.complete())},y=>g.error(y)).then(null,l)})}(i);if(Ct(i))return Ve(i);if(jt(i))return function je(i){return new P(g=>{for(const y of i)if(g.next(y),g.closed)return;g.complete()})}(i);if(it(i))return function ut(i){return Ve(nt(i))}(i)}throw Ot(i)}function Ve(i){return new P(g=>{(function ct(i,g){var y,O,X,le;return function xe(i,g,y,O){return new(y||(y=Promise))(function(le,Me){function qe(Lt){try{ht(O.next(Lt))}catch(Yt){Me(Yt)}}function Qe(Lt){try{ht(O.throw(Lt))}catch(Yt){Me(Yt)}}function ht(Lt){Lt.done?le(Lt.value):function X(le){return le instanceof y?le:new y(function(Me){Me(le)})}(Lt.value).then(qe,Qe)}ht((O=O.apply(i,g||[])).next())})}(this,void 0,void 0,function*(){try{for(y=ve(i);!(O=yield y.next()).done;)if(g.next(O.value),g.closed)return}catch(Me){X={error:Me}}finally{try{O&&!O.done&&(le=y.return)&&(yield le.call(y))}finally{if(X)throw X.error}}g.complete()})})(i,g).catch(y=>g.error(y))})}function Tt(i,g,y,O=0,X=!1){const le=g.schedule(function(){y(),X?i.add(this.schedule(null,O)):this.unsubscribe()},O);if(i.add(le),!X)return le}function At(i,g,y=1/0){return gr(g)?At((O,X)=>Q((le,Me)=>g(O,le,X,Me))(Xe(i(O,X))),y):("number"==typeof g&&(y=g),Y((O,X)=>function Mt(i,g,y,O,X,le,Me,qe){const Qe=[];let ht=0,Lt=0,Yt=!1;const Mn=()=>{Yt&&!Qe.length&&!ht&&g.complete()},zn=br=>ht<O?nr(br):Qe.push(br),nr=br=>{le&&g.next(br),ht++;let Ir=!1;Xe(y(br,Lt++)).subscribe(ae(g,Fr=>{X?.(Fr),le?zn(Fr):g.next(Fr)},()=>{Ir=!0},void 0,()=>{if(Ir)try{for(ht--;Qe.length&&ht<O;){const Fr=Qe.shift();Me?Tt(g,Me,()=>nr(Fr)):nr(Fr)}Mn()}catch(Fr){g.error(Fr)}}))};return i.subscribe(ae(g,zn,()=>{Yt=!0,Mn()})),()=>{qe?.()}}(O,X,i,y)))}function bt(i=1/0){return At(k,i)}const Rt=new P(i=>i.complete());function It(i){return i&&gr(i.schedule)}function Gt(i){return i[i.length-1]}function Zt(i){return It(Gt(i))?i.pop():void 0}function nn(i,g=0){return Y((y,O)=>{y.subscribe(ae(O,X=>Tt(O,i,()=>O.next(X),g),()=>Tt(O,i,()=>O.complete(),g),X=>Tt(O,i,()=>O.error(X),g)))})}function ln(i,g=0){return Y((y,O)=>{O.add(i.schedule(()=>y.subscribe(O),g))})}function tn(i,g){if(!i)throw new Error("Iterable cannot be null");return new P(y=>{Tt(y,g,()=>{const O=i[Symbol.asyncIterator]();Tt(y,g,()=>{O.next().then(X=>{X.done?y.complete():y.next(X.value)})},0,!0)})})}function mn(i,g){return g?function hn(i,g){if(null!=i){if(dt(i))return function Qt(i,g){return Xe(i).pipe(ln(g),nn(g))}(i,g);if(St(i))return function Pn(i,g){return new P(y=>{let O=0;return g.schedule(function(){O===i.length?y.complete():(y.next(i[O++]),y.closed||this.schedule())})})}(i,g);if(gt(i))return function kn(i,g){return Xe(i).pipe(ln(g),nn(g))}(i,g);if(Ct(i))return tn(i,g);if(jt(i))return function Tn(i,g){return new P(y=>{let O;return Tt(y,g,()=>{O=i[Ht](),Tt(y,g,()=>{let X,le;try{({value:X,done:le}=O.next())}catch(Me){return void y.error(Me)}le?y.complete():y.next(X)},0,!0)}),()=>gr(O?.return)&&O.return()})}(i,g);if(it(i))return function gn(i,g){return tn(nt(i),g)}(i,g)}throw Ot(i)}(i,g):Xe(i)}function En(...i){const g=Zt(i),y=function cn(i,g){return"number"==typeof Gt(i)?i.pop():g}(i,1/0),O=i;return O.length?1===O.length?Xe(O[0]):bt(y)(mn(O,g)):Rt}function vn(...i){return mn(i,Zt(i))}function Un(i={}){const{connector:g=(()=>new W),resetOnError:y=!0,resetOnComplete:O=!0,resetOnRefCountZero:X=!0}=i;return le=>{let Me,qe,Qe,ht=0,Lt=!1,Yt=!1;const Mn=()=>{qe?.unsubscribe(),qe=void 0},zn=()=>{Mn(),Me=Qe=void 0,Lt=Yt=!1},nr=()=>{const br=Me;zn(),br?.unsubscribe()};return Y((br,Ir)=>{ht++,!Yt&&!Lt&&Mn();const Fr=Qe=Qe??g();Ir.add(()=>{ht--,0===ht&&!Yt&&!Lt&&(qe=Hn(nr,X))}),Fr.subscribe(Ir),!Me&&ht>0&&(Me=new _({next:_r=>Fr.next(_r),error:_r=>{Yt=!0,Mn(),qe=Hn(zn,y,_r),Fr.error(_r)},complete:()=>{Lt=!0,Mn(),qe=Hn(zn,O),Fr.complete()}}),Xe(br).subscribe(Me))})(le)}}function Hn(i,g,...y){if(!0===g)return void i();if(!1===g)return;const O=new _({next:()=>{O.unsubscribe(),i()}});return Xe(g(...y)).subscribe(O)}function On(i,g){return Y((y,O)=>{let X=null,le=0,Me=!1;const qe=()=>Me&&!X&&O.complete();y.subscribe(ae(O,Qe=>{X?.unsubscribe();let ht=0;const Lt=le++;Xe(i(Qe,Lt)).subscribe(X=ae(O,Yt=>O.next(g?g(Qe,Yt,Lt,ht++):Yt),()=>{X=null,qe()}))},()=>{Me=!0,qe()}))})}function pr(i,g){return i===g}function ar(i){for(let g in i)if(i[g]===ar)return g;throw Error("Could not find renamed property on target object.")}function hr(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(hr).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const g=i.toString();if(null==g)return""+g;const y=g.indexOf("\n");return-1===y?g:g.substring(0,y)}function fr(i,g){return null==i||""===i?null===g?"":g:null==g||""===g?i:i+" "+g}const Rr=ar({__forward_ref__:ar});function Xt(i){return i.__forward_ref__=Xt,i.toString=function(){return hr(this())},i}function rn(i){return wn(i)?i():i}function wn(i){return"function"==typeof i&&i.hasOwnProperty(Rr)&&i.__forward_ref__===Xt}function Cn(i){return i&&!!i.\u0275providers}class An extends Error{constructor(g,y){super(function $n(i,g){return`NG0${Math.abs(i)}${g?": "+g:""}`}(g,y)),this.code=g}}function Xn(i){return"string"==typeof i?i:null==i?"":String(i)}function fn(i,g){throw new An(-201,!1)}function er(i,g){null==i&&function ur(i,g,y,O){throw new Error(`ASSERTION ERROR: ${i}`+(null==O?"":` [Expected=> ${y} ${O} ${g} <=Actual]`))}(g,i,null,"!=")}function lr(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function sr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Or(i){return ji(i,ro)||ji(i,To)}function ji(i,g){return i.hasOwnProperty(g)?i[g]:null}function no(i){return i&&(i.hasOwnProperty(Yi)||i.hasOwnProperty(Ms))?i[Yi]:null}const ro=ar({\u0275prov:ar}),Yi=ar({\u0275inj:ar}),To=ar({ngInjectableDef:ar}),Ms=ar({ngInjectorDef:ar});var $r=(()=>(($r=$r||{})[$r.Default=0]="Default",$r[$r.Host=1]="Host",$r[$r.Self=2]="Self",$r[$r.SkipSelf=4]="SkipSelf",$r[$r.Optional=8]="Optional",$r))();let fs;function Vo(i){const g=fs;return fs=i,g}function Sl(i,g,y){const O=Or(i);return O&&"root"==O.providedIn?void 0===O.value?O.value=O.factory():O.value:y&$r.Optional?null:void 0!==g?g:void fn(hr(i))}const Pi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),La={},Eo="__NG_DI_FLAG__",Qs="ngTempTokenPath",As=/\n/gm,ks="__source";let ba;function _a(i){const g=ba;return ba=i,g}function Bs(i,g=$r.Default){if(void 0===ba)throw new An(-203,!1);return null===ba?Sl(i,void 0,g):ba.get(i,g&$r.Optional?null:void 0,g)}function ti(i,g=$r.Default){return(function gu(){return fs}()||Bs)(rn(i),g)}function qr(i,g=$r.Default){return ti(i,$l(g))}function $l(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Xl(i){const g=[];for(let y=0;y<i.length;y++){const O=rn(i[y]);if(Array.isArray(O)){if(0===O.length)throw new An(900,!1);let X,le=$r.Default;for(let Me=0;Me<O.length;Me++){const qe=O[Me],Qe=Cu(qe);"number"==typeof Qe?-1===Qe?X=qe.token:le|=Qe:X=qe}g.push(ti(X,le))}else g.push(ti(O))}return g}function Dl(i,g){return i[Eo]=g,i.prototype[Eo]=g,i}function Cu(i){return i[Eo]}function wa(i){return{toString:i}.toString()}var Ta=(()=>((Ta=Ta||{})[Ta.OnPush=0]="OnPush",Ta[Ta.Default=1]="Default",Ta))(),Jo=(()=>{return(i=Jo||(Jo={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Jo;var i})();const Ga={},Fi=[],Ll=ar({\u0275cmp:ar}),Pa=ar({\u0275dir:ar}),js=ar({\u0275pipe:ar}),hs=ar({\u0275mod:ar}),ia=ar({\u0275fac:ar}),Pl=ar({__NG_ELEMENT_ID__:ar}),Us=ar({__NG_ENV_ID__:ar});function Ki(i,g,y){let O=i.length;for(;;){const X=i.indexOf(g,y);if(-1===X)return X;if(0===X||i.charCodeAt(X-1)<=32){const le=g.length;if(X+le===O||i.charCodeAt(X+le)<=32)return X}y=X+1}}function qa(i,g,y){let O=0;for(;O<y.length;){const X=y[O];if("number"==typeof X){if(0!==X)break;O++;const le=y[O++],Me=y[O++],qe=y[O++];i.setAttribute(g,Me,qe,le)}else{const le=X,Me=y[++O];Wa(le)?i.setProperty(g,le,Me):i.setAttribute(g,le,Me),O++}}return O}function Ol(i){return 3===i||4===i||6===i}function Wa(i){return 64===i.charCodeAt(0)}function ds(i,g){if(null!==g&&0!==g.length)if(null===i||0===i.length)i=g.slice();else{let y=-1;for(let O=0;O<g.length;O++){const X=g[O];"number"==typeof X?y=X:0===y||nc(i,y,X,null,-1===y||2===y?g[++O]:null)}}return i}function nc(i,g,y,O,X){let le=0,Me=i.length;if(-1===g)Me=-1;else for(;le<i.length;){const qe=i[le++];if("number"==typeof qe){if(qe===g){Me=-1;break}if(qe>g){Me=le-1;break}}}for(;le<i.length;){const qe=i[le];if("number"==typeof qe)break;if(qe===y){if(null===O)return void(null!==X&&(i[le+1]=X));if(O===i[le+1])return void(i[le+2]=X)}le++,null!==O&&le++,null!==X&&le++}-1!==Me&&(i.splice(Me,0,g),le=Me+1),i.splice(le++,0,y),null!==O&&i.splice(le++,0,O),null!==X&&i.splice(le++,0,X)}const Kl="ng-template";function rc(i,g,y){let O=0,X=!0;for(;O<i.length;){let le=i[O++];if("string"==typeof le&&X){const Me=i[O++];if(y&&"class"===le&&-1!==Ki(Me.toLowerCase(),g,0))return!0}else{if(1===le){for(;O<i.length&&"string"==typeof(le=i[O++]);)if(le.toLowerCase()===g)return!0;return!1}"number"==typeof le&&(X=!1)}}return!1}function Du(i){return 4===i.type&&i.value!==Kl}function Jl(i,g,y){return g===(4!==i.type||y?i.value:Kl)}function Rl(i,g,y){let O=4;const X=i.attrs||[],le=function Vs(i){for(let g=0;g<i.length;g++)if(Ol(i[g]))return g;return i.length}(X);let Me=!1;for(let qe=0;qe<g.length;qe++){const Qe=g[qe];if("number"!=typeof Qe){if(!Me)if(4&O){if(O=2|1&O,""!==Qe&&!Jl(i,Qe,y)||""===Qe&&1===g.length){if(Ea(O))return!1;Me=!0}}else{const ht=8&O?Qe:g[++qe];if(8&O&&null!==i.attrs){if(!rc(i.attrs,ht,y)){if(Ea(O))return!1;Me=!0}continue}const Yt=tl(8&O?"class":Qe,X,Du(i),y);if(-1===Yt){if(Ea(O))return!1;Me=!0;continue}if(""!==ht){let Mn;Mn=Yt>le?"":X[Yt+1].toLowerCase();const zn=8&O?Mn:null;if(zn&&-1!==Ki(zn,ht,0)||2&O&&ht!==Mn){if(Ea(O))return!1;Me=!0}}}}else{if(!Me&&!Ea(O)&&!Ea(Qe))return!1;if(Me&&Ea(Qe))continue;Me=!1,O=Qe|1&O}}return Ea(O)||Me}function Ea(i){return 0==(1&i)}function tl(i,g,y,O){if(null===g)return-1;let X=0;if(O||!y){let le=!1;for(;X<g.length;){const Me=g[X];if(Me===i)return X;if(3===Me||6===Me)le=!0;else{if(1===Me||2===Me){let qe=g[++X];for(;"string"==typeof qe;)qe=g[++X];continue}if(4===Me)break;if(0===Me){X+=4;continue}}X+=le?1:2}return-1}return function mu(i,g){let y=i.indexOf(4);if(y>-1)for(y++;y<i.length;){const O=i[y];if("number"==typeof O)return-1;if(O===g)return y;y++}return-1}(g,i)}function Ss(i,g,y=!1){for(let O=0;O<g.length;O++)if(Rl(i,g[O],y))return!0;return!1}function ps(i,g){e:for(let y=0;y<g.length;y++){const O=g[y];if(i.length===O.length){for(let X=0;X<i.length;X++)if(i[X]!==O[X])continue e;return!0}}return!1}function Iu(i,g){return i?":not("+g.trim()+")":g}function ic(i){let g=i[0],y=1,O=2,X="",le=!1;for(;y<i.length;){let Me=i[y];if("string"==typeof Me)if(2&O){const qe=i[++y];X+="["+Me+(qe.length>0?'="'+qe+'"':"")+"]"}else 8&O?X+="."+Me:4&O&&(X+=" "+Me);else""!==X&&!Ea(Me)&&(g+=Iu(le,X),X=""),O=Me,le=le||!Ea(O);y++}return""!==X&&(g+=Iu(le,X)),g}function Es(i){return wa(()=>{const g=Cs(i),y={...g,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Ta.OnPush,directiveDefs:null,pipeDefs:null,dependencies:g.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Jo.Emulated,styles:i.styles||Fi,_:null,schemas:i.schemas||null,tView:null,id:""};yu(y);const O=i.dependencies;return y.directiveDefs=il(O,!1),y.pipeDefs=il(O,!0),y.id=function eu(i){let g=0;const y=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const X of y)g=Math.imul(31,g)+X.charCodeAt(0)<<0;return g+=2147483648,"c"+g}(y),y})}function Lu(i){return Ai(i)||Ni(i)}function Fl(i){return null!==i}function oa(i){return wa(()=>({type:i.type,bootstrap:i.bootstrap||Fi,declarations:i.declarations||Fi,imports:i.imports||Fi,exports:i.exports||Fi,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function pl(i,g){if(null==i)return Ga;const y={};for(const O in i)if(i.hasOwnProperty(O)){let X=i[O],le=X;Array.isArray(X)&&(le=X[1],X=X[0]),y[X]=O,g&&(g[X]=le)}return y}function yi(i){return wa(()=>{const g=Cs(i);return yu(g),g})}function Ai(i){return i[Ll]||null}function Ni(i){return i[Pa]||null}function fi(i){return i[js]||null}function Ho(i,g){const y=i[hs]||null;if(!y&&!0===g)throw new Error(`Type ${hr(i)} does not have '\u0275mod' property.`);return y}function Cs(i){const g={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:g,inputTransforms:null,inputConfig:i.inputs||Ga,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Fi,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pl(i.inputs,g),outputs:pl(i.outputs)}}function yu(i){i.features?.forEach(g=>g(i))}function il(i,g){if(!i)return null;const y=g?fi:Lu;return()=>("function"==typeof i?i():i).map(O=>y(O)).filter(Fl)}const ho=0,Ur=1,li=2,pi=3,aa=4,gs=5,Oi=6,Io=7,Ci=8,wo=9,Lo=10,ui=11,Ca=12,Go=13,Qo=14,Ji=15,al=16,sa=17,so=18,Br=19,ea=20,es=21,ts=22,Ds=23,Is=24,xi=25,Za=1,ml=2,Oa=7,Ma=9,lo=11;function zo(i){return Array.isArray(i)&&"object"==typeof i[Za]}function Vi(i){return Array.isArray(i)&&!0===i[Za]}function Gs(i){return 0!=(4&i.flags)}function ns(i){return i.componentOffset>-1}function Po(i){return 1==(1&i.flags)}function Mi(i){return!!i.template}function vl(i){return 0!=(512&i[li])}function Fa(i,g){return i.hasOwnProperty(ia)?i[ia]:null}let xl=Pi.WeakRef??class Na{constructor(g){this.ref=g}deref(){return this.ref}},$s=0,j=null,q=!1;function G(i){const g=j;return j=i,g}class ee{constructor(){this.id=$s++,this.ref=function zl(i){return new xl(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[g,y]of this.producers){const O=y.producerNode.deref();if(void 0!==O&&y.atTrackingVersion===this.trackingVersion){if(O.producerPollStatus(y.seenValueVersion))return!0}else this.producers.delete(g),O?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const g=q;q=!0;try{for(const[y,O]of this.consumers){const X=O.consumerNode.deref();void 0!==X&&X.trackingVersion===O.atTrackingVersion?X.onConsumerDependencyMayHaveChanged():(this.consumers.delete(y),X?.producers.delete(this.id))}}finally{q=g}}producerAccessed(){if(q)throw new Error("");if(null===j)return;let g=j.producers.get(this.id);void 0===g?(g={consumerNode:j.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:j.trackingVersion},j.producers.set(this.id,g),this.consumers.set(j.id,g)):(g.seenValueVersion=this.valueVersion,g.atTrackingVersion=j.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==j?.consumerAllowSignalWrites}producerPollStatus(g){return this.valueVersion!==g||(this.onProducerUpdateValueVersion(),this.valueVersion!==g)}}let Ae=null;const wt=()=>{};class zt extends ee{constructor(g,y,O){super(),this.watch=g,this.schedule=y,this.dirty=!1,this.cleanupFn=wt,this.registerOnCleanup=X=>{this.cleanupFn=X},this.consumerAllowSignalWrites=O}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const g=G(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=wt,this.watch(this.registerOnCleanup)}finally{G(g)}}cleanup(){this.cleanupFn()}}class Ut{constructor(g,y,O){this.previousValue=g,this.currentValue=y,this.firstChange=O}isFirstChange(){return this.firstChange}}function Nt(){return $t}function $t(i){return i.type.prototype.ngOnChanges&&(i.setInput=pn),Bt}function Bt(){const i=en(this),g=i?.current;if(g){const y=i.previous;if(y===Ga)i.previous=g;else for(let O in g)y[O]=g[O];i.current=null,this.ngOnChanges(g)}}function pn(i,g,y,O){const X=this.declaredInputs[y],le=en(i)||function Dn(i,g){return i[an]=g}(i,{previous:Ga,current:null}),Me=le.current||(le.current={}),qe=le.previous,Qe=qe[X];Me[X]=new Ut(Qe&&Qe.currentValue,g,qe===Ga),i[O]=g}Nt.ngInherit=!0;const an="__ngSimpleChanges__";function en(i){return i[an]||null}const Yn=function(i,g,y){};function yr(i){for(;Array.isArray(i);)i=i[ho];return i}function Lr(i,g){return yr(g[i.index])}function Qn(i,g){return i.data[g]}function Er(i,g){const y=g[i];return zo(y)?y:y[ho]}function bi(i,g){return null==g?null:i[g]}function Hi(i){i[sa]=0}function po(i){1024&i[li]||(i[li]|=1024,Gi(i,1))}function uo(i){1024&i[li]&&(i[li]&=-1025,Gi(i,-1))}function Gi(i,g){let y=i[pi];if(null===y)return;y[gs]+=g;let O=y;for(y=y[pi];null!==y&&(1===g&&1===O[gs]||-1===g&&0===O[gs]);)y[gs]+=g,O=y,y=y[pi]}const Wr={lFrame:yp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function mo(){return Wr.bindingsEnabled}function Yo(){return null!==Wr.skipHydrationRootTNode}function xr(){return Wr.lFrame.lView}function si(){return Wr.lFrame.tView}function Ba(){let i=Ph();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ph(){return Wr.lFrame.currentTNode}function Xs(i,g){const y=Wr.lFrame;y.currentTNode=i,y.isParent=g}function Mc(){return Wr.lFrame.isParent}function Fu(){Wr.lFrame.isParent=!1}function Qc(){return Wr.lFrame.bindingIndex++}function ag(i,g){const y=Wr.lFrame;y.bindingIndex=y.bindingRootIndex=i,ef(g)}function ef(i){Wr.lFrame.currentDirectiveIndex=i}function qf(){return Wr.lFrame.currentQueryIndex}function mp(i){Wr.lFrame.currentQueryIndex=i}function cv(i){const g=i[Ur];return 2===g.type?g.declTNode:1===g.type?i[Oi]:null}function vp(i,g,y){if(y&$r.SkipSelf){let X=g,le=i;for(;!(X=X.parent,null!==X||y&$r.Host||(X=cv(le),null===X||(le=le[Qo],10&X.type))););if(null===X)return!1;g=X,i=le}const O=Wr.lFrame=Nh();return O.currentTNode=g,O.lView=i,!0}function Fh(i){const g=Nh(),y=i[Ur];Wr.lFrame=g,g.currentTNode=y.firstChild,g.lView=i,g.tView=y,g.contextLView=i,g.bindingIndex=y.bindingStartIndex,g.inI18n=!1}function Nh(){const i=Wr.lFrame,g=null===i?null:i.child;return null===g?yp(i):g}function yp(i){const g={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=g),g}function zh(){const i=Wr.lFrame;return Wr.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const oc=zh;function os(){const i=zh();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ks(){return Wr.lFrame.selectedIndex}function kc(i){Wr.lFrame.selectedIndex=i}function ha(){const i=Wr.lFrame;return Qn(i.tView,i.selectedIndex)}let zu=!0;function ac(){return zu}function sc(i){zu=i}function jh(i,g){for(let y=g.directiveStart,O=g.directiveEnd;y<O;y++){const le=i.data[y].type.prototype,{ngAfterContentInit:Me,ngAfterContentChecked:qe,ngAfterViewInit:Qe,ngAfterViewChecked:ht,ngOnDestroy:Lt}=le;Me&&(i.contentHooks??=[]).push(-y,Me),qe&&((i.contentHooks??=[]).push(y,qe),(i.contentCheckHooks??=[]).push(y,qe)),Qe&&(i.viewHooks??=[]).push(-y,Qe),ht&&((i.viewHooks??=[]).push(y,ht),(i.viewCheckHooks??=[]).push(y,ht)),null!=Lt&&(i.destroyHooks??=[]).push(y,Lt)}}function Uh(i,g,y){ug(i,g,3,y)}function Vh(i,g,y,O){(3&i[li])===y&&ug(i,g,y,O)}function _p(i,g){let y=i[li];(3&y)===g&&(y&=8191,y+=1,i[li]=y)}function ug(i,g,y,O){const le=O??-1,Me=g.length-1;let qe=0;for(let Qe=void 0!==O?65535&i[sa]:0;Qe<Me;Qe++)if("number"==typeof g[Qe+1]){if(qe=g[Qe],null!=O&&qe>=O)break}else g[Qe]<0&&(i[sa]+=65536),(qe<le||-1==le)&&(pv(i,y,g,Qe),i[sa]=(4294901760&i[sa])+Qe+2),Qe++}function Hh(i,g){Yn(4,i,g);const y=G(null);try{g.call(i)}finally{G(y),Yn(5,i,g)}}function pv(i,g,y,O){const X=y[O]<0,le=y[O+1],qe=i[X?-y[O]:y[O]];X?i[li]>>13<i[sa]>>16&&(3&i[li])===g&&(i[li]+=8192,Hh(qe,le)):Hh(qe,le)}const ru=-1;class Wf{constructor(g,y,O){this.factory=g,this.resolving=!1,this.canSeeViewProviders=y,this.injectImpl=O}}function tf(i){return i!==ru}function nf(i){return 32767&i}function Wh(i,g){let y=function Mp(i){return i>>16}(i),O=g;for(;y>0;)O=O[Qo],y--;return O}let Zh=!0;function lc(i){const g=Zh;return Zh=i,g}const Yh=255,cg=5;let Ap=0;const Ul={};function $h(i,g){const y=fg(i,g);if(-1!==y)return y;const O=g[Ur];O.firstCreatePass&&(i.injectorIndex=g.length,kp(O.data,i),kp(g,null),kp(O.blueprint,null));const X=Xh(i,g),le=i.injectorIndex;if(tf(X)){const Me=nf(X),qe=Wh(X,g),Qe=qe[Ur].data;for(let ht=0;ht<8;ht++)g[le+ht]=qe[Me+ht]|Qe[Me+ht]}return g[le+8]=X,le}function kp(i,g){i.push(0,0,0,0,0,0,0,0,g)}function fg(i,g){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===g[i.injectorIndex+8]?-1:i.injectorIndex}function Xh(i,g){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let y=0,O=null,X=g;for(;null!==X;){if(O=Dp(X),null===O)return ru;if(y++,X=X[Qo],-1!==O.injectorIndex)return O.injectorIndex|y<<16}return ru}function Kh(i,g,y){!function iu(i,g,y){let O;"string"==typeof y?O=y.charCodeAt(0)||0:y.hasOwnProperty(Pl)&&(O=y[Pl]),null==O&&(O=y[Pl]=Ap++);const X=O&Yh;g.data[i+(X>>cg)]|=1<<X}(i,g,y)}function hg(i,g,y){if(y&$r.Optional||void 0!==i)return i;fn()}function dg(i,g,y,O){if(y&$r.Optional&&void 0===O&&(O=null),!(y&($r.Self|$r.Host))){const X=i[wo],le=Vo(void 0);try{return X?X.get(g,O,y&$r.Optional):Sl(g,O,y&$r.Optional)}finally{Vo(le)}}return hg(O,0,y)}function Sp(i,g,y,O=$r.Default,X){if(null!==i){if(2048&g[li]&&!(O&$r.Self)){const Me=function Yf(i,g,y,O,X){let le=i,Me=g;for(;null!==le&&null!==Me&&2048&Me[li]&&!(512&Me[li]);){const qe=Ep(le,Me,y,O|$r.Self,Ul);if(qe!==Ul)return qe;let Qe=le.parent;if(!Qe){const ht=Me[ea];if(ht){const Lt=ht.get(y,Ul,O);if(Lt!==Ul)return Lt}Qe=Dp(Me),Me=Me[Qo]}le=Qe}return X}(i,g,y,O,Ul);if(Me!==Ul)return Me}const le=Ep(i,g,y,O,Ul);if(le!==Ul)return le}return dg(g,y,O,X)}function Ep(i,g,y,O,X){const le=function yv(i){if("string"==typeof i)return i.charCodeAt(0)||0;const g=i.hasOwnProperty(Pl)?i[Pl]:void 0;return"number"==typeof g?g>=0?g&Yh:xv:g}(y);if("function"==typeof le){if(!vp(g,i,O))return O&$r.Host?hg(X,0,O):dg(g,y,O,X);try{const Me=le(O);if(null!=Me||O&$r.Optional)return Me;fn()}finally{oc()}}else if("number"==typeof le){let Me=null,qe=fg(i,g),Qe=ru,ht=O&$r.Host?g[Ji][Oi]:null;for((-1===qe||O&$r.SkipSelf)&&(Qe=-1===qe?Xh(i,g):g[qe+8],Qe!==ru&&af(O,!1)?(Me=g[Ur],qe=nf(Qe),g=Wh(Qe,g)):qe=-1);-1!==qe;){const Lt=g[Ur];if(Qh(le,qe,Lt.data)){const Yt=vv(qe,g,y,Me,O,ht);if(Yt!==Ul)return Yt}Qe=g[qe+8],Qe!==ru&&af(O,g[Ur].data[qe+8]===ht)&&Qh(le,qe,g)?(Me=Lt,qe=nf(Qe),g=Wh(Qe,g)):qe=-1}}return X}function vv(i,g,y,O,X,le){const Me=g[Ur],qe=Me.data[i+8],Lt=Jh(qe,Me,y,null==O?ns(qe)&&Zh:O!=Me&&0!=(3&qe.type),X&$r.Host&&le===qe);return null!==Lt?Vl(g,Me,Lt,qe):Ul}function Jh(i,g,y,O,X){const le=i.providerIndexes,Me=g.data,qe=1048575&le,Qe=i.directiveStart,Lt=le>>20,Mn=X?qe+Lt:i.directiveEnd;for(let zn=O?qe:qe+Lt;zn<Mn;zn++){const nr=Me[zn];if(zn<Qe&&y===nr||zn>=Qe&&nr.type===y)return zn}if(X){const zn=Me[Qe];if(zn&&Mi(zn)&&zn.type===y)return Qe}return null}function Vl(i,g,y,O){let X=i[y];const le=g.data;if(function da(i){return i instanceof Wf}(X)){const Me=X;Me.resolving&&function Rn(i,g){const y=g?`. Dependency path: ${g.join(" > ")} > ${i}`:"";throw new An(-200,`Circular dependency in DI detected for ${i}${y}`)}(function Kt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Xn(i)}(le[y]));const qe=lc(Me.canSeeViewProviders);Me.resolving=!0;const Qe=Me.injectImpl?Vo(Me.injectImpl):null;vp(i,O,$r.Default);try{X=i[y]=Me.factory(void 0,le,i,O),g.firstCreatePass&&y>=O.directiveStart&&function dv(i,g,y){const{ngOnChanges:O,ngOnInit:X,ngDoCheck:le}=g.type.prototype;if(O){const Me=$t(g);(y.preOrderHooks??=[]).push(i,Me),(y.preOrderCheckHooks??=[]).push(i,Me)}X&&(y.preOrderHooks??=[]).push(0-i,X),le&&((y.preOrderHooks??=[]).push(i,le),(y.preOrderCheckHooks??=[]).push(i,le))}(y,le[y],g)}finally{null!==Qe&&Vo(Qe),lc(qe),Me.resolving=!1,oc()}}return X}function Qh(i,g,y){return!!(y[g+(i>>cg)]&1<<i)}function af(i,g){return!(i&$r.Self||i&$r.Host&&g)}class Ps{constructor(g,y){this._tNode=g,this._lView=y}get(g,y,O){return Sp(this._tNode,this._lView,g,$l(O),y)}}function xv(){return new Ps(Ba(),xr())}function Cp(i){return wn(i)?()=>{const g=Cp(rn(i));return g&&g()}:Fa(i)}function Dp(i){const g=i[Ur],y=g.type;return 2===y?g.declTNode:1===y?i[Oi]:null}const lf="__parameters__";function Ec(i,g,y){return wa(()=>{const O=function Ip(i){return function(...y){if(i){const O=i(...y);for(const X in O)this[X]=O[X]}}}(g);function X(...le){if(this instanceof X)return O.apply(this,le),this;const Me=new X(...le);return qe.annotation=Me,qe;function qe(Qe,ht,Lt){const Yt=Qe.hasOwnProperty(lf)?Qe[lf]:Object.defineProperty(Qe,lf,{value:[]})[lf];for(;Yt.length<=Lt;)Yt.push(null);return(Yt[Lt]=Yt[Lt]||[]).push(Me),Qe}}return y&&(X.prototype=Object.create(y.prototype)),X.prototype.ngMetadataName=i,X.annotationCls=X,X})}function Cc(i,g){i.forEach(y=>Array.isArray(y)?Cc(y,g):g(y))}function Lp(i,g,y){g>=i.length?i.push(y):i.splice(g,0,y)}function Kf(i,g){return g>=i.length-1?i.pop():i.splice(g,1)[0]}function _l(i,g){const y=[];for(let O=0;O<i;O++)y.push(g);return y}const Jf=Dl(Ec("Optional"),8),as=Dl(Ec("SkipSelf"),4);function ju(i){return 128==(128&i.flags)}var Os=(()=>((Os=Os||{})[Os.Important=1]="Important",Os[Os.DashCase=2]="DashCase",Os))();const ld=new Map;let Sg=0;const to="__ngContext__";function Rs(i,g){zo(g)?(i[to]=g[Br],function zv(i){ld.set(i[Br],i)}(g)):i[to]=g}let cd;function fd(i,g){return cd(i,g)}function ou(i){const g=i[pi];return Vi(g)?g[pi]:g}function qp(i){return Wp(i[Ca])}function ta(i){return Wp(i[aa])}function Wp(i){for(;null!==i&&!Vi(i);)i=i[aa];return i}function co(i,g,y,O,X){if(null!=O){let le,Me=!1;Vi(O)?le=O:zo(O)&&(Me=!0,O=O[ho]);const qe=yr(O);0===i&&null!==y?null==X?Ng(g,y,qe):fc(g,y,qe,X||null,!0):1===i&&null!==y?fc(g,y,qe,X||null,!0):2===i?function Vt(i,g,y){const O=D(i,g);O&&function hc(i,g,y,O){i.removeChild(g,y,O)}(i,O,g,y)}(g,qe,Me):3===i&&g.destroyNode(qe),null!=le&&function Nn(i,g,y,O,X){const le=y[Oa];le!==yr(y)&&co(g,i,O,le,X);for(let qe=lo;qe<y.length;qe++){const Qe=y[qe];dn(Qe[Ur],Qe,i,g,O,le)}}(g,i,le,y,X)}}function oh(i,g,y){return i.createElement(g,y)}function _f(i,g){const y=i[Ma],O=y.indexOf(g);uo(g),y.splice(O,1)}function au(i,g){if(i.length<=lo)return;const y=lo+g,O=i[y];if(O){const X=O[al];null!==X&&X!==i&&_f(X,O),g>0&&(i[y-1][aa]=O[aa]);const le=Kf(i,lo+g);!function Rg(i,g){dn(i,g,g[ui],2,null,null),g[ho]=null,g[Oi]=null}(O[Ur],O);const Me=le[so];null!==Me&&Me.detachView(le[Ur]),O[pi]=null,O[aa]=null,O[li]&=-129}return O}function ah(i,g){if(!(256&g[li])){const y=g[ui];g[Ds]?.destroy(),g[Is]?.destroy(),y.destroyNode&&dn(i,g,y,3,null,null),function Rc(i){let g=i[Ca];if(!g)return wf(i[Ur],i);for(;g;){let y=null;if(zo(g))y=g[Ca];else{const O=g[lo];O&&(y=O)}if(!y){for(;g&&!g[aa]&&g!==i;)zo(g)&&wf(g[Ur],g),g=g[pi];null===g&&(g=i),zo(g)&&wf(g[Ur],g),y=g&&g[aa]}g=y}}(g)}}function wf(i,g){if(!(256&g[li])){g[li]&=-129,g[li]|=256,function Tf(i,g){let y;if(null!=i&&null!=(y=i.destroyHooks))for(let O=0;O<y.length;O+=2){const X=g[y[O]];if(!(X instanceof Wf)){const le=y[O+1];if(Array.isArray(le))for(let Me=0;Me<le.length;Me+=2){const qe=X[le[Me]],Qe=le[Me+1];Yn(4,qe,Qe);try{Qe.call(qe)}finally{Yn(5,qe,Qe)}}else{Yn(4,X,le);try{le.call(X)}finally{Yn(5,X,le)}}}}}(i,g),function $p(i,g){const y=i.cleanup,O=g[Io];if(null!==y)for(let le=0;le<y.length-1;le+=2)if("string"==typeof y[le]){const Me=y[le+3];Me>=0?O[Me]():O[-Me].unsubscribe(),le+=2}else y[le].call(O[y[le+1]]);null!==O&&(g[Io]=null);const X=g[es];if(null!==X){g[es]=null;for(let le=0;le<X.length;le++)(0,X[le])()}}(i,g),1===g[Ur].type&&g[ui].destroy();const y=g[al];if(null!==y&&Vi(g[pi])){y!==g[pi]&&_f(y,g);const O=g[so];null!==O&&O.detachView(i)}!function ud(i){ld.delete(i[Br])}(g)}}function su(i,g,y){return function Xp(i,g,y){let O=g;for(;null!==O&&40&O.type;)O=(g=O).parent;if(null===O)return y[ho];{const{componentOffset:X}=O;if(X>-1){const{encapsulation:le}=i.data[O.directiveStart+X];if(le===Jo.None||le===Jo.Emulated)return null}return Lr(O,y)}}(i,g.parent,y)}function fc(i,g,y,O,X){i.insertBefore(g,y,O,X)}function Ng(i,g,y){i.appendChild(g,y)}function ka(i,g,y,O,X){null!==O?fc(i,g,y,O,X):Ng(i,g,y)}function D(i,g){return i.parentNode(g)}function J(i,g,y){return Oe(i,g,y)}let Be,oi,Oe=function ge(i,g,y){return 40&i.type?Lr(i,y):null};function ot(i,g,y,O){const X=su(i,O,g),le=g[ui],qe=J(O.parent||g[Oi],O,g);if(null!=X)if(Array.isArray(y))for(let Qe=0;Qe<y.length;Qe++)ka(le,X,y[Qe],qe,!1);else ka(le,X,y,qe,!1);void 0!==Be&&Be(le,O,g,y,X)}function pt(i,g){if(null!==g){const y=g.type;if(3&y)return Lr(g,i);if(4&y)return Dt(-1,i[g.index]);if(8&y){const O=g.child;if(null!==O)return pt(i,O);{const X=i[g.index];return Vi(X)?Dt(-1,X):yr(X)}}if(32&y)return fd(g,i)()||yr(i[g.index]);{const O=Et(i,g);return null!==O?Array.isArray(O)?O[0]:pt(ou(i[Ji]),O):pt(i,g.next)}}return null}function Et(i,g){return null!==g?i[Ji][Oi].projection[g.projection]:null}function Dt(i,g){const y=lo+i+1;if(y<g.length){const O=g[y],X=O[Ur].firstChild;if(null!==X)return pt(O,X)}return g[Oa]}function qt(i,g,y,O,X,le,Me){for(;null!=y;){const qe=O[y.index],Qe=y.type;if(Me&&0===g&&(qe&&Rs(yr(qe),O),y.flags|=2),32!=(32&y.flags))if(8&Qe)qt(i,g,y.child,O,X,le,!1),co(g,i,X,qe,le);else if(32&Qe){const ht=fd(y,O);let Lt;for(;Lt=ht();)co(g,i,X,Lt,le);co(g,i,X,qe,le)}else 16&Qe?Fn(i,g,O,y,X,le):co(g,i,X,qe,le);y=Me?y.projectionNext:y.next}}function dn(i,g,y,O,X,le){qt(y,O,i.firstChild,g,X,le,!1)}function Fn(i,g,y,O,X,le){const Me=y[Ji],Qe=Me[Oi].projection[O.projection];if(Array.isArray(Qe))for(let ht=0;ht<Qe.length;ht++)co(g,i,X,Qe[ht],le);else{let ht=Qe;const Lt=Me[pi];ju(O)&&(ht.flags|=128),qt(i,g,ht,Lt,X,le,!0)}}function tr(i,g,y){""===y?i.removeAttribute(g,"class"):i.setAttribute(g,"class",y)}function cr(i,g,y){const{mergedAttrs:O,classes:X,styles:le}=y;null!==O&&qa(i,g,O),null!==X&&tr(i,g,X),null!==le&&function Zn(i,g,y){i.setAttribute(g,"style",y)}(i,g,le)}class ai{constructor(g,y){this._desc=g,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof y?this.__NG_ELEMENT_ID__=y:void 0!==y&&(this.\u0275prov=lr({token:this,providedIn:y.providedIn||"root",factory:y.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fu=new ai("ENVIRONMENT_INITIALIZER"),Sf=new ai("INJECTOR",-1),Ef=new ai("INJECTOR_DEF_TYPES");class Jp{get(g,y=La){if(y===La){const O=new Error(`NullInjectorError: No provider for ${hr(g)}!`);throw O.name="NullInjectorError",O}return y}}function zg(...i){return{\u0275providers:Td(0,i),\u0275fromNgModule:!0}}function Td(i,...g){const y=[],O=new Set;let X;return Cc(g,le=>{const Me=le;Ad(Me,y,[],O)&&(X||=[],X.push(Me))}),void 0!==X&&Md(X,y),y}function Md(i,g){for(let y=0;y<i.length;y++){const{providers:X}=i[y];kd(X,le=>{g.push(le)})}}function Ad(i,g,y,O){if(!(i=rn(i)))return!1;let X=null,le=no(i);const Me=!le&&Ai(i);if(le||Me){if(Me&&!Me.standalone)return!1;X=i}else{const Qe=i.ngModule;if(le=no(Qe),!le)return!1;X=Qe}const qe=O.has(X);if(Me){if(qe)return!1;if(O.add(X),Me.dependencies){const Qe="function"==typeof Me.dependencies?Me.dependencies():Me.dependencies;for(const ht of Qe)Ad(ht,g,y,O)}}else{if(!le)return!1;{if(null!=le.imports&&!qe){let ht;O.add(X);try{Cc(le.imports,Lt=>{Ad(Lt,g,y,O)&&(ht||=[],ht.push(Lt))})}finally{}void 0!==ht&&Md(ht,g)}if(!qe){const ht=Fa(X)||(()=>new X);g.push({provide:X,useFactory:ht,deps:Fi},{provide:Ef,useValue:X,multi:!0},{provide:fu,useValue:()=>ti(X),multi:!0})}const Qe=le.providers;null==Qe||qe||kd(Qe,Lt=>{g.push(Lt)})}}return X!==i&&void 0!==i.providers}function kd(i,g){for(let y of i)Cn(y)&&(y=y.\u0275providers),Array.isArray(y)?kd(y,g):g(y)}const Qp=ar({provide:String,useValue:ar});function e0(i){return null!==i&&"object"==typeof i&&Qp in i}function _s(i){return"function"==typeof i}const bu=new ai("Set Injector scope."),Df={},jg={};let If;function Ml(){return void 0===If&&(If=new Jp),If}class Gl{}class Bc extends Gl{get destroyed(){return this._destroyed}constructor(g,y,O,X){super(),this.parent=y,this.source=O,this.scopes=X,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ed(g,Me=>this.processProvider(Me)),this.records.set(Sf,_u(void 0,this)),X.has("environment")&&this.records.set(Gl,_u(void 0,this));const le=this.records.get(bu);null!=le&&"string"==typeof le.value&&this.scopes.add(le.value),this.injectorDefTypes=new Set(this.get(Ef.multi,Fi,$r.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const y of this._ngOnDestroyHooks)y.ngOnDestroy();const g=this._onDestroyHooks;this._onDestroyHooks=[];for(const y of g)y()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(g){return this.assertNotDestroyed(),this._onDestroyHooks.push(g),()=>this.removeOnDestroy(g)}runInContext(g){this.assertNotDestroyed();const y=_a(this),O=Vo(void 0);try{return g()}finally{_a(y),Vo(O)}}get(g,y=La,O=$r.Default){if(this.assertNotDestroyed(),g.hasOwnProperty(Us))return g[Us](this);O=$l(O);const X=_a(this),le=Vo(void 0);try{if(!(O&$r.SkipSelf)){let qe=this.records.get(g);if(void 0===qe){const Qe=function Hg(i){return"function"==typeof i||"object"==typeof i&&i instanceof ai}(g)&&Or(g);qe=Qe&&this.injectableDefInScope(Qe)?_u(Lf(g),Df):null,this.records.set(g,qe)}if(null!=qe)return this.hydrate(g,qe)}return(O&$r.Self?Ml():this.parent).get(g,y=O&$r.Optional&&y===La?null:y)}catch(Me){if("NullInjectorError"===Me.name){if((Me[Qs]=Me[Qs]||[]).unshift(hr(g)),X)throw Me;return function tc(i,g,y,O){const X=i[Qs];throw g[ks]&&X.unshift(g[ks]),i.message=function Il(i,g,y,O=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let X=hr(g);if(Array.isArray(g))X=g.map(hr).join(" -> ");else if("object"==typeof g){let le=[];for(let Me in g)if(g.hasOwnProperty(Me)){let qe=g[Me];le.push(Me+":"+("string"==typeof qe?JSON.stringify(qe):hr(qe)))}X=`{${le.join(", ")}}`}return`${y}${O?"("+O+")":""}[${X}]: ${i.replace(As,"\n  ")}`}("\n"+i.message,X,y,O),i.ngTokenPath=X,i[Qs]=null,i}(Me,g,"R3InjectorError",this.source)}throw Me}finally{Vo(le),_a(X)}}resolveInjectorInitializers(){const g=_a(this),y=Vo(void 0);try{const O=this.get(fu.multi,Fi,$r.Self);for(const X of O)X()}finally{_a(g),Vo(y)}}toString(){const g=[],y=this.records;for(const O of y.keys())g.push(hr(O));return`R3Injector[${g.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new An(205,!1)}processProvider(g){let y=_s(g=rn(g))?g:rn(g&&g.provide);const O=function t0(i){return e0(i)?_u(void 0,i.useValue):_u(n0(i),Df)}(g);if(_s(g)||!0!==g.multi)this.records.get(y);else{let X=this.records.get(y);X||(X=_u(void 0,Df,!0),X.factory=()=>Xl(X.multi),this.records.set(y,X)),y=g,X.multi.push(g)}this.records.set(y,O)}hydrate(g,y){return y.value===Df&&(y.value=jg,y.value=y.factory()),"object"==typeof y.value&&y.value&&function Vg(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(y.value)&&this._ngOnDestroyHooks.add(y.value),y.value}injectableDefInScope(g){if(!g.providedIn)return!1;const y=rn(g.providedIn);return"string"==typeof y?"any"===y||this.scopes.has(y):this.injectorDefTypes.has(y)}removeOnDestroy(g){const y=this._onDestroyHooks.indexOf(g);-1!==y&&this._onDestroyHooks.splice(y,1)}}function Lf(i){const g=Or(i),y=null!==g?g.factory:Fa(i);if(null!==y)return y;if(i instanceof ai)throw new An(204,!1);if(i instanceof Function)return function Sd(i){const g=i.length;if(g>0)throw _l(g,"?"),new An(204,!1);const y=function fo(i){return i&&(i[ro]||i[To])||null}(i);return null!==y?()=>y.factory(i):()=>new i}(i);throw new An(204,!1)}function n0(i,g,y){let O;if(_s(i)){const X=rn(i);return Fa(X)||Lf(X)}if(e0(i))O=()=>rn(i.useValue);else if(function Xo(i){return!(!i||!i.useFactory)}(i))O=()=>i.useFactory(...Xl(i.deps||[]));else if(function Cf(i){return!(!i||!i.useExisting)}(i))O=()=>ti(rn(i.useExisting));else{const X=rn(i&&(i.useClass||i.provide));if(!function Ug(i){return!!i.deps}(i))return Fa(X)||Lf(X);O=()=>new X(...Xl(i.deps))}return O}function _u(i,g,y=!1){return{factory:i,value:g,multi:y?[]:void 0}}function Ed(i,g){for(const y of i)Array.isArray(y)?Ed(y,g):y&&Cn(y)?Ed(y.\u0275providers,g):g(y)}const fh=new ai("AppId",{providedIn:"root",factory:()=>ul}),ul="ng",hh=new ai("Platform Initializer"),wu=new ai("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),r0=new ai("CSP nonce",{providedIn:"root",factory:()=>function Vr(){if(void 0!==oi)return oi;if(typeof document<"u")return document;throw new An(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let o0=(i,g)=>null;function Ff(i,g){return o0(i,g)}class Yv{}class hu{}class Wg{resolveComponentFactory(g){throw function Fd(i){const g=Error(`No component factory found for ${hr(i)}.`);return g.ngComponent=i,g}(g)}}let Zg=(()=>{class i{}return i.NULL=new Wg,i})();function J5(){return zd(Ba(),xr())}function zd(i,g){return new Nf(Lr(i,g))}let Nf=(()=>{class i{constructor(y){this.nativeElement=y}}return i.__NG_ELEMENT_ID__=J5,i})();function Q5(i){return i instanceof Nf?i.nativeElement:i}class Lx{}let Yg=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function eT(){const i=xr(),y=Er(Ba().index,i);return(zo(y)?y:i)[ui]}(),i})(),tT=(()=>{class i{}return i.\u0275prov=lr({token:i,providedIn:"root",factory:()=>null}),i})();class $g{constructor(g){this.full=g,this.major=g.split(".")[0],this.minor=g.split(".")[1],this.patch=g.split(".").slice(2).join(".")}}const nT=new $g("16.1.2"),$v={};function h0(i){for(;i;){i[li]|=64;const g=ou(i);if(vl(i)&&!g)return i;i=g}return null}function Xv(i){return i.ngOriginalError}class xh{constructor(){this._console=console}handleError(g){const y=this._findOriginalError(g);this._console.error("ERROR",g),y&&this._console.error("ORIGINAL ERROR",y)}_findOriginalError(g){let y=g&&Xv(g);for(;y&&Xv(y);)y=Xv(y);return y||null}}const Rx=new ai("",{providedIn:"root",factory:()=>!1});function Vc(i){return i instanceof Function?i():i}class jx extends ee{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(g){this._lView=g}onConsumerDependencyMayHaveChanged(){h0(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(g,y,O){const X=G(this);this.trackingVersion++;try{g(y,O)}finally{G(X)}}destroy(){this.trackingVersion++}}let Kg=null;function Ux(){return Kg??=new jx,Kg}function Vx(i,g){return i[g]??Ux()}function Hx(i,g){const y=Ux();y.hasReadASignal&&(i[g]=Kg,y.lView=i,Kg=new jx)}const Li={};function d0(i){Gx(si(),xr(),Ks()+i,!1)}function Gx(i,g,y,O){if(!O)if(3==(3&g[li])){const le=i.preOrderCheckHooks;null!==le&&Uh(g,le,y)}else{const le=i.preOrderHooks;null!==le&&Vh(g,le,0,y)}kc(y)}function Yx(i,g=null,y=null,O){const X=$x(i,g,y,O);return X.resolveInjectorInitializers(),X}function $x(i,g=null,y=null,O,X=new Set){const le=[y||Fi,zg(i)];return O=O||("object"==typeof i?void 0:hr(i)),new Bc(le,g||Ml(),O||null,X)}let mc=(()=>{class i{static create(y,O){if(Array.isArray(y))return Yx({name:""},O,y,"");{const X=y.name??"";return Yx({name:X},y.parent,y.providers,X)}}}return i.THROW_IF_NOT_FOUND=La,i.NULL=new Jp,i.\u0275prov=lr({token:i,providedIn:"any",factory:()=>ti(Sf)}),i.__NG_ELEMENT_ID__=-1,i})();function di(i,g=$r.Default){const y=xr();return null===y?ti(i,g):Sp(Ba(),y,rn(i),g)}function Jg(i,g,y,O,X,le,Me,qe,Qe,ht,Lt){const Yt=g.blueprint.slice();return Yt[ho]=X,Yt[li]=140|O,(null!==ht||i&&2048&i[li])&&(Yt[li]|=2048),Hi(Yt),Yt[pi]=Yt[Qo]=i,Yt[Ci]=y,Yt[Lo]=Me||i&&i[Lo],Yt[ui]=qe||i&&i[ui],Yt[wo]=Qe||i&&i[wo]||null,Yt[Oi]=le,Yt[Br]=function Nv(){return Sg++}(),Yt[ts]=Lt,Yt[ea]=ht,Yt[Ji]=2==g.type?i[Ji]:Yt,Yt}function jd(i,g,y,O,X){let le=i.data[g];if(null===le)le=function Kv(i,g,y,O,X){const le=Ph(),Me=Mc(),Qe=i.data[g]=function TT(i,g,y,O,X,le){let Me=g?g.injectorIndex:-1,qe=0;return Yo()&&(qe|=128),{type:y,index:O,insertBeforeIndex:null,injectorIndex:Me,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:qe,providerIndexes:0,value:X,attrs:le,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:g,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Me?le:le&&le.parent,y,g,O,X);return null===i.firstChild&&(i.firstChild=Qe),null!==le&&(Me?null==le.child&&null!==Qe.parent&&(le.child=Qe):null===le.next&&(le.next=Qe,Qe.prev=le)),Qe}(i,g,y,O,X),function sl(){return Wr.lFrame.inI18n}()&&(le.flags|=32);else if(64&le.type){le.type=y,le.value=O,le.attrs=X;const Me=function Ru(){const i=Wr.lFrame,g=i.currentTNode;return i.isParent?g:g.parent}();le.injectorIndex=null===Me?-1:Me.injectorIndex}return Xs(le,!0),le}function p0(i,g,y,O){if(0===y)return-1;const X=g.length;for(let le=0;le<y;le++)g.push(O),i.blueprint.push(O),i.data.push(null);return X}function Kx(i,g,y,O,X){const le=Vx(g,Ds),Me=Ks(),qe=2&O;try{if(kc(-1),qe&&g.length>xi&&Gx(i,g,xi,!1),Yn(qe?2:0,X),qe)le.runInContext(y,O,X);else{const ht=G(null);try{y(O,X)}finally{G(ht)}}}finally{qe&&null===g[Ds]&&Hx(g,Ds),kc(Me),Yn(qe?3:1,X)}}function Jv(i,g,y){if(Gs(g)){const O=G(null);try{const le=g.directiveEnd;for(let Me=g.directiveStart;Me<le;Me++){const qe=i.data[Me];qe.contentQueries&&qe.contentQueries(1,y[Me],Me)}}finally{G(O)}}}function Qv(i,g,y){mo()&&(function DT(i,g,y,O){const X=y.directiveStart,le=y.directiveEnd;ns(y)&&function NT(i,g,y){const O=Lr(g,i),X=Jx(y);let Me=16;y.signals?Me=4096:y.onPush&&(Me=64);const qe=Qg(i,Jg(i,X,null,Me,O,g,null,i[Lo].rendererFactory.createRenderer(O,y),null,null,null));i[g.index]=qe}(g,y,i.data[X+y.componentOffset]),i.firstCreatePass||$h(y,g),Rs(O,g);const Me=y.initialInputs;for(let qe=X;qe<le;qe++){const Qe=i.data[qe],ht=Vl(g,i,qe,y);Rs(ht,g),null!==Me&&zT(0,qe-X,ht,Qe,0,Me),Mi(Qe)&&(Er(y.index,g)[Ci]=Vl(g,i,qe,y))}}(i,g,y,Lr(y,g)),64==(64&y.flags)&&r2(i,g,y))}function e1(i,g,y=Lr){const O=g.localNames;if(null!==O){let X=g.index+1;for(let le=0;le<O.length;le+=2){const Me=O[le+1],qe=-1===Me?y(g,i):i[Me];i[X++]=qe}}}function Jx(i){const g=i.tView;return null===g||g.incompleteFirstPass?i.tView=t1(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):g}function t1(i,g,y,O,X,le,Me,qe,Qe,ht,Lt){const Yt=xi+O,Mn=Yt+X,zn=function vT(i,g){const y=[];for(let O=0;O<g;O++)y.push(O<i?null:Li);return y}(Yt,Mn),nr="function"==typeof ht?ht():ht;return zn[Ur]={type:i,blueprint:zn,template:y,queries:null,viewQuery:qe,declTNode:g,data:zn.slice().fill(null,Yt),bindingStartIndex:Yt,expandoStartIndex:Mn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof le?le():le,pipeRegistry:"function"==typeof Me?Me():Me,firstChild:null,schemas:Qe,consts:nr,incompleteFirstPass:!1,ssrId:Lt}}let Qx=i=>null;function e2(i,g,y,O){for(let X in i)if(i.hasOwnProperty(X)){y=null===y?{}:y;const le=i[X];null===O?t2(y,g,X,le):O.hasOwnProperty(X)&&t2(y,g,O[X],le)}return y}function t2(i,g,y,O){i.hasOwnProperty(y)?i[y].push(g,O):i[y]=[g,O]}function n1(i,g,y,O){if(mo()){const X=null===O?null:{"":-1},le=function LT(i,g){const y=i.directiveRegistry;let O=null,X=null;if(y)for(let le=0;le<y.length;le++){const Me=y[le];if(Ss(g,Me.selectors,!1))if(O||(O=[]),Mi(Me))if(null!==Me.findHostDirectiveDefs){const qe=[];X=X||new Map,Me.findHostDirectiveDefs(Me,qe,X),O.unshift(...qe,Me),r1(i,g,qe.length)}else O.unshift(Me),r1(i,g,0);else X=X||new Map,Me.findHostDirectiveDefs?.(Me,O,X),O.push(Me)}return null===O?null:[O,X]}(i,y);let Me,qe;null===le?Me=qe=null:[Me,qe]=le,null!==Me&&n2(i,g,y,Me,X,qe),X&&function PT(i,g,y){if(g){const O=i.localNames=[];for(let X=0;X<g.length;X+=2){const le=y[g[X+1]];if(null==le)throw new An(-301,!1);O.push(g[X],le)}}}(y,O,X)}y.mergedAttrs=ds(y.mergedAttrs,y.attrs)}function n2(i,g,y,O,X,le){for(let ht=0;ht<O.length;ht++)Kh($h(y,g),i,O[ht].type);!function RT(i,g,y){i.flags|=1,i.directiveStart=g,i.directiveEnd=g+y,i.providerIndexes=g}(y,i.data.length,O.length);for(let ht=0;ht<O.length;ht++){const Lt=O[ht];Lt.providersResolver&&Lt.providersResolver(Lt)}let Me=!1,qe=!1,Qe=p0(i,g,O.length,null);for(let ht=0;ht<O.length;ht++){const Lt=O[ht];y.mergedAttrs=ds(y.mergedAttrs,Lt.hostAttrs),FT(i,y,g,Qe,Lt),OT(Qe,Lt,X),null!==Lt.contentQueries&&(y.flags|=4),(null!==Lt.hostBindings||null!==Lt.hostAttrs||0!==Lt.hostVars)&&(y.flags|=64);const Yt=Lt.type.prototype;!Me&&(Yt.ngOnChanges||Yt.ngOnInit||Yt.ngDoCheck)&&((i.preOrderHooks??=[]).push(y.index),Me=!0),!qe&&(Yt.ngOnChanges||Yt.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(y.index),qe=!0),Qe++}!function MT(i,g,y){const X=g.directiveEnd,le=i.data,Me=g.attrs,qe=[];let Qe=null,ht=null;for(let Lt=g.directiveStart;Lt<X;Lt++){const Yt=le[Lt],Mn=y?y.get(Yt):null,nr=Mn?Mn.outputs:null;Qe=e2(Yt.inputs,Lt,Qe,Mn?Mn.inputs:null),ht=e2(Yt.outputs,Lt,ht,nr);const br=null===Qe||null===Me||Du(g)?null:BT(Qe,Lt,Me);qe.push(br)}null!==Qe&&(Qe.hasOwnProperty("class")&&(g.flags|=8),Qe.hasOwnProperty("style")&&(g.flags|=16)),g.initialInputs=qe,g.inputs=Qe,g.outputs=ht}(i,y,le)}function r2(i,g,y){const O=y.directiveStart,X=y.directiveEnd,le=y.index,Me=function uv(){return Wr.lFrame.currentDirectiveIndex}();try{kc(le);for(let qe=O;qe<X;qe++){const Qe=i.data[qe],ht=g[qe];ef(qe),(null!==Qe.hostBindings||0!==Qe.hostVars||null!==Qe.hostAttrs)&&IT(Qe,ht)}}finally{kc(-1),ef(Me)}}function IT(i,g){null!==i.hostBindings&&i.hostBindings(1,g)}function r1(i,g,y){g.componentOffset=y,(i.components??=[]).push(g.index)}function OT(i,g,y){if(y){if(g.exportAs)for(let O=0;O<g.exportAs.length;O++)y[g.exportAs[O]]=i;Mi(g)&&(y[""]=i)}}function FT(i,g,y,O,X){i.data[O]=X;const le=X.factory||(X.factory=Fa(X.type)),Me=new Wf(le,Mi(X),di);i.blueprint[O]=Me,y[O]=Me,function ET(i,g,y,O,X){const le=X.hostBindings;if(le){let Me=i.hostBindingOpCodes;null===Me&&(Me=i.hostBindingOpCodes=[]);const qe=~g.index;(function CT(i){let g=i.length;for(;g>0;){const y=i[--g];if("number"==typeof y&&y<0)return y}return 0})(Me)!=qe&&Me.push(qe),Me.push(y,O,le)}}(i,g,O,p0(i,y,X.hostVars,Li),X)}function vc(i,g,y,O,X,le){const Me=Lr(i,g);!function i1(i,g,y,O,X,le,Me){if(null==le)i.removeAttribute(g,X,y);else{const qe=null==Me?Xn(le):Me(le,O||"",X);i.setAttribute(g,X,qe,y)}}(g[ui],Me,le,i.value,y,O,X)}function zT(i,g,y,O,X,le){const Me=le[g];if(null!==Me)for(let qe=0;qe<Me.length;)i2(O,y,Me[qe++],Me[qe++],Me[qe++])}function i2(i,g,y,O,X){const le=G(null);try{const Me=i.inputTransforms;null!==Me&&Me.hasOwnProperty(O)&&(X=Me[O].call(g,X)),null!==i.setInput?i.setInput(g,X,y,O):g[O]=X}finally{G(le)}}function BT(i,g,y){let O=null,X=0;for(;X<y.length;){const le=y[X];if(0!==le)if(5!==le){if("number"==typeof le)break;if(i.hasOwnProperty(le)){null===O&&(O=[]);const Me=i[le];for(let qe=0;qe<Me.length;qe+=2)if(Me[qe]===g){O.push(le,Me[qe+1],y[X+1]);break}}X+=2}else X+=2;else X+=4}return O}function o2(i,g,y,O){return[i,!0,!1,g,null,0,O,y,null,null,null]}function a2(i,g){const y=i.contentQueries;if(null!==y)for(let O=0;O<y.length;O+=2){const le=y[O+1];if(-1!==le){const Me=i.data[le];mp(y[O]),Me.contentQueries(2,g[le],le)}}}function Qg(i,g){return i[Ca]?i[Go][aa]=g:i[Ca]=g,i[Go]=g,g}function o1(i,g,y){mp(0);const O=G(null);try{g(i,y)}finally{G(O)}}function s2(i){return i[Io]||(i[Io]=[])}function l2(i){return i.cleanup||(i.cleanup=[])}function c2(i,g){const y=i[wo],O=y?y.get(xh,null):null;O&&O.handleError(g)}function a1(i,g,y,O,X){for(let le=0;le<y.length;){const Me=y[le++],qe=y[le++];i2(i.data[Me],g[Me],O,qe,X)}}function Hc(i,g,y){const O=function Cr(i,g){return yr(g[i])}(g,i);!function Zp(i,g,y){i.setValue(g,y)}(i[ui],O,y)}function jT(i,g){const y=Er(g,i),O=y[Ur];!function UT(i,g){for(let y=g.length;y<i.blueprint.length;y++)g.push(i.blueprint[y])}(O,y);const X=y[ho];null!==X&&null===y[ts]&&(y[ts]=Ff(X,y[wo])),s1(O,y,y[Ci])}function s1(i,g,y){Fh(g);try{const O=i.viewQuery;null!==O&&o1(1,O,y);const X=i.template;null!==X&&Kx(i,g,X,1,y),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&a2(i,g),i.staticViewQueries&&o1(2,i.viewQuery,y);const le=i.components;null!==le&&function VT(i,g){for(let y=0;y<g.length;y++)jT(i,g[y])}(g,le)}catch(O){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),O}finally{g[li]&=-5,os()}}let f2=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(y,O,X){const le=typeof Zone>"u"?null:Zone.current,Me=new zt(y,ht=>{this.all.has(ht)&&this.queue.set(ht,le)},X);let qe;this.all.add(Me),Me.notify();const Qe=()=>{Me.cleanup(),qe?.(),this.all.delete(Me),this.queue.delete(Me)};return qe=O?.onDestroy(Qe),{destroy:Qe}}flush(){if(0!==this.queue.size)for(const[y,O]of this.queue)this.queue.delete(y),O?O.run(()=>y.run()):y.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=lr({token:i,providedIn:"root",factory:()=>new i}),i})();function em(i,g,y){let O=y?i.styles:null,X=y?i.classes:null,le=0;if(null!==g)for(let Me=0;Me<g.length;Me++){const qe=g[Me];"number"==typeof qe?le=qe:1==le?X=fr(X,qe):2==le&&(O=fr(O,qe+": "+g[++Me]+";"))}y?i.styles=O:i.stylesWithoutHost=O,y?i.classes=X:i.classesWithoutHost=X}function g0(i,g,y,O,X=!1){for(;null!==y;){const le=g[y.index];if(null!==le&&O.push(yr(le)),Vi(le)){for(let qe=lo;qe<le.length;qe++){const Qe=le[qe],ht=Qe[Ur].firstChild;null!==ht&&g0(Qe[Ur],Qe,ht,O)}le[Oa]!==le[ho]&&O.push(le[Oa])}const Me=y.type;if(8&Me)g0(i,g,y.child,O);else if(32&Me){const qe=fd(y,g);let Qe;for(;Qe=qe();)O.push(Qe)}else if(16&Me){const qe=Et(g,y);if(Array.isArray(qe))O.push(...qe);else{const Qe=ou(g[Ji]);g0(Qe[Ur],Qe,qe,O,!0)}}y=X?y.projectionNext:y.next}return O}function tm(i,g,y,O=!0){const X=g[Lo].rendererFactory;X.begin&&X.begin();try{h2(i,g,i.template,y)}catch(Me){throw O&&c2(g,Me),Me}finally{X.end&&X.end(),g[Lo].effectManager?.flush()}}function h2(i,g,y,O){const X=g[li];if(256!=(256&X)){g[Lo].effectManager?.flush(),Fh(g);try{Hi(g),function Gf(i){return Wr.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==y&&Kx(i,g,y,2,O);const Me=3==(3&X);if(Me){const ht=i.preOrderCheckHooks;null!==ht&&Uh(g,ht,null)}else{const ht=i.preOrderHooks;null!==ht&&Vh(g,ht,0,null),_p(g,0)}if(function ZT(i){for(let g=qp(i);null!==g;g=ta(g)){if(!g[ml])continue;const y=g[Ma];for(let O=0;O<y.length;O++){po(y[O])}}}(g),d2(g,2),null!==i.contentQueries&&a2(i,g),Me){const ht=i.contentCheckHooks;null!==ht&&Uh(g,ht)}else{const ht=i.contentHooks;null!==ht&&Vh(g,ht,1),_p(g,1)}!function mT(i,g){const y=i.hostBindingOpCodes;if(null===y)return;const O=Vx(g,Is);try{for(let X=0;X<y.length;X++){const le=y[X];if(le<0)kc(~le);else{const Me=le,qe=y[++X],Qe=y[++X];ag(qe,Me),O.runInContext(Qe,2,g[Me])}}}finally{null===g[Is]&&Hx(g,Is),kc(-1)}}(i,g);const qe=i.components;null!==qe&&g2(g,qe,0);const Qe=i.viewQuery;if(null!==Qe&&o1(2,Qe,O),Me){const ht=i.viewCheckHooks;null!==ht&&Uh(g,ht)}else{const ht=i.viewHooks;null!==ht&&Vh(g,ht,2),_p(g,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g[li]&=-73,uo(g)}finally{os()}}}function d2(i,g){for(let y=qp(i);null!==y;y=ta(y))for(let O=lo;O<y.length;O++)p2(y[O],g)}function YT(i,g,y){p2(Er(g,i),y)}function p2(i,g){if(!function Jr(i){return 128==(128&i[li])}(i))return;const y=i[Ur];if(80&i[li]&&0===g||1024&i[li]||2===g)h2(y,i,y.template,i[Ci]);else if(i[gs]>0){d2(i,1);const X=i[Ur].components;null!==X&&g2(i,X,1)}}function g2(i,g,y){for(let O=0;O<g.length;O++)YT(i,g[O],y)}class m0{get rootNodes(){const g=this._lView,y=g[Ur];return g0(y,g,y.firstChild,[])}constructor(g,y){this._lView=g,this._cdRefInjectingView=y,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ci]}set context(g){this._lView[Ci]=g}get destroyed(){return 256==(256&this._lView[li])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const g=this._lView[pi];if(Vi(g)){const y=g[8],O=y?y.indexOf(this):-1;O>-1&&(au(g,O),Kf(y,O))}this._attachedToViewContainer=!1}ah(this._lView[Ur],this._lView)}onDestroy(g){!function Mo(i,g){if(256==(256&i[li]))throw new An(911,!1);null===i[es]&&(i[es]=[]),i[es].push(g)}(this._lView,g)}markForCheck(){h0(this._cdRefInjectingView||this._lView)}detach(){this._lView[li]&=-129}reattach(){this._lView[li]|=128}detectChanges(){tm(this._lView[Ur],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new An(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Oc(i,g){dn(i,g,g[ui],2,null,null)}(this._lView[Ur],this._lView)}attachToAppRef(g){if(this._attachedToViewContainer)throw new An(902,!1);this._appRef=g}}class $T extends m0{constructor(g){super(g),this._view=g}detectChanges(){const g=this._view;tm(g[Ur],g,g[Ci],!1)}checkNoChanges(){}get context(){return null}}class m2 extends Zg{constructor(g){super(),this.ngModule=g}resolveComponentFactory(g){const y=Ai(g);return new v0(y,this.ngModule)}}function v2(i){const g=[];for(let y in i)i.hasOwnProperty(y)&&g.push({propName:i[y],templateName:y});return g}class KT{constructor(g,y){this.injector=g,this.parentInjector=y}get(g,y,O){O=$l(O);const X=this.injector.get(g,$v,O);return X!==$v||y===$v?X:this.parentInjector.get(g,y,O)}}class v0 extends hu{get inputs(){return v2(this.componentDef.inputs)}get outputs(){return v2(this.componentDef.outputs)}constructor(g,y){super(),this.componentDef=g,this.ngModule=y,this.componentType=g.type,this.selector=function vu(i){return i.map(ic).join(",")}(g.selectors),this.ngContentSelectors=g.ngContentSelectors?g.ngContentSelectors:[],this.isBoundToModule=!!y}create(g,y,O,X){let le=(X=X||this.ngModule)instanceof Gl?X:X?.injector;le&&null!==this.componentDef.getStandaloneInjector&&(le=this.componentDef.getStandaloneInjector(le)||le);const Me=le?new KT(g,le):g,qe=Me.get(Lx,null);if(null===qe)throw new An(407,!1);const Lt={rendererFactory:qe,sanitizer:Me.get(tT,null),effectManager:Me.get(f2,null)},Yt=qe.createRenderer(null,this.componentDef),Mn=this.componentDef.selectors[0][0]||"div",zn=O?function yT(i,g,y,O){const le=O.get(Rx,!1)||y===Jo.ShadowDom,Me=i.selectRootElement(g,le);return function xT(i){Qx(i)}(Me),Me}(Yt,O,this.componentDef.encapsulation,Me):oh(Yt,Mn,function XT(i){const g=i.toLowerCase();return"svg"===g?"svg":"math"===g?"math":null}(Mn)),Ir=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Fr=t1(0,null,null,1,0,null,null,null,null,null,null),_r=Jg(null,Fr,null,Ir,null,null,Lt,Yt,Me,null,null);let gi,Di;Fh(_r);try{const Bi=this.componentDef;let hl,lv=null;Bi.findHostDirectiveDefs?(hl=[],lv=new Map,Bi.findHostDirectiveDefs(Bi,hl,lv),hl.push(Bi)):hl=[Bi];const z9=function QT(i,g){const y=i[Ur],O=xi;return i[O]=g,jd(y,O,2,"#host",null)}(_r,zn),B9=function e4(i,g,y,O,X,le,Me){const qe=X[Ur];!function t4(i,g,y,O){for(const X of i)g.mergedAttrs=ds(g.mergedAttrs,X.hostAttrs);null!==g.mergedAttrs&&(em(g,g.mergedAttrs,!0),null!==y&&cr(O,y,g))}(O,i,g,Me);let Qe=null;null!==g&&(Qe=Ff(g,X[wo]));const ht=le.rendererFactory.createRenderer(g,y);let Lt=16;y.signals?Lt=4096:y.onPush&&(Lt=64);const Yt=Jg(X,Jx(y),null,Lt,X[i.index],i,le,ht,null,null,Qe);return qe.firstCreatePass&&r1(qe,i,O.length-1),Qg(X,Yt),X[i.index]=Yt}(z9,zn,Bi,hl,_r,Lt,Yt);Di=Qn(Fr,xi),zn&&function r4(i,g,y,O){if(O)qa(i,y,["ng-version",nT.full]);else{const{attrs:X,classes:le}=function rl(i){const g=[],y=[];let O=1,X=2;for(;O<i.length;){let le=i[O];if("string"==typeof le)2===X?""!==le&&g.push(le,i[++O]):8===X&&y.push(le);else{if(!Ea(X))break;X=le}O++}return{attrs:g,classes:y}}(g.selectors[0]);X&&qa(i,y,X),le&&le.length>0&&tr(i,y,le.join(" "))}}(Yt,Bi,zn,O),void 0!==y&&function i4(i,g,y){const O=i.projection=[];for(let X=0;X<g.length;X++){const le=y[X];O.push(null!=le?Array.from(le):null)}}(Di,this.ngContentSelectors,y),gi=function n4(i,g,y,O,X,le){const Me=Ba(),qe=X[Ur],Qe=Lr(Me,X);n2(qe,X,Me,y,null,O);for(let Lt=0;Lt<y.length;Lt++)Rs(Vl(X,qe,Me.directiveStart+Lt,Me),X);r2(qe,X,Me),Qe&&Rs(Qe,X);const ht=Vl(X,qe,Me.directiveStart+Me.componentOffset,Me);if(i[Ci]=X[Ci]=ht,null!==le)for(const Lt of le)Lt(ht,g);return Jv(qe,Me,i),ht}(B9,Bi,hl,lv,_r,[o4]),s1(Fr,_r,null)}finally{os()}return new JT(this.componentType,gi,zd(Di,_r),_r,Di)}}class JT extends Yv{constructor(g,y,O,X,le){super(),this.location=O,this._rootLView=X,this._tNode=le,this.previousInputValues=null,this.instance=y,this.hostView=this.changeDetectorRef=new $T(X),this.componentType=g}setInput(g,y){const O=this._tNode.inputs;let X;if(null!==O&&(X=O[g])){if(this.previousInputValues??=new Map,this.previousInputValues.has(g)&&Object.is(this.previousInputValues.get(g),y))return;const le=this._rootLView;a1(le[Ur],le,X,g,y),this.previousInputValues.set(g,y),h0(Er(this._tNode.index,le))}}get injector(){return new Ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(g){this.hostView.onDestroy(g)}}function o4(){const i=Ba();jh(xr()[Ur],i)}function rm(i){return!!l1(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function l1(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function cl(i,g,y){return!Object.is(i[g],y)&&(i[g]=y,!0)}function om(i,g,y,O){const X=xr();return cl(X,Qc(),g)&&(si(),vc(ha(),X,i,g,y,O)),om}function p1(i,g,y,O,X,le,Me,qe){const Qe=xr(),ht=si(),Lt=i+xi,Yt=ht.firstCreatePass?function O4(i,g,y,O,X,le,Me,qe,Qe){const ht=g.consts,Lt=jd(g,i,4,Me||null,bi(ht,qe));n1(g,y,Lt,bi(ht,Qe)),jh(g,Lt);const Yt=Lt.tView=t1(2,Lt,O,X,le,g.directiveRegistry,g.pipeRegistry,null,g.schemas,ht,null);return null!==g.queries&&(g.queries.template(g,Lt),Yt.queries=g.queries.embeddedTView(Lt)),Lt}(Lt,ht,Qe,g,y,O,X,le,Me):ht.data[Lt];Xs(Yt,!1);const Mn=F2(ht,Qe,Yt,i);ac()&&ot(ht,Qe,Mn,Yt),Rs(Mn,Qe),Qg(Qe,Qe[Lt]=o2(Mn,Qe,Mn,Yt)),Po(Yt)&&Qv(ht,Qe,Yt),null!=Me&&e1(Qe,Yt,qe)}let F2=function N2(i,g,y,O){return sc(!0),g[ui].createComment("")};function _h(i,g,y){const O=xr();return cl(O,Qc(),g)&&function du(i,g,y,O,X,le,Me,qe){const Qe=Lr(g,y);let Lt,ht=g.inputs;!qe&&null!=ht&&(Lt=ht[O])?(a1(i,y,Lt,O,X),ns(g)&&function kT(i,g){const y=Er(g,i);16&y[li]||(y[li]|=64)}(y,g.index)):3&g.type&&(O=function AT(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(O),X=null!=Me?Me(X,g.value||"",O):X,le.setProperty(Qe,O,X))}(si(),ha(),O,i,g,O[ui],y,!1),_h}function g1(i,g,y,O,X){const Me=X?"class":"style";a1(i,y,g.inputs[Me],Me,O)}function qu(i,g,y,O){const X=xr(),le=si(),Me=xi+i,qe=X[ui],Qe=le.firstCreatePass?function B4(i,g,y,O,X,le){const Me=g.consts,Qe=jd(g,i,2,O,bi(Me,X));return n1(g,y,Qe,bi(Me,le)),null!==Qe.attrs&&em(Qe,Qe.attrs,!1),null!==Qe.mergedAttrs&&em(Qe,Qe.mergedAttrs,!0),null!==g.queries&&g.queries.elementStart(g,Qe),Qe}(Me,le,X,g,y,O):le.data[Me],ht=z2(le,X,Qe,qe,g,i);X[Me]=ht;const Lt=Po(Qe);return Xs(Qe,!0),cr(qe,ht,Qe),32!=(32&Qe.flags)&&ac()&&ot(le,X,ht,Qe),0===function ki(){return Wr.lFrame.elementDepthCount}()&&Rs(ht,X),function go(){Wr.lFrame.elementDepthCount++}(),Lt&&(Qv(le,X,Qe),Jv(le,Qe,X)),null!==O&&e1(X,Qe),qu}function Wu(){let i=Ba();Mc()?Fu():(i=i.parent,Xs(i,!1));const g=i;(function Ao(i){return Wr.skipHydrationRootTNode===i})(g)&&function is(){Wr.skipHydrationRootTNode=null}(),function io(){Wr.lFrame.elementDepthCount--}();const y=si();return y.firstCreatePass&&(jh(y,i),Gs(i)&&y.queries.elementEnd(i)),null!=g.classesWithoutHost&&function qh(i){return 0!=(8&i.flags)}(g)&&g1(y,g,xr(),g.classesWithoutHost,!0),null!=g.stylesWithoutHost&&function Zf(i){return 0!=(16&i.flags)}(g)&&g1(y,g,xr(),g.stylesWithoutHost,!1),Wu}function Xd(i,g,y,O){return qu(i,g,y,O),Wu(),Xd}let z2=(i,g,y,O,X,le)=>(sc(!0),oh(O,X,function bp(){return Wr.lFrame.currentNamespace}()));function um(i){return!!i&&"function"==typeof i.then}function U2(i){return!!i&&"function"==typeof i.subscribe}function cm(i,g,y,O){const X=xr(),le=si(),Me=Ba();return function H2(i,g,y,O,X,le,Me){const qe=Po(O),ht=i.firstCreatePass&&l2(i),Lt=g[Ci],Yt=s2(g);let Mn=!0;if(3&O.type||Me){const br=Lr(O,g),Ir=Me?Me(br):br,Fr=Yt.length,_r=Me?Di=>Me(yr(Di[O.index])):O.index;let gi=null;if(!Me&&qe&&(gi=function W4(i,g,y,O){const X=i.cleanup;if(null!=X)for(let le=0;le<X.length-1;le+=2){const Me=X[le];if(Me===y&&X[le+1]===O){const qe=g[Io],Qe=X[le+2];return qe.length>Qe?qe[Qe]:null}"string"==typeof Me&&(le+=2)}return null}(i,g,X,O.index)),null!==gi)(gi.__ngLastListenerFn__||gi).__ngNextListenerFn__=le,gi.__ngLastListenerFn__=le,Mn=!1;else{le=q2(O,g,Lt,le,!1);const Di=y.listen(Ir,X,le);Yt.push(le,Di),ht&&ht.push(X,_r,Fr,Fr+1)}}else le=q2(O,g,Lt,le,!1);const zn=O.outputs;let nr;if(Mn&&null!==zn&&(nr=zn[X])){const br=nr.length;if(br)for(let Ir=0;Ir<br;Ir+=2){const Bi=g[nr[Ir]][nr[Ir+1]].subscribe(le),hl=Yt.length;Yt.push(le,Bi),ht&&ht.push(X,O.index,hl,-(hl+1))}}}(le,X,X[ui],Me,i,g,O),cm}function G2(i,g,y,O){try{return Yn(6,g,y),!1!==y(O)}catch(X){return c2(i,X),!1}finally{Yn(7,g,y)}}function q2(i,g,y,O,X){return function le(Me){if(Me===Function)return O;h0(i.componentOffset>-1?Er(i.index,g):g);let Qe=G2(g,y,O,Me),ht=le.__ngNextListenerFn__;for(;ht;)Qe=G2(g,y,ht,Me)&&Qe,ht=ht.__ngNextListenerFn__;return X&&!1===Qe&&Me.preventDefault(),Qe}}function y1(i=1){return function fv(i){return(Wr.lFrame.contextLView=function sg(i,g){for(;i>0;)g=g[Qo],i--;return g}(i,Wr.lFrame.contextLView))[Ci]}(i)}function Z4(i,g){let y=null;const O=function nl(i){const g=i.attrs;if(null!=g){const y=g.indexOf(5);if(!(1&y))return g[y+1]}return null}(i);for(let X=0;X<g.length;X++){const le=g[X];if("*"!==le){if(null===O?Ss(i,le,!0):ps(O,le))return X}else y=X}return y}function T0(i,g=""){const y=xr(),O=si(),X=i+xi,le=O.firstCreatePass?jd(O,X,1,g,null):O.data[X],Me=yb(O,y,le,g,i);y[X]=Me,ac()&&ot(O,y,Me,le),Xs(le,!1)}let yb=(i,g,y,O,X)=>(sc(!0),function ih(i,g){return i.createText(g)}(g[ui],O));function dm(i){return M1("",i,""),dm}function M1(i,g,y){const O=xr(),X=function Vd(i,g,y,O){return cl(i,Qc(),y)?g+Xn(y)+O:Li}(O,i,g,y);return X!==Li&&Hc(O,Ks(),X),M1}const Qd="en-US";let jb=Qd;function S1(i,g,y,O,X){if(i=rn(i),Array.isArray(i))for(let le=0;le<i.length;le++)S1(i[le],g,y,O,X);else{const le=si(),Me=xr();let qe=_s(i)?i:rn(i.provide),Qe=n0(i);const ht=Ba(),Lt=1048575&ht.providerIndexes,Yt=ht.directiveStart,Mn=ht.providerIndexes>>20;if(_s(i)||!i.multi){const zn=new Wf(Qe,X,di),nr=C1(qe,g,X?Lt:Lt+Mn,Yt);-1===nr?(Kh($h(ht,Me),le,qe),E1(le,i,g.length),g.push(qe),ht.directiveStart++,ht.directiveEnd++,X&&(ht.providerIndexes+=1048576),y.push(zn),Me.push(zn)):(y[nr]=zn,Me[nr]=zn)}else{const zn=C1(qe,g,Lt+Mn,Yt),nr=C1(qe,g,Lt,Lt+Mn),Ir=nr>=0&&y[nr];if(X&&!Ir||!X&&!(zn>=0&&y[zn])){Kh($h(ht,Me),le,qe);const Fr=function RA(i,g,y,O,X){const le=new Wf(i,y,di);return le.multi=[],le.index=g,le.componentProviders=0,f_(le,X,O&&!y),le}(X?OA:PA,y.length,X,O,Qe);!X&&Ir&&(y[nr].providerFactory=Fr),E1(le,i,g.length,0),g.push(qe),ht.directiveStart++,ht.directiveEnd++,X&&(ht.providerIndexes+=1048576),y.push(Fr),Me.push(Fr)}else E1(le,i,zn>-1?zn:nr,f_(y[X?nr:zn],Qe,!X&&O));!X&&O&&Ir&&y[nr].componentProviders++}}}function E1(i,g,y,O){const X=_s(g),le=function Hv(i){return!!i.useClass}(g);if(X||le){const Qe=(le?rn(g.useClass):g).prototype.ngOnDestroy;if(Qe){const ht=i.destroyHooks||(i.destroyHooks=[]);if(!X&&g.multi){const Lt=ht.indexOf(y);-1===Lt?ht.push(y,[O,Qe]):ht[Lt+1].push(O,Qe)}else ht.push(y,Qe)}}}function f_(i,g,y){return y&&i.componentProviders++,i.multi.push(g)-1}function C1(i,g,y,O){for(let X=y;X<O;X++)if(g[X]===i)return X;return-1}function PA(i,g,y,O){return D1(this.multi,[])}function OA(i,g,y,O){const X=this.multi;let le;if(this.providerFactory){const Me=this.providerFactory.componentProviders,qe=Vl(y,y[Ur],this.providerFactory.index,O);le=qe.slice(0,Me),D1(X,le);for(let Qe=Me;Qe<qe.length;Qe++)le.push(qe[Qe])}else le=[],D1(X,le);return le}function D1(i,g){for(let y=0;y<i.length;y++)g.push((0,i[y])());return g}function h_(i,g=[]){return y=>{y.providersResolver=(O,X)=>function LA(i,g,y){const O=si();if(O.firstCreatePass){const X=Mi(i);S1(y,O.data,O.blueprint,X,!0),S1(g,O.data,O.blueprint,X,!1)}}(O,X?X(i):i,g)}}class ep{}class d_{}class I1 extends ep{constructor(g,y,O){super(),this._parent=y,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new m2(this);const X=Ho(g);this._bootstrapComponents=Vc(X.bootstrap),this._r3Injector=$x(g,y,[{provide:ep,useValue:this},{provide:Zg,useValue:this.componentFactoryResolver},...O],hr(g),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(g)}get injector(){return this._r3Injector}destroy(){const g=this._r3Injector;!g.destroyed&&g.destroy(),this.destroyCbs.forEach(y=>y()),this.destroyCbs=null}onDestroy(g){this.destroyCbs.push(g)}}class L1 extends d_{constructor(g){super(),this.moduleType=g}create(g){return new I1(this.moduleType,g,[])}}class p_ extends ep{constructor(g){super(),this.componentFactoryResolver=new m2(this),this.instance=null;const y=new Bc([...g.providers,{provide:ep,useValue:this},{provide:Zg,useValue:this.componentFactoryResolver}],g.parent||Ml(),g.debugName,new Set(["environment"]));this.injector=y,g.runEnvironmentInitializers&&y.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(g){this.injector.onDestroy(g)}}function P1(i,g,y=null){return new p_({providers:i,parent:g,debugName:y,runEnvironmentInitializers:!0}).injector}let zA=(()=>{class i{constructor(y){this._injector=y,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(y){if(!y.standalone)return null;if(!this.cachedInjectors.has(y.id)){const O=Td(0,y.type),X=O.length>0?P1([O],this._injector,`Standalone[${y.type.name}]`):null;this.cachedInjectors.set(y.id,X)}return this.cachedInjectors.get(y.id)}ngOnDestroy(){try{for(const y of this.cachedInjectors.values())null!==y&&y.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=lr({token:i,providedIn:"environment",factory:()=>new i(ti(Gl))}),i})();function g_(i){i.getStandaloneInjector=g=>g.get(zA).getOrCreateStandaloneInjector(i)}function w_(i,g,y,O){return function T_(i,g,y,O,X,le){const Me=g+y;return cl(i,Me,X)?function yc(i,g,y){return i[g]=y}(i,Me+1,le?O.call(le,X):O(X)):function C0(i,g){const y=i[g];return y===Li?void 0:y}(i,Me+1)}(xr(),function Ya(){const i=Wr.lFrame;let g=i.bindingRootIndex;return-1===g&&(g=i.bindingRootIndex=i.tView.bindingStartIndex),g}(),i,g,y,O)}function R1(i){return g=>{setTimeout(i,void 0,g)}}const vi=class u6 extends W{constructor(g=!1){super(),this.__isAsync=g}emit(g){super.next(g)}subscribe(g,y,O){let X=g,le=y||(()=>null),Me=O;if(g&&"object"==typeof g){const Qe=g;X=Qe.next?.bind(Qe),le=Qe.error?.bind(Qe),Me=Qe.complete?.bind(Qe)}this.__isAsync&&(le=R1(le),X&&(X=R1(X)),Me&&(Me=R1(Me)));const qe=super.subscribe({next:X,error:le,complete:Me});return g instanceof C&&g.add(qe),qe}};function c6(){return this._results[Symbol.iterator]()}class F1{get changes(){return this._changes||(this._changes=new vi)}constructor(g=!1){this._emitDistinctChangesOnly=g,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const y=F1.prototype;y[Symbol.iterator]||(y[Symbol.iterator]=c6)}get(g){return this._results[g]}map(g){return this._results.map(g)}filter(g){return this._results.filter(g)}find(g){return this._results.find(g)}reduce(g,y){return this._results.reduce(g,y)}forEach(g){this._results.forEach(g)}some(g){return this._results.some(g)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(g,y){const O=this;O.dirty=!1;const X=function Ii(i){return i.flat(Number.POSITIVE_INFINITY)}(g);(this._changesDetected=!function td(i,g,y){if(i.length!==g.length)return!1;for(let O=0;O<i.length;O++){let X=i[O],le=g[O];if(y&&(X=y(X),le=y(le)),le!==X)return!1}return!0}(O._results,X,y))&&(O._results=X,O.length=X.length,O.last=X[this.length-1],O.first=X[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gc=(()=>{class i{}return i.__NG_ELEMENT_ID__=d6,i})();const f6=Gc,h6=class extends f6{constructor(g,y,O){super(),this._declarationLView=g,this._declarationTContainer=y,this.elementRef=O}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(g,y){return this.createEmbeddedViewImpl(g,y,null)}createEmbeddedViewImpl(g,y,O){const Me=this._declarationTContainer.tView,qe=Jg(this._declarationLView,Me,g,4096&this._declarationLView[li]?4096:16,null,Me.declTNode,null,null,null,y||null,O||null);qe[al]=this._declarationLView[this._declarationTContainer.index];const ht=this._declarationLView[so];return null!==ht&&(qe[so]=ht.createEmbeddedView(Me)),s1(Me,qe,g),new m0(qe)}};function d6(){return ym(Ba(),xr())}function ym(i,g){return 4&i.type?new h6(g,i,zd(i,g)):null}let $u=(()=>{class i{}return i.__NG_ELEMENT_ID__=b6,i})();function b6(){return P_(Ba(),xr())}const _6=$u,I_=class extends _6{constructor(g,y,O){super(),this._lContainer=g,this._hostTNode=y,this._hostLView=O}get element(){return zd(this._hostTNode,this._hostLView)}get injector(){return new Ps(this._hostTNode,this._hostLView)}get parentInjector(){const g=Xh(this._hostTNode,this._hostLView);if(tf(g)){const y=Wh(g,this._hostLView),O=nf(g);return new Ps(y[Ur].data[O+8],y)}return new Ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(g){const y=L_(this._lContainer);return null!==y&&y[g]||null}get length(){return this._lContainer.length-lo}createEmbeddedView(g,y,O){let X,le;"number"==typeof O?X=O:null!=O&&(X=O.index,le=O.injector);const qe=g.createEmbeddedViewImpl(y||{},le,null);return this.insertImpl(qe,X,false),qe}createComponent(g,y,O,X,le){const Me=g&&!function uf(i){return"function"==typeof i}(g);let qe;if(Me)qe=y;else{const br=y||{};qe=br.index,O=br.injector,X=br.projectableNodes,le=br.environmentInjector||br.ngModuleRef}const Qe=Me?g:new v0(Ai(g)),ht=O||this.parentInjector;if(!le&&null==Qe.ngModule){const Ir=(Me?ht:this.parentInjector).get(Gl,null);Ir&&(le=Ir)}Ai(Qe.componentType??{});const zn=Qe.create(ht,X,null,le);return this.insertImpl(zn.hostView,qe,false),zn}insert(g,y){return this.insertImpl(g,y,!1)}insertImpl(g,y,O){const X=g._lView,le=X[Ur];if(function ci(i){return Vi(i[pi])}(X)){const Qe=this.indexOf(g);if(-1!==Qe)this.detach(Qe);else{const ht=X[pi],Lt=new I_(ht,ht[Oi],ht[pi]);Lt.detach(Lt.indexOf(g))}}const Me=this._adjustIndex(y),qe=this._lContainer;if(function Fg(i,g,y,O){const X=lo+O,le=y.length;O>0&&(y[X-1][aa]=g),O<le-lo?(g[aa]=y[X],Lp(y,lo+O,g)):(y.push(g),g[aa]=null),g[pi]=y;const Me=g[al];null!==Me&&y!==Me&&function pa(i,g){const y=i[Ma];g[Ji]!==g[pi][pi][Ji]&&(i[ml]=!0),null===y?i[Ma]=[g]:y.push(g)}(Me,g);const qe=g[so];null!==qe&&qe.insertView(i),g[li]|=128}(le,X,qe,Me),!O){const Qe=Dt(Me,qe),ht=X[ui],Lt=D(ht,qe[Oa]);null!==Lt&&function Yp(i,g,y,O,X,le){O[ho]=X,O[Oi]=g,dn(i,O,y,1,X,le)}(le,qe[Oi],ht,X,Lt,Qe)}return g.attachToViewContainerRef(),Lp(z1(qe),Me,g),g}move(g,y){return this.insert(g,y)}indexOf(g){const y=L_(this._lContainer);return null!==y?y.indexOf(g):-1}remove(g){const y=this._adjustIndex(g,-1),O=au(this._lContainer,y);O&&(Kf(z1(this._lContainer),y),ah(O[Ur],O))}detach(g){const y=this._adjustIndex(g,-1),O=au(this._lContainer,y);return O&&null!=Kf(z1(this._lContainer),y)?new m0(O):null}_adjustIndex(g,y=0){return g??this.length+y}};function L_(i){return i[8]}function z1(i){return i[8]||(i[8]=[])}function P_(i,g){let y;const O=g[i.index];return Vi(O)?y=O:(y=o2(O,g,null,i),g[i.index]=y,Qg(g,y)),O_(y,g,i,O),new I_(y,i,g)}let O_=function R_(i,g,y,O){if(i[Oa])return;let X;X=8&y.type?yr(O):function w6(i,g){const y=i[ui],O=y.createComment(""),X=Lr(g,i);return fc(y,D(y,X),O,function F(i,g){return i.nextSibling(g)}(y,X),!1),O}(g,y),i[Oa]=X};class B1{constructor(g){this.queryList=g,this.matches=null}clone(){return new B1(this.queryList)}setDirty(){this.queryList.setDirty()}}class j1{constructor(g=[]){this.queries=g}createEmbeddedView(g){const y=g.queries;if(null!==y){const O=null!==g.contentQueries?g.contentQueries[0]:y.length,X=[];for(let le=0;le<O;le++){const Me=y.getByIndex(le);X.push(this.queries[Me.indexInDeclarationView].clone())}return new j1(X)}return null}insertView(g){this.dirtyQueriesWithMatches(g)}detachView(g){this.dirtyQueriesWithMatches(g)}dirtyQueriesWithMatches(g){for(let y=0;y<this.queries.length;y++)null!==V_(g,y).matches&&this.queries[y].setDirty()}}class F_{constructor(g,y,O=null){this.predicate=g,this.flags=y,this.read=O}}class U1{constructor(g=[]){this.queries=g}elementStart(g,y){for(let O=0;O<this.queries.length;O++)this.queries[O].elementStart(g,y)}elementEnd(g){for(let y=0;y<this.queries.length;y++)this.queries[y].elementEnd(g)}embeddedTView(g){let y=null;for(let O=0;O<this.length;O++){const X=null!==y?y.length:0,le=this.getByIndex(O).embeddedTView(g,X);le&&(le.indexInDeclarationView=O,null!==y?y.push(le):y=[le])}return null!==y?new U1(y):null}template(g,y){for(let O=0;O<this.queries.length;O++)this.queries[O].template(g,y)}getByIndex(g){return this.queries[g]}get length(){return this.queries.length}track(g){this.queries.push(g)}}class V1{constructor(g,y=-1){this.metadata=g,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=y}elementStart(g,y){this.isApplyingToNode(y)&&this.matchTNode(g,y)}elementEnd(g){this._declarationNodeIndex===g.index&&(this._appliesToNextNode=!1)}template(g,y){this.elementStart(g,y)}embeddedTView(g,y){return this.isApplyingToNode(g)?(this.crossesNgTemplate=!0,this.addMatch(-g.index,y),new V1(this.metadata)):null}isApplyingToNode(g){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const y=this._declarationNodeIndex;let O=g.parent;for(;null!==O&&8&O.type&&O.index!==y;)O=O.parent;return y===(null!==O?O.index:-1)}return this._appliesToNextNode}matchTNode(g,y){const O=this.metadata.predicate;if(Array.isArray(O))for(let X=0;X<O.length;X++){const le=O[X];this.matchTNodeWithReadOption(g,y,A6(y,le)),this.matchTNodeWithReadOption(g,y,Jh(y,g,le,!1,!1))}else O===Gc?4&y.type&&this.matchTNodeWithReadOption(g,y,-1):this.matchTNodeWithReadOption(g,y,Jh(y,g,O,!1,!1))}matchTNodeWithReadOption(g,y,O){if(null!==O){const X=this.metadata.read;if(null!==X)if(X===Nf||X===$u||X===Gc&&4&y.type)this.addMatch(y.index,-2);else{const le=Jh(y,g,X,!1,!1);null!==le&&this.addMatch(y.index,le)}else this.addMatch(y.index,O)}}addMatch(g,y){null===this.matches?this.matches=[g,y]:this.matches.push(g,y)}}function A6(i,g){const y=i.localNames;if(null!==y)for(let O=0;O<y.length;O+=2)if(y[O]===g)return y[O+1];return null}function S6(i,g,y,O){return-1===y?function k6(i,g){return 11&i.type?zd(i,g):4&i.type?ym(i,g):null}(g,i):-2===y?function E6(i,g,y){return y===Nf?zd(g,i):y===Gc?ym(g,i):y===$u?P_(g,i):void 0}(i,g,O):Vl(i,i[Ur],y,g)}function N_(i,g,y,O){const X=g[so].queries[O];if(null===X.matches){const le=i.data,Me=y.matches,qe=[];for(let Qe=0;Qe<Me.length;Qe+=2){const ht=Me[Qe];qe.push(ht<0?null:S6(g,le[ht],Me[Qe+1],y.metadata.read))}X.matches=qe}return X.matches}function H1(i,g,y,O){const X=i.queries.getByIndex(y),le=X.matches;if(null!==le){const Me=N_(i,g,X,y);for(let qe=0;qe<le.length;qe+=2){const Qe=le[qe];if(Qe>0)O.push(Me[qe/2]);else{const ht=le[qe+1],Lt=g[-Qe];for(let Yt=lo;Yt<Lt.length;Yt++){const Mn=Lt[Yt];Mn[al]===Mn[pi]&&H1(Mn[Ur],Mn,ht,O)}if(null!==Lt[Ma]){const Yt=Lt[Ma];for(let Mn=0;Mn<Yt.length;Mn++){const zn=Yt[Mn];H1(zn[Ur],zn,ht,O)}}}}}return O}function G1(i){const g=xr(),y=si(),O=qf();mp(O+1);const X=V_(y,O);if(i.dirty&&function jr(i){return 4==(4&i[li])}(g)===(2==(2&X.metadata.flags))){if(null===X.matches)i.reset([]);else{const le=X.crossesNgTemplate?H1(y,g,O,[]):N_(y,g,X,O);i.reset(le,Q5),i.notifyOnChanges()}return!0}return!1}function z_(i,g,y){const O=si();O.firstCreatePass&&(function U_(i,g,y){null===i.queries&&(i.queries=new U1),i.queries.track(new V1(g,y))}(O,new F_(i,g,y),-1),2==(2&g)&&(O.staticViewQueries=!0)),function j_(i,g,y){const O=new F1(4==(4&y));(function wT(i,g,y,O){const X=s2(g);X.push(y),i.firstCreatePass&&l2(i).push(O,X.length-1)})(i,g,O,O.destroy),null===g[so]&&(g[so]=new j1),g[so].queries.push(new B1(O))}(O,xr(),g)}function V_(i,g){return i.queries.getByIndex(g)}const bm=new ai("Application Initializer");let K1=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,O)=>{this.resolve=y,this.reject=O}),this.appInits=qr(bm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const y=[];for(const X of this.appInits){const le=X();if(um(le))y.push(le);else if(U2(le)){const Me=new Promise((qe,Qe)=>{le.subscribe({complete:qe,error:Qe})});y.push(Me)}}const O=()=>{this.done=!0,this.resolve()};Promise.all(y).then(()=>{O()}).catch(X=>{this.reject(X)}),0===y.length&&O(),this.initialized=!0}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ow=(()=>{class i{log(y){console.log(y)}warn(y){console.warn(y)}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const qc=new ai("LocaleId",{providedIn:"root",factory:()=>qr(qc,$r.Optional|$r.SkipSelf)||function J6(){return typeof $localize<"u"&&$localize.locale||Qd}()});let aw=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new U(!1)}add(){this.hasPendingTasks.next(!0);const y=this.taskId++;return this.pendingTasks.add(y),y}remove(y){this.pendingTasks.delete(y),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class e8{constructor(g,y){this.ngModuleFactory=g,this.componentFactories=y}}let sw=(()=>{class i{compileModuleSync(y){return new L1(y)}compileModuleAsync(y){return Promise.resolve(this.compileModuleSync(y))}compileModuleAndAllComponentsSync(y){const O=this.compileModuleSync(y),le=Vc(Ho(y).declarations).reduce((Me,qe)=>{const Qe=Ai(qe);return Qe&&Me.push(new v0(Qe)),Me},[]);return new e8(O,le)}compileModuleAndAllComponentsAsync(y){return Promise.resolve(this.compileModuleAndAllComponentsSync(y))}clearCache(){}clearCacheFor(y){}getModuleId(y){}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function cw(...i){}class Sa{constructor({enableLongStackTrace:g=!1,shouldCoalesceEventChangeDetection:y=!1,shouldCoalesceRunChangeDetection:O=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vi(!1),this.onMicrotaskEmpty=new vi(!1),this.onStable=new vi(!1),this.onError=new vi(!1),typeof Zone>"u")throw new An(908,!1);Zone.assertZonePatched();const X=this;X._nesting=0,X._outer=X._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(X._inner=X._inner.fork(new Zone.TaskTrackingZoneSpec)),g&&Zone.longStackTraceZoneSpec&&(X._inner=X._inner.fork(Zone.longStackTraceZoneSpec)),X.shouldCoalesceEventChangeDetection=!O&&y,X.shouldCoalesceRunChangeDetection=O,X.lastRequestAnimationFrameId=-1,X.nativeRequestAnimationFrame=function r8(){let i=Pi.requestAnimationFrame,g=Pi.cancelAnimationFrame;if(typeof Zone<"u"&&i&&g){const y=i[Zone.__symbol__("OriginalDelegate")];y&&(i=y);const O=g[Zone.__symbol__("OriginalDelegate")];O&&(g=O)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:g}}().nativeRequestAnimationFrame,function a8(i){const g=()=>{!function o8(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Pi,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Q1(i),i.isCheckStableRunning=!0,J1(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Q1(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(y,O,X,le,Me,qe)=>{try{return fw(i),y.invokeTask(X,le,Me,qe)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===le.type||i.shouldCoalesceRunChangeDetection)&&g(),hw(i)}},onInvoke:(y,O,X,le,Me,qe,Qe)=>{try{return fw(i),y.invoke(X,le,Me,qe,Qe)}finally{i.shouldCoalesceRunChangeDetection&&g(),hw(i)}},onHasTask:(y,O,X,le)=>{y.hasTask(X,le),O===X&&("microTask"==le.change?(i._hasPendingMicrotasks=le.microTask,Q1(i),J1(i)):"macroTask"==le.change&&(i.hasPendingMacrotasks=le.macroTask))},onHandleError:(y,O,X,le)=>(y.handleError(X,le),i.runOutsideAngular(()=>i.onError.emit(le)),!1)})}(X)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sa.isInAngularZone())throw new An(909,!1)}static assertNotInAngularZone(){if(Sa.isInAngularZone())throw new An(909,!1)}run(g,y,O){return this._inner.run(g,y,O)}runTask(g,y,O,X){const le=this._inner,Me=le.scheduleEventTask("NgZoneEvent: "+X,g,i8,cw,cw);try{return le.runTask(Me,y,O)}finally{le.cancelTask(Me)}}runGuarded(g,y,O){return this._inner.runGuarded(g,y,O)}runOutsideAngular(g){return this._outer.run(g)}}const i8={};function J1(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Q1(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function fw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function hw(i){i._nesting--,J1(i)}class s8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vi,this.onMicrotaskEmpty=new vi,this.onStable=new vi,this.onError=new vi}run(g,y,O){return g.apply(y,O)}runGuarded(g,y,O){return g.apply(y,O)}runOutsideAngular(g){return g()}runTask(g,y,O,X){return g.apply(y,O)}}const dw=new ai("",{providedIn:"root",factory:pw});function pw(){const i=qr(Sa);let g=!0;return En(new P(X=>{g=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{X.next(g),X.complete()})}),new P(X=>{let le;i.runOutsideAngular(()=>{le=i.onStable.subscribe(()=>{Sa.assertNotInAngularZone(),queueMicrotask(()=>{!g&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(g=!0,X.next(!0))})})});const Me=i.onUnstable.subscribe(()=>{Sa.assertInAngularZone(),g&&(g=!1,i.runOutsideAngular(()=>{X.next(!1)}))});return()=>{le.unsubscribe(),Me.unsubscribe()}}).pipe(Un()))}const gw=new ai(""),_m=new ai("");let ny,ey=(()=>{class i{constructor(y,O,X){this._ngZone=y,this.registry=O,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ny||(function l8(i){ny=i}(X),X.addToWindow(O)),this._watchAngularEvents(),y.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sa.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let y=this._callbacks.pop();clearTimeout(y.timeoutId),y.doneCb(this._didWork)}this._didWork=!1});else{let y=this.getPendingTasks();this._callbacks=this._callbacks.filter(O=>!O.updateCb||!O.updateCb(y)||(clearTimeout(O.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(y=>({source:y.source,creationLocation:y.creationLocation,data:y.data})):[]}addCallback(y,O,X){let le=-1;O&&O>0&&(le=setTimeout(()=>{this._callbacks=this._callbacks.filter(Me=>Me.timeoutId!==le),y(this._didWork,this.getPendingTasks())},O)),this._callbacks.push({doneCb:y,timeoutId:le,updateCb:X})}whenStable(y,O,X){if(X&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(y,O,X),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(y){this.registry.registerApplication(y,this)}unregisterApplication(y){this.registry.unregisterApplication(y)}findProviders(y,O,X){return[]}}return i.\u0275fac=function(y){return new(y||i)(ti(Sa),ti(ty),ti(_m))},i.\u0275prov=lr({token:i,factory:i.\u0275fac}),i})(),ty=(()=>{class i{constructor(){this._applications=new Map}registerApplication(y,O){this._applications.set(y,O)}unregisterApplication(y){this._applications.delete(y)}unregisterAllApplications(){this._applications.clear()}getTestability(y){return this._applications.get(y)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(y,O=!0){return ny?.findTestabilityInTree(this,y,O)??null}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Bf=null;const mw=new ai("AllowMultipleToken"),ry=new ai("PlatformDestroyListeners"),iy=new ai("appBootstrapListener");class yw{constructor(g,y){this.name=g,this.token=y}}function bw(i,g,y=[]){const O=`Platform: ${g}`,X=new ai(O);return(le=[])=>{let Me=oy();if(!Me||Me.injector.get(mw,!1)){const qe=[...y,...le,{provide:X,useValue:!0}];i?i(qe):function f8(i){if(Bf&&!Bf.get(mw,!1))throw new An(400,!1);(function vw(){!function We(i){Ae=i}(()=>{throw new An(600,!1)})})(),Bf=i;const g=i.get(ww);(function xw(i){i.get(hh,null)?.forEach(y=>y())})(i)}(function _w(i=[],g){return mc.create({name:g,providers:[{provide:bu,useValue:"platform"},{provide:ry,useValue:new Set([()=>Bf=null])},...i]})}(qe,O))}return function d8(i){const g=oy();if(!g)throw new An(401,!1);return g}()}}function oy(){return Bf?.get(ww)??null}let ww=(()=>{class i{constructor(y){this._injector=y,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(y,O){const X=function p8(i="zone.js",g){return"noop"===i?new s8:"zone.js"===i?new Sa(g):i}(O?.ngZone,function Tw(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:O?.ngZoneEventCoalescing,runCoalescing:O?.ngZoneRunCoalescing}));return X.run(()=>{const le=function NA(i,g,y){return new I1(i,g,y)}(y.moduleType,this.injector,function Ew(i){return[{provide:Sa,useFactory:i},{provide:fu,multi:!0,useFactory:()=>{const g=qr(m8,{optional:!0});return()=>g.initialize()}},{provide:Sw,useFactory:g8},{provide:dw,useFactory:pw}]}(()=>X)),Me=le.injector.get(xh,null);return X.runOutsideAngular(()=>{const qe=X.onError.subscribe({next:Qe=>{Me.handleError(Qe)}});le.onDestroy(()=>{wm(this._modules,le),qe.unsubscribe()})}),function Mw(i,g,y){try{const O=y();return um(O)?O.catch(X=>{throw g.runOutsideAngular(()=>i.handleError(X)),X}):O}catch(O){throw g.runOutsideAngular(()=>i.handleError(O)),O}}(Me,X,()=>{const qe=le.injector.get(K1);return qe.runInitializers(),qe.donePromise.then(()=>(function Ub(i){er(i,"Expected localeId to be defined"),"string"==typeof i&&(jb=i.toLowerCase().replace(/_/g,"-"))}(le.injector.get(qc,Qd)||Qd),this._moduleDoBootstrap(le),le))})})}bootstrapModule(y,O=[]){const X=Aw({},O);return function u8(i,g,y){const O=new L1(y);return Promise.resolve(O)}(0,0,y).then(le=>this.bootstrapModuleFactory(le,X))}_moduleDoBootstrap(y){const O=y.injector.get(Mh);if(y._bootstrapComponents.length>0)y._bootstrapComponents.forEach(X=>O.bootstrap(X));else{if(!y.instance.ngDoBootstrap)throw new An(-403,!1);y.instance.ngDoBootstrap(O)}this._modules.push(y)}onDestroy(y){this._destroyListeners.push(y)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new An(404,!1);this._modules.slice().forEach(O=>O.destroy()),this._destroyListeners.forEach(O=>O());const y=this._injector.get(ry,null);y&&(y.forEach(O=>O()),y.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(y){return new(y||i)(ti(mc))},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Aw(i,g){return Array.isArray(g)?g.reduce(Aw,i):{...i,...g}}let Mh=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=qr(Sw),this.zoneIsStable=qr(dw),this.componentTypes=[],this.components=[],this.isStable=qr(aw).hasPendingTasks.pipe(On(y=>y?vn(!1):this.zoneIsStable),function Wn(i,g=k){return i=i??pr,Y((y,O)=>{let X,le=!0;y.subscribe(ae(O,Me=>{const qe=g(Me);(le||!i(X,qe))&&(le=!1,X=qe,O.next(Me))}))})}(),Un()),this._injector=qr(Gl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(y,O){const X=y instanceof hu;if(!this._injector.get(K1).done)throw!X&&function Si(i){const g=Ai(i)||Ni(i)||fi(i);return null!==g&&g.standalone}(y),new An(405,!1);let Me;Me=X?y:this._injector.get(Zg).resolveComponentFactory(y),this.componentTypes.push(Me.componentType);const qe=function c8(i){return i.isBoundToModule}(Me)?void 0:this._injector.get(ep),ht=Me.create(mc.NULL,[],O||Me.selector,qe),Lt=ht.location.nativeElement,Yt=ht.injector.get(gw,null);return Yt?.registerApplication(Lt),ht.onDestroy(()=>{this.detachView(ht.hostView),wm(this.components,ht),Yt?.unregisterApplication(Lt)}),this._loadComponent(ht),ht}tick(){if(this._runningTick)throw new An(101,!1);try{this._runningTick=!0;for(let y of this._views)y.detectChanges()}catch(y){this.internalErrorHandler(y)}finally{this._runningTick=!1}}attachView(y){const O=y;this._views.push(O),O.attachToAppRef(this)}detachView(y){const O=y;wm(this._views,O),O.detachFromAppRef()}_loadComponent(y){this.attachView(y.hostView),this.tick(),this.components.push(y);const O=this._injector.get(iy,[]);O.push(...this._bootstrapListeners),O.forEach(X=>X(y))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(y=>y()),this._views.slice().forEach(y=>y.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(y){return this._destroyListeners.push(y),()=>wm(this._destroyListeners,y)}destroy(){if(this._destroyed)throw new An(406,!1);const y=this._injector;y.destroy&&!y.destroyed&&y.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function wm(i,g){const y=i.indexOf(g);y>-1&&i.splice(y,1)}const Sw=new ai("",{providedIn:"root",factory:()=>qr(xh).handleError.bind(void 0)});function g8(){const i=qr(Sa),g=qr(xh);return y=>i.runOutsideAngular(()=>g.handleError(y))}let m8=(()=>{class i{constructor(){this.zone=qr(Sa),this.applicationRef=qr(Mh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();let ay=(()=>{class i{}return i.__NG_ELEMENT_ID__=x8,i})();function x8(i){return function b8(i,g,y){if(ns(i)&&!y){const O=Er(i.index,g);return new m0(O,O)}return 47&i.type?new m0(g[Ji],g):null}(Ba(),xr(),16==(16&i))}class Lw{constructor(){}supports(g){return rm(g)}create(g){return new k8(g)}}const A8=(i,g)=>g;class k8{constructor(g){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=g||A8}forEachItem(g){let y;for(y=this._itHead;null!==y;y=y._next)g(y)}forEachOperation(g){let y=this._itHead,O=this._removalsHead,X=0,le=null;for(;y||O;){const Me=!O||y&&y.currentIndex<Ow(O,X,le)?y:O,qe=Ow(Me,X,le),Qe=Me.currentIndex;if(Me===O)X--,O=O._nextRemoved;else if(y=y._next,null==Me.previousIndex)X++;else{le||(le=[]);const ht=qe-X,Lt=Qe-X;if(ht!=Lt){for(let Mn=0;Mn<ht;Mn++){const zn=Mn<le.length?le[Mn]:le[Mn]=0,nr=zn+Mn;Lt<=nr&&nr<ht&&(le[Mn]=zn+1)}le[Me.previousIndex]=Lt-ht}}qe!==Qe&&g(Me,qe,Qe)}}forEachPreviousItem(g){let y;for(y=this._previousItHead;null!==y;y=y._nextPrevious)g(y)}forEachAddedItem(g){let y;for(y=this._additionsHead;null!==y;y=y._nextAdded)g(y)}forEachMovedItem(g){let y;for(y=this._movesHead;null!==y;y=y._nextMoved)g(y)}forEachRemovedItem(g){let y;for(y=this._removalsHead;null!==y;y=y._nextRemoved)g(y)}forEachIdentityChange(g){let y;for(y=this._identityChangesHead;null!==y;y=y._nextIdentityChange)g(y)}diff(g){if(null==g&&(g=[]),!rm(g))throw new An(900,!1);return this.check(g)?this:null}onDestroy(){}check(g){this._reset();let X,le,Me,y=this._itHead,O=!1;if(Array.isArray(g)){this.length=g.length;for(let qe=0;qe<this.length;qe++)le=g[qe],Me=this._trackByFn(qe,le),null!==y&&Object.is(y.trackById,Me)?(O&&(y=this._verifyReinsertion(y,le,Me,qe)),Object.is(y.item,le)||this._addIdentityChange(y,le)):(y=this._mismatch(y,le,Me,qe),O=!0),y=y._next}else X=0,function m4(i,g){if(Array.isArray(i))for(let y=0;y<i.length;y++)g(i[y]);else{const y=i[Symbol.iterator]();let O;for(;!(O=y.next()).done;)g(O.value)}}(g,qe=>{Me=this._trackByFn(X,qe),null!==y&&Object.is(y.trackById,Me)?(O&&(y=this._verifyReinsertion(y,qe,Me,X)),Object.is(y.item,qe)||this._addIdentityChange(y,qe)):(y=this._mismatch(y,qe,Me,X),O=!0),y=y._next,X++}),this.length=X;return this._truncate(y),this.collection=g,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let g;for(g=this._previousItHead=this._itHead;null!==g;g=g._next)g._nextPrevious=g._next;for(g=this._additionsHead;null!==g;g=g._nextAdded)g.previousIndex=g.currentIndex;for(this._additionsHead=this._additionsTail=null,g=this._movesHead;null!==g;g=g._nextMoved)g.previousIndex=g.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(g,y,O,X){let le;return null===g?le=this._itTail:(le=g._prev,this._remove(g)),null!==(g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(O,null))?(Object.is(g.item,y)||this._addIdentityChange(g,y),this._reinsertAfter(g,le,X)):null!==(g=null===this._linkedRecords?null:this._linkedRecords.get(O,X))?(Object.is(g.item,y)||this._addIdentityChange(g,y),this._moveAfter(g,le,X)):g=this._addAfter(new S8(y,O),le,X),g}_verifyReinsertion(g,y,O,X){let le=null===this._unlinkedRecords?null:this._unlinkedRecords.get(O,null);return null!==le?g=this._reinsertAfter(le,g._prev,X):g.currentIndex!=X&&(g.currentIndex=X,this._addToMoves(g,X)),g}_truncate(g){for(;null!==g;){const y=g._next;this._addToRemovals(this._unlink(g)),g=y}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(g,y,O){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(g);const X=g._prevRemoved,le=g._nextRemoved;return null===X?this._removalsHead=le:X._nextRemoved=le,null===le?this._removalsTail=X:le._prevRemoved=X,this._insertAfter(g,y,O),this._addToMoves(g,O),g}_moveAfter(g,y,O){return this._unlink(g),this._insertAfter(g,y,O),this._addToMoves(g,O),g}_addAfter(g,y,O){return this._insertAfter(g,y,O),this._additionsTail=null===this._additionsTail?this._additionsHead=g:this._additionsTail._nextAdded=g,g}_insertAfter(g,y,O){const X=null===y?this._itHead:y._next;return g._next=X,g._prev=y,null===X?this._itTail=g:X._prev=g,null===y?this._itHead=g:y._next=g,null===this._linkedRecords&&(this._linkedRecords=new Pw),this._linkedRecords.put(g),g.currentIndex=O,g}_remove(g){return this._addToRemovals(this._unlink(g))}_unlink(g){null!==this._linkedRecords&&this._linkedRecords.remove(g);const y=g._prev,O=g._next;return null===y?this._itHead=O:y._next=O,null===O?this._itTail=y:O._prev=y,g}_addToMoves(g,y){return g.previousIndex===y||(this._movesTail=null===this._movesTail?this._movesHead=g:this._movesTail._nextMoved=g),g}_addToRemovals(g){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pw),this._unlinkedRecords.put(g),g.currentIndex=null,g._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=g,g._prevRemoved=null):(g._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=g),g}_addIdentityChange(g,y){return g.item=y,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=g:this._identityChangesTail._nextIdentityChange=g,g}}class S8{constructor(g,y){this.item=g,this.trackById=y,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class E8{constructor(){this._head=null,this._tail=null}add(g){null===this._head?(this._head=this._tail=g,g._nextDup=null,g._prevDup=null):(this._tail._nextDup=g,g._prevDup=this._tail,g._nextDup=null,this._tail=g)}get(g,y){let O;for(O=this._head;null!==O;O=O._nextDup)if((null===y||y<=O.currentIndex)&&Object.is(O.trackById,g))return O;return null}remove(g){const y=g._prevDup,O=g._nextDup;return null===y?this._head=O:y._nextDup=O,null===O?this._tail=y:O._prevDup=y,null===this._head}}class Pw{constructor(){this.map=new Map}put(g){const y=g.trackById;let O=this.map.get(y);O||(O=new E8,this.map.set(y,O)),O.add(g)}get(g,y){const X=this.map.get(g);return X?X.get(g,y):null}remove(g){const y=g.trackById;return this.map.get(y).remove(g)&&this.map.delete(y),g}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ow(i,g,y){const O=i.previousIndex;if(null===O)return O;let X=0;return y&&O<y.length&&(X=y[O]),O+g+X}class Rw{constructor(){}supports(g){return g instanceof Map||l1(g)}create(){return new C8}}class C8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(g){let y;for(y=this._mapHead;null!==y;y=y._next)g(y)}forEachPreviousItem(g){let y;for(y=this._previousMapHead;null!==y;y=y._nextPrevious)g(y)}forEachChangedItem(g){let y;for(y=this._changesHead;null!==y;y=y._nextChanged)g(y)}forEachAddedItem(g){let y;for(y=this._additionsHead;null!==y;y=y._nextAdded)g(y)}forEachRemovedItem(g){let y;for(y=this._removalsHead;null!==y;y=y._nextRemoved)g(y)}diff(g){if(g){if(!(g instanceof Map||l1(g)))throw new An(900,!1)}else g=new Map;return this.check(g)?this:null}onDestroy(){}check(g){this._reset();let y=this._mapHead;if(this._appendAfter=null,this._forEach(g,(O,X)=>{if(y&&y.key===X)this._maybeAddToChanges(y,O),this._appendAfter=y,y=y._next;else{const le=this._getOrCreateRecordForKey(X,O);y=this._insertBeforeOrAppend(y,le)}}),y){y._prev&&(y._prev._next=null),this._removalsHead=y;for(let O=y;null!==O;O=O._nextRemoved)O===this._mapHead&&(this._mapHead=null),this._records.delete(O.key),O._nextRemoved=O._next,O.previousValue=O.currentValue,O.currentValue=null,O._prev=null,O._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(g,y){if(g){const O=g._prev;return y._next=g,y._prev=O,g._prev=y,O&&(O._next=y),g===this._mapHead&&(this._mapHead=y),this._appendAfter=g,g}return this._appendAfter?(this._appendAfter._next=y,y._prev=this._appendAfter):this._mapHead=y,this._appendAfter=y,null}_getOrCreateRecordForKey(g,y){if(this._records.has(g)){const X=this._records.get(g);this._maybeAddToChanges(X,y);const le=X._prev,Me=X._next;return le&&(le._next=Me),Me&&(Me._prev=le),X._next=null,X._prev=null,X}const O=new D8(g);return this._records.set(g,O),O.currentValue=y,this._addToAdditions(O),O}_reset(){if(this.isDirty){let g;for(this._previousMapHead=this._mapHead,g=this._previousMapHead;null!==g;g=g._next)g._nextPrevious=g._next;for(g=this._changesHead;null!==g;g=g._nextChanged)g.previousValue=g.currentValue;for(g=this._additionsHead;null!=g;g=g._nextAdded)g.previousValue=g.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(g,y){Object.is(y,g.currentValue)||(g.previousValue=g.currentValue,g.currentValue=y,this._addToChanges(g))}_addToAdditions(g){null===this._additionsHead?this._additionsHead=this._additionsTail=g:(this._additionsTail._nextAdded=g,this._additionsTail=g)}_addToChanges(g){null===this._changesHead?this._changesHead=this._changesTail=g:(this._changesTail._nextChanged=g,this._changesTail=g)}_forEach(g,y){g instanceof Map?g.forEach(y):Object.keys(g).forEach(O=>y(g[O],O))}}class D8{constructor(g){this.key=g,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fw(){return new L0([new Lw])}let L0=(()=>{class i{constructor(y){this.factories=y}static create(y,O){if(null!=O){const X=O.factories.slice();y=y.concat(X)}return new i(y)}static extend(y){return{provide:i,useFactory:O=>i.create(y,O||Fw()),deps:[[i,new as,new Jf]]}}find(y){const O=this.factories.find(X=>X.supports(y));if(null!=O)return O;throw new An(901,!1)}}return i.\u0275prov=lr({token:i,providedIn:"root",factory:Fw}),i})();function Nw(){return new rp([new Rw])}let rp=(()=>{class i{constructor(y){this.factories=y}static create(y,O){if(O){const X=O.factories.slice();y=y.concat(X)}return new i(y)}static extend(y){return{provide:i,useFactory:O=>i.create(y,O||Nw()),deps:[[i,new as,new Jf]]}}find(y){const O=this.factories.find(X=>X.supports(y));if(O)return O;throw new An(901,!1)}}return i.\u0275prov=lr({token:i,providedIn:"root",factory:Nw}),i})();const P8=bw(null,"core",[]);let O8=(()=>{class i{constructor(y){}}return i.\u0275fac=function(y){return new(y||i)(ti(Mh))},i.\u0275mod=oa({type:i}),i.\u0275inj=sr({}),i})(),py=null;function ip(){return py}class W8{}const Mu=new ai("DocumentToken");let gy=(()=>{class i{historyGo(y){throw new Error("Not implemented")}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:function(){return qr(Y8)},providedIn:"platform"}),i})();const Z8=new ai("Location Initialized");let Y8=(()=>{class i extends gy{constructor(){super(),this._doc=qr(Mu),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ip().getBaseHref(this._doc)}onPopState(y){const O=ip().getGlobalEventTarget(this._doc,"window");return O.addEventListener("popstate",y,!1),()=>O.removeEventListener("popstate",y)}onHashChange(y){const O=ip().getGlobalEventTarget(this._doc,"window");return O.addEventListener("hashchange",y,!1),()=>O.removeEventListener("hashchange",y)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(y){this._location.pathname=y}pushState(y,O,X){this._history.pushState(y,O,X)}replaceState(y,O,X){this._history.replaceState(y,O,X)}forward(){this._history.forward()}back(){this._history.back()}historyGo(y=0){this._history.go(y)}getState(){return this._history.state}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:function(){return new i},providedIn:"platform"}),i})();function my(i,g){if(0==i.length)return g;if(0==g.length)return i;let y=0;return i.endsWith("/")&&y++,g.startsWith("/")&&y++,2==y?i+g.substring(1):1==y?i+g:i+"/"+g}function Gw(i){const g=i.match(/#|\?|$/),y=g&&g.index||i.length;return i.slice(0,y-("/"===i[y-1]?1:0))+i.slice(y)}function Wc(i){return i&&"?"!==i[0]?"?"+i:i}let kh=(()=>{class i{historyGo(y){throw new Error("Not implemented")}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:function(){return qr(Ww)},providedIn:"root"}),i})();const qw=new ai("appBaseHref");let Ww=(()=>{class i extends kh{constructor(y,O){super(),this._platformLocation=y,this._removeListenerFns=[],this._baseHref=O??this._platformLocation.getBaseHrefFromDOM()??qr(Mu).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(y){this._removeListenerFns.push(this._platformLocation.onPopState(y),this._platformLocation.onHashChange(y))}getBaseHref(){return this._baseHref}prepareExternalUrl(y){return my(this._baseHref,y)}path(y=!1){const O=this._platformLocation.pathname+Wc(this._platformLocation.search),X=this._platformLocation.hash;return X&&y?`${O}${X}`:O}pushState(y,O,X,le){const Me=this.prepareExternalUrl(X+Wc(le));this._platformLocation.pushState(y,O,Me)}replaceState(y,O,X,le){const Me=this.prepareExternalUrl(X+Wc(le));this._platformLocation.replaceState(y,O,Me)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(y=0){this._platformLocation.historyGo?.(y)}}return i.\u0275fac=function(y){return new(y||i)(ti(gy),ti(qw,8))},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$8=(()=>{class i extends kh{constructor(y,O){super(),this._platformLocation=y,this._baseHref="",this._removeListenerFns=[],null!=O&&(this._baseHref=O)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(y){this._removeListenerFns.push(this._platformLocation.onPopState(y),this._platformLocation.onHashChange(y))}getBaseHref(){return this._baseHref}path(y=!1){let O=this._platformLocation.hash;return null==O&&(O="#"),O.length>0?O.substring(1):O}prepareExternalUrl(y){const O=my(this._baseHref,y);return O.length>0?"#"+O:O}pushState(y,O,X,le){let Me=this.prepareExternalUrl(X+Wc(le));0==Me.length&&(Me=this._platformLocation.pathname),this._platformLocation.pushState(y,O,Me)}replaceState(y,O,X,le){let Me=this.prepareExternalUrl(X+Wc(le));0==Me.length&&(Me=this._platformLocation.pathname),this._platformLocation.replaceState(y,O,Me)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(y=0){this._platformLocation.historyGo?.(y)}}return i.\u0275fac=function(y){return new(y||i)(ti(gy),ti(qw,8))},i.\u0275prov=lr({token:i,factory:i.\u0275fac}),i})(),vy=(()=>{class i{constructor(y){this._subject=new vi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=y;const O=this._locationStrategy.getBaseHref();this._basePath=function J8(i){if(new RegExp("^(https?:)?//").test(i)){const[,y]=i.split(/\/\/[^\/]+/);return y}return i}(Gw(Zw(O))),this._locationStrategy.onPopState(X=>{this._subject.emit({url:this.path(!0),pop:!0,state:X.state,type:X.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(y=!1){return this.normalize(this._locationStrategy.path(y))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(y,O=""){return this.path()==this.normalize(y+Wc(O))}normalize(y){return i.stripTrailingSlash(function K8(i,g){if(!i||!g.startsWith(i))return g;const y=g.substring(i.length);return""===y||["/",";","?","#"].includes(y[0])?y:g}(this._basePath,Zw(y)))}prepareExternalUrl(y){return y&&"/"!==y[0]&&(y="/"+y),this._locationStrategy.prepareExternalUrl(y)}go(y,O="",X=null){this._locationStrategy.pushState(X,"",y,O),this._notifyUrlChangeListeners(this.prepareExternalUrl(y+Wc(O)),X)}replaceState(y,O="",X=null){this._locationStrategy.replaceState(X,"",y,O),this._notifyUrlChangeListeners(this.prepareExternalUrl(y+Wc(O)),X)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(y=0){this._locationStrategy.historyGo?.(y)}onUrlChange(y){return this._urlChangeListeners.push(y),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(O=>{this._notifyUrlChangeListeners(O.url,O.state)})),()=>{const O=this._urlChangeListeners.indexOf(y);this._urlChangeListeners.splice(O,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(y="",O){this._urlChangeListeners.forEach(X=>X(y,O))}subscribe(y,O,X){return this._subject.subscribe({next:y,error:O,complete:X})}}return i.normalizeQueryParams=Wc,i.joinWithSlash=my,i.stripTrailingSlash=Gw,i.\u0275fac=function(y){return new(y||i)(ti(kh))},i.\u0275prov=lr({token:i,factory:function(){return function X8(){return new vy(ti(kh))}()},providedIn:"root"}),i})();function Zw(i){return i.replace(/\/index.html$/,"")}const Sy=/\s+/,n3=[];let Ey=(()=>{class i{constructor(y,O,X,le){this._iterableDiffers=y,this._keyValueDiffers=O,this._ngEl=X,this._renderer=le,this.initialClasses=n3,this.stateMap=new Map}set klass(y){this.initialClasses=null!=y?y.trim().split(Sy):n3}set ngClass(y){this.rawClass="string"==typeof y?y.trim().split(Sy):y}ngDoCheck(){for(const O of this.initialClasses)this._updateState(O,!0);const y=this.rawClass;if(Array.isArray(y)||y instanceof Set)for(const O of y)this._updateState(O,!0);else if(null!=y)for(const O of Object.keys(y))this._updateState(O,!!y[O]);this._applyStateDiff()}_updateState(y,O){const X=this.stateMap.get(y);void 0!==X?(X.enabled!==O&&(X.changed=!0,X.enabled=O),X.touched=!0):this.stateMap.set(y,{enabled:O,changed:!0,touched:!0})}_applyStateDiff(){for(const y of this.stateMap){const O=y[0],X=y[1];X.changed?(this._toggleClass(O,X.enabled),X.changed=!1):X.touched||(X.enabled&&this._toggleClass(O,!1),this.stateMap.delete(O)),X.touched=!1}}_toggleClass(y,O){(y=y.trim()).length>0&&y.split(Sy).forEach(X=>{O?this._renderer.addClass(this._ngEl.nativeElement,X):this._renderer.removeClass(this._ngEl.nativeElement,X)})}}return i.\u0275fac=function(y){return new(y||i)(di(L0),di(rp),di(Nf),di(Yg))},i.\u0275dir=yi({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),i})(),Cy=(()=>{class i{constructor(y,O){this._viewContainer=y,this._context=new Bk,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=O}set ngIf(y){this._context.$implicit=this._context.ngIf=y,this._updateView()}set ngIfThen(y){o3("ngIfThen",y),this._thenTemplateRef=y,this._thenViewRef=null,this._updateView()}set ngIfElse(y){o3("ngIfElse",y),this._elseTemplateRef=y,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(y,O){return!0}}return i.\u0275fac=function(y){return new(y||i)(di($u),di(Gc))},i.\u0275dir=yi({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),i})();class Bk{constructor(){this.$implicit=null,this.ngIf=null}}function o3(i,g){if(g&&!g.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${hr(g)}'.`)}let s3=(()=>{class i{constructor(y,O,X){this._ngEl=y,this._differs=O,this._renderer=X,this._ngStyle=null,this._differ=null}set ngStyle(y){this._ngStyle=y,!this._differ&&y&&(this._differ=this._differs.find(y).create())}ngDoCheck(){if(this._differ){const y=this._differ.diff(this._ngStyle);y&&this._applyChanges(y)}}_setStyle(y,O){const[X,le]=y.split("."),Me=-1===X.indexOf("-")?void 0:Os.DashCase;null!=O?this._renderer.setStyle(this._ngEl.nativeElement,X,le?`${O}${le}`:O,Me):this._renderer.removeStyle(this._ngEl.nativeElement,X,Me)}_applyChanges(y){y.forEachRemovedItem(O=>this._setStyle(O.key,null)),y.forEachAddedItem(O=>this._setStyle(O.key,O.currentValue)),y.forEachChangedItem(O=>this._setStyle(O.key,O.currentValue))}}return i.\u0275fac=function(y){return new(y||i)(di(Nf),di(rp),di(Yg))},i.\u0275dir=yi({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),i})(),R0=(()=>{class i{}return i.\u0275fac=function(y){return new(y||i)},i.\u0275mod=oa({type:i}),i.\u0275inj=sr({}),i})();const u3="browser";function Oy(i){return i===u3}function c3(i){return"server"===i}let pS=(()=>{class i{}return i.\u0275prov=lr({token:i,providedIn:"root",factory:()=>new gS(ti(Mu),window)}),i})();class gS{constructor(g,y){this.document=g,this.window=y,this.offset=()=>[0,0]}setOffset(g){this.offset=Array.isArray(g)?()=>g:g}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(g){this.supportsScrolling()&&this.window.scrollTo(g[0],g[1])}scrollToAnchor(g){if(!this.supportsScrolling())return;const y=function mS(i,g){const y=i.getElementById(g)||i.getElementsByName(g)[0];if(y)return y;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const O=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let X=O.currentNode;for(;X;){const le=X.shadowRoot;if(le){const Me=le.getElementById(g)||le.querySelector(`[name="${g}"]`);if(Me)return Me}X=O.nextNode()}}return null}(this.document,g);y&&(this.scrollToElement(y),y.focus())}setHistoryScrollRestoration(g){if(this.supportScrollRestoration()){const y=this.window.history;y&&y.scrollRestoration&&(y.scrollRestoration=g)}}scrollToElement(g){const y=g.getBoundingClientRect(),O=y.left+this.window.pageXOffset,X=y.top+this.window.pageYOffset,le=this.offset();this.window.scrollTo(O-le[0],X-le[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const g=f3(this.window.history)||f3(Object.getPrototypeOf(this.window.history));return!(!g||!g.writable&&!g.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function f3(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class jS extends W8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ny extends jS{static makeCurrent(){!function q8(i){py||(py=i)}(new Ny)}onAndCancel(g,y,O){return g.addEventListener(y,O),()=>{g.removeEventListener(y,O)}}dispatchEvent(g,y){g.dispatchEvent(y)}remove(g){g.parentNode&&g.parentNode.removeChild(g)}createElement(g,y){return(y=y||this.getDefaultDocument()).createElement(g)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(g){return g.nodeType===Node.ELEMENT_NODE}isShadowRoot(g){return g instanceof DocumentFragment}getGlobalEventTarget(g,y){return"window"===y?window:"document"===y?g:"body"===y?g.body:null}getBaseHref(g){const y=function US(){return N0=N0||document.querySelector("base"),N0?N0.getAttribute("href"):null}();return null==y?null:function VS(i){Nm=Nm||document.createElement("a"),Nm.setAttribute("href",i);const g=Nm.pathname;return"/"===g.charAt(0)?g:`/${g}`}(y)}resetBaseElement(){N0=null}getUserAgent(){return window.navigator.userAgent}getCookie(g){return function Rk(i,g){g=encodeURIComponent(g);for(const y of i.split(";")){const O=y.indexOf("="),[X,le]=-1==O?[y,""]:[y.slice(0,O),y.slice(O+1)];if(X.trim()===g)return decodeURIComponent(le)}return null}(document.cookie,g)}}let Nm,N0=null,GS=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac}),i})();const zy=new ai("EventManagerPlugins");let m3=(()=>{class i{constructor(y,O){this._zone=O,this._eventNameToPlugin=new Map,y.forEach(X=>{X.manager=this}),this._plugins=y.slice().reverse()}addEventListener(y,O,X){return this._findPluginFor(O).addEventListener(y,O,X)}getZone(){return this._zone}_findPluginFor(y){let O=this._eventNameToPlugin.get(y);if(O)return O;if(O=this._plugins.find(le=>le.supports(y)),!O)throw new An(5101,!1);return this._eventNameToPlugin.set(y,O),O}}return i.\u0275fac=function(y){return new(y||i)(ti(zy),ti(Sa))},i.\u0275prov=lr({token:i,factory:i.\u0275fac}),i})();class v3{constructor(g){this._doc=g}}const By="ng-app-id";let y3=(()=>{class i{constructor(y,O,X,le={}){this.doc=y,this.appId=O,this.nonce=X,this.platformId=le,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=c3(le),this.resetHostNodes()}addStyles(y){for(const O of y)1===this.changeUsageCount(O,1)&&this.onStyleAdded(O)}removeStyles(y){for(const O of y)this.changeUsageCount(O,-1)<=0&&this.onStyleRemoved(O)}ngOnDestroy(){const y=this.styleNodesInDOM;y&&(y.forEach(O=>O.remove()),y.clear());for(const O of this.getAllStyles())this.onStyleRemoved(O);this.resetHostNodes()}addHost(y){this.hostNodes.add(y);for(const O of this.getAllStyles())this.addStyleToHost(y,O)}removeHost(y){this.hostNodes.delete(y)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(y){for(const O of this.hostNodes)this.addStyleToHost(O,y)}onStyleRemoved(y){const O=this.styleRef;O.get(y)?.elements?.forEach(X=>X.remove()),O.delete(y)}collectServerRenderedStyles(){const y=this.doc.head?.querySelectorAll(`style[${By}="${this.appId}"]`);if(y?.length){const O=new Map;return y.forEach(X=>{null!=X.textContent&&O.set(X.textContent,X)}),O}return null}changeUsageCount(y,O){const X=this.styleRef;if(X.has(y)){const le=X.get(y);return le.usage+=O,le.usage}return X.set(y,{usage:O,elements:[]}),O}getStyleElement(y,O){const X=this.styleNodesInDOM,le=X?.get(O);if(le?.parentNode===y)return X.delete(O),le.removeAttribute(By),le;{const Me=this.doc.createElement("style");return this.nonce&&Me.setAttribute("nonce",this.nonce),Me.textContent=O,this.platformIsServer&&Me.setAttribute(By,this.appId),Me}}addStyleToHost(y,O){const X=this.getStyleElement(y,O);y.appendChild(X);const le=this.styleRef,Me=le.get(O)?.elements;Me?Me.push(X):le.set(O,{elements:[X],usage:1})}resetHostNodes(){const y=this.hostNodes;y.clear(),y.add(this.doc.head)}}return i.\u0275fac=function(y){return new(y||i)(ti(Mu),ti(fh),ti(r0,8),ti(wu))},i.\u0275prov=lr({token:i,factory:i.\u0275fac}),i})();const jy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uy=/%COMP%/g,YS=new ai("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function b3(i,g){return g.map(y=>y.replace(Uy,i))}let _3=(()=>{class i{constructor(y,O,X,le,Me,qe,Qe,ht=null){this.eventManager=y,this.sharedStylesHost=O,this.appId=X,this.removeStylesOnCompDestory=le,this.doc=Me,this.platformId=qe,this.ngZone=Qe,this.nonce=ht,this.rendererByCompId=new Map,this.platformIsServer=c3(qe),this.defaultRenderer=new Vy(y,Me,Qe,this.platformIsServer)}createRenderer(y,O){if(!y||!O)return this.defaultRenderer;this.platformIsServer&&O.encapsulation===Jo.ShadowDom&&(O={...O,encapsulation:Jo.Emulated});const X=this.getOrCreateRenderer(y,O);return X instanceof T3?X.applyToHost(y):X instanceof Hy&&X.applyStyles(),X}getOrCreateRenderer(y,O){const X=this.rendererByCompId;let le=X.get(O.id);if(!le){const Me=this.doc,qe=this.ngZone,Qe=this.eventManager,ht=this.sharedStylesHost,Lt=this.removeStylesOnCompDestory,Yt=this.platformIsServer;switch(O.encapsulation){case Jo.Emulated:le=new T3(Qe,ht,O,this.appId,Lt,Me,qe,Yt);break;case Jo.ShadowDom:return new JS(Qe,ht,y,O,Me,qe,this.nonce,Yt);default:le=new Hy(Qe,ht,O,Lt,Me,qe,Yt)}le.onDestroy=()=>X.delete(O.id),X.set(O.id,le)}return le}ngOnDestroy(){this.rendererByCompId.clear()}}return i.\u0275fac=function(y){return new(y||i)(ti(m3),ti(y3),ti(fh),ti(YS),ti(Mu),ti(wu),ti(Sa),ti(r0))},i.\u0275prov=lr({token:i,factory:i.\u0275fac}),i})();class Vy{constructor(g,y,O,X){this.eventManager=g,this.doc=y,this.ngZone=O,this.platformIsServer=X,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(g,y){return y?this.doc.createElementNS(jy[y]||y,g):this.doc.createElement(g)}createComment(g){return this.doc.createComment(g)}createText(g){return this.doc.createTextNode(g)}appendChild(g,y){(w3(g)?g.content:g).appendChild(y)}insertBefore(g,y,O){g&&(w3(g)?g.content:g).insertBefore(y,O)}removeChild(g,y){g&&g.removeChild(y)}selectRootElement(g,y){let O="string"==typeof g?this.doc.querySelector(g):g;if(!O)throw new An(5104,!1);return y||(O.textContent=""),O}parentNode(g){return g.parentNode}nextSibling(g){return g.nextSibling}setAttribute(g,y,O,X){if(X){y=X+":"+y;const le=jy[X];le?g.setAttributeNS(le,y,O):g.setAttribute(y,O)}else g.setAttribute(y,O)}removeAttribute(g,y,O){if(O){const X=jy[O];X?g.removeAttributeNS(X,y):g.removeAttribute(`${O}:${y}`)}else g.removeAttribute(y)}addClass(g,y){g.classList.add(y)}removeClass(g,y){g.classList.remove(y)}setStyle(g,y,O,X){X&(Os.DashCase|Os.Important)?g.style.setProperty(y,O,X&Os.Important?"important":""):g.style[y]=O}removeStyle(g,y,O){O&Os.DashCase?g.style.removeProperty(y):g.style[y]=""}setProperty(g,y,O){g[y]=O}setValue(g,y){g.nodeValue=y}listen(g,y,O){if("string"==typeof g&&!(g=ip().getGlobalEventTarget(this.doc,g)))throw new Error(`Unsupported event target ${g} for event ${y}`);return this.eventManager.addEventListener(g,y,this.decoratePreventDefault(O))}decoratePreventDefault(g){return y=>{if("__ngUnwrap__"===y)return g;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>g(y)):g(y))&&y.preventDefault()}}}function w3(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class JS extends Vy{constructor(g,y,O,X,le,Me,qe,Qe){super(g,le,Me,Qe),this.sharedStylesHost=y,this.hostEl=O,this.shadowRoot=O.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ht=b3(X.id,X.styles);for(const Lt of ht){const Yt=document.createElement("style");qe&&Yt.setAttribute("nonce",qe),Yt.textContent=Lt,this.shadowRoot.appendChild(Yt)}}nodeOrShadowRoot(g){return g===this.hostEl?this.shadowRoot:g}appendChild(g,y){return super.appendChild(this.nodeOrShadowRoot(g),y)}insertBefore(g,y,O){return super.insertBefore(this.nodeOrShadowRoot(g),y,O)}removeChild(g,y){return super.removeChild(this.nodeOrShadowRoot(g),y)}parentNode(g){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(g)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Hy extends Vy{constructor(g,y,O,X,le,Me,qe,Qe){super(g,le,Me,qe),this.sharedStylesHost=y,this.removeStylesOnCompDestory=X,this.rendererUsageCount=0,this.styles=Qe?b3(Qe,O.styles):O.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class T3 extends Hy{constructor(g,y,O,X,le,Me,qe,Qe){const ht=X+"-"+O.id;super(g,y,O,le,Me,qe,Qe,ht),this.contentAttr=function $S(i){return"_ngcontent-%COMP%".replace(Uy,i)}(ht),this.hostAttr=function XS(i){return"_nghost-%COMP%".replace(Uy,i)}(ht)}applyToHost(g){this.applyStyles(),this.setAttribute(g,this.hostAttr,"")}createElement(g,y){const O=super.createElement(g,y);return super.setAttribute(O,this.contentAttr,""),O}}let QS=(()=>{class i extends v3{constructor(y){super(y)}supports(y){return!0}addEventListener(y,O,X){return y.addEventListener(O,X,!1),()=>this.removeEventListener(y,O,X)}removeEventListener(y,O,X){return y.removeEventListener(O,X)}}return i.\u0275fac=function(y){return new(y||i)(ti(Mu))},i.\u0275prov=lr({token:i,factory:i.\u0275fac}),i})();const M3=["alt","control","meta","shift"],eE={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tE={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let nE=(()=>{class i extends v3{constructor(y){super(y)}supports(y){return null!=i.parseEventName(y)}addEventListener(y,O,X){const le=i.parseEventName(O),Me=i.eventCallback(le.fullKey,X,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ip().onAndCancel(y,le.domEventName,Me))}static parseEventName(y){const O=y.toLowerCase().split("."),X=O.shift();if(0===O.length||"keydown"!==X&&"keyup"!==X)return null;const le=i._normalizeKey(O.pop());let Me="",qe=O.indexOf("code");if(qe>-1&&(O.splice(qe,1),Me="code."),M3.forEach(ht=>{const Lt=O.indexOf(ht);Lt>-1&&(O.splice(Lt,1),Me+=ht+".")}),Me+=le,0!=O.length||0===le.length)return null;const Qe={};return Qe.domEventName=X,Qe.fullKey=Me,Qe}static matchEventFullKeyCode(y,O){let X=eE[y.key]||y.key,le="";return O.indexOf("code.")>-1&&(X=y.code,le="code."),!(null==X||!X)&&(X=X.toLowerCase()," "===X?X="space":"."===X&&(X="dot"),M3.forEach(Me=>{Me!==X&&(0,tE[Me])(y)&&(le+=Me+".")}),le+=X,le===O)}static eventCallback(y,O,X){return le=>{i.matchEventFullKeyCode(le,y)&&X.runGuarded(()=>O(le))}}static _normalizeKey(y){return"esc"===y?"escape":y}}return i.\u0275fac=function(y){return new(y||i)(ti(Mu))},i.\u0275prov=lr({token:i,factory:i.\u0275fac}),i})();const aE=bw(P8,"browser",[{provide:wu,useValue:u3},{provide:hh,useValue:function rE(){Ny.makeCurrent()},multi:!0},{provide:Mu,useFactory:function oE(){return function ei(i){oi=i}(document),document},deps:[]}]),sE=new ai(""),S3=[{provide:_m,useClass:class HS{addToWindow(g){Pi.getAngularTestability=(O,X=!0)=>{const le=g.findTestabilityInTree(O,X);if(null==le)throw new An(5103,!1);return le},Pi.getAllAngularTestabilities=()=>g.getAllTestabilities(),Pi.getAllAngularRootElements=()=>g.getAllRootElements(),Pi.frameworkStabilizers||(Pi.frameworkStabilizers=[]),Pi.frameworkStabilizers.push(O=>{const X=Pi.getAllAngularTestabilities();let le=X.length,Me=!1;const qe=function(Qe){Me=Me||Qe,le--,0==le&&O(Me)};X.forEach(function(Qe){Qe.whenStable(qe)})})}findTestabilityInTree(g,y,O){return null==y?null:g.getTestability(y)??(O?ip().isShadowRoot(y)?this.findTestabilityInTree(g,y.host,!0):this.findTestabilityInTree(g,y.parentElement,!0):null)}},deps:[]},{provide:gw,useClass:ey,deps:[Sa,ty,_m]},{provide:ey,useClass:ey,deps:[Sa,ty,_m]}],E3=[{provide:bu,useValue:"root"},{provide:xh,useFactory:function iE(){return new xh},deps:[]},{provide:zy,useClass:QS,multi:!0,deps:[Mu,Sa,wu]},{provide:zy,useClass:nE,multi:!0,deps:[Mu]},_3,y3,m3,{provide:Lx,useExisting:_3},{provide:class vS{},useClass:GS,deps:[]},[]];let lE=(()=>{class i{constructor(y){}static withServerTransition(y){return{ngModule:i,providers:[{provide:fh,useValue:y.appId}]}}}return i.\u0275fac=function(y){return new(y||i)(ti(sE,12))},i.\u0275mod=oa({type:i}),i.\u0275inj=sr({providers:[...E3,...S3],imports:[R0,O8]}),i})(),Gy=(()=>{class i{constructor(y){this._doc=y}getTitle(){return this._doc.title}setTitle(y){this._doc.title=y||""}}return i.\u0275fac=function(y){return new(y||i)(ti(Mu))},i.\u0275prov=lr({token:i,factory:function(y){let O=null;return O=y?new y:function cE(){return new Gy(ti(Mu))}(),O},providedIn:"root"}),i})();typeof window<"u"&&window;const{isArray:mE}=Array,{getPrototypeOf:vE,prototype:yE,keys:xE}=Object;const{isArray:wE}=Array;function L3(i){return Q(g=>function TE(i,g){return wE(g)?i(...g):i(g)}(i,g))}function Wy(...i){const g=Zt(i),y=function Wt(i){return gr(Gt(i))?i.pop():void 0}(i),{args:O,keys:X}=function bE(i){if(1===i.length){const g=i[0];if(mE(g))return{args:g,keys:null};if(function _E(i){return i&&"object"==typeof i&&vE(i)===yE}(g)){const y=xE(g);return{args:y.map(O=>g[O]),keys:y}}}return{args:i,keys:null}}(i);if(0===O.length)return mn([],g);const le=new P(function AE(i,g,y=k){return O=>{P3(g,()=>{const{length:X}=i,le=new Array(X);let Me=X,qe=X;for(let Qe=0;Qe<X;Qe++)P3(g,()=>{const ht=mn(i[Qe],g);let Lt=!1;ht.subscribe(ae(O,Yt=>{le[Qe]=Yt,Lt||(Lt=!0,qe--),qe||O.next(y(le.slice()))},()=>{--Me||O.complete()}))},O)},O)}}(O,g,X?Me=>function ME(i,g){return i.reduce((y,O,X)=>(y[O]=g[X],y),{})}(X,Me):k));return y?le.pipe(L3(y)):le}function P3(i,g,y){i?Tt(y,i,g):g()}const zm=ie(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function z0(...i){return function kE(){return bt(1)}()(mn(i,Zt(i)))}function Bm(i){return new P(g=>{Xe(i()).subscribe(g)})}function op(i,g){const y=gr(i)?i:()=>i,O=X=>X.error(y());return new P(g?X=>g.schedule(O,0,X):O)}function Zy(){return Y((i,g)=>{let y=null;i._refCount++;const O=ae(g,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(y=null);const X=i._connection,le=y;y=null,X&&(!le||X===le)&&X.unsubscribe(),g.unsubscribe()});i.subscribe(O),O.closed||(y=i.connect())})}class Yy extends P{constructor(g,y){super(),this.source=g,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,Z(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new C;const y=this.getSubject();g.add(this.source.subscribe(ae(y,void 0,()=>{this._teardown(),y.complete()},O=>{this._teardown(),y.error(O)},()=>this._teardown()))),g.closed&&(this._connection=null,g=C.EMPTY)}return g}refCount(){return Zy()(this)}}function Zl(i){return i<=0?()=>Rt:Y((g,y)=>{let O=0;g.subscribe(ae(y,X=>{++O<=i&&(y.next(X),i<=O&&y.complete())}))})}function Yl(i,g){return Y((y,O)=>{let X=0;y.subscribe(ae(O,le=>i.call(g,le,X++)&&O.next(le)))})}function jm(i){return Y((g,y)=>{let O=!1;g.subscribe(ae(y,X=>{O=!0,y.next(X)},()=>{O||y.next(i),y.complete()}))})}function O3(i=EE){return Y((g,y)=>{let O=!1;g.subscribe(ae(y,X=>{O=!0,y.next(X)},()=>O?y.complete():y.error(i())))})}function EE(){return new zm}function Sh(i,g){const y=arguments.length>=2;return O=>O.pipe(i?Yl((X,le)=>i(X,le,O)):k,Zl(1),y?jm(g):O3(()=>new zm))}function B0(i,g){return gr(g)?At(i,g,1):At(i,1)}function fl(i,g,y){const O=gr(i)||g||y?{next:i,error:g,complete:y}:i;return O?Y((X,le)=>{var Me;null===(Me=O.subscribe)||void 0===Me||Me.call(O);let qe=!0;X.subscribe(ae(le,Qe=>{var ht;null===(ht=O.next)||void 0===ht||ht.call(O,Qe),le.next(Qe)},()=>{var Qe;qe=!1,null===(Qe=O.complete)||void 0===Qe||Qe.call(O),le.complete()},Qe=>{var ht;qe=!1,null===(ht=O.error)||void 0===ht||ht.call(O,Qe),le.error(Qe)},()=>{var Qe,ht;qe&&(null===(Qe=O.unsubscribe)||void 0===Qe||Qe.call(O)),null===(ht=O.finalize)||void 0===ht||ht.call(O)}))}):k}function Eh(i){return Y((g,y)=>{let le,O=null,X=!1;O=g.subscribe(ae(y,void 0,void 0,Me=>{le=Xe(i(Me,Eh(i)(g))),O?(O.unsubscribe(),O=null,le.subscribe(y)):X=!0})),X&&(O.unsubscribe(),O=null,le.subscribe(y))})}function $y(i){return i<=0?()=>Rt:Y((g,y)=>{let O=[];g.subscribe(ae(y,X=>{O.push(X),i<O.length&&O.shift()},()=>{for(const X of O)y.next(X);y.complete()},void 0,()=>{O=null}))})}function R3(i){return Q(()=>i)}function Xy(i){return Y((g,y)=>{try{g.subscribe(y)}finally{y.add(i)}})}const zi="primary",j0=Symbol("RouteTitle");class LE{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const y=this.params[g];return Array.isArray(y)?y[0]:y}return null}getAll(g){if(this.has(g)){const y=this.params[g];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function ap(i){return new LE(i)}function PE(i,g,y){const O=y.path.split("/");if(O.length>i.length||"full"===y.pathMatch&&(g.hasChildren()||O.length<i.length))return null;const X={};for(let le=0;le<O.length;le++){const Me=O[le],qe=i[le];if(Me.startsWith(":"))X[Me.substring(1)]=qe;else if(Me!==qe.path)return null}return{consumed:i.slice(0,O.length),posParams:X}}function _c(i,g){const y=i?Object.keys(i):void 0,O=g?Object.keys(g):void 0;if(!y||!O||y.length!=O.length)return!1;let X;for(let le=0;le<y.length;le++)if(X=y[le],!F3(i[X],g[X]))return!1;return!0}function F3(i,g){if(Array.isArray(i)&&Array.isArray(g)){if(i.length!==g.length)return!1;const y=[...i].sort(),O=[...g].sort();return y.every((X,le)=>O[le]===X)}return i===g}function N3(i){return i.length>0?i[i.length-1]:null}function Uf(i){return function gE(i){return!!i&&(i instanceof P||gr(i.lift)&&gr(i.subscribe))}(i)?i:um(i)?mn(Promise.resolve(i)):vn(i)}const RE={exact:function j3(i,g,y){if(!Ch(i.segments,g.segments)||!Um(i.segments,g.segments,y)||i.numberOfChildren!==g.numberOfChildren)return!1;for(const O in g.children)if(!i.children[O]||!j3(i.children[O],g.children[O],y))return!1;return!0},subset:U3},z3={exact:function FE(i,g){return _c(i,g)},subset:function NE(i,g){return Object.keys(g).length<=Object.keys(i).length&&Object.keys(g).every(y=>F3(i[y],g[y]))},ignored:()=>!0};function B3(i,g,y){return RE[y.paths](i.root,g.root,y.matrixParams)&&z3[y.queryParams](i.queryParams,g.queryParams)&&!("exact"===y.fragment&&i.fragment!==g.fragment)}function U3(i,g,y){return V3(i,g,g.segments,y)}function V3(i,g,y,O){if(i.segments.length>y.length){const X=i.segments.slice(0,y.length);return!(!Ch(X,y)||g.hasChildren()||!Um(X,y,O))}if(i.segments.length===y.length){if(!Ch(i.segments,y)||!Um(i.segments,y,O))return!1;for(const X in g.children)if(!i.children[X]||!U3(i.children[X],g.children[X],O))return!1;return!0}{const X=y.slice(0,i.segments.length),le=y.slice(i.segments.length);return!!(Ch(i.segments,X)&&Um(i.segments,X,O)&&i.children[zi])&&V3(i.children[zi],g,le,O)}}function Um(i,g,y){return g.every((O,X)=>z3[y](i[X].parameters,O.parameters))}class sp{constructor(g=new Uo([],{}),y={},O=null){this.root=g,this.queryParams=y,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ap(this.queryParams)),this._queryParamMap}toString(){return jE.serialize(this)}}class Uo{constructor(g,y){this.segments=g,this.children=y,this.parent=null,Object.values(y).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vm(this)}}class U0{constructor(g,y){this.path=g,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=ap(this.parameters)),this._parameterMap}toString(){return q3(this)}}function Ch(i,g){return i.length===g.length&&i.every((y,O)=>y.path===g[O].path)}let V0=(()=>{class i{}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:function(){return new Ky},providedIn:"root"}),i})();class Ky{parse(g){const y=new KE(g);return new sp(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(g){const y=`/${H0(g.root,!0)}`,O=function HE(i){const g=Object.keys(i).map(y=>{const O=i[y];return Array.isArray(O)?O.map(X=>`${Hm(y)}=${Hm(X)}`).join("&"):`${Hm(y)}=${Hm(O)}`}).filter(y=>!!y);return g.length?`?${g.join("&")}`:""}(g.queryParams);return`${y}${O}${"string"==typeof g.fragment?`#${function UE(i){return encodeURI(i)}(g.fragment)}`:""}`}}const jE=new Ky;function Vm(i){return i.segments.map(g=>q3(g)).join("/")}function H0(i,g){if(!i.hasChildren())return Vm(i);if(g){const y=i.children[zi]?H0(i.children[zi],!1):"",O=[];return Object.entries(i.children).forEach(([X,le])=>{X!==zi&&O.push(`${X}:${H0(le,!1)}`)}),O.length>0?`${y}(${O.join("//")})`:y}{const y=function BE(i,g){let y=[];return Object.entries(i.children).forEach(([O,X])=>{O===zi&&(y=y.concat(g(X,O)))}),Object.entries(i.children).forEach(([O,X])=>{O!==zi&&(y=y.concat(g(X,O)))}),y}(i,(O,X)=>X===zi?[H0(i.children[zi],!1)]:[`${X}:${H0(O,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[zi]?`${Vm(i)}/${y[0]}`:`${Vm(i)}/(${y.join("//")})`}}function H3(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hm(i){return H3(i).replace(/%3B/gi,";")}function Jy(i){return H3(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gm(i){return decodeURIComponent(i)}function G3(i){return Gm(i.replace(/\+/g,"%20"))}function q3(i){return`${Jy(i.path)}${function VE(i){return Object.keys(i).map(g=>`;${Jy(g)}=${Jy(i[g])}`).join("")}(i.parameters)}`}const GE=/^[^\/()?;#]+/;function Qy(i){const g=i.match(GE);return g?g[0]:""}const qE=/^[^\/()?;=#]+/,ZE=/^[^=?&#]+/,$E=/^[^&#]+/;class KE{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Uo([],{}):new Uo([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(g.length>0||Object.keys(y).length>0)&&(O[zi]=new Uo(g,y)),O}parseSegment(){const g=Qy(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new An(4009,!1);return this.capture(g),new U0(Gm(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const y=function WE(i){const g=i.match(qE);return g?g[0]:""}(this.remaining);if(!y)return;this.capture(y);let O="";if(this.consumeOptional("=")){const X=Qy(this.remaining);X&&(O=X,this.capture(O))}g[Gm(y)]=Gm(O)}parseQueryParam(g){const y=function YE(i){const g=i.match(ZE);return g?g[0]:""}(this.remaining);if(!y)return;this.capture(y);let O="";if(this.consumeOptional("=")){const Me=function XE(i){const g=i.match($E);return g?g[0]:""}(this.remaining);Me&&(O=Me,this.capture(O))}const X=G3(y),le=G3(O);if(g.hasOwnProperty(X)){let Me=g[X];Array.isArray(Me)||(Me=[Me],g[X]=Me),Me.push(le)}else g[X]=le}parseParens(g){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Qy(this.remaining),X=this.remaining[O.length];if("/"!==X&&")"!==X&&";"!==X)throw new An(4010,!1);let le;O.indexOf(":")>-1?(le=O.slice(0,O.indexOf(":")),this.capture(le),this.capture(":")):g&&(le=zi);const Me=this.parseChildren();y[le]=1===Object.keys(Me).length?Me[zi]:new Uo([],Me),this.consumeOptional("//")}return y}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new An(4011,!1)}}function W3(i){return i.segments.length>0?new Uo([],{[zi]:i}):i}function Z3(i){const g={};for(const O of Object.keys(i.children)){const le=Z3(i.children[O]);if(O===zi&&0===le.segments.length&&le.hasChildren())for(const[Me,qe]of Object.entries(le.children))g[Me]=qe;else(le.segments.length>0||le.hasChildren())&&(g[O]=le)}return function JE(i){if(1===i.numberOfChildren&&i.children[zi]){const g=i.children[zi];return new Uo(i.segments.concat(g.segments),g.children)}return i}(new Uo(i.segments,g))}function Dh(i){return i instanceof sp}function Y3(i){let g;const X=W3(function y(le){const Me={};for(const Qe of le.children){const ht=y(Qe);Me[Qe.outlet]=ht}const qe=new Uo(le.url,Me);return le===i&&(g=qe),qe}(i.root));return g??X}function $3(i,g,y,O){let X=i;for(;X.parent;)X=X.parent;if(0===g.length)return ex(X,X,X,y,O);const le=function eC(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new K3(!0,0,i);let g=0,y=!1;const O=i.reduce((X,le,Me)=>{if("object"==typeof le&&null!=le){if(le.outlets){const qe={};return Object.entries(le.outlets).forEach(([Qe,ht])=>{qe[Qe]="string"==typeof ht?ht.split("/"):ht}),[...X,{outlets:qe}]}if(le.segmentPath)return[...X,le.segmentPath]}return"string"!=typeof le?[...X,le]:0===Me?(le.split("/").forEach((qe,Qe)=>{0==Qe&&"."===qe||(0==Qe&&""===qe?y=!0:".."===qe?g++:""!=qe&&X.push(qe))}),X):[...X,le]},[]);return new K3(y,g,O)}(g);if(le.toRoot())return ex(X,X,new Uo([],{}),y,O);const Me=function tC(i,g,y){if(i.isAbsolute)return new Wm(g,!0,0);if(!y)return new Wm(g,!1,NaN);if(null===y.parent)return new Wm(y,!0,0);const O=qm(i.commands[0])?0:1;return function nC(i,g,y){let O=i,X=g,le=y;for(;le>X;){if(le-=X,O=O.parent,!O)throw new An(4005,!1);X=O.segments.length}return new Wm(O,!1,X-le)}(y,y.segments.length-1+O,i.numberOfDoubleDots)}(le,X,i),qe=Me.processChildren?q0(Me.segmentGroup,Me.index,le.commands):J3(Me.segmentGroup,Me.index,le.commands);return ex(X,Me.segmentGroup,qe,y,O)}function qm(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function G0(i){return"object"==typeof i&&null!=i&&i.outlets}function ex(i,g,y,O,X){let Me,le={};O&&Object.entries(O).forEach(([Qe,ht])=>{le[Qe]=Array.isArray(ht)?ht.map(Lt=>`${Lt}`):`${ht}`}),Me=i===g?y:X3(i,g,y);const qe=W3(Z3(Me));return new sp(qe,le,X)}function X3(i,g,y){const O={};return Object.entries(i.children).forEach(([X,le])=>{O[X]=le===g?y:X3(le,g,y)}),new Uo(i.segments,O)}class K3{constructor(g,y,O){if(this.isAbsolute=g,this.numberOfDoubleDots=y,this.commands=O,g&&O.length>0&&qm(O[0]))throw new An(4003,!1);const X=O.find(G0);if(X&&X!==N3(O))throw new An(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wm{constructor(g,y,O){this.segmentGroup=g,this.processChildren=y,this.index=O}}function J3(i,g,y){if(i||(i=new Uo([],{})),0===i.segments.length&&i.hasChildren())return q0(i,g,y);const O=function iC(i,g,y){let O=0,X=g;const le={match:!1,pathIndex:0,commandIndex:0};for(;X<i.segments.length;){if(O>=y.length)return le;const Me=i.segments[X],qe=y[O];if(G0(qe))break;const Qe=`${qe}`,ht=O<y.length-1?y[O+1]:null;if(X>0&&void 0===Qe)break;if(Qe&&ht&&"object"==typeof ht&&void 0===ht.outlets){if(!e5(Qe,ht,Me))return le;O+=2}else{if(!e5(Qe,{},Me))return le;O++}X++}return{match:!0,pathIndex:X,commandIndex:O}}(i,g,y),X=y.slice(O.commandIndex);if(O.match&&O.pathIndex<i.segments.length){const le=new Uo(i.segments.slice(0,O.pathIndex),{});return le.children[zi]=new Uo(i.segments.slice(O.pathIndex),i.children),q0(le,0,X)}return O.match&&0===X.length?new Uo(i.segments,{}):O.match&&!i.hasChildren()?tx(i,g,y):O.match?q0(i,0,X):tx(i,g,y)}function q0(i,g,y){if(0===y.length)return new Uo(i.segments,{});{const O=function rC(i){return G0(i[0])?i[0].outlets:{[zi]:i}}(y),X={};if(!O[zi]&&i.children[zi]&&1===i.numberOfChildren&&0===i.children[zi].segments.length){const le=q0(i.children[zi],g,y);return new Uo(i.segments,le.children)}return Object.entries(O).forEach(([le,Me])=>{"string"==typeof Me&&(Me=[Me]),null!==Me&&(X[le]=J3(i.children[le],g,Me))}),Object.entries(i.children).forEach(([le,Me])=>{void 0===O[le]&&(X[le]=Me)}),new Uo(i.segments,X)}}function tx(i,g,y){const O=i.segments.slice(0,g);let X=0;for(;X<y.length;){const le=y[X];if(G0(le)){const Qe=oC(le.outlets);return new Uo(O,Qe)}if(0===X&&qm(y[0])){O.push(new U0(i.segments[g].path,Q3(y[0]))),X++;continue}const Me=G0(le)?le.outlets[zi]:`${le}`,qe=X<y.length-1?y[X+1]:null;Me&&qe&&qm(qe)?(O.push(new U0(Me,Q3(qe))),X+=2):(O.push(new U0(Me,{})),X++)}return new Uo(O,{})}function oC(i){const g={};return Object.entries(i).forEach(([y,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(g[y]=tx(new Uo([],{}),0,O))}),g}function Q3(i){const g={};return Object.entries(i).forEach(([y,O])=>g[y]=`${O}`),g}function e5(i,g,y){return i==y.path&&_c(g,y.parameters)}const W0="imperative";class wc{constructor(g,y){this.id=g,this.url=y}}class nx extends wc{constructor(g,y,O="imperative",X=null){super(g,y),this.type=0,this.navigationTrigger=O,this.restoredState=X}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ih extends wc{constructor(g,y,O){super(g,y),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zm extends wc{constructor(g,y,O,X){super(g,y),this.reason=O,this.code=X,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Z0 extends wc{constructor(g,y,O,X){super(g,y),this.reason=O,this.code=X,this.type=16}}class rx extends wc{constructor(g,y,O,X){super(g,y),this.error=O,this.target=X,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aC extends wc{constructor(g,y,O,X){super(g,y),this.urlAfterRedirects=O,this.state=X,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sC extends wc{constructor(g,y,O,X){super(g,y),this.urlAfterRedirects=O,this.state=X,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lC extends wc{constructor(g,y,O,X,le){super(g,y),this.urlAfterRedirects=O,this.state=X,this.shouldActivate=le,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uC extends wc{constructor(g,y,O,X){super(g,y),this.urlAfterRedirects=O,this.state=X,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cC extends wc{constructor(g,y,O,X){super(g,y),this.urlAfterRedirects=O,this.state=X,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fC{constructor(g){this.route=g,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hC{constructor(g){this.route=g,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dC{constructor(g){this.snapshot=g,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pC{constructor(g){this.snapshot=g,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gC{constructor(g){this.snapshot=g,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mC{constructor(g){this.snapshot=g,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t5{constructor(g,y,O){this.routerEvent=g,this.position=y,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vC{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Y0,this.attachRef=null}}let Y0=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(y,O){const X=this.getOrCreateContext(y);X.outlet=O,this.contexts.set(y,X)}onChildOutletDestroyed(y){const O=this.getContext(y);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let O=this.getContext(y);return O||(O=new vC,this.contexts.set(y,O)),O}getContext(y){return this.contexts.get(y)||null}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class n5{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const y=this.pathFromRoot(g);return y.length>1?y[y.length-2]:null}children(g){const y=ix(g,this._root);return y?y.children.map(O=>O.value):[]}firstChild(g){const y=ix(g,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(g){const y=ox(g,this._root);return y.length<2?[]:y[y.length-2].children.map(X=>X.value).filter(X=>X!==g)}pathFromRoot(g){return ox(g,this._root).map(y=>y.value)}}function ix(i,g){if(i===g.value)return g;for(const y of g.children){const O=ix(i,y);if(O)return O}return null}function ox(i,g){if(i===g.value)return[g];for(const y of g.children){const O=ox(i,y);if(O.length)return O.unshift(g),O}return[]}class Yc{constructor(g,y){this.value=g,this.children=y}toString(){return`TreeNode(${this.value})`}}function lp(i){const g={};return i&&i.children.forEach(y=>g[y.value.outlet]=y),g}class r5 extends n5{constructor(g,y){super(g),this.snapshot=y,ax(this,g)}toString(){return this.snapshot.toString()}}function i5(i,g){const y=function yC(i,g){const Me=new Ym([],{},{},"",{},zi,g,null,{});return new a5("",new Yc(Me,[]))}(0,g),O=new U([new U0("",{})]),X=new U({}),le=new U({}),Me=new U({}),qe=new U(""),Qe=new up(O,X,Me,qe,le,zi,g,y.root);return Qe.snapshot=y.root,new r5(new Yc(Qe,[]),y)}class up{constructor(g,y,O,X,le,Me,qe,Qe){this.urlSubject=g,this.paramsSubject=y,this.queryParamsSubject=O,this.fragmentSubject=X,this.dataSubject=le,this.outlet=Me,this.component=qe,this._futureSnapshot=Qe,this.title=this.dataSubject?.pipe(Q(ht=>ht[j0]))??vn(void 0),this.url=g,this.params=y,this.queryParams=O,this.fragment=X,this.data=le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Q(g=>ap(g)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Q(g=>ap(g)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function o5(i,g="emptyOnly"){const y=i.pathFromRoot;let O=0;if("always"!==g)for(O=y.length-1;O>=1;){const X=y[O],le=y[O-1];if(X.routeConfig&&""===X.routeConfig.path)O--;else{if(le.component)break;O--}}return function xC(i){return i.reduce((g,y)=>({params:{...g.params,...y.params},data:{...g.data,...y.data},resolve:{...y.data,...g.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(O))}class Ym{get title(){return this.data?.[j0]}constructor(g,y,O,X,le,Me,qe,Qe,ht){this.url=g,this.params=y,this.queryParams=O,this.fragment=X,this.data=le,this.outlet=Me,this.component=qe,this.routeConfig=Qe,this._resolve=ht}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class a5 extends n5{constructor(g,y){super(y),this.url=g,ax(this,y)}toString(){return s5(this._root)}}function ax(i,g){g.value._routerState=i,g.children.forEach(y=>ax(i,y))}function s5(i){const g=i.children.length>0?` { ${i.children.map(s5).join(", ")} } `:"";return`${i.value}${g}`}function sx(i){if(i.snapshot){const g=i.snapshot,y=i._futureSnapshot;i.snapshot=y,_c(g.queryParams,y.queryParams)||i.queryParamsSubject.next(y.queryParams),g.fragment!==y.fragment&&i.fragmentSubject.next(y.fragment),_c(g.params,y.params)||i.paramsSubject.next(y.params),function OE(i,g){if(i.length!==g.length)return!1;for(let y=0;y<i.length;++y)if(!_c(i[y],g[y]))return!1;return!0}(g.url,y.url)||i.urlSubject.next(y.url),_c(g.data,y.data)||i.dataSubject.next(y.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function lx(i,g){const y=_c(i.params,g.params)&&function zE(i,g){return Ch(i,g)&&i.every((y,O)=>_c(y.parameters,g[O].parameters))}(i.url,g.url);return y&&!(!i.parent!=!g.parent)&&(!i.parent||lx(i.parent,g.parent))}let l5=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=zi,this.activateEvents=new vi,this.deactivateEvents=new vi,this.attachEvents=new vi,this.detachEvents=new vi,this.parentContexts=qr(Y0),this.location=qr($u),this.changeDetector=qr(ay),this.environmentInjector=qr(Gl),this.inputBinder=qr($m,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:O,previousValue:X}=y.name;if(O)return;this.isTrackedInParentContexts(X)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(X)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new An(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new An(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new An(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,O){this.activated=y,this._activatedRoute=O,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,O){if(this.isActivated)throw new An(4013,!1);this._activatedRoute=y;const X=this.location,Me=y.snapshot.component,qe=this.parentContexts.getOrCreateContext(this.name).children,Qe=new bC(y,qe,X.injector);this.activated=X.createComponent(Me,{index:X.length,injector:Qe,environmentInjector:O??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275dir=yi({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nt]}),i})();class bC{constructor(g,y,O){this.route=g,this.childContexts=y,this.parent=O}get(g,y){return g===up?this.route:g===Y0?this.childContexts:this.parent.get(g,y)}}const $m=new ai("");let u5=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:O}=y,X=Wy([O.queryParams,O.params,O.data]).pipe(On(([le,Me,qe],Qe)=>(qe={...le,...Me,...qe},0===Qe?vn(qe):Promise.resolve(qe)))).subscribe(le=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(y);const Me=function G8(i){const g=Ai(i);if(!g)return null;const y=new v0(g);return{get selector(){return y.selector},get type(){return y.componentType},get inputs(){return y.inputs},get outputs(){return y.outputs},get ngContentSelectors(){return y.ngContentSelectors},get isStandalone(){return g.standalone},get isSignal(){return g.signals}}}(O.component);if(Me)for(const{templateName:qe}of Me.inputs)y.activatedComponentRef.setInput(qe,le[qe]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,X)}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac}),i})();function $0(i,g,y){if(y&&i.shouldReuseRoute(g.value,y.value.snapshot)){const O=y.value;O._futureSnapshot=g.value;const X=function wC(i,g,y){return g.children.map(O=>{for(const X of y.children)if(i.shouldReuseRoute(O.value,X.value.snapshot))return $0(i,O,X);return $0(i,O)})}(i,g,y);return new Yc(O,X)}{if(i.shouldAttach(g.value)){const le=i.retrieve(g.value);if(null!==le){const Me=le.route;return Me.value._futureSnapshot=g.value,Me.children=g.children.map(qe=>$0(i,qe)),Me}}const O=function TC(i){return new up(new U(i.url),new U(i.params),new U(i.queryParams),new U(i.fragment),new U(i.data),i.outlet,i.component,i)}(g.value),X=g.children.map(le=>$0(i,le));return new Yc(O,X)}}const ux="ngNavigationCancelingError";function c5(i,g){const{redirectTo:y,navigationBehaviorOptions:O}=Dh(g)?{redirectTo:g,navigationBehaviorOptions:void 0}:g,X=f5(!1,0,g);return X.url=y,X.navigationBehaviorOptions=O,X}function f5(i,g,y){const O=new Error("NavigationCancelingError: "+(i||""));return O[ux]=!0,O.cancellationCode=g,y&&(O.url=y),O}function h5(i){return d5(i)&&Dh(i.url)}function d5(i){return i&&i[ux]}let p5=(()=>{class i{}return i.\u0275fac=function(y){return new(y||i)},i.\u0275cmp=Es({type:i,selectors:[["ng-component"]],standalone:!0,features:[g_],decls:1,vars:0,template:function(y,O){1&y&&Xd(0,"router-outlet")},dependencies:[l5],encapsulation:2}),i})();function cx(i){const g=i.children&&i.children.map(cx),y=g?{...i,children:g}:{...i};return!y.component&&!y.loadComponent&&(g||y.loadChildren)&&y.outlet&&y.outlet!==zi&&(y.component=p5),y}function Qu(i){return i.outlet||zi}function X0(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let g=i.parent;g;g=g.parent){const y=g.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class DC{constructor(g,y,O,X,le){this.routeReuseStrategy=g,this.futureState=y,this.currState=O,this.forwardEvent=X,this.inputBindingEnabled=le}activate(g){const y=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,O,g),sx(this.futureState.root),this.activateChildRoutes(y,O,g)}deactivateChildRoutes(g,y,O){const X=lp(y);g.children.forEach(le=>{const Me=le.value.outlet;this.deactivateRoutes(le,X[Me],O),delete X[Me]}),Object.values(X).forEach(le=>{this.deactivateRouteAndItsChildren(le,O)})}deactivateRoutes(g,y,O){const X=g.value,le=y?y.value:null;if(X===le)if(X.component){const Me=O.getContext(X.outlet);Me&&this.deactivateChildRoutes(g,y,Me.children)}else this.deactivateChildRoutes(g,y,O);else le&&this.deactivateRouteAndItsChildren(y,O)}deactivateRouteAndItsChildren(g,y){g.value.component&&this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,y):this.deactivateRouteAndOutlet(g,y)}detachAndStoreRouteSubtree(g,y){const O=y.getContext(g.value.outlet),X=O&&g.value.component?O.children:y,le=lp(g);for(const Me of Object.keys(le))this.deactivateRouteAndItsChildren(le[Me],X);if(O&&O.outlet){const Me=O.outlet.detach(),qe=O.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:Me,route:g,contexts:qe})}}deactivateRouteAndOutlet(g,y){const O=y.getContext(g.value.outlet),X=O&&g.value.component?O.children:y,le=lp(g);for(const Me of Object.keys(le))this.deactivateRouteAndItsChildren(le[Me],X);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(g,y,O){const X=lp(y);g.children.forEach(le=>{this.activateRoutes(le,X[le.value.outlet],O),this.forwardEvent(new mC(le.value.snapshot))}),g.children.length&&this.forwardEvent(new pC(g.value.snapshot))}activateRoutes(g,y,O){const X=g.value,le=y?y.value:null;if(sx(X),X===le)if(X.component){const Me=O.getOrCreateContext(X.outlet);this.activateChildRoutes(g,y,Me.children)}else this.activateChildRoutes(g,y,O);else if(X.component){const Me=O.getOrCreateContext(X.outlet);if(this.routeReuseStrategy.shouldAttach(X.snapshot)){const qe=this.routeReuseStrategy.retrieve(X.snapshot);this.routeReuseStrategy.store(X.snapshot,null),Me.children.onOutletReAttached(qe.contexts),Me.attachRef=qe.componentRef,Me.route=qe.route.value,Me.outlet&&Me.outlet.attach(qe.componentRef,qe.route.value),sx(qe.route.value),this.activateChildRoutes(g,null,Me.children)}else{const qe=X0(X.snapshot);Me.attachRef=null,Me.route=X,Me.injector=qe,Me.outlet&&Me.outlet.activateWith(X,Me.injector),this.activateChildRoutes(g,null,Me.children)}}else this.activateChildRoutes(g,null,O)}}class g5{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class Xm{constructor(g,y){this.component=g,this.route=y}}function IC(i,g,y){const O=i._root;return K0(O,g?g._root:null,y,[O.value])}function cp(i,g){const y=Symbol(),O=g.get(i,y);return O===y?"function"!=typeof i||function Qr(i){return null!==Or(i)}(i)?g.get(i):i:O}function K0(i,g,y,O,X={canDeactivateChecks:[],canActivateChecks:[]}){const le=lp(g);return i.children.forEach(Me=>{(function PC(i,g,y,O,X={canDeactivateChecks:[],canActivateChecks:[]}){const le=i.value,Me=g?g.value:null,qe=y?y.getContext(i.value.outlet):null;if(Me&&le.routeConfig===Me.routeConfig){const Qe=function OC(i,g,y){if("function"==typeof y)return y(i,g);switch(y){case"pathParamsChange":return!Ch(i.url,g.url);case"pathParamsOrQueryParamsChange":return!Ch(i.url,g.url)||!_c(i.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lx(i,g)||!_c(i.queryParams,g.queryParams);default:return!lx(i,g)}}(Me,le,le.routeConfig.runGuardsAndResolvers);Qe?X.canActivateChecks.push(new g5(O)):(le.data=Me.data,le._resolvedData=Me._resolvedData),K0(i,g,le.component?qe?qe.children:null:y,O,X),Qe&&qe&&qe.outlet&&qe.outlet.isActivated&&X.canDeactivateChecks.push(new Xm(qe.outlet.component,Me))}else Me&&J0(g,qe,X),X.canActivateChecks.push(new g5(O)),K0(i,null,le.component?qe?qe.children:null:y,O,X)})(Me,le[Me.value.outlet],y,O.concat([Me.value]),X),delete le[Me.value.outlet]}),Object.entries(le).forEach(([Me,qe])=>J0(qe,y.getContext(Me),X)),X}function J0(i,g,y){const O=lp(i),X=i.value;Object.entries(O).forEach(([le,Me])=>{J0(Me,X.component?g?g.children.getContext(le):null:g,y)}),y.canDeactivateChecks.push(new Xm(X.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,X))}function Q0(i){return"function"==typeof i}function m5(i){return i instanceof zm||"EmptyError"===i?.name}const Km=Symbol("INITIAL_VALUE");function fp(){return On(i=>Wy(i.map(g=>g.pipe(Zl(1),function SE(...i){const g=Zt(i);return Y((y,O)=>{(g?z0(i,y,g):z0(i,y)).subscribe(O)})}(Km)))).pipe(Q(g=>{for(const y of g)if(!0!==y){if(y===Km)return Km;if(!1===y||y instanceof sp)return y}return!0}),Yl(g=>g!==Km),Zl(1)))}function v5(i){return function I(...i){return L(i)}(fl(g=>{if(Dh(g))throw c5(0,g)}),Q(g=>!0===g))}class Jm{constructor(g){this.segmentGroup=g||null}}class y5{constructor(g){this.urlTree=g}}function hp(i){return op(new Jm(i))}function x5(i){return op(new y5(i))}class e7{constructor(g,y){this.urlSerializer=g,this.urlTree=y}noMatchError(g){return new An(4002,!1)}lineralizeSegments(g,y){let O=[],X=y.root;for(;;){if(O=O.concat(X.segments),0===X.numberOfChildren)return vn(O);if(X.numberOfChildren>1||!X.children[zi])return op(new An(4e3,!1));X=X.children[zi]}}applyRedirectCommands(g,y,O){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),g,O)}applyRedirectCreateUrlTree(g,y,O,X){const le=this.createSegmentGroup(g,y.root,O,X);return new sp(le,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(g,y){const O={};return Object.entries(g).forEach(([X,le])=>{if("string"==typeof le&&le.startsWith(":")){const qe=le.substring(1);O[X]=y[qe]}else O[X]=le}),O}createSegmentGroup(g,y,O,X){const le=this.createSegments(g,y.segments,O,X);let Me={};return Object.entries(y.children).forEach(([qe,Qe])=>{Me[qe]=this.createSegmentGroup(g,Qe,O,X)}),new Uo(le,Me)}createSegments(g,y,O,X){return y.map(le=>le.path.startsWith(":")?this.findPosParam(g,le,X):this.findOrReturn(le,O))}findPosParam(g,y,O){const X=O[y.path.substring(1)];if(!X)throw new An(4001,!1);return X}findOrReturn(g,y){let O=0;for(const X of y){if(X.path===g.path)return y.splice(O),X;O++}return g}}const fx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function t7(i,g,y,O,X){const le=hx(i,g,y);return le.matched?(O=function MC(i,g){return i.providers&&!i._injector&&(i._injector=P1(i.providers,g,`Route: ${i.path}`)),i._injector??g}(g,O),function KC(i,g,y,O){const X=g.canMatch;return X&&0!==X.length?vn(X.map(Me=>{const qe=cp(Me,i);return Uf(function jC(i){return i&&Q0(i.canMatch)}(qe)?qe.canMatch(g,y):i.runInContext(()=>qe(g,y)))})).pipe(fp(),v5()):vn(!0)}(O,g,y).pipe(Q(Me=>!0===Me?le:{...fx}))):vn(le)}function hx(i,g,y){if(""===g.path)return"full"===g.pathMatch&&(i.hasChildren()||y.length>0)?{...fx}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const X=(g.matcher||PE)(y,i,g);if(!X)return{...fx};const le={};Object.entries(X.posParams??{}).forEach(([qe,Qe])=>{le[qe]=Qe.path});const Me=X.consumed.length>0?{...le,...X.consumed[X.consumed.length-1].parameters}:le;return{matched:!0,consumedSegments:X.consumed,remainingSegments:y.slice(X.consumed.length),parameters:Me,positionalParamSegments:X.posParams??{}}}function b5(i,g,y,O){return y.length>0&&function i7(i,g,y){return y.some(O=>Qm(i,g,O)&&Qu(O)!==zi)}(i,y,O)?{segmentGroup:new Uo(g,r7(O,new Uo(y,i.children))),slicedSegments:[]}:0===y.length&&function o7(i,g,y){return y.some(O=>Qm(i,g,O))}(i,y,O)?{segmentGroup:new Uo(i.segments,n7(i,0,y,O,i.children)),slicedSegments:y}:{segmentGroup:new Uo(i.segments,i.children),slicedSegments:y}}function n7(i,g,y,O,X){const le={};for(const Me of O)if(Qm(i,y,Me)&&!X[Qu(Me)]){const qe=new Uo([],{});le[Qu(Me)]=qe}return{...X,...le}}function r7(i,g){const y={};y[zi]=g;for(const O of i)if(""===O.path&&Qu(O)!==zi){const X=new Uo([],{});y[Qu(O)]=X}return y}function Qm(i,g,y){return(!(i.hasChildren()||g.length>0)||"full"!==y.pathMatch)&&""===y.path}class u7{constructor(g,y,O,X,le,Me,qe){this.injector=g,this.configLoader=y,this.rootComponentType=O,this.config=X,this.urlTree=le,this.paramsInheritanceStrategy=Me,this.urlSerializer=qe,this.allowRedirects=!0,this.applyRedirects=new e7(this.urlSerializer,this.urlTree)}noMatchError(g){return new An(4002,!1)}recognize(){const g=b5(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,g,zi).pipe(Eh(y=>{if(y instanceof y5)return this.allowRedirects=!1,this.urlTree=y.urlTree,this.match(y.urlTree);throw y instanceof Jm?this.noMatchError(y):y}),Q(y=>{const O=new Ym([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zi,this.rootComponentType,null,{}),X=new Yc(O,y),le=new a5("",X),Me=function QE(i,g,y=null,O=null){return $3(Y3(i),g,y,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return Me.queryParams=this.urlTree.queryParams,le.url=this.urlSerializer.serialize(Me),this.inheritParamsAndData(le._root),{state:le,tree:Me}}))}match(g){return this.processSegmentGroup(this.injector,this.config,g.root,zi).pipe(Eh(O=>{throw O instanceof Jm?this.noMatchError(O):O}))}inheritParamsAndData(g){const y=g.value,O=o5(y,this.paramsInheritanceStrategy);y.params=Object.freeze(O.params),y.data=Object.freeze(O.data),g.children.forEach(X=>this.inheritParamsAndData(X))}processSegmentGroup(g,y,O,X){return 0===O.segments.length&&O.hasChildren()?this.processChildren(g,y,O):this.processSegment(g,y,O,O.segments,X,!0)}processChildren(g,y,O){const X=[];for(const le of Object.keys(O.children))"primary"===le?X.unshift(le):X.push(le);return mn(X).pipe(B0(le=>{const Me=O.children[le],qe=function EC(i,g){const y=i.filter(O=>Qu(O)===g);return y.push(...i.filter(O=>Qu(O)!==g)),y}(y,le);return this.processSegmentGroup(g,qe,Me,le)}),function DE(i,g){return Y(function CE(i,g,y,O,X){return(le,Me)=>{let qe=y,Qe=g,ht=0;le.subscribe(ae(Me,Lt=>{const Yt=ht++;Qe=qe?i(Qe,Lt,Yt):(qe=!0,Lt),O&&Me.next(Qe)},X&&(()=>{qe&&Me.next(Qe),Me.complete()})))}}(i,g,arguments.length>=2,!0))}((le,Me)=>(le.push(...Me),le)),jm(null),function IE(i,g){const y=arguments.length>=2;return O=>O.pipe(i?Yl((X,le)=>i(X,le,O)):k,$y(1),y?jm(g):O3(()=>new zm))}(),At(le=>{if(null===le)return hp(O);const Me=_5(le);return function c7(i){i.sort((g,y)=>g.value.outlet===zi?-1:y.value.outlet===zi?1:g.value.outlet.localeCompare(y.value.outlet))}(Me),vn(Me)}))}processSegment(g,y,O,X,le,Me){return mn(y).pipe(B0(qe=>this.processSegmentAgainstRoute(qe._injector??g,y,qe,O,X,le,Me).pipe(Eh(Qe=>{if(Qe instanceof Jm)return vn(null);throw Qe}))),Sh(qe=>!!qe),Eh(qe=>{if(m5(qe))return function s7(i,g,y){return 0===g.length&&!i.children[y]}(O,X,le)?vn([]):hp(O);throw qe}))}processSegmentAgainstRoute(g,y,O,X,le,Me,qe){return function a7(i,g,y,O){return!!(Qu(i)===O||O!==zi&&Qm(g,y,i))&&("**"===i.path||hx(g,i,y).matched)}(O,X,le,Me)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(g,X,O,le,Me,qe):qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(g,X,y,O,le,Me):hp(X):hp(X)}expandSegmentAgainstRouteUsingRedirect(g,y,O,X,le,Me){return"**"===X.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(g,O,X,Me):this.expandRegularSegmentAgainstRouteUsingRedirect(g,y,O,X,le,Me)}expandWildCardWithParamsAgainstRouteUsingRedirect(g,y,O,X){const le=this.applyRedirects.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?x5(le):this.applyRedirects.lineralizeSegments(O,le).pipe(At(Me=>{const qe=new Uo(Me,{});return this.processSegment(g,y,qe,Me,X,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(g,y,O,X,le,Me){const{matched:qe,consumedSegments:Qe,remainingSegments:ht,positionalParamSegments:Lt}=hx(y,X,le);if(!qe)return hp(y);const Yt=this.applyRedirects.applyRedirectCommands(Qe,X.redirectTo,Lt);return X.redirectTo.startsWith("/")?x5(Yt):this.applyRedirects.lineralizeSegments(X,Yt).pipe(At(Mn=>this.processSegment(g,O,y,Mn.concat(ht),Me,!1)))}matchSegmentAgainstRoute(g,y,O,X,le,Me){let qe;if("**"===O.path){const Qe=X.length>0?N3(X).parameters:{};qe=vn({snapshot:new Ym(X,Qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w5(O),Qu(O),O.component??O._loadedComponent??null,O,T5(O)),consumedSegments:[],remainingSegments:[]}),y.children={}}else qe=t7(y,O,X,g).pipe(Q(({matched:Qe,consumedSegments:ht,remainingSegments:Lt,parameters:Yt})=>Qe?{snapshot:new Ym(ht,Yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w5(O),Qu(O),O.component??O._loadedComponent??null,O,T5(O)),consumedSegments:ht,remainingSegments:Lt}:null));return qe.pipe(On(Qe=>null===Qe?hp(y):this.getChildConfig(g=O._injector??g,O,X).pipe(On(({routes:ht})=>{const Lt=O._loadedInjector??g,{snapshot:Yt,consumedSegments:Mn,remainingSegments:zn}=Qe,{segmentGroup:nr,slicedSegments:br}=b5(y,Mn,zn,ht);if(0===br.length&&nr.hasChildren())return this.processChildren(Lt,ht,nr).pipe(Q(Fr=>null===Fr?null:[new Yc(Yt,Fr)]));if(0===ht.length&&0===br.length)return vn([new Yc(Yt,[])]);const Ir=Qu(O)===le;return this.processSegment(Lt,ht,nr,br,Ir?zi:le,!0).pipe(Q(Fr=>[new Yc(Yt,Fr)]))}))))}getChildConfig(g,y,O){return y.children?vn({routes:y.children,injector:g}):y.loadChildren?void 0!==y._loadedRoutes?vn({routes:y._loadedRoutes,injector:y._loadedInjector}):function XC(i,g,y,O){const X=g.canLoad;return void 0===X||0===X.length?vn(!0):vn(X.map(Me=>{const qe=cp(Me,i);return Uf(function FC(i){return i&&Q0(i.canLoad)}(qe)?qe.canLoad(g,y):i.runInContext(()=>qe(g,y)))})).pipe(fp(),v5())}(g,y,O).pipe(At(X=>X?this.configLoader.loadChildren(g,y).pipe(fl(le=>{y._loadedRoutes=le.routes,y._loadedInjector=le.injector})):function QC(i){return op(f5(!1,3))}())):vn({routes:[],injector:g})}}function f7(i){const g=i.value.routeConfig;return g&&""===g.path}function _5(i){const g=[],y=new Set;for(const O of i){if(!f7(O)){g.push(O);continue}const X=g.find(le=>O.value.routeConfig===le.value.routeConfig);void 0!==X?(X.children.push(...O.children),y.add(X)):g.push(O)}for(const O of y){const X=_5(O.children);g.push(new Yc(O.value,X))}return g.filter(O=>!y.has(O))}function w5(i){return i.data||{}}function T5(i){return i.resolve||{}}function M5(i){return"string"==typeof i.title||null===i.title}function dx(i){return On(g=>{const y=i(g);return y?mn(y).pipe(Q(()=>g)):vn(g)})}const dp=new ai("ROUTES");let px=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=qr(sw)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return vn(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const O=Uf(y.loadComponent()).pipe(Q(A5),fl(le=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=le}),Xy(()=>{this.componentLoaders.delete(y)})),X=new Yy(O,()=>new W).pipe(Zy());return this.componentLoaders.set(y,X),X}loadChildren(y,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return vn({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const le=this.loadModuleFactoryOrRoutes(O.loadChildren).pipe(Q(qe=>{this.onLoadEndListener&&this.onLoadEndListener(O);let Qe,ht;return Array.isArray(qe)?ht=qe:(Qe=qe.create(y).injector,ht=Qe.get(dp,[],$r.Self|$r.Optional).flat()),{routes:ht.map(cx),injector:Qe}}),Xy(()=>{this.childrenLoaders.delete(O)})),Me=new Yy(le,()=>new W).pipe(Zy());return this.childrenLoaders.set(O,Me),Me}loadModuleFactoryOrRoutes(y){return Uf(y()).pipe(Q(A5),At(O=>O instanceof d_||Array.isArray(O)?vn(O):mn(this.compiler.compileModuleAsync(O))))}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function A5(i){return function y7(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let ev=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new W,this.configLoader=qr(px),this.environmentInjector=qr(Gl),this.urlSerializer=qr(V0),this.rootContexts=qr(Y0),this.inputBindingEnabled=null!==qr($m,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>vn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=X=>this.events.next(new hC(X)),this.configLoader.onLoadStartListener=X=>this.events.next(new fC(X))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:O})}setupNavigations(y){return this.transitions=new U({id:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:W0,restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yl(O=>0!==O.id),Q(O=>({...O,extractedUrl:y.urlHandlingStrategy.extract(O.rawUrl)})),On(O=>{let X=!1,le=!1;return vn(O).pipe(fl(Me=>{this.currentNavigation={id:Me.id,initialUrl:Me.rawUrl,extractedUrl:Me.extractedUrl,trigger:Me.source,extras:Me.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),On(Me=>{const qe=y.browserUrlTree.toString(),Qe=!y.navigated||Me.extractedUrl.toString()!==qe||qe!==y.currentUrlTree.toString();if(!Qe&&"reload"!==(Me.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const Lt="";return this.events.next(new Z0(Me.id,y.serializeUrl(O.rawUrl),Lt,0)),y.rawUrlTree=Me.rawUrl,Me.resolve(null),Rt}if(y.urlHandlingStrategy.shouldProcessUrl(Me.rawUrl))return k5(Me.source)&&(y.browserUrlTree=Me.extractedUrl),vn(Me).pipe(On(Lt=>{const Yt=this.transitions?.getValue();return this.events.next(new nx(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),Lt.source,Lt.restoredState)),Yt!==this.transitions?.getValue()?Rt:Promise.resolve(Lt)}),function h7(i,g,y,O,X,le){return At(Me=>function l7(i,g,y,O,X,le,Me="emptyOnly"){return new u7(i,g,y,O,X,Me,le).recognize()}(i,g,y,O,Me.extractedUrl,X,le).pipe(Q(({state:qe,tree:Qe})=>({...Me,targetSnapshot:qe,urlAfterRedirects:Qe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),fl(Lt=>{if(O.targetSnapshot=Lt.targetSnapshot,O.urlAfterRedirects=Lt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Lt.urlAfterRedirects},"eager"===y.urlUpdateStrategy){if(!Lt.extras.skipLocationChange){const Mn=y.urlHandlingStrategy.merge(Lt.urlAfterRedirects,Lt.rawUrl);y.setBrowserUrl(Mn,Lt)}y.browserUrlTree=Lt.urlAfterRedirects}const Yt=new aC(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects),Lt.targetSnapshot);this.events.next(Yt)}));if(Qe&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:Lt,extractedUrl:Yt,source:Mn,restoredState:zn,extras:nr}=Me,br=new nx(Lt,this.urlSerializer.serialize(Yt),Mn,zn);this.events.next(br);const Ir=i5(0,this.rootComponentType).snapshot;return vn(O={...Me,targetSnapshot:Ir,urlAfterRedirects:Yt,extras:{...nr,skipLocationChange:!1,replaceUrl:!1}})}{const Lt="";return this.events.next(new Z0(Me.id,y.serializeUrl(O.extractedUrl),Lt,1)),y.rawUrlTree=Me.rawUrl,Me.resolve(null),Rt}}),fl(Me=>{const qe=new sC(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(Me.urlAfterRedirects),Me.targetSnapshot);this.events.next(qe)}),Q(Me=>O={...Me,guards:IC(Me.targetSnapshot,Me.currentSnapshot,this.rootContexts)}),function VC(i,g){return At(y=>{const{targetSnapshot:O,currentSnapshot:X,guards:{canActivateChecks:le,canDeactivateChecks:Me}}=y;return 0===Me.length&&0===le.length?vn({...y,guardsResult:!0}):function HC(i,g,y,O){return mn(i).pipe(At(X=>function $C(i,g,y,O,X){const le=g&&g.routeConfig?g.routeConfig.canDeactivate:null;return le&&0!==le.length?vn(le.map(qe=>{const Qe=X0(g)??X,ht=cp(qe,Qe);return Uf(function BC(i){return i&&Q0(i.canDeactivate)}(ht)?ht.canDeactivate(i,g,y,O):Qe.runInContext(()=>ht(i,g,y,O))).pipe(Sh())})).pipe(fp()):vn(!0)}(X.component,X.route,y,g,O)),Sh(X=>!0!==X,!0))}(Me,O,X,i).pipe(At(qe=>qe&&function RC(i){return"boolean"==typeof i}(qe)?function GC(i,g,y,O){return mn(g).pipe(B0(X=>z0(function WC(i,g){return null!==i&&g&&g(new dC(i)),vn(!0)}(X.route.parent,O),function qC(i,g){return null!==i&&g&&g(new gC(i)),vn(!0)}(X.route,O),function YC(i,g,y){const O=g[g.length-1],le=g.slice(0,g.length-1).reverse().map(Me=>function LC(i){const g=i.routeConfig?i.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:i,guards:g}:null}(Me)).filter(Me=>null!==Me).map(Me=>Bm(()=>vn(Me.guards.map(Qe=>{const ht=X0(Me.node)??y,Lt=cp(Qe,ht);return Uf(function zC(i){return i&&Q0(i.canActivateChild)}(Lt)?Lt.canActivateChild(O,i):ht.runInContext(()=>Lt(O,i))).pipe(Sh())})).pipe(fp())));return vn(le).pipe(fp())}(i,X.path,y),function ZC(i,g,y){const O=g.routeConfig?g.routeConfig.canActivate:null;if(!O||0===O.length)return vn(!0);const X=O.map(le=>Bm(()=>{const Me=X0(g)??y,qe=cp(le,Me);return Uf(function NC(i){return i&&Q0(i.canActivate)}(qe)?qe.canActivate(g,i):Me.runInContext(()=>qe(g,i))).pipe(Sh())}));return vn(X).pipe(fp())}(i,X.route,y))),Sh(X=>!0!==X,!0))}(O,le,i,g):vn(qe)),Q(qe=>({...y,guardsResult:qe})))})}(this.environmentInjector,Me=>this.events.next(Me)),fl(Me=>{if(O.guardsResult=Me.guardsResult,Dh(Me.guardsResult))throw c5(0,Me.guardsResult);const qe=new lC(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(Me.urlAfterRedirects),Me.targetSnapshot,!!Me.guardsResult);this.events.next(qe)}),Yl(Me=>!!Me.guardsResult||(y.restoreHistory(Me),this.cancelNavigationTransition(Me,"",3),!1)),dx(Me=>{if(Me.guards.canActivateChecks.length)return vn(Me).pipe(fl(qe=>{const Qe=new uC(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot);this.events.next(Qe)}),On(qe=>{let Qe=!1;return vn(qe).pipe(function d7(i,g){return At(y=>{const{targetSnapshot:O,guards:{canActivateChecks:X}}=y;if(!X.length)return vn(y);let le=0;return mn(X).pipe(B0(Me=>function p7(i,g,y,O){const X=i.routeConfig,le=i._resolve;return void 0!==X?.title&&!M5(X)&&(le[j0]=X.title),function g7(i,g,y,O){const X=function m7(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===X.length)return vn({});const le={};return mn(X).pipe(At(Me=>function v7(i,g,y,O){const X=X0(g)??O,le=cp(i,X);return Uf(le.resolve?le.resolve(g,y):X.runInContext(()=>le(g,y)))}(i[Me],g,y,O).pipe(Sh(),fl(qe=>{le[Me]=qe}))),$y(1),R3(le),Eh(Me=>m5(Me)?Rt:op(Me)))}(le,i,g,O).pipe(Q(Me=>(i._resolvedData=Me,i.data=o5(i,y).resolve,X&&M5(X)&&(i.data[j0]=X.title),null)))}(Me.route,O,i,g)),fl(()=>le++),$y(1),At(Me=>le===X.length?vn(y):Rt))})}(y.paramsInheritanceStrategy,this.environmentInjector),fl({next:()=>Qe=!0,complete:()=>{Qe||(y.restoreHistory(qe),this.cancelNavigationTransition(qe,"",2))}}))}),fl(qe=>{const Qe=new cC(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot);this.events.next(Qe)}))}),dx(Me=>{const qe=Qe=>{const ht=[];Qe.routeConfig?.loadComponent&&!Qe.routeConfig._loadedComponent&&ht.push(this.configLoader.loadComponent(Qe.routeConfig).pipe(fl(Lt=>{Qe.component=Lt}),Q(()=>{})));for(const Lt of Qe.children)ht.push(...qe(Lt));return ht};return Wy(qe(Me.targetSnapshot.root)).pipe(jm(),Zl(1))}),dx(()=>this.afterPreactivation()),Q(Me=>{const qe=function _C(i,g,y){const O=$0(i,g._root,y?y._root:void 0);return new r5(O,g)}(y.routeReuseStrategy,Me.targetSnapshot,Me.currentRouterState);return O={...Me,targetRouterState:qe}}),fl(Me=>{y.currentUrlTree=Me.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(Me.urlAfterRedirects,Me.rawUrl),y.routerState=Me.targetRouterState,"deferred"===y.urlUpdateStrategy&&(Me.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,Me),y.browserUrlTree=Me.urlAfterRedirects)}),((i,g,y,O)=>Q(X=>(new DC(g,X.targetRouterState,X.currentRouterState,y,O).activate(i),X)))(this.rootContexts,y.routeReuseStrategy,Me=>this.events.next(Me),this.inputBindingEnabled),Zl(1),fl({next:Me=>{X=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new Ih(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),y.titleStrategy?.updateTitle(Me.targetRouterState.snapshot),Me.resolve(!0)},complete:()=>{X=!0}}),Xy(()=>{X||le||this.cancelNavigationTransition(O,"",1),this.currentNavigation?.id===O.id&&(this.currentNavigation=null)}),Eh(Me=>{if(le=!0,d5(Me)){h5(Me)||(y.navigated=!0,y.restoreHistory(O,!0));const qe=new Zm(O.id,this.urlSerializer.serialize(O.extractedUrl),Me.message,Me.cancellationCode);if(this.events.next(qe),h5(Me)){const Qe=y.urlHandlingStrategy.merge(Me.url,y.rawUrlTree),ht={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||k5(O.source)};y.scheduleNavigation(Qe,W0,null,ht,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{y.restoreHistory(O,!0);const qe=new rx(O.id,this.urlSerializer.serialize(O.extractedUrl),Me,O.targetSnapshot??void 0);this.events.next(qe);try{O.resolve(y.errorHandler(Me))}catch(Qe){O.reject(Qe)}}return Rt}))}))}cancelNavigationTransition(y,O,X){const le=new Zm(y.id,this.urlSerializer.serialize(y.extractedUrl),O,X);this.events.next(le),y.resolve(!1)}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function k5(i){return i!==W0}let S5=(()=>{class i{buildTitle(y){let O,X=y.root;for(;void 0!==X;)O=this.getResolvedTitleForRoute(X)??O,X=X.children.find(le=>le.outlet===zi);return O}getResolvedTitleForRoute(y){return y.data[j0]}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:function(){return qr(x7)},providedIn:"root"}),i})(),x7=(()=>{class i extends S5{constructor(y){super(),this.title=y}updateTitle(y){const O=this.buildTitle(y);void 0!==O&&this.title.setTitle(O)}}return i.\u0275fac=function(y){return new(y||i)(ti(Gy))},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),b7=(()=>{class i{}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:function(){return qr(w7)},providedIn:"root"}),i})();class _7{shouldDetach(g){return!1}store(g,y){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,y){return g.routeConfig===y.routeConfig}}let w7=(()=>{class i extends _7{}return i.\u0275fac=function(){let g;return function(O){return(g||(g=function pg(i){return wa(()=>{const g=i.prototype.constructor,y=g[ia]||Cp(g),O=Object.prototype;let X=Object.getPrototypeOf(i.prototype).constructor;for(;X&&X!==O;){const le=X[ia]||Cp(X);if(le&&le!==y)return le;X=Object.getPrototypeOf(X)}return le=>new le})}(i)))(O||i)}}(),i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const tv=new ai("",{providedIn:"root",factory:()=>({})});let T7=(()=>{class i{}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:function(){return qr(M7)},providedIn:"root"}),i})(),M7=(()=>{class i{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,O){return y}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var pu=(()=>((pu=pu||{})[pu.COMPLETE=0]="COMPLETE",pu[pu.FAILED=1]="FAILED",pu[pu.REDIRECTING=2]="REDIRECTING",pu))();function E5(i,g){i.events.pipe(Yl(y=>y instanceof Ih||y instanceof Zm||y instanceof rx||y instanceof Z0),Q(y=>y instanceof Ih||y instanceof Z0?pu.COMPLETE:y instanceof Zm&&(0===y.code||1===y.code)?pu.REDIRECTING:pu.FAILED),Yl(y=>y!==pu.REDIRECTING),Zl(1)).subscribe(()=>{g()})}function A7(i){throw i}function k7(i,g,y){return g.parse("/")}const S7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},E7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Su=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=qr(ow),this.isNgZoneEnabled=!1,this.options=qr(tv,{optional:!0})||{},this.pendingTasks=qr(aw),this.errorHandler=this.options.errorHandler||A7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||k7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=qr(T7),this.routeReuseStrategy=qr(b7),this.titleStrategy=qr(S5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=qr(dp,{optional:!0})?.flat()??[],this.navigationTransitions=qr(ev),this.urlSerializer=qr(V0),this.location=qr(vy),this.componentInputBindingEnabled=!!qr($m,{optional:!0}),this.isNgZoneEnabled=qr(Sa)instanceof Sa&&Sa.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new sp,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=i5(0,null),this.navigationTransitions.setupNavigations(this).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId??0},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),W0,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const O="popstate"===y.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,O,y.state)},0)}))}navigateToSyncWithBrowser(y,O,X){const le={replaceUrl:!0},Me=X?.navigationId?X:null;if(X){const Qe={...X};delete Qe.navigationId,delete Qe.\u0275routerPageId,0!==Object.keys(Qe).length&&(le.state=Qe)}const qe=this.parseUrl(y);this.scheduleNavigation(qe,O,Me,le)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(cx),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,O={}){const{relativeTo:X,queryParams:le,fragment:Me,queryParamsHandling:qe,preserveFragment:Qe}=O,ht=Qe?this.currentUrlTree.fragment:Me;let Yt,Lt=null;switch(qe){case"merge":Lt={...this.currentUrlTree.queryParams,...le};break;case"preserve":Lt=this.currentUrlTree.queryParams;break;default:Lt=le||null}null!==Lt&&(Lt=this.removeEmptyProps(Lt));try{Yt=Y3(X?X.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||!y[0].startsWith("/"))&&(y=[]),Yt=this.currentUrlTree.root}return $3(Yt,y,Lt,ht??null)}navigateByUrl(y,O={skipLocationChange:!1}){const X=Dh(y)?y:this.parseUrl(y),le=this.urlHandlingStrategy.merge(X,this.rawUrlTree);return this.scheduleNavigation(le,W0,null,O)}navigate(y,O={skipLocationChange:!1}){return function C7(i){for(let g=0;g<i.length;g++)if(null==i[g])throw new An(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,O),O)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let O;try{O=this.urlSerializer.parse(y)}catch(X){O=this.malformedUriErrorHandler(X,this.urlSerializer,y)}return O}isActive(y,O){let X;if(X=!0===O?{...S7}:!1===O?{...E7}:O,Dh(y))return B3(this.currentUrlTree,y,X);const le=this.parseUrl(y);return B3(this.currentUrlTree,le,X)}removeEmptyProps(y){return Object.keys(y).reduce((O,X)=>{const le=y[X];return null!=le&&(O[X]=le),O},{})}scheduleNavigation(y,O,X,le,Me){if(this.disposed)return Promise.resolve(!1);let qe,Qe,ht;Me?(qe=Me.resolve,Qe=Me.reject,ht=Me.promise):ht=new Promise((Yt,Mn)=>{qe=Yt,Qe=Mn});const Lt=this.pendingTasks.add();return E5(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Lt))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:X,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:le,resolve:qe,reject:Qe,promise:ht,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ht.catch(Yt=>Promise.reject(Yt))}setBrowserUrl(y,O){const X=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(X)||O.extras.replaceUrl){const Me={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState(X,"",Me)}else{const le={...O.extras.state,...this.generateNgRouterState(O.id,(this.browserPageId??0)+1)};this.location.go(X,"",le)}}restoreHistory(y,O=!1){if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-(this.browserPageId??this.currentPageId);0!==le?this.location.historyGo(le):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===le&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,O){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:O}:{navigationId:y}}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class C5{}let L7=(()=>{class i{constructor(y,O,X,le,Me){this.router=y,this.injector=X,this.preloadingStrategy=le,this.loader=Me}setUpPreloading(){this.subscription=this.router.events.pipe(Yl(y=>y instanceof Ih),B0(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,O){const X=[];for(const le of O){le.providers&&!le._injector&&(le._injector=P1(le.providers,y,`Route: ${le.path}`));const Me=le._injector??y,qe=le._loadedInjector??Me;(le.loadChildren&&!le._loadedRoutes&&void 0===le.canLoad||le.loadComponent&&!le._loadedComponent)&&X.push(this.preloadConfig(Me,le)),(le.children||le._loadedRoutes)&&X.push(this.processRoutes(qe,le.children??le._loadedRoutes))}return mn(X).pipe(bt())}preloadConfig(y,O){return this.preloadingStrategy.preload(O,()=>{let X;X=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(y,O):vn(null);const le=X.pipe(At(Me=>null===Me?vn(void 0):(O._loadedRoutes=Me.routes,O._loadedInjector=Me.injector,this.processRoutes(Me.injector??y,Me.routes))));return O.loadComponent&&!O._loadedComponent?mn([le,this.loader.loadComponent(O)]).pipe(bt()):le})}}return i.\u0275fac=function(y){return new(y||i)(ti(Su),ti(sw),ti(Gl),ti(C5),ti(px))},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const mx=new ai("");let D5=(()=>{class i{constructor(y,O,X,le,Me={}){this.urlSerializer=y,this.transitions=O,this.viewportScroller=X,this.zone=le,this.options=Me,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Me.scrollPositionRestoration=Me.scrollPositionRestoration||"disabled",Me.anchorScrolling=Me.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof nx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Ih?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof Z0&&0===y.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof t5&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new t5(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return i.\u0275fac=function(y){!function Xx(){throw new Error("invalid")}()},i.\u0275prov=lr({token:i,factory:i.\u0275fac}),i})();function $c(i,g){return{\u0275kind:i,\u0275providers:g}}function L5(){const i=qr(mc);return g=>{const y=i.get(Mh);if(g!==y.components[0])return;const O=i.get(Su),X=i.get(P5);1===i.get(vx)&&O.initialNavigation(),i.get(O5,null,$r.Optional)?.setUpPreloading(),i.get(mx,null,$r.Optional)?.init(),O.resetRootComponentType(y.componentTypes[0]),X.closed||(X.next(),X.complete(),X.unsubscribe())}}const P5=new ai("",{factory:()=>new W}),vx=new ai("",{providedIn:"root",factory:()=>1}),O5=new ai("");function F7(i){return $c(0,[{provide:O5,useExisting:L7},{provide:C5,useExisting:i}])}const R5=new ai("ROUTER_FORROOT_GUARD"),z7=[vy,{provide:V0,useClass:Ky},Su,Y0,{provide:up,useFactory:function I5(i){return i.routerState.root},deps:[Su]},px,[]];function B7(){return new yw("Router",Su)}let F5=(()=>{class i{constructor(y){}static forRoot(y,O){return{ngModule:i,providers:[z7,[],{provide:dp,multi:!0,useValue:y},{provide:R5,useFactory:H7,deps:[[Su,new Jf,new as]]},{provide:tv,useValue:O||{}},O?.useHash?{provide:kh,useClass:$8}:{provide:kh,useClass:Ww},{provide:mx,useFactory:()=>{const i=qr(pS),g=qr(Sa),y=qr(tv),O=qr(ev),X=qr(V0);return y.scrollOffset&&i.setOffset(y.scrollOffset),new D5(X,O,i,g,y)}},O?.preloadingStrategy?F7(O.preloadingStrategy).\u0275providers:[],{provide:yw,multi:!0,useFactory:B7},O?.initialNavigation?G7(O):[],O?.bindToComponentInputs?$c(8,[u5,{provide:$m,useExisting:u5}]).\u0275providers:[],[{provide:N5,useFactory:L5},{provide:iy,multi:!0,useExisting:N5}]]}}static forChild(y){return{ngModule:i,providers:[{provide:dp,multi:!0,useValue:y}]}}}return i.\u0275fac=function(y){return new(y||i)(ti(R5,8))},i.\u0275mod=oa({type:i}),i.\u0275inj=sr({}),i})();function H7(i){return"guarded"}function G7(i){return["disabled"===i.initialNavigation?$c(3,[{provide:bm,multi:!0,useFactory:()=>{const g=qr(Su);return()=>{g.setUpLocationChangeListener()}}},{provide:vx,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?$c(2,[{provide:vx,useValue:0},{provide:bm,multi:!0,deps:[mc],useFactory:g=>{const y=g.get(Z8,Promise.resolve());return()=>y.then(()=>new Promise(O=>{const X=g.get(Su),le=g.get(P5);E5(X,()=>{O(!0)}),g.get(ev).afterPreactivation=()=>(O(!0),le.closed?vn(void 0):le),X.initialNavigation()}))}}]).\u0275providers:[]]}const N5=new ai(""),W7=[];let yx,Z7=(()=>{class i{}return i.\u0275fac=function(y){return new(y||i)},i.\u0275mod=oa({type:i}),i.\u0275inj=sr({imports:[F5.forRoot(W7),F5]}),i})();try{yx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yx=!1}let Y7=(()=>{class i{constructor(y){this._platformId=y,this.isBrowser=this._platformId?Oy(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(y){return new(y||i)(ti(wu))},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rv=(()=>{class i{constructor(y){this.platform=y,this.hearSubject=new U(0),this.centOff=new U(0),this.mode=null,this.currHearMode=this.hearSubject.asObservable(),this.currCent=this.centOff.asObservable(),this.mode=this.platform.ANDROID||this.platform.IOS?"mobile":"desktop",console.log("MODE: "+this.mode)}changeMode(){this.hearSubject.next(0===this.hearSubject.value?1:0)}changeCent(y){this.centOff.next(y)}}return i.\u0275fac=function(y){return new(y||i)(ti(Y7))},i.\u0275prov=lr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),K7=(()=>{class i{constructor(y){this.hearModeChange=y,this.hearArr=["Click to start hearing","Click to stop hearing"],this.i=0}activateHearing(){this.hearModeChange.changeMode()}ngOnInit(){this.hearModeChange.currHearMode.subscribe(y=>{this.i=y})}}return i.\u0275fac=function(y){return new(y||i)(di(rv))},i.\u0275cmp=Es({type:i,selectors:[["app-hear-button"]],decls:3,vars:1,consts:[[3,"click"]],template:function(y,O){1&y&&(qu(0,"div")(1,"button",0),cm("click",function(){return O.activateHearing()}),T0(2),Wu()()),2&y&&(d0(2),dm(O.hearArr[O.i]))}}),i})();function tg(i){return(tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(i)}function Xc(i,g,y){return(g=function Q7(i){var g=function J7(i,g){if("object"!==tg(i)||null===i)return i;var y=i[Symbol.toPrimitive];if(void 0!==y){var O=y.call(i,g||"default");if("object"!==tg(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(i)}(i,"string");return"symbol"===tg(g)?g:String(g)}(g))in i?Object.defineProperty(i,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):i[g]=y,i}var e9=xa(978);class ng{static forFloat32Array(g){return new ng(g,y=>new Float32Array(y))}static forFloat64Array(g){return new ng(g,y=>new Float64Array(y))}static forNumberArray(g){return new ng(g,y=>Array(y))}constructor(g,y){if(Xc(this,"_inputLength",void 0),Xc(this,"_fft",void 0),Xc(this,"_bufferSupplier",void 0),Xc(this,"_paddedInputBuffer",void 0),Xc(this,"_transformBuffer",void 0),Xc(this,"_inverseBuffer",void 0),g<1)throw new Error("Input length must be at least one");this._inputLength=g,this._fft=new e9(function r9(i){return i--,i|=i>>1,i|=i>>2,i|=i>>4,i|=i>>8,i|=i>>16,++i}(2*g)),this._bufferSupplier=y,this._paddedInputBuffer=this._bufferSupplier(this._fft.size),this._transformBuffer=this._bufferSupplier(2*this._fft.size),this._inverseBuffer=this._bufferSupplier(2*this._fft.size)}get inputLength(){return this._inputLength}autocorrelate(g,y=this._bufferSupplier(g.length)){if(g.length!==this._inputLength)throw new Error(`Input must have length ${this._inputLength} but had length ${g.length}`);for(let X=0;X<g.length;X++)this._paddedInputBuffer[X]=g[X];for(let X=g.length;X<this._paddedInputBuffer.length;X++)this._paddedInputBuffer[X]=0;this._fft.realTransform(this._transformBuffer,this._paddedInputBuffer),this._fft.completeSpectrum(this._transformBuffer);const O=this._transformBuffer;for(let X=0;X<O.length;X+=2)O[X]=O[X]*O[X]+O[X+1]*O[X+1],O[X+1]=0;this._fft.inverseTransform(this._inverseBuffer,this._transformBuffer);for(let X=0;X<g.length;X++)y[X]=this._inverseBuffer[2*X];return y}}class rg{static forFloat32Array(g){return new rg(g,y=>new Float32Array(y))}static forFloat64Array(g){return new rg(g,y=>new Float64Array(y))}static forNumberArray(g){return new rg(g,y=>Array(y))}constructor(g,y){Xc(this,"_autocorrelator",void 0),Xc(this,"_nsdfBuffer",void 0),Xc(this,"_clarityThreshold",.9),this._autocorrelator=new ng(g,y),this._nsdfBuffer=y(g)}get inputLength(){return this._autocorrelator.inputLength}findPitch(g,y){this._nsdf(g);const O=function t9(i){const g=[];let y=!1,O=-1/0,X=-1;for(let le=1;le<i.length-1;le++)i[le-1]<=0&&i[le]>0?(y=!0,X=le,O=i[le]):i[le-1]>0&&i[le]<=0?(y=!1,-1!==X&&g.push(X)):y&&i[le]>O&&(O=i[le],X=le);return g}(this._nsdfBuffer);if(0===O.length)return[0,0];const X=Math.max(...O.map(Qe=>this._nsdfBuffer[Qe])),le=O.find(Qe=>this._nsdfBuffer[Qe]>=this._clarityThreshold*X),[Me,qe]=function n9(i,g){const[y,O,X]=[i-1,i,i+1],[le,Me,qe]=[g[y],g[O],g[X]],Qe=le/2-Me+qe/2,ht=-le/2*(O+X)+Me*(y+X)-qe/2*(y+O),Yt=-ht/(2*Qe);return[Yt,Qe*Yt*Yt+ht*Yt+(le*O*X/2-Me*y*X+qe*y*O/2)]}(le,this._nsdfBuffer);return[y/Me,Math.min(qe,1)]}_nsdf(g){this._autocorrelator.autocorrelate(g,this._nsdfBuffer);let O,y=2*this._nsdfBuffer[0];for(O=0;O<this._nsdfBuffer.length&&y>0;O++)this._nsdfBuffer[O]=2*this._nsdfBuffer[O]/y,y-=g[O]**2+g[g.length-O-1]**2;for(;O<this._nsdfBuffer.length;O++)this._nsdfBuffer[O]=0}}function i9(i,g){if(1&i&&(qu(0,"div")(1,"h3"),T0(2,"You are singing:"),Wu(),qu(3,"h2"),T0(4),Wu()()),2&i){const y=y1();d0(4),dm(y.noteName)}}let o9=(()=>{class i{constructor(y){this.hearModeChange=y,this.prevVisibility=!1}ngOnInit(){this.hearModeChange.currHearMode.subscribe(y=>{this.visibility=1===y})}ngDoCheck(){this.hearModeChange.changeCent(this.cents),this.visibility!==this.prevVisibility&&(this.prevVisibility=this.visibility,this.visibility?this.startAudioInput():this.stopAudioInput())}startAudioInput(){this.noteName="",this.cents=0;let y=0;const O=(qe,Qe,ht,Lt)=>{qe.getFloatTimeDomainData(ht);const[Yt,Mn]=Qe.findPitch(ht,Lt);Mn>.98?([this.pitch,this.clarity]=[Yt,Mn],this.noteName=X(le(Yt,440)),this.cents=Me(Yt),console.log({pitch:this.pitch,clarity:this.clarity,note:this.noteName,cents:this.cents}),y=0):(y+=1,19===y&&(this.noteName="",this.cents=0,console.log("No singing detected, resetting"))),window.setTimeout(()=>O(qe,Qe,ht,Lt),50)},X=qe=>{const Qe=Math.floor(qe/12)-1;return["C","C#","D","D#/E\u266d","E","F","F#","G","G#/A\u266d","A","B\u266d","B"][Math.round(qe)%12]+Qe.toString()},le=(qe,Qe=440)=>Math.round(12*Math.log2(qe/Qe))+69,Me=qe=>{const ht=440*Math.pow(2,(le(qe)-69)/12);return Math.floor(1200*Math.log(qe/ht)/Math.log(2))};if(typeof this.mediaStream>"u"){const qe=new AudioContext,Qe=qe.createAnalyser();Qe.fftSize=1024,navigator.mediaDevices.getUserMedia({audio:!0}).then(ht=>{this.mediaStream=ht,qe.createMediaStreamSource(ht).connect(Qe);const Lt=rg.forFloat32Array(Qe.fftSize),Yt=new Float32Array(Lt.inputLength);O(Qe,Lt,Yt,qe.sampleRate)}).catch(ht=>{console.error("Error accessing microphone:",ht)})}else this.mediaStream.getTracks()[0].enabled=!0;console.log("Started!")}stopAudioInput(){this.mediaStream.getTracks()[0].enabled=!1,console.log("Stopped!")}}return i.\u0275fac=function(y){return new(y||i)(di(rv))},i.\u0275cmp=Es({type:i,selectors:[["app-note-text"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(y,O){1&y&&p1(0,i9,5,1,"div",0),2&y&&_h("ngIf",O.visibility)},dependencies:[Cy],styles:["h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-family:Courier New,Courier}"]}),i})();function B5(i,g,y,O,X,le,Me){try{var qe=i[le](Me),Qe=qe.value}catch(ht){return void y(ht)}qe.done?g(Qe):Promise.resolve(Qe).then(O,X)}function j5(i){return function(){var g=this,y=arguments;return new Promise(function(O,X){var le=i.apply(g,y);function Me(Qe){B5(le,O,X,Me,qe,"next",Qe)}function qe(Qe){B5(le,O,X,Me,qe,"throw",Qe)}Me(void 0)})}}const a9=["plot"],s9=["*"];class _o{static setModuleName(g){_o.moduleName=g}static getModuleName(){return _o.moduleName}static setPlotly(g){if("object"==typeof g&&"function"!=typeof g.react)throw new Error("Invalid plotly.js version. Please, use any version above 1.40.0");_o.plotly=g}static insert(g){return-1===_o.instances.indexOf(g)&&_o.instances.push(g),g}static remove(g){const y=_o.instances.indexOf(g);y>=0&&(_o.instances.splice(y,1),_o.plotly.purge(g))}getInstanceByDivId(g){for(const y of _o.instances)if(y&&y.id===g)return y}getPlotly(){var g=this;return j5(function*(){return yield g.waitFor(()=>"waiting"!==g._getPlotly()),g._getPlotly()})()}_getPlotly(){if(typeof _o.plotly>"u")throw new Error("ViaCDN"===_o.moduleName?"Error loading Peer dependency plotly.js from CDN url":"Peer dependency plotly.js isn't installed");return _o.plotly}waitFor(g){return new Promise(y=>{const O=()=>{g()?y():setTimeout(O,10)};O()})}newPlot(g,y,O,X,le){var Me=this;return j5(function*(){if(yield Me.waitFor(()=>"waiting"!==Me._getPlotly()),le){const qe={data:y,layout:O,config:X,frames:le};return Me._getPlotly().newPlot(g,qe).then(()=>_o.insert(g))}return Me._getPlotly().newPlot(g,y,O,X).then(()=>_o.insert(g))})()}plot(g,y,O,X,le){if(le){const Me={data:y,layout:O,config:X,frames:le};return this._getPlotly().newPlot(g,Me)}return this._getPlotly().newPlot(g,y,O,X)}update(g,y,O,X,le){if(le){const Me={data:y,layout:O,config:X,frames:le};return this._getPlotly().react(g,Me)}return this._getPlotly().react(g,y,O,X)}resize(g){return this._getPlotly().Plots.resize(g)}}_o.instances=[],_o.plotly=void 0,_o.moduleName=void 0,_o.\u0275fac=function(g){return new(g||_o)},_o.\u0275prov=lr({token:_o,factory:_o.\u0275fac,providedIn:"root"});let l9=(()=>{class i{constructor(y,O,X){this.plotly=y,this.iterableDiffers=O,this.keyValueDiffers=X,this.defaultClassName="js-plotly-plot",this.revision=0,this.debug=!1,this.useResizeHandler=!1,this.updateOnLayoutChange=!0,this.updateOnDataChange=!0,this.updateOnlyWithRevision=!1,this.initialized=new vi,this.update=new vi,this.purge=new vi,this.error=new vi,this.afterExport=new vi,this.afterPlot=new vi,this.animated=new vi,this.animatingFrame=new vi,this.animationInterrupted=new vi,this.autoSize=new vi,this.beforeExport=new vi,this.beforeHover=new vi,this.buttonClicked=new vi,this.click=new vi,this.plotlyClick=new vi,this.clickAnnotation=new vi,this.deselect=new vi,this.doubleClick=new vi,this.framework=new vi,this.hover=new vi,this.legendClick=new vi,this.legendDoubleClick=new vi,this.react=new vi,this.relayout=new vi,this.relayouting=new vi,this.restyle=new vi,this.redraw=new vi,this.selected=new vi,this.selecting=new vi,this.sliderChange=new vi,this.sliderEnd=new vi,this.sliderStart=new vi,this.sunburstclick=new vi,this.transitioning=new vi,this.transitionInterrupted=new vi,this.unhover=new vi,this.treemapclick=new vi,this.webglcontextlost=new vi,this.eventNames=["afterExport","afterPlot","animated","animatingFrame","animationInterrupted","autoSize","beforeExport","beforeHover","buttonClicked","clickAnnotation","deselect","doubleClick","framework","hover","legendClick","legendDoubleClick","react","relayout","relayouting","restyle","redraw","selected","selecting","sliderChange","sliderEnd","sliderStart","sunburstclick","transitioning","transitionInterrupted","unhover","treemapclick","webglcontextlost"]}ngOnInit(){this.createPlot().then(()=>{const y=this.createFigure();this.initialized.emit(y)}),this.click.observers.length>0&&console.error("DEPRECATED: Reconsider using `(plotlyClick)` instead of `(click)` to avoid event conflict. Please check https://github.com/plotly/angular-plotly.js#FAQ")}ngOnDestroy(){"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0);const y=this.createFigure();this.purge.emit(y),_o.remove(this.plotlyInstance)}ngOnChanges(y){let O=!1;const X=y.revision;X&&!X.isFirstChange()&&(O=!0);const le=y.debug;le&&!le.isFirstChange()&&(O=!0),O&&this.updatePlot(),this.updateWindowResizeHandler()}ngDoCheck(){if(this.updateOnlyWithRevision)return!1;let y=!1;this.updateOnLayoutChange&&(this.layoutDiffer?this.layoutDiffer.diff(this.layout)&&(y=!0):this.layoutDiffer=this.layout?this.keyValueDiffers.find(this.layout).create():void 0),this.updateOnDataChange&&(this.dataDiffer?this.dataDiffer.diff(this.data)&&(y=!0):this.dataDiffer=Array.isArray(this.data)?this.iterableDiffers.find(this.data).create(this.dataDifferTrackBy):void 0),y&&this.plotlyInstance&&this.updatePlot()}getData(){return this.data??[]}getWindow(){return window}getClassName(){let y=[this.defaultClassName];return Array.isArray(this.className)?y=y.concat(this.className):this.className&&y.push(this.className),y.join(" ")}createPlot(){return this.plotly.newPlot(this.plotEl.nativeElement,this.getData(),this.layout,this.config,this.frames).then(y=>{this.plotlyInstance=y,this.getWindow().gd=this.debug?y:void 0,this.eventNames.forEach(O=>{const X=`plotly_${O.toLowerCase()}`,le=this[O];y.on(X,Me=>le.emit(Me))}),y.on("plotly_click",O=>{this.plotlyClick.emit(O)}),this.updateWindowResizeHandler()},y=>{console.error("Error while plotting:",y),this.error.emit(y)})}createFigure(){const y=this.plotlyInstance;return{data:y.data,layout:y.layout,frames:y._transitionData?y._transitionData._frames:null}}updatePlot(){if(!this.plotlyInstance){const O=new Error("Plotly component wasn't initialized");throw this.error.emit(O),O}const y={...this.layout};return this.plotly.update(this.plotlyInstance,this.getData(),y,this.config,this.frames).then(()=>{const O=this.createFigure();this.update.emit(O)},O=>{console.error("Error while updating plot:",O),this.error.emit(O)})}updateWindowResizeHandler(){this.useResizeHandler?void 0===this.resizeHandler&&(this.resizeHandler=()=>this.plotly.resize(this.plotlyInstance),this.getWindow().addEventListener("resize",this.resizeHandler)):"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0)}dataDifferTrackBy(y,O){const X=Object.assign({},O,{uid:""});return JSON.stringify(X)}}return i.\u0275fac=function(y){return new(y||i)(di(_o),di(L0),di(rp))},i.\u0275cmp=Es({type:i,selectors:[["plotly-plot"]],viewQuery:function(y,O){if(1&y&&z_(a9,7),2&y){let X;G1(X=function q1(){return function C6(i,g){return i[so].queries[g].queryList}(xr(),qf())}())&&(O.plotEl=X.first)}},inputs:{data:"data",layout:"layout",config:"config",frames:"frames",style:"style",divId:"divId",revision:"revision",className:"className",debug:"debug",useResizeHandler:"useResizeHandler",updateOnLayoutChange:"updateOnLayoutChange",updateOnDataChange:"updateOnDataChange",updateOnlyWithRevision:"updateOnlyWithRevision"},outputs:{initialized:"initialized",update:"update",purge:"purge",error:"error",afterExport:"afterExport",afterPlot:"afterPlot",animated:"animated",animatingFrame:"animatingFrame",animationInterrupted:"animationInterrupted",autoSize:"autoSize",beforeExport:"beforeExport",beforeHover:"beforeHover",buttonClicked:"buttonClicked",click:"click",plotlyClick:"plotlyClick",clickAnnotation:"clickAnnotation",deselect:"deselect",doubleClick:"doubleClick",framework:"framework",hover:"hover",legendClick:"legendClick",legendDoubleClick:"legendDoubleClick",react:"react",relayout:"relayout",relayouting:"relayouting",restyle:"restyle",redraw:"redraw",selected:"selected",selecting:"selecting",sliderChange:"sliderChange",sliderEnd:"sliderEnd",sliderStart:"sliderStart",sunburstclick:"sunburstclick",transitioning:"transitioning",transitionInterrupted:"transitionInterrupted",unhover:"unhover",treemapclick:"treemapclick",webglcontextlost:"webglcontextlost"},features:[h_([_o]),Nt],ngContentSelectors:s9,decls:3,vars:3,consts:[[3,"ngClass","ngStyle"],["plot",""]],template:function(y,O){1&y&&(function W2(i){const g=xr()[Ji][Oi];if(!g.projection){const O=g.projection=_l(i?i.length:1,null),X=O.slice();let le=g.child;for(;null!==le;){const Me=i?Z4(le,i):0;null!==Me&&(X[Me]?X[Me].projectionNext=le:O[Me]=le,X[Me]=le),le=le.next}}}(),qu(0,"div",0,1),function Z2(i,g=0,y){const O=xr(),X=si(),le=jd(X,xi+i,16,null,y||null);null===le.projection&&(le.projection=g),Fu(),(!O[ts]||Yo())&&32!=(32&le.flags)&&function yn(i,g,y){Fn(g[ui],0,g,y,su(i,y,g),J(y.parent||g[Oi],y,g))}(X,O,le)}(2),Wu()),2&y&&(_h("ngClass",O.getClassName())("ngStyle",O.style),om("id",O.divId))},dependencies:[Ey,s3],encapsulation:2}),i})(),iv=(()=>{class i{constructor(){}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275mod=oa({type:i}),i.\u0275inj=sr({providers:[_o],imports:[R0]}),i})(),U5=(()=>{class i{constructor(){if(!this.isValid())throw new Error("Invalid PlotlyJS object. Please check https://github.com/plotly/angular-plotly.js#quick-start to see how to add PlotlyJS to your project.");_o.setPlotly(i.plotlyjs)}isValid(){return void 0!==i.plotlyjs&&("function"==typeof i.plotlyjs.plot||"function"==typeof i.plotlyjs.newPlot)}}return i.plotlyjs={},i.\u0275fac=function(y){return new(y||i)},i.\u0275mod=oa({type:i}),i.\u0275inj=sr({providers:[_o],imports:[R0,iv,iv]}),i})();class zs{constructor(g){this.plotlyService=g,_o.setModuleName("ViaCDN")}static setPlotlyVersion(g){if("latest"!==g&&!/^(strict-)?\d\.\d{1,2}\.\d{1,2}$/.test(g))throw new Error("Invalid plotly version. Please set 'latest' or version number (i.e.: 1.4.3) or strict version number (i.e.: strict-1.4.3)");zs.loadViaCDN(),zs.plotlyVersion=g}static setPlotlyBundle(g){if(!(null===g||zs.plotlyBundleNames.indexOf(g)>=0)){const O=zs.plotlyBundleNames.map(X=>`"${X}"`).join(", ");throw new Error(`Invalid plotly bundle. Please set to null for full or ${O} for a partial bundle.`)}zs.plotlyBundle=g}static loadViaCDN(){_o.setPlotly("waiting"),setTimeout(()=>{const y=null==zs.plotlyBundle?`https://cdn.plot.ly/plotly-${zs.plotlyVersion}.min.js`:`https://cdn.plot.ly/plotly-${zs.plotlyBundle}-${zs.plotlyVersion}.min.js`,O=document.createElement("script");O.type="text/javascript",O.src=y,O.onerror=()=>console.error(`Error loading plotly.js library from ${y}`),document.getElementsByTagName("head")[0].appendChild(O);let le=200;const Me=()=>{const qe=window.Plotly;if(qe)_o.setPlotly(qe);else{if(!(le>0))throw new Error(`Error loading plotly.js library from ${y}. Timeout.`);le--,setTimeout(Me,50)}};Me()})}}function u9(i,g){if(1&i&&(qu(0,"div"),Xd(1,"plotly-plot",1),Wu()),2&i){const y=y1();d0(1),_h("data",y.graph.data)("layout",y.graph.layout)("config",y.graph.config)}}zs.plotlyBundle=void 0,zs.plotlyVersion="latest",zs.plotlyBundleNames=["basic","cartesian","geo","gl3d","gl2d","mapbox","finance"],zs.\u0275fac=function(g){return new(g||zs)(ti(_o))},zs.\u0275mod=oa({type:zs}),zs.\u0275inj=sr({providers:[_o],imports:[R0,iv,iv]});let c9=(()=>{class i{constructor(y){this.hearModeChange=y,this.cent=0,this.graph={data:[{type:"indicator",mode:"gauge+number",value:0,title:{text:"Cents Off",font:{size:24},color:"grey"},gauge:{axis:{range:[-50,50],tickwidth:1,tickcolor:"darkblue"},bar:{color:"green"},bgcolor:"rgba(0,0,0,0)",borderwidth:2,bordercolor:"gray",steps:[{range:[-50,-10],color:"red"},{range:[-10,10],color:"green"},{range:[10,50],color:"red"}],threshold:[{line:{color:"red",width:4},thickness:.75,value:-10},{line:{color:"red",width:4},thickness:.75,value:10}]}}],layout:{width:600,height:500,plot_bgcolor:"rgba(0, 0, 0, 0)",paper_bgcolor:"rgba(0, 0, 0, 0)",font:{color:"green",family:"Courier New"}},config:{displayModeBar:!1}},this.prevVisibility=!1,this.mode=y.mode}ngOnInit(){this.hearModeChange.currCent.subscribe(y=>{this.cent!=y&&(this.cent=y,this.graph={data:[{type:"indicator",mode:"gauge+number",value:y,title:{text:"Cents off",font:{size:"desktop"===this.mode?24:18},color:"grey"},gauge:{axis:{range:[-50,50],tickwidth:1,tickcolor:"darkblue"},bar:{color:y<-10||y>10?"red":"green"},bgcolor:"rgba(0,0,0,0)",borderwidth:2,bordercolor:"gray",steps:[{range:[-50,-10],color:"grey"},{range:[-10,10],color:"yellow"},{range:[10,50],color:"grey"}],threshold:[{line:{color:"red",width:4},thickness:.75,value:-10},{line:{color:"red",width:4},thickness:.75,value:10}]}}],layout:{width:"desktop"===this.mode?600:400,height:"desktop"===this.mode?500:300,plot_bgcolor:"rgba(0, 0, 0, 0)",paper_bgcolor:"rgba(0, 0, 0, 0)",font:{color:y<-10||y>10?"red":"green",family:"Courier New"}},config:{displayModeBar:!1}})}),this.hearModeChange.currHearMode.subscribe(y=>{this.visibility=1===y})}}return i.\u0275fac=function(y){return new(y||i)(di(rv))},i.\u0275cmp=Es({type:i,selectors:[["app-gauge"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","chart",3,"data","layout","config"]],template:function(y,O){1&y&&p1(0,u9,2,3,"div",0),2&y&&_h("ngIf",O.visibility)},dependencies:[Cy,l9],styles:["#myChart[_ngcontent-%COMP%]{height:100%;width:100%;min-height:150px}"]}),i})();const f9=function(i){return[i]};let h9=(()=>{class i{constructor(y,O){this.titleService=y,this.hearMeMode=O,this.title="FrontEndHearMe",this.mode=null,this.titleService.setTitle("\u{1f3a4}Sing your heart out - in tune!"),this.mode=O.mode}}return i.\u0275fac=function(y){return new(y||i)(di(Gy),di(rv))},i.\u0275cmp=Es({type:i,selectors:[["app-root"]],decls:7,vars:3,consts:[[2,"text-align","center"],[1,"hear-button"],[1,"note-radar"],[1,"note-text"],[3,"ngClass"]],template:function(y,O){1&y&&(qu(0,"h1",0),T0(1,"Hear Me"),Wu(),qu(2,"div",1),Xd(3,"app-hear-button"),Wu(),qu(4,"div",2),Xd(5,"app-note-text",3)(6,"app-gauge",4),Wu()),2&y&&(d0(6),_h("ngClass",w_(1,f9,"desktop"===O.mode?"desktop-radar":"mobile-radar")))},dependencies:[Ey,K7,o9,c9],styles:["h1[_ngcontent-%COMP%]{font-family:Courier New,Courier}.hear-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.note-radar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.mobile-radar[_ngcontent-%COMP%]{position:absolute;bottom:2em}.desktop-radar[_ngcontent-%COMP%]{position:absolute;bottom:6em}"]}),i})();var d9=xa(335);const p9=["addListener","removeListener"],g9=["addEventListener","removeEventListener"],m9=["on","off"];function ov(i,g,y,O){if(gr(y)&&(O=y,y=void 0),O)return ov(i,g,y).pipe(L3(O));const[X,le]=function x9(i){return gr(i.addEventListener)&&gr(i.removeEventListener)}(i)?g9.map(Me=>qe=>i[Me](g,qe,y)):function v9(i){return gr(i.addListener)&&gr(i.removeListener)}(i)?p9.map(V5(i,g)):function y9(i){return gr(i.on)&&gr(i.off)}(i)?m9.map(V5(i,g)):[];if(!X&&St(i))return At(Me=>ov(Me,g,y))(Xe(i));if(!X)throw new TypeError("Invalid event target");return new P(Me=>{const qe=(...Qe)=>Me.next(1<Qe.length?Qe:Qe[0]);return X(qe),()=>le(qe)})}function V5(i,g){return y=>O=>i[y](g,O)}const Vf=new P(t),_9={connector:()=>new W};function H5(i,g=_9){const{connector:y}=g;return Y((O,X)=>{const le=y();Xe(i(function b9(i){return new P(g=>i.subscribe(g))}(le))).subscribe(X),X.add(O.subscribe(le))})}class M9 extends C{constructor(g,y){super()}schedule(g,y=0){return this}}const av={setInterval(i,g,...y){const{delegate:O}=av;return O?.setInterval?O.setInterval(i,g,...y):setInterval(i,g,...y)},clearInterval(i){const{delegate:g}=av;return(g?.clearInterval||clearInterval)(i)},delegate:void 0},G5={now:()=>(G5.delegate||Date).now(),delegate:void 0};class ig{constructor(g,y=ig.now){this.schedulerActionCtor=g,this.now=y}schedule(g,y=0,O){return new this.schedulerActionCtor(this,g).schedule(O,y)}}ig.now=G5.now;const q5=new class k9 extends ig{constructor(g,y=ig.now){super(g,y),this.actions=[],this._active=!1}flush(g){const{actions:y}=this;if(this._active)return void y.push(g);let O;this._active=!0;do{if(O=g.execute(g.state,g.delay))break}while(g=y.shift());if(this._active=!1,O){for(;g=y.shift();)g.unsubscribe();throw O}}}(class A9 extends M9{constructor(g,y){super(g,y),this.scheduler=g,this.work=y,this.pending=!1}schedule(g,y=0){var O;if(this.closed)return this;this.state=g;const X=this.id,le=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(le,X,y)),this.pending=!0,this.delay=y,this.id=null!==(O=this.id)&&void 0!==O?O:this.requestAsyncId(le,this.id,y),this}requestAsyncId(g,y,O=0){return av.setInterval(g.flush.bind(g,this),O)}recycleAsyncId(g,y,O=0){if(null!=O&&this.delay===O&&!1===this.pending)return y;null!=y&&av.clearInterval(y)}execute(g,y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const O=this._execute(g,y);if(O)return O;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(g,y){let X,O=!1;try{this.work(g)}catch(le){O=!0,X=le||new Error("Scheduled action threw falsy error")}if(O)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:g,scheduler:y}=this,{actions:O}=y;this.work=this.state=this.scheduler=null,this.pending=!1,e(O,this),null!=g&&(this.id=this.recycleAsyncId(y,g,null)),this.delay=null,super.unsubscribe()}}}),S9=q5;function W5(i,g){return g?y=>z0(g.pipe(Zl(1),function E9(){return Y((i,g)=>{i.subscribe(ae(g,t))})}()),y.pipe(W5(i))):At((y,O)=>Xe(i(y,O)).pipe(Zl(1),R3(y)))}const og="Service workers are disabled or not supported by this browser";class sv{constructor(g){if(this.serviceWorker=g,g){const O=ov(g,"controllerchange").pipe(Q(()=>g.controller)),le=z0(Bm(()=>vn(g.controller)),O);this.worker=le.pipe(Yl(Lt=>!!Lt)),this.registration=this.worker.pipe(On(()=>g.getRegistration()));const ht=ov(g,"message").pipe(Q(Lt=>Lt.data)).pipe(Yl(Lt=>Lt&&Lt.type)).pipe(function T9(i){return i?g=>H5(i)(g):g=>function w9(i,g){const y=gr(i)?i:()=>i;return gr(g)?H5(g,{connector:y}):O=>new Yy(O,y)}(new W)(g)}());ht.connect(),this.events=ht}else this.worker=this.events=this.registration=function L9(i){return Bm(()=>op(new Error(i)))}(og)}postMessage(g,y){return this.worker.pipe(Zl(1),fl(O=>{O.postMessage({action:g,...y})})).toPromise().then(()=>{})}postMessageWithOperation(g,y,O){const X=this.waitForOperationCompleted(O),le=this.postMessage(g,y);return Promise.all([le,X]).then(([,Me])=>Me)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(g){let y;return y="string"==typeof g?O=>O.type===g:O=>g.includes(O.type),this.events.pipe(Yl(y))}nextEventOfType(g){return this.eventsOfType(g).pipe(Zl(1))}waitForOperationCompleted(g){return this.eventsOfType("OPERATION_COMPLETED").pipe(Yl(y=>y.nonce===g),Zl(1),Q(y=>{if(void 0!==y.result)return y.result;throw new Error(y.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Z5=(()=>{class i{get isEnabled(){return this.sw.isEnabled}constructor(y){if(this.sw=y,this.pushManager=null,this.subscriptionChanges=new W,!y.isEnabled)return this.messages=Vf,this.notificationClicks=Vf,void(this.subscription=Vf);this.messages=this.sw.eventsOfType("PUSH").pipe(Q(X=>X.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Q(X=>X.data)),this.pushManager=this.sw.registration.pipe(Q(X=>X.pushManager));const O=this.pushManager.pipe(On(X=>X.getSubscription()));this.subscription=En(O,this.subscriptionChanges)}requestSubscription(y){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(og));const O={userVisibleOnly:!0};let X=this.decodeBase64(y.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),le=new Uint8Array(new ArrayBuffer(X.length));for(let Me=0;Me<X.length;Me++)le[Me]=X.charCodeAt(Me);return O.applicationServerKey=le,this.pushManager.pipe(On(Me=>Me.subscribe(O)),Zl(1)).toPromise().then(Me=>(this.subscriptionChanges.next(Me),Me))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Zl(1),On(O=>{if(null===O)throw new Error("Not subscribed to push notifications.");return O.unsubscribe().then(X=>{if(!X)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(og))}decodeBase64(y){return atob(y)}}return i.\u0275fac=function(y){return new(y||i)(ti(sv))},i.\u0275prov=lr({token:i,factory:i.\u0275fac}),i})(),Y5=(()=>{class i{get isEnabled(){return this.sw.isEnabled}constructor(y){if(this.sw=y,!y.isEnabled)return this.versionUpdates=Vf,this.available=Vf,this.activated=Vf,void(this.unrecoverable=Vf);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Yl(O=>"VERSION_READY"===O.type),Q(O=>({type:"UPDATE_AVAILABLE",current:O.currentVersion,available:O.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(og));const y=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:y},y)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(og));const y=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:y},y)}}return i.\u0275fac=function(y){return new(y||i)(ti(sv))},i.\u0275prov=lr({token:i,factory:i.\u0275fac}),i})();const $5=new ai("NGSW_REGISTER_SCRIPT");function P9(i,g,y,O){return()=>{if(!Oy(O)||!("serviceWorker"in navigator)||!1===y.enabled)return;let X;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof y.registrationStrategy)X=y.registrationStrategy();else{const[Me,...qe]=(y.registrationStrategy||"registerWhenStable:30000").split(":");switch(Me){case"registerImmediately":X=vn(null);break;case"registerWithDelay":X=X5(+qe[0]||0);break;case"registerWhenStable":X=qe[0]?En(K5(i),X5(+qe[0])):K5(i);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${y.registrationStrategy}`)}}i.get(Sa).runOutsideAngular(()=>X.pipe(Zl(1)).subscribe(()=>navigator.serviceWorker.register(g,{scope:y.scope}).catch(Me=>console.error("Service worker registration failed with:",Me))))}}function X5(i){return vn(null).pipe(function I9(i,g=q5){const y=function D9(i=0,g,y=S9){let O=-1;return null!=g&&(It(g)?y=g:O=g),new P(X=>{let le=function C9(i){return i instanceof Date&&!isNaN(i)}(i)?+i-y.now():i;le<0&&(le=0);let Me=0;return y.schedule(function(){X.closed||(X.next(Me++),0<=O?this.schedule(void 0,O):X.complete())},le)})}(i,g);return W5(()=>y)}(i))}function K5(i){return i.get(Mh).isStable.pipe(Yl(y=>y))}function O9(i,g){return new sv(Oy(g)&&!1!==i.enabled?navigator.serviceWorker:void 0)}class bx{}function R9(i,g={}){return function ch(i){return{\u0275providers:i}}([Z5,Y5,{provide:$5,useValue:i},{provide:bx,useValue:g},{provide:sv,useFactory:O9,deps:[bx,wu]},{provide:bm,useFactory:P9,deps:[mc,$5,bx,wu],multi:!0}])}let F9=(()=>{class i{static register(y,O={}){return{ngModule:i,providers:[R9(y,O)]}}}return i.\u0275fac=function(y){return new(y||i)},i.\u0275mod=oa({type:i}),i.\u0275inj=sr({providers:[Z5,Y5]}),i})();U5.plotlyjs=d9;let N9=(()=>{class i{}return i.\u0275fac=function(y){return new(y||i)},i.\u0275mod=oa({type:i,bootstrap:[h9]}),i.\u0275inj=sr({imports:[lE,Z7,R0,U5,F9.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]}),i})();aE().bootstrapModule(N9).catch(i=>console.error(i))},978:Hf=>{"use strict";function Qa(xa){if(this.size=0|xa,this.size<=1||this.size&this.size-1)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=xa<<1;for(var gr=new Array(2*this.size),ie=0;ie<gr.length;ie+=2){const A=Math.PI*ie/this.size;gr[ie]=Math.cos(A),gr[ie+1]=-Math.sin(A)}this.table=gr;for(var B=0,e=1;this.size>e;e<<=1)B++;this._width=B%2==0?B-1:B,this._bitrev=new Array(1<<this._width);for(var C=0;C<this._bitrev.length;C++){this._bitrev[C]=0;for(var S=0;S<this._width;S+=2)this._bitrev[C]|=(C>>>S&3)<<this._width-S-2}this._out=null,this._data=null,this._inv=0}Hf.exports=Qa,Qa.prototype.fromComplexArray=function(gr,ie){for(var B=ie||new Array(gr.length>>>1),e=0;e<gr.length;e+=2)B[e>>>1]=gr[e];return B},Qa.prototype.createComplexArray=function(){const gr=new Array(this._csize);for(var ie=0;ie<gr.length;ie++)gr[ie]=0;return gr},Qa.prototype.toComplexArray=function(gr,ie){for(var B=ie||this.createComplexArray(),e=0;e<B.length;e+=2)B[e]=gr[e>>>1],B[e+1]=0;return B},Qa.prototype.completeSpectrum=function(gr){for(var ie=this._csize,B=ie>>>1,e=2;e<B;e+=2)gr[ie-e]=gr[e],gr[ie-e+1]=-gr[e+1]},Qa.prototype.transform=function(gr,ie){if(gr===ie)throw new Error("Input and output buffers must be different");this._out=gr,this._data=ie,this._inv=0,this._transform4(),this._out=null,this._data=null},Qa.prototype.realTransform=function(gr,ie){if(gr===ie)throw new Error("Input and output buffers must be different");this._out=gr,this._data=ie,this._inv=0,this._realTransform4(),this._out=null,this._data=null},Qa.prototype.inverseTransform=function(gr,ie){if(gr===ie)throw new Error("Input and output buffers must be different");this._out=gr,this._data=ie,this._inv=1,this._transform4();for(var B=0;B<gr.length;B++)gr[B]/=this.size;this._out=null,this._data=null},Qa.prototype._transform4=function(){var S,u,gr=this._out,ie=this._csize,e=1<<this._width,C=ie/e<<1,A=this._bitrev;if(4===C)for(S=0,u=0;S<ie;S+=C,u++)this._singleTransform2(S,A[u],e);else for(S=0,u=0;S<ie;S+=C,u++)this._singleTransform4(S,A[u],e);var T=this._inv?-1:1,m=this.table;for(e>>=2;e>=2;e>>=2){var l=(C=ie/e<<1)>>>2;for(S=0;S<ie;S+=C)for(var t=S+l,o=S,r=0;o<t;o+=2,r+=e){const n=o,a=n+l,s=a+l,c=s+l,p=gr[n],f=gr[n+1],w=gr[a],v=gr[a+1],h=gr[s],_=gr[s+1],x=gr[c],b=gr[c+1],E=m[r],k=T*m[r+1],I=w*E-v*k,L=w*k+v*E,P=m[2*r],R=T*m[2*r+1],z=h*P-_*R,$=h*R+_*P,N=m[3*r],W=T*m[3*r+1],H=x*N-b*W,U=x*W+b*N,Z=p+z,Y=f+$,ae=p-z,re=f-$,Q=I+H,K=L+U,te=T*(I-H),oe=T*(L-U),fe=Y+K,he=Z-Q,me=Y-K,ke=ae+oe,Pe=re-te,Te=ae-oe,be=re+te;gr[n]=Z+Q,gr[n+1]=fe,gr[a]=ke,gr[a+1]=Pe,gr[s]=he,gr[s+1]=me,gr[c]=Te,gr[c+1]=be}}},Qa.prototype._singleTransform2=function(gr,ie,B){const e=this._out,C=this._data,S=C[ie],u=C[ie+1],A=C[ie+B],T=C[ie+B+1],l=u+T,t=S-A,o=u-T;e[gr]=S+A,e[gr+1]=l,e[gr+2]=t,e[gr+3]=o},Qa.prototype._singleTransform4=function(gr,ie,B){const e=this._out,C=this._data,S=this._inv?-1:1,u=2*B,A=3*B,T=C[ie],m=C[ie+1],l=C[ie+B],t=C[ie+B+1],o=C[ie+u],r=C[ie+u+1],n=C[ie+A],a=C[ie+A+1],s=T+o,c=m+r,p=T-o,f=m-r,w=l+n,v=t+a,h=S*(l-n),_=S*(t-a),b=c+v,M=p+_,d=f-h,E=s-w,k=c-v,I=p-_,L=f+h;e[gr]=s+w,e[gr+1]=b,e[gr+2]=M,e[gr+3]=d,e[gr+4]=E,e[gr+5]=k,e[gr+6]=I,e[gr+7]=L},Qa.prototype._realTransform4=function(){var S,u,gr=this._out,ie=this._csize,e=1<<this._width,C=ie/e<<1,A=this._bitrev;if(4===C)for(S=0,u=0;S<ie;S+=C,u++)this._singleRealTransform2(S,A[u]>>>1,e>>>1);else for(S=0,u=0;S<ie;S+=C,u++)this._singleRealTransform4(S,A[u]>>>1,e>>>1);var T=this._inv?-1:1,m=this.table;for(e>>=2;e>=2;e>>=2){var l=(C=ie/e<<1)>>>1,t=l>>>1,o=t>>>1;for(S=0;S<ie;S+=C)for(var r=0,n=0;r<=o;r+=2,n+=e){var a=S+r,s=a+t,c=s+t,p=c+t,f=gr[a],w=gr[a+1],v=gr[s],h=gr[s+1],_=gr[c],x=gr[c+1],b=gr[p],M=gr[p+1],k=m[n],I=T*m[n+1],L=v*k-h*I,P=v*I+h*k,R=m[2*n],z=T*m[2*n+1],$=_*R-x*z,N=_*z+x*R,W=m[3*n],H=T*m[3*n+1],U=b*W-M*H,Z=b*H+M*W,Y=f+$,ae=w+N,re=f-$,Q=w-N,K=L+U,te=P+Z,oe=T*(L-U),ue=T*(P-Z),he=ae+te,me=re+ue,ke=Q-oe;if(gr[a]=Y+K,gr[a+1]=he,gr[s]=me,gr[s+1]=ke,0!==r){if(r!==o){var Re=-T*oe-Q,Ee=Y+-T*K,Ue=-ae- -T*te,$e=S+t-r,ve=S+l-r;gr[$e]=re+-T*ue,gr[$e+1]=Re,gr[ve]=Ee,gr[ve+1]=Ue}}else{var Te=ae-te;gr[c]=Y-K,gr[c+1]=Te}}}},Qa.prototype._singleRealTransform2=function(gr,ie,B){const e=this._out,C=this._data,S=C[ie],u=C[ie+B],T=S-u;e[gr]=S+u,e[gr+1]=0,e[gr+2]=T,e[gr+3]=0},Qa.prototype._singleRealTransform4=function(gr,ie,B){const e=this._out,C=this._data,T=C[ie],m=C[ie+B],l=C[ie+2*B],t=C[ie+3*B],o=T+l,r=T-l,n=m+t,a=(this._inv?-1:1)*(m-t),c=r,p=-a,f=o-n,w=r,v=a;e[gr]=o+n,e[gr+1]=0,e[gr+2]=c,e[gr+3]=p,e[gr+4]=f,e[gr+5]=0,e[gr+6]=w,e[gr+7]=v}},335:Hf=>{self,Hf.exports=function(){var Qa={98847:function(ie,B,e){"use strict";var C=e(71828),S={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var u in S){var A=u.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");C.addStyleRule(A,S[u])}},98222:function(ie,B,e){"use strict";ie.exports=e(82887)},27206:function(ie,B,e){"use strict";ie.exports=e(60822)},59893:function(ie,B,e){"use strict";ie.exports=e(23381)},5224:function(ie,B,e){"use strict";ie.exports=e(83832)},59509:function(ie,B,e){"use strict";ie.exports=e(72201)},75557:function(ie,B,e){"use strict";ie.exports=e(91815)},40338:function(ie,B,e){"use strict";ie.exports=e(21462)},35080:function(ie,B,e){"use strict";ie.exports=e(51319)},61396:function(ie,B,e){"use strict";ie.exports=e(57516)},40549:function(ie,B,e){"use strict";ie.exports=e(98128)},49866:function(ie,B,e){"use strict";ie.exports=e(99442)},36089:function(ie,B,e){"use strict";ie.exports=e(93740)},19548:function(ie,B,e){"use strict";ie.exports=e(8729)},35831:function(ie,B,e){"use strict";ie.exports=e(93814)},61039:function(ie,B,e){"use strict";ie.exports=e(14382)},97040:function(ie,B,e){"use strict";ie.exports=e(51759)},77986:function(ie,B,e){"use strict";ie.exports=e(10421)},24296:function(ie,B,e){"use strict";ie.exports=e(43102)},58872:function(ie,B,e){"use strict";ie.exports=e(92165)},29626:function(ie,B,e){"use strict";ie.exports=e(3325)},65591:function(ie,B,e){"use strict";ie.exports=e(36071)},69738:function(ie,B,e){"use strict";ie.exports=e(43905)},92650:function(ie,B,e){"use strict";ie.exports=e(35902)},35630:function(ie,B,e){"use strict";ie.exports=e(69816)},73434:function(ie,B,e){"use strict";ie.exports=e(94507)},27909:function(ie,B,e){"use strict";var C=e(19548);C.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),ie.exports=C},46163:function(ie,B,e){"use strict";ie.exports=e(15154)},96881:function(ie,B,e){"use strict";ie.exports=e(64943)},50581:function(ie,B,e){"use strict";ie.exports=e(21164)},55334:function(ie,B,e){"use strict";ie.exports=e(54186)},65317:function(ie,B,e){"use strict";ie.exports=e(94873)},10021:function(ie,B,e){"use strict";ie.exports=e(67618)},54201:function(ie,B,e){"use strict";ie.exports=e(58810)},5861:function(ie,B,e){"use strict";ie.exports=e(20593)},16122:function(ie,B,e){"use strict";ie.exports=e(29396)},83043:function(ie,B,e){"use strict";ie.exports=e(13551)},48131:function(ie,B,e){"use strict";ie.exports=e(46858)},47582:function(ie,B,e){"use strict";ie.exports=e(17988)},21641:function(ie,B,e){"use strict";ie.exports=e(68868)},96268:function(ie,B,e){"use strict";ie.exports=e(20467)},19440:function(ie,B,e){"use strict";ie.exports=e(91271)},99488:function(ie,B,e){"use strict";ie.exports=e(21461)},97393:function(ie,B,e){"use strict";ie.exports=e(85956)},25743:function(ie,B,e){"use strict";ie.exports=e(52979)},66398:function(ie,B,e){"use strict";ie.exports=e(32275)},17280:function(ie,B,e){"use strict";ie.exports=e(6419)},77900:function(ie,B,e){"use strict";ie.exports=e(61510)},81299:function(ie,B,e){"use strict";ie.exports=e(87619)},93005:function(ie,B,e){"use strict";ie.exports=e(93601)},40344:function(ie,B,e){"use strict";ie.exports=e(96595)},47645:function(ie,B,e){"use strict";ie.exports=e(70954)},6197:function(ie,B,e){"use strict";ie.exports=e(47462)},4534:function(ie,B,e){"use strict";ie.exports=e(17659)},85461:function(ie,B,e){"use strict";ie.exports=e(19990)},82884:function(ie){"use strict";ie.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(ie,B,e){"use strict";var C=e(82884),S=e(41940),u=e(85555),A=e(44467).templatedArray;e(24695),ie.exports=A("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:S({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:C.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:C.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",u.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",u.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",u.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",u.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:S({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(ie,B,e){"use strict";var C=e(71828),S=e(89298),u=e(92605).draw;function A(m){C.filterVisible(m._fullLayout.annotations).forEach(function(t){var o=S.getFromId(m,t.xref),r=S.getFromId(m,t.yref),n=S.getRefType(t.xref),a=S.getRefType(t.yref);t._extremes={},"range"===n&&T(t,o),"range"===a&&T(t,r)})}function T(m,l){var t,o=l._id,r=o.charAt(0),n=m[r],a=m["a"+r],p=m["_"+r+"padplus"],f=m["_"+r+"padminus"],w={x:1,y:-1}[r]*m[r+"shift"],v=3*m.arrowsize*m.arrowwidth||0,h=v+w,_=v-w,x=3*m.startarrowsize*m.arrowwidth||0,b=x+w,M=x-w;if(m["a"+r+"ref"]===m[r+"ref"]){var d=S.findExtremes(l,[l.r2c(n)],{ppadplus:h,ppadminus:_}),E=S.findExtremes(l,[l.r2c(a)],{ppadplus:Math.max(p,b),ppadminus:Math.max(f,M)});t={min:[d.min[0],E.min[0]],max:[d.max[0],E.max[0]]}}else b=a?b+a:b,M=a?M-a:M,t=S.findExtremes(l,[l.r2c(n)],{ppadplus:Math.max(p,h,b),ppadminus:Math.max(f,_,M)});m._extremes[o]=t}ie.exports=function(m){if(C.filterVisible(m._fullLayout.annotations).length&&m._fullData.length)return C.syncOrAsync([u,A],m)}},44317:function(ie,B,e){"use strict";var C=e(71828),S=e(73972),u=e(44467).arrayEditor;function A(m,l){var t,o,r,n,a,s,c,p=m._fullLayout.annotations,f=[],w=[],v=[],h=(l||[]).length;for(t=0;t<p.length;t++)if(n=(r=p[t]).clicktoshow){for(o=0;o<h;o++)if(s=(a=l[o]).xaxis,c=a.yaxis,s._id===r.xref&&c._id===r.yref&&s.d2r(a.x)===T(r._xclick,s)&&c.d2r(a.y)===T(r._yclick,c)){(r.visible?"onout"===n?w:v:f).push(t);break}o===h&&r.visible&&"onout"===n&&w.push(t)}return{on:f,off:w,explicitOff:v}}function T(m,l){return"log"===l.type?l.l2r(m):l.d2r(m)}ie.exports={hasClickToShow:function(m,l){var t=A(m,l);return t.on.length>0||t.explicitOff.length>0},onClick:function(m,l){var t,o,r=A(m,l),n=r.on,a=r.off.concat(r.explicitOff),s={},c=m._fullLayout.annotations;if(n.length||a.length){for(t=0;t<n.length;t++)(o=u(m.layout,"annotations",c[n[t]])).modifyItem("visible",!0),C.extendFlat(s,o.getUpdateObj());for(t=0;t<a.length;t++)(o=u(m.layout,"annotations",c[a[t]])).modifyItem("visible",!1),C.extendFlat(s,o.getUpdateObj());return S.call("update",m,{},s)}}}},25625:function(ie,B,e){"use strict";var C=e(71828),S=e(7901);ie.exports=function(u,A,T,m){m("opacity");var l=m("bgcolor"),t=m("bordercolor"),o=S.opacity(t);m("borderpad");var r=m("borderwidth"),n=m("showarrow");if(m("text",n?" ":T._dfltTitle.annotation),m("textangle"),C.coerceFont(m,"font",T.font),m("width"),m("align"),m("height")&&m("valign"),n){var a,s,c=m("arrowside");-1!==c.indexOf("end")&&(a=m("arrowhead"),s=m("arrowsize")),-1!==c.indexOf("start")&&(m("startarrowhead",a),m("startarrowsize",s)),m("arrowcolor",o?A.bordercolor:S.defaultLine),m("arrowwidth",2*(o&&r||1)),m("standoff"),m("startstandoff")}var p=m("hovertext"),f=T.hoverlabel||{};if(p){var w=m("hoverlabel.bgcolor",f.bgcolor||(S.opacity(l)?S.rgb(l):S.defaultLine)),v=m("hoverlabel.bordercolor",f.bordercolor||S.contrast(w));C.coerceFont(m,"hoverlabel.font",{family:f.font.family,size:f.font.size,color:f.font.color||v})}m("captureevents",!!p)}},94128:function(ie,B,e){"use strict";var C=e(92770),S=e(58163);ie.exports=function(u,A,T,m){A=A||{};var l="log"===T&&"linear"===A.type;if(l||"linear"===T&&"log"===A.type)for(var o,r,n=u._fullLayout.annotations,a=A._id.charAt(0),s=0;s<n.length;s++)r="annotations["+s+"].",(o=n[s])[a+"ref"]===A._id&&c(a),o["a"+a+"ref"]===A._id&&c("a"+a);function c(p){var f=o[p],w=null;w=l?S(f,A.range):Math.pow(10,f),C(w)||(w=null),m(r+p,w)}}},84046:function(ie,B,e){"use strict";var C=e(71828),S=e(89298),u=e(85501),A=e(25625),T=e(50215);function m(l,t,o){function r(E,k){return C.coerce(l,t,T,E,k)}var n=r("visible"),a=r("clicktoshow");if(n||a){A(l,t,o,r);for(var s=t.showarrow,c=["x","y"],p=[-10,-30],f={_fullLayout:o},w=0;w<2;w++){var v=c[w],h=S.coerceRef(l,t,f,v,"","paper");if("paper"!==h&&S.getFromId(f,h)._annIndices.push(t._index),S.coercePosition(t,f,r,h,v,.5),s){var _="a"+v,x=S.coerceRef(l,t,f,_,"pixel",["pixel","paper"]);"pixel"!==x&&x!==h&&(x=t[_]="pixel"),S.coercePosition(t,f,r,x,_,"pixel"===x?p[w]:.4)}r(v+"anchor"),r(v+"shift")}if(C.noneOrAll(l,t,["x","y"]),s&&C.noneOrAll(l,t,["ax","ay"]),a){var M=r("xclick"),d=r("yclick");t._xclick=void 0===M?t.x:S.cleanPosition(M,f,t.xref),t._yclick=void 0===d?t.y:S.cleanPosition(d,f,t.yref)}}}ie.exports=function(l,t){u(l,t,{name:"annotations",handleItemDefaults:m})}},92605:function(ie,B,e){"use strict";var C=e(39898),S=e(73972),u=e(74875),A=e(71828),T=A.strTranslate,m=e(89298),l=e(7901),t=e(91424),o=e(30211),r=e(63893),n=e(6964),a=e(28569),s=e(44467).arrayEditor,c=e(13011);function p(v,h){var _=v._fullLayout.annotations[h]||{},x=m.getFromId(v,_.xref),b=m.getFromId(v,_.yref);x&&x.setScale(),b&&b.setScale(),w(v,_,h,!1,x,b)}function f(v,h,_,x,b){var M=b[_],d=b[_+"ref"],E=-1!==_.indexOf("y"),k="domain"===m.getRefType(d),I=E?x.h:x.w;return v?k?M+(E?-h:h)/v._length:v.p2r(v.r2p(M)+h):M+(E?-h:h)/I}function w(v,h,_,x,b,M){var d,E,k=v._fullLayout,I=v._fullLayout._size,L=v._context.edits;x?(d="annotation-"+x,E=x+".annotations"):(d="annotation",E="annotations");var P=s(v.layout,E,h),R=P.modifyBase,z=P.modifyItem,$=P.getUpdateObj;k._infolayer.selectAll("."+d+'[data-index="'+_+'"]').remove();var N="clip"+k._uid+"_ann"+_;if(h._input&&!1!==h.visible){var W={x:{},y:{}},H=+h.textangle||0,U=k._infolayer.append("g").classed(d,!0).attr("data-index",String(_)).style("opacity",h.opacity),Z=U.append("g").classed("annotation-text-g",!0),Y=L[h.showarrow?"annotationTail":"annotationPosition"],ae=h.captureevents||L.annotationText||Y,re=Z.append("g").style("pointer-events",ae?"all":null).call(n,"pointer").on("click",function(){v._dragging=!1,v.emit("plotly_clickannotation",Pe(C.event))});h.hovertext&&re.on("mouseover",function(){var xe=h.hoverlabel,Ne=xe.font,Se=this.getBoundingClientRect(),Ce=v.getBoundingClientRect();o.loneHover({x0:Se.left-Ce.left,x1:Se.right-Ce.left,y:(Se.top+Se.bottom)/2-Ce.top,text:h.hovertext,color:xe.bgcolor,borderColor:xe.bordercolor,fontFamily:Ne.family,fontSize:Ne.size,fontColor:Ne.color},{container:k._hoverlayer.node(),outerContainer:k._paper.node(),gd:v})}).on("mouseout",function(){o.loneUnhover(k._hoverlayer.node())});var Q=h.borderwidth,te=Q+h.borderpad,oe=re.append("rect").attr("class","bg").style("stroke-width",Q+"px").call(l.stroke,h.bordercolor).call(l.fill,h.bgcolor),ue=h.width||h.height,fe=k._topclips.selectAll("#"+N).data(ue?[0]:[]);fe.enter().append("clipPath").classed("annclip",!0).attr("id",N).append("rect"),fe.exit().remove();var he=h.font,me=k._meta?A.templateString(h.text,k._meta):h.text,ke=re.append("text").classed("annotation-text",!0).text(me);L.annotationText?ke.call(r.makeEditable,{delegate:re,gd:v}).call(Te).on("edit",function(xe){h.text=xe,this.call(Te),z("text",xe),b&&b.autorange&&R(b._name+".autorange",!0),M&&M.autorange&&R(M._name+".autorange",!0),S.call("_guiRelayout",v,$())}):ke.call(Te)}else C.selectAll("#"+N).remove();function Pe(xe){var Ne={index:_,annotation:h._input,fullAnnotation:h,event:xe};return x&&(Ne.subplotId=x),Ne}function Te(xe){return xe.call(t.font,he).attr({"text-anchor":{left:"start",right:"end"}[h.align]||"middle"}),r.convertToTspans(xe,v,be),xe}function be(){var xe=ke.selectAll("a");1===xe.size()&&xe.text()===ke.text()&&re.insert("a",":first-child").attr({"xlink:xlink:href":xe.attr("xlink:href"),"xlink:xlink:show":xe.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(oe.node());var Ne=re.select(".annotation-text-math-group"),Se=!Ne.empty(),Ce=t.bBox((Se?Ne:ke).node()),pe=Ce.width,de=Ce.height,se=h.width||pe,we=h.height||de,Re=Math.round(se+2*te),Ee=Math.round(we+2*te);function Ue(At,bt){return"auto"===bt&&(bt=At<.3333333333333333?"left":At>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[bt]}for(var $e=!1,ve=["x","y"],Ie=0;Ie<ve.length;Ie++){var De,ze,Ge,He,Ke,et=ve[Ie],st=h[et+"ref"]||et,mt=h["a"+et+"ref"],at={x:b,y:M}[et],kt=(H+("x"===et?0:-90))*Math.PI/180,St=Re*Math.cos(kt),gt=Ee*Math.sin(kt),dt=Math.abs(St)+Math.abs(gt),Ct=h[et+"anchor"],Ot=h[et+"shift"]*("x"===et?1:-1),Pt=W[et],Ht=m.getRefType(st);if(at&&"domain"!==Ht){var jt=at.r2fraction(h[et]);(jt<0||jt>1)&&(mt===st?((jt=at.r2fraction(h["a"+et]))<0||jt>1)&&($e=!0):$e=!0),De=at._offset+at.r2p(h[et]),He=.5}else{var nt="domain"===Ht;"x"===et?(Ge=h[et],De=nt?at._offset+at._length*Ge:De=I.l+I.w*Ge):(Ge=1-h[et],De=nt?at._offset+at._length*Ge:De=I.t+I.h*Ge),He=h.showarrow?.5:Ge}if(h.showarrow){Pt.head=De;var it=h["a"+et];if(Ke=St*Ue(.5,h.xanchor)-gt*Ue(.5,h.yanchor),mt===st){var Xe=m.getRefType(mt);"domain"===Xe?("y"===et&&(it=1-it),Pt.tail=at._offset+at._length*it):Pt.tail="paper"===Xe?"y"===et?I.t+I.h*(it=1-it):I.l+I.w*it:at._offset+at.r2p(it),ze=Ke}else Pt.tail=De+it,ze=Ke+it;Pt.text=Pt.tail+Ke;var rt=k["x"===et?"width":"height"];if("paper"===st&&(Pt.head=A.constrain(Pt.head,1,rt-1)),"pixel"===mt){var ft=-Math.max(Pt.tail-3,Pt.text),vt=Math.min(Pt.tail+3,Pt.text)-rt;ft>0?(Pt.tail+=ft,Pt.text+=ft):vt>0&&(Pt.tail-=vt,Pt.text-=vt)}Pt.tail+=Ot,Pt.head+=Ot}else ze=Ke=dt*Ue(He,Ct),Pt.text=De+Ke;Pt.text+=Ot,Ke+=Ot,h["_"+et+"padplus"]=dt/2+(ze+=Ot),h["_"+et+"padminus"]=dt/2-ze,h["_"+et+"size"]=dt,h["_"+et+"shift"]=Ke}if($e)re.remove();else{var je=0,Ve=0;"left"!==h.align&&(je=(se-pe)*("center"===h.align?.5:1)),"top"!==h.valign&&(Ve=(we-de)*("middle"===h.valign?.5:1)),Se?Ne.select("svg").attr({x:te+je-1,y:te+Ve}).call(t.setClipUrl,ue?N:null,v):ke.call(r.positionText,te+je-Ce.left,te+Ve-Ce.top).call(t.setClipUrl,ue?N:null,v),fe.select("rect").call(t.setRect,te,te,se,we),oe.call(t.setRect,Q/2,Q/2,Re-Q,Ee-Q),re.call(t.setTranslate,Math.round(W.x.text-Re/2),Math.round(W.y.text-Ee/2)),Z.attr({transform:"rotate("+H+","+W.x.text+","+W.y.text+")"});var Tt,Mt=function(At,bt){U.selectAll(".annotation-arrow-g").remove();var Rt=W.x.head,xt=W.y.head,_t=W.x.tail+At,It=W.y.tail+bt,Gt=W.x.text+At,Wt=W.y.text+bt,Zt=A.rotationXYMatrix(H,Gt,Wt),cn=A.apply2DTransform(Zt),nn=A.apply2DTransform2(Zt),ln=+oe.attr("width"),Qt=+oe.attr("height"),kn=Gt-.5*ln,Pn=kn+ln,Tn=Wt-.5*Qt,tn=Tn+Qt,gn=[[kn,Tn,kn,tn],[kn,tn,Pn,tn],[Pn,tn,Pn,Tn],[Pn,Tn,kn,Tn]].map(nn);if(!gn.reduce(function(hr,fr){return hr^!!A.segmentsIntersect(Rt,xt,Rt+1e6,xt+1e6,fr[0],fr[1],fr[2],fr[3])},!1)){gn.forEach(function(hr){var fr=A.segmentsIntersect(_t,It,Rt,xt,hr[0],hr[1],hr[2],hr[3]);fr&&(_t=fr.x,It=fr.y)});var hn=h.arrowwidth,mn=h.arrowcolor,En=h.arrowside,vn=U.append("g").style({opacity:l.opacity(mn)}).classed("annotation-arrow-g",!0),Un=vn.append("path").attr("d","M"+_t+","+It+"L"+Rt+","+xt).style("stroke-width",hn+"px").call(l.stroke,l.rgb(mn));if(c(Un,En,h),L.annotationPosition&&Un.node().parentNode&&!x){var Hn=Rt,On=xt;if(h.standoff){var Wn=Math.sqrt(Math.pow(Rt-_t,2)+Math.pow(xt-It,2));Hn+=h.standoff*(_t-Rt)/Wn,On+=h.standoff*(It-xt)/Wn}var pr,ar,Ar=vn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(_t-Hn)+","+(It-On),transform:T(Hn,On)}).style("stroke-width",hn+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)");a.init({element:Ar.node(),gd:v,prepFn:function(){var hr=t.getTranslate(re);pr=hr.x,ar=hr.y,b&&b.autorange&&R(b._name+".autorange",!0),M&&M.autorange&&R(M._name+".autorange",!0)},moveFn:function(hr,fr){var Rr=cn(pr,ar),Xt=Rr[0]+hr,rn=Rr[1]+fr;re.call(t.setTranslate,Xt,rn),z("x",f(b,hr,"x",I,h)),z("y",f(M,fr,"y",I,h)),h.axref===h.xref&&z("ax",f(b,hr,"ax",I,h)),h.ayref===h.yref&&z("ay",f(M,fr,"ay",I,h)),vn.attr("transform",T(hr,fr)),Z.attr({transform:"rotate("+H+","+Xt+","+rn+")"})},doneFn:function(){S.call("_guiRelayout",v,$());var hr=document.querySelector(".js-notes-box-panel");hr&&hr.redraw(hr.selectedObj)}})}}};h.showarrow&&Mt(0,0),Y&&a.init({element:re.node(),gd:v,prepFn:function(){Tt=Z.attr("transform")},moveFn:function(At,bt){var Rt="pointer";if(h.showarrow)z("ax",h.axref===h.xref?f(b,At,"ax",I,h):h.ax+At),z("ay",h.ayref===h.yref?f(M,bt,"ay",I.w,h):h.ay+bt),Mt(At,bt);else{if(x)return;var xt,_t;if(b)xt=f(b,At,"x",I,h);else{var It=h._xsize/I.w;xt=a.align(h.x+(h._xshift-h.xshift)/I.w-It/2+At/I.w,It,0,1,h.xanchor)}if(M)_t=f(M,bt,"y",I,h);else{var Wt=h._ysize/I.h;_t=a.align(h.y-(h._yshift+h.yshift)/I.h-Wt/2-bt/I.h,Wt,0,1,h.yanchor)}z("x",xt),z("y",_t),b&&M||(Rt=a.getCursor(b?.5:xt,M?.5:_t,h.xanchor,h.yanchor))}Z.attr({transform:T(At,bt)+Tt}),n(re,Rt)},clickFn:function(At,bt){h.captureevents&&v.emit("plotly_clickannotation",Pe(bt))},doneFn:function(){n(re),S.call("_guiRelayout",v,$());var At=document.querySelector(".js-notes-box-panel");At&&At.redraw(At.selectedObj)}})}}}ie.exports={draw:function(v){var h=v._fullLayout;h._infolayer.selectAll(".annotation").remove();for(var _=0;_<h.annotations.length;_++)h.annotations[_].visible&&p(v,_);return u.previousPromises(v)},drawOne:p,drawRaw:w}},13011:function(ie,B,e){"use strict";var C=e(39898),S=e(7901),u=e(82884),A=e(71828),T=A.strScale,m=A.strRotate,l=A.strTranslate;ie.exports=function(t,o,r){var n,a,s,c,p=t.node(),f=u[r.arrowhead||0],w=u[r.startarrowhead||0],v=(r.arrowwidth||1)*(r.arrowsize||1),h=(r.arrowwidth||1)*(r.startarrowsize||1),_=o.indexOf("start")>=0,x=o.indexOf("end")>=0,b=f.backoff*v+r.standoff,M=w.backoff*h+r.startstandoff;if("line"===p.nodeName){n={x:+t.attr("x1"),y:+t.attr("y1")},a={x:+t.attr("x2"),y:+t.attr("y2")};var d=n.x-a.x,E=n.y-a.y;if(c=(s=Math.atan2(E,d))+Math.PI,b&&M&&b+M>Math.sqrt(d*d+E*E))return void U();if(b){if(b*b>d*d+E*E)return void U();var k=b*Math.cos(s),I=b*Math.sin(s);a.x+=k,a.y+=I,t.attr({x2:a.x,y2:a.y})}if(M){if(M*M>d*d+E*E)return void U();var L=M*Math.cos(s),P=M*Math.sin(s);n.x-=L,n.y-=P,t.attr({x1:n.x,y1:n.y})}}else if("path"===p.nodeName){var R=p.getTotalLength(),z="";if(R<b+M)return void U();var $=p.getPointAtLength(0),N=p.getPointAtLength(.1);s=Math.atan2($.y-N.y,$.x-N.x),n=p.getPointAtLength(Math.min(M,R)),z="0px,"+M+"px,";var W=p.getPointAtLength(R),H=p.getPointAtLength(R-.1);c=Math.atan2(W.y-H.y,W.x-H.x),a=p.getPointAtLength(Math.max(0,R-b)),t.style("stroke-dasharray",z+=R-(z?M+b:b)+"px,"+R+"px")}function U(){t.style("stroke-dasharray","0px,100px")}function Z(Y,ae,re,Q){Y.path&&(Y.noRotate&&(re=0),C.select(p.parentNode).append("path").attr({class:t.attr("class"),d:Y.path,transform:l(ae.x,ae.y)+m(180*re/Math.PI)+T(Q)}).style({fill:S.rgb(r.arrowcolor),"stroke-width":0}))}_&&Z(w,n,s,h),x&&Z(f,a,c,v)}},32745:function(ie,B,e){"use strict";var C=e(92605),S=e(44317);ie.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:C.draw,drawOne:C.drawOne,drawRaw:C.drawRaw,hasClickToShow:S.hasClickToShow,onClick:S.onClick,convertCoords:e(94128)}},26997:function(ie,B,e){"use strict";var C=e(50215),S=e(30962).overrideAll,u=e(44467).templatedArray;ie.exports=S(u("annotation",{visible:C.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:C.xanchor,xshift:C.xshift,yanchor:C.yanchor,yshift:C.yshift,text:C.text,textangle:C.textangle,font:C.font,width:C.width,height:C.height,opacity:C.opacity,align:C.align,valign:C.valign,bgcolor:C.bgcolor,bordercolor:C.bordercolor,borderpad:C.borderpad,borderwidth:C.borderwidth,showarrow:C.showarrow,arrowcolor:C.arrowcolor,arrowhead:C.arrowhead,startarrowhead:C.startarrowhead,arrowside:C.arrowside,arrowsize:C.arrowsize,startarrowsize:C.startarrowsize,arrowwidth:C.arrowwidth,standoff:C.standoff,startstandoff:C.startstandoff,hovertext:C.hovertext,hoverlabel:C.hoverlabel,captureevents:C.captureevents}),"calc","from-root")},5485:function(ie,B,e){"use strict";var C=e(71828),S=e(89298);function u(A,T){var m=T.fullSceneLayout.domain,l=T.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};A._xa={},C.extendFlat(A._xa,t),S.setConvert(A._xa),A._xa._offset=l.l+m.x[0]*l.w,A._xa.l2p=function(){return.5*(1+A._pdata[0]/A._pdata[3])*l.w*(m.x[1]-m.x[0])},A._ya={},C.extendFlat(A._ya,t),S.setConvert(A._ya),A._ya._offset=l.t+(1-m.y[1])*l.h,A._ya.l2p=function(){return.5*(1-A._pdata[1]/A._pdata[3])*l.h*(m.y[1]-m.y[0])}}ie.exports=function(A){for(var T=A.fullSceneLayout.annotations,m=0;m<T.length;m++)u(T[m],A);A.fullLayout._infolayer.selectAll(".annotation-"+A.id).remove()}},20226:function(ie,B,e){"use strict";var C=e(71828),S=e(89298),u=e(85501),A=e(25625),T=e(26997);function m(l,t,o,r){function n(s,c){return C.coerce(l,t,T,s,c)}function a(s){var c=s+"axis",p={_fullLayout:{}};return p._fullLayout[c]=o[c],S.coercePosition(t,p,n,s,s,.5)}n("visible")&&(A(l,t,r.fullLayout,n),a("x"),a("y"),a("z"),C.noneOrAll(l,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),C.noneOrAll(l,t,["ax","ay"])))}ie.exports=function(l,t,o){u(l,t,{name:"annotations",handleItemDefaults:m,fullLayout:o.fullLayout})}},82188:function(ie,B,e){"use strict";var C=e(92605).drawRaw,S=e(63538),u=["x","y","z"];ie.exports=function(A){for(var T=A.fullSceneLayout,m=A.dataScale,l=T.annotations,t=0;t<l.length;t++){for(var o=l[t],r=!1,n=0;n<3;n++){var a=u[n],c=T[a+"axis"].r2fraction(o[a]);if(c<0||c>1){r=!0;break}}r?A.fullLayout._infolayer.select(".annotation-"+A.id+'[data-index="'+t+'"]').remove():(o._pdata=S(A.glplot.cameraParams,[T.xaxis.r2l(o.x)*m[0],T.yaxis.r2l(o.y)*m[1],T.zaxis.r2l(o.z)*m[2]]),C(A.graphDiv,o,t,A.id,o._xa,o._ya))}}},2468:function(ie,B,e){"use strict";var C=e(73972),S=e(71828);ie.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:function(u,A){var T=C.subplotsRegistry.gl3d;if(T)for(var m=T.attrRegex,l=Object.keys(u),t=0;t<l.length;t++){var o=l[t];m.test(o)&&(u[o].annotations||[]).length&&(S.pushUnique(A._basePlotModules,T),S.pushUnique(A._subplots.gl3d,o))}},convert:e(5485),draw:e(82188)}},7561:function(ie,B,e){"use strict";ie.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(ie,B,e){"use strict";var C=e(7561),S=e(71828),u=e(50606),A=u.EPOCHJD,T=u.ONEDAY,m={valType:"enumerated",values:S.sortObjectKeys(C.calendars),editType:"calc",dflt:"gregorian"},l=function(v,h,_,x){var b={};return b[_]=m,S.coerce(v,h,b,_,x)},t="##",o={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:t,w:t,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},r={};function n(v){return r[v]||(r[v]=C.instance(v))}function a(v){return S.extendFlat({},m,{description:v})}function s(v){return"Sets the calendar system to use with `"+v+"` date data."}var c={xcalendar:a(s("x"))},p=S.extendFlat({},c,{ycalendar:a(s("y"))}),f=S.extendFlat({},p,{zcalendar:a(s("z"))}),w=a(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));ie.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:f,surface:f,mesh3d:f,scattergl:p,ohlc:c,candlestick:c},layout:{calendar:a(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:a(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:a(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:m,handleDefaults:l,handleTraceDefaults:function(v,h,_,x){for(var b=0;b<_.length;b++)l(v,h,_[b]+"calendar",x.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:n,worldCalFmt:function(v,h,_){for(var x,b,M,d,E,k=Math.floor((h+.05)/T)+A,I=n(_).fromJD(k),L=0;-1!==(L=v.indexOf("%",L));)"0"===(x=v.charAt(L+1))||"-"===x||"_"===x?(M=3,b=v.charAt(L+2),"_"===x&&(x="-")):(b=x,x="0",M=2),(d=o[b])?(E=d===t?t:I.formatDate(d[x]),v=v.substr(0,L)+E+v.substr(L+M),L+=E.length):L+=M;return v}}},22399:function(ie,B){"use strict";B.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],B.defaultLine="#444",B.lightLine="#eee",B.background="#fff",B.borderLine="#BEC8D9",B.lightFraction=90.9090909090909},7901:function(ie,B,e){"use strict";var C=e(84267),S=e(92770),u=e(73627).isTypedArray,A=ie.exports={},T=e(22399);A.defaults=T.defaults;var m=A.defaultLine=T.defaultLine;A.lightLine=T.lightLine;var l=A.background=T.background;function t(o){if(S(o)||"string"!=typeof o)return o;var r=o.trim();if("rgb"!==r.substr(0,3))return o;var n=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return o;var a=n[1].trim().split(/\s*[\s,]\s*/),s="a"===r.charAt(3)&&4===a.length;if(!s&&3!==a.length)return o;for(var c=0;c<a.length;c++){if(!(a[c].length&&(a[c]=Number(a[c]),a[c]>=0)))return o;if(3===c)a[c]>1&&(a[c]=1);else if(a[c]>=1)return o}var p=Math.round(255*a[0])+", "+Math.round(255*a[1])+", "+Math.round(255*a[2]);return s?"rgba("+p+", "+a[3]+")":"rgb("+p+")"}A.tinyRGB=function(o){var r=o.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"},A.rgb=function(o){return A.tinyRGB(C(o))},A.opacity=function(o){return o?C(o).getAlpha():0},A.addOpacity=function(o,r){var n=C(o).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+r+")"},A.combine=function(o,r){var n=C(o).toRgb();if(1===n.a)return C(o).toRgbString();var a=C(r||l).toRgb(),s=1===a.a?a:{r:255*(1-a.a)+a.r*a.a,g:255*(1-a.a)+a.g*a.a,b:255*(1-a.a)+a.b*a.a};return C({r:s.r*(1-n.a)+n.r*n.a,g:s.g*(1-n.a)+n.g*n.a,b:s.b*(1-n.a)+n.b*n.a}).toRgbString()},A.contrast=function(o,r,n){var a=C(o);return 1!==a.getAlpha()&&(a=C(A.combine(o,l))),(a.isDark()?r?a.lighten(r):l:n?a.darken(n):m).toString()},A.stroke=function(o,r){var n=C(r);o.style({stroke:A.tinyRGB(n),"stroke-opacity":n.getAlpha()})},A.fill=function(o,r){var n=C(r);o.style({fill:A.tinyRGB(n),"fill-opacity":n.getAlpha()})},A.clean=function(o){if(o&&"object"==typeof o){var r,n,a,s,c=Object.keys(o);for(r=0;r<c.length;r++)if(s=o[a=c[r]],"color"===a.substr(a.length-5))if(Array.isArray(s))for(n=0;n<s.length;n++)s[n]=t(s[n]);else o[a]=t(s);else if("colorscale"===a.substr(a.length-10)&&Array.isArray(s))for(n=0;n<s.length;n++)Array.isArray(s[n])&&(s[n][1]=t(s[n][1]));else if(Array.isArray(s)){var p=s[0];if(!Array.isArray(p)&&p&&"object"==typeof p)for(n=0;n<s.length;n++)A.clean(s[n])}else s&&"object"==typeof s&&!u(s)&&A.clean(s)}}},63583:function(ie,B,e){"use strict";var C=e(13838),S=e(41940),u=e(1426).extendFlat,A=e(30962).overrideAll;ie.exports=A({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:C.linecolor,outlinewidth:C.linewidth,bordercolor:C.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:C.minor.tickmode,nticks:C.nticks,tick0:C.tick0,dtick:C.dtick,tickvals:C.tickvals,ticktext:C.ticktext,ticks:u({},C.ticks,{dflt:""}),ticklabeloverflow:u({},C.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:C.ticklen,tickwidth:C.tickwidth,tickcolor:C.tickcolor,ticklabelstep:C.ticklabelstep,showticklabels:C.showticklabels,labelalias:C.labelalias,tickfont:S({}),tickangle:C.tickangle,tickformat:C.tickformat,tickformatstops:C.tickformatstops,tickprefix:C.tickprefix,showtickprefix:C.showtickprefix,ticksuffix:C.ticksuffix,showticksuffix:C.showticksuffix,separatethousands:C.separatethousands,exponentformat:C.exponentformat,minexponent:C.minexponent,showexponent:C.showexponent,title:{text:{valType:"string"},font:S({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:S({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(ie){"use strict";ie.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(ie,B,e){"use strict";var C=e(71828),S=e(44467),u=e(26218),A=e(38701),T=e(96115),m=e(89426),l=e(63583);ie.exports=function(t,o,r){var n=S.newContainer(o,"colorbar"),a=t.colorbar||{};function s(z,$){return C.coerce(a,n,l,z,$)}var c=r.margin||{t:0,b:0,l:0,r:0},p=r.width-c.l-c.r,f=r.height-c.t-c.b,w="v"===s("orientation"),v=s("thicknessmode");s("thickness","fraction"===v?30/(w?p:f):30);var h=s("lenmode");s("len","fraction"===h?1:w?f:p);var _,x,b,M="paper"===s("yref"),d="paper"===s("xref"),E="left";w?(b="middle",E=d?"left":"right",_=d?1.02:1,x=.5):(b=M?"bottom":"top",E="center",_=.5,x=M?1.02:1),C.coerce(a,n,{x:{valType:"number",min:d?-2:0,max:d?3:1,dflt:_}},"x"),C.coerce(a,n,{y:{valType:"number",min:M?-2:0,max:M?3:1,dflt:x}},"y"),s("xanchor",E),s("xpad"),s("yanchor",b),s("ypad"),C.noneOrAll(a,n,["x","y"]),s("outlinecolor"),s("outlinewidth"),s("bordercolor"),s("borderwidth"),s("bgcolor");var k=C.coerce(a,n,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:w?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");s("ticklabeloverflow",-1!==k.indexOf("inside")?"hide past domain":"hide past div"),u(a,n,s,"linear");var I=r.font,L={outerTicks:!1,font:I};-1!==k.indexOf("inside")&&(L.bgColor="black"),m(a,n,s,"linear",L),T(a,n,s,"linear",L),A(a,n,s,"linear",L),s("title.text",r._dfltTitle.colorbar);var P=n.showticklabels?n.tickfont:I,R=C.extendFlat({},P,{color:I.color,size:C.bigFont(P.size)});C.coerceFont(s,"title.font",R),s("title.side",w?"top":"right")}},98981:function(ie,B,e){"use strict";var C=e(39898),S=e(84267),u=e(74875),A=e(73972),T=e(89298),m=e(28569),l=e(71828),t=l.strTranslate,o=e(1426).extendFlat,r=e(6964),n=e(91424),a=e(7901),s=e(92998),c=e(63893),p=e(52075).flipScale,f=e(71453),w=e(52830),v=e(13838),h=e(18783),_=h.LINE_SPACING,x=h.FROM_TL,b=h.FROM_BR,M=e(30939).cn;ie.exports={draw:function(d){var E=d._fullLayout._infolayer.selectAll("g."+M.colorbar).data(function(k){var I,L,P,R,z=k._fullLayout,$=k.calcdata,N=[];function W(ue){return o(ue,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function H(){"function"==typeof R.calc?R.calc(k,P,I):(I._fillgradient=L.reversescale?p(L.colorscale):L.colorscale,I._zrange=[L[R.min],L[R.max]])}for(var U=0;U<$.length;U++){var Y=(P=$[U][0].trace)._module.colorbar;if(!0===P.visible&&Y)for(var ae=Array.isArray(Y),re=ae?Y:[Y],Q=0;Q<re.length;Q++){var K=(R=re[Q]).container;(L=K?P[K]:P)&&L.showscale&&((I=W(L.colorbar))._id="cb"+P.uid+(ae&&K?"-"+K:""),I._traceIndex=P.index,I._propPrefix=(K?K+".":"")+"colorbar.",I._meta=P._meta,H(),N.push(I))}}for(var te in z._colorAxes)if((L=z[te]).showscale){var oe=z._colorAxes[te];(I=W(L.colorbar))._id="cb"+te,I._propPrefix=te+".colorbar.",I._meta=z._meta,R={min:"cmin",max:"cmax"},"heatmap"!==oe[0]&&(R.calc=(P=oe[1])._module.colorbar.calc),H(),N.push(I)}return N}(d),function(k){return k._id});E.enter().append("g").attr("class",function(k){return k._id}).classed(M.colorbar,!0),E.each(function(k){var I=C.select(this);l.ensureSingle(I,"rect",M.cbbg),l.ensureSingle(I,"g",M.cbfills),l.ensureSingle(I,"g",M.cblines),l.ensureSingle(I,"g",M.cbaxis,function(P){P.classed(M.crisp,!0)}),l.ensureSingle(I,"g",M.cbtitleunshift,function(P){P.append("g").classed(M.cbtitle,!0)}),l.ensureSingle(I,"rect",M.cboutline);var P,R,z,$,N,W,H,U,L=function(P,R,z){var $="v"===R.orientation,N=R.len,W=R.lenmode,H=R.thickness,U=R.thicknessmode,Z=R.outlinewidth,Y=R.borderwidth,ae=R.bgcolor,re=R.xanchor,Q=R.yanchor,K=R.xpad,te=R.ypad,oe=R.x,ue=$?R.y:1-R.y,fe="paper"===R.yref,he="paper"===R.xref,me=z._fullLayout,ke=me._size,Pe=R._fillcolor,Te=R._line,be=R.title,xe=be.side,Ne=R._zrange||C.extent(("function"==typeof Pe?Pe:Te.color).domain()),Se="function"==typeof Te.color?Te.color:function(){return Te.color},Ce="function"==typeof Pe?Pe:function(){return Pe},pe=R._levels,de=function(Xe,rt,ft){var vt,je,Ve=rt._levels,ut=[],ct=[],Tt=Ve.end+Ve.size/100,Mt=Ve.size,At=1.001*ft[0]-.001*ft[1],bt=1.001*ft[1]-.001*ft[0];for(je=0;je<1e5&&(vt=Ve.start+je*Mt,!(Mt>0?vt>=Tt:vt<=Tt));je++)vt>At&&vt<bt&&ut.push(vt);if(rt._fillgradient)ct=[0];else if("function"==typeof rt._fillcolor){var Rt=rt._filllevels;if(Rt)for(Tt=Rt.end+Rt.size/100,Mt=Rt.size,je=0;je<1e5&&(vt=Rt.start+je*Mt,!(Mt>0?vt>=Tt:vt<=Tt));je++)vt>ft[0]&&vt<ft[1]&&ct.push(vt);else(ct=ut.map(function(xt){return xt-Ve.size/2})).push(ct[ct.length-1]+Ve.size)}else rt._fillcolor&&"string"==typeof rt._fillcolor&&(ct=[0]);return Ve.size<0&&(ut.reverse(),ct.reverse()),{line:ut,fill:ct}}(0,R,Ne),se=de.fill,we=de.line,Re=Math.round(H*("fraction"===U?$?ke.w:ke.h:1)),Ee=Re/($?ke.w:ke.h),Ue=Math.round(N*("fraction"===W?$?ke.h:ke.w:1)),$e=Ue/($?ke.h:ke.w),ve=he?ke.w:z._fullLayout.width,Ie=fe?ke.h:z._fullLayout.height,De=Math.round($?oe*ve+K:ue*Ie+te),ze={center:.5,right:1}[re]||0,Ge={top:1,middle:.5}[Q]||0,He=$?oe-ze*Ee:ue-Ge*Ee,Ke=$?ue-Ge*$e:oe-ze*$e,et=Math.round($?Ie*(1-Ke):ve*Ke);R._lenFrac=$e,R._thickFrac=Ee,R._uFrac=He,R._vFrac=Ke;var st=R._axis=function(Xe,rt,ft){var vt=Xe._fullLayout,je="v"===rt.orientation,Ve={type:"linear",range:ft,tickmode:rt.tickmode,nticks:rt.nticks,tick0:rt.tick0,dtick:rt.dtick,tickvals:rt.tickvals,ticktext:rt.ticktext,ticks:rt.ticks,ticklen:rt.ticklen,tickwidth:rt.tickwidth,tickcolor:rt.tickcolor,showticklabels:rt.showticklabels,labelalias:rt.labelalias,ticklabelposition:rt.ticklabelposition,ticklabeloverflow:rt.ticklabeloverflow,ticklabelstep:rt.ticklabelstep,tickfont:rt.tickfont,tickangle:rt.tickangle,tickformat:rt.tickformat,exponentformat:rt.exponentformat,minexponent:rt.minexponent,separatethousands:rt.separatethousands,showexponent:rt.showexponent,showtickprefix:rt.showtickprefix,tickprefix:rt.tickprefix,showticksuffix:rt.showticksuffix,ticksuffix:rt.ticksuffix,title:rt.title,showline:!0,anchor:"free",side:je?"right":"bottom",position:1},ut=je?"y":"x",ct={type:"linear",_id:ut+rt._id},Tt={letter:ut,font:vt.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:vt.calendar};function Mt(At,bt){return l.coerce(Ve,ct,v,At,bt)}return f(Ve,ct,Mt,Tt,vt),w(Ve,ct,Mt,Tt),ct}(z,R,Ne);st.position=Ee+($?oe+K/ke.w:ue+te/ke.h);var mt=-1!==["top","bottom"].indexOf(xe);if($&&mt&&(st.title.side=xe,st.titlex=oe+K/ke.w,st.titley=Ke+("top"===be.side?$e-te/ke.h:te/ke.h)),$||mt||(st.title.side=xe,st.titley=ue+te/ke.h,st.titlex=Ke+K/ke.w),Te.color&&"auto"===R.tickmode){st.tickmode="linear",st.tick0=pe.start;var at=pe.size,kt=l.constrain(Ue/50,4,15)+1,St=(Ne[1]-Ne[0])/((R.nticks||kt)*at);if(St>1){var gt=Math.pow(10,Math.floor(Math.log(St)/Math.LN10));at*=gt*l.roundUp(St/gt,[2,5,10]),(Math.abs(pe.start)/pe.size+1e-6)%1<2e-6&&(st.tick0=0)}st.dtick=at}st.domain=$?[Ke+te/ke.h,Ke+$e-te/ke.h]:[Ke+K/ke.w,Ke+$e-K/ke.w],st.setScale(),P.attr("transform",t(Math.round(ke.l),Math.round(ke.t)));var dt,Ct=P.select("."+M.cbtitleunshift).attr("transform",t(-Math.round(ke.l),-Math.round(ke.t))),Ot=st.ticklabelposition,Pt=st.title.font.size,Ht=P.select("."+M.cbaxis),jt=0,nt=0;function it(Xe,rt){var ft={propContainer:st,propName:R._propPrefix+"title",traceIndex:R._traceIndex,_meta:R._meta,placeholder:me._dfltTitle.colorbar,containerGroup:P.select("."+M.cbtitle)},vt="h"===Xe.charAt(0)?Xe.substr(1):"h"+Xe;P.selectAll("."+vt+",."+vt+"-math-group").remove(),s.draw(z,Xe,o(ft,rt||{}))}return l.syncOrAsync([u.previousPromises,function(){var Xe,rt;($&&mt||!$&&!mt)&&("top"===xe&&(Xe=K+ke.l+ve*oe,rt=te+ke.t+Ie*(1-Ke-$e)+3+.75*Pt),"bottom"===xe&&(Xe=K+ke.l+ve*oe,rt=te+ke.t+Ie*(1-Ke)-3-.25*Pt),"right"===xe&&(rt=te+ke.t+Ie*ue+3+.75*Pt,Xe=K+ke.l+ve*Ke),it(st._id+"title",{attributes:{x:Xe,y:rt,"text-anchor":$?"start":"middle"}}))},function(){if(!$&&!mt||$&&mt){var Xe,rt=P.select("."+M.cbtitle),ft=rt.select("text"),vt=[-Z/2,Z/2],je=rt.select(".h"+st._id+"title-math-group").node(),Ve=15.6;if(ft.node()&&(Ve=parseInt(ft.node().style.fontSize,10)*_),je?(Xe=n.bBox(je),nt=Xe.width,(jt=Xe.height)>Ve&&(vt[1]-=(jt-Ve)/2)):ft.node()&&!ft.classed(M.jsPlaceholder)&&(Xe=n.bBox(ft.node()),nt=Xe.width,jt=Xe.height),$){if(jt){if(jt+=5,"top"===xe)st.domain[1]-=jt/ke.h,vt[1]*=-1;else{st.domain[0]+=jt/ke.h;var ut=c.lineCount(ft);vt[1]+=(1-ut)*Ve}rt.attr("transform",t(vt[0],vt[1])),st.setScale()}}else nt&&("right"===xe&&(st.domain[0]+=(nt+Pt/2)/ke.w),rt.attr("transform",t(vt[0],vt[1])),st.setScale())}P.selectAll("."+M.cbfills+",."+M.cblines).attr("transform",$?t(0,Math.round(ke.h*(1-st.domain[1]))):t(Math.round(ke.w*st.domain[0]),0)),Ht.attr("transform",$?t(0,Math.round(-ke.t)):t(Math.round(-ke.l),0));var ct=P.select("."+M.cbfills).selectAll("rect."+M.cbfill).attr("style","").data(se);ct.enter().append("rect").classed(M.cbfill,!0).style("stroke","none"),ct.exit().remove();var Tt=Ne.map(st.c2p).map(Math.round).sort(function(xt,_t){return xt-_t});ct.each(function(xt,_t){var It=[0===_t?Ne[0]:(se[_t]+se[_t-1])/2,_t===se.length-1?Ne[1]:(se[_t]+se[_t+1])/2].map(st.c2p).map(Math.round);$&&(It[1]=l.constrain(It[1]+(It[1]>It[0])?1:-1,Tt[0],Tt[1]));var Gt=C.select(this).attr($?"x":"y",De).attr($?"y":"x",C.min(It)).attr($?"width":"height",Math.max(Re,2)).attr($?"height":"width",Math.max(C.max(It)-C.min(It),2));if(R._fillgradient)n.gradient(Gt,z,R._id,$?"vertical":"horizontalreversed",R._fillgradient,"fill");else{var Wt=Ce(xt).replace("e-","");Gt.attr("fill",S(Wt).toHexString())}});var Mt=P.select("."+M.cblines).selectAll("path."+M.cbline).data(Te.color&&Te.width?we:[]);Mt.enter().append("path").classed(M.cbline,!0),Mt.exit().remove(),Mt.each(function(xt){var _t=De,It=Math.round(st.c2p(xt))+Te.width/2%1;C.select(this).attr("d","M"+($?_t+","+It:It+","+_t)+($?"h":"v")+Re).call(n.lineGroupStyle,Te.width,Se(xt),Te.dash)}),Ht.selectAll("g."+st._id+"tick,path").remove();var At=De+Re+(Z||0)/2-("outside"===R.ticks?1:0),bt=T.calcTicks(st),Rt=T.getTickSigns(st)[2];return T.drawTicks(z,st,{vals:"inside"===st.ticks?T.clipEnds(st,bt):bt,layer:Ht,path:T.makeTickPath(st,At,Rt),transFn:T.makeTransTickFn(st)}),T.drawLabels(z,st,{vals:bt,layer:Ht,transFn:T.makeTransTickLabelFn(st),labelFns:T.makeLabelFns(st,At)})},function(){if($&&!mt||!$&&mt){var Xe,rt,ft=st.position||0,vt=st._offset+st._length/2;if("right"===xe)rt=vt,Xe=ke.l+ve*ft+10+Pt*(st.showticklabels?1:.5);else if(Xe=vt,"bottom"===xe&&(rt=ke.t+Ie*ft+10+(-1===Ot.indexOf("inside")?st.tickfont.size:0)+("intside"!==st.ticks&&R.ticklen||0)),"top"===xe){var je=be.text.split("<br>").length;rt=ke.t+Ie*ft+10-Re-_*Pt*je}it(($?"h":"v")+st._id+"title",{avoid:{selection:C.select(z).selectAll("g."+st._id+"tick"),side:xe,offsetTop:$?0:ke.t,offsetLeft:$?ke.l:0,maxShift:$?me.width:me.height},attributes:{x:Xe,y:rt,"text-anchor":"middle"},transform:{rotate:$?-90:0,offset:0}})}},u.previousPromises,function(){var Xe,rt=Re+Z/2;-1===Ot.indexOf("inside")&&(Xe=n.bBox(Ht.node()),rt+=$?Xe.width:Xe.height),dt=Ct.select("text");var ft=0,vt=$&&"top"===xe,je=!$&&"right"===xe,Ve=0;if(dt.node()&&!dt.classed(M.jsPlaceholder)){var ut,ct=Ct.select(".h"+st._id+"title-math-group").node();ct&&($&&mt||!$&&!mt)?(ft=(Xe=n.bBox(ct)).width,ut=Xe.height):(ft=(Xe=n.bBox(Ct.node())).right-ke.l-($?De:et),ut=Xe.bottom-ke.t-($?et:De),$||"top"!==xe||(rt+=Xe.height,Ve=Xe.height)),je&&(dt.attr("transform",t(ft/2+Pt/2,0)),ft*=2),rt=Math.max(rt,$?ft:ut)}var Tt=2*($?K:te)+rt+Y+Z/2,Mt=0;!$&&be.text&&"bottom"===Q&&ue<=0&&(Tt+=Mt=Tt/2,Ve+=Mt),me._hColorbarMoveTitle=Mt,me._hColorbarMoveCBTitle=Ve;var At=Y+Z,bt=($?De:et)-At/2-($?K:0),Rt=($?et:De)-($?Ue:te+Ve-Mt);P.select("."+M.cbbg).attr("x",bt).attr("y",Rt).attr($?"width":"height",Math.max(Tt-Mt,2)).attr($?"height":"width",Math.max(Ue+At,2)).call(a.fill,ae).call(a.stroke,R.bordercolor).style("stroke-width",Y);var xt=je?Math.max(ft-10,0):0;P.selectAll("."+M.cboutline).attr("x",($?De:et+K)+xt).attr("y",($?et+te-Ue:De)+(vt?jt:0)).attr($?"width":"height",Math.max(Re,2)).attr($?"height":"width",Math.max(Ue-($?2*te+jt:2*K+xt),2)).call(a.stroke,R.outlinecolor).style({fill:"none","stroke-width":Z});var _t=$?ze*Tt:0,It=$?0:(1-Ge)*Tt-Ve;if(P.attr("transform",t(_t=he?ke.l-_t:-_t,It=fe?ke.t-It:-It)),!$&&(Y||S(ae).getAlpha()&&!S.equals(me.paper_bgcolor,ae))){var Gt=Ht.selectAll("text"),Wt=Gt[0].length,Zt=P.select("."+M.cbbg).node(),cn=n.bBox(Zt),nn=n.getTranslate(P);Gt.each(function(En,vn){var Un=Wt-1;if(0===vn||vn===Un){var Hn,On=n.bBox(this),Wn=n.getTranslate(this);vn===Un?(Hn=cn.right+nn.x+et-Y-2+oe-(On.right+Wn.x))>0&&(Hn=0):0===vn&&(Hn=cn.left+nn.x+et+Y+2-(On.left+Wn.x))<0&&(Hn=0),Hn&&(Wt<3?this.setAttribute("transform","translate("+Hn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var ln={},Qt=x[re],kn=b[re],Pn=x[Q],Tn=b[Q],tn=Tt-Re;$?("pixels"===W?(ln.y=ue,ln.t=Ue*Pn,ln.b=Ue*Tn):(ln.t=ln.b=0,ln.yt=ue+N*Pn,ln.yb=ue-N*Tn),"pixels"===U?(ln.x=oe,ln.l=Tt*Qt,ln.r=Tt*kn):(ln.l=tn*Qt,ln.r=tn*kn,ln.xl=oe-H*Qt,ln.xr=oe+H*kn)):("pixels"===W?(ln.x=oe,ln.l=Ue*Qt,ln.r=Ue*kn):(ln.l=ln.r=0,ln.xl=oe+N*Qt,ln.xr=oe-N*kn),"pixels"===U?(ln.y=1-ue,ln.t=Tt*Pn,ln.b=Tt*Tn):(ln.t=tn*Pn,ln.b=tn*Tn,ln.yt=ue-H*Pn,ln.yb=ue+H*Tn));var gn=R.y<.5?"b":"t",hn=R.x<.5?"l":"r";z._fullLayout._reservedMargin[R._id]={};var mn={r:me.width-bt-_t,l:bt+ln.r,b:me.height-Rt-It,t:Rt+ln.b};he&&fe?u.autoMargin(z,R._id,ln):he?z._fullLayout._reservedMargin[R._id][gn]=mn[gn]:fe||$?z._fullLayout._reservedMargin[R._id][hn]=mn[hn]:z._fullLayout._reservedMargin[R._id][gn]=mn[gn]}],z)}(I,k,d);L&&L.then&&(d._promises||[]).push(L),d._context.edits.colorbarPosition&&(H="v"===(R=k).orientation,U=(z=d)._fullLayout._size,m.init({element:(P=I).node(),gd:z,prepFn:function(){$=P.attr("transform"),r(P)},moveFn:function(Z,Y){P.attr("transform",$+t(Z,Y)),N=m.align((H?R._uFrac:R._vFrac)+Z/U.w,H?R._thickFrac:R._lenFrac,0,1,R.xanchor),W=m.align((H?R._vFrac:1-R._uFrac)-Y/U.h,H?R._lenFrac:R._thickFrac,0,1,R.yanchor);var ae=m.getCursor(N,W,R.xanchor,R.yanchor);r(P,ae)},doneFn:function(){if(r(P),void 0!==N&&void 0!==W){var Z={};Z[R._propPrefix+"x"]=N,Z[R._propPrefix+"y"]=W,void 0!==R._traceIndex?A.call("_guiRestyle",z,Z,R._traceIndex):A.call("_guiRelayout",z,Z)}}}))}),E.exit().each(function(k){u.autoMargin(d,k._id)}).remove(),E.order()}}},76228:function(ie,B,e){"use strict";var C=e(71828);ie.exports=function(S){return C.isPlainObject(S.colorbar)}},12311:function(ie,B,e){"use strict";ie.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(ie,B,e){"use strict";var C=e(63583),S=e(30587).counter,u=e(78607),A=e(63282).scales;function T(m){return"`"+m+"`"}u(A),ie.exports=function(m,l){m=m||"";var t,o=(l=l||{}).cLetter||"c",r="noScale"in l?l.noScale:"marker.line"===m,n="showScaleDflt"in l?l.showScaleDflt:"z"===o,a="string"==typeof l.colorscaleDflt?A[l.colorscaleDflt]:null,s=l.editTypeOverride||"",c=m?m+".":"";"colorAttr"in l?t=l.colorAttr:T(c+(t={z:"z",c:"color"}[o]));var p=o+"auto",f=o+"min",w=o+"max",v=o+"mid",h=(T(c+p),T(c+f),T(c+w),{});h[f]=h[w]=void 0;var _={};_[p]=!1;var x={};return"color"===t&&(x.color={valType:"color",arrayOk:!0,editType:s||"style"},l.anim&&(x.color.anim=!0)),x[p]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},x[f]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:_},x[w]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:_},x[v]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},x.colorscale={valType:"colorscale",editType:"calc",dflt:a,impliedEdits:{autocolorscale:!1}},x.autocolorscale={valType:"boolean",dflt:!1!==l.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},x.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(x.showscale={valType:"boolean",dflt:n,editType:"calc"},x.colorbar=C),l.noColorAxis||(x.coloraxis={valType:"subplotid",regex:S("coloraxis"),dflt:null,editType:"calc"}),x}},78803:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=e(52075).extractOpts;ie.exports=function(A,T,m){var t=A._fullLayout,o=m.vals,r=m.containerStr,n=r?S.nestedProperty(T,r).get():T,a=u(n),s=!1!==a.auto,c=a.min,p=a.max,f=a.mid,w=function(){return S.aggNums(Math.min,null,o)},v=function(){return S.aggNums(Math.max,null,o)};void 0===c?c=w():s&&(c=n._colorAx&&C(c)?Math.min(c,w()):w()),void 0===p?p=v():s&&(p=n._colorAx&&C(p)?Math.max(p,v()):v()),s&&void 0!==f&&(p-f>f-c?c=f-(p-f):p-f<f-c&&(p=f+(f-c))),c===p&&(c-=.5,p+=.5),a._sync("min",c),a._sync("max",p),a.autocolorscale&&a._sync("colorscale",c*p<0?t.colorscale.diverging:c>=0?t.colorscale.sequential:t.colorscale.sequentialminus)}},33046:function(ie,B,e){"use strict";var C=e(71828),S=e(52075).hasColorscale,u=e(52075).extractOpts;ie.exports=function(A,T){function m(s,c){var p=s["_"+c];void 0!==p&&(s[c]=p)}function l(s,c){var p=c.container?C.nestedProperty(s,c.container).get():s;if(p)if(p.coloraxis)p._colorAx=T[p.coloraxis];else{var f=u(p),w=f.auto;(w||void 0===f.min)&&m(p,c.min),(w||void 0===f.max)&&m(p,c.max),f.autocolorscale&&m(p,"colorscale")}}for(var t=0;t<A.length;t++){var o=A[t],r=o._module.colorbar;if(r)if(Array.isArray(r))for(var n=0;n<r.length;n++)l(o,r[n]);else l(o,r);S(o,"marker.line")&&l(o,{container:"marker.line",min:"cmin",max:"cmax"})}for(var a in T._colorAxes)l(T[a],{min:"cmin",max:"cmax"})}},1586:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=e(76228),A=e(62499),T=e(63282).isValid,m=e(73972).traceIs;function l(t,o){var r=o.slice(0,o.length-1);return o?S.nestedProperty(t,r).get()||{}:t}ie.exports=function t(o,r,n,a,s){var c=s.prefix,p=s.cLetter,f="_module"in r,w=l(o,c),v=l(r,c),h=l(r._template||{},c)||{},_=function(){return delete o.coloraxis,delete r.coloraxis,t(o,r,n,a,s)};if(f){var x=n._colorAxes||{},b=a(c+"coloraxis");if(b){var M=m(r,"contour")&&S.nestedProperty(r,"contours.coloring").get()||"heatmap",d=x[b];return void(d?(d[2].push(_),d[0]!==M&&(d[0]=!1,S.warn(["Ignoring coloraxis:",b,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[b]=[M,r,[_]])}}var E=w[p+"min"],k=w[p+"max"],I=C(E)&&C(k)&&E<k;a(c+p+"auto",!I)?a(c+p+"mid"):(a(c+p+"min"),a(c+p+"max"));var L,P,R=w.colorscale,z=h.colorscale;void 0!==R&&(L=!T(R)),void 0!==z&&(L=!T(z)),a(c+"autocolorscale",L),a(c+"colorscale"),a(c+"reversescale"),"marker.line."!==c&&(c&&f&&(P=u(w)),a(c+"showscale",P)&&(c&&h&&(v._template=h),A(w,v,n)))}},52075:function(ie,B,e){"use strict";var C=e(39898),S=e(84267),u=e(92770),A=e(71828),T=e(7901),m=e(63282).isValid,l=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function o(c){var p,f,w,v=c._colorAx,h=v||c,_={};for(f=0;f<l.length;f++)_[w=l[f]]=h[w];if(v)for(p="c",f=0;f<t.length;f++)_[w=t[f]]=h["c"+w];else{var x;for(f=0;f<t.length;f++)((x="c"+(w=t[f]))in h||(x="z"+w)in h)&&(_[w]=h[x]);p=x.charAt(0)}return _._sync=function(b,M){var d=-1!==t.indexOf(b)?p+b:b;h[d]=h["_"+d]=M},_}function r(c){for(var p=o(c),f=p.min,w=p.max,v=p.reversescale?n(p.colorscale):p.colorscale,h=v.length,_=new Array(h),x=new Array(h),b=0;b<h;b++){var M=v[b];_[b]=f+M[0]*(w-f),x[b]=M[1]}return{domain:_,range:x}}function n(c){for(var p=c.length,f=new Array(p),w=p-1,v=0;w>=0;w--,v++){var h=c[w];f[v]=[1-h[0],h[1]]}return f}function a(c,p){p=p||{};for(var f=c.domain,w=c.range,v=w.length,h=new Array(v),_=0;_<v;_++){var x=S(w[_]).toRgb();h[_]=[x.r,x.g,x.b,x.a]}var b,M=C.scale.linear().domain(f).range(h).clamp(!0),d=p.noNumericCheck,E=p.returnArray;return(b=d&&E?M:d?function(k){return s(M(k))}:E?function(k){return u(k)?M(k):S(k).isValid()?k:T.defaultLine}:function(k){return u(k)?s(M(k)):S(k).isValid()?k:T.defaultLine}).domain=M.domain,b.range=function(){return w},b}function s(c){return S({r:c[0],g:c[1],b:c[2],a:c[3]}).toRgbString()}ie.exports={hasColorscale:function(c,p,f){var w=p?A.nestedProperty(c,p).get()||{}:c,v=w[f||"color"],h=!1;if(A.isArrayOrTypedArray(v))for(var _=0;_<v.length;_++)if(u(v[_])){h=!0;break}return A.isPlainObject(w)&&(h||!0===w.showscale||u(w.cmin)&&u(w.cmax)||m(w.colorscale)||A.isPlainObject(w.colorbar))},extractOpts:o,extractScale:r,flipScale:n,makeColorScaleFunc:a,makeColorScaleFuncFromTrace:function(c,p){return a(r(c),p)}}},21081:function(ie,B,e){"use strict";var C=e(63282),S=e(52075);ie.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:C.scales,defaultScale:C.defaultScale,getScale:C.get,isValidScale:C.isValid,hasColorscale:S.hasColorscale,extractOpts:S.extractOpts,extractScale:S.extractScale,flipScale:S.flipScale,makeColorScaleFunc:S.makeColorScaleFunc,makeColorScaleFuncFromTrace:S.makeColorScaleFuncFromTrace}},72673:function(ie,B,e){"use strict";var C=e(1426).extendFlat,S=e(50693),u=e(63282).scales;ie.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:u.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:u.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:u.RdBu,editType:"calc"}},coloraxis:C({_isSubplotObj:!0,editType:"calc"},S("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(ie,B,e){"use strict";var C=e(71828),S=e(44467),u=e(72673),A=e(1586);ie.exports=function(T,m){function l(p,f){return C.coerce(T,m,u,p,f)}l("colorscale.sequential"),l("colorscale.sequentialminus"),l("colorscale.diverging");var t,o,r=m._colorAxes;function n(p,f){return C.coerce(t,o,u.coloraxis,p,f)}for(var a in r){var s=r[a];if(s[0])t=T[a]||{},(o=S.newContainer(m,a,"coloraxis"))._name=a,A(t,o,m,n,{prefix:"",cLetter:"c"});else{for(var c=0;c<s[2].length;c++)s[2][c]();delete m._colorAxes[a]}}}},63282:function(ie,B,e){"use strict";var C=e(84267),S={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},u=S.RdBu;function A(T){var m=0;if(!Array.isArray(T)||T.length<2||!T[0]||!T[T.length-1]||0!=+T[0][0]||1!=+T[T.length-1][0])return!1;for(var l=0;l<T.length;l++){var t=T[l];if(2!==t.length||+t[0]<m||!C(t[1]).isValid())return!1;m=+t[0]}return!0}ie.exports={scales:S,defaultScale:u,get:function(T,m){if(m||(m=u),!T)return m;function l(){try{T=S[T]||JSON.parse(T)}catch{T=m}}return"string"==typeof T&&(l(),"string"==typeof T&&l()),A(T)?T:m},isValid:function(T){return void 0!==S[T]||A(T)}}},92807:function(ie){"use strict";ie.exports=function(B,e,C,S,u){var A=(B-C)/(S-C),T=A+e/(S-C),m=(A+T)/2;return"left"===u||"bottom"===u?A:"center"===u||"middle"===u?m:"right"===u||"top"===u?T:A<.6666666666666666-m?A:T>1.3333333333333333-m?T:m}},70461:function(ie,B,e){"use strict";var C=e(71828),S=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];ie.exports=function(u,A,T,m){return u="left"===T?0:"center"===T?1:"right"===T?2:C.constrain(Math.floor(3*u),0,2),A="bottom"===m?0:"middle"===m?1:"top"===m?2:C.constrain(Math.floor(3*A),0,2),S[A][u]}},64505:function(ie,B){"use strict";B.selectMode=function(e){return"lasso"===e||"select"===e},B.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},B.openMode=function(e){return"drawline"===e||"drawopenpath"===e},B.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},B.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},B.selectingOrDrawing=function(e){return B.freeMode(e)||B.rectMode(e)}},28569:function(ie,B,e){"use strict";var C=e(48956),S=e(57035),u=e(38520),A=e(71828).removeElement,T=e(85555),m=ie.exports={};m.align=e(92807),m.getCursor=e(70461);var l=e(26041);function t(){var r=document.createElement("div");r.className="dragcover";var n=r.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(r),r}function o(r){return C(r.changedTouches?r.changedTouches[0]:r,document.body)}m.unhover=l.wrapped,m.unhoverRaw=l.raw,m.init=function(r){var n,a,s,c,p,f,w,v,h=r.gd,_=1,x=h._context.doubleClickDelay,b=r.element;h._mouseDownTime||(h._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=d,u?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=d,b.addEventListener("touchstart",d,{passive:!1})):b.ontouchstart=d;var M=r.clampFn||function(I,L,P){return Math.abs(I)<P&&(I=0),Math.abs(L)<P&&(L=0),[I,L]};function d(I){h._dragged=!1,h._dragging=!0;var L=o(I);n=L[0],a=L[1],w=I.target,f=I,v=2===I.buttons||I.ctrlKey,void 0===I.clientX&&void 0===I.clientY&&(I.clientX=n,I.clientY=a),(s=(new Date).getTime())-h._mouseDownTime<x?_+=1:(_=1,h._mouseDownTime=s),r.prepFn&&r.prepFn(I,n,a),S&&!v?(p=t()).style.cursor=window.getComputedStyle(b).cursor:S||(p=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),!1!==r.dragmode&&(I.preventDefault(),document.addEventListener("mousemove",E),document.addEventListener("touchmove",E,{passive:!1}))}function E(I){I.preventDefault();var L=o(I),R=M(L[0]-n,L[1]-a,r.minDrag||T.MINDRAG),z=R[0],$=R[1];(z||$)&&(h._dragged=!0,m.unhover(h,I)),h._dragged&&r.moveFn&&!v&&(h._dragdata={element:b,dx:z,dy:$},r.moveFn(z,$))}function k(I){if(delete h._dragdata,!1!==r.dragmode&&(I.preventDefault(),document.removeEventListener("mousemove",E),document.removeEventListener("touchmove",E)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),S?A(p):c&&(p.documentElement.style.cursor=c,c=null),h._dragging){if(h._dragging=!1,(new Date).getTime()-h._mouseDownTime>x&&(_=Math.max(_-1,1)),h._dragged)r.doneFn&&r.doneFn();else if(r.clickFn&&r.clickFn(_,f),!v){var L;try{L=new MouseEvent("click",I)}catch{var P=o(I);(L=document.createEvent("MouseEvents")).initMouseEvent("click",I.bubbles,I.cancelable,I.view,I.detail,I.screenX,I.screenY,P[0],P[1],I.ctrlKey,I.altKey,I.shiftKey,I.metaKey,I.button,I.relatedTarget)}w.dispatchEvent(L)}h._dragging=!1,h._dragged=!1}else h._dragged=!1}},m.coverSlip=t},26041:function(ie,B,e){"use strict";var C=e(11086),S=e(79990),u=e(24401).getGraphDiv,A=e(26675),T=ie.exports={};T.wrapped=function(m,l,t){(m=u(m))._fullLayout&&S.clear(m._fullLayout._uid+A.HOVERID),T.raw(m,l,t)},T.raw=function(m,l){var t=m._fullLayout,o=m._hoverdata;l||(l={}),l.target&&!m._dragged&&!1===C.triggerHandler(m,"plotly_beforehover",l)||(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),m._hoverdata=void 0,l.target&&o&&m.emit("plotly_unhover",{event:l,points:o}))}},79952:function(ie,B){"use strict";B.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},B.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=S.numberFormat,A=e(92770),T=e(84267),m=e(73972),l=e(7901),t=e(21081),o=S.strTranslate,r=e(63893),n=e(77922),a=e(18783).LINE_SPACING,s=e(37822).DESELECTDIM,c=e(34098),p=e(39984),f=e(23469).appendArrayPointValue,w=ie.exports={};function v(Se,Ce,pe){var de=Ce.fillpattern,se=de&&w.getPatternAttr(de.shape,0,"");if(se){var we=w.getPatternAttr(de.bgcolor,0,null),Re=w.getPatternAttr(de.fgcolor,0,null),Ee=de.fgopacity,Ue=w.getPatternAttr(de.size,0,8),$e=w.getPatternAttr(de.solidity,0,.3);w.pattern(Se,"point",pe,Ce.uid,se,Ue,$e,void 0,de.fillmode,we,Re,Ee)}else Ce.fillcolor&&Se.call(l.fill,Ce.fillcolor)}w.font=function(Se,Ce,pe,de){S.isPlainObject(Ce)&&(de=Ce.color,pe=Ce.size,Ce=Ce.family),Ce&&Se.style("font-family",Ce),pe+1&&Se.style("font-size",pe+"px"),de&&Se.call(l.fill,de)},w.setPosition=function(Se,Ce,pe){Se.attr("x",Ce).attr("y",pe)},w.setSize=function(Se,Ce,pe){Se.attr("width",Ce).attr("height",pe)},w.setRect=function(Se,Ce,pe,de,se){Se.call(w.setPosition,Ce,pe).call(w.setSize,de,se)},w.translatePoint=function(Se,Ce,pe,de){var se=pe.c2p(Se.x),we=de.c2p(Se.y);return!!(A(se)&&A(we)&&Ce.node())&&("text"===Ce.node().nodeName?Ce.attr("x",se).attr("y",we):Ce.attr("transform",o(se,we)),!0)},w.translatePoints=function(Se,Ce,pe){Se.each(function(de){var se=C.select(this);w.translatePoint(de,se,Ce,pe)})},w.hideOutsideRangePoint=function(Se,Ce,pe,de,se,we){Ce.attr("display",pe.isPtWithinRange(Se,se)&&de.isPtWithinRange(Se,we)?null:"none")},w.hideOutsideRangePoints=function(Se,Ce){if(Ce._hasClipOnAxisFalse){var pe=Ce.xaxis,de=Ce.yaxis;Se.each(function(se){var we=se[0].trace,Re=we.xcalendar,Ee=we.ycalendar,Ue=m.traceIs(we,"bar-like")?".bartext":".point,.textpoint";Se.selectAll(Ue).each(function($e){w.hideOutsideRangePoint($e,C.select(this),pe,de,Re,Ee)})})}},w.crispRound=function(Se,Ce,pe){return Ce&&A(Ce)?Se._context.staticPlot?Ce:Ce<1?1:Math.round(Ce):pe||0},w.singleLineStyle=function(Se,Ce,pe,de,se){Ce.style("fill","none");var we=(((Se||[])[0]||{}).trace||{}).line||{},Re=pe||we.width||0,Ee=se||we.dash||"";l.stroke(Ce,de||we.color),w.dashLine(Ce,Ee,Re)},w.lineGroupStyle=function(Se,Ce,pe,de){Se.style("fill","none").each(function(se){var we=(((se||[])[0]||{}).trace||{}).line||{},Re=Ce||we.width||0,Ee=de||we.dash||"";C.select(this).call(l.stroke,pe||we.color).call(w.dashLine,Ee,Re)})},w.dashLine=function(Se,Ce,pe){Ce=w.dashStyle(Ce,pe=+pe||0),Se.style({"stroke-dasharray":Ce,"stroke-width":pe+"px"})},w.dashStyle=function(Se,Ce){Ce=+Ce||1;var pe=Math.max(Ce,3);return"solid"===Se?Se="":"dot"===Se?Se=pe+"px,"+pe+"px":"dash"===Se?Se=3*pe+"px,"+3*pe+"px":"longdash"===Se?Se=5*pe+"px,"+5*pe+"px":"dashdot"===Se?Se=3*pe+"px,"+pe+"px,"+pe+"px,"+pe+"px":"longdashdot"===Se&&(Se=5*pe+"px,"+2*pe+"px,"+pe+"px,"+2*pe+"px"),Se},w.singleFillStyle=function(Se,Ce){var pe=C.select(Se.node());v(Se,((pe.data()[0]||[])[0]||{}).trace||{},Ce)},w.fillGroupStyle=function(Se,Ce){Se.style("stroke-width",0).each(function(pe){var de=C.select(this);pe[0].trace&&v(de,pe[0].trace,Ce)})};var h=e(90998);w.symbolNames=[],w.symbolFuncs=[],w.symbolBackOffs=[],w.symbolNeedLines={},w.symbolNoDot={},w.symbolNoFill={},w.symbolList=[],Object.keys(h).forEach(function(Se){var Ce=h[Se],pe=Ce.n;w.symbolList.push(pe,String(pe),Se,pe+100,String(pe+100),Se+"-open"),w.symbolNames[pe]=Se,w.symbolFuncs[pe]=Ce.f,w.symbolBackOffs[pe]=Ce.backoff||0,Ce.needLine&&(w.symbolNeedLines[pe]=!0),Ce.noDot?w.symbolNoDot[pe]=!0:w.symbolList.push(pe+200,String(pe+200),Se+"-dot",pe+300,String(pe+300),Se+"-open-dot"),Ce.noFill&&(w.symbolNoFill[pe]=!0)});var _=w.symbolNames.length;function x(Se,Ce,pe,de){return w.symbolFuncs[Se%100](Ce,pe,de)+(Se>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}w.symbolNumber=function(Se){if(A(Se))Se=+Se;else if("string"==typeof Se){var Ce=0;Se.indexOf("-open")>0&&(Ce=100,Se=Se.replace("-open","")),Se.indexOf("-dot")>0&&(Ce+=200,Se=Se.replace("-dot","")),(Se=w.symbolNames.indexOf(Se))>=0&&(Se+=Ce)}return Se%100>=_||Se>=400?0:Math.floor(Math.max(Se,0))};var b={x1:1,x2:0,y1:0,y2:0},M={x1:0,x2:0,y1:1,y2:0},d=u("~f"),E={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:b},horizontalreversed:{node:"linearGradient",attrs:b,reversed:!0},vertical:{node:"linearGradient",attrs:M},verticalreversed:{node:"linearGradient",attrs:M,reversed:!0}};w.gradient=function(Se,Ce,pe,de,se,we){for(var Re=se.length,Ee=E[de],Ue=new Array(Re),$e=0;$e<Re;$e++)Ee.reversed?Ue[Re-1-$e]=[d(100*(1-se[$e][0])),se[$e][1]]:Ue[$e]=[d(100*se[$e][0]),se[$e][1]];var ve=Ce._fullLayout,Ie="g"+ve._uid+"-"+pe,De=ve._defs.select(".gradients").selectAll("#"+Ie).data([de+Ue.join(";")],S.identity);De.exit().remove(),De.enter().append(Ee.node).each(function(){var ze=C.select(this);Ee.attrs&&ze.attr(Ee.attrs),ze.attr("id",Ie);var Ge=ze.selectAll("stop").data(Ue);Ge.exit().remove(),Ge.enter().append("stop"),Ge.each(function(He){var Ke=T(He[1]);C.select(this).attr({offset:He[0]+"%","stop-color":l.tinyRGB(Ke),"stop-opacity":Ke.getAlpha()})})}),Se.style(we,re(Ie,Ce)).style(we+"-opacity",null),Se.classed("gradient_filled",!0)},w.pattern=function(Se,Ce,pe,de,se,we,Re,Ee,Ue,$e,ve,Ie){var De="legend"===Ce;Ee&&("overlay"===Ue?ve=l.contrast($e=Ee):($e=void 0,ve=Ee));var ze,Ge,He,Ke,et,st,mt,at,kt,St=pe._fullLayout,gt="p"+St._uid+"-"+de,dt={},Ct=T(ve),Ot=l.tinyRGB(Ct),Pt=Ie*Ct.getAlpha();switch(se){case"/":ze=we*Math.sqrt(2),Ge=we*Math.sqrt(2),st="path",dt={d:He="M-"+ze/4+","+Ge/4+"l"+ze/2+",-"+Ge/2+"M0,"+Ge+"L"+ze+",0M"+ze/4*3+","+Ge/4*5+"l"+ze/2+",-"+Ge/2,opacity:Pt,stroke:Ot,"stroke-width":(Ke=Re*we)+"px"};break;case"\\":ze=we*Math.sqrt(2),Ge=we*Math.sqrt(2),st="path",dt={d:He="M"+ze/4*3+",-"+Ge/4+"l"+ze/2+","+Ge/2+"M0,0L"+ze+","+Ge+"M-"+ze/4+","+Ge/4*3+"l"+ze/2+","+Ge/2,opacity:Pt,stroke:Ot,"stroke-width":(Ke=Re*we)+"px"};break;case"x":ze=we*Math.sqrt(2),Ge=we*Math.sqrt(2),He="M-"+ze/4+","+Ge/4+"l"+ze/2+",-"+Ge/2+"M0,"+Ge+"L"+ze+",0M"+ze/4*3+","+Ge/4*5+"l"+ze/2+",-"+Ge/2+"M"+ze/4*3+",-"+Ge/4+"l"+ze/2+","+Ge/2+"M0,0L"+ze+","+Ge+"M-"+ze/4+","+Ge/4*3+"l"+ze/2+","+Ge/2,Ke=we-we*Math.sqrt(1-Re),st="path",dt={d:He,opacity:Pt,stroke:Ot,"stroke-width":Ke+"px"};break;case"|":st="path",st="path",dt={d:He="M"+(ze=we)/2+",0L"+ze/2+","+(Ge=we),opacity:Pt,stroke:Ot,"stroke-width":(Ke=Re*we)+"px"};break;case"-":st="path",st="path",dt={d:He="M0,"+(Ge=we)/2+"L"+(ze=we)+","+Ge/2,opacity:Pt,stroke:Ot,"stroke-width":(Ke=Re*we)+"px"};break;case"+":st="path",He="M"+(ze=we)/2+",0L"+ze/2+","+(Ge=we)+"M0,"+Ge/2+"L"+ze+","+Ge/2,Ke=we-we*Math.sqrt(1-Re),st="path",dt={d:He,opacity:Pt,stroke:Ot,"stroke-width":Ke+"px"};break;case".":ze=we,Ge=we,Re<Math.PI/4?et=Math.sqrt(Re*we*we/Math.PI):(mt=Re,at=Math.PI/4,et=(kt=we/2)+(we/Math.sqrt(2)-kt)*(mt-at)/(1-at)),st="circle",dt={cx:ze/2,cy:Ge/2,r:et,opacity:Pt,fill:Ot}}var Ht=[se||"noSh",$e||"noBg",ve||"noFg",we,Re].join(";"),jt=St._defs.select(".patterns").selectAll("#"+gt).data([Ht],S.identity);jt.exit().remove(),jt.enter().append("pattern").each(function(){var nt=C.select(this);if(nt.attr({id:gt,width:ze+"px",height:Ge+"px",patternUnits:"userSpaceOnUse",patternTransform:De?"scale(0.8)":""}),$e){var it=T($e),Xe=l.tinyRGB(it),rt=it.getAlpha(),ft=nt.selectAll("rect").data([0]);ft.exit().remove(),ft.enter().append("rect").attr({width:ze+"px",height:Ge+"px",fill:Xe,"fill-opacity":rt})}var vt=nt.selectAll(st).data([0]);vt.exit().remove(),vt.enter().append(st).attr(dt)}),Se.style("fill",re(gt,pe)).style("fill-opacity",null),Se.classed("pattern_filled",!0)},w.initGradients=function(Se){S.ensureSingle(Se._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),C.select(Se).selectAll(".gradient_filled").classed("gradient_filled",!1)},w.initPatterns=function(Se){S.ensureSingle(Se._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),C.select(Se).selectAll(".pattern_filled").classed("pattern_filled",!1)},w.getPatternAttr=function(Se,Ce,pe){return Se&&S.isArrayOrTypedArray(Se)?Ce<Se.length?Se[Ce]:pe:Se},w.pointStyle=function(Se,Ce,pe,de){if(Se.size()){var se=w.makePointStyleFns(Ce);Se.each(function(we){w.singlePointStyle(we,C.select(this),Ce,se,pe,de)})}},w.singlePointStyle=function(Se,Ce,pe,de,se,we){var Re=pe.marker,Ee=Re.line;if(we&&we.i>=0&&void 0===Se.i&&(Se.i=we.i),Ce.style("opacity",de.selectedOpacityFn?de.selectedOpacityFn(Se):void 0===Se.mo?Re.opacity:Se.mo),de.ms2mrc){var Ue;Ue="various"===Se.ms||"various"===Re.size?3:de.ms2mrc(Se.ms),Se.mrc=Ue,de.selectedSizeFn&&(Ue=Se.mrc=de.selectedSizeFn(Se));var $e=w.symbolNumber(Se.mx||Re.symbol)||0;Se.om=$e%200>=100;var ve=Ne(Se,pe),Ie=te(Se,pe);Ce.attr("d",x($e,Ue,ve,Ie))}var De,ze,Ge,He=!1;if(Se.so?(Ge=Ee.outlierwidth,ze=Ee.outliercolor,De=Re.outliercolor):(Ge=(Se.mlw+1||(Ee||{}).width+1||(Se.trace?(Se.trace.marker.line||{}).width:0)+1)-1||0,ze="mlc"in Se?Se.mlcc=de.lineScale(Se.mlc):S.isArrayOrTypedArray(Ee.color)?l.defaultLine:Ee.color,S.isArrayOrTypedArray(Re.color)&&(De=l.defaultLine,He=!0),De="mc"in Se?Se.mcc=de.markerScale(Se.mc):Re.color||Re.colors||"rgba(0,0,0,0)",de.selectedColorFn&&(De=de.selectedColorFn(Se))),Se.om)Ce.call(l.stroke,De).style({"stroke-width":(Ge||1)+"px",fill:"none"});else{Ce.style("stroke-width",(Se.isBlank?0:Ge)+"px");var et=Re.gradient,st=Se.mgt;st?He=!0:st=et&&et.type,S.isArrayOrTypedArray(st)&&(E[st=st[0]]||(st=0));var mt=Re.pattern,at=mt&&w.getPatternAttr(mt.shape,Se.i,"");if(st&&"none"!==st){var kt=Se.mgc;kt?He=!0:kt=et.color;var St=pe.uid;He&&(St+="-"+Se.i),w.gradient(Ce,se,St,st,[[0,kt],[1,De]],"fill")}else if(at){var gt=!1,dt=mt.fgcolor;!dt&&we&&we.color&&(dt=we.color,gt=!0);var Ct=w.getPatternAttr(dt,Se.i,we&&we.color||null),Ot=w.getPatternAttr(mt.bgcolor,Se.i,null),Pt=mt.fgopacity,Ht=w.getPatternAttr(mt.size,Se.i,8),jt=w.getPatternAttr(mt.solidity,Se.i,.3);gt=gt||Se.mcc||S.isArrayOrTypedArray(mt.shape)||S.isArrayOrTypedArray(mt.bgcolor)||S.isArrayOrTypedArray(mt.fgcolor)||S.isArrayOrTypedArray(mt.size)||S.isArrayOrTypedArray(mt.solidity);var nt=pe.uid;gt&&(nt+="-"+Se.i),w.pattern(Ce,"point",se,nt,at,Ht,jt,Se.mcc,mt.fillmode,Ot,Ct,Pt)}else S.isArrayOrTypedArray(De)?l.fill(Ce,De[Se.i]):l.fill(Ce,De);Ge&&l.stroke(Ce,ze)}},w.makePointStyleFns=function(Se){var Ce={},pe=Se.marker;return Ce.markerScale=w.tryColorscale(pe,""),Ce.lineScale=w.tryColorscale(pe,"line"),m.traceIs(Se,"symbols")&&(Ce.ms2mrc=c.isBubble(Se)?p(Se):function(){return(pe.size||6)/2}),Se.selectedpoints&&S.extendFlat(Ce,w.makeSelectedPointStyleFns(Se)),Ce},w.makeSelectedPointStyleFns=function(Se){var Ce={},se=Se.marker||{},we=(Se.selected||{}).marker||{},Re=(Se.unselected||{}).marker||{},Ue=we.opacity,$e=Re.opacity,ve=void 0!==Ue,Ie=void 0!==$e;(S.isArrayOrTypedArray(se.opacity)||ve||Ie)&&(Ce.selectedOpacityFn=function(at){var kt=void 0===at.mo?se.opacity:at.mo;return at.selected?ve?Ue:kt:Ie?$e:s*kt});var De=se.color,ze=we.color,Ge=Re.color;(ze||Ge)&&(Ce.selectedColorFn=function(at){var kt=at.mcc||De;return at.selected?ze||kt:Ge||kt});var He=se.size,Ke=we.size,et=Re.size,st=void 0!==Ke,mt=void 0!==et;return m.traceIs(Se,"symbols")&&(st||mt)&&(Ce.selectedSizeFn=function(at){var kt=at.mrc||He/2;return at.selected?st?Ke/2:kt:mt?et/2:kt}),Ce},w.makeSelectedTextStyleFns=function(Se){var Ce={},Ee=(Se.textfont||{}).color,Ue=((Se.selected||{}).textfont||{}).color,$e=((Se.unselected||{}).textfont||{}).color;return Ce.selectedTextColorFn=function(ve){var Ie=ve.tc||Ee;return ve.selected?Ue||Ie:$e||(Ue?Ie:l.addOpacity(Ie,s))},Ce},w.selectedPointStyle=function(Se,Ce){if(Se.size()&&Ce.selectedpoints){var pe=w.makeSelectedPointStyleFns(Ce),de=Ce.marker||{},se=[];pe.selectedOpacityFn&&se.push(function(we,Re){we.style("opacity",pe.selectedOpacityFn(Re))}),pe.selectedColorFn&&se.push(function(we,Re){l.fill(we,pe.selectedColorFn(Re))}),pe.selectedSizeFn&&se.push(function(we,Re){var Ee=Re.mx||de.symbol||0,Ue=pe.selectedSizeFn(Re);we.attr("d",x(w.symbolNumber(Ee),Ue,Ne(Re,Ce),te(Re,Ce))),Re.mrc2=Ue}),se.length&&Se.each(function(we){for(var Re=C.select(this),Ee=0;Ee<se.length;Ee++)se[Ee](Re,we)})}},w.tryColorscale=function(Se,Ce){var pe=Ce?S.nestedProperty(Se,Ce).get():Se;return pe&&(pe.colorscale||pe._colorAx)&&S.isArrayOrTypedArray(pe.color)?t.makeColorScaleFuncFromTrace(pe):S.identity};var k,I,L={start:1,end:-1,middle:0,bottom:1,top:-1};function P(Se,Ce,pe,de,se){var we=C.select(Se.node().parentNode),Re=-1!==Ce.indexOf("top")?"top":-1!==Ce.indexOf("bottom")?"bottom":"middle",Ee=-1!==Ce.indexOf("left")?"end":-1!==Ce.indexOf("right")?"start":"middle",Ue=de?de/.8+1:0,$e=(r.lineCount(Se)-1)*a+1,ve=L[Ee]*Ue,Ie=.75*pe+L[Re]*Ue+(L[Re]-1)*$e*pe/2;Se.attr("text-anchor",Ee),se||we.attr("transform",o(ve,Ie))}function R(Se,Ce){var pe=Se.ts||Ce.textfont.size;return A(pe)&&pe>0?pe:0}function z(Se,Ce,pe){return pe&&(Se=Z(Se)),Ce?N(Se[1]):$(Se[0])}function $(Se){var Ce=C.round(Se,2);return k=Ce,Ce}function N(Se){var Ce=C.round(Se,2);return I=Ce,Ce}function W(Se,Ce,pe,de){var se=Se[0]-Ce[0],we=Se[1]-Ce[1],Re=pe[0]-Ce[0],Ee=pe[1]-Ce[1],Ue=Math.pow(se*se+we*we,.25),$e=Math.pow(Re*Re+Ee*Ee,.25),ve=($e*$e*se-Ue*Ue*Re)*de,Ie=($e*$e*we-Ue*Ue*Ee)*de,De=3*$e*(Ue+$e),ze=3*Ue*(Ue+$e);return[[$(Ce[0]+(De&&ve/De)),N(Ce[1]+(De&&Ie/De))],[$(Ce[0]-(ze&&ve/ze)),N(Ce[1]-(ze&&Ie/ze))]]}w.textPointStyle=function(Se,Ce,pe){if(Se.size()){var de;if(Ce.selectedpoints){var se=w.makeSelectedTextStyleFns(Ce);de=se.selectedTextColorFn}var we=Ce.texttemplate,Re=pe._fullLayout;Se.each(function(Ee){var Ue=C.select(this),$e=we?S.extractOption(Ee,Ce,"txt","texttemplate"):S.extractOption(Ee,Ce,"tx","text");if($e||0===$e){if(we){var ve=Ce._module.formatLabels,Ie=ve?ve(Ee,Ce,Re):{},De={};f(De,Ce,Ee.i),$e=S.texttemplateString($e,Ie,Re._d3locale,De,Ee,Ce._meta||{})}var Ge=Ee.tp||Ce.textposition,He=R(Ee,Ce),Ke=de?de(Ee):Ee.tc||Ce.textfont.color;Ue.call(w.font,Ee.tf||Ce.textfont.family,He,Ke).text($e).call(r.convertToTspans,pe).call(P,Ge,He,Ee.mrc)}else Ue.remove()})}},w.selectedTextStyle=function(Se,Ce){if(Se.size()&&Ce.selectedpoints){var pe=w.makeSelectedTextStyleFns(Ce);Se.each(function(de){var se=C.select(this),we=pe.selectedTextColorFn(de),Re=de.tp||Ce.textposition,Ee=R(de,Ce);l.fill(se,we);var Ue=m.traceIs(Ce,"bar-like");P(se,Re,Ee,de.mrc2||de.mrc,Ue)})}},w.smoothopen=function(Se,Ce){if(Se.length<3)return"M"+Se.join("L");var pe,de="M"+Se[0],se=[];for(pe=1;pe<Se.length-1;pe++)se.push(W(Se[pe-1],Se[pe],Se[pe+1],Ce));for(de+="Q"+se[0][0]+" "+Se[1],pe=2;pe<Se.length-1;pe++)de+="C"+se[pe-2][1]+" "+se[pe-1][0]+" "+Se[pe];return de+"Q"+se[Se.length-3][1]+" "+Se[Se.length-1]},w.smoothclosed=function(Se,Ce){if(Se.length<3)return"M"+Se.join("L")+"Z";var pe,de="M"+Se[0],se=Se.length-1,we=[W(Se[se],Se[0],Se[1],Ce)];for(pe=1;pe<se;pe++)we.push(W(Se[pe-1],Se[pe],Se[pe+1],Ce));for(we.push(W(Se[se-1],Se[se],Se[0],Ce)),pe=1;pe<=se;pe++)de+="C"+we[pe-1][1]+" "+we[pe][0]+" "+Se[pe];return de+"C"+we[se][1]+" "+we[0][0]+" "+Se[0]+"Z"};var H={hv:function(Se,Ce,pe){return"H"+$(Ce[0])+"V"+z(Ce,1,pe)},vh:function(Se,Ce,pe){return"V"+N(Ce[1])+"H"+z(Ce,0,pe)},hvh:function(Se,Ce,pe){return"H"+$((Se[0]+Ce[0])/2)+"V"+N(Ce[1])+"H"+z(Ce,0,pe)},vhv:function(Se,Ce,pe){return"V"+N((Se[1]+Ce[1])/2)+"H"+$(Ce[0])+"V"+z(Ce,1,pe)}},U=function(Se,Ce,pe){return"L"+z(Ce,0,pe)+","+z(Ce,1,pe)};function Z(Se,Ce){var pe=Se.backoff,de=Se.trace,se=Se.d,we=Se.i;if(pe&&de&&de.marker&&de.marker.angle%360==0&&de.line&&"spline"!==de.line.shape){var Re=S.isArrayOrTypedArray(pe),Ee=Se,Ue=Ce?Ce[0]:k||0,$e=Ce?Ce[1]:I||0,ve=Ee[0],Ie=Ee[1],Ge=Math.atan2(Ie-$e,ve-Ue),He=Re?pe[we]:pe;if("auto"===He){var Ke=Ee.i;"scatter"===de.type&&Ke--;var et=Ee.marker,st=et.symbol;S.isArrayOrTypedArray(st)&&(st=st[Ke]);var mt=et.size;S.isArrayOrTypedArray(mt)&&(mt=mt[Ke]),He=et?w.symbolBackOffs[w.symbolNumber(st)]*mt:0,He+=w.getMarkerStandoff(se[Ke],de)||0}var at=ve-He*Math.cos(Ge),kt=Ie-He*Math.sin(Ge);(at<=ve&&at>=Ue||at>=ve&&at<=Ue)&&(kt<=Ie&&kt>=$e||kt>=Ie&&kt<=$e)&&(Se=[at,kt])}return Se}w.steps=function(Se){var Ce=H[Se]||U;return function(pe){for(var de="M"+$(pe[0][0])+","+N(pe[0][1]),se=pe.length,we=1;we<se;we++)de+=Ce(pe[we-1],pe[we],we===se-1);return de}},w.applyBackoff=Z,w.makeTester=function(){var Se=S.ensureSingleById(C.select("body"),"svg","js-plotly-tester",function(pe){pe.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ce=S.ensureSingle(Se,"path","js-reference-point",function(pe){pe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});w.tester=Se,w.testref=Ce},w.savedBBoxes={};var Y=0;function ae(Se){var Ce=Se.getAttribute("data-unformatted");if(null!==Ce)return Ce+Se.getAttribute("data-math")+Se.getAttribute("text-anchor")+Se.getAttribute("style")}function re(Se,Ce){if(!Se)return null;var pe=Ce._context,de=pe._exportedPlot?"":pe._baseUrl||"";return de?"url('"+de+"#"+Se+"')":"url(#"+Se+")"}w.bBox=function(Se,Ce,pe){var de,se,we;if(pe||(pe=ae(Se)),pe){if(de=w.savedBBoxes[pe])return S.extendFlat({},de)}else if(1===Se.childNodes.length){var Re=Se.childNodes[0];if(pe=ae(Re)){var Ee=+Re.getAttribute("x")||0,Ue=+Re.getAttribute("y")||0,$e=Re.getAttribute("transform");if(!$e){var ve=w.bBox(Re,!1,pe);return Ee&&(ve.left+=Ee,ve.right+=Ee),Ue&&(ve.top+=Ue,ve.bottom+=Ue),ve}if(de=w.savedBBoxes[pe+="~"+Ee+"~"+Ue+"~"+$e])return S.extendFlat({},de)}}Ce?se=Se:(we=w.tester.node(),se=Se.cloneNode(!0),we.appendChild(se)),C.select(se).attr("transform",null).call(r.positionText,0,0);var Ie=se.getBoundingClientRect(),De=w.testref.node().getBoundingClientRect();Ce||we.removeChild(se);var ze={height:Ie.height,width:Ie.width,left:Ie.left-De.left,top:Ie.top-De.top,right:Ie.right-De.left,bottom:Ie.bottom-De.top};return Y>=1e4&&(w.savedBBoxes={},Y=0),pe&&(w.savedBBoxes[pe]=ze),Y++,S.extendFlat({},ze)},w.setClipUrl=function(Se,Ce,pe){Se.attr("clip-path",re(Ce,pe))},w.getTranslate=function(Se){var Ce=(Se[Se.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(pe,de,se){return[de,se].join(" ")}).split(" ");return{x:+Ce[0]||0,y:+Ce[1]||0}},w.setTranslate=function(Se,Ce,pe){var se=Se.attr?"attr":"setAttribute",we=Se[Se.attr?"attr":"getAttribute"]("transform")||"";return Ce=Ce||0,pe=pe||0,we=we.replace(/(\btranslate\(.*?\);?)/,"").trim(),we=(we+=o(Ce,pe)).trim(),Se[se]("transform",we),we},w.getScale=function(Se){var Ce=(Se[Se.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(pe,de,se){return[de,se].join(" ")}).split(" ");return{x:+Ce[0]||1,y:+Ce[1]||1}},w.setScale=function(Se,Ce,pe){var se=Se.attr?"attr":"setAttribute",we=Se[Se.attr?"attr":"getAttribute"]("transform")||"";return Ce=Ce||1,pe=pe||1,we=we.replace(/(\bscale\(.*?\);?)/,"").trim(),we=(we+="scale("+Ce+","+pe+")").trim(),Se[se]("transform",we),we};var Q=/\s*sc.*/;w.setPointGroupScale=function(Se,Ce,pe){if(Ce=Ce||1,pe=pe||1,Se){var de=1===Ce&&1===pe?"":"scale("+Ce+","+pe+")";Se.each(function(){var se=(this.getAttribute("transform")||"").replace(Q,"");se=(se+=de).trim(),this.setAttribute("transform",se)})}};var K=/translate\([^)]*\)\s*$/;function te(Se,Ce){var pe;return Se&&(pe=Se.mf),void 0===pe&&(pe=Ce.marker&&Ce.marker.standoff||0),Ce._geo||Ce._xA?pe:-pe}w.setTextPointsScale=function(Se,Ce,pe){Se&&Se.each(function(){var de,se=C.select(this),we=se.select("text");if(we.node()){var Re=parseFloat(we.attr("x")||0),Ee=parseFloat(we.attr("y")||0),Ue=(se.attr("transform")||"").match(K);de=1===Ce&&1===pe?[]:[o(Re,Ee),"scale("+Ce+","+pe+")",o(-Re,-Ee)],Ue&&de.push(Ue),se.attr("transform",de.join(""))}})},w.getMarkerStandoff=te;var oe,ue,fe,he,me,ke,Pe=Math.atan2,Te=Math.cos,be=Math.sin;function xe(Se,Ce){var pe=Ce[0],de=Ce[1];return[pe*Te(Se)-de*be(Se),pe*be(Se)+de*Te(Se)]}function Ne(Se,Ce){var pe,de,se=Se.ma;void 0===se&&(se=Ce.marker.angle||0);var we=Ce.marker.angleref;if("previous"===we||"north"===we){if(Ce._geo){var Re=Ce._geo.project(Se.lonlat);pe=Re[0],de=Re[1]}else{var Ee=Ce._xA,Ue=Ce._yA;if(!Ee||!Ue)return 90;pe=Ee.c2p(Se.x),de=Ue.c2p(Se.y)}if(Ce._geo){var $e,ve=Se.lonlat[0],Ie=Se.lonlat[1],De=Ce._geo.project([ve,Ie+1e-5]),ze=Ce._geo.project([ve+1e-5,Ie]),Ge=Pe(ze[1]-de,ze[0]-pe),He=Pe(De[1]-de,De[0]-pe);if("north"===we)$e=se/180*Math.PI;else if("previous"===we){var Ke=ve/180*Math.PI,et=Ie/180*Math.PI,st=oe/180*Math.PI,mt=ue/180*Math.PI,at=st-Ke,kt=Te(mt)*be(at),St=be(mt)*Te(et)-Te(mt)*be(et)*Te(at);$e=-Pe(kt,St)-Math.PI,oe=ve,ue=Ie}var gt=xe(Ge,[Te($e),0]),dt=xe(He,[be($e),0]);se=Pe(gt[1]+dt[1],gt[0]+dt[0])/Math.PI*180,"previous"!==we||ke===Ce.uid&&Se.i===me+1||(se=null)}if("previous"===we&&!Ce._geo)if(ke===Ce.uid&&Se.i===me+1&&A(pe)&&A(de)){var Ct=pe-fe,Ot=de-he,Pt=Ce.line&&Ce.line.shape||"",Ht=Pt.slice(Pt.length-1);"h"===Ht&&(Ot=0),"v"===Ht&&(Ct=0),se+=Pe(Ot,Ct)/Math.PI*180+90}else se=null}return fe=pe,he=de,me=Se.i,ke=Ce.uid,se}w.getMarkerAngle=Ne},90998:function(ie,B,e){"use strict";var C,S,u,A,T=e(95616),m=e(39898).round,l="M0,0Z",t=Math.sqrt(2),o=Math.sqrt(3),r=Math.PI,n=Math.cos,a=Math.sin;function s(p){return null===p}function c(p,f,w){if(!(p&&p%360!=0||f))return w;if(u===p&&A===f&&C===w)return S;function v(z,$){var N=n(z),W=a(z),H=$[0],U=$[1]+(f||0);return[H*N-U*W,H*W+U*N]}u=p,A=f,C=w;for(var h=p/180*r,_=0,x=0,b=T(w),M="",d=0;d<b.length;d++){var E=b[d],k=E[0],I=_,L=x;if("M"===k||"L"===k)_=+E[1],x=+E[2];else if("m"===k||"l"===k)_+=+E[1],x+=+E[2];else if("H"===k)_=+E[1];else if("h"===k)_+=+E[1];else if("V"===k)x=+E[1];else if("v"===k)x+=+E[1];else if("A"===k){_=+E[1],x=+E[2];var P=v(h,[+E[6],+E[7]]);E[6]=P[0],E[7]=P[1],E[3]=+E[3]+p}"H"!==k&&"V"!==k||(k="L"),"h"!==k&&"v"!==k||(k="l"),"m"!==k&&"l"!==k||(_-=I,x-=L);var R=v(h,[_,x]);"H"!==k&&"V"!==k||(k="L"),"M"!==k&&"L"!==k&&"m"!==k&&"l"!==k||(E[1]=R[0],E[2]=R[1]),E[0]=k,M+=E[0]+E.slice(1).join(",")}return S=M,M}ie.exports={circle:{n:0,f:function(p,f,w){if(s(f))return l;var v=m(p,2),h="M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z";return w?c(f,w,h):h}},square:{n:1,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")}},diamond:{n:2,f:function(p,f,w){if(s(f))return l;var v=m(1.3*p,2);return c(f,w,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"Z")}},cross:{n:3,f:function(p,f,w){if(s(f))return l;var v=m(.4*p,2),h=m(1.2*p,2);return c(f,w,"M"+h+","+v+"H"+v+"V"+h+"H-"+v+"V"+v+"H-"+h+"V-"+v+"H-"+v+"V-"+h+"H"+v+"V-"+v+"H"+h+"Z")}},x:{n:4,f:function(p,f,w){if(s(f))return l;var v=m(.8*p/t,2),h="l"+v+","+v,_="l"+v+",-"+v,x="l-"+v+",-"+v,b="l-"+v+","+v;return c(f,w,"M0,"+v+h+_+x+_+x+b+x+b+h+b+h+"Z")}},"triangle-up":{n:5,f:function(p,f,w){if(s(f))return l;var v=m(2*p/o,2);return c(f,w,"M-"+v+","+m(p/2,2)+"H"+v+"L0,-"+m(p,2)+"Z")}},"triangle-down":{n:6,f:function(p,f,w){if(s(f))return l;var v=m(2*p/o,2);return c(f,w,"M-"+v+",-"+m(p/2,2)+"H"+v+"L0,"+m(p,2)+"Z")}},"triangle-left":{n:7,f:function(p,f,w){if(s(f))return l;var v=m(2*p/o,2);return c(f,w,"M"+m(p/2,2)+",-"+v+"V"+v+"L-"+m(p,2)+",0Z")}},"triangle-right":{n:8,f:function(p,f,w){if(s(f))return l;var v=m(2*p/o,2);return c(f,w,"M-"+m(p/2,2)+",-"+v+"V"+v+"L"+m(p,2)+",0Z")}},"triangle-ne":{n:9,f:function(p,f,w){if(s(f))return l;var v=m(.6*p,2),h=m(1.2*p,2);return c(f,w,"M-"+h+",-"+v+"H"+v+"V"+h+"Z")}},"triangle-se":{n:10,f:function(p,f,w){if(s(f))return l;var v=m(.6*p,2),h=m(1.2*p,2);return c(f,w,"M"+v+",-"+h+"V"+v+"H-"+h+"Z")}},"triangle-sw":{n:11,f:function(p,f,w){if(s(f))return l;var v=m(.6*p,2),h=m(1.2*p,2);return c(f,w,"M"+h+","+v+"H-"+v+"V-"+h+"Z")}},"triangle-nw":{n:12,f:function(p,f,w){if(s(f))return l;var v=m(.6*p,2),h=m(1.2*p,2);return c(f,w,"M-"+v+","+h+"V-"+v+"H"+h+"Z")}},pentagon:{n:13,f:function(p,f,w){if(s(f))return l;var v=m(.951*p,2),h=m(.588*p,2),_=m(-p,2),x=m(-.309*p,2);return c(f,w,"M"+v+","+x+"L"+h+","+m(.809*p,2)+"H-"+h+"L-"+v+","+x+"L0,"+_+"Z")}},hexagon:{n:14,f:function(p,f,w){if(s(f))return l;var v=m(p,2),h=m(p/2,2),_=m(p*o/2,2);return c(f,w,"M"+_+",-"+h+"V"+h+"L0,"+v+"L-"+_+","+h+"V-"+h+"L0,-"+v+"Z")}},hexagon2:{n:15,f:function(p,f,w){if(s(f))return l;var v=m(p,2),h=m(p/2,2),_=m(p*o/2,2);return c(f,w,"M-"+h+","+_+"H"+h+"L"+v+",0L"+h+",-"+_+"H-"+h+"L-"+v+",0Z")}},octagon:{n:16,f:function(p,f,w){if(s(f))return l;var v=m(.924*p,2),h=m(.383*p,2);return c(f,w,"M-"+h+",-"+v+"H"+h+"L"+v+",-"+h+"V"+h+"L"+h+","+v+"H-"+h+"L-"+v+","+h+"V-"+h+"Z")}},star:{n:17,f:function(p,f,w){if(s(f))return l;var v=1.4*p,h=m(.225*v,2),_=m(.951*v,2),x=m(.363*v,2),b=m(.588*v,2),M=m(-v,2),d=m(-.309*v,2),E=m(.118*v,2),k=m(.809*v,2);return c(f,w,"M"+h+","+d+"H"+_+"L"+x+","+E+"L"+b+","+k+"L0,"+m(.382*v,2)+"L-"+b+","+k+"L-"+x+","+E+"L-"+_+","+d+"H-"+h+"L0,"+M+"Z")}},hexagram:{n:18,f:function(p,f,w){if(s(f))return l;var v=m(.66*p,2),h=m(.38*p,2),_=m(.76*p,2);return c(f,w,"M-"+_+",0l-"+h+",-"+v+"h"+_+"l"+h+",-"+v+"l"+h+","+v+"h"+_+"l-"+h+","+v+"l"+h+","+v+"h-"+_+"l-"+h+","+v+"l-"+h+",-"+v+"h-"+_+"Z")}},"star-triangle-up":{n:19,f:function(p,f,w){if(s(f))return l;var v=m(p*o*.8,2),h=m(.8*p,2),_=m(1.6*p,2),x=m(4*p,2),b="A "+x+","+x+" 0 0 1 ";return c(f,w,"M-"+v+","+h+b+v+","+h+b+"0,-"+_+b+"-"+v+","+h+"Z")}},"star-triangle-down":{n:20,f:function(p,f,w){if(s(f))return l;var v=m(p*o*.8,2),h=m(.8*p,2),_=m(1.6*p,2),x=m(4*p,2),b="A "+x+","+x+" 0 0 1 ";return c(f,w,"M"+v+",-"+h+b+"-"+v+",-"+h+b+"0,"+_+b+v+",-"+h+"Z")}},"star-square":{n:21,f:function(p,f,w){if(s(f))return l;var v=m(1.1*p,2),h=m(2*p,2),_="A "+h+","+h+" 0 0 1 ";return c(f,w,"M-"+v+",-"+v+_+"-"+v+","+v+_+v+","+v+_+v+",-"+v+_+"-"+v+",-"+v+"Z")}},"star-diamond":{n:22,f:function(p,f,w){if(s(f))return l;var v=m(1.4*p,2),h=m(1.9*p,2),_="A "+h+","+h+" 0 0 1 ";return c(f,w,"M-"+v+",0"+_+"0,"+v+_+v+",0"+_+"0,-"+v+_+"-"+v+",0Z")}},"diamond-tall":{n:23,f:function(p,f,w){if(s(f))return l;var v=m(.7*p,2),h=m(1.4*p,2);return c(f,w,"M0,"+h+"L"+v+",0L0,-"+h+"L-"+v+",0Z")}},"diamond-wide":{n:24,f:function(p,f,w){if(s(f))return l;var v=m(1.4*p,2),h=m(.7*p,2);return c(f,w,"M0,"+h+"L"+v+",0L0,-"+h+"L-"+v+",0Z")}},hourglass:{n:25,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M"+v+","+v+"H-"+v+"L"+v+",-"+v+"H-"+v+"Z")},noDot:!0},bowtie:{n:26,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M"+v+","+v+"V-"+v+"L-"+v+","+v+"V-"+v+"Z")},noDot:!0},"circle-cross":{n:27,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(p,f,w){if(s(f))return l;var v=m(p,2),h=m(p/t,2);return c(f,w,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v+"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(p,f,w){if(s(f))return l;var v=m(1.3*p,2);return c(f,w,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"ZM0,-"+v+"V"+v+"M-"+v+",0H"+v)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(p,f,w){if(s(f))return l;var v=m(1.3*p,2),h=m(.65*p,2);return c(f,w,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"ZM-"+h+",-"+h+"L"+h+","+h+"M-"+h+","+h+"L"+h+",-"+h)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(p,f,w){if(s(f))return l;var v=m(1.4*p,2);return c(f,w,"M0,"+v+"V-"+v+"M"+v+",0H-"+v)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(p,f,w){if(s(f))return l;var v=m(1.2*p,2),h=m(.85*p,2);return c(f,w,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(p,f,w){if(s(f))return l;var v=m(p/2,2),h=m(p,2);return c(f,w,"M"+v+","+h+"V-"+h+"M"+(v-h)+",-"+h+"V"+h+"M"+h+","+v+"H-"+h+"M-"+h+","+(v-h)+"H"+h)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(p,f,w){if(s(f))return l;var v=m(1.2*p,2),h=m(1.6*p,2),_=m(.8*p,2);return c(f,w,"M-"+v+","+_+"L0,0M"+v+","+_+"L0,0M0,-"+h+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(p,f,w){if(s(f))return l;var v=m(1.2*p,2),h=m(1.6*p,2),_=m(.8*p,2);return c(f,w,"M-"+v+",-"+_+"L0,0M"+v+",-"+_+"L0,0M0,"+h+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(p,f,w){if(s(f))return l;var v=m(1.2*p,2),h=m(1.6*p,2),_=m(.8*p,2);return c(f,w,"M"+_+","+v+"L0,0M"+_+",-"+v+"L0,0M-"+h+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(p,f,w){if(s(f))return l;var v=m(1.2*p,2),h=m(1.6*p,2),_=m(.8*p,2);return c(f,w,"M-"+_+","+v+"L0,0M-"+_+",-"+v+"L0,0M"+h+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(p,f,w){if(s(f))return l;var v=m(1.4*p,2);return c(f,w,"M"+v+",0H-"+v)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(p,f,w){if(s(f))return l;var v=m(1.4*p,2);return c(f,w,"M0,"+v+"V-"+v)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M"+v+","+v+"L-"+v+",-"+v)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M0,0L-"+v+","+m(2*p,2)+"H"+v+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M0,0L-"+v+",-"+m(2*p,2)+"H"+v+"Z")},noDot:!0},"arrow-left":{n:47,f:function(p,f,w){if(s(f))return l;var v=m(2*p,2),h=m(p,2);return c(f,w,"M0,0L"+v+",-"+h+"V"+h+"Z")},noDot:!0},"arrow-right":{n:48,f:function(p,f,w){if(s(f))return l;var v=m(2*p,2),h=m(p,2);return c(f,w,"M0,0L-"+v+",-"+h+"V"+h+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M-"+v+",0H"+v+"M0,0L-"+v+","+m(2*p,2)+"H"+v+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(p,f,w){if(s(f))return l;var v=m(p,2);return c(f,w,"M-"+v+",0H"+v+"M0,0L-"+v+",-"+m(2*p,2)+"H"+v+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(p,f,w){if(s(f))return l;var v=m(2*p,2),h=m(p,2);return c(f,w,"M0,-"+h+"V"+h+"M0,0L"+v+",-"+h+"V"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(p,f,w){if(s(f))return l;var v=m(2*p,2),h=m(p,2);return c(f,w,"M0,-"+h+"V"+h+"M0,0L-"+v+",-"+h+"V"+h+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(p,f,w){if(s(f))return l;var v=r/2.5,h=2*p*n(v),_=2*p*a(v);return c(f,w,"M0,0L"+-h+","+_+"L"+h+","+_+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(p,f,w){if(s(f))return l;var v=r/4,h=2*p*n(v),_=2*p*a(v);return c(f,w,"M0,0L"+-h+","+_+"A "+2*p+","+2*p+" 0 0 1 "+h+","+_+"Z")},backoff:.4,noDot:!0}}},25673:function(ie){"use strict";ie.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(ie,B,e){"use strict";var C=e(92770),S=e(73972),u=e(89298),A=e(71828),T=e(45827);function m(l,t,o,r){var n=t["error_"+r]||{},a=[];if(n.visible&&-1!==["linear","log"].indexOf(o.type)){for(var s=T(n),c=0;c<l.length;c++){var p=l[c],f=p.i;if(void 0===f)f=c;else if(null===f)continue;var w=p[r];if(C(o.c2l(w))){var v=s(w,f);if(C(v[0])&&C(v[1])){var h=p[r+"s"]=w-v[0],_=p[r+"h"]=w+v[1];a.push(h,_)}}}var b=t._extremes[o._id],M=u.findExtremes(o,a,A.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(M.min),b.max=b.max.concat(M.max)}}ie.exports=function(l){for(var t=l.calcdata,o=0;o<t.length;o++){var r=t[o],n=r[0].trace;if(!0===n.visible&&S.traceIs(n,"errorBarsOK")){var a=u.getFromId(l,n.xaxis),s=u.getFromId(l,n.yaxis);m(r,n,a,"x"),m(r,n,s,"y")}}}},45827:function(ie){"use strict";function B(e,C){return"percent"===e?function(S){return Math.abs(S*C/100)}:"constant"===e?function(){return Math.abs(C)}:"sqrt"===e?function(S){return Math.sqrt(Math.abs(S))}:void 0}ie.exports=function(e){var C=e.type,S=e.symmetric;if("data"===C){var u=e.array||[];if(S)return function(l,t){var o=+u[t];return[o,o]};var A=e.arrayminus||[];return function(l,t){var o=+u[t],r=+A[t];return isNaN(o)&&isNaN(r)?[NaN,NaN]:[r||0,o||0]}}var T=B(C,e.value),m=B(C,e.valueminus);return S||void 0===e.valueminus?function(l){var t=T(l);return[t,t]}:function(l){return[m(l),T(l)]}}},97587:function(ie,B,e){"use strict";var C=e(92770),S=e(73972),u=e(71828),A=e(44467),T=e(25673);ie.exports=function(m,l,t,o){var r="error_"+o.axis,n=A.newContainer(l,r),a=m[r]||{};function s(w,v){return u.coerce(a,n,T,w,v)}if(!1!==s("visible",void 0!==a.array||void 0!==a.value||"sqrt"===a.type)){var c=s("type","array"in a?"data":"percent"),p=!0;"sqrt"!==c&&(p=s("symmetric",!(("data"===c?"arrayminus":"valueminus")in a))),"data"===c?(s("array"),s("traceref"),p||(s("arrayminus"),s("tracerefminus"))):"percent"!==c&&"constant"!==c||(s("value"),p||s("valueminus"));var f="copy_"+o.inherit+"style";o.inherit&&(l["error_"+o.inherit]||{}).visible&&s(f,!(a.color||C(a.thickness)||C(a.width))),o.inherit&&n[f]||(s("color",t),s("thickness"),s("width",S.traceIs(l,"gl3d")?0:4))}}},37369:function(ie,B,e){"use strict";var C=e(71828),S=e(30962).overrideAll,u=e(25673),A={error_x:C.extendFlat({},u),error_y:C.extendFlat({},u)};delete A.error_x.copy_zstyle,delete A.error_y.copy_zstyle,delete A.error_y.copy_ystyle;var T={error_x:C.extendFlat({},u),error_y:C.extendFlat({},u),error_z:C.extendFlat({},u)};delete T.error_x.copy_ystyle,delete T.error_y.copy_ystyle,delete T.error_z.copy_ystyle,delete T.error_z.copy_zstyle,ie.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:A,bar:A,histogram:A,scatter3d:S(T,"calc","nested"),scattergl:S(A,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:function(m,l,t){(l.error_y||{}).visible&&(t.yerr=m.yh-m.y,l.error_y.symmetric||(t.yerrneg=m.y-m.ys)),(l.error_x||{}).visible&&(t.xerr=m.xh-m.x,l.error_x.symmetric||(t.xerrneg=m.x-m.xs))}}},19398:function(ie,B,e){"use strict";var C=e(39898),S=e(92770),u=e(91424),A=e(34098);ie.exports=function(T,m,l,t){var o=l.xaxis,r=l.yaxis,n=t&&t.duration>0,a=T._context.staticPlot;m.each(function(s){var c,p=s[0].trace,f=p.error_x||{},w=p.error_y||{};p.ids&&(c=function(x){return x.id});var v=A.hasMarkers(p)&&p.marker.maxdisplayed>0;w.visible||f.visible||(s=[]);var h=C.select(this).selectAll("g.errorbar").data(s,c);if(h.exit().remove(),s.length){f.visible||h.selectAll("path.xerror").remove(),w.visible||h.selectAll("path.yerror").remove(),h.style("opacity",1);var _=h.enter().append("g").classed("errorbar",!0);n&&_.style("opacity",0).transition().duration(t.duration).style("opacity",1),u.setClipUrl(h,l.layerClipId,T),h.each(function(x){var P,R,z,$,b=C.select(this),M=(z=r,$={x:(R=o).c2p((P=x).x),y:z.c2p(P.y)},void 0!==P.yh&&($.yh=z.c2p(P.yh),$.ys=z.c2p(P.ys),S($.ys)||($.noYS=!0,$.ys=z.c2p(P.ys,!0))),void 0!==P.xh&&($.xh=R.c2p(P.xh),$.xs=R.c2p(P.xs),S($.xs)||($.noXS=!0,$.xs=R.c2p(P.xs,!0))),$);if(!v||x.vis){var d,E=b.select("path.yerror");if(w.visible&&S(M.x)&&S(M.yh)&&S(M.ys)){var k=w.width;d="M"+(M.x-k)+","+M.yh+"h"+2*k+"m-"+k+",0V"+M.ys,M.noYS||(d+="m-"+k+",0h"+2*k),E.size()?n&&(E=E.transition().duration(t.duration).ease(t.easing)):E=b.append("path").style("vector-effect",a?"none":"non-scaling-stroke").classed("yerror",!0),E.attr("d",d)}else E.remove();var I=b.select("path.xerror");if(f.visible&&S(M.y)&&S(M.xh)&&S(M.xs)){var L=(f.copy_ystyle?w:f).width;d="M"+M.xh+","+(M.y-L)+"v"+2*L+"m0,-"+L+"H"+M.xs,M.noXS||(d+="m0,-"+L+"v"+2*L),I.size()?n&&(I=I.transition().duration(t.duration).ease(t.easing)):I=b.append("path").style("vector-effect",a?"none":"non-scaling-stroke").classed("xerror",!0),I.attr("d",d)}else I.remove()}})}})}},62662:function(ie,B,e){"use strict";var C=e(39898),S=e(7901);ie.exports=function(u){u.each(function(A){var T=A[0].trace,m=T.error_y||{},l=T.error_x||{},t=C.select(this);t.selectAll("path.yerror").style("stroke-width",m.thickness+"px").call(S.stroke,m.color),l.copy_ystyle&&(l=m),t.selectAll("path.xerror").style("stroke-width",l.thickness+"px").call(S.stroke,l.color)})}},77914:function(ie,B,e){"use strict";var C=e(41940),S=e(528).hoverlabel,u=e(1426).extendFlat;ie.exports={hoverlabel:{bgcolor:u({},S.bgcolor,{arrayOk:!0}),bordercolor:u({},S.bordercolor,{arrayOk:!0}),font:C({arrayOk:!0,editType:"none"}),align:u({},S.align,{arrayOk:!0}),namelength:u({},S.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(ie,B,e){"use strict";var C=e(71828),S=e(73972);function u(A,T,m,l){l=l||C.identity,Array.isArray(A)&&(T[0][m]=l(A))}ie.exports=function(A){var T=A.calcdata,m=A._fullLayout;function l(a){return function(s){return C.coerceHoverinfo({hoverinfo:s},{_module:a._module},m)}}for(var t=0;t<T.length;t++){var o=T[t],r=o[0].trace;if(!S.traceIs(r,"pie-like")){var n=S.traceIs(r,"2dMap")?u:C.fillArray;n(r.hoverinfo,o,"hi",l(r)),r.hovertemplate&&n(r.hovertemplate,o,"ht"),r.hoverlabel&&(n(r.hoverlabel.bgcolor,o,"hbg"),n(r.hoverlabel.bordercolor,o,"hbc"),n(r.hoverlabel.font.size,o,"hts"),n(r.hoverlabel.font.color,o,"htc"),n(r.hoverlabel.font.family,o,"htf"),n(r.hoverlabel.namelength,o,"hnl"),n(r.hoverlabel.align,o,"hta"))}}}},75914:function(ie,B,e){"use strict";var C=e(73972),S=e(88335).hover;ie.exports=function(u,A,T){var m=C.getComponentMethod("annotations","onClick")(u,u._hoverdata);function l(){u.emit("plotly_click",{points:u._hoverdata,event:A})}void 0!==T&&S(u,A,T,!0),u._hoverdata&&A&&A.target&&(m&&m.then?m.then(l):l(),A.stopImmediatePropagation&&A.stopImmediatePropagation())}},26675:function(ie){"use strict";ie.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(ie,B,e){"use strict";var C=e(71828),S=e(77914),u=e(38048);ie.exports=function(A,T,m,l){var t=C.extendFlat({},l.hoverlabel);T.hovertemplate&&(t.namelength=-1),u(A,T,function(o,r){return C.coerce(A,T,S,o,r)},t)}},23469:function(ie,B,e){"use strict";var C=e(71828);B.getSubplot=function(l){return l.subplot||l.xaxis+l.yaxis||l.geo},B.isTraceInSubplots=function(l,t){if("splom"===l.type){for(var o=l.xaxes||[],r=l.yaxes||[],n=0;n<o.length;n++)for(var a=0;a<r.length;a++)if(-1!==t.indexOf(o[n]+r[a]))return!0;return!1}return-1!==t.indexOf(B.getSubplot(l))},B.flat=function(l,t){for(var o=new Array(l.length),r=0;r<l.length;r++)o[r]=t;return o},B.p2c=function(l,t){for(var o=new Array(l.length),r=0;r<l.length;r++)o[r]=l[r].p2c(t);return o},B.getDistanceFunction=function(l,t,o,r){return"closest"===l?r||B.quadrature(t,o):"x"===l.charAt(0)?t:o},B.getClosest=function(l,t,o){if(!1!==o.index)o.index>=0&&o.index<l.length?o.distance=0:o.index=!1;else for(var r=0;r<l.length;r++){var n=t(l[r]);n<=o.distance&&(o.index=r,o.distance=n)}return o},B.inbox=function(l,t,o){return l*t<0||0===l?o:1/0},B.quadrature=function(l,t){return function(o){var r=l(o),n=t(o);return Math.sqrt(r*r+n*n)}},B.makeEventData=function(l,t,o){var r="index"in l?l.index:l.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:r};if(t._indexToPoints){var a=t._indexToPoints[r];1===a.length?n.pointIndex=a[0]:n.pointIndices=a}else n.pointIndex=r;return t._module.eventData?n=t._module.eventData(n,l,t,o,r):("xVal"in l?n.x=l.xVal:"x"in l&&(n.x=l.x),"yVal"in l?n.y=l.yVal:"y"in l&&(n.y=l.y),l.xa&&(n.xaxis=l.xa),l.ya&&(n.yaxis=l.ya),void 0!==l.zLabelVal&&(n.z=l.zLabelVal)),B.appendArrayPointValue(n,t,r),n},B.appendArrayPointValue=function(l,t,o){var r=t._arrayAttrs;if(r)for(var n=0;n<r.length;n++){var a=r[n],s=u(a);if(void 0===l[s]){var c=A(C.nestedProperty(t,a).get(),o);void 0!==c&&(l[s]=c)}}},B.appendArrayMultiPointValues=function(l,t,o){var r=t._arrayAttrs;if(r)for(var n=0;n<r.length;n++){var a=r[n],s=u(a);if(void 0===l[s]){for(var c=C.nestedProperty(t,a).get(),p=new Array(o.length),f=0;f<o.length;f++)p[f]=A(c,o[f]);l[s]=p}}};var S={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function u(l){return S[l]||l}function A(l,t){return Array.isArray(t)?Array.isArray(l)&&Array.isArray(l[t[0]])?l[t[0]][t[1]]:void 0:l[t]}var T={x:!0,y:!0},m={"x unified":!0,"y unified":!0};B.isUnifiedHover=function(l){return"string"==typeof l&&!!m[l]},B.isXYhover=function(l){return"string"==typeof l&&!!T[l]}},88335:function(ie,B,e){"use strict";var C=e(39898),S=e(92770),u=e(84267),A=e(71828),T=A.strTranslate,m=A.strRotate,l=e(11086),t=e(63893),o=e(39918),r=e(91424),n=e(7901),a=e(28569),s=e(89298),c=e(73972),p=e(23469),f=e(26675),w=e(99017),v=e(43969),h=f.YANGLE,_=Math.PI*h/180,x=1/Math.sin(_),b=Math.cos(_),M=Math.sin(_),d=f.HOVERARROWSIZE,E=f.HOVERTEXTPAD,k={box:!0,ohlc:!0,violin:!0,candlestick:!0},I={scatter:!0,scattergl:!0,splom:!0};function L(K){return[K.trace.index,K.index,K.x0,K.y0,K.name,K.attr,K.xa?K.xa._id:"",K.ya?K.ya._id:""].join(",")}B.hover=function(K,te,oe,ue){K=A.getGraphDiv(K);var fe=te.target;A.throttle(K._fullLayout._uid+f.HOVERID,f.HOVERMINTIME,function(){!function(he,me,ke,Pe,Te){ke||(ke="xy");var be=Array.isArray(ke)?ke:[ke],xe=he._fullLayout,Ne=xe._plots||[],Se=Ne[ke],Ce=xe._has("cartesian");if(Se){var pe=Se.overlays.map(function(Xt){return Xt.id});be=be.concat(pe)}for(var de=be.length,se=new Array(de),we=new Array(de),Re=!1,Ee=0;Ee<de;Ee++){var Ue=be[Ee];if(Ne[Ue])Re=!0,se[Ee]=Ne[Ue].xaxis,we[Ee]=Ne[Ue].yaxis;else{if(!xe[Ue]||!xe[Ue]._subplot)return void A.warn("Unrecognized subplot: "+Ue);var $e=xe[Ue]._subplot;se[Ee]=$e.xaxis,we[Ee]=$e.yaxis}}var ve=me.hovermode||xe.hovermode;if(ve&&!Re&&(ve="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(ve)||!he.calcdata||he.querySelector(".zoombox")||he._dragging)return a.unhoverRaw(he,me);var Ie=xe.hoverdistance;-1===Ie&&(Ie=1/0);var De=xe.spikedistance;-1===De&&(De=1/0);var ze,Ge,He,Ke,et,st,mt,at,kt,St,gt,dt,Ct,Ot=[],Pt=[],Ht={hLinePoint:null,vLinePoint:null},jt=!1;if(Array.isArray(me))for(ve="array",He=0;He<me.length;He++)(et=he.calcdata[me[He].curveNumber||0])&&(st=et[0].trace,"skip"!==et[0].trace.hoverinfo&&(Pt.push(et),"h"===st.orientation&&(jt=!0)));else{for(Ke=0;Ke<he.calcdata.length;Ke++)"skip"!==(st=(et=he.calcdata[Ke])[0].trace).hoverinfo&&p.isTraceInSubplots(st,be)&&(Pt.push(et),"h"===st.orientation&&(jt=!0));var nt,it;if(Te){if(!1===l.triggerHandler(he,"plotly_beforehover",me))return;var Xe=Te.getBoundingClientRect();nt=me.clientX-Xe.left,it=me.clientY-Xe.top,xe._calcInverseTransform(he);var rt=A.apply3DTransform(xe._invTransform)(nt,it);if(it=rt[1],(nt=rt[0])<0||nt>se[0]._length||it<0||it>we[0]._length)return a.unhoverRaw(he,me)}else nt="xpx"in me?me.xpx:se[0]._length/2,it="ypx"in me?me.ypx:we[0]._length/2;if(me.pointerX=nt+se[0]._offset,me.pointerY=it+we[0]._offset,ze="xval"in me?p.flat(be,me.xval):p.p2c(se,nt),Ge="yval"in me?p.flat(be,me.yval):p.p2c(we,it),!S(ze[0])||!S(Ge[0]))return A.warn("Fx.hover failed",me,he),a.unhoverRaw(he,me)}var ft=1/0;function vt(Xt,rn){for(Ke=0;Ke<Pt.length;Ke++)if((et=Pt[Ke])&&et[0]&&et[0].trace&&!0===(st=et[0].trace).visible&&0!==st._length&&-1===["carpet","contourcarpet"].indexOf(st._module.name)){if("splom"===st.type?mt=be[at=0]:(mt=p.getSubplot(st),at=be.indexOf(mt)),p.isUnifiedHover(kt=ve)&&(kt=kt.charAt(0)),dt={cd:et,trace:st,xa:se[at],ya:we[at],maxHoverDistance:Ie,maxSpikeDistance:De,index:!1,distance:Math.min(ft,Ie),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:st.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},xe[mt]&&(dt.subplot=xe[mt]._subplot),xe._splomScenes&&xe._splomScenes[st.uid]&&(dt.scene=xe._splomScenes[st.uid]),Ct=Ot.length,"array"===kt){var wn=me[Ke];"pointNumber"in wn?(dt.index=wn.pointNumber,kt="closest"):(kt="","xval"in wn&&(St=wn.xval,kt="x"),"yval"in wn&&(gt=wn.yval,kt=kt?"closest":"y"))}else void 0!==Xt&&void 0!==rn?(St=Xt,gt=rn):(St=ze[at],gt=Ge[at]);if(0!==Ie)if(st._module&&st._module.hoverPoints){var Cn=st._module.hoverPoints(dt,St,gt,kt,{finiteRange:!0,hoverLayer:xe._hoverlayer});if(Cn)for(var Bn,or=0;or<Cn.length;or++)S((Bn=Cn[or]).x0)&&S(Bn.y0)&&Ot.push(W(Bn,ve))}else A.log("Unrecognized trace type in hover:",st);if("closest"===ve&&Ot.length>Ct&&(Ot.splice(0,Ct),ft=Ot[0].distance),Ce&&0!==De&&0===Ot.length){dt.distance=De,dt.index=!1;var An=st._module.hoverPoints(dt,St,gt,"closest",{hoverLayer:xe._hoverlayer});if(An&&(An=An.filter(function(on){return on.spikeDistance<=De})),An&&An.length){var $n,Xn=An.filter(function(on){return on.xa.showspikes&&"hovered data"!==on.xa.spikesnap});if(Xn.length){var Kt=Xn[0];S(Kt.x0)&&S(Kt.y0)&&($n=Ve(Kt),(!Ht.vLinePoint||Ht.vLinePoint.spikeDistance>$n.spikeDistance)&&(Ht.vLinePoint=$n))}var Rn=An.filter(function(on){return on.ya.showspikes&&"hovered data"!==on.ya.spikesnap});if(Rn.length){var Ft=Rn[0];S(Ft.x0)&&S(Ft.y0)&&($n=Ve(Ft),(!Ht.hLinePoint||Ht.hLinePoint.spikeDistance>$n.spikeDistance)&&(Ht.hLinePoint=$n))}}}}}function je(Xt,rn,wn){for(var Cn,Bn=null,or=1/0,An=0;An<Xt.length;An++)Cn=Xt[An].spikeDistance,wn&&0===An&&(Cn=-1/0),Cn<=or&&Cn<=rn&&(Bn=Xt[An],or=Cn);return Bn}function Ve(Xt){return Xt?{xa:Xt.xa,ya:Xt.ya,x:void 0!==Xt.xSpike?Xt.xSpike:(Xt.x0+Xt.x1)/2,y:void 0!==Xt.ySpike?Xt.ySpike:(Xt.y0+Xt.y1)/2,distance:Xt.distance,spikeDistance:Xt.spikeDistance,curveNumber:Xt.trace.index,color:Xt.color,pointNumber:Xt.index}:null}vt();var ut={fullLayout:xe,container:xe._hoverlayer,event:me},ct=he._spikepoints;he._spikepoints={vLinePoint:Ht.vLinePoint,hLinePoint:Ht.hLinePoint};var Mt=function(){Ot.sort(function(Xt,rn){return Xt.distance-rn.distance}),Ot=function(Xt,rn){for(var wn=rn.charAt(0),Cn=[],Bn=[],or=[],An=0;An<Xt.length;An++){var $n=Xt[An];c.traceIs($n.trace,"bar-like")||c.traceIs($n.trace,"box-violin")?or.push($n):$n.trace[wn+"period"]?Bn.push($n):Cn.push($n)}return Cn.concat(Bn).concat(or)}(Ot,ve)};Mt();var At=ve.charAt(0),bt=("x"===At||"y"===At)&&Ot[0]&&I[Ot[0].trace.type];if(Ce&&0!==De&&0!==Ot.length){var Rt=je(Ot.filter(function(Xt){return Xt.ya.showspikes}),De,bt);Ht.hLinePoint=Ve(Rt);var xt=je(Ot.filter(function(Xt){return Xt.xa.showspikes}),De,bt);Ht.vLinePoint=Ve(xt)}if(0===Ot.length){var _t=a.unhoverRaw(he,me);return!Ce||null===Ht.hLinePoint&&null===Ht.vLinePoint||U(ct)&&H(he,Ht,ut),_t}if(Ce&&U(ct)&&H(he,Ht,ut),p.isXYhover(kt)&&0!==Ot[0].length&&"splom"!==Ot[0].trace.type){var It=Ot[0],Gt=(Ot=k[It.trace.type]?Ot.filter(function(Xt){return Xt.trace.index===It.trace.index}):[It]).length;vt(Y("x",It,xe),Y("y",It,xe));var Wt,Zt=[],cn={},nn=0,ln=function(Xt){var rn=k[Xt.trace.type]?L(Xt):Xt.trace.index;if(cn[rn]){var wn=cn[rn]-1,Cn=Zt[wn];wn>0&&Math.abs(Xt.distance)<Math.abs(Cn.distance)&&(Zt[wn]=Xt)}else nn++,cn[rn]=nn,Zt.push(Xt)};for(Wt=0;Wt<Gt;Wt++)ln(Ot[Wt]);for(Wt=Ot.length-1;Wt>Gt-1;Wt--)ln(Ot[Wt]);Ot=Zt,Mt()}var Qt=he._hoverdata,kn=[],Pn=ae(he),Tn=re(he);for(He=0;He<Ot.length;He++){var tn=Ot[He],gn=p.makeEventData(tn,tn.trace,tn.cd);if(!1!==tn.hovertemplate){var hn=!1;tn.cd[tn.index]&&tn.cd[tn.index].ht&&(hn=tn.cd[tn.index].ht),tn.hovertemplate=hn||tn.trace.hovertemplate||!1}if(tn.xa&&tn.ya){var mn=tn.x0+tn.xa._offset,En=tn.x1+tn.xa._offset,vn=tn.y0+tn.ya._offset,Un=tn.y1+tn.ya._offset,Hn=Math.min(mn,En),On=Math.max(mn,En),Wn=Math.min(vn,Un),pr=Math.max(vn,Un);gn.bbox={x0:Hn+Tn,x1:On+Tn,y0:Wn+Pn,y1:pr+Pn}}tn.eventData=[gn],kn.push(gn)}he._hoverdata=kn;var ar="y"===ve&&(Pt.length>1||Ot.length>1)||"closest"===ve&&jt&&Ot.length>1,Ar=n.combine(xe.plot_bgcolor||n.background,xe.paper_bgcolor),hr=R(Ot,{gd:he,hovermode:ve,rotateLabels:ar,bgColor:Ar,container:xe._hoverlayer,outerContainer:xe._paper.node(),commonLabelOpts:xe.hoverlabel,hoverdistance:xe.hoverdistance}),fr=hr.hoverLabels;if(p.isUnifiedHover(ve)||(function(Xt,rn,wn,Cn){var Bn,or,An,$n,Xn,Kt,Rn,Ft=rn?"xa":"ya",on=rn?"ya":"xa",fn=0,Sn=1,Ln=Xt.size(),jn=new Array(Ln),bn=0,sn=Cn.minX,un=Cn.maxX,xn=Cn.minY,_n=Cn.maxY,Vn=function(lr){return lr*wn._invScaleX},Gn=function(lr){return lr*wn._invScaleY};function rr(lr){var Hr=lr[0],sr=lr[lr.length-1];if(An=sr.pos+sr.dp+sr.size-Hr.pmax,(or=Hr.pmin-Hr.pos-Hr.dp+Hr.size)>.01){for(Xn=lr.length-1;Xn>=0;Xn--)lr[Xn].dp+=or;Bn=!1}if(!(An<.01)){if(or<-.01){for(Xn=lr.length-1;Xn>=0;Xn--)lr[Xn].dp-=An;Bn=!1}if(Bn){var Or=0;for($n=0;$n<lr.length;$n++)(Kt=lr[$n]).pos+Kt.dp+Kt.size>Hr.pmax&&Or++;for($n=lr.length-1;$n>=0&&!(Or<=0);$n--)(Kt=lr[$n]).pos>Hr.pmax-1&&(Kt.del=!0,Or--);for($n=0;$n<lr.length&&!(Or<=0);$n++)if((Kt=lr[$n]).pos<Hr.pmin+1)for(Kt.del=!0,Or--,An=2*Kt.size,Xn=lr.length-1;Xn>=0;Xn--)lr[Xn].dp-=An;for($n=lr.length-1;$n>=0&&!(Or<=0);$n--)(Kt=lr[$n]).pos+Kt.dp+Kt.size>Hr.pmax&&(Kt.del=!0,Or--)}}}for(Xt.each(function(lr){var Hr=lr[Ft],sr=lr[on],Or="x"===Hr._id.charAt(0),Qr=Hr.range;0===bn&&Qr&&Qr[0]>Qr[1]!==Or&&(Sn=-1);var ji=0,fo=Or?wn.width:wn.height;if("x"===wn.hovermode||"y"===wn.hovermode){var no,ro,Yi=$(lr,rn),To=lr.anchor,Ms="end"===To?-1:1;if("middle"===To)ro=(no=lr.crossPos+(Or?Gn(Yi.y-lr.by/2):Vn(lr.bx/2+lr.tx2width/2)))+(Or?Gn(lr.by):Vn(lr.bx));else if(Or)ro=(no=lr.crossPos+Gn(d+Yi.y)-Gn(lr.by/2-d))+Gn(lr.by);else{var $r=Vn(Ms*d+Yi.x),fs=$r+Vn(Ms*lr.bx);no=lr.crossPos+Math.min($r,fs),ro=lr.crossPos+Math.max($r,fs)}Or?void 0!==xn&&void 0!==_n&&Math.min(ro,_n)-Math.max(no,xn)>1&&("left"===sr.side?(ji=sr._mainLinePosition,fo=wn.width):fo=sr._mainLinePosition):void 0!==sn&&void 0!==un&&Math.min(ro,un)-Math.max(no,sn)>1&&("top"===sr.side?(ji=sr._mainLinePosition,fo=wn.height):fo=sr._mainLinePosition)}jn[bn++]=[{datum:lr,traceIndex:lr.trace.index,dp:0,pos:lr.pos,posref:lr.posref,size:lr.by*(Or?x:1)/2,pmin:ji,pmax:fo}]}),jn.sort(function(lr,Hr){return lr[0].posref-Hr[0].posref||Sn*(Hr[0].traceIndex-lr[0].traceIndex)});!Bn&&fn<=Ln;){for(fn++,Bn=!0,$n=0;$n<jn.length-1;){var Jn=jn[$n],mr=jn[$n+1],er=Jn[Jn.length-1],ur=mr[0];if((or=er.pos+er.dp+er.size-ur.pos-ur.dp+ur.size)>.01&&er.pmin===ur.pmin&&er.pmax===ur.pmax){for(Xn=mr.length-1;Xn>=0;Xn--)mr[Xn].dp+=or;for(Jn.push.apply(Jn,mr),jn.splice($n+1,1),Rn=0,Xn=Jn.length-1;Xn>=0;Xn--)Rn+=Jn[Xn].dp;for(An=Rn/Jn.length,Xn=Jn.length-1;Xn>=0;Xn--)Jn[Xn].dp-=An;Bn=!1}else $n++}jn.forEach(rr)}for($n=jn.length-1;$n>=0;$n--){var Tr=jn[$n];for(Xn=Tr.length-1;Xn>=0;Xn--){var Mr=Tr[Xn],Dr=Mr.datum;Dr.offset=Mr.dp,Dr.del=Mr.del}}}(fr,ar,xe,hr.commonLabelBoundingBox),N(fr,ar,xe._invScaleX,xe._invScaleY)),Te&&Te.tagName){var Rr=c.getComponentMethod("annotations","hasClickToShow")(he,kn);o(C.select(Te),Rr?"pointer":"")}Te&&!Pe&&function(Xt,rn,wn){if(!wn||wn.length!==Xt._hoverdata.length)return!0;for(var Cn=wn.length-1;Cn>=0;Cn--){var Bn=wn[Cn],or=Xt._hoverdata[Cn];if(Bn.curveNumber!==or.curveNumber||String(Bn.pointNumber)!==String(or.pointNumber)||String(Bn.pointNumbers)!==String(or.pointNumbers))return!0}return!1}(he,0,Qt)&&(Qt&&he.emit("plotly_unhover",{event:me,points:Qt}),he.emit("plotly_hover",{event:me,points:he._hoverdata,xaxes:se,yaxes:we,xvals:ze,yvals:Ge}))}(K,te,oe,ue,fe)})},B.loneHover=function(K,te){var oe=!0;Array.isArray(K)||(oe=!1,K=[K]);var ue=te.gd,fe=ae(ue),he=re(ue),me=R(K.map(function(Te){var be=Te._x0||Te.x0||Te.x||0,xe=Te._x1||Te.x1||Te.x||0,Ne=Te._y0||Te.y0||Te.y||0,Se=Te._y1||Te.y1||Te.y||0,Ce=Te.eventData;if(Ce){var pe=Math.min(be,xe),de=Math.max(be,xe),se=Math.min(Ne,Se),we=Math.max(Ne,Se),Re=Te.trace;if(c.traceIs(Re,"gl3d")){var Ee=ue._fullLayout[Re.scene]._scene.container,Ue=Ee.offsetLeft,$e=Ee.offsetTop;pe+=Ue,de+=Ue,se+=$e,we+=$e}Ce.bbox={x0:pe+he,x1:de+he,y0:se+fe,y1:we+fe},te.inOut_bbox&&te.inOut_bbox.push(Ce.bbox)}else Ce=!1;return{color:Te.color||n.defaultLine,x0:Te.x0||Te.x||0,x1:Te.x1||Te.x||0,y0:Te.y0||Te.y||0,y1:Te.y1||Te.y||0,xLabel:Te.xLabel,yLabel:Te.yLabel,zLabel:Te.zLabel,text:Te.text,name:Te.name,idealAlign:Te.idealAlign,borderColor:Te.borderColor,fontFamily:Te.fontFamily,fontSize:Te.fontSize,fontColor:Te.fontColor,nameLength:Te.nameLength,textAlign:Te.textAlign,trace:Te.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Te.hovertemplate||!1,hovertemplateLabels:Te.hovertemplateLabels||!1,eventData:Ce}}),{gd:ue,hovermode:"closest",rotateLabels:!1,bgColor:te.bgColor||n.background,container:C.select(te.container),outerContainer:te.outerContainer||te.container}).hoverLabels,ke=0,Pe=0;return me.sort(function(Te,be){return Te.y0-be.y0}).each(function(Te,be){var xe=Te.y0-Te.by/2;Te.offset=xe-5<ke?ke-xe+5:0,ke=xe+Te.by+Te.offset,be===te.anchorIndex&&(Pe=Te.offset)}).each(function(Te){Te.offset-=Pe}),N(me,!1,ue._fullLayout._invScaleX,ue._fullLayout._invScaleY),oe?me:me.node()};var P=/<extra>([\s\S]*)<\/extra>/;function R(K,te){var oe=te.gd,ue=oe._fullLayout,fe=te.hovermode,he=te.rotateLabels,me=te.bgColor,ke=te.container,Pe=te.outerContainer,Te=te.commonLabelOpts||{};if(0===K.length)return[[]];var be=te.fontFamily||f.HOVERFONT,xe=te.fontSize||f.HOVERFONTSIZE,Ne=K[0],Se=Ne.xa,Ce=Ne.ya,pe=fe.charAt(0),de=pe+"Label",se=Ne[de];if(void 0===se&&"multicategory"===Se.type)for(var we=0;we<K.length&&void 0===(se=K[we][de]);we++);var Re=Q(oe,Pe),Ee=Re.top,Ue=Re.width,$e=Re.height,ve=void 0!==se&&Ne.distance<=te.hoverdistance&&("x"===fe||"y"===fe);if(ve){var Ie,De,ze=!0;for(Ie=0;Ie<K.length;Ie++)if(ze&&void 0===K[Ie].zLabel&&(ze=!1),De=K[Ie].hoverinfo||K[Ie].trace.hoverinfo){var Ge=Array.isArray(De)?De:De.split("+");if(-1===Ge.indexOf("all")&&-1===Ge.indexOf(fe)){ve=!1;break}}ze&&(ve=!1)}var He=ke.selectAll("g.axistext").data(ve?[0]:[]);He.enter().append("g").classed("axistext",!0),He.exit().remove();var Ke={minX:0,maxX:0,minY:0,maxY:0};if(He.each(function(){var _t=C.select(this),It=A.ensureSingle(_t,"path","",function(Wn){Wn.style({"stroke-width":"1px"})}),Gt=A.ensureSingle(_t,"text","",function(Wn){Wn.attr("data-notex",1)}),Wt=Te.bgcolor||n.defaultLine,Zt=Te.bordercolor||n.contrast(Wt),cn=n.contrast(Wt),nn={family:Te.font.family||be,size:Te.font.size||xe,color:Te.font.color||cn};It.style({fill:Wt,stroke:Zt}),Gt.text(se).call(r.font,nn).call(t.positionText,0,0).call(t.convertToTspans,oe),_t.attr("transform","");var ln,Qt,kn=Q(oe,Gt.node());if("x"===fe){var Pn="top"===Se.side?"-":"";Gt.attr("text-anchor","middle").call(t.positionText,0,"top"===Se.side?Ee-kn.bottom-d-E:Ee-kn.top+d+E),Qt=Ce._offset+("top"===Se.side?0:Ce._length);var Tn=kn.width/2+E;(ln=Se._offset+(Ne.x0+Ne.x1)/2)<Tn?(ln=Tn,It.attr("d","M-"+(Tn-d)+",0L-"+(Tn-2*d)+","+Pn+d+"H"+Tn+"v"+Pn+(2*E+kn.height)+"H-"+Tn+"V"+Pn+d+"Z")):ln>ue.width-Tn?(ln=ue.width-Tn,It.attr("d","M"+(Tn-d)+",0L"+Tn+","+Pn+d+"v"+Pn+(2*E+kn.height)+"H-"+Tn+"V"+Pn+d+"H"+(Tn-2*d)+"Z")):It.attr("d","M0,0L"+d+","+Pn+d+"H"+Tn+"v"+Pn+(2*E+kn.height)+"H-"+Tn+"V"+Pn+d+"H-"+d+"Z"),Ke.minX=ln-Tn,Ke.maxX=ln+Tn,"top"===Se.side?(Ke.minY=Qt-(2*E+kn.height),Ke.maxY=Qt-E):(Ke.minY=Qt+E,Ke.maxY=Qt+(2*E+kn.height))}else{var tn,gn,hn;"right"===Ce.side?(tn="start",gn=1,hn="",ln=Se._offset+Se._length):(tn="end",gn=-1,hn="-",ln=Se._offset),Qt=Ce._offset+(Ne.y0+Ne.y1)/2,Gt.attr("text-anchor",tn),It.attr("d","M0,0L"+hn+d+","+d+"V"+(E+kn.height/2)+"h"+hn+(2*E+kn.width)+"V-"+(E+kn.height/2)+"H"+hn+d+"V-"+d+"Z"),Ke.minY=Qt-(E+kn.height/2),Ke.maxY=Qt+(E+kn.height/2),"right"===Ce.side?(Ke.minX=ln+d,Ke.maxX=ln+d+(2*E+kn.width)):(Ke.minX=ln-d-(2*E+kn.width),Ke.maxX=ln-d);var mn,En=kn.height/2,vn=Ee-kn.top-En,Un="clip"+ue._uid+"commonlabel"+Ce._id;if(ln<kn.width+2*E+d){mn="M-"+(d+E)+"-"+En+"h-"+(kn.width-E)+"V"+En+"h"+(kn.width-E)+"Z";var Hn=kn.width-ln+E;t.positionText(Gt,Hn,vn),"end"===tn&&Gt.selectAll("tspan").each(function(){var Wn=C.select(this),pr=r.tester.append("text").text(Wn.text()).call(r.font,nn),ar=Q(oe,pr.node());Math.round(ar.width)<Math.round(kn.width)&&Wn.attr("x",Hn-ar.width),pr.remove()})}else t.positionText(Gt,gn*(E+d),vn),mn=null;var On=ue._topclips.selectAll("#"+Un).data(mn?[0]:[]);On.enter().append("clipPath").attr("id",Un).append("path"),On.exit().remove(),On.select("path").attr("d",mn),r.setClipUrl(Gt,mn?Un:null,oe)}_t.attr("transform",T(ln,Qt))}),p.isUnifiedHover(fe)){ke.selectAll("g.hovertext").remove();var et=K.filter(function(_t){return"none"!==_t.hoverinfo});if(0===et.length)return[];var st=ue.hoverlabel,mt=st.font,kt={font:mt};w({showlegend:!0,legend:{title:{text:se,font:mt},font:mt,bgcolor:st.bgcolor,bordercolor:st.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ue.legend?ue.legend.traceorder:void 0,orientation:"v"}},kt,oe._fullData);var St=kt.legend;St.entries=[];for(var gt=0;gt<et.length;gt++){var dt=et[gt];if("none"!==dt.hoverinfo){var Ct=z(dt,!0,fe,ue,se),Ot=Ct[0],Pt=Ct[1];dt.name=Pt,dt.text=""!==Pt?Pt+" : "+Ot:Ot;var Ht=dt.cd[dt.index];Ht&&(Ht.mc&&(dt.mc=Ht.mc),Ht.mcc&&(dt.mc=Ht.mcc),Ht.mlc&&(dt.mlc=Ht.mlc),Ht.mlcc&&(dt.mlc=Ht.mlcc),Ht.mlw&&(dt.mlw=Ht.mlw),Ht.mrc&&(dt.mrc=Ht.mrc),Ht.dir&&(dt.dir=Ht.dir)),dt._distinct=!0,St.entries.push([dt])}}St.entries.sort(function(_t,It){return _t[0].trace.index-It[0].trace.index}),St.layer=ke,St._inHover=!0,St._groupTitleFont=st.grouptitlefont,v(oe,St);var jt,nt,it,Xe,rt=ke.select("g.legend"),ft=Q(oe,rt.node()),vt=ft.width+2*E,je=ft.height+2*E,Ve=et[0],ut=(Ve.x0+Ve.x1)/2,ct=(Ve.y0+Ve.y1)/2,Tt=!(c.traceIs(Ve.trace,"bar-like")||c.traceIs(Ve.trace,"box-violin"));"y"===pe?Tt?(nt=ct-E,jt=ct+E):(nt=Math.min.apply(null,et.map(function(_t){return Math.min(_t.y0,_t.y1)})),jt=Math.max.apply(null,et.map(function(_t){return Math.max(_t.y0,_t.y1)}))):nt=jt=A.mean(et.map(function(_t){return(_t.y0+_t.y1)/2}))-je/2,"x"===pe?Tt?(it=ut+E,Xe=ut-E):(it=Math.max.apply(null,et.map(function(_t){return Math.max(_t.x0,_t.x1)})),Xe=Math.min.apply(null,et.map(function(_t){return Math.min(_t.x0,_t.x1)}))):it=Xe=A.mean(et.map(function(_t){return(_t.x0+_t.x1)/2}))-vt/2;var Mt,At,bt=Se._offset,Rt=Ce._offset;return Xe+=bt-vt,nt+=Rt-je,Mt=(it+=bt)+vt<Ue&&it>=0?it:Xe+vt<Ue&&Xe>=0?Xe:bt+vt<Ue?bt:it-ut<ut-Xe+vt?Ue-vt:0,At=(jt+=Rt)+je<$e&&jt>=0?jt:nt+je<$e&&nt>=0?nt:Rt+je<$e?Rt:jt-ct<ct-nt+je?$e-je:0,rt.attr("transform",T((Mt+=E)-1,(At+=E)-1)),rt}var xt=ke.selectAll("g.hovertext").data(K,function(_t){return L(_t)});return xt.enter().append("g").classed("hovertext",!0).each(function(){var _t=C.select(this);_t.append("rect").call(n.fill,n.addOpacity(me,.8)),_t.append("text").classed("name",!0),_t.append("path").style("stroke-width","1px"),_t.append("text").classed("nums",!0).call(r.font,be,xe)}),xt.exit().remove(),xt.each(function(_t){var It=C.select(this).attr("transform",""),Gt=_t.color;Array.isArray(Gt)&&(Gt=Gt[_t.eventData[0].pointNumber]);var Wt=_t.bgcolor||Gt,Zt=n.combine(n.opacity(Wt)?Wt:n.defaultLine,me),cn=n.combine(n.opacity(Gt)?Gt:n.defaultLine,me),nn=_t.borderColor||n.contrast(Zt),ln=z(_t,ve,fe,ue,se,It),Qt=ln[0],kn=ln[1],Pn=It.select("text.nums").call(r.font,_t.fontFamily||be,_t.fontSize||xe,_t.fontColor||nn).text(Qt).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,oe),Tn=It.select("text.name"),tn=0,gn=0;if(kn&&kn!==Qt){Tn.call(r.font,_t.fontFamily||be,_t.fontSize||xe,cn).text(kn).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,oe);var hn=Q(oe,Tn.node());tn=hn.width+2*E,gn=hn.height+2*E}else Tn.remove(),It.select("rect").remove();It.select("path").style({fill:Zt,stroke:nn});var mn=_t.xa._offset+(_t.x0+_t.x1)/2,En=_t.ya._offset+(_t.y0+_t.y1)/2,vn=Math.abs(_t.x1-_t.x0),Un=Math.abs(_t.y1-_t.y0),Hn=Q(oe,Pn.node()),On=Hn.width/ue._invScaleX,Wn=Hn.height/ue._invScaleY;_t.ty0=(Ee-Hn.top)/ue._invScaleY,_t.bx=On+2*E,_t.by=Math.max(Wn+2*E,gn),_t.anchor="start",_t.txwidth=On,_t.tx2width=tn,_t.offset=0;var pr,ar,Ar=(On+d+E+tn)*ue._invScaleX;if(he)_t.pos=mn,pr=En+Un/2+Ar<=$e,ar=En-Un/2-Ar>=0,"top"!==_t.idealAlign&&pr||!ar?pr?(En+=Un/2,_t.anchor="start"):_t.anchor="middle":(En-=Un/2,_t.anchor="end"),_t.crossPos=En;else{if(_t.pos=En,pr=mn+vn/2+Ar<=Ue,ar=mn-vn/2-Ar>=0,"left"!==_t.idealAlign&&pr||!ar)if(pr)mn+=vn/2,_t.anchor="start";else{_t.anchor="middle";var hr=Ar/2,fr=mn+hr-Ue,Rr=mn-hr;fr>0&&(mn-=fr),Rr<0&&(mn+=-Rr)}else mn-=vn/2,_t.anchor="end";_t.crossPos=mn}Pn.attr("text-anchor",_t.anchor),tn&&Tn.attr("text-anchor",_t.anchor),It.attr("transform",T(mn,En)+(he?m(h):""))}),{hoverLabels:xt,commonLabelBoundingBox:Ke}}function z(K,te,oe,ue,fe,he){var me="",ke="";void 0!==K.nameOverride&&(K.name=K.nameOverride),K.name&&(K.trace._meta&&(K.name=A.templateString(K.name,K.trace._meta)),me=Z(K.name,K.nameLength));var Pe=oe.charAt(0);void 0!==K.zLabel?(void 0!==K.xLabel&&(ke+="x: "+K.xLabel+"<br>"),void 0!==K.yLabel&&(ke+="y: "+K.yLabel+"<br>"),"choropleth"!==K.trace.type&&"choroplethmapbox"!==K.trace.type&&(ke+=(ke?"z: ":"")+K.zLabel)):te&&K[Pe+"Label"]===fe?ke=K[("x"===Pe?"y":"x")+"Label"]||"":void 0===K.xLabel?void 0!==K.yLabel&&"scattercarpet"!==K.trace.type&&(ke=K.yLabel):ke=void 0===K.yLabel?K.xLabel:"("+K.xLabel+", "+K.yLabel+")",!K.text&&0!==K.text||Array.isArray(K.text)||(ke+=(ke?"<br>":"")+K.text),void 0!==K.extraText&&(ke+=(ke?"<br>":"")+K.extraText),he&&""===ke&&!K.hovertemplate&&(""===me&&he.remove(),ke=me);var be=K.hovertemplate||!1;if(be){var xe=K.hovertemplateLabels||K;K[Pe+"Label"]!==fe&&(xe[Pe+"other"]=xe[Pe+"Val"],xe[Pe+"otherLabel"]=xe[Pe+"Label"]),ke=(ke=A.hovertemplateString(be,xe,ue._d3locale,K.eventData[0]||{},K.trace._meta)).replace(P,function(Ne,Se){return me=Z(Se,K.nameLength),""})}return[ke,me]}function $(K,te){var oe=0,ue=K.offset;return te&&(ue*=-M,oe=K.offset*b),{x:oe,y:ue}}function N(K,te,oe,ue){var fe=function(me){return me*oe},he=function(me){return me*ue};K.each(function(me){var ke=C.select(this);if(me.del)return ke.remove();var Pe,Te,be,xe,Ne=ke.select("text.nums"),Se=me.anchor,Ce="end"===Se?-1:1,pe=(xe=(be=(Te={start:1,end:-1,middle:0}[(Pe=me).anchor])*(d+E))+Te*(Pe.txwidth+E),"middle"===Pe.anchor&&(be-=Pe.tx2width/2,xe+=Pe.txwidth/2+E),{alignShift:Te,textShiftX:be,text2ShiftX:xe}),de=$(me,te),se=de.x,we=de.y,Re="middle"===Se;ke.select("path").attr("d",Re?"M-"+fe(me.bx/2+me.tx2width/2)+","+he(we-me.by/2)+"h"+fe(me.bx)+"v"+he(me.by)+"h-"+fe(me.bx)+"Z":"M0,0L"+fe(Ce*d+se)+","+he(d+we)+"v"+he(me.by/2-d)+"h"+fe(Ce*me.bx)+"v-"+he(me.by)+"H"+fe(Ce*d+se)+"V"+he(we-d)+"Z");var Ee=se+pe.textShiftX,Ue=we+me.ty0-me.by/2+E,$e=me.textAlign||"auto";"auto"!==$e&&("left"===$e&&"start"!==Se?(Ne.attr("text-anchor","start"),Ee=Re?-me.bx/2-me.tx2width/2+E:-me.bx-E):"right"===$e&&"end"!==Se&&(Ne.attr("text-anchor","end"),Ee=Re?me.bx/2-me.tx2width/2-E:me.bx+E)),Ne.call(t.positionText,fe(Ee),he(Ue)),me.tx2width&&(ke.select("text.name").call(t.positionText,fe(pe.text2ShiftX+pe.alignShift*E+se),he(we+me.ty0-me.by/2+E)),ke.select("rect").call(r.setRect,fe(pe.text2ShiftX+(pe.alignShift-1)*me.tx2width/2+se),he(we-me.by/2-1),fe(me.tx2width),he(me.by+2)))})}function W(K,te){var oe=K.index,ue=K.trace||{},fe=K.cd[0],he=K.cd[oe]||{};function me(Ne){return Ne||S(Ne)&&0===Ne}var ke=Array.isArray(oe)?function(Ne,Se){var Ce=A.castOption(fe,oe,Ne);return me(Ce)?Ce:A.extractOption({},ue,"",Se)}:function(Ne,Se){return A.extractOption(he,ue,Ne,Se)};function Pe(Ne,Se,Ce){var pe=ke(Se,Ce);me(pe)&&(K[Ne]=pe)}if(Pe("hoverinfo","hi","hoverinfo"),Pe("bgcolor","hbg","hoverlabel.bgcolor"),Pe("borderColor","hbc","hoverlabel.bordercolor"),Pe("fontFamily","htf","hoverlabel.font.family"),Pe("fontSize","hts","hoverlabel.font.size"),Pe("fontColor","htc","hoverlabel.font.color"),Pe("nameLength","hnl","hoverlabel.namelength"),Pe("textAlign","hta","hoverlabel.align"),K.posref="y"===te||"closest"===te&&"h"===ue.orientation?K.xa._offset+(K.x0+K.x1)/2:K.ya._offset+(K.y0+K.y1)/2,K.x0=A.constrain(K.x0,0,K.xa._length),K.x1=A.constrain(K.x1,0,K.xa._length),K.y0=A.constrain(K.y0,0,K.ya._length),K.y1=A.constrain(K.y1,0,K.ya._length),void 0!==K.xLabelVal&&(K.xLabel="xLabel"in K?K.xLabel:s.hoverLabelText(K.xa,K.xLabelVal,ue.xhoverformat),K.xVal=K.xa.c2d(K.xLabelVal)),void 0!==K.yLabelVal&&(K.yLabel="yLabel"in K?K.yLabel:s.hoverLabelText(K.ya,K.yLabelVal,ue.yhoverformat),K.yVal=K.ya.c2d(K.yLabelVal)),void 0!==K.zLabelVal&&void 0===K.zLabel&&(K.zLabel=String(K.zLabelVal)),!(isNaN(K.xerr)||"log"===K.xa.type&&K.xerr<=0)){var Te=s.tickText(K.xa,K.xa.c2l(K.xerr),"hover").text;K.xLabel+=void 0!==K.xerrneg?" +"+Te+" / -"+s.tickText(K.xa,K.xa.c2l(K.xerrneg),"hover").text:" \xb1 "+Te,"x"===te&&(K.distance+=1)}if(!(isNaN(K.yerr)||"log"===K.ya.type&&K.yerr<=0)){var be=s.tickText(K.ya,K.ya.c2l(K.yerr),"hover").text;K.yLabel+=void 0!==K.yerrneg?" +"+be+" / -"+s.tickText(K.ya,K.ya.c2l(K.yerrneg),"hover").text:" \xb1 "+be,"y"===te&&(K.distance+=1)}var xe=K.hoverinfo||K.trace.hoverinfo;return xe&&"all"!==xe&&(-1===(xe=Array.isArray(xe)?xe:xe.split("+")).indexOf("x")&&(K.xLabel=void 0),-1===xe.indexOf("y")&&(K.yLabel=void 0),-1===xe.indexOf("z")&&(K.zLabel=void 0),-1===xe.indexOf("text")&&(K.text=void 0),-1===xe.indexOf("name")&&(K.name=void 0)),K}function H(K,te,oe){var ue,fe,he=oe.container,me=oe.fullLayout,ke=me._size,Pe=oe.event,Te=!!te.hLinePoint,be=!!te.vLinePoint;if(he.selectAll(".spikeline").remove(),be||Te){var xe=n.combine(me.plot_bgcolor,me.paper_bgcolor);if(Te){var Ne,Se,Ce=te.hLinePoint;ue=Ce&&Ce.xa,"cursor"===(fe=Ce&&Ce.ya).spikesnap?(Ne=Pe.pointerX,Se=Pe.pointerY):(Ne=ue._offset+Ce.x,Se=fe._offset+Ce.y);var pe,de,se=u.readability(Ce.color,xe)<1.5?n.contrast(xe):Ce.color,we=fe.spikemode,Re=fe.spikethickness,Ee=fe.spikecolor||se,Ue=s.getPxPosition(K,fe);if(-1!==we.indexOf("toaxis")||-1!==we.indexOf("across")){if(-1!==we.indexOf("toaxis")&&(pe=Ue,de=Ne),-1!==we.indexOf("across")){var $e=fe._counterDomainMin,ve=fe._counterDomainMax;"free"===fe.anchor&&($e=Math.min($e,fe.position),ve=Math.max(ve,fe.position)),pe=ke.l+$e*ke.w,de=ke.l+ve*ke.w}he.insert("line",":first-child").attr({x1:pe,x2:de,y1:Se,y2:Se,"stroke-width":Re,stroke:Ee,"stroke-dasharray":r.dashStyle(fe.spikedash,Re)}).classed("spikeline",!0).classed("crisp",!0),he.insert("line",":first-child").attr({x1:pe,x2:de,y1:Se,y2:Se,"stroke-width":Re+2,stroke:xe}).classed("spikeline",!0).classed("crisp",!0)}-1!==we.indexOf("marker")&&he.insert("circle",":first-child").attr({cx:Ue+("right"!==fe.side?Re:-Re),cy:Se,r:Re,fill:Ee}).classed("spikeline",!0)}if(be){var Ie,De,ze=te.vLinePoint;fe=ze&&ze.ya,"cursor"===(ue=ze&&ze.xa).spikesnap?(Ie=Pe.pointerX,De=Pe.pointerY):(Ie=ue._offset+ze.x,De=fe._offset+ze.y);var Ge,He,Ke=u.readability(ze.color,xe)<1.5?n.contrast(xe):ze.color,et=ue.spikemode,st=ue.spikethickness,mt=ue.spikecolor||Ke,at=s.getPxPosition(K,ue);if(-1!==et.indexOf("toaxis")||-1!==et.indexOf("across")){if(-1!==et.indexOf("toaxis")&&(Ge=at,He=De),-1!==et.indexOf("across")){var kt=ue._counterDomainMin,St=ue._counterDomainMax;"free"===ue.anchor&&(kt=Math.min(kt,ue.position),St=Math.max(St,ue.position)),Ge=ke.t+(1-St)*ke.h,He=ke.t+(1-kt)*ke.h}he.insert("line",":first-child").attr({x1:Ie,x2:Ie,y1:Ge,y2:He,"stroke-width":st,stroke:mt,"stroke-dasharray":r.dashStyle(ue.spikedash,st)}).classed("spikeline",!0).classed("crisp",!0),he.insert("line",":first-child").attr({x1:Ie,x2:Ie,y1:Ge,y2:He,"stroke-width":st+2,stroke:xe}).classed("spikeline",!0).classed("crisp",!0)}-1!==et.indexOf("marker")&&he.insert("circle",":first-child").attr({cx:Ie,cy:at-("top"!==ue.side?st:-st),r:st,fill:mt}).classed("spikeline",!0)}}}function U(K,te){return!te||te.vLinePoint!==K._spikepoints.vLinePoint||te.hLinePoint!==K._spikepoints.hLinePoint}function Z(K,te){return t.plainText(K||"",{len:te,allowedTags:["br","sub","sup","b","i","em"]})}function Y(K,te,oe){var ue=te[K+"a"],fe=te[K+"Val"],he=te.cd[0];if("category"===ue.type||"multicategory"===ue.type)fe=ue._categoriesMap[fe];else if("date"===ue.type){var me=te.trace[K+"periodalignment"];if(me){var ke=te.cd[te.index],Pe=ke[K+"Start"];void 0===Pe&&(Pe=ke[K]);var Te=ke[K+"End"];void 0===Te&&(Te=ke[K]);var be=Te-Pe;"end"===me?fe+=be:"middle"===me&&(fe+=be/2)}fe=ue.d2c(fe)}return he&&he.t&&he.t.posLetter===ue._id&&("group"!==oe.boxmode&&"group"!==oe.violinmode||(fe+=he.t.dPos)),fe}function ae(K){return K.offsetTop+K.clientTop}function re(K){return K.offsetLeft+K.clientLeft}function Q(K,te){var oe=K._fullLayout,ue=te.getBoundingClientRect(),fe=ue.left,he=ue.top,me=fe+ue.width,ke=he+ue.height,Pe=A.apply3DTransform(oe._invTransform)(fe,he),Te=A.apply3DTransform(oe._invTransform)(me,ke),be=Pe[0],xe=Pe[1],Ne=Te[0],Se=Te[1];return{x:be,y:xe,width:Ne-be,height:Se-xe,top:Math.min(xe,Se),left:Math.min(be,Ne),right:Math.max(be,Ne),bottom:Math.max(xe,Se)}}},38048:function(ie,B,e){"use strict";var C=e(71828),S=e(7901),u=e(23469).isUnifiedHover;ie.exports=function(A,T,m,l){l=l||{};var t=T.legend;function o(r){l.font[r]||(l.font[r]=t?T.legend.font[r]:T.font[r])}T&&u(T.hovermode)&&(l.font||(l.font={}),o("size"),o("family"),o("color"),t?(l.bgcolor||(l.bgcolor=S.combine(T.legend.bgcolor,T.paper_bgcolor)),l.bordercolor||(l.bordercolor=T.legend.bordercolor)):l.bgcolor||(l.bgcolor=T.paper_bgcolor)),m("hoverlabel.bgcolor",l.bgcolor),m("hoverlabel.bordercolor",l.bordercolor),m("hoverlabel.namelength",l.namelength),C.coerceFont(m,"hoverlabel.font",l.font),m("hoverlabel.align",l.align)}},98212:function(ie,B,e){"use strict";var C=e(71828),S=e(528);ie.exports=function(u,A){function T(m,l){return void 0!==A[m]?A[m]:C.coerce(u,A,S,m,l)}return T("clickmode"),T("hovermode")}},30211:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(28569),A=e(23469),T=e(528),m=e(88335);ie.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:T},attributes:e(77914),layoutAttributes:T,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:A.getDistanceFunction,getClosest:A.getClosest,inbox:A.inbox,quadrature:A.quadrature,appendArrayPointValue:A.appendArrayPointValue,castHoverOption:function(l,t,o){return S.castOption(l,t,"hoverlabel."+o)},castHoverinfo:function(l,t,o){return S.castOption(l,o,"hoverinfo",function(r){return S.coerceHoverinfo({hoverinfo:r},{_module:l._module},t)})},hover:m.hover,unhover:u.unhover,loneHover:m.loneHover,loneUnhover:function(l){var t=S.isD3Selection(l)?l:C.select(l);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e(75914)}},528:function(ie,B,e){"use strict";var C=e(26675),S=e(41940),u=S({editType:"none"});u.family.dflt=C.HOVERFONT,u.size.dflt=C.HOVERFONTSIZE,ie.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:u,grouptitlefont:S({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(ie,B,e){"use strict";var C=e(71828),S=e(528),u=e(98212),A=e(38048);ie.exports=function(T,m){function l(n,a){return C.coerce(T,m,S,n,a)}u(T,m)&&(l("hoverdistance"),l("spikedistance")),"select"===l("dragmode")&&l("selectdirection");var t=m._has("mapbox"),o=m._has("geo"),r=m._basePlotModules.length;"zoom"===m.dragmode&&((t||o)&&1===r||t&&o&&2===r)&&(m.dragmode="pan"),A(T,m,l),C.coerceFont(l,"hoverlabel.grouptitlefont",m.hoverlabel.font)}},22774:function(ie,B,e){"use strict";var C=e(71828),S=e(38048),u=e(528);ie.exports=function(A,T){S(A,T,function(m,l){return C.coerce(A,T,u,m,l)})}},83312:function(ie,B,e){"use strict";var C=e(71828),S=e(30587).counter,u=e(27670).Y,A=e(85555).idRegex,T=e(44467),m={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[S("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[A.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[A.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:u({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function l(r,n,a){var s=n[a+"axes"],c=Object.keys((r._splomAxes||{})[a]||{});return Array.isArray(s)?s:c.length?c:void 0}function t(r,n,a,s,c,p){var f=n(r+"gap",a),w=n("domain."+r);n(r+"side",s);for(var v=new Array(c),h=w[0],_=(w[1]-h)/(c-f),x=_*(1-f),b=0;b<c;b++){var M=h+_*b;v[p?c-1-b:b]=[M,M+x]}return v}function o(r,n,a,s,c){var p,f=new Array(a);function w(v,h){-1!==n.indexOf(h)&&void 0===s[h]?(f[v]=h,s[h]=v):f[v]=""}if(Array.isArray(r))for(p=0;p<a;p++)w(p,r[p]);else for(w(0,c),p=1;p<a;p++)w(p,c+(p+1));return f}ie.exports={moduleType:"component",name:"grid",schema:{layout:{grid:m}},layoutAttributes:m,sizeDefaults:function(r,n){var a=r.grid||{},s=l(n,a,"x"),c=l(n,a,"y");if(r.grid||s||c){var p,f,w=Array.isArray(a.subplots)&&Array.isArray(a.subplots[0]),v=Array.isArray(s),h=Array.isArray(c),_=v&&s!==a.xaxes&&h&&c!==a.yaxes;w?(p=a.subplots.length,f=a.subplots[0].length):(h&&(p=c.length),v&&(f=s.length));var x=T.newContainer(n,"grid"),b=P("rows",p),M=P("columns",f);if(b*M>1){w||v||h||"independent"===P("pattern")&&(w=!0),x._hasSubplotGrid=w;var d,E,k="top to bottom"===P("roworder"),L=w?.3:.1;_&&n._splomGridDflt&&(d=n._splomGridDflt.xside,E=n._splomGridDflt.yside),x._domains={x:t("x",P,w?.2:.1,d,M),y:t("y",P,L,E,b,k)}}else delete n.grid}function P(R,z){return C.coerce(a,x,m,R,z)}},contentDefaults:function(r,n){var a=n.grid;if(a&&a._domains){var s,c,p,f,w,v,h,_=r.grid||{},x=n._subplots,b=a._hasSubplotGrid,M=a.rows,d=a.columns,E="independent"===a.pattern,k=a._axisMap={};if(b){var I=_.subplots||[];v=a.subplots=new Array(M);var L=1;for(s=0;s<M;s++){var P=v[s]=new Array(d),R=I[s]||[];for(c=0;c<d;c++)if(E?(w=1===L?"xy":"x"+L+"y"+L,L++):w=R[c],P[c]="",-1!==x.cartesian.indexOf(w)){if(h=w.indexOf("y"),p=w.slice(0,h),f=w.slice(h),void 0!==k[p]&&k[p]!==c||void 0!==k[f]&&k[f]!==s)continue;P[c]=w,k[p]=c,k[f]=s}}}else{var z=l(n,_,"x"),$=l(n,_,"y");a.xaxes=o(z,x.xaxis,d,k,"x"),a.yaxes=o($,x.yaxis,M,k,"y")}var N=a._anchors={},W="top to bottom"===a.roworder;for(var H in k){var U,Z,Y,ae=H.charAt(0),re=a[ae+"side"];if(re.length<8)N[H]="free";else if("x"===ae){if("t"===re.charAt(0)===W?(U=0,Z=1,Y=M):(U=M-1,Z=-1,Y=-1),b){var Q=k[H];for(s=U;s!==Y;s+=Z)if((w=v[s][Q])&&(h=w.indexOf("y"),w.slice(0,h)===H)){N[H]=w.slice(h);break}}else for(s=U;s!==Y;s+=Z)if(-1!==x.cartesian.indexOf(H+(f=a.yaxes[s]))){N[H]=f;break}}else if("l"===re.charAt(0)?(U=0,Z=1,Y=d):(U=d-1,Z=-1,Y=-1),b){var K=k[H];for(s=U;s!==Y;s+=Z)if((w=v[K][s])&&(h=w.indexOf("y"),w.slice(h)===H)){N[H]=w.slice(0,h);break}}else for(s=U;s!==Y;s+=Z)if(-1!==x.cartesian.indexOf((p=a.xaxes[s])+H)){N[H]=p;break}}}}}},69819:function(ie,B,e){"use strict";var C=e(85555),S=e(44467).templatedArray;e(24695),ie.exports=S("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",C.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",C.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(ie,B,e){"use strict";var C=e(92770),S=e(58163);ie.exports=function(u,A,T,m){A=A||{};var l="log"===T&&"linear"===A.type;if(l||"linear"===T&&"log"===A.type)for(var o,r,n=u._fullLayout.images,a=A._id.charAt(0),s=0;s<n.length;s++)if(r="images["+s+"].",(o=n[s])[a+"ref"]===A._id){var c=o[a],p=o["size"+a],f=null,w=null;if(l){f=S(c,A.range);var v=p/Math.pow(10,f)/2;w=2*Math.log(v+Math.sqrt(1+v*v))/Math.LN10}else w=(f=Math.pow(10,c))*(Math.pow(10,p/2)-Math.pow(10,-p/2));C(f)?C(w)||(w=null):(f=null,w=null),m(r+a,f),m(r+"size"+a,w)}}},81603:function(ie,B,e){"use strict";var C=e(71828),S=e(89298),u=e(85501),A=e(69819);function T(m,l,t){function o(f,w){return C.coerce(m,l,A,f,w)}var r=o("source");if(!o("visible",!!r))return l;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var n={_fullLayout:t},a=["x","y"],s=0;s<2;s++){var c=a[s],p=S.coerceRef(m,l,n,c,"paper",void 0);"paper"!==p&&S.getFromId(n,p)._imgIndices.push(l._index),S.coercePosition(l,n,o,p,c,0)}return l}ie.exports=function(m,l){u(m,l,{name:"images",handleItemDefaults:T})}},80750:function(ie,B,e){"use strict";var C=e(39898),S=e(91424),u=e(89298),A=e(41675),T=e(77922);ie.exports=function(m){var l,t,o=m._fullLayout,r=[],n={},a=[];for(t=0;t<o.images.length;t++){var s=o.images[t];if(s.visible)if("below"===s.layer&&"paper"!==s.xref&&"paper"!==s.yref){l=A.ref2id(s.xref)+A.ref2id(s.yref);var c=o._plots[l];if(!c){a.push(s);continue}c.mainplot&&(l=c.mainplot.id),n[l]||(n[l]=[]),n[l].push(s)}else"above"===s.layer?r.push(s):a.push(s)}var p={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},f={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function w(d){var E=C.select(this);if(this._imgSrc!==d.source)if(E.attr("xmlns",T.svg),d.source&&"data:"===d.source.slice(0,5))E.attr("xlink:href",d.source),this._imgSrc=d.source;else{var k=new Promise(function(I){var L=new Image;function P(){E.remove(),I()}this.img=L,L.setAttribute("crossOrigin","anonymous"),L.onerror=P,L.onload=function(){var R=document.createElement("canvas");R.width=this.width,R.height=this.height,R.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var z=R.toDataURL("image/png");E.attr("xlink:href",z),I()},E.on("error",P),L.src=d.source,this._imgSrc=d.source}.bind(this));m._promises.push(k)}}function v(d){var E,k,I=C.select(this),L=u.getFromId(m,d.xref),P=u.getFromId(m,d.yref),R="domain"===u.getRefType(d.xref),z="domain"===u.getRefType(d.yref),$=o._size;E=void 0!==L?"string"==typeof d.xref&&R?L._length*d.sizex:Math.abs(L.l2p(d.sizex)-L.l2p(0)):d.sizex*$.w,k=void 0!==P?"string"==typeof d.yref&&z?P._length*d.sizey:Math.abs(P.l2p(d.sizey)-P.l2p(0)):d.sizey*$.h;var N,W,H=E*p[d.xanchor].offset,U=k*f[d.yanchor].offset,Z=p[d.xanchor].sizing+f[d.yanchor].sizing;switch(N=void 0!==L?"string"==typeof d.xref&&R?L._length*d.x+L._offset:L.r2p(d.x)+L._offset:d.x*$.w+$.l,N+=H,W=void 0!==P?"string"==typeof d.yref&&z?P._length*(1-d.y)+P._offset:P.r2p(d.y)+P._offset:$.h-d.y*$.h+$.t,W+=U,d.sizing){case"fill":Z+=" slice";break;case"stretch":Z="none"}I.attr({x:N,y:W,width:E,height:k,preserveAspectRatio:Z,opacity:d.opacity});var Y=(L&&"domain"!==u.getRefType(d.xref)?L._id:"")+(P&&"domain"!==u.getRefType(d.yref)?P._id:"");S.setClipUrl(I,Y?"clip"+o._uid+Y:null,m)}var h=o._imageLowerLayer.selectAll("image").data(a),_=o._imageUpperLayer.selectAll("image").data(r);h.enter().append("image"),_.enter().append("image"),h.exit().remove(),_.exit().remove(),h.each(function(d){w.bind(this)(d),v.bind(this)(d)}),_.each(function(d){w.bind(this)(d),v.bind(this)(d)});var x=Object.keys(o._plots);for(t=0;t<x.length;t++){var b=o._plots[l=x[t]];if(b.imagelayer){var M=b.imagelayer.selectAll("image").data(n[l]||[]);M.enter().append("image"),M.exit().remove(),M.each(function(d){w.bind(this)(d),v.bind(this)(d)})}}}},68804:function(ie,B,e){"use strict";ie.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(ie,B,e){"use strict";var C=e(41940),S=e(22399);ie.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:S.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:C({editType:"legend"}),grouptitlefont:C({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:C({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(ie){"use strict";ie.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(ie,B,e){"use strict";var C=e(73972),S=e(71828),u=e(44467),A=e(9012),T=e(33030),m=e(10820),l=e(10130);function t(o,r,n,a){var s=r[o]||{},c=u.newContainer(n,o);function p(W,H){return S.coerce(s,c,T,W,H)}var f=S.coerceFont(p,"font",n.font);if(p("bgcolor",n.paper_bgcolor),p("bordercolor"),p("visible")){for(var w,v=function(W,H){return S.coerce(w._input,w,A,W,H)},h=n.font||{},_=S.coerceFont(p,"grouptitlefont",S.extendFlat({},h,{size:Math.round(1.1*h.size)})),x=0,b=!1,M="normal",d=0;d<a.length;d++)(w=a[d]).visible&&((w.showlegend||w._dfltShowLegend&&!(w._module&&w._module.attributes&&w._module.attributes.showlegend&&!1===w._module.attributes.showlegend.dflt))&&(x++,w.showlegend&&(b=!0,(C.traceIs(w,"pie-like")||!0===w._input.showlegend)&&x++),S.coerceFont(v,"legendgrouptitle.font",_)),(C.traceIs(w,"bar")&&"stack"===n.barmode||-1!==["tonextx","tonexty"].indexOf(w.fill))&&(M=l.isGrouped({traceorder:M})?"grouped+reversed":"reversed"),void 0!==w.legendgroup&&""!==w.legendgroup&&(M=l.isReversed({traceorder:M})?"reversed+grouped":"grouped"));var E=S.coerce(r,n,m,"showlegend",b&&x>1);if(!1===E&&(n.legend=void 0),(!1!==E||s.uirevision)&&(p("uirevision",n.uirevision),!1!==E)){p("borderwidth");var k,I,L,P="h"===p("orientation"),R="paper"===p("yref"),z="paper"===p("xref"),$="left";if(P?(k=0,C.getComponentMethod("rangeslider","isVisible")(r.xaxis)?R?(I=1.1,L="bottom"):(I=1,L="top"):R?(I=-.1,L="top"):(I=0,L="bottom")):(I=1,L="auto",z?k=1.02:(k=1,$="right")),S.coerce(s,c,{x:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:k}},"x"),S.coerce(s,c,{y:{valType:"number",editType:"legend",min:R?-2:0,max:R?3:1,dflt:I}},"y"),p("traceorder",M),l.isGrouped(n.legend)&&p("tracegroupgap"),p("entrywidth"),p("entrywidthmode"),p("itemsizing"),p("itemwidth"),p("itemclick"),p("itemdoubleclick"),p("groupclick"),p("xanchor",$),p("yanchor",L),p("valign"),S.noneOrAll(s,c,["x","y"]),p("title.text")){p("title.side",P?"left":"top");var N=S.extendFlat({},f,{size:S.bigFont(f.size)});S.coerceFont(p,"title.font",N)}}}}ie.exports=function(o,r,n){var a,s=["legend"];for(a=0;a<n.length;a++)S.pushUnique(s,n[a].legend);for(r._legends=[],a=0;a<s.length;a++){var c=s[a];t(c,o,r,n),r[c]&&r[c].visible&&(r[c]._id=c),r._legends.push(c)}}},43969:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(74875),A=e(73972),T=e(11086),m=e(28569),l=e(91424),t=e(7901),o=e(63893),r=e(85167),n=e(14928),a=e(18783),s=a.LINE_SPACING,c=a.FROM_TL,p=a.FROM_BR,f=e(82424),w=e(53630),v=e(10130),h=1,_=/^legend[0-9]*$/;function x(z,$){var N,W,H=$||{},U=z._fullLayout,Z=R(H),Y=H._inHover;if(Y?(W=H.layer,N="hover"):(W=U._infolayer,N=Z),W){var ae;if(N+=U._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0),Y){if(!H.entries)return;ae=f(H.entries,H)}else{if(!z.calcdata)return;ae=U.showlegend&&f(z.calcdata,H,U._legends.length>1)}var re=U.hiddenlabels||[];if(!(Y||U.showlegend&&ae.length))return W.selectAll("."+Z).remove(),U._topdefs.select("#"+N).remove(),u.autoMargin(z,Z);var Q=S.ensureSingle(W,"g",Z,function(Pe){Y||Pe.attr("pointer-events","all")}),K=S.ensureSingleById(U._topdefs,"clipPath",N,function(Pe){Pe.append("rect")}),te=S.ensureSingle(Q,"rect","bg",function(Pe){Pe.attr("shape-rendering","crispEdges")});te.call(t.stroke,H.bordercolor).call(t.fill,H.bgcolor).style("stroke-width",H.borderwidth+"px");var oe=S.ensureSingle(Q,"g","scrollbox"),ue=H.title;if(H._titleWidth=0,H._titleHeight=0,ue.text){var fe=S.ensureSingle(oe,"text",Z+"titletext");fe.attr("text-anchor","start").call(l.font,ue.font).text(ue.text),I(fe,oe,z,H,h)}else oe.selectAll("."+Z+"titletext").remove();var he=S.ensureSingle(Q,"rect","scrollbar",function(Pe){Pe.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),me=oe.selectAll("g.groups").data(ae);me.enter().append("g").attr("class","groups"),me.exit().remove();var ke=me.selectAll("g.traces").data(S.identity);ke.enter().append("g").attr("class","traces"),ke.exit().remove(),ke.style("opacity",function(Pe){var Te=Pe[0].trace;return A.traceIs(Te,"pie-like")?-1!==re.indexOf(Pe[0].label)?.5:1:"legendonly"===Te.visible?.5:1}).each(function(){C.select(this).call(d,z,H)}).call(w,z,H).each(function(){Y||C.select(this).call(k,z,Z)}),S.syncOrAsync([u.previousPromises,function(){return function(Pe,Te,be,xe){var Ne=Pe._fullLayout,Se=R(xe);xe||(xe=Ne[Se]);var Ce=Ne._size,pe=v.isVertical(xe),de=v.isGrouped(xe),se="fraction"===xe.entrywidthmode,we=xe.borderwidth,Re=2*we,Ee=n.itemGap,Ue=xe.itemwidth+2*Ee,$e=2*(we+Ee),ve=P(xe),Ie=xe.y<0||0===xe.y&&"top"===ve,De=xe.y>1||1===xe.y&&"bottom"===ve,ze=xe.tracegroupgap,Ge={};xe._maxHeight=Math.max(Ie||De?Ne.height/2:Ce.h,30);var He=0;xe._width=0,xe._height=0;var je,Ve,ut,ct,Ke=(Ve=0,ut=0,(ct=(je=xe).title.side)&&(-1!==ct.indexOf("left")&&(Ve=je._titleWidth),-1!==ct.indexOf("top")&&(ut=je._titleHeight)),[Ve,ut]);if(pe)be.each(function(je){var Ve=je[0].height;l.setTranslate(this,we+Ke[0],we+Ke[1]+xe._height+Ve/2+Ee),xe._height+=Ve,xe._width=Math.max(xe._width,je[0].width)}),He=Ue+xe._width,xe._width+=Ee+Ue+Re,xe._height+=$e,de&&(Te.each(function(je,Ve){l.setTranslate(this,0,Ve*xe.tracegroupgap)}),xe._height+=(xe._lgroupsLength-1)*xe.tracegroupgap);else{var et=L(xe),at=De||Ie,kt=Ne.width/2;xe._maxWidth=Math.max(xe.x<0||0===xe.x&&"right"===et?at&&"left"===et?Ce.l+Ce.w:kt:xe.x>1||1===xe.x&&"left"===et?at&&"right"===et?Ce.r+Ce.w:kt:Ce.w,2*Ue);var St=0,gt=0;be.each(function(je){var Ve=b(je,xe,Ue);St=Math.max(St,Ve),gt+=Ve}),He=null;var dt=0;if(de){var Ct=0,Ot=0,Pt=0;Te.each(function(){var je=0,Ve=0;C.select(this).selectAll("g.traces").each(function(ct){var Tt=b(ct,xe,Ue),Mt=ct[0].height;l.setTranslate(this,Ke[0],Ke[1]+we+Ee+Mt/2+Ve),Ve+=Mt,je=Math.max(je,Tt),Ge[ct[0].trace.legendgroup]=je});var ut=je+Ee;Ot>0&&ut+we+Ot>xe._maxWidth?(dt=Math.max(dt,Ot),Ot=0,Pt+=Ct+ze,Ct=Ve):Ct=Math.max(Ct,Ve),l.setTranslate(this,Ot,Pt),Ot+=ut}),xe._width=Math.max(dt,Ot)+we,xe._height=Pt+Ct+$e}else{var Ht=be.size(),jt=gt+Re+(Ht-1)*Ee<xe._maxWidth,nt=0,it=0,Xe=0,rt=0;be.each(function(je){var Ve=je[0].height,ut=b(je,xe,Ue),ct=jt?ut:St;se||(ct+=Ee),ct+we+it-Ee>=xe._maxWidth&&(dt=Math.max(dt,rt),it=0,Xe+=nt,xe._height+=nt,nt=0),l.setTranslate(this,Ke[0]+we+it,Ke[1]+we+Xe+Ve/2+Ee),rt=it+ut+Ee,it+=ct,nt=Math.max(nt,Ve)}),jt?(xe._width=it+Re,xe._height=nt+$e):(xe._width=Math.max(dt,rt)+Re,xe._height+=nt+$e)}}xe._width=Math.ceil(Math.max(xe._width+Ke[0],xe._titleWidth+2*(we+n.titlePad))),xe._height=Math.ceil(Math.max(xe._height+Ke[1],xe._titleHeight+2*(we+n.itemGap))),xe._effHeight=Math.min(xe._height,xe._maxHeight);var ft=Pe._context.edits,vt=ft.legendText||ft.legendPosition;be.each(function(je){var Ve=C.select(this).select("."+Se+"toggle"),ut=je[0].height,ct=je[0].trace.legendgroup,Tt=b(je,xe,Ue);de&&""!==ct&&(Tt=Ge[ct]);var Mt=vt?Ue:He||Tt;pe||se||(Mt+=Ee/2),l.setRect(Ve,0,-ut/2,Mt,ut)})}(z,me,ke,H)},function(){var Pe,Te,be,xe,Ne=U._size,Se=H.borderwidth,Ce="paper"===H.xref,pe="paper"===H.yref;if(!Y){var de,se;if(de=Ce?Ne.l+Ne.w*H.x-c[L(H)]*H._width:U.width*H.x-c[L(H)]*H._width,se=pe?Ne.t+Ne.h*(1-H.y)-c[P(H)]*H._effHeight:U.height*(1-H.y)-c[P(H)]*H._effHeight,function(at,kt,St,gt){var dt=at._fullLayout,Ct=dt[kt],Ot=L(Ct),Pt=P(Ct),Ht="paper"===Ct.xref,jt="paper"===Ct.yref;at._fullLayout._reservedMargin[kt]={};var nt=Ct.y<.5?"b":"t",it=Ct.x<.5?"l":"r",Xe={r:dt.width-St,l:St+Ct._width,b:dt.height-gt,t:gt+Ct._effHeight};if(Ht&&jt)return u.autoMargin(at,kt,{x:Ct.x,y:Ct.y,l:Ct._width*c[Ot],r:Ct._width*p[Ot],b:Ct._effHeight*p[Pt],t:Ct._effHeight*c[Pt]});Ht?at._fullLayout._reservedMargin[kt][nt]=Xe[nt]:jt||"v"===Ct.orientation?at._fullLayout._reservedMargin[kt][it]=Xe[it]:at._fullLayout._reservedMargin[kt][nt]=Xe[nt]}(z,Z,de,se))return;if(U.margin.autoexpand){var Re=de,Ee=se;de=Ce?S.constrain(de,0,U.width-H._width):Re,se=pe?S.constrain(se,0,U.height-H._effHeight):Ee,de!==Re&&S.log("Constrain "+Z+".x to make legend fit inside graph"),se!==Ee&&S.log("Constrain "+Z+".y to make legend fit inside graph")}l.setTranslate(Q,de,se)}if(he.on(".drag",null),Q.on("wheel",null),Y||H._height<=H._maxHeight||z._context.staticPlot){var Ue=H._effHeight;Y&&(Ue=H._height),te.attr({width:H._width-Se,height:Ue-Se,x:Se/2,y:Se/2}),l.setTranslate(oe,0,0),K.select("rect").attr({width:H._width-2*Se,height:Ue-2*Se,x:Se,y:Se}),l.setClipUrl(oe,N,z),l.setRect(he,0,0,0,0),delete H._scrollY}else{var $e,Ie,De=Math.max(n.scrollBarMinHeight,H._effHeight*H._effHeight/H._height),ze=H._effHeight-De-2*n.scrollBarMargin,Ge=H._height-H._effHeight,He=ze/Ge,Ke=Math.min(H._scrollY||0,Ge);te.attr({width:H._width-2*Se+n.scrollBarWidth+n.scrollBarMargin,height:H._effHeight-Se,x:Se/2,y:Se/2}),K.select("rect").attr({width:H._width-2*Se+n.scrollBarWidth+n.scrollBarMargin,height:H._effHeight-2*Se,x:Se,y:Se+Ke}),l.setClipUrl(oe,N,z),mt(Ke,De,He),Q.on("wheel",function(){mt(Ke=S.constrain(H._scrollY+C.event.deltaY/ze*Ge,0,Ge),De,He),0!==Ke&&Ke!==Ge&&C.event.preventDefault()});var et=C.behavior.drag().on("dragstart",function(){var at=C.event.sourceEvent;$e="touchstart"===at.type?at.changedTouches[0].clientY:at.clientY,Ie=Ke}).on("drag",function(){var at=C.event.sourceEvent;2===at.buttons||at.ctrlKey||mt(Ke=S.constrain((("touchmove"===at.type?at.changedTouches[0].clientY:at.clientY)-$e)/He+Ie,0,Ge),De,He)});he.call(et);var st=C.behavior.drag().on("dragstart",function(){var at=C.event.sourceEvent;"touchstart"===at.type&&($e=at.changedTouches[0].clientY,Ie=Ke)}).on("drag",function(){var at=C.event.sourceEvent;"touchmove"===at.type&&mt(Ke=S.constrain(($e-at.changedTouches[0].clientY)/He+Ie,0,Ge),De,He)});oe.call(st)}function mt(at,kt,St){H._scrollY=z._fullLayout[Z]._scrollY=at,l.setTranslate(oe,0,-at),l.setRect(he,H._width,n.scrollBarMargin+at*St,n.scrollBarWidth,kt),K.select("rect").attr("y",Se+at)}z._context.edits.legendPosition&&(Q.classed("cursor-move",!0),m.init({element:Q.node(),gd:z,prepFn:function(){var at=l.getTranslate(Q);be=at.x,xe=at.y},moveFn:function(at,kt){var St=be+at,gt=xe+kt;l.setTranslate(Q,St,gt),Pe=m.align(St,H._width,Ne.l,Ne.l+Ne.w,H.xanchor),Te=m.align(gt+H._height,-H._height,Ne.t+Ne.h,Ne.t,H.yanchor)},doneFn:function(){if(void 0!==Pe&&void 0!==Te){var at={};at[Z+".x"]=Pe,at[Z+".y"]=Te,A.call("_guiRelayout",z,at)}},clickFn:function(at,kt){var St=W.selectAll("g.traces").filter(function(){var gt=this.getBoundingClientRect();return kt.clientX>=gt.left&&kt.clientX<=gt.right&&kt.clientY>=gt.top&&kt.clientY<=gt.bottom});St.size()>0&&M(z,Q,St,at,kt)}}))}],z)}}function b(z,$,N){var W=z[0],Z=W.trace.legendwidth||$.entrywidth;return"fraction"===$.entrywidthmode?$._maxWidth*Z:N+(Z||W.width)}function M(z,$,N,W,H){var U=N.data()[0][0].trace,Z={event:H,node:N.node(),curveNumber:U.index,expandedIndex:U._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};U._group&&(Z.group=U._group),A.traceIs(U,"pie-like")&&(Z.label=N.datum()[0].label),!1!==T.triggerHandler(z,"plotly_legendclick",Z)&&(1===W?$._clickTimeout=setTimeout(function(){z._fullLayout&&r(N,z,W)},z._context.doubleClickDelay):2===W&&($._clickTimeout&&clearTimeout($._clickTimeout),z._legendMouseDownTime=0,!1!==T.triggerHandler(z,"plotly_legenddoubleclick",Z)&&r(N,z,W)))}function d(z,$,N){var W,H,U=R(N),Z=z.data()[0][0],Y=Z.trace,ae=A.traceIs(Y,"pie-like"),re=!N._inHover&&$._context.edits.legendText&&!ae,Q=N._maxNameLength;Z.groupTitle?(W=Z.groupTitle.text,H=Z.groupTitle.font):(H=N.font,N.entries?W=Z.text:(W=ae?Z.label:Y.name,Y._meta&&(W=S.templateString(W,Y._meta))));var K=S.ensureSingle(z,"text",U+"text");K.attr("text-anchor","start").call(l.font,H).text(re?E(W,Q):W),o.positionText(K,N.itemwidth+2*n.itemGap,0),re?K.call(o.makeEditable,{gd:$,text:W}).call(I,z,$,N).on("edit",function(oe){this.text(E(oe,Q)).call(I,z,$,N);var ue=Z.trace._fullInput||{},fe={};if(A.hasTransform(ue,"groupby")){var he=A.getTransformIndices(ue,"groupby"),ke=S.keyedContainer(ue,"transforms["+he[he.length-1]+"].styles","target","value.name");ke.set(Z.trace._group,oe),fe=ke.constructUpdate()}else fe.name=oe;return A.call("_guiRestyle",$,fe,Y.index)}):I(K,z,$,N)}function E(z,$){var N=Math.max(4,$);if(z&&z.trim().length>=N/2)return z;for(var W=N-(z=z||"").length;W>0;W--)z+=" ";return z}function k(z,$,N){var W,H=$._context.doubleClickDelay,U=1,Z=S.ensureSingle(z,"rect",N+"toggle",function(Y){$._context.staticPlot||Y.style("cursor","pointer").attr("pointer-events","all"),Y.call(t.fill,"rgba(0,0,0,0)")});$._context.staticPlot||(Z.on("mousedown",function(){(W=(new Date).getTime())-$._legendMouseDownTime<H?U+=1:(U=1,$._legendMouseDownTime=W)}),Z.on("mouseup",function(){if(!$._dragged&&!$._editing){var Y=$._fullLayout[N];(new Date).getTime()-$._legendMouseDownTime>H&&(U=Math.max(U-1,1)),M($,Y,z,U,C.event)}}))}function I(z,$,N,W,H){W._inHover&&z.attr("data-notex",!0),o.convertToTspans(z,N,function(){!function(U,Z,Y,ae){var re=U.data()[0][0];if(Y._inHover||!re||re.trace.showlegend){var Q=U.select("g[class*=math-group]"),K=Q.node(),te=R(Y);Y||(Y=Z._fullLayout[te]);var oe,ue,fe=Y.borderwidth,he=(ae===h?Y.title.font:re.groupTitle?re.groupTitle.font:Y.font).size*s;if(K){var me=l.bBox(K);oe=me.height,ue=me.width,ae===h?l.setTranslate(Q,fe,fe+.75*oe):l.setTranslate(Q,0,.25*oe)}else{var Pe=U.select("."+te+(ae===h?"title":"")+"text"),Te=o.lineCount(Pe),be=Pe.node();if(oe=he*Te,ue=be?l.bBox(be).width:0,ae===h)"left"===Y.title.side&&(ue+=2*n.itemGap),o.positionText(Pe,fe+n.titlePad,fe+he);else{var xe=2*n.itemGap+Y.itemwidth;re.groupTitle&&(xe=n.itemGap,ue-=Y.itemwidth),o.positionText(Pe,xe,-he*((Te-1)/2-.3))}}ae===h?(Y._titleWidth=ue,Y._titleHeight=oe):(re.lineHeight=he,re.height=Math.max(oe,16)+3,re.width=ue)}else U.remove()}($,N,W,H)})}function L(z){return S.isRightAnchor(z)?"right":S.isCenterAnchor(z)?"center":"left"}function P(z){return S.isBottomAnchor(z)?"bottom":S.isMiddleAnchor(z)?"middle":"top"}function R(z){return z._id||"legend"}ie.exports=function(z,$){if($)x(z,$);else{var N=z._fullLayout,W=N._legends;N._infolayer.selectAll('[class^="legend"]').each(function(){var Z=C.select(this),Y=Z.attr("class").split(" ")[0];Y.match(_)&&-1===W.indexOf(Y)&&Z.remove()});for(var H=0;H<W.length;H++)x(z,z._fullLayout[W[H]])}}},82424:function(ie,B,e){"use strict";var C=e(73972),S=e(10130);ie.exports=function(u,A,T){var m,l,t=A._inHover,o=S.isGrouped(A),r=S.isReversed(A),n={},a=[],s=!1,c={},p=0,f=0;function w(W,H,U){if(!1!==A.visible&&(!T||W===A._id))if(""!==H&&S.isGrouped(A))-1===a.indexOf(H)?(a.push(H),s=!0,n[H]=[U]):n[H].push(U);else{var Z="~~i"+p;a.push(Z),n[Z]=[U],p++}}for(m=0;m<u.length;m++){var v=u[m],h=v[0],_=h.trace,x=_.legend,b=_.legendgroup;if(t||_.visible&&_.showlegend)if(C.traceIs(_,"pie-like"))for(c[b]||(c[b]={}),l=0;l<v.length;l++){var M=v[l].label;c[b][M]||(w(x,b,{label:M,color:v[l].color,i:v[l].i,trace:_,pts:v[l].pts}),c[b][M]=!0,f=Math.max(f,(M||"").length))}else w(x,b,h),f=Math.max(f,(_.name||"").length)}if(!a.length)return[];var d=!s||!o,E=[];for(m=0;m<a.length;m++){var k=n[a[m]];E.push(d?k[0]:k)}for(d&&(E=[E]),m=0;m<E.length;m++){var I=1/0;for(l=0;l<E[m].length;l++){var L=E[m][l].trace.legendrank;I>L&&(I=L)}E[m][0]._groupMinRank=I,E[m][0]._preGroupSort=m}var P=function(W,H){return W.trace.legendrank-H.trace.legendrank||W._preSort-H._preSort};for(E.forEach(function(W,H){W[0]._preGroupSort=H}),E.sort(function(W,H){return W[0]._groupMinRank-H[0]._groupMinRank||W[0]._preGroupSort-H[0]._preGroupSort}),m=0;m<E.length;m++){E[m].forEach(function(W,H){W._preSort=H}),E[m].sort(P);var R=E[m][0].trace,z=null;for(l=0;l<E[m].length;l++){var $=E[m][l].trace.legendgrouptitle;if($&&$.text){z=$,t&&($.font=A._groupTitleFont);break}}if(r&&E[m].reverse(),z){var N=!1;for(l=0;l<E[m].length;l++)if(C.traceIs(E[m][l].trace,"pie-like")){N=!0;break}E[m].unshift({i:-1,groupTitle:z,noClick:N,trace:{showlegend:R.showlegend,legendgroup:R.legendgroup,visible:"toggleitem"===A.groupclick||R.visible}})}for(l=0;l<E[m].length;l++)E[m][l]=[E[m][l]]}return A._lgroupsLength=E.length,A._maxNameLength=f,E}},85167:function(ie,B,e){"use strict";var C=e(71828),S=e(73972),u=!0;ie.exports=function(A,T,m){var l=T._fullLayout;if(!T._dragged&&!T._editing){var t,o=l.legend.itemclick,r=l.legend.itemdoubleclick,n=l.legend.groupclick;if(1===m&&"toggle"===o&&"toggleothers"===r&&u&&T.data&&T._context.showTips&&C.notifier(C._(T,"Double-click on legend to isolate one trace"),"long"),u=!1,1===m?t=o:2===m&&(t=r),t){var a="togglegroup"===n,s=l.hiddenlabels?l.hiddenlabels.slice():[],c=A.data()[0][0];if(!c.groupTitle||!c.noClick){var p,f,w,v,h,_=T._fullData,x=c.trace,b=x.legendgroup,M={},d=[],E=[],k=[];if(S.traceIs(x,"pie-like")){var I=c.label,L=s.indexOf(I);"toggle"===t?-1===L?s.push(I):s.splice(L,1):"toggleothers"===t&&(s=[],T.calcdata[0].forEach(function(K){I!==K.label&&s.push(K.label)}),T._fullLayout.hiddenlabels&&T._fullLayout.hiddenlabels.length===s.length&&-1===L&&(s=[])),S.call("_guiRelayout",T,"hiddenlabels",s)}else{var P,R=b&&b.length,z=[];if(R)for(p=0;p<_.length;p++)(P=_[p]).visible&&P.legendgroup===b&&z.push(p);if("toggle"===t){var $;switch(x.visible){case!0:$="legendonly";break;case!1:$=!1;break;case"legendonly":$=!0}if(R)if(a)for(p=0;p<_.length;p++)!1!==_[p].visible&&_[p].legendgroup===b&&Q(_[p],$);else Q(x,$);else Q(x,$)}else if("toggleothers"===t){var H,Z=!0;for(p=0;p<_.length;p++)if(H=!0!==_[p].showlegend,!(_[p]===x||H||R&&_[p].legendgroup===b||!0!==_[p].visible||S.traceIs(_[p],"notLegendIsolatable"))){Z=!1;break}for(p=0;p<_.length;p++)if(!1!==_[p].visible&&!S.traceIs(_[p],"notLegendIsolatable"))switch(x.visible){case"legendonly":Q(_[p],!0);break;case!0:H=!0!==_[p].showlegend&&!_[p].legendgroup,Q(_[p],!!(_[p]===x||R&&_[p].legendgroup===b||H)||!!Z||"legendonly")}}for(p=0;p<E.length;p++)if(w=E[p]){var Y=w.constructUpdate(),ae=Object.keys(Y);for(f=0;f<ae.length;f++)(M[v=ae[f]]=M[v]||[])[k[p]]=Y[v]}for(h=Object.keys(M),p=0;p<h.length;p++)for(v=h[p],f=0;f<d.length;f++)M[v].hasOwnProperty(f)||(M[v][f]=void 0);S.call("_guiRestyle",T,M,d)}}}}function re(K,te,oe){var ue=d.indexOf(K),fe=M[te];return fe||(fe=M[te]=[]),-1===d.indexOf(K)&&(d.push(K),ue=d.length-1),fe[ue]=oe,ue}function Q(K,te){if(!c.groupTitle||a){var oe=K._fullInput;if(S.hasTransform(oe,"groupby")){var ue=E[oe.index];if(!ue){var fe=S.getTransformIndices(oe,"groupby");ue=C.keyedContainer(oe,"transforms["+fe[fe.length-1]+"].styles","target","value.visible"),E[oe.index]=ue}var me=ue.get(K._group);void 0===me&&(me=!0),!1!==me&&ue.set(K._group,te),k[oe.index]=re(oe.index,"visible",!1!==oe.visible)}else re(oe.index,"visible",!1!==oe.visible&&te)}}}},10130:function(ie,B){"use strict";B.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},B.isVertical=function(e){return"h"!==e.orientation},B.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},2199:function(ie,B,e){"use strict";ie.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(ie,B,e){"use strict";var C=e(39898),S=e(73972),u=e(71828),A=u.strTranslate,T=e(91424),m=e(7901),l=e(52075).extractOpts,t=e(34098),o=e(63463),r=e(53581).castOption,n=e(14928);function a(p,f){return(f?"radial":"horizontal")+(p?"":"reversed")}function s(p){var f=p[0].trace,w=f.contours,v=t.hasLines(f),h=t.hasMarkers(f),_=f.visible&&f.fill&&"none"!==f.fill,x=!1,b=!1;if(w){var M=w.coloring;"lines"===M?x=!0:v="none"===M||"heatmap"===M||w.showlines,"constraint"===w.type?_="="!==w._operation:"fill"!==M&&"heatmap"!==M||(b=!0)}return{showMarker:h,showLine:v,showFill:_,showGradientLine:x,showGradientFill:b,anyLine:v||x,anyFill:_||b}}function c(p,f,w){return p&&u.isArrayOrTypedArray(p)?f:p>w?w:p}ie.exports=function(p,f,w){w||(w=f._fullLayout.legend);var h="constant"===w.itemsizing,_=w.itemwidth,b=A((_+2*n.itemGap)/2,0),M=function(k,I,L,P){var R;if(k+1)R=k;else{if(!(I&&I.width>0))return 0;R=I.width}return h?P:Math.min(R,L)};function d(k,I,L){var P=k[0].trace,R=P.marker||{},z=R.line||{},$=L?P.visible&&P.type===L:S.traceIs(P,"bar"),N=C.select(I).select("g.legendpoints").selectAll("path.legend"+L).data($?[k]:[]);N.enter().append("path").classed("legend"+L,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),N.exit().remove(),N.each(function(W){var H=C.select(this),U=W[0],Z=M(U.mlw,R.line,5,2);H.style("stroke-width",Z+"px");var Y=U.mcc;if(!w._inHover&&"mc"in U){var ae=l(R),re=ae.mid;void 0===re&&(re=(ae.max+ae.min)/2),Y=T.tryColorscale(R,"")(re)}var Q=Y||U.mc||R.color,K=R.pattern,te=K&&T.getPatternAttr(K.shape,0,"");if(te){var oe=T.getPatternAttr(K.bgcolor,0,null),ue=T.getPatternAttr(K.fgcolor,0,null),fe=K.fgopacity,he=c(K.size,8,10),me=c(K.solidity,.5,1);H.call(T.pattern,"legend",f,"legend-"+P.uid,te,he,me,Y,K.fillmode,oe,ue,fe)}else H.call(m.fill,Q);Z&&m.stroke(H,U.mlc||z.color)})}function E(k,I,L){var P=k[0],R=P.trace,z=L?R.visible&&R.type===L:S.traceIs(R,L),$=C.select(I).select("g.legendpoints").selectAll("path.legend"+L).data(z?[k]:[]);if($.enter().append("path").classed("legend"+L,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),$.exit().remove(),$.size()){var N=R.marker||{},W=M(r(N.line.width,P.pts),N.line,5,2),H="pieLike",U=u.minExtend(R,{marker:{line:{width:W}}},H),Z=u.minExtend(P,{trace:U},H);o($,Z,U,f)}}p.each(function(k){var I=C.select(this),L=u.ensureSingle(I,"g","layers");L.style("opacity",k[0].trace.opacity);var P=w.valign,R=k[0].lineHeight,z=k[0].height;L.attr("transform","middle"!==P&&R&&z?A(0,{top:1,bottom:-1}[P]*(.5*(R-z+3))):null),L.selectAll("g.legendfill").data([k]).enter().append("g").classed("legendfill",!0),L.selectAll("g.legendlines").data([k]).enter().append("g").classed("legendlines",!0);var N=L.selectAll("g.legendsymbols").data([k]);N.enter().append("g").classed("legendsymbols",!0),N.selectAll("g.legendpoints").data([k]).enter().append("g").classed("legendpoints",!0)}).each(function(k){var I,L=k[0].trace,P=[];if(L.visible)switch(L.type){case"histogram2d":case"heatmap":P=[["M-15,-2V4H15V-2Z"]],I=!0;break;case"choropleth":case"choroplethmapbox":P=[["M-6,-6V6H6V-6Z"]],I=!0;break;case"densitymapbox":P=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],I="radial";break;case"cone":P=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],I=!1;break;case"streamtube":P=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],I=!1;break;case"surface":P=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],I=!0;break;case"mesh3d":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],I=!1;break;case"volume":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],I=!0;break;case"isosurface":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],I=!1}var R=C.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(P);R.enter().append("path").classed("legend3dandfriends",!0).attr("transform",b).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(z,$){var N,W=C.select(this),H=l(L),U=H.colorscale,Z=H.reversescale;if(U){if(!I){var Y=U.length;N=0===$?U[Z?Y-1:0][1]:1===$?U[Z?0:Y-1][1]:U[Math.floor((Y-1)/2)][1]}}else{var ae=L.vertexcolor||L.facecolor||L.color;N=u.isArrayOrTypedArray(ae)?ae[$]||ae[0]:ae}W.attr("d",z[0]),N?W.call(m.fill,N):W.call(function(re){re.size()&&T.gradient(re,f,"legendfill-"+L.uid,a(Z,"radial"===I),U,"fill")})})}).each(function(k){var I=k[0].trace,L="waterfall"===I.type;if(k[0]._distinct&&L){var P=k[0].trace[k[0].dir].marker;return k[0].mc=P.color,k[0].mlw=P.line.width,k[0].mlc=P.line.color,d(k,this,"waterfall")}var R=[];I.visible&&L&&(R=k[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var z=C.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(R);z.enter().append("path").classed("legendwaterfall",!0).attr("transform",b).style("stroke-miterlimit",1),z.exit().remove(),z.each(function($){var N=C.select(this),W=I[$[0]].marker,H=M(void 0,W.line,5,2);N.attr("d",$[1]).style("stroke-width",H+"px").call(m.fill,W.color),H&&N.call(m.stroke,W.line.color)})}).each(function(k){d(k,this,"funnel")}).each(function(k){d(k,this)}).each(function(k){var I=k[0].trace,L=C.select(this).select("g.legendpoints").selectAll("path.legendbox").data(I.visible&&S.traceIs(I,"box-violin")?[k]:[]);L.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),L.exit().remove(),L.each(function(){var P=C.select(this);if("all"!==I.boxpoints&&"all"!==I.points||0!==m.opacity(I.fillcolor)||0!==m.opacity((I.line||{}).color)){var R=M(void 0,I.line,5,2);P.style("stroke-width",R+"px").call(m.fill,I.fillcolor),R&&m.stroke(P,I.line.color)}else{var z=u.minExtend(I,{marker:{size:h?12:u.constrain(I.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});L.call(T.pointStyle,z,f)}})}).each(function(k){E(k,this,"funnelarea")}).each(function(k){E(k,this,"pie")}).each(function(k){var I,L,P=s(k),R=P.showFill,z=P.showLine,$=P.showGradientLine,N=P.showGradientFill,W=P.anyFill,H=P.anyLine,U=k[0],Z=U.trace,Y=l(Z),ae=Y.colorscale,re=Y.reversescale,Q=t.hasMarkers(Z)||!W?"M5,0":H?"M5,-2":"M5,-3",K=C.select(this),te=K.select(".legendfill").selectAll("path").data(R||N?[k]:[]);if(te.enter().append("path").classed("js-fill",!0),te.exit().remove(),te.attr("d",Q+"h"+_+"v6h-"+_+"z").call(function(fe){fe.size()&&(R?T.fillGroupStyle(fe,f):T.gradient(fe,f,"legendfill-"+Z.uid,a(re),ae,"fill"))}),z||$){var oe=M(void 0,Z.line,10,5);L=u.minExtend(Z,{line:{width:oe}}),I=[u.minExtend(U,{trace:L})]}var ue=K.select(".legendlines").selectAll("path").data(z||$?[I]:[]);ue.enter().append("path").classed("js-line",!0),ue.exit().remove(),ue.attr("d",Q+($?"l"+_+",0.0001":"h"+_)).call(z?T.lineGroupStyle:function(fe){if(fe.size()){var he="legendline-"+Z.uid;T.lineGroupStyle(fe),T.gradient(fe,f,he,a(re),ae,"stroke")}})}).each(function(k){var I,L,P=s(k),$=P.showLine,N=P.showMarker,W=k[0],H=W.trace,U=!N&&!P.anyLine&&!P.anyFill&&t.hasText(H);function Z(ue,fe,he,me){var ke=u.nestedProperty(H,ue).get(),Pe=u.isArrayOrTypedArray(ke)&&fe?fe(ke):ke;if(h&&Pe&&void 0!==me&&(Pe=me),he){if(Pe<he[0])return he[0];if(Pe>he[1])return he[1]}return Pe}function Y(ue){return W._distinct&&W.index&&ue[W.index]?ue[W.index]:ue[0]}if(N||U||$){var ae={},re={};if(N){ae.mc=Z("marker.color",Y),ae.mx=Z("marker.symbol",Y),ae.mo=Z("marker.opacity",u.mean,[.2,1]),ae.mlc=Z("marker.line.color",Y),ae.mlw=Z("marker.line.width",u.mean,[0,5],2),re.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Q=Z("marker.size",u.mean,[2,16],12);ae.ms=Q,re.marker.size=Q}$&&(re.line={width:Z("line.width",Y,[0,10],5)}),U&&(ae.tx="Aa",ae.tp=Z("textposition",Y),ae.ts=10,ae.tc=Z("textfont.color",Y),ae.tf=Z("textfont.family",Y)),I=[u.minExtend(W,ae)],(L=u.minExtend(H,re)).selectedpoints=null,L.texttemplate=null}var K=C.select(this).select("g.legendpoints"),te=K.selectAll("path.scatterpts").data(N?I:[]);te.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",b),te.exit().remove(),te.call(T.pointStyle,L,f),N&&(I[0].mrc=3);var oe=K.selectAll("g.pointtext").data(U?I:[]);oe.enter().append("g").classed("pointtext",!0).append("text").attr("transform",b),oe.exit().remove(),oe.selectAll("text").call(T.textPointStyle,L,f)}).each(function(k){var I=k[0].trace,L=C.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(I.visible&&"candlestick"===I.type?[k,k]:[]);L.enter().append("path").classed("legendcandle",!0).attr("d",function(P,R){return R?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",b).style("stroke-miterlimit",1),L.exit().remove(),L.each(function(P,R){var z=C.select(this),$=I[R?"increasing":"decreasing"],N=M(void 0,$.line,5,2);z.style("stroke-width",N+"px").call(m.fill,$.fillcolor),N&&m.stroke(z,$.line.color)})}).each(function(k){var I=k[0].trace,L=C.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(I.visible&&"ohlc"===I.type?[k,k]:[]);L.enter().append("path").classed("legendohlc",!0).attr("d",function(P,R){return R?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",b).style("stroke-miterlimit",1),L.exit().remove(),L.each(function(P,R){var z=C.select(this),$=I[R?"increasing":"decreasing"],N=M(void 0,$.line,5,2);z.style("fill","none").call(T.dashLine,$.line.dash,N),N&&m.stroke(z,$.line.color)})})}},42068:function(ie,B,e){"use strict";e(93348),ie.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(ie,B,e){"use strict";var C=e(73972),S=e(74875),u=e(41675),A=e(24255),T=e(34031).eraseActiveShape,m=e(71828),l=m._,t=ie.exports={};function o(v,h){var _,x,b=h.currentTarget,M=b.getAttribute("data-attr"),d=b.getAttribute("data-val")||!0,E=v._fullLayout,k={},I=u.list(v,null,!0),L=E._cartesianSpikesEnabled;if("zoom"===M){var P,R="in"===d?.5:2,z=(1+R)/2,$=(1-R)/2;for(x=0;x<I.length;x++)if(!(_=I[x]).fixedrange)if(P=_._name,"auto"===d)k[P+".autorange"]=!0;else if("reset"===d){if(void 0===_._rangeInitial)k[P+".autorange"]=!0;else{var N=_._rangeInitial.slice();k[P+".range[0]"]=N[0],k[P+".range[1]"]=N[1]}void 0!==_._showSpikeInitial&&(k[P+".showspikes"]=_._showSpikeInitial,"on"!==L||_._showSpikeInitial||(L="off"))}else{var W=[_.r2l(_.range[0]),_.r2l(_.range[1])],H=[z*W[0]+$*W[1],z*W[1]+$*W[0]];k[P+".range[0]"]=_.l2r(H[0]),k[P+".range[1]"]=_.l2r(H[1])}}else"hovermode"!==M||"x"!==d&&"y"!==d||b.setAttribute("data-val",d=E._isHoriz?"y":"x"),k[M]=d;E._cartesianSpikesEnabled=L,C.call("_guiRelayout",v,k)}function r(v,h){for(var _=h.currentTarget,x=_.getAttribute("data-attr"),b=_.getAttribute("data-val")||!0,M=v._fullLayout._subplots.gl3d||[],d={},E=x.split("."),k=0;k<M.length;k++)d[M[k]+"."+E[1]]=b;d.dragmode="pan"===b?b:"zoom",C.call("_guiRelayout",v,d)}function n(v,h){for(var _=h.currentTarget.getAttribute("data-attr"),x="resetLastSave"===_,b="resetDefault"===_,M=v._fullLayout,d=M._subplots.gl3d||[],E={},k=0;k<d.length;k++){var I,L=d[k],P=L+".camera",R=L+".aspectratio",z=L+".aspectmode",$=M[L]._scene;x?(E[P+".up"]=$.viewInitial.up,E[P+".eye"]=$.viewInitial.eye,E[P+".center"]=$.viewInitial.center,I=!0):b&&(E[P+".up"]=null,E[P+".eye"]=null,E[P+".center"]=null,I=!0),I&&(E[R+".x"]=$.viewInitial.aspectratio.x,E[R+".y"]=$.viewInitial.aspectratio.y,E[R+".z"]=$.viewInitial.aspectratio.z,E[z]=$.viewInitial.aspectmode)}C.call("_guiRelayout",v,E)}function a(v,h){var _=h.currentTarget,x=_._previousVal,b=v._fullLayout,M=b._subplots.gl3d||[],d=["xaxis","yaxis","zaxis"],E={},k={};if(x)k=x,_._previousVal=null;else{for(var I=0;I<M.length;I++){var L=M[I],P=b[L],R=L+".hovermode";E[R]=P.hovermode,k[R]=!1;for(var z=0;z<3;z++){var $=d[z],N=L+"."+$+".showspikes";k[N]=!1,E[N]=P[$].showspikes}}_._previousVal=E}return k}function s(v,h){for(var _=h.currentTarget,x=_.getAttribute("data-attr"),b=_.getAttribute("data-val")||!0,M=v._fullLayout,d=M._subplots.geo||[],E=0;E<d.length;E++){var k=d[E];if("zoom"===x){var L=M[k].projection.scale;C.call("_guiRelayout",v,k+".projection.scale","in"===b?2*L:.5*L)}}"reset"===x&&w(v,"geo")}function c(v){var h=v._fullLayout;return!h.hovermode&&(h._has("cartesian")?h._isHoriz?"y":"x":"closest")}function p(v){var h=c(v);C.call("_guiRelayout",v,"hovermode",h)}function f(v,h){for(var _=h.currentTarget.getAttribute("data-val"),x=v._fullLayout,b=x._subplots.mapbox||[],M={},d=0;d<b.length;d++){var E=b[d],k=x[E].zoom;M[E+".zoom"]="in"===_?1.05*k:k/1.05}C.call("_guiRelayout",v,M)}function w(v,h){for(var _=v._fullLayout,x=_._subplots[h]||[],b={},M=0;M<x.length;M++)for(var d=x[M],E=_[d]._subplot.viewInitial,k=Object.keys(E),I=0;I<k.length;I++){var L=k[I];b[d+"."+L]=E[L]}C.call("_guiRelayout",v,b)}t.toImage={name:"toImage",title:function(v){return l(v,"png"===((v._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:A.camera,click:function(v){var h=v._context.toImageButtonOptions,_={format:h.format||"png"};m.notifier(l(v,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==_.format&&m.isIE()&&(m.notifier(l(v,"IE only supports svg.  Changing format to svg."),"long"),_.format="svg"),["filename","width","height","scale"].forEach(function(x){x in h&&(_[x]=h[x])}),C.call("downloadImage",v,_).then(function(x){m.notifier(l(v,"Snapshot succeeded")+" - "+x,"long")}).catch(function(){m.notifier(l(v,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(v){return l(v,"Edit in Chart Studio")},icon:A.disk,click:function(v){S.sendDataToCloud(v)}},t.editInChartStudio={name:"editInChartStudio",title:function(v){return l(v,"Edit in Chart Studio")},icon:A.pencil,click:function(v){S.sendDataToCloud(v)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(v){return l(v,"Zoom")},attr:"dragmode",val:"zoom",icon:A.zoombox,click:o},t.pan2d={name:"pan2d",_cat:"pan",title:function(v){return l(v,"Pan")},attr:"dragmode",val:"pan",icon:A.pan,click:o},t.select2d={name:"select2d",_cat:"select",title:function(v){return l(v,"Box Select")},attr:"dragmode",val:"select",icon:A.selectbox,click:o},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(v){return l(v,"Lasso Select")},attr:"dragmode",val:"lasso",icon:A.lasso,click:o},t.drawclosedpath={name:"drawclosedpath",title:function(v){return l(v,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:A.drawclosedpath,click:o},t.drawopenpath={name:"drawopenpath",title:function(v){return l(v,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:A.drawopenpath,click:o},t.drawline={name:"drawline",title:function(v){return l(v,"Draw line")},attr:"dragmode",val:"drawline",icon:A.drawline,click:o},t.drawrect={name:"drawrect",title:function(v){return l(v,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:A.drawrect,click:o},t.drawcircle={name:"drawcircle",title:function(v){return l(v,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:A.drawcircle,click:o},t.eraseshape={name:"eraseshape",title:function(v){return l(v,"Erase active shape")},icon:A.eraseshape,click:T},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(v){return l(v,"Zoom in")},attr:"zoom",val:"in",icon:A.zoom_plus,click:o},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(v){return l(v,"Zoom out")},attr:"zoom",val:"out",icon:A.zoom_minus,click:o},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(v){return l(v,"Autoscale")},attr:"zoom",val:"auto",icon:A.autoscale,click:o},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(v){return l(v,"Reset axes")},attr:"zoom",val:"reset",icon:A.home,click:o},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(v){return l(v,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:A.tooltip_basic,gravity:"ne",click:o},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(v){return l(v,"Compare data on hover")},attr:"hovermode",val:function(v){return v._fullLayout._isHoriz?"y":"x"},icon:A.tooltip_compare,gravity:"ne",click:o},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(v){return l(v,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:A.zoombox,click:r},t.pan3d={name:"pan3d",_cat:"pan",title:function(v){return l(v,"Pan")},attr:"scene.dragmode",val:"pan",icon:A.pan,click:r},t.orbitRotation={name:"orbitRotation",title:function(v){return l(v,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:A["3d_rotate"],click:r},t.tableRotation={name:"tableRotation",title:function(v){return l(v,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:A["z-axis"],click:r},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(v){return l(v,"Reset camera to default")},attr:"resetDefault",icon:A.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(v){return l(v,"Reset camera to last save")},attr:"resetLastSave",icon:A.movie,click:n},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(v){return l(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:A.tooltip_basic,gravity:"ne",click:function(v,h){var _=a(v,h);C.call("_guiRelayout",v,_)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(v){return l(v,"Zoom in")},attr:"zoom",val:"in",icon:A.zoom_plus,click:s},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(v){return l(v,"Zoom out")},attr:"zoom",val:"out",icon:A.zoom_minus,click:s},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(v){return l(v,"Reset")},attr:"reset",val:null,icon:A.autoscale,click:s},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(v){return l(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:A.tooltip_basic,gravity:"ne",click:p},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(v){return l(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:A.tooltip_basic,gravity:"ne",click:p},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(v){return l(v,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:A.tooltip_basic,gravity:"ne",click:p},t.resetViewSankey={name:"resetSankeyGroup",title:function(v){return l(v,"Reset view")},icon:A.home,click:function(v){for(var h={"node.groups":[],"node.x":[],"node.y":[]},_=0;_<v._fullData.length;_++){var x=v._fullData[_]._viewInitial;h["node.groups"].push(x.node.groups.slice()),h["node.x"].push(x.node.x.slice()),h["node.y"].push(x.node.y.slice())}C.call("restyle",v,h)}},t.toggleHover={name:"toggleHover",title:function(v){return l(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:A.tooltip_basic,gravity:"ne",click:function(v,h){var _=a(v,h);_.hovermode=c(v),C.call("_guiRelayout",v,_)}},t.resetViews={name:"resetViews",title:function(v){return l(v,"Reset views")},icon:A.home,click:function(v,h){var _=h.currentTarget;_.setAttribute("data-attr","zoom"),_.setAttribute("data-val","reset"),o(v,h),_.setAttribute("data-attr","resetLastSave"),n(v,h),w(v,"geo"),w(v,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(v){return l(v,"Toggle Spike Lines")},icon:A.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(v){var h=v._fullLayout;h._cartesianSpikesEnabled="on"===h._cartesianSpikesEnabled?"off":"on",C.call("_guiRelayout",v,function(x){for(var b="on"===x._fullLayout._cartesianSpikesEnabled,M=u.list(x,null,!0),d={},E=0;E<M.length;E++){var k=M[E];d[k._name+".showspikes"]=!!b||k._showSpikeInitial}return d}(v))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(v){return l(v,"Reset view")},attr:"reset",icon:A.home,click:function(v){w(v,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(v){return l(v,"Zoom in")},attr:"zoom",val:"in",icon:A.zoom_plus,click:f},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(v){return l(v,"Zoom out")},attr:"zoom",val:"out",icon:A.zoom_minus,click:f}},93348:function(ie,B,e){"use strict";var C=e(26023),S=Object.keys(C),u=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],A=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(u),T=[];S.forEach(function(m){!function(l){if(-1===A.indexOf(l._cat||l.name)){var t=l.name,o=(l._cat||l.name).toLowerCase();-1===T.indexOf(t)&&T.push(t),-1===T.indexOf(o)&&T.push(o)}}(C[m])}),T.sort(),ie.exports={DRAW_MODES:u,backButtons:A,foreButtons:T}},35750:function(ie,B,e){"use strict";var C=e(71828),S=e(7901),u=e(44467),A=e(42068);ie.exports=function(T,m){var l=T.modebar||{},t=u.newContainer(m,"modebar");function o(n,a){return C.coerce(l,t,A,n,a)}o("orientation"),o("bgcolor",S.addOpacity(m.paper_bgcolor,.5));var r=S.contrast(S.rgb(m.modebar.bgcolor));o("color",S.addOpacity(r,.3)),o("activecolor",S.addOpacity(r,.7)),o("uirevision",m.uirevision),o("add"),o("remove")}},64168:function(ie,B,e){"use strict";ie.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(ie,B,e){"use strict";var C=e(41675),S=e(34098),u=e(73972),A=e(23469).isUnifiedHover,T=e(37676),m=e(26023),l=e(93348).DRAW_MODES,t=e(71828).extendDeep;ie.exports=function(o){var r=o._fullLayout,n=o._context,a=r._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var s,c=n.modeBarButtons;s=Array.isArray(c)&&c.length?function(p){for(var f=t([],p),w=0;w<f.length;w++)for(var v=f[w],h=0;h<v.length;h++){var _=v[h];if("string"==typeof _){if(void 0===m[_])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));f[w][h]=m[_]}}return f}(c):!n.displayModeBar&&n.watermark?[]:function(p){var f=p._fullLayout,w=p._fullData,v=p._context;function h(ke,Pe){if("string"==typeof Pe){if(Pe.toLowerCase()===ke.toLowerCase())return!0}else if(Pe.name===ke||(Pe._cat||Pe.name)===ke.toLowerCase())return!0;return!1}var _=f.modebar.add;"string"==typeof _&&(_=[_]);var x=f.modebar.remove;"string"==typeof x&&(x=[x]);var b=v.modeBarButtonsToAdd.concat(_.filter(function(ke){for(var Pe=0;Pe<v.modeBarButtonsToRemove.length;Pe++)if(h(ke,v.modeBarButtonsToRemove[Pe]))return!1;return!0})),M=v.modeBarButtonsToRemove.concat(x.filter(function(ke){for(var Pe=0;Pe<v.modeBarButtonsToAdd.length;Pe++)if(h(ke,v.modeBarButtonsToAdd[Pe]))return!1;return!0})),d=f._has("cartesian"),E=f._has("gl3d"),k=f._has("geo"),I=f._has("pie"),L=f._has("funnelarea"),P=f._has("gl2d"),R=f._has("ternary"),z=f._has("mapbox"),$=f._has("polar"),N=f._has("smith"),W=f._has("sankey"),H=function(ke){for(var Pe=C.list({_fullLayout:ke},null,!0),Te=0;Te<Pe.length;Te++)if(!Pe[Te].fixedrange)return!1;return!0}(f),U=A(f.hovermode),Z=[];function Y(ke){if(ke.length){for(var Pe=[],Te=0;Te<ke.length;Te++){for(var be=ke[Te],xe=m[be],Ne=xe.name.toLowerCase(),Se=(xe._cat||xe.name).toLowerCase(),Ce=!1,pe=0;pe<M.length;pe++){var de=M[pe].toLowerCase();if(de===Ne||de===Se){Ce=!0;break}}Ce||Pe.push(m[be])}Z.push(Pe)}}var ae=["toImage"];v.showEditInChartStudio?ae.push("editInChartStudio"):v.showSendToCloud&&ae.push("sendDataToCloud"),Y(ae);var re=[],Q=[],K=[],te=[];(d||P||I||L||R)+k+E+z+$+N>1?(Q=["toggleHover"],K=["resetViews"]):k?(re=["zoomInGeo","zoomOutGeo"],Q=["hoverClosestGeo"],K=["resetGeo"]):E?(Q=["hoverClosest3d"],K=["resetCameraDefault3d","resetCameraLastSave3d"]):z?(re=["zoomInMapbox","zoomOutMapbox"],Q=["toggleHover"],K=["resetViewMapbox"]):P?Q=["hoverClosestGl2d"]:I?Q=["hoverClosestPie"]:W?(Q=["hoverClosestCartesian","hoverCompareCartesian"],K=["resetViewSankey"]):Q=["toggleHover"],d&&(Q=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(ke){for(var Pe=0;Pe<ke.length;Pe++)if(!u.traceIs(ke[Pe],"noHover"))return!1;return!0}(w)||U)&&(Q=[]),!d&&!P||H||(re=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==K[0]&&(K=["resetScale2d"])),E?te=["zoom3d","pan3d","orbitRotation","tableRotation"]:(d||P)&&!H||R?te=["zoom2d","pan2d"]:z||k?te=["pan2d"]:$&&(te=["zoom2d"]),function(ke){for(var Pe=!1,Te=0;Te<ke.length&&!Pe;Te++){var be=ke[Te];be._module&&be._module.selectPoints&&(u.traceIs(be,"scatter-like")?(S.hasMarkers(be)||S.hasText(be))&&(Pe=!0):u.traceIs(be,"box-violin")&&"all"!==be.boxpoints&&"all"!==be.points||(Pe=!0))}return Pe}(w)&&te.push("select2d","lasso2d");var oe=[],ue=function(ke){-1===oe.indexOf(ke)&&-1!==Q.indexOf(ke)&&oe.push(ke)};if(Array.isArray(b)){for(var fe=[],he=0;he<b.length;he++){var me=b[he];"string"==typeof me?(me=me.toLowerCase(),-1!==l.indexOf(me)?(f._has("mapbox")||f._has("cartesian"))&&te.push(me):"togglespikelines"===me?ue("toggleSpikelines"):"togglehover"===me?ue("toggleHover"):"hovercompare"===me?ue("hoverCompareCartesian"):"hoverclosest"===me?(ue("hoverClosestCartesian"),ue("hoverClosestGeo"),ue("hoverClosest3d"),ue("hoverClosestGl2d"),ue("hoverClosestPie")):"v1hovermode"===me&&(ue("toggleHover"),ue("hoverClosestCartesian"),ue("hoverCompareCartesian"),ue("hoverClosestGeo"),ue("hoverClosest3d"),ue("hoverClosestGl2d"),ue("hoverClosestPie"))):fe.push(me)}b=fe}return Y(te),Y(re.concat(K)),Y(oe),function(ke,Pe){if(Pe.length)if(Array.isArray(Pe[0]))for(var Te=0;Te<Pe.length;Te++)ke.push(Pe[Te]);else ke.push(Pe);return ke}(Z,b)}(o),a?a.update(o,s):r._modeBar=T(o,s)}else a&&(a.destroy(),delete r._modeBar)}},37676:function(ie,B,e){"use strict";var C=e(39898),S=e(92770),u=e(71828),A=e(24255),T=e(11506).version,m=new DOMParser;function l(o){this.container=o.container,this.element=document.createElement("div"),this.update(o.graphInfo,o.buttons),this.container.appendChild(this.element)}var t=l.prototype;t.update=function(o,r){this.graphInfo=o;var n=this.graphInfo._context,a=this.graphInfo._fullLayout,s="modebar-"+a._uid;this.element.setAttribute("id",s),this._uid=s,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===a.modebar.orientation&&(this.element.className+=" vertical",r=r.reverse());var c=a.modebar,p="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";u.deleteRelatedStyleRule(s),u.addRelatedStyleRule(s,p+"#"+s+" .modebar-group","background-color: "+c.bgcolor),u.addRelatedStyleRule(s,"#"+s+" .modebar-btn .icon path","fill: "+c.color),u.addRelatedStyleRule(s,"#"+s+" .modebar-btn:hover .icon path","fill: "+c.activecolor),u.addRelatedStyleRule(s,"#"+s+" .modebar-btn.active .icon path","fill: "+c.activecolor);var f=!this.hasButtons(r),w=this.hasLogo!==n.displaylogo,v=this.locale!==n.locale;if(this.locale=n.locale,(f||w||v)&&(this.removeAllButtons(),this.updateButtons(r),n.watermark||n.displaylogo)){var h=this.getLogo();n.watermark&&(h.className=h.className+" watermark"),"v"===a.modebar.orientation?this.element.insertBefore(h,this.element.childNodes[0]):this.element.appendChild(h),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(o){var r=this;this.buttons=o,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(n){var a=r.createGroup();n.forEach(function(s){var c=s.name;if(!c)throw new Error("must provide button 'name' in button config");if(-1!==r.buttonsNames.indexOf(c))throw new Error("button name '"+c+"' is taken");r.buttonsNames.push(c);var p=r.createButton(s);r.buttonElements.push(p),a.appendChild(p)}),r.element.appendChild(a)})},t.createGroup=function(){var o=document.createElement("div");return o.className="modebar-group",o},t.createButton=function(o){var r=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var a=o.title;void 0===a?a=o.name:"function"==typeof a&&(a=a(this.graphInfo)),(a||0===a)&&n.setAttribute("data-title",a),void 0!==o.attr&&n.setAttribute("data-attr",o.attr);var s=o.val;if(void 0!==s&&("function"==typeof s&&(s=s(this.graphInfo)),n.setAttribute("data-val",s)),"function"!=typeof o.click)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",function(p){o.click(r.graphInfo,p),r.updateActiveButton(p.currentTarget)}),n.setAttribute("data-toggle",o.toggle||!1),o.toggle&&C.select(n).classed("active",!0);var c=o.icon;return n.appendChild("function"==typeof c?c():this.createIcon(c||A.question)),n.setAttribute("data-gravity",o.gravity||"n"),n},t.createIcon=function(o){var r,n=S(o.height)?Number(o.height):o.ascent-o.descent,a="http://www.w3.org/2000/svg";if(o.path){(r=document.createElementNS(a,"svg")).setAttribute("viewBox",[0,0,o.width,n].join(" ")),r.setAttribute("class","icon");var s=document.createElementNS(a,"path");s.setAttribute("d",o.path),o.transform?s.setAttribute("transform",o.transform):void 0!==o.ascent&&s.setAttribute("transform","matrix(1 0 0 -1 0 "+o.ascent+")"),r.appendChild(s)}return o.svg&&(r=m.parseFromString(o.svg,"application/xml").childNodes[0]),r.setAttribute("height","1em"),r.setAttribute("width","1em"),r},t.updateActiveButton=function(o){var r=this.graphInfo._fullLayout,n=void 0!==o?o.getAttribute("data-attr"):null;this.buttonElements.forEach(function(a){var s=a.getAttribute("data-val")||!0,c=a.getAttribute("data-attr"),p="true"===a.getAttribute("data-toggle"),f=C.select(a);if(p)c===n&&f.classed("active",!f.classed("active"));else{var w=null===c?c:u.nestedProperty(r,c).get();f.classed("active",w===s)}})},t.hasButtons=function(o){var r=this.buttons;if(!r||o.length!==r.length)return!1;for(var n=0;n<o.length;++n){if(o[n].length!==r[n].length)return!1;for(var a=0;a<o[n].length;a++)if(o[n][a].name!==r[n][a].name)return!1}return!0},t.getLogo=function(){var o=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",u._(this.graphInfo,"Produced with Plotly.js")+" (v"+T+")"),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(A.newplotlylogo)),o.appendChild(r),o},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){u.removeElement(this.container.querySelector(".modebar")),u.deleteRelatedStyleRule(this._uid)},ie.exports=function(o,r){var n=o._fullLayout,a=new l({graphInfo:o,container:n._modebardiv.node(),buttons:r});return n._privateplot&&C.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}},37113:function(ie,B,e){"use strict";var C=e(41940),S=e(22399),u=(0,e(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});ie.exports={visible:{valType:"boolean",editType:"plot"},buttons:u,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:C({editType:"plot"}),bgcolor:{valType:"color",dflt:S.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:S.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(ie){"use strict";ie.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(ie,B,e){"use strict";var C=e(71828),S=e(7901),u=e(44467),A=e(85501),T=e(37113),m=e(89573);function l(t,o,r,n){var a=n.calendar;function s(p,f){return C.coerce(t,o,T.buttons,p,f)}if(s("visible")){var c=s("step");"all"!==c&&(!a||"gregorian"===a||"month"!==c&&"year"!==c?s("stepmode"):o.stepmode="backward",s("count")),s("label")}}ie.exports=function(t,o,r,n,a){var s=t.rangeselector||{},c=u.newContainer(o,"rangeselector");function p(v,h){return C.coerce(s,c,T,v,h)}if(p("visible",A(s,c,{name:"buttons",handleItemDefaults:l,calendar:a}).length>0)){var f=function(v,h,_){for(var x=_.filter(function(E){return h[E].anchor===v._id}),b=0,M=0;M<x.length;M++){var d=h[x[M]].domain;d&&(b=Math.max(d[1],b))}return[v.domain[0],b+m.yPad]}(o,r,n);p("x",f[0]),p("y",f[1]),C.noneOrAll(t,o,["x","y"]),p("xanchor"),p("yanchor"),C.coerceFont(p,"font",r.font);var w=p("bgcolor");p("activecolor",S.contrast(w,m.lightAmount,m.darkAmount)),p("bordercolor"),p("borderwidth")}}},21598:function(ie,B,e){"use strict";var C=e(39898),S=e(73972),u=e(74875),A=e(7901),T=e(91424),m=e(71828),l=m.strTranslate,t=e(63893),o=e(41675),r=e(18783),n=r.LINE_SPACING,a=r.FROM_TL,s=r.FROM_BR,c=e(89573),p=e(70565);function f(h){return h._id}function w(h,_,x){var M,d,b=m.ensureSingle(h,"rect","selector-rect",function(M){M.attr("shape-rendering","crispEdges")});b.attr({rx:c.rx,ry:c.ry}),b.call(A.stroke,_.bordercolor).call(A.fill,(M=_,d=x,d._isActive||d._isHovered?M.activecolor:M.bgcolor)).style("stroke-width",_.borderwidth+"px")}function v(h,_,x,b){var M,d;m.ensureSingle(h,"text","selector-text",function(E){E.attr("text-anchor","middle")}).call(T.font,_.font).text((M=x,d=b._fullLayout._meta,M.label?d?m.templateString(M.label,d):M.label:"all"===M.step?"all":M.count+M.step.charAt(0))).call(function(E){t.convertToTspans(E,b)})}ie.exports=function(h){var _=h._fullLayout._infolayer.selectAll(".rangeselector").data(function(x){for(var b=o.list(x,"x",!0),M=[],d=0;d<b.length;d++){var E=b[d];E.rangeselector&&E.rangeselector.visible&&M.push(E)}return M}(h),f);_.enter().append("g").classed("rangeselector",!0),_.exit().remove(),_.style({cursor:"pointer","pointer-events":"all"}),_.each(function(x){var b=C.select(this),M=x,d=M.rangeselector,E=b.selectAll("g.button").data(m.filterVisible(d.buttons));E.enter().append("g").classed("button",!0),E.exit().remove(),E.each(function(k){var I=C.select(this),L=p(M,k);k._isActive=function(P,R,z){if("all"===R.step)return!0===P.autorange;var $=Object.keys(z);return P.range[0]===z[$[0]]&&P.range[1]===z[$[1]]}(M,k,L),I.call(w,d,k),I.call(v,d,k,h),I.on("click",function(){h._dragged||S.call("_guiRelayout",h,L)}),I.on("mouseover",function(){k._isHovered=!0,I.call(w,d,k)}),I.on("mouseout",function(){k._isHovered=!1,I.call(w,d,k)})}),function(k,I,L,P,R){var z=0,$=0,N=L.borderwidth;I.each(function(){var ae=C.select(this).select(".selector-text"),Q=Math.max(L.font.size*n*t.lineCount(ae),16)+3;$=Math.max($,Q)}),I.each(function(){var ae=C.select(this),re=ae.select(".selector-rect"),Q=ae.select(".selector-text"),K=Q.node()&&T.bBox(Q.node()).width,te=L.font.size*n,oe=t.lineCount(Q),ue=Math.max(K+10,c.minButtonWidth);ae.attr("transform",l(N+z,N)),re.attr({x:0,y:0,width:ue,height:$}),t.positionText(Q,ue/2,$/2-(oe-1)*te/2+3),z+=ue+5});var W=k._fullLayout._size,H=W.l+W.w*L.x,U=W.t+W.h*(1-L.y),Z="left";m.isRightAnchor(L)&&(H-=z,Z="right"),m.isCenterAnchor(L)&&(H-=z/2,Z="center");var Y="top";m.isBottomAnchor(L)&&(U-=$,Y="bottom"),m.isMiddleAnchor(L)&&(U-=$/2,Y="middle"),z=Math.ceil(z),$=Math.ceil($),H=Math.round(H),U=Math.round(U),u.autoMargin(k,P+"-range-selector",{x:L.x,y:L.y,l:z*a[Z],r:z*s[Z],b:$*s[Y],t:$*a[Y]}),R.attr("transform",l(H,U))}(h,E,d,M._name,b)})}},70565:function(ie,B,e){"use strict";var C=e(81041),S=e(71828).titleCase;ie.exports=function(u,A){var T=u._name,m={};if("all"===A.step)m[T+".autorange"]=!0;else{var l=function(t,o){var r,n=t.range,a=new Date(t.r2l(n[1])),c=C["utc"+S(o.step)],p=o.count;switch(o.stepmode){case"backward":r=t.l2r(+c.offset(a,-p));break;case"todate":var f=c.offset(a,-p);r=t.l2r(+c.ceil(f))}return[r,n[1]]}(u,A);m[T+".range[0]"]=l[0],m[T+".range[1]"]=l[1]}return m}},97218:function(ie,B,e){"use strict";ie.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(ie,B,e){"use strict";var C=e(22399);ie.exports={bgcolor:{valType:"color",dflt:C.background,editType:"plot"},bordercolor:{valType:"color",dflt:C.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(ie,B,e){"use strict";var C=e(41675).list,S=e(71739).getAutoRange,u=e(73251);ie.exports=function(A){for(var T=C(A,"x",!0),m=0;m<T.length;m++){var l=T[m],t=l[u.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=S(A,l))}}},73251:function(ie){"use strict";ie.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(ie,B,e){"use strict";var C=e(71828),S=e(44467),u=e(41675),A=e(75148),T=e(47850);ie.exports=function(m,l,t){var o=m[t],r=l[t];if(o.rangeslider||l._requestRangeslider[r._id]){C.isPlainObject(o.rangeslider)||(o.rangeslider={});var n,a,s=o.rangeslider,c=S.newContainer(r,"rangeslider");if(b("visible")){b("bgcolor",l.plot_bgcolor),b("bordercolor"),b("borderwidth"),b("thickness"),b("autorange",!r.isValidRange(s.range)),b("range");var p=l._subplots;if(p)for(var f=p.cartesian.filter(function(d){return d.substr(0,d.indexOf("y"))===u.name2id(t)}).map(function(d){return d.substr(d.indexOf("y"),d.length)}),w=C.simpleMap(f,u.id2name),v=0;v<w.length;v++){var h=w[v];n=s[h]||{},a=S.newContainer(c,h,"yaxis");var _,x=l[h];n.range&&x.isValidRange(n.range)&&(_="fixed"),"match"!==M("rangemode",_)&&M("range",x.range.slice())}c._input=s}}function b(d,E){return C.coerce(s,c,A,d,E)}function M(d,E){return C.coerce(n,a,T,d,E)}}},72413:function(ie,B,e){"use strict";var C=e(39898),S=e(73972),u=e(74875),A=e(71828),T=A.strTranslate,m=e(91424),l=e(7901),t=e(92998),o=e(93612),r=e(41675),n=e(28569),a=e(6964),s=e(73251);function c(_,x,b,M){var d=A.ensureSingle(_,"rect",s.bgClassName,function(L){L.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),E=M.borderwidth%2==0?M.borderwidth:M.borderwidth-1,k=-M._offsetShift,I=m.crispRound(x,M.borderwidth);d.attr({width:M._width+E,height:M._height+E,transform:T(k,k),"stroke-width":I}).call(l.stroke,M.bordercolor).call(l.fill,M.bgcolor)}function p(_,x,b,M){A.ensureSingleById(x._fullLayout._topdefs,"clipPath",M._clipId,function(E){E.append("rect").attr({x:0,y:0})}).select("rect").attr({width:M._width,height:M._height})}function f(_,x,b,M){var d,E=x.calcdata,k=_.selectAll("g."+s.rangePlotClassName).data(b._subplotsWith,A.identity);k.enter().append("g").attr("class",function(I){return s.rangePlotClassName+" "+I}).call(m.setClipUrl,M._clipId,x),k.order(),k.exit().remove(),k.each(function(I,L){var P=C.select(this),R=0===L,z=r.getFromId(x,I,"y"),$=z._name,N=M[$],W={data:[],layout:{xaxis:{type:b.type,domain:[0,1],range:M.range.slice(),calendar:b.calendar},width:M._width,height:M._height,margin:{t:0,b:0,l:0,r:0}},_context:x._context};b.rangebreaks&&(W.layout.xaxis.rangebreaks=b.rangebreaks),W.layout[$]={type:z.type,domain:[0,1],range:"match"!==N.rangemode?N.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(W.layout[$].rangebreaks=z.rangebreaks),u.supplyDefaults(W);var H=W._fullLayout.xaxis,U=W._fullLayout[$];H.clearCalc(),H.setScale(),U.clearCalc(),U.setScale();var Z={id:I,plotgroup:P,xaxis:H,yaxis:U,isRangePlot:!0};R?d=Z:(Z.mainplot="xy",Z.mainplotinfo=d),o.rangePlot(x,Z,function(Y,ae){for(var re=[],Q=0;Q<Y.length;Q++){var K=Y[Q],te=K[0].trace;te.xaxis+te.yaxis===ae&&re.push(K)}return re}(E,I))})}function w(_,x,b,M,d){A.ensureSingle(_,"rect",s.maskMinClassName,function(E){E.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",M._height).call(l.fill,s.maskColor),A.ensureSingle(_,"rect",s.maskMaxClassName,function(E){E.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",M._height).call(l.fill,s.maskColor),"match"!==d.rangemode&&(A.ensureSingle(_,"rect",s.maskMinOppAxisClassName,function(E){E.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",M._width).call(l.fill,s.maskOppAxisColor),A.ensureSingle(_,"rect",s.maskMaxOppAxisClassName,function(E){E.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",M._width).style("border-top",s.maskOppBorder).call(l.fill,s.maskOppAxisColor))}function v(_,x,b,M){x._context.staticPlot||A.ensureSingle(_,"rect",s.slideBoxClassName,function(d){d.attr({y:0,cursor:s.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:M._height,fill:s.slideBoxFill})}function h(_,x,b,M){var d=A.ensureSingle(_,"g",s.grabberMinClassName),E=A.ensureSingle(_,"g",s.grabberMaxClassName),k={x:0,width:s.handleWidth,rx:s.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":s.handleStrokeWidth,"shape-rendering":"crispEdges"},I={y:Math.round(M._height/4),height:Math.round(M._height/2)};A.ensureSingle(d,"rect",s.handleMinClassName,function(P){P.attr(k)}).attr(I),A.ensureSingle(E,"rect",s.handleMaxClassName,function(P){P.attr(k)}).attr(I);var L={width:s.grabAreaWidth,x:0,y:0,fill:s.grabAreaFill,cursor:x._context.staticPlot?void 0:s.grabAreaCursor};A.ensureSingle(d,"rect",s.grabAreaMinClassName,function(P){P.attr(L)}).attr("height",M._height),A.ensureSingle(E,"rect",s.grabAreaMaxClassName,function(P){P.attr(L)}).attr("height",M._height)}ie.exports=function(_){for(var x=_._fullLayout,b=x._rangeSliderData,M=0;M<b.length;M++){var d=b[M][s.name];d._clipId=d._id+"-"+x._uid}var E=x._infolayer.selectAll("g."+s.containerClassName).data(b,function(k){return k._name});E.exit().each(function(k){x._topdefs.select("#"+k[s.name]._clipId).remove()}).remove(),0!==b.length&&(E.enter().append("g").classed(s.containerClassName,!0).attr("pointer-events","all"),E.each(function(k){var I=C.select(this),L=k[s.name],P=x[r.id2name(k.anchor)],R=L[r.id2name(k.anchor)];if(L.range){var z,$=A.simpleMap(L.range,k.r2l),N=A.simpleMap(k.range,k.r2l);z=N[0]<N[1]?[Math.min($[0],N[0]),Math.max($[1],N[1])]:[Math.max($[0],N[0]),Math.min($[1],N[1])],L.range=L._input.range=A.simpleMap(z,k.l2r)}k.cleanRange("rangeslider.range");var W=x._size,H=k.domain;L._width=W.w*(H[1]-H[0]);var U=Math.round(W.l+W.w*H[0]),Z=Math.round(W.t+W.h*(1-k._counterDomainMin)+("bottom"===k.side?k._depth:0)+L._offsetShift+s.extraPad);I.attr("transform",T(U,Z)),L._rl=A.simpleMap(L.range,k.r2l);var Y=L._rl[0],ae=L._rl[1],re=ae-Y;if(L.p2d=function(ke){return ke/L._width*re+Y},L.d2p=function(ke){return(ke-Y)/re*L._width},k.rangebreaks){var Q=k.locateBreaks(Y,ae);if(Q.length){var K,te,oe=0;for(K=0;K<Q.length;K++)oe+=(te=Q[K]).max-te.min;var ue=L._width/(ae-Y-oe),fe=[-ue*Y];for(K=0;K<Q.length;K++)fe.push(fe[fe.length-1]-ue*((te=Q[K]).max-te.min));for(L.d2p=function(ke){for(var Pe=fe[0],Te=0;Te<Q.length;Te++){var be=Q[Te];if(ke>=be.max)Pe=fe[Te+1];else if(ke<be.min)break}return Pe+ue*ke},K=0;K<Q.length;K++)(te=Q[K]).pmin=L.d2p(te.min),te.pmax=L.d2p(te.max);L.p2d=function(ke){for(var Pe=fe[0],Te=0;Te<Q.length;Te++){var be=Q[Te];if(ke>=be.pmax)Pe=fe[Te+1];else if(ke<be.pmin)break}return(ke-Pe)/ue}}}if("match"!==R.rangemode){var he=P.r2l(R.range[0]),me=P.r2l(R.range[1])-he;L.d2pOppAxis=function(ke){return(ke-he)/me*L._height}}I.call(c,_,k,L).call(p,_,k,L).call(f,_,k,L).call(w,_,k,L,R).call(v,_,k,L).call(h,_,k,L),function(ke,Pe,Te,be){if(!Pe._context.staticPlot){var xe=ke.select("rect."+s.slideBoxClassName).node(),Ne=ke.select("rect."+s.grabAreaMinClassName).node(),Se=ke.select("rect."+s.grabAreaMaxClassName).node();ke.on("mousedown",Ce),ke.on("touchstart",Ce)}function Ce(){var pe=C.event,de=pe.target,se=pe.clientX||pe.touches[0].clientX,we=se-ke.node().getBoundingClientRect().left,Re=be.d2p(Te._rl[0]),Ee=be.d2p(Te._rl[1]),Ue=n.coverSlip();function $e(Ie){var De,ze,Ge,He=+(Ie.clientX||Ie.touches[0].clientX)-se;switch(de){case xe:if(Ge="ew-resize",Re+He>Te._length||Ee+He<0)return;De=Re+He,ze=Ee+He;break;case Ne:if(Ge="col-resize",Re+He>Te._length)return;De=Re+He,ze=Ee;break;case Se:if(Ge="col-resize",Ee+He<0)return;De=Re,ze=Ee+He;break;default:Ge="ew-resize",De=we,ze=we+He}if(ze<De){var Ke=ze;ze=De,De=Ke}be._pixelMin=De,be._pixelMax=ze,a(C.select(Ue),Ge),function(et,st,mt,at){function kt(dt){return mt.l2r(A.constrain(dt,at._rl[0],at._rl[1]))}var St=kt(at.p2d(at._pixelMin)),gt=kt(at.p2d(at._pixelMax));window.requestAnimationFrame(function(){S.call("_guiRelayout",st,mt._name+".range",[St,gt])})}(0,Pe,Te,be)}function ve(){Ue.removeEventListener("mousemove",$e),Ue.removeEventListener("mouseup",ve),this.removeEventListener("touchmove",$e),this.removeEventListener("touchend",ve),A.removeElement(Ue)}this.addEventListener("touchmove",$e),this.addEventListener("touchend",ve),Ue.addEventListener("mousemove",$e),Ue.addEventListener("mouseup",ve)}}(I,_,k,L),function(ke,Pe,Te,be,xe,Ne){var Se=s.handleWidth/2;function Ce(Ie){return A.constrain(Ie,0,be._width)}function pe(Ie){return A.constrain(Ie,0,be._height)}function de(Ie){return A.constrain(Ie,-Se,be._width+Se)}var se=Ce(be.d2p(Te._rl[0])),we=Ce(be.d2p(Te._rl[1]));if(ke.select("rect."+s.slideBoxClassName).attr("x",se).attr("width",we-se),ke.select("rect."+s.maskMinClassName).attr("width",se),ke.select("rect."+s.maskMaxClassName).attr("x",we).attr("width",be._width-we),"match"!==Ne.rangemode){var Re=be._height-pe(be.d2pOppAxis(xe._rl[1])),Ee=be._height-pe(be.d2pOppAxis(xe._rl[0]));ke.select("rect."+s.maskMinOppAxisClassName).attr("x",se).attr("height",Re).attr("width",we-se),ke.select("rect."+s.maskMaxOppAxisClassName).attr("x",se).attr("y",Ee).attr("height",be._height-Ee).attr("width",we-se),ke.select("rect."+s.slideBoxClassName).attr("y",Re).attr("height",Ee-Re)}var $e=Math.round(de(se-Se))-.5,ve=Math.round(de(we-Se))+.5;ke.select("g."+s.grabberMinClassName).attr("transform",T($e,.5)),ke.select("g."+s.grabberMaxClassName).attr("transform",T(ve,.5))}(I,0,k,L,P,R),"bottom"===k.side&&t.draw(_,k._id+"title",{propContainer:k,propName:k._name+".title",placeholder:x._dfltTitle.x,attributes:{x:k._offset+k._length/2,y:Z+L._height+L._offsetShift+10+1.5*k.title.font.size,"text-anchor":"middle"}})}))}},549:function(ie,B,e){"use strict";var C=e(41675),S=e(63893),u=e(73251),A=e(18783).LINE_SPACING,T=u.name;function m(l){var t=l&&l[T];return t&&t.visible}B.isVisible=m,B.makeData=function(l){var t=C.list({_fullLayout:l},"x",!0),o=l.margin,r=[];if(!l._has("gl2d"))for(var n=0;n<t.length;n++){var a=t[n];if(m(a)){r.push(a);var s=a[T];s._id=T+a._id,s._height=(l.height-o.b-o.t)*s.thickness,s._offsetShift=Math.floor(s.borderwidth/2)}}l._rangeSliderData=r},B.autoMarginOpts=function(l,t){var o=l._fullLayout,r=t[T],n=t._id.charAt(0),a=0,s=0;return"bottom"===t.side&&(a=t._depth,t.title.text!==o._dfltTitle[n]&&(s=1.5*t.title.font.size+10+r._offsetShift,s+=(t.title.text.match(S.BR_TAG_ALL)||[]).length*t.title.font.size*A)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+a+Math.max(o.margin.b,s),pad:u.extraPad+2*r._offsetShift}}},13137:function(ie,B,e){"use strict";var C=e(71828),S=e(75148),u=e(47850),A=e(549);ie.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:C.extendFlat({},S,{yaxis:u})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:A.isVisible,makeData:A.makeData,autoMarginOpts:A.autoMarginOpts}},47850:function(ie){"use strict";ie.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(ie,B,e){"use strict";var C=e(50215),S=e(82196).line,u=e(79952).P,A=e(1426).extendFlat,T=e(30962).overrideAll,m=e(44467).templatedArray;e(24695),ie.exports=T(m("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:A({},C.xref,{}),yref:A({},C.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:S.color,width:A({},S.width,{min:1,dflt:1}),dash:A({},u,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(ie){"use strict";ie.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(ie,B,e){"use strict";var C=e(71828),S=e(89298),u=e(85501),A=e(8389),T=e(30477);function m(l,t,o){function r(I,L){return C.coerce(l,t,A,I,L)}var n=r("path"),a="path"!==r("type",n?"path":"rect");a&&delete t.path,r("opacity"),r("line.color"),r("line.width"),r("line.dash");for(var s=["x","y"],c=0;c<2;c++){var p,f,w,v=s[c],h={_fullLayout:o},_=S.coerceRef(l,t,h,v);if((p=S.getFromId(h,_))._selectionIndices.push(t._index),w=T.rangeToShapePosition(p),f=T.shapePositionToRange(p),a){var x=v+"0",b=v+"1",M=l[x],d=l[b];l[x]=f(l[x],!0),l[b]=f(l[b],!0),S.coercePosition(t,h,r,_,x),S.coercePosition(t,h,r,_,b);var E=t[x],k=t[b];void 0!==E&&void 0!==k&&(t[x]=w(E),t[b]=w(k),l[x]=M,l[b]=d)}}a&&C.noneOrAll(l,t,["x0","x1","y0","y1"])}ie.exports=function(l,t){u(l,t,{name:"selections",handleItemDefaults:m});for(var o=t.selections,r=0;r<o.length;r++){var n=o[r];n&&void 0===n.path&&(void 0!==n.x0&&void 0!==n.x1&&void 0!==n.y0&&void 0!==n.y1||(t.selections[r]=null))}}},32485:function(ie,B,e){"use strict";var C=e(60165).readPaths,S=e(42359),u=e(51873).clearOutlineControllers,A=e(7901),T=e(91424),m=e(44467).arrayEditor,l=e(30477),t=l.getPathString;function o(c){var p=c._fullLayout;for(var f in u(c),p._selectionLayer.selectAll("path").remove(),p._plots){var w=p._plots[f].selectionLayer;w&&w.selectAll("path").remove()}for(var v=0;v<p.selections.length;v++)n(c,v)}function r(c){return c._context.editSelection}function n(c,p){c._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+p+'"]').remove();var f=l.makeSelectionsOptionsAndPlotinfo(c,p),w=f.options,v=f.plotinfo;w._input&&function(h){var _=t(c,w),x={"data-index":p,"fill-rule":"evenodd",d:_},b=w.opacity,M="rgba(0,0,0,0)",d=w.line.color||A.contrast(c._fullLayout.plot_bgcolor),E=w.line.width,k=w.line.dash;E||(E=5,k="solid");var I=r(c)&&c._fullLayout._activeSelectionIndex===p;I&&(M=c._fullLayout.activeselection.fillcolor,b=c._fullLayout.activeselection.opacity);for(var L=[],P=1;P>=0;P--){var R=h.append("path").attr(x).style("opacity",P?.1:b).call(A.stroke,d).call(A.fill,M).call(T.dashLine,P?"solid":k,P?4+E:E);if(a(R,c,w),I){var z=m(c.layout,"selections",w);R.style({cursor:"move"});var $={element:R.node(),plotinfo:v,gd:c,editHelpers:z,isActiveSelection:!0},N=C(_,c);S(N,R,$)}else R.style("pointer-events",P?"all":"none");L[P]=R}var W=L[0];L[1].node().addEventListener("click",function(){return function(H,U){if(r(H)){var Z=+U.node().getAttribute("data-index");if(Z>=0){if(Z===H._fullLayout._activeSelectionIndex)return void s(H);H._fullLayout._activeSelectionIndex=Z,H._fullLayout._deactivateSelection=s,o(H)}}}(c,W)})}(c._fullLayout._selectionLayer)}function a(c,p,f){T.setClipUrl(c,"clip"+p._fullLayout._uid+(f.xref+f.yref),p)}function s(c){r(c)&&c._fullLayout._activeSelectionIndex>=0&&(u(c),delete c._fullLayout._activeSelectionIndex,o(c))}ie.exports={draw:o,drawOne:n,activateLastSelection:function(c){r(c)&&(c._fullLayout._activeSelectionIndex=c._fullLayout.selections.length-1,c._fullLayout._deactivateSelection=s,o(c))}}},53777:function(ie,B,e){"use strict";var C=e(79952).P,S=e(1426).extendFlat;ie.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:S({},C,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(ie){"use strict";ie.exports=function(B,e,C){C("newselection.mode"),C("newselection.line.width")&&(C("newselection.line.color"),C("newselection.line.dash")),C("activeselection.fillcolor"),C("activeselection.opacity")}},35855:function(ie,B,e){"use strict";var C=e(64505).selectMode,S=e(51873).clearOutline,u=e(60165),A=u.readPaths,T=u.writePaths,m=u.fixDatesForPaths;ie.exports=function(l,t){if(l.length){var o=l[0][0];if(o){var r=o.getAttribute("d"),n=t.gd,a=n._fullLayout.newselection,s=t.plotinfo,c=s.xaxis,p=s.yaxis,f=t.isActiveSelection,w=t.dragmode,v=(n.layout||{}).selections||[];if(!C(w)&&void 0!==f){var h=n._fullLayout._activeSelectionIndex;if(h<v.length)switch(n._fullLayout.selections[h].type){case"rect":w="select";break;case"path":w="lasso"}}var _,x=A(r,n,s,f),b={xref:c._id,yref:p._id,opacity:a.opacity,line:{color:a.line.color,width:a.line.width,dash:a.line.dash}};1===x.length&&(_=x[0]),_&&5===_.length&&"select"===w?(b.type="rect",b.x0=_[0][1],b.y0=_[0][2],b.x1=_[2][1],b.y1=_[2][2]):(b.type="path",c&&p&&m(x,c,p),b.path=T(x),_=null),S(n);for(var M=t.editHelpers,d=(M||{}).modifyItem,E=[],k=0;k<v.length;k++){var I=n._fullLayout.selections[k];if(I){if(E[k]=I._input,void 0!==f&&k===n._fullLayout._activeSelectionIndex){var L=b;switch(I.type){case"rect":d("x0",L.x0),d("x1",L.x1),d("y0",L.y0),d("y1",L.y1);break;case"path":d("path",L.path)}}}else E[k]=I}return void 0===f?(E.push(b),E):M?M.getUpdateObj():{}}}}},75549:function(ie,B,e){"use strict";var C=e(71828).strTranslate;function S(u,A){switch(u.type){case"log":return u.p2d(A);case"date":return u.p2r(A,0,u.calendar);default:return u.p2r(A)}}ie.exports={p2r:S,r2p:function(u,A){switch(u.type){case"log":return u.d2p(A);case"date":return u.r2p(A,0,u.calendar);default:return u.r2p(A)}},axValue:function(u){var A="y"===u._id.charAt(0)?1:0;return function(T){return S(u,T[A])}},getTransform:function(u){return C(u.xaxis._offset,u.yaxis._offset)}}},47322:function(ie,B,e){"use strict";var C=e(32485),S=e(3937);ie.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:C.draw,drawOne:C.drawOne,reselect:S.reselect,prepSelect:S.prepSelect,clearOutline:S.clearOutline,clearSelectionsCache:S.clearSelectionsCache,selectOnClick:S.selectOnClick}},3937:function(ie,B,e){"use strict";var C=e(52142),S=e(38258),u=e(73972),A=e(91424).dashStyle,T=e(7901),m=e(30211),l=e(23469).makeEventData,t=e(64505),o=t.freeMode,r=t.rectMode,n=t.drawMode,a=t.openMode,s=t.selectMode,c=e(30477),p=e(21459),f=e(42359),w=e(51873).clearOutline,v=e(60165),h=v.handleEllipse,_=v.readPaths,x=e(90551).newShapes,b=e(35855),M=e(32485).activateLastSelection,d=e(71828),E=d.sorterAsc,k=e(61082),I=e(79990),L=e(41675).getFromId,P=e(33306),R=e(61549).redrawReglTraces,z=e(34122),$=z.MINSELECT,N=k.filter,W=k.tester,H=e(75549),U=H.p2r,Z=H.axValue,Y=H.getTransform;function ae(ve){return void 0!==ve.subplot}function re(ve,Ie,De,ze,Ge,He,Ke){var et,st,mt,at,kt,St,gt,dt,Ct,rt,Ot=Ie._hoverdata,Pt=Ie._fullLayout.clickmode.indexOf("event")>-1,Ht=[];if((rt=Ot)&&Array.isArray(rt)&&!0!==rt[0].hoverOnBox){oe(ve,Ie,He);var jt=function(rt,ft){var vt,je,Ve=rt[0],ut=-1,ct=[];for(je=0;je<ft.length;je++)if(Ve.fullData._expandedIndex===(vt=ft[je]).cd[0].trace._expandedIndex){if(!0===Ve.hoverOnBox)break;void 0!==Ve.pointNumber?ut=Ve.pointNumber:void 0!==Ve.binNumber&&(ut=Ve.binNumber,ct=Ve.pointNumbers);break}return{pointNumber:ut,pointNumbers:ct,searchInfo:vt}}(Ot,et=he(Ie,De,ze,Ge));if(jt.pointNumbers.length>0?function(rt,ft){var vt,je,Ve,ut=[];for(Ve=0;Ve<rt.length;Ve++)(vt=rt[Ve]).cd[0].trace.selectedpoints&&vt.cd[0].trace.selectedpoints.length>0&&ut.push(vt);if(1===ut.length&&ut[0]===ft.searchInfo&&(je=ft.searchInfo.cd[0].trace).selectedpoints.length===ft.pointNumbers.length){for(Ve=0;Ve<ft.pointNumbers.length;Ve++)if(je.selectedpoints.indexOf(ft.pointNumbers[Ve])<0)return!1;return!0}return!1}(et,jt):function(rt){var ft,vt,je=0;for(vt=0;vt<rt.length;vt++)if((ft=rt[vt].cd[0].trace).selectedpoints&&(ft.selectedpoints.length>1||(je+=ft.selectedpoints.length)>1))return!1;return 1===je}(et)&&(St=ke(jt))){for(Ke&&Ke.remove(),Ct=0;Ct<et.length;Ct++)(st=et[Ct])._module.selectPoints(st,!1);Pe(Ie,et),ue(He),Pt&&$e(Ie)}else{for(gt=ve.shiftKey&&(void 0!==St?St:ke(jt)),mt=function(rt,ft,vt){return{pointNumber:rt,searchInfo:ft,subtract:!!vt}}(jt.pointNumber,jt.searchInfo,gt),at=te(He.selectionDefs.concat([mt])),Ct=0;Ct<et.length;Ct++)if(kt=be(et[Ct]._module.selectPoints(et[Ct],at),et[Ct]),Ht.length)for(var nt=0;nt<kt.length;nt++)Ht.push(kt[nt]);else Ht=kt;if(Pe(Ie,et,dt={points:Ht}),mt&&He&&He.selectionDefs.push(mt),Ke){var it=He.mergedPolygons,Xe=a(He.dragmode);f(xe(it,Xe),Ke,He)}Pt&&Ue(Ie,dt)}}}function Q(ve){return"pointNumber"in ve&&"searchInfo"in ve}function K(ve){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Ie,De,ze,Ge){return Ge.cd[0].trace._expandedIndex===ve.searchInfo.cd[0].trace._expandedIndex&&ze===ve.pointNumber},isRect:!1,degenerate:!1,subtract:!!ve.subtract}}function te(ve){if(ve.length){for(var Ie=[],De=Q(ve[0])?0:ve[0][0][0],ze=De,Ge=Q(ve[0])?0:ve[0][0][1],He=Ge,Ke=0;Ke<ve.length;Ke++)if(Q(ve[Ke]))Ie.push(K(ve[Ke]));else{var et=W(ve[Ke]);et.subtract=!!ve[Ke].subtract,Ie.push(et),De=Math.min(De,et.xmin),ze=Math.max(ze,et.xmax),Ge=Math.min(Ge,et.ymin),He=Math.max(He,et.ymax)}return{xmin:De,xmax:ze,ymin:Ge,ymax:He,pts:[],contains:function(st,mt,at,kt){for(var St=!1,gt=0;gt<Ie.length;gt++)Ie[gt].contains(st,mt,at,kt)&&(St=!Ie[gt].subtract);return St},isRect:!1,degenerate:!1}}}function oe(ve,Ie,De){var ze=Ie._fullLayout,Ge=De.plotinfo,He=De.dragmode,Ke=ze._lastSelectedSubplot&&ze._lastSelectedSubplot===Ge.id,et=(ve.shiftKey||ve.altKey)&&!(n(He)&&a(He));Ke&&et&&Ge.selection&&Ge.selection.selectionDefs&&!De.selectionDefs?(De.selectionDefs=Ge.selection.selectionDefs,De.mergedPolygons=Ge.selection.mergedPolygons):et&&Ge.selection||ue(De),Ke||(w(Ie),ze._lastSelectedSubplot=Ge.id)}function ue(ve,Ie){var De=ve.dragmode,ze=ve.plotinfo,Ge=ve.gd;Ge._fullLayout._activeShapeIndex>=0&&Ge._fullLayout._deactivateShape(Ge),Ge._fullLayout._activeSelectionIndex>=0&&Ge._fullLayout._deactivateSelection(Ge);var He=Ge._fullLayout._zoomlayer,Ke=n(De),et=s(De);if(Ke||et){var st,mt,at=He.selectAll(".select-outline-"+ze.id);at&&Ge._fullLayout._outlining&&(Ke&&(st=x(at,ve)),st&&u.call("_guiRelayout",Ge,{shapes:st}),et&&!ae(ve)&&(mt=b(at,ve)),mt&&(Ge._fullLayout._noEmitSelectedAtStart=!0,u.call("_guiRelayout",Ge,{selections:mt}).then(function(){Ie&&M(Ge)})),Ge._fullLayout._outlining=!1)}ze.selection={},ze.selection.selectionDefs=ve.selectionDefs=[],ze.selection.mergedPolygons=ve.mergedPolygons=[]}function fe(ve){return ve._id}function he(ve,Ie,De,ze){if(!ve.calcdata)return[];var Ge,He,Ke,et=[],st=Ie.map(fe),mt=De.map(fe);for(Ke=0;Ke<ve.calcdata.length;Ke++)if(!0===(He=(Ge=ve.calcdata[Ke])[0].trace).visible&&He._module&&He._module.selectPoints)if(!ae({subplot:ze})||He.subplot!==ze&&He.geo!==ze)if("splom"===He.type){if(He._xaxes[st[0]]&&He._yaxes[mt[0]]){var at=me(He._module,Ge,Ie[0],De[0]);at.scene=ve._fullLayout._splomScenes[He.uid],et.push(at)}}else if("sankey"===He.type){var kt=me(He._module,Ge,Ie[0],De[0]);et.push(kt)}else{if(-1===st.indexOf(He.xaxis)||-1===mt.indexOf(He.yaxis))continue;et.push(me(He._module,Ge,L(ve,He.xaxis),L(ve,He.yaxis)))}else et.push(me(He._module,Ge,Ie[0],De[0]));return et}function me(ve,Ie,De,ze){return{_module:ve,cd:Ie,xaxis:De,yaxis:ze}}function ke(ve){var Ie=ve.searchInfo.cd[0].trace,ze=ve.pointNumbers;return!!Ie.selectedpoints&&Ie.selectedpoints.indexOf(ze.length>0?ze[0]:ve.pointNumber)>-1}function Pe(ve,Ie,De){var ze,Ge;for(ze=0;ze<Ie.length;ze++){var He=Ie[ze].cd[0].trace._fullInput,Ke=ve._fullLayout._tracePreGUI[He.uid]||{};void 0===Ke.selectedpoints&&(Ke.selectedpoints=He._input.selectedpoints||null)}if(De){var et=De.points||[];for(ze=0;ze<Ie.length;ze++)(Ge=Ie[ze].cd[0].trace)._input.selectedpoints=Ge._fullInput.selectedpoints=[],Ge._fullInput!==Ge&&(Ge.selectedpoints=[]);for(var st=0;st<et.length;st++){var mt=et[st],at=mt.data,kt=mt.fullData,St=mt.pointIndex,gt=mt.pointIndices;gt?([].push.apply(at.selectedpoints,gt),Ge._fullInput!==Ge&&[].push.apply(kt.selectedpoints,gt)):(at.selectedpoints.push(St),Ge._fullInput!==Ge&&kt.selectedpoints.push(St))}}else for(ze=0;ze<Ie.length;ze++)delete(Ge=Ie[ze].cd[0].trace).selectedpoints,delete Ge._input.selectedpoints,Ge._fullInput!==Ge&&delete Ge._fullInput.selectedpoints;!function(dt,Ct){for(var Ot=!1,Pt=0;Pt<Ct.length;Pt++){var Ht=Ct[Pt],jt=Ht.cd;u.traceIs(jt[0].trace,"regl")&&(Ot=!0);var nt=Ht._module,it=nt.styleOnSelect||nt.style;it&&(it(dt,jt,jt[0].node3),jt[0].nodeRangePlot3&&it(dt,jt,jt[0].nodeRangePlot3))}Ot&&(P(dt),R(dt))}(ve,Ie)}function Te(ve,Ie,De){for(var ze=(De?C.difference:C.union)({regions:ve},{regions:[Ie]}).regions.reverse(),Ge=0;Ge<ze.length;Ge++){var He=ze[Ge];He.subtract=se(He,ze.slice(0,Ge))}return ze}function be(ve,Ie){if(Array.isArray(ve))for(var De=Ie.cd,ze=Ie.cd[0].trace,Ge=0;Ge<ve.length;Ge++)ve[Ge]=l(ve[Ge],ze,De);return ve}function xe(ve,Ie){for(var De=[],ze=0;ze<ve.length;ze++){De[ze]=[];for(var Ge=0;Ge<ve[ze].length;Ge++){De[ze][Ge]=[],De[ze][Ge][0]=Ge?"L":"M";for(var He=0;He<ve[ze][Ge].length;He++)De[ze][Ge].push(ve[ze][Ge][He])}Ie||De[ze].push(["Z",De[ze][0][1],De[ze][0][2]])}return De}function Ne(ve,Ie){for(var De,ze,Ge=[],He=[],Ke=0;Ke<Ie.length;Ke++){var et=Ie[Ke];ze=et._module.selectPoints(et,ve),He.push(ze),De=be(ze,et),Ge=Ge.concat(De)}return Ge}function Se(ve,Ie,De,ze,Ge){var He,Ke,et,st=!!ze;Ge&&(He=Ge.plotinfo,Ke=Ge.xaxes[0]._id,et=Ge.yaxes[0]._id);var mt=[],at=[],kt=de(ve),St=ve._fullLayout;if(He){var gt=St._zoomlayer,dt=St.dragmode,Ct=n(dt),Ot=s(dt);if(Ct||Ot){var Pt=L(ve,Ke,"x"),Ht=L(ve,et,"y");if(Pt&&Ht){var jt=gt.selectAll(".select-outline-"+He.id);if(jt&&ve._fullLayout._outlining&&jt.length){for(var nt=jt[0][0].getAttribute("d"),it=_(nt,ve,He),Xe=[],rt=0;rt<it.length;rt++){for(var ft=it[rt],vt=[],je=0;je<ft.length;je++)vt.push([we(Pt,ft[je][1]),we(Ht,ft[je][2])]);vt.xref=Ke,vt.yref=et,vt.subtract=se(vt,Xe),Xe.push(vt)}kt=kt.concat(Xe)}}}}var Ve=Ke&&et?[Ke+et]:St._subplots.cartesian;!function(Un){var Hn=Un.calcdata;if(Hn)for(var On=0;On<Hn.length;On++){var pr=Un._fullLayout._splomScenes;if(pr){var ar=pr[Hn[On][0].trace.uid];ar&&(ar.selectBatch=[])}}}(ve);for(var ut={},ct=0;ct<Ve.length;ct++){var Tt=Ve[ct],Mt=Tt.indexOf("y"),At=Tt.slice(0,Mt),bt=Tt.slice(Mt),Rt=Ke&&et?De:void 0;if(Rt=pe(kt,At,bt,Rt)){var xt=ze;if(!st){var _t=L(ve,At,"x"),It=L(ve,bt,"y");xt=he(ve,[_t],[It],Tt);for(var Gt=0;Gt<xt.length;Gt++){var Wt=xt[Gt],Zt=Wt.cd[0],cn=Zt.trace;if("scattergl"===Wt._module.name&&!Zt.t.xpx){var nn=cn.x,ln=cn.y,Qt=cn._length;Zt.t.xpx=[],Zt.t.ypx=[];for(var kn=0;kn<Qt;kn++)Zt.t.xpx[kn]=_t.c2p(nn[kn]),Zt.t.ypx[kn]=It.c2p(ln[kn])}"splom"===Wt._module.name&&(ut[cn.uid]||(ut[cn.uid]=!0))}}var Pn=Ne(Rt,xt);mt=mt.concat(Pn),at=at.concat(xt)}}var Tn={points:mt};Pe(ve,at,Tn);var tn=St.clickmode.indexOf("event")>-1&&Ie;if(!He&&Ie){var gn=de(ve,!0);if(gn.length){var hn=gn[0].xref,mn=gn[0].yref;if(hn&&mn){var En=Re(gn);Ee([L(ve,hn,"x"),L(ve,mn,"y")])(Tn,En)}}ve._fullLayout._noEmitSelectedAtStart?ve._fullLayout._noEmitSelectedAtStart=!1:tn&&Ue(ve,Tn),St._reselect=!1}if(!He&&St._deselect){var vn=St._deselect;(function(Un,Hn,On){for(var Wn=0;Wn<On.length;Wn++){var pr=On[Wn];if(pr.xaxis&&pr.xaxis._id===Un&&pr.yaxis&&pr.yaxis._id===Hn)return!0}return!1})(Ke=vn.xref,et=vn.yref,at)||Ce(ve,Ke,et,ze),tn&&(Tn.points.length?Ue(ve,Tn):$e(ve)),St._deselect=!1}return{eventData:Tn,selectionTesters:De}}function Ce(ve,Ie,De,ze){ze=he(ve,[L(ve,Ie,"x")],[L(ve,De,"y")],Ie+De);for(var Ge=0;Ge<ze.length;Ge++){var He=ze[Ge];He._module.selectPoints(He,!1)}Pe(ve,ze)}function pe(ve,Ie,De,ze){for(var Ge,He=0;He<ve.length;He++){var Ke=ve[He];Ie===Ke.xref&&De===Ke.yref&&(Ge?ze=te(Ge=Te(Ge,Ke,!!Ke.subtract)):(Ge=[Ke],ze=W(Ke)))}return ze}function de(ve,Ie){for(var De=[],ze=ve._fullLayout,Ge=ze.selections,He=Ge.length,Ke=0;Ke<He;Ke++)if(!Ie||Ke===ze._activeSelectionIndex){var et=Ge[Ke];if(et){var st,mt,at,kt,St,gt=et.xref,dt=et.yref,Ct=L(ve,gt,"x"),Ot=L(ve,dt,"y");if("rect"===et.type){St=[];var Pt=we(Ct,et.x0),Ht=we(Ct,et.x1),jt=we(Ot,et.y0),nt=we(Ot,et.y1);St=[[Pt,jt],[Pt,nt],[Ht,nt],[Ht,jt]],st=Math.min(Pt,Ht),mt=Math.max(Pt,Ht),at=Math.min(jt,nt),kt=Math.max(jt,nt),St.xmin=st,St.xmax=mt,St.ymin=at,St.ymax=kt,St.xref=gt,St.yref=dt,St.subtract=!1,St.isRect=!0,De.push(St)}else if("path"===et.type)for(var it=et.path.split("Z"),Xe=[],rt=0;rt<it.length;rt++){var ft=it[rt];if(ft){var vt=c.extractPathCoords(ft+="Z",p.paramIsX,"raw"),je=c.extractPathCoords(ft,p.paramIsY,"raw");st=1/0,mt=-1/0,at=1/0,kt=-1/0,St=[];for(var Ve=0;Ve<vt.length;Ve++){var ut=we(Ct,vt[Ve]),ct=we(Ot,je[Ve]);St.push([ut,ct]),st=Math.min(ut,st),mt=Math.max(ut,mt),at=Math.min(ct,at),kt=Math.max(ct,kt)}St.xmin=st,St.xmax=mt,St.ymin=at,St.ymax=kt,St.xref=gt,St.yref=dt,St.subtract=se(St,Xe),Xe.push(St),De.push(St)}}}}return De}function se(ve,Ie){for(var De=!1,ze=0;ze<Ie.length;ze++)for(var Ge=Ie[ze],He=0;He<ve.length;He++)if(S(ve[He],Ge)){De=!De;break}return De}function we(ve,Ie){return"date"===ve.type&&(Ie=Ie.replace("_"," ")),"log"===ve.type?ve.c2p(Ie):ve.r2p(Ie,null,ve.calendar)}function Re(ve){for(var Ie=ve.length,De=[],ze=0;ze<Ie;ze++){var Ge=ve[ze];De=(De=De.concat(Ge)).concat([Ge[0]])}return(He=De).isRect=5===He.length&&He[0][0]===He[4][0]&&He[0][1]===He[4][1]&&He[0][0]===He[1][0]&&He[2][0]===He[3][0]&&He[0][1]===He[3][1]&&He[1][1]===He[2][1]||He[0][1]===He[1][1]&&He[2][1]===He[3][1]&&He[0][0]===He[3][0]&&He[1][0]===He[2][0],He.isRect&&(He.xmin=Math.min(He[0][0],He[2][0]),He.xmax=Math.max(He[0][0],He[2][0]),He.ymin=Math.min(He[0][1],He[2][1]),He.ymax=Math.max(He[0][1],He[2][1])),He;var He}function Ee(ve){return function(Ie,De){for(var ze,Ge,He=0;He<ve.length;He++){var Ke=ve[He],et=Ke._id,st=et.charAt(0);if(De.isRect){ze||(ze={});var mt=De[st+"min"],at=De[st+"max"];void 0!==mt&&void 0!==at&&(ze[et]=[U(Ke,mt),U(Ke,at)].sort(E))}else Ge||(Ge={}),Ge[et]=De.map(Z(Ke))}ze&&(Ie.range=ze),Ge&&(Ie.lassoPoints=Ge)}}function Ue(ve,Ie){Ie&&(Ie.selections=(ve.layout||{}).selections||[]),ve.emit("plotly_selected",Ie)}function $e(ve){ve.emit("plotly_deselect",null)}ie.exports={reselect:Se,prepSelect:function(ve,Ie,De,ze,Ge){var He=!ae(ze),Ke=o(Ge),et=r(Ge),st=a(Ge),mt=n(Ge),at=s(Ge),kt="drawcircle"===Ge,St="drawline"===Ge||kt,gt=ze.gd,dt=gt._fullLayout,Ct=at&&"immediate"===dt.newselection.mode&&He,Ot=dt._zoomlayer,Pt=ze.element.getBoundingClientRect(),Ht=ze.plotinfo,jt=Y(Ht),nt=Ie-Pt.left,it=De-Pt.top;dt._calcInverseTransform(gt);var rt,ft,vt,je,Ve,ut,ct,Xe=d.apply3DTransform(dt._invTransform)(nt,it),Tt=dt._invScaleX,Mt=dt._invScaleY,At=nt=Xe[0],bt=it=Xe[1],Rt="M"+nt+","+it,xt=ze.xaxes[0],_t=ze.yaxes[0],It=xt._length,Gt=_t._length,Wt=ve.altKey&&!(n(Ge)&&st);oe(ve,gt,ze),Ke&&(rt=N([[nt,it]],z.BENDPX));var Zt=Ot.selectAll("path.select-outline-"+Ht.id).data([1]),cn=mt?dt.newshape:dt.newselection;mt&&(ze.hasText=cn.label.text||cn.label.texttemplate);var nn=mt&&!st?cn.fillcolor:"rgba(0,0,0,0)",ln=cn.line.color||(He?T.contrast(gt._fullLayout.plot_bgcolor):"#7f7f7f");Zt.enter().append("path").attr("class","select-outline select-outline-"+Ht.id).style({opacity:mt?cn.opacity/2:1,"stroke-dasharray":A(cn.line.dash,cn.line.width),"stroke-width":cn.line.width+"px","shape-rendering":"crispEdges"}).call(T.stroke,ln).call(T.fill,nn).attr("fill-rule","evenodd").classed("cursor-move",!!mt).attr("transform",jt).attr("d",Rt+"Z");var Qt=Ot.append("path").attr("class","zoombox-corners").style({fill:T.background,stroke:T.defaultLine,"stroke-width":1}).attr("transform",jt).attr("d","M0,0Z");if(mt&&ze.hasText){var kn=Ot.select(".label-temp");kn.empty()&&(kn=Ot.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Pn=dt._uid+z.SELECTID,Tn=[],tn=he(gt,ze.xaxes,ze.yaxes,ze.subplot);Ct&&!ve.shiftKey&&(ze._clearSubplotSelections=function(){if(He){var hn=xt._id,mn=_t._id;Ce(gt,hn,mn,tn);for(var En=(gt.layout||{}).selections||[],vn=[],Un=!1,Hn=0;Hn<En.length;Hn++){var On=dt.selections[Hn];On.xref!==hn||On.yref!==mn?vn.push(En[Hn]):Un=!0}Un&&(gt._fullLayout._noEmitSelectedAtStart=!0,u.call("_guiRelayout",gt,{selections:vn}))}});var hn,gn=(hn=ze).plotinfo.fillRangeItems||Ee(hn.xaxes.concat(hn.yaxes));ze.moveFn=function(hn,mn){ze._clearSubplotSelections&&(ze._clearSubplotSelections(),ze._clearSubplotSelections=void 0),At=Math.max(0,Math.min(It,Tt*hn+nt)),bt=Math.max(0,Math.min(Gt,Mt*mn+it));var En=Math.abs(At-nt),vn=Math.abs(bt-it);if(et){var Un,Hn,On;if(at){var Wn=dt.selectdirection;switch(Un="any"===Wn?vn<Math.min(.6*En,$)?"h":En<Math.min(.6*vn,$)?"v":"d":Wn){case"h":Hn=kt?Gt/2:0,On=Gt;break;case"v":Hn=kt?It/2:0,On=It}}if(mt)switch(dt.newshape.drawdirection){case"vertical":Un="h",Hn=kt?Gt/2:0,On=Gt;break;case"horizontal":Un="v",Hn=kt?It/2:0,On=It;break;case"ortho":En<vn?(Un="h",Hn=it,On=bt):(Un="v",Hn=nt,On=At);break;default:Un="d"}"h"===Un?((je=St?h(kt,[At,Hn],[At,On]):[[nt,Hn],[nt,On],[At,On],[At,Hn]]).xmin=St?At:Math.min(nt,At),je.xmax=St?At:Math.max(nt,At),je.ymin=Math.min(Hn,On),je.ymax=Math.max(Hn,On),Qt.attr("d","M"+je.xmin+","+(it-$)+"h-4v"+2*$+"h4ZM"+(je.xmax-1)+","+(it-$)+"h4v"+2*$+"h-4Z")):"v"===Un?((je=St?h(kt,[Hn,bt],[On,bt]):[[Hn,it],[Hn,bt],[On,bt],[On,it]]).xmin=Math.min(Hn,On),je.xmax=Math.max(Hn,On),je.ymin=St?bt:Math.min(it,bt),je.ymax=St?bt:Math.max(it,bt),Qt.attr("d","M"+(nt-$)+","+je.ymin+"v-4h"+2*$+"v4ZM"+(nt-$)+","+(je.ymax-1)+"v4h"+2*$+"v-4Z")):"d"===Un&&((je=St?h(kt,[nt,it],[At,bt]):[[nt,it],[nt,bt],[At,bt],[At,it]]).xmin=Math.min(nt,At),je.xmax=Math.max(nt,At),je.ymin=Math.min(it,bt),je.ymax=Math.max(it,bt),Qt.attr("d","M0,0Z"))}else Ke&&(rt.addPt([At,bt]),je=rt.filtered);if(ze.selectionDefs&&ze.selectionDefs.length?(vt=Te(ze.mergedPolygons,je,Wt),je.subtract=Wt,ft=te(ze.selectionDefs.concat([je]))):(vt=[je],ft=W(je)),f(xe(vt,st),Zt,ze),at){var pr,ar=Se(gt,!1),Ar=ar.eventData?ar.eventData.points.slice():[];ar=Se(gt,!1,ft,tn,ze),ft=ar.selectionTesters,ct=ar.eventData,pr=rt?rt.filtered:Re(vt),I.throttle(Pn,z.SELECTDELAY,function(){for(var hr=(Tn=Ne(ft,tn)).slice(),fr=0;fr<Ar.length;fr++){for(var Rr=Ar[fr],Xt=!1,rn=0;rn<hr.length;rn++)if(hr[rn].curveNumber===Rr.curveNumber&&hr[rn].pointNumber===Rr.pointNumber){Xt=!0;break}Xt||hr.push(Rr)}hr.length&&(ct||(ct={}),ct.points=hr),gn(ct,pr),gt.emit("plotly_selecting",ct)})}},ze.clickFn=function(hn,mn){if(Qt.remove(),gt._fullLayout._activeShapeIndex>=0)gt._fullLayout._deactivateShape(gt);else if(!mt){var En=dt.clickmode;I.done(Pn).then(function(){if(I.clear(Pn),2===hn){for(Zt.remove(),Ve=0;Ve<tn.length;Ve++)(ut=tn[Ve])._module.selectPoints(ut,!1);if(Pe(gt,tn),ue(ze),$e(gt),tn.length){var vn=tn[0].xaxis,Un=tn[0].yaxis;if(vn&&Un){for(var Hn=[],On=gt._fullLayout.selections,Wn=0;Wn<On.length;Wn++){var pr=On[Wn];pr&&(pr.xref===vn._id&&pr.yref===Un._id||Hn.push(pr))}Hn.length<On.length&&(gt._fullLayout._noEmitSelectedAtStart=!0,u.call("_guiRelayout",gt,{selections:Hn}))}}}else En.indexOf("select")>-1&&re(mn,gt,ze.xaxes,ze.yaxes,ze.subplot,ze,Zt),"event"===En&&Ue(gt,void 0);m.click(gt,mn)}).catch(d.error)}},ze.doneFn=function(){Qt.remove(),I.done(Pn).then(function(){I.clear(Pn),!Ct&&je&&ze.selectionDefs&&(je.subtract=Wt,ze.selectionDefs.push(je),ze.mergedPolygons.length=0,[].push.apply(ze.mergedPolygons,vt)),(Ct||mt)&&ue(ze,Ct),ze.doneFnCompleted&&ze.doneFnCompleted(Tn),at&&Ue(gt,ct)}).catch(d.error)}},clearOutline:w,clearSelectionsCache:ue,selectOnClick:re}},89827:function(ie,B,e){"use strict";var C=e(50215),S=e(41940),u=e(82196).line,A=e(79952).P,T=e(1426).extendFlat,m=e(44467).templatedArray,l=(e(24695),e(5386).R),t=e(37281);ie.exports=m("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:T({},C.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:T({},C.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:T({},u.color,{editType:"arraydraw"}),width:T({},u.width,{editType:"calc+arraydraw"}),dash:T({},A,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:l({},{keys:Object.keys(t)}),font:S({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(ie,B,e){"use strict";var C=e(71828),S=e(89298),u=e(21459),A=e(30477);function T(o){return l(o.line.width,o.xsizemode,o.x0,o.x1,o.path,!1)}function m(o){return l(o.line.width,o.ysizemode,o.y0,o.y1,o.path,!0)}function l(o,r,n,a,s,c){var p=o/2,f=c;if("pixel"===r){var w=s?A.extractPathCoords(s,c?u.paramIsY:u.paramIsX):[n,a],v=C.aggNums(Math.max,null,w),h=C.aggNums(Math.min,null,w),_=h<0?Math.abs(h)+p:p,x=v>0?v+p:p;return{ppad:p,ppadplus:f?_:x,ppadminus:f?x:_}}return{ppad:p}}function t(o,r,n,a,s){var c="category"===o.type||"multicategory"===o.type?o.r2c:o.d2c;if(void 0!==r)return[c(r),c(n)];if(a){var p,f,w,v,h=1/0,_=-1/0,x=a.match(u.segmentRE);for("date"===o.type&&(c=A.decodeDate(c)),p=0;p<x.length;p++)void 0!==(f=s[x[p].charAt(0)].drawn)&&(!(w=x[p].substr(1).match(u.paramRE))||w.length<f||((v=c(w[f]))<h&&(h=v),v>_&&(_=v)));return _>=h?[h,_]:void 0}}ie.exports=function(o){var n=C.filterVisible(o._fullLayout.shapes);if(n.length&&o._fullData.length)for(var a=0;a<n.length;a++){var s,c,p=n[a];p._extremes={};var f=S.getRefType(p.xref),w=S.getRefType(p.yref);if("paper"!==p.xref&&"domain"!==f){var v="pixel"===p.xsizemode?p.xanchor:p.x0,h="pixel"===p.xsizemode?p.xanchor:p.x1;(c=t(s=S.getFromId(o,p.xref),v,h,p.path,u.paramIsX))&&(p._extremes[s._id]=S.findExtremes(s,c,T(p)))}if("paper"!==p.yref&&"domain"!==w){var _="pixel"===p.ysizemode?p.yanchor:p.y0,x="pixel"===p.ysizemode?p.yanchor:p.y1;(c=t(s=S.getFromId(o,p.yref),_,x,p.path,u.paramIsY))&&(p._extremes[s._id]=S.findExtremes(s,c,m(p)))}}}},21459:function(ie){"use strict";ie.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(ie,B,e){"use strict";var C=e(71828),S=e(89298),u=e(85501),A=e(89827),T=e(30477);function m(l,t,o){function r(H,U){return C.coerce(l,t,A,H,U)}if(r("visible")){var n=r("path"),a=r("type",n?"path":"rect"),s="path"!==a;s&&delete t.path,r("editable"),r("layer"),r("opacity"),r("fillcolor"),r("fillrule"),r("line.width")&&(r("line.color"),r("line.dash"));for(var c=r("xsizemode"),p=r("ysizemode"),f=["x","y"],w=0;w<2;w++){var v,h,_,x=f[w],b=x+"anchor",M="x"===x?c:p,d={_fullLayout:o},E=S.coerceRef(l,t,d,x,void 0,"paper");if("range"===S.getRefType(E)?((v=S.getFromId(d,E))._shapeIndices.push(t._index),_=T.rangeToShapePosition(v),h=T.shapePositionToRange(v)):h=_=C.identity,s){var k=x+"0",I=x+"1",L=l[k],P=l[I];l[k]=h(l[k],!0),l[I]=h(l[I],!0),"pixel"===M?(r(k,0),r(I,10)):(S.coercePosition(t,d,r,E,k,.25),S.coercePosition(t,d,r,E,I,.75)),t[k]=_(t[k]),t[I]=_(t[I]),l[k]=L,l[I]=P}if("pixel"===M){var R=l[b];l[b]=h(l[b],!0),S.coercePosition(t,d,r,E,b,.25),t[b]=_(t[b]),l[b]=R}}s&&C.noneOrAll(l,t,["x0","x1","y0","y1"]);var z,$,N="line"===a;if(s&&(z=r("label.texttemplate")),z||($=r("label.text")),$||z){r("label.textangle");var W=r("label.textposition",N?"middle":"middle center");r("label.xanchor"),r("label.yanchor",(U=W,N?"bottom":-1!==U.indexOf("top")?"top":-1!==U.indexOf("bottom")?"bottom":"middle")),r("label.padding"),C.coerceFont(r,"label.font",o.font)}}var U}ie.exports=function(l,t){u(l,t,{name:"shapes",handleItemDefaults:m})}},48100:function(ie,B,e){"use strict";var C=e(71828),S=e(89298),u=e(63893),A=e(91424),T=e(60165).readPaths,m=e(30477),l=m.getPathString,t=e(37281),o=e(18783).FROM_TL;ie.exports=function(r,n,a,s){if(s.selectAll(".shape-label").remove(),a.label.text||a.label.texttemplate){var c;if(a.label.texttemplate){var p={};if("path"!==a.type){var f=S.getFromId(r,a.xref),w=S.getFromId(r,a.yref);for(var v in t){var h=t[v](a,f,w);void 0!==h&&(p[v]=h)}}c=C.texttemplateStringForShapes(a.label.texttemplate,{},r._fullLayout._d3locale,p)}else c=a.label.text;var _,x,b,M,d={"data-index":n},E=a.label.font,k=s.append("g").attr(d).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(c);if(a.path){var I=l(r,a),L=T(I,r);_=1/0,b=1/0,x=-1/0,M=-1/0;for(var P=0;P<L.length;P++)for(var R=0;R<L[P].length;R++)for(var z=L[P][R],$=1;$<z.length;$+=2){var N=z[$],W=z[$+1];_=Math.min(_,N),x=Math.max(x,N),b=Math.min(b,W),M=Math.max(M,W)}}else{var H=S.getFromId(r,a.xref),U=S.getRefType(a.xref),Z=S.getFromId(r,a.yref),Y=S.getRefType(a.yref),ae=m.getDataToPixel(r,H,!1,U),re=m.getDataToPixel(r,Z,!0,Y);_=ae(a.x0),x=ae(a.x1),b=re(a.y0),M=re(a.y1)}var Q=a.label.textangle;"auto"===Q&&(Q="line"===a.type?(fe=_,he=b,me=x,ke=M,Te=Math.abs(me-fe),-180/Math.PI*Math.atan2(me>=fe?he-ke:ke-he,Te)):0),k.call(function(fe){return fe.call(A.font,E).attr({}),u.convertToTspans(fe,r),fe});var K=function(fe,he,me,ke,Pe,Te,be){var xe,Ne,Se,Ce,pe=Pe.label.textposition,de=Pe.label.textangle,se=Pe.label.padding,we=Pe.type,Re=Math.PI/180*Te,Ee=Math.sin(Re),Ue=Math.cos(Re),$e=Pe.label.xanchor,ve=Pe.label.yanchor;if("line"===we){"start"===pe?(xe=fe,Ne=he):"end"===pe?(xe=me,Ne=ke):(xe=(fe+me)/2,Ne=(he+ke)/2),"auto"===$e&&($e="start"===pe?"auto"===de?me>fe?"left":me<fe?"right":"center":me>fe?"right":me<fe?"left":"center":"end"===pe?"auto"===de?me>fe?"right":me<fe?"left":"center":me>fe?"left":me<fe?"right":"center":"center");var Ie={bottom:-1,middle:0,top:1};if("auto"===de){var De=Ie[ve];Se=-se*Ee*De,Ce=se*Ue*De}else Se=se*{left:1,center:0,right:-1}[$e],Ce=se*Ie[ve];xe+=Se,Ne+=Ce}else Se=se+3,-1!==pe.indexOf("right")?(xe=Math.max(fe,me)-Se,"auto"===$e&&($e="right")):-1!==pe.indexOf("left")?(xe=Math.min(fe,me)+Se,"auto"===$e&&($e="left")):(xe=(fe+me)/2,"auto"===$e&&($e="center")),Ne=-1!==pe.indexOf("top")?Math.min(he,ke):-1!==pe.indexOf("bottom")?Math.max(he,ke):(he+ke)/2,Ce=se,"bottom"===ve?Ne-=Ce:"top"===ve&&(Ne+=Ce);var ze=o[ve],Ge=Pe.label.font.size,He=be.height;return{textx:xe+(He*ze-Ge)*Ee,texty:Ne+-(He*ze-Ge)*Ue,xanchor:$e}}(_,b,x,M,a,Q,A.bBox(k.node())),te=K.textx,oe=K.texty;k.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[K.xanchor],y:oe,x:te,transform:"rotate("+Q+","+te+","+oe+")"}).call(u.positionText,te,oe)}var fe,he,me,ke,Te}},42359:function(ie,B,e){"use strict";var C=e(71828).strTranslate,S=e(28569),u=e(64505),A=u.drawMode,T=u.selectMode,m=e(73972),l=e(7901),t=e(89995),o=t.i000,r=t.i090,n=t.i180,a=t.i270,s=e(51873).clearOutlineControllers,c=e(60165),p=c.pointsOnRectangle,f=c.pointsOnEllipse,w=c.writePaths,v=e(90551).newShapes,h=e(90551).createShapeObj,_=e(35855),x=e(48100);function b(M,d){var E,k,I,R=M.length;return k=M[E=(d+1)%R][1],I=M[E][2],k===M[d][1]&&I===M[d][2]&&(k=M[E=(d+2)%R][1],I=M[E][2]),[E,k,I]}ie.exports=function M(d,E,k,I){I||(I=0);var L=k.gd;function P(){M(d,E,k,I++),(f(d[0])||k.hasText)&&R({redrawing:!0})}function R(Pe){var Te={};void 0!==k.isActiveShape&&(k.isActiveShape=!1,Te=v(E,k)),void 0!==k.isActiveSelection&&(k.isActiveSelection=!1,Te=_(E,k),L._fullLayout._reselect=!0),Object.keys(Te).length&&m.call((Pe||{}).redrawing?"relayout":"_guiRelayout",L,Te)}var z,$,N,W,H,U=L._fullLayout._zoomlayer,Z=k.dragmode,Y=A(Z),ae=T(Z);if((Y||ae)&&(L._fullLayout._outlining=!0),s(L),E.attr("d",w(d)),I||!k.isActiveShape&&!k.isActiveSelection||(H=function(Pe,Te){for(var be=0;be<Te.length;be++){var xe=Te[be];Pe[be]=[];for(var Ne=0;Ne<xe.length;Ne++){Pe[be][Ne]=[];for(var Se=0;Se<xe[Ne].length;Se++)Pe[be][Ne][Se]=xe[Ne][Se]}}return Pe}([],d),function(Pe){z=[];for(var Te=0;Te<d.length;Te++){var be=d[Te],xe=p(be),Ne=!xe&&f(be);z[Te]=[];for(var Se=be.length,Ce=0;Ce<Se;Ce++)if("Z"!==be[Ce][0]&&(!Ne||Ce===o||Ce===r||Ce===n||Ce===a)){var pe,de=xe&&k.isActiveSelection;de&&(pe=b(be,Ce));var se=be[Ce][1],we=be[Ce][2],Re=Pe.append(de?"rect":"circle").attr("data-i",Te).attr("data-j",Ce).style({fill:l.background,stroke:l.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(de){var Ee=pe[1]-se,Ue=pe[2]-we,$e=Ue?5:Math.max(Math.min(25,Math.abs(Ee)-5),5),ve=Ee?5:Math.max(Math.min(25,Math.abs(Ue)-5),5);Re.classed(Ue?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",$e).attr("height",ve).attr("x",se-$e/2).attr("y",we-ve/2).attr("transform",C(Ee/2,Ue/2))}else Re.classed("cursor-grab",!0).attr("r",5).attr("cx",se).attr("cy",we);z[Te][Ce]={element:Re.node(),gd:L,prepFn:K,doneFn:oe,clickFn:ue},S.init(z[Te][Ce])}}}(U.append("g").attr("class","outline-controllers")),$=[],d.length&&($[0]={element:E[0][0],gd:L,prepFn:function he(Pe){(N=+Pe.srcElement.getAttribute("data-i"))||(N=0),$[N].moveFn=fe},doneFn:function me(){R()},clickFn:function ke(Pe){2===Pe&&function(Te){if(T(Te._fullLayout.dragmode)){s(Te);var be=Te._fullLayout._activeSelectionIndex,xe=(Te.layout||{}).selections||[];if(be<xe.length){for(var Ne=[],Se=0;Se<xe.length;Se++)Se!==be&&Ne.push(xe[Se]);delete Te._fullLayout._activeSelectionIndex;var Ce=Te._fullLayout.selections[be];Te._fullLayout._deselect={xref:Ce.xref,yref:Ce.yref},m.call("_guiRelayout",Te,{selections:Ne})}}}(L)}},S.init($[0]))),Y&&k.hasText){var re=U.select(".label-temp"),Q=h(E,k,k.dragmode);x(L,"label-temp",Q,re)}function K(Pe){N=+Pe.srcElement.getAttribute("data-i"),W=+Pe.srcElement.getAttribute("data-j"),z[N][W].moveFn=te}function te(Pe,Te){if(d.length){var be=H[N][W][1],xe=H[N][W][2],Ne=d[N],Se=Ne.length;if(p(Ne)){var Ce=Pe,pe=Te;k.isActiveSelection&&(b(Ne,W)[1]===Ne[W][1]?pe=0:Ce=0);for(var de=0;de<Se;de++)if(de!==W){var se=Ne[de];se[1]===Ne[W][1]&&(se[1]=be+Ce),se[2]===Ne[W][2]&&(se[2]=xe+pe)}if(Ne[W][1]=be+Ce,Ne[W][2]=xe+pe,!p(Ne))for(var we=0;we<Se;we++)for(var Re=0;Re<Ne[we].length;Re++)Ne[we][Re]=H[N][we][Re]}else Ne[W][1]=be+Pe,Ne[W][2]=xe+Te;P()}}function oe(){R()}function ue(Pe,Te){if(2===Pe){N=+Te.srcElement.getAttribute("data-i"),W=+Te.srcElement.getAttribute("data-j");var be=d[N];p(be)||f(be)||function(){if(d.length&&d[N]&&d[N].length){for(var xe=[],Ne=0;Ne<d[N].length;Ne++)Ne!==W&&xe.push(d[N][Ne]);xe.length>1&&(2!==xe.length||"Z"!==xe[1][0])&&(0===W&&(xe[0][0]="M"),d[N]=xe,P(),R())}}()}}function fe(Pe,Te){(function(be,xe){if(d.length)for(var Ne=0;Ne<d.length;Ne++)for(var Se=0;Se<d[Ne].length;Se++)for(var Ce=0;Ce+2<d[Ne][Se].length;Ce+=2)d[Ne][Se][Ce+1]=H[Ne][Se][Ce+1]+be,d[Ne][Se][Ce+2]=H[Ne][Se][Ce+2]+xe})(Pe,Te),P()}}},34031:function(ie,B,e){"use strict";var C=e(39898),S=e(73972),u=e(71828),A=e(89298),T=e(60165).readPaths,m=e(42359),l=e(48100),t=e(51873).clearOutlineControllers,o=e(7901),r=e(91424),n=e(44467).arrayEditor,a=e(28569),s=e(6964),c=e(21459),p=e(30477),f=p.getPathString;function w(d){var E=d._fullLayout;for(var k in E._shapeUpperLayer.selectAll("path").remove(),E._shapeLowerLayer.selectAll("path").remove(),E._shapeUpperLayer.selectAll("text").remove(),E._shapeLowerLayer.selectAll("text").remove(),E._plots){var I=E._plots[k].shapelayer;I&&(I.selectAll("path").remove(),I.selectAll("text").remove())}for(var L=0;L<E.shapes.length;L++)E.shapes[L].visible&&_(d,L)}function v(d){return!!d._fullLayout._outlining}function h(d){return!d._context.edits.shapePosition}function _(d,E){d._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+E+'"]').remove();var k=p.makeShapesOptionsAndPlotinfo(d,E),I=k.options,L=k.plotinfo;I._input&&!1!==I.visible&&function P(R){var z=f(d,I),$={"data-index":E,"fill-rule":I.fillrule,d:z},N=I.opacity,W=I.fillcolor,H=I.line.width?I.line.color:"rgba(0,0,0,0)",U=I.line.width,Z=I.line.dash;U||!0!==I.editable||(U=5,Z="solid");var Y="Z"!==z[z.length-1],ae=h(d)&&I.editable&&d._fullLayout._activeShapeIndex===E;ae&&(W=Y?"rgba(0,0,0,0)":d._fullLayout.activeshape.fillcolor,N=d._fullLayout.activeshape.opacity);var re,Q=R.append("g").classed("shape-group",!0).attr({"data-index":E}),K=Q.append("path").attr($).style("opacity",N).call(o.stroke,H).call(o.fill,W).call(r.dashLine,Z,U);if(x(Q,d,I),l(d,E,I,Q),(ae||d._context.edits.shapePosition)&&(re=n(d.layout,"shapes",I)),ae){K.style({cursor:"move"});var te={element:K.node(),plotinfo:L,gd:d,editHelpers:re,hasText:I.label.text||I.label.texttemplate,isActiveShape:!0},oe=T(z,d);m(oe,K,te)}else d._context.edits.shapePosition?function(ue,fe,he,me,ke,Pe){var Te,be,xe,Ne,Se,Ce,pe,de,se,we,Re,Ee,Ue,$e,ve,Ie,Ge="pixel"===he.xsizemode,He="pixel"===he.ysizemode,Ke="line"===he.type,et="path"===he.type,st=Pe.modifyItem,mt=C.select(fe.node().parentNode),at=A.getFromId(ue,he.xref),kt=A.getRefType(he.xref),St=A.getFromId(ue,he.yref),gt=A.getRefType(he.yref),dt=p.getDataToPixel(ue,at,!1,kt),Ct=p.getDataToPixel(ue,St,!0,gt),Ot=p.getPixelToData(ue,at,!1,kt),Pt=p.getPixelToData(ue,St,!0,gt),Ht=Ke?function(){var je=Math.max(he.line.width,10),Ve=ke.append("g").attr("data-index",me).attr("drag-helper",!0);Ve.append("path").attr("d",fe.attr("d")).style({cursor:"move","stroke-width":je,"stroke-opacity":"0"});var ut={"fill-opacity":"0"},ct=Math.max(je/2,10);return Ve.append("circle").attr({"data-line-point":"start-point",cx:Ge?dt(he.xanchor)+he.x0:dt(he.x0),cy:He?Ct(he.yanchor)-he.y0:Ct(he.y0),r:ct}).style(ut).classed("cursor-grab",!0),Ve.append("circle").attr({"data-line-point":"end-point",cx:Ge?dt(he.xanchor)+he.x1:dt(he.x1),cy:He?Ct(he.yanchor)-he.y1:Ct(he.y1),r:ct}).style(ut).classed("cursor-grab",!0),Ve}():fe,jt={element:Ht.node(),gd:ue,prepFn:function(vt){var je,Ve,ut,ct,Tt,Mt,At,bt;v(ue)||(Ge&&(Se=dt(he.xanchor)),He&&(Ce=Ct(he.yanchor)),"path"===he.type?ve=he.path:(Te=Ge?he.x0:dt(he.x0),be=He?he.y0:Ct(he.y0),xe=Ge?he.x1:dt(he.x1),Ne=He?he.y1:Ct(he.y1)),Te<xe?(se=Te,Ue="x0",we=xe,$e="x1"):(se=xe,Ue="x1",we=Te,$e="x0"),!He&&be<Ne||He&&be>Ne?(pe=be,Re="y0",de=Ne,Ee="y1"):(pe=Ne,Re="y1",de=be,Ee="y0"),nt(vt),rt(ke,he),je=fe,Tt=(Ve=he).yref,Mt=A.getFromId(ut=ue,ct=Ve.xref),At=A.getFromId(ut,Tt),bt="","paper"===ct||Mt.autorange||(bt+=ct),"paper"===Tt||At.autorange||(bt+=Tt),r.setClipUrl(je,bt?"clip"+ut._fullLayout._uid+bt:null,ut),jt.moveFn="move"===Ie?it:Xe,jt.altKey=vt.altKey)},doneFn:function(){v(ue)||(s(fe),ft(ke),x(fe,ue,he),S.call("_guiRelayout",ue,Pe.getUpdateObj()))},clickFn:function(){v(ue)||ft(ke)}};function nt(vt){if(v(ue))Ie=null;else if(Ke)Ie="path"===vt.target.tagName?"move":"start-point"===vt.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var je=jt.element.getBoundingClientRect(),Ve=je.right-je.left,ut=je.bottom-je.top,Mt=!et&&Ve>10&&ut>10&&!vt.shiftKey?a.getCursor((vt.clientX-je.left)/Ve,1-(vt.clientY-je.top)/ut):"move";s(fe,Mt),Ie=Mt.split("-")[0]}}function it(vt,je){if("path"===he.type){var Ve=function(Tt){return Tt},ut=Ve,ct=Ve;Ge?st("xanchor",he.xanchor=Ot(Se+vt)):(ut=function(Tt){return Ot(dt(Tt)+vt)},at&&"date"===at.type&&(ut=p.encodeDate(ut))),He?st("yanchor",he.yanchor=Pt(Ce+je)):(ct=function(Tt){return Pt(Ct(Tt)+je)},St&&"date"===St.type&&(ct=p.encodeDate(ct))),st("path",he.path=b(ve,ut,ct))}else Ge?st("xanchor",he.xanchor=Ot(Se+vt)):(st("x0",he.x0=Ot(Te+vt)),st("x1",he.x1=Ot(xe+vt))),He?st("yanchor",he.yanchor=Pt(Ce+je)):(st("y0",he.y0=Pt(be+je)),st("y1",he.y1=Pt(Ne+je)));fe.attr("d",f(ue,he)),rt(ke,he),l(ue,me,he,mt)}function Xe(vt,je){if(et){var Ve=function(ln){return ln},ut=Ve,ct=Ve;Ge?st("xanchor",he.xanchor=Ot(Se+vt)):(ut=function(ln){return Ot(dt(ln)+vt)},at&&"date"===at.type&&(ut=p.encodeDate(ut))),He?st("yanchor",he.yanchor=Pt(Ce+je)):(ct=function(ln){return Pt(Ct(ln)+je)},St&&"date"===St.type&&(ct=p.encodeDate(ct))),st("path",he.path=b(ve,ut,ct))}else if(Ke){if("resize-over-start-point"===Ie){var Tt=Te+vt,Mt=He?be-je:be+je;st("x0",he.x0=Ge?Tt:Ot(Tt)),st("y0",he.y0=He?Mt:Pt(Mt))}else if("resize-over-end-point"===Ie){var At=xe+vt,bt=He?Ne-je:Ne+je;st("x1",he.x1=Ge?At:Ot(At)),st("y1",he.y1=He?bt:Pt(bt))}}else{var Rt=function(ln){return-1!==Ie.indexOf(ln)},xt=Rt("n"),_t=Rt("s"),It=Rt("w"),Gt=Rt("e"),Wt=xt?pe+je:pe,Zt=_t?de+je:de,cn=It?se+vt:se,nn=Gt?we+vt:we;He&&(xt&&(Wt=pe-je),_t&&(Zt=de-je)),(!He&&Zt-Wt>10||He&&Wt-Zt>10)&&(st(Re,he[Re]=He?Wt:Pt(Wt)),st(Ee,he[Ee]=He?Zt:Pt(Zt))),nn-cn>10&&(st(Ue,he[Ue]=Ge?cn:Ot(cn)),st($e,he[$e]=Ge?nn:Ot(nn)))}fe.attr("d",f(ue,he)),rt(ke,he),l(ue,me,he,mt)}function rt(vt,je){(Ge||He)&&function(){var Ve="path"!==je.type,ut=vt.selectAll(".visual-cue").data([0]);ut.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var ct=dt(Ge?je.xanchor:u.midRange(Ve?[je.x0,je.x1]:p.extractPathCoords(je.path,c.paramIsX))),Tt=Ct(He?je.yanchor:u.midRange(Ve?[je.y0,je.y1]:p.extractPathCoords(je.path,c.paramIsY)));ct=p.roundPositionForSharpStrokeRendering(ct,1),Tt=p.roundPositionForSharpStrokeRendering(Tt,1),ut.attr("d",Ge&&He?"M"+(ct-1-1)+","+(Tt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":Ge?"M"+(ct-1-1)+","+(Tt-9-1)+"v18 h2 v-18 Z":"M"+(ct-9-1)+","+(Tt-1-1)+"h18 v2 h-18 Z")}()}function ft(vt){vt.selectAll(".visual-cue").remove()}a.init(jt),Ht.node().onmousemove=nt}(d,K,I,E,R,re):!0===I.editable&&K.style("pointer-events",Y||o.opacity(W)*N<=.5?"stroke":"all");K.node().addEventListener("click",function(){return function(ue,fe){if(h(ue)){var he=+fe.node().getAttribute("data-index");if(he>=0){if(he===ue._fullLayout._activeShapeIndex)return void M(ue);ue._fullLayout._activeShapeIndex=he,ue._fullLayout._deactivateShape=M,w(ue)}}}(d,K)})}("below"!==I.layer?d._fullLayout._shapeUpperLayer:"paper"===I.xref||"paper"===I.yref?d._fullLayout._shapeLowerLayer:L._hadPlotinfo?(L.mainplotinfo||L).shapelayer:d._fullLayout._shapeLowerLayer)}function x(d,E,k){var I=(k.xref+k.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");r.setClipUrl(d,I?"clip"+E._fullLayout._uid+I:null,E)}function b(d,E,k){return d.replace(c.segmentRE,function(I){var L=0,P=I.charAt(0),R=c.paramIsX[P],z=c.paramIsY[P],$=c.numParams[P];return P+I.substr(1).replace(c.paramRE,function(N){return L>=$||(R[L]?N=E(N):z[L]&&(N=k(N)),L++),N})})}function M(d){h(d)&&d._fullLayout._activeShapeIndex>=0&&(t(d),delete d._fullLayout._activeShapeIndex,w(d))}ie.exports={draw:w,drawOne:_,eraseActiveShape:function(d){if(h(d)){t(d);var E=d._fullLayout._activeShapeIndex,k=(d.layout||{}).shapes||[];if(E<k.length){for(var I=[],L=0;L<k.length;L++)L!==E&&I.push(k[L]);delete d._fullLayout._activeShapeIndex,S.call("_guiRelayout",d,{shapes:I})}}},drawLabel:l}},29241:function(ie,B,e){"use strict";var C=e(41940),S=e(79952).P,u=e(1426).extendFlat,A=e(5386).R,T=e(37281);ie.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:u({},S,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},label:{text:{valType:"string",dflt:"",editType:"none"},texttemplate:A({newshape:!0,editType:"none"},{keys:Object.keys(T)}),font:C({editType:"none"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"none"},textangle:{valType:"angle",dflt:"auto",editType:"none"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"none"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"none"},padding:{valType:"number",dflt:3,min:0,editType:"none"},editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},89995:function(ie){"use strict";ie.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(ie,B,e){"use strict";var C=e(7901),S=e(71828);ie.exports=function(u,A,T){T("newshape.drawdirection"),T("newshape.layer"),T("newshape.fillcolor"),T("newshape.fillrule"),T("newshape.opacity"),T("newshape.line.width")&&(T("newshape.line.color",C.contrast((u||{}).plot_bgcolor||"#FFF")),T("newshape.line.dash"));var a,l="drawline"===u.dragmode,t=T("newshape.label.text"),o=T("newshape.label.texttemplate");if(t||o){T("newshape.label.textangle");var r=T("newshape.label.textposition",l?"middle":"middle center");T("newshape.label.xanchor"),T("newshape.label.yanchor",(a=r,l?"bottom":-1!==a.indexOf("top")?"top":-1!==a.indexOf("bottom")?"bottom":"middle")),T("newshape.label.padding"),S.coerceFont(T,"newshape.label.font",A.font)}T("activeshape.fillcolor"),T("activeshape.opacity")}},60165:function(ie,B,e){"use strict";var C=e(95616),S=e(89995),u=S.CIRCLE_SIDES,A=S.SQRT2,T=e(75549),m=T.p2r,l=T.r2p,t=[0,3,4,5,6,1,2],o=[0,3,4,1,2];function r(a,s){return Math.abs(a-s)<=1e-6}function n(a,s){var c=s[1]-a[1],p=s[2]-a[2];return Math.sqrt(c*c+p*p)}B.writePaths=function(a){var s=a.length;if(!s)return"M0,0Z";for(var c="",p=0;p<s;p++)for(var f=a[p].length,w=0;w<f;w++){var v=a[p][w][0];if("Z"===v)c+="Z";else for(var h=a[p][w].length,_=0;_<h;_++){var x=_;"Q"===v||"S"===v?x=o[_]:"C"===v&&(x=t[_]),c+=a[p][w][x],_>0&&_<h-1&&(c+=",")}}return c},B.readPaths=function(a,s,c,p){var f,w,v,h=C(a),_=[],x=-1,b=0,M=0,d=function(){w=b,v=M};d();for(var E=0;E<h.length;E++){var R=[],z=h[E][0],$=z;switch(z){case"M":_[++x]=[],R.push([$,b=+h[E][1],M=+h[E][2]]),d();break;case"Q":case"S":R.push([$,b=+h[E][3],M=+h[E][4],+h[E][1],+h[E][2]]);break;case"C":R.push([$,b=+h[E][5],M=+h[E][6],+h[E][1],+h[E][2],+h[E][3],+h[E][4]]);break;case"T":case"L":R.push([$,b=+h[E][1],M=+h[E][2]]);break;case"H":R.push([$="L",b=+h[E][1],M]);break;case"V":R.push([$="L",b,M=+h[E][1]]);break;case"A":$="L";var N=+h[E][1],W=+h[E][2];+h[E][4]||(N=-N,W=-W);var H=b-N,U=M;for(f=1;f<=u/2;f++){var Z=2*Math.PI*f/u;R.push([$,H+N*Math.cos(Z),U+W*Math.sin(Z)])}break;case"Z":b===w&&M===v||R.push([$,b=w,M=v])}for(var Y=(c||{}).domain,ae=s._fullLayout._size,re=c&&"pixel"===c.xsizemode,Q=c&&"pixel"===c.ysizemode,K=!1===p,te=0;te<R.length;te++){for(f=0;f+2<7;f+=2){var oe=R[te][f+1],ue=R[te][f+2];void 0!==oe&&void 0!==ue&&(b=oe,M=ue,c&&(c.xaxis&&c.xaxis.p2r?(K&&(oe-=c.xaxis._offset),oe=re?l(c.xaxis,c.xanchor)+oe:m(c.xaxis,oe)):(K&&(oe-=ae.l),Y?oe=Y.x[0]+oe/ae.w:oe/=ae.w),c.yaxis&&c.yaxis.p2r?(K&&(ue-=c.yaxis._offset),ue=Q?l(c.yaxis,c.yanchor)-ue:m(c.yaxis,ue)):(K&&(ue-=ae.t),ue=Y?Y.y[1]-ue/ae.h:1-ue/ae.h)),R[te][f+1]=oe,R[te][f+2]=ue)}_[x].push(R[te].slice())}}return _},B.pointsOnRectangle=function(a){if(5!==a.length)return!1;for(var s=1;s<3;s++)if(!r(a[0][s]-a[1][s],a[3][s]-a[2][s])||!r(a[0][s]-a[3][s],a[1][s]-a[2][s]))return!1;return!(!r(a[0][1],a[1][1])&&!r(a[0][1],a[3][1])||!(n(a[0],a[1])*n(a[0],a[3])))},B.pointsOnEllipse=function(a){var s=a.length;if(s!==u+1)return!1;s=u;for(var c=0;c<s;c++){var p=(2*s-c)%s,f=(s/2+p)%s;if(!r(n(a[c],a[(s/2+c)%s]),n(a[p],a[f])))return!1}return!0},B.handleEllipse=function(a,s,c){if(!a)return[s,c];var p=B.ellipseOver({x0:s[0],y0:s[1],x1:c[0],y1:c[1]}),f=(p.x1+p.x0)/2,w=(p.y1+p.y0)/2,v=(p.x1-p.x0)/2,h=(p.y1-p.y0)/2;v||(v=h/=A),h||(h=v/=A);for(var _=[],x=0;x<u;x++){var b=2*x*Math.PI/u;_.push([f+v*Math.cos(b),w+h*Math.sin(b)])}return _},B.ellipseOver=function(a){var s=a.x0,c=a.y0,p=a.x1,f=a.y1,w=p-s,v=f-c,h=((s-=w)+p)/2,_=((c-=v)+f)/2;return{x0:h-(w*=A),y0:_-(v*=A),x1:h+w,y1:_+v}},B.fixDatesForPaths=function(a,s,c){var p="date"===s.type,f="date"===c.type;if(!p&&!f)return a;for(var w=0;w<a.length;w++)for(var v=0;v<a[w].length;v++)for(var h=0;h+2<a[w][v].length;h+=2)p&&(a[w][v][h+1]=a[w][v][h+1].replace(" ","_")),f&&(a[w][v][h+2]=a[w][v][h+2].replace(" ","_"));return a}},90551:function(ie,B,e){"use strict";var C=e(64505),S=C.drawMode,u=C.openMode,A=e(89995),T=A.i000,m=A.i090,l=A.i180,t=A.i270,o=A.cos45,r=A.sin45,n=e(75549),a=n.p2r,s=n.r2p,c=e(51873).clearOutline,p=e(60165),f=p.readPaths,w=p.writePaths,v=p.ellipseOver,h=p.fixDatesForPaths;function _(x,b,M){var d,k=b.gd,I=x[0][0].getAttribute("d"),L=k._fullLayout.newshape,P=b.plotinfo,R=b.isActiveShape,z=P.xaxis,$=P.yaxis,N=!!P.domain||!P.xaxis,W=!!P.domain||!P.yaxis,H=u(M),U=f(I,k,P,R),Z={editable:!0,label:L.label,xref:N?"paper":z._id,yref:W?"paper":$._id,layer:L.layer,opacity:L.opacity,line:{color:L.line.color,width:L.line.width,dash:L.line.dash}};if(H||(Z.fillcolor=L.fillcolor,Z.fillrule=L.fillrule),1===U.length&&(d=U[0]),d&&5===d.length&&"drawrect"===M)Z.type="rect",Z.x0=d[0][1],Z.y0=d[0][2],Z.x1=d[2][1],Z.y1=d[2][2];else if(d&&"drawline"===M)Z.type="line",Z.x0=d[0][1],Z.y0=d[0][2],Z.x1=d[1][1],Z.y1=d[1][2];else if(d&&"drawcircle"===M){Z.type="circle";var Y=d[T][1],ae=d[m][1],re=d[l][1],Q=d[t][1],K=d[T][2],te=d[m][2],oe=d[l][2],ue=d[t][2],fe=P.xaxis&&("date"===P.xaxis.type||"log"===P.xaxis.type),he=P.yaxis&&("date"===P.yaxis.type||"log"===P.yaxis.type);fe&&(Y=s(P.xaxis,Y),ae=s(P.xaxis,ae),re=s(P.xaxis,re),Q=s(P.xaxis,Q)),he&&(K=s(P.yaxis,K),te=s(P.yaxis,te),oe=s(P.yaxis,oe),ue=s(P.yaxis,ue));var me=(ae+Q)/2,ke=(K+oe)/2,Pe=v({x0:me,y0:ke,x1:me+(Q-ae+re-Y)/2*o,y1:ke+(ue-te+oe-K)/2*r});fe&&(Pe.x0=a(P.xaxis,Pe.x0),Pe.x1=a(P.xaxis,Pe.x1)),he&&(Pe.y0=a(P.yaxis,Pe.y0),Pe.y1=a(P.yaxis,Pe.y1)),Z.x0=Pe.x0,Z.y0=Pe.y0,Z.x1=Pe.x1,Z.y1=Pe.y1}else Z.type="path",z&&$&&h(U,z,$),Z.path=w(U),d=null;return Z}ie.exports={newShapes:function(x,b){if(x.length&&x[0][0]){var M=b.gd,d=b.isActiveShape,E=b.dragmode,k=(M.layout||{}).shapes||[];if(!S(E)&&void 0!==d){var I=M._fullLayout._activeShapeIndex;if(I<k.length)switch(M._fullLayout.shapes[I].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var L=k[I].path||"";E="Z"===L[L.length-1]?"drawclosedpath":"drawopenpath"}}var P=_(x,b,E);c(M);for(var R=b.editHelpers,z=(R||{}).modifyItem,$=[],N=0;N<k.length;N++){var W=M._fullLayout.shapes[N];if($[N]=W._input,void 0!==d&&N===M._fullLayout._activeShapeIndex){var H=P;switch(W.type){case"line":case"rect":case"circle":z("x0",H.x0),z("x1",H.x1),z("y0",H.y0),z("y1",H.y1);break;case"path":z("path",H.path)}}}return void 0===d?($.push(P),$):R?R.getUpdateObj():{}}},createShapeObj:_}},51873:function(ie){"use strict";ie.exports={clearOutlineControllers:function(B){var e=B._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(B){var e=B._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),B._fullLayout._outlining=!1}}},30477:function(ie,B,e){"use strict";var C=e(21459),S=e(71828),u=e(89298);B.rangeToShapePosition=function(A){return"log"===A.type?A.r2d:function(T){return T}},B.shapePositionToRange=function(A){return"log"===A.type?A.d2r:function(T){return T}},B.decodeDate=function(A){return function(T){return T.replace&&(T=T.replace("_"," ")),A(T)}},B.encodeDate=function(A){return function(T){return A(T).replace(" ","_")}},B.extractPathCoords=function(A,T,m){var l=[];return A.match(C.segmentRE).forEach(function(t){var o=T[t.charAt(0)].drawn;if(void 0!==o){var r=t.substr(1).match(C.paramRE);if(r&&!(r.length<o)){var n=r[o],a=m?n:S.cleanNumber(n);l.push(a)}}}),l},B.getDataToPixel=function(A,T,m,l){var t,o=A._fullLayout._size;if(T)if("domain"===l)t=function(n){return T._length*(m?1-n:n)+T._offset};else{var r=B.shapePositionToRange(T);t=function(n){return T._offset+T.r2p(r(n,!0))},"date"===T.type&&(t=B.decodeDate(t))}else t=m?function(n){return o.t+o.h*(1-n)}:function(n){return o.l+o.w*n};return t},B.getPixelToData=function(A,T,m,l){var t,o=A._fullLayout._size;if(T)if("domain"===l)t=function(n){var a=(n-T._offset)/T._length;return m?1-a:a};else{var r=B.rangeToShapePosition(T);t=function(n){return r(T.p2r(n-T._offset))}}else t=m?function(n){return 1-(n-o.t)/o.h}:function(n){return(n-o.l)/o.w};return t},B.roundPositionForSharpStrokeRendering=function(A,T){var m=1===Math.round(T%2),l=Math.round(A);return m?l+.5:l},B.makeShapesOptionsAndPlotinfo=function(A,T){var m=A._fullLayout.shapes[T]||{},l=A._fullLayout._plots[m.xref+m.yref];return l?l._hadPlotinfo=!0:(l={},m.xref&&"paper"!==m.xref&&(l.xaxis=A._fullLayout[m.xref+"axis"]),m.yref&&"paper"!==m.yref&&(l.yaxis=A._fullLayout[m.yref+"axis"])),l.xsizemode=m.xsizemode,l.ysizemode=m.ysizemode,l.xanchor=m.xanchor,l.yanchor=m.yanchor,{options:m,plotinfo:l}},B.makeSelectionsOptionsAndPlotinfo=function(A,T){var m=A._fullLayout.selections[T]||{},l=A._fullLayout._plots[m.xref+m.yref];return l?l._hadPlotinfo=!0:(l={},m.xref&&(l.xaxis=A._fullLayout[m.xref+"axis"]),m.yref&&(l.yaxis=A._fullLayout[m.yref+"axis"])),{options:m,plotinfo:l}},B.getPathString=function(A,T){var m,l,t,o,r,n,a,s,L,P,R,$,N,W,H,c=T.type,p=u.getRefType(T.xref),f=u.getRefType(T.yref),w=u.getFromId(A,T.xref),v=u.getFromId(A,T.yref),h=A._fullLayout._size;if(w?"domain"===p?l=function(L){return w._offset+w._length*L}:(m=B.shapePositionToRange(w),l=function(L){return w._offset+w.r2p(m(L,!0))}):l=function(L){return h.l+h.w*L},v?"domain"===f?o=function(L){return v._offset+v._length*(1-L)}:(t=B.shapePositionToRange(v),o=function(L){return v._offset+v.r2p(t(L,!0))}):o=function(L){return h.t+h.h*(1-L)},"path"===c)return w&&"date"===w.type&&(l=B.decodeDate(l)),v&&"date"===v.type&&(o=B.decodeDate(o)),P=l,R=o,$=(L=T).xsizemode,N=L.ysizemode,W=L.xanchor,H=L.yanchor,L.path.replace(C.segmentRE,function(U){var Z=0,Y=U.charAt(0),ae=C.paramIsX[Y],re=C.paramIsY[Y],Q=C.numParams[Y],K=U.substr(1).replace(C.paramRE,function(te){return ae[Z]?te="pixel"===$?P(W)+Number(te):P(te):re[Z]&&(te="pixel"===N?R(H)-Number(te):R(te)),++Z>Q&&(te="X"),te});return Z>Q&&(K=K.replace(/[\s,]*X.*/,""),S.log("Ignoring extra params in segment "+U)),Y+K});if("pixel"===T.xsizemode){var _=l(T.xanchor);r=_+T.x0,n=_+T.x1}else r=l(T.x0),n=l(T.x1);if("pixel"===T.ysizemode){var x=o(T.yanchor);a=x-T.y0,s=x-T.y1}else a=o(T.y0),s=o(T.y1);if("line"===c)return"M"+r+","+a+"L"+n+","+s;if("rect"===c)return"M"+r+","+a+"H"+n+"V"+s+"H"+r+"Z";var b=(r+n)/2,M=(a+s)/2,d=Math.abs(b-r),E=Math.abs(M-a),k="A"+d+","+E,I=b+d+","+M;return"M"+I+k+" 0 1,1 "+b+","+(M-E)+k+" 0 0,1 "+I+"Z"}},89853:function(ie,B,e){"use strict";var C=e(34031);ie.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:C.draw,drawOne:C.drawOne}},37281:function(ie){"use strict";function B(u,A){return A?A.d2l(u):u}function e(u,A){return A?A.l2d(u):u}function C(u,A){return B(u.x1,A)-B(u.x0,A)}function S(u,A,T){return B(u.y1,T)-B(u.y0,T)}ie.exports={x0:function(u){return u.x0},x1:function(u){return u.x1},y0:function(u){return u.y0},y1:function(u){return u.y1},slope:function(u,A,T){return"line"!==u.type?void 0:S(u,0,T)/C(u,A)},dx:C,dy:S,width:function(u,A){return Math.abs(C(u,A))},height:function(u,A,T){return Math.abs(S(u,0,T))},length:function(u,A,T){return"line"!==u.type?void 0:Math.sqrt(Math.pow(C(u,A),2)+Math.pow(S(u,0,T),2))},xcenter:function(u,A){return e((B(u.x1,A)+B(u.x0,A))/2,A)},ycenter:function(u,A,T){return e((B(u.y1,T)+B(u.y0,T))/2,T)}}},75067:function(ie,B,e){"use strict";var C=e(41940),S=e(35025),u=e(1426).extendDeepAll,A=e(30962).overrideAll,T=e(85594),m=e(44467).templatedArray,l=e(98292),t=m("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});ie.exports=A(m("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:u(S({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:T.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:C({})},font:C({}),activebgcolor:{valType:"color",dflt:l.gripBgActiveColor},bgcolor:{valType:"color",dflt:l.railBgColor},bordercolor:{valType:"color",dflt:l.railBorderColor},borderwidth:{valType:"number",min:0,dflt:l.railBorderWidth},ticklen:{valType:"number",min:0,dflt:l.tickLength},tickcolor:{valType:"color",dflt:l.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:l.minorTickLength}}),"arraydraw","from-root")},98292:function(ie){"use strict";ie.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(ie,B,e){"use strict";var C=e(71828),S=e(85501),u=e(75067),A=e(98292).name,T=u.steps;function m(t,o,r){function n(f,w){return C.coerce(t,o,u,f,w)}for(var a=S(t,o,{name:"steps",handleItemDefaults:l}),s=0,c=0;c<a.length;c++)a[c].visible&&s++;if(s<2?o.visible=!1:n("visible")){o._stepCount=s;var p=o._visibleSteps=C.filterVisible(a);(a[n("active")]||{}).visible||(o.active=p[0]._index),n("x"),n("y"),C.noneOrAll(t,o,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),C.coerceFont(n,"font",r.font),n("currentvalue.visible")&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),C.coerceFont(n,"currentvalue.font",o.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function l(t,o){function r(a,s){return C.coerce(t,o,T,a,s)}if("skip"===t.method||Array.isArray(t.args)?r("visible"):o.visible=!1){r("method"),r("args");var n=r("label","step-"+o._index);r("value",n),r("execute")}}ie.exports=function(t,o){S(t,o,{name:A,handleItemDefaults:m})}},44504:function(ie,B,e){"use strict";var C=e(39898),S=e(74875),u=e(7901),A=e(91424),T=e(71828),m=T.strTranslate,l=e(63893),t=e(44467).arrayEditor,o=e(98292),r=e(18783),n=r.LINE_SPACING,a=r.FROM_TL,s=r.FROM_BR;function c(R){return o.autoMarginIdRoot+R._index}function p(R){return R._index}function f(R,z){var $=A.tester.selectAll("g."+o.labelGroupClass).data(z._visibleSteps);$.enter().append("g").classed(o.labelGroupClass,!0);var N=0,W=0;$.each(function(te){var oe=h(C.select(this),{step:te},z).node();if(oe){var ue=A.bBox(oe);W=Math.max(W,ue.height),N=Math.max(N,ue.width)}}),$.remove();var H=z._dims={};H.inputAreaWidth=Math.max(o.railWidth,o.gripHeight);var U=R._fullLayout._size;if(H.lx=U.l+U.w*z.x,H.ly=U.t+U.h*(1-z.y),H.outerLength="fraction"===z.lenmode?Math.round(U.w*z.len):z.len,H.inputAreaStart=0,H.inputAreaLength=Math.round(H.outerLength-z.pad.l-z.pad.r),H.labelStride=Math.max(1,Math.ceil((N+o.labelPadding)/((H.inputAreaLength-2*o.stepInset)/(z._stepCount-1)))),H.labelHeight=W,H.currentValueMaxWidth=0,H.currentValueHeight=0,H.currentValueTotalHeight=0,H.currentValueMaxLines=1,z.currentvalue.visible){var ae=A.tester.append("g");$.each(function(te){var oe=w(ae,z,te.label),ue=oe.node()&&A.bBox(oe.node())||{width:0,height:0},fe=l.lineCount(oe);H.currentValueMaxWidth=Math.max(H.currentValueMaxWidth,Math.ceil(ue.width)),H.currentValueHeight=Math.max(H.currentValueHeight,Math.ceil(ue.height)),H.currentValueMaxLines=Math.max(H.currentValueMaxLines,fe)}),H.currentValueTotalHeight=H.currentValueHeight+z.currentvalue.offset,ae.remove()}H.height=H.currentValueTotalHeight+o.tickOffset+z.ticklen+o.labelOffset+H.labelHeight+z.pad.t+z.pad.b;var re="left";T.isRightAnchor(z)&&(H.lx-=H.outerLength,re="right"),T.isCenterAnchor(z)&&(H.lx-=H.outerLength/2,re="center");var Q="top";T.isBottomAnchor(z)&&(H.ly-=H.height,Q="bottom"),T.isMiddleAnchor(z)&&(H.ly-=H.height/2,Q="middle"),H.outerLength=Math.ceil(H.outerLength),H.height=Math.ceil(H.height),H.lx=Math.round(H.lx),H.ly=Math.round(H.ly);var K={y:z.y,b:H.height*s[Q],t:H.height*a[Q]};"fraction"===z.lenmode?(K.l=0,K.xl=z.x-z.len*a[re],K.r=0,K.xr=z.x+z.len*s[re]):(K.x=z.x,K.l=H.outerLength*a[re],K.r=H.outerLength*s[re]),S.autoMargin(R,c(z),K)}function w(R,z,$){if(z.currentvalue.visible){var N,W,H=z._dims;switch(z.currentvalue.xanchor){case"right":N=H.inputAreaLength-o.currentValueInset-H.currentValueMaxWidth,W="left";break;case"center":N=.5*H.inputAreaLength,W="middle";break;default:N=o.currentValueInset,W="left"}var U=T.ensureSingle(R,"text",o.labelClass,function(K){K.attr({"text-anchor":W,"data-notex":1})}),Z=z.currentvalue.prefix?z.currentvalue.prefix:"";if("string"==typeof $)Z+=$;else{var Y=z.steps[z.active].label,ae=z._gd._fullLayout._meta;ae&&(Y=T.templateString(Y,ae)),Z+=Y}z.currentvalue.suffix&&(Z+=z.currentvalue.suffix),U.call(A.font,z.currentvalue.font).text(Z).call(l.convertToTspans,z._gd);var re=l.lineCount(U);return l.positionText(U,N,(H.currentValueMaxLines+1-re)*z.currentvalue.font.size*n),U}}function v(R,z,$){T.ensureSingle(R,"rect",o.gripRectClass,function(N){N.call(M,z,R,$).style("pointer-events","all")}).attr({width:o.gripWidth,height:o.gripHeight,rx:o.gripRadius,ry:o.gripRadius}).call(u.stroke,$.bordercolor).call(u.fill,$.bgcolor).style("stroke-width",$.borderwidth+"px")}function h(R,z,$){var N=T.ensureSingle(R,"text",o.labelClass,function(U){U.attr({"text-anchor":"middle","data-notex":1})}),W=z.step.label,H=$._gd._fullLayout._meta;return H&&(W=T.templateString(W,H)),N.call(A.font,$.font).text(W).call(l.convertToTspans,$._gd),N}function _(R,z){var $=T.ensureSingle(R,"g",o.labelsClass),N=z._dims,W=$.selectAll("g."+o.labelGroupClass).data(N.labelSteps);W.enter().append("g").classed(o.labelGroupClass,!0),W.exit().remove(),W.each(function(H){var U=C.select(this);U.call(h,H,z),A.setTranslate(U,k(z,H.fraction),o.tickOffset+z.ticklen+z.font.size*n+o.labelOffset+N.currentValueTotalHeight)})}function x(R,z,$,N,W){var H=Math.round(N*($._stepCount-1)),U=$._visibleSteps[H]._index;U!==$.active&&b(R,z,$,U,!0,W)}function b(R,z,$,N,W,H){var U=$.active;$.active=N,t(R.layout,o.name,$).applyUpdate("active",N);var Z=$.steps[$.active];z.call(E,$,H),z.call(w,$),R.emit("plotly_sliderchange",{slider:$,step:$.steps[$.active],interaction:W,previousActive:U}),Z&&Z.method&&W&&(z._nextMethod?(z._nextMethod.step=Z,z._nextMethod.doCallback=W,z._nextMethod.doTransition=H):(z._nextMethod={step:Z,doCallback:W,doTransition:H},z._nextMethodRaf=window.requestAnimationFrame(function(){var Y=z._nextMethod.step;Y.method&&(Y.execute&&S.executeAPICommand(R,Y.method,Y.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function M(R,z,$){if(!z._context.staticPlot){var N=$.node(),W=C.select(z);R.on("mousedown",U),R.on("touchstart",U)}function H(){return $.data()[0]}function U(){var Z=H();z.emit("plotly_sliderstart",{slider:Z});var Y=$.select("."+o.gripRectClass);C.event.stopPropagation(),C.event.preventDefault(),Y.call(u.fill,Z.activebgcolor);var ae=I(Z,C.mouse(N)[0]);function re(){var K=H(),te=I(K,C.mouse(N)[0]);x(z,$,K,te,!1)}function Q(){var K=H();K._dragging=!1,Y.call(u.fill,K.bgcolor),W.on("mouseup",null),W.on("mousemove",null),W.on("touchend",null),W.on("touchmove",null),z.emit("plotly_sliderend",{slider:K,step:K.steps[K.active]})}x(z,$,Z,ae,!0),Z._dragging=!0,W.on("mousemove",re),W.on("touchmove",re),W.on("mouseup",Q),W.on("touchend",Q)}}function d(R,z){var $=R.selectAll("rect."+o.tickRectClass).data(z._visibleSteps),N=z._dims;$.enter().append("rect").classed(o.tickRectClass,!0),$.exit().remove(),$.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),$.each(function(W,H){var U=H%N.labelStride==0,Z=C.select(this);Z.attr({height:U?z.ticklen:z.minorticklen}).call(u.fill,z.tickcolor),A.setTranslate(Z,k(z,H/(z._stepCount-1))-.5*z.tickwidth,(U?o.tickOffset:o.minorTickOffset)+N.currentValueTotalHeight)})}function E(R,z,$){for(var N=R.select("rect."+o.gripRectClass),W=0,H=0;H<z._stepCount;H++)if(z._visibleSteps[H]._index===z.active){W=H;break}var U=k(z,W/(z._stepCount-1));if(!z._invokingCommand){var Z=N;$&&z.transition.duration>0&&(Z=Z.transition().duration(z.transition.duration).ease(z.transition.easing)),Z.attr("transform",m(U-.5*o.gripWidth,z._dims.currentValueTotalHeight))}}function k(R,z){var $=R._dims;return $.inputAreaStart+o.stepInset+($.inputAreaLength-2*o.stepInset)*Math.min(1,Math.max(0,z))}function I(R,z){var $=R._dims;return Math.min(1,Math.max(0,(z-o.stepInset-$.inputAreaStart)/($.inputAreaLength-2*o.stepInset-2*$.inputAreaStart)))}function L(R,z,$){var N=$._dims,W=T.ensureSingle(R,"rect",o.railTouchRectClass,function(H){H.call(M,z,R,$).style("pointer-events","all")});W.attr({width:N.inputAreaLength,height:Math.max(N.inputAreaWidth,o.tickOffset+$.ticklen+N.labelHeight)}).call(u.fill,$.bgcolor).attr("opacity",0),A.setTranslate(W,0,N.currentValueTotalHeight)}function P(R,z){var $=z._dims,N=$.inputAreaLength-2*o.railInset,W=T.ensureSingle(R,"rect",o.railRectClass);W.attr({width:N,height:o.railWidth,rx:o.railRadius,ry:o.railRadius,"shape-rendering":"crispEdges"}).call(u.stroke,z.bordercolor).call(u.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),A.setTranslate(W,o.railInset,.5*($.inputAreaWidth-o.railWidth)+$.currentValueTotalHeight)}ie.exports=function(R){var z=R._context.staticPlot,$=R._fullLayout,N=function(ae,re){for(var Q=ae[o.name],K=[],te=0;te<Q.length;te++){var oe=Q[te];oe.visible&&(oe._gd=re,K.push(oe))}return K}($,R),W=$._infolayer.selectAll("g."+o.containerClassName).data(N.length>0?[0]:[]);function H(ae){ae._commandObserver&&(ae._commandObserver.remove(),delete ae._commandObserver),S.autoMargin(R,c(ae))}if(W.enter().append("g").classed(o.containerClassName,!0).style("cursor",z?null:"ew-resize"),W.exit().each(function(){C.select(this).selectAll("g."+o.groupClassName).each(H)}).remove(),0!==N.length){var U=W.selectAll("g."+o.groupClassName).data(N,p);U.enter().append("g").classed(o.groupClassName,!0),U.exit().each(H).remove();for(var Z=0;Z<N.length;Z++)f(R,N[Z]);U.each(function(ae){var re=C.select(this);(function(Q){var K=Q._dims;K.labelSteps=[];for(var te=Q._stepCount,oe=0;oe<te;oe+=K.labelStride)K.labelSteps.push({fraction:oe/(te-1),step:Q._visibleSteps[oe]})})(ae),S.manageCommandObserver(R,ae,ae._visibleSteps,function(Q){var K=re.data()[0];K.active!==Q.index&&(K._dragging||b(R,re,K,Q.index,!1,!0))}),function(Q,K,te){(te.steps[te.active]||{}).visible||(te.active=te._visibleSteps[0]._index),K.call(w,te).call(P,te).call(_,te).call(d,te).call(L,Q,te).call(v,Q,te);var oe=te._dims;A.setTranslate(K,oe.lx+te.pad.l,oe.ly+te.pad.t),K.call(E,te,!1),K.call(w,te)}(R,C.select(this),ae)})}}},23243:function(ie,B,e){"use strict";var C=e(98292);ie.exports={moduleType:"component",name:C.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(ie,B,e){"use strict";var C=e(39898),S=e(92770),u=e(74875),A=e(73972),T=e(71828),m=T.strTranslate,l=e(91424),t=e(7901),o=e(63893),r=e(37822),n=e(18783).OPPOSITE_SIDE,a=/ [XY][0-9]* /;ie.exports={draw:function(s,c,p){var f,w=p.propContainer,v=p.propName,h=p.placeholder,_=p.traceIndex,x=p.avoid||{},b=p.attributes,M=p.transform,d=p.containerGroup,E=s._fullLayout,k=1,I=!1,L=w.title,P=(L&&L.text?L.text:"").trim(),R=L&&L.font?L.font:{},z=R.family,$=R.size,N=R.color;"title.text"===v?f="titleText":-1!==v.indexOf("axis")?f="axisTitleText":v.indexOf(!0)&&(f="colorbarTitleText");var W=s._context.edits[f];""===P?k=0:P.replace(a," % ")===h.replace(a," % ")&&(k=.2,I=!0,W||(P="")),p._meta?P=T.templateString(P,p._meta):E._meta&&(P=T.templateString(P,E._meta));var H,U=P||W;d||(d=T.ensureSingle(E._infolayer,"g","g-"+c),H=E._hColorbarMoveTitle);var Z=d.selectAll("text").data(U?[0]:[]);if(Z.enter().append("text"),Z.text(P).attr("class",c),Z.exit().remove(),!U)return d;function Y(Q){T.syncOrAsync([ae,re],Q)}function ae(Q){var K;return!M&&H&&(M={}),M?(K="",M.rotate&&(K+="rotate("+[M.rotate,b.x,b.y]+")"),(M.offset||H)&&(K+=m(0,(M.offset||0)-(H||0)))):K=null,Q.attr("transform",K),Q.style({"font-family":z,"font-size":C.round($,2)+"px",fill:t.rgb(N),opacity:k*t.opacity(N),"font-weight":u.fontWeight}).attr(b).call(o.convertToTspans,s),u.previousPromises(s)}function re(Q){var K=C.select(Q.node().parentNode);if(x&&x.selection&&x.side&&P){K.attr("transform",null);var te=n[x.side],oe="left"===x.side||"top"===x.side?-1:1,ue=S(x.pad)?x.pad:2,fe=l.bBox(K.node()),he={t:0,b:0,l:0,r:0},me=s._fullLayout._reservedMargin;for(var ke in me)for(var Pe in me[ke])he[Pe]=Math.max(he[Pe],me[ke][Pe]);var xe=x.maxShift||oe*({left:he.l,top:he.t,right:E.width-he.r,bottom:E.height-he.b}[x.side]-fe[x.side]),Ne=0;if(xe<0)Ne=xe;else{var Se=x.offsetLeft||0,Ce=x.offsetTop||0;fe.left-=Se,fe.right-=Se,fe.top-=Ce,fe.bottom-=Ce,x.selection.each(function(){var de=l.bBox(this);T.bBoxIntersect(fe,de,ue)&&(Ne=Math.max(Ne,oe*(de[x.side]-fe[te])+ue))}),Ne=Math.min(xe,Ne),w._titleScoot=Math.abs(Ne)}if(Ne>0||xe<0){var pe={left:[-Ne,0],right:[Ne,0],top:[0,-Ne],bottom:[0,Ne]}[x.side];K.attr("transform",m(pe[0],pe[1]))}}}return Z.call(Y),W&&(P?Z.on(".opacity",null):(k=0,I=!0,Z.text(h).on("mouseover.opacity",function(){C.select(this).transition().duration(r.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){C.select(this).transition().duration(r.HIDE_PLACEHOLDER).style("opacity",0)})),Z.call(o.makeEditable,{gd:s}).on("edit",function(Q){void 0!==_?A.call("_guiRestyle",s,v,Q,_):A.call("_guiRelayout",s,v,Q)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Y)}).on("input",function(Q){this.text(Q||" ").call(o.positionText,b.x,b.y)})),Z.classed("js-placeholder",I),d}}},7163:function(ie,B,e){"use strict";var C=e(41940),S=e(22399),u=e(1426).extendFlat,A=e(30962).overrideAll,T=e(35025),m=e(44467).templatedArray,l=m("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});ie.exports=A(m("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:l,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:u(T({editType:"arraydraw"}),{}),font:C({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:S.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(ie){"use strict";ie.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},64897:function(ie,B,e){"use strict";var C=e(71828),S=e(85501),u=e(7163),A=e(75909).name,T=u.buttons;function m(t,o,r){function n(a,s){return C.coerce(t,o,u,a,s)}n("visible",S(t,o,{name:"buttons",handleItemDefaults:l}).length>0)&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),C.noneOrAll(t,o,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),C.coerceFont(n,"font",r.font),n("bgcolor",r.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function l(t,o){function r(n,a){return C.coerce(t,o,T,n,a)}r("visible","skip"===t.method||Array.isArray(t.args))&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}ie.exports=function(t,o){S(t,o,{name:A,handleItemDefaults:m})}},13689:function(ie,B,e){"use strict";var C=e(39898),S=e(74875),u=e(7901),A=e(91424),T=e(71828),m=e(63893),l=e(44467).arrayEditor,t=e(18783).LINE_SPACING,o=e(75909),r=e(25849);function n(k){return k._index}function a(k,I){return+k.attr(o.menuIndexAttrName)===I._index}function s(k,I,L,P,R,z,$,N){I.active=$,l(k.layout,o.name,I).applyUpdate("active",$),"buttons"===I.type?p(k,P,null,null,I):"dropdown"===I.type&&(R.attr(o.menuIndexAttrName,"-1"),c(k,P,R,z,I),N||p(k,P,R,z,I))}function c(k,I,L,P,R){var z=T.ensureSingle(I,"g",o.headerClassName,function(Z){Z.style("pointer-events","all")}),$=R._dims,H={y:R.pad.t,yPad:0,x:R.pad.l,xPad:0,index:0},U={width:$.headerWidth,height:$.headerHeight};z.call(f,R,R.buttons[R.active]||o.blankHeaderOpts,k).call(d,R,H,U),T.ensureSingle(I,"text",o.headerArrowClassName,function(Z){Z.attr("text-anchor","end").call(A.font,R.font).text(o.arrowSymbol[R.direction])}).attr({x:$.headerWidth-o.arrowOffsetX+R.pad.l,y:$.headerHeight/2+o.textOffsetY+R.pad.t}),z.on("click",function(){L.call(E,String(a(L,R)?-1:R._index)),p(k,I,L,P,R)}),z.on("mouseover",function(){z.call(_)}),z.on("mouseout",function(){z.call(x,R)}),A.setTranslate(I,$.lx,$.ly)}function p(k,I,L,P,R){L||(L=I).attr("pointer-events","all");var z=-1==+L.attr(o.menuIndexAttrName)&&"buttons"!==R.type?[]:R.buttons,$="dropdown"===R.type?o.dropdownButtonClassName:o.buttonClassName,N=L.selectAll("g."+$).data(T.filterVisible(z)),W=N.enter().append("g").classed($,!0),H=N.exit();"dropdown"===R.type?(W.attr("opacity","0").transition().attr("opacity","1"),H.transition().attr("opacity","0").remove()):H.remove();var U=0,Z=0,Y=R._dims,ae=-1!==["up","down"].indexOf(R.direction);"dropdown"===R.type&&(ae?Z=Y.headerHeight+o.gapButtonHeader:U=Y.headerWidth+o.gapButtonHeader),"dropdown"===R.type&&"up"===R.direction&&(Z=-o.gapButtonHeader+o.gapButton-Y.openHeight),"dropdown"===R.type&&"left"===R.direction&&(U=-o.gapButtonHeader+o.gapButton-Y.openWidth);var K,te,oe,re={x:Y.lx+U+R.pad.l,y:Y.ly+Z+R.pad.t,yPad:o.gapButton,xPad:o.gapButton,index:0},Q={l:re.x+R.borderwidth,t:re.y+R.borderwidth};N.each(function(K,te){var oe=C.select(this);oe.call(f,R,K,k).call(d,R,re),oe.on("click",function(){C.event.defaultPrevented||(K.execute&&(K.args2&&R.active===te?(s(k,R,0,I,L,P,-1),S.executeAPICommand(k,K.method,K.args2)):(s(k,R,0,I,L,P,te),S.executeAPICommand(k,K.method,K.args))),k.emit("plotly_buttonclicked",{menu:R,button:K,active:R.active}))}),oe.on("mouseover",function(){oe.call(_)}),oe.on("mouseout",function(){oe.call(x,R),N.call(h,R)})}),N.call(h,R),ae?(Q.w=Math.max(Y.openWidth,Y.headerWidth),Q.h=re.y-Q.t):(Q.w=re.x-Q.l,Q.h=Math.max(Y.openHeight,Y.headerHeight)),Q.direction=R.direction,P&&(N.size()?function(K,te,oe,ue,fe,he){var me,ke,Pe,Te=fe.direction,xe=fe._dims,Ne=fe.active;if("up"===Te||"down"===Te)for(ke=0,Pe=0;Pe<Ne;Pe++)ke+=xe.heights[Pe]+o.gapButton;else for(me=0,Pe=0;Pe<Ne;Pe++)me+=xe.widths[Pe]+o.gapButton;ue.enable(he,me,ke),ue.hbar&&ue.hbar.attr("opacity","0").transition().attr("opacity","1"),ue.vbar&&ue.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,P,R,Q):(oe=!!(K=P).vbar,(te=!!K.hbar)&&K.hbar.transition().attr("opacity","0").each("end",function(){te=!1,oe||K.disable()}),oe&&K.vbar.transition().attr("opacity","0").each("end",function(){oe=!1,te||K.disable()})))}function f(k,I,L,P){k.call(w,I).call(v,I,L,P)}function w(k,I){T.ensureSingle(k,"rect",o.itemRectClassName,function(L){L.attr({rx:o.rx,ry:o.ry,"shape-rendering":"crispEdges"})}).call(u.stroke,I.bordercolor).call(u.fill,I.bgcolor).style("stroke-width",I.borderwidth+"px")}function v(k,I,L,P){var R=T.ensureSingle(k,"text",o.itemTextClassName,function(N){N.attr({"text-anchor":"start","data-notex":1})}),z=L.label,$=P._fullLayout._meta;$&&(z=T.templateString(z,$)),R.call(A.font,I.font).text(z).call(m.convertToTspans,P)}function h(k,I){var L=I.active;k.each(function(P,R){var z=C.select(this);R===L&&I.showactive&&z.select("rect."+o.itemRectClassName).call(u.fill,o.activeColor)})}function _(k){k.select("rect."+o.itemRectClassName).call(u.fill,o.hoverColor)}function x(k,I){k.select("rect."+o.itemRectClassName).call(u.fill,I.bgcolor)}function b(k,I){var L=I._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},P=A.tester.selectAll("g."+o.dropdownButtonClassName).data(T.filterVisible(I.buttons));P.enter().append("g").classed(o.dropdownButtonClassName,!0);var R=-1!==["up","down"].indexOf(I.direction);P.each(function(U,Z){var Y=C.select(this);Y.call(f,I,U,k);var ae=Y.select("."+o.itemTextClassName),re=ae.node()&&A.bBox(ae.node()).width,Q=Math.max(re+o.textPadX,o.minWidth),K=I.font.size*t,te=m.lineCount(ae),oe=Math.max(K*te,o.minHeight)+o.textOffsetY;oe=Math.ceil(oe),Q=Math.ceil(Q),L.widths[Z]=Q,L.heights[Z]=oe,L.height1=Math.max(L.height1,oe),L.width1=Math.max(L.width1,Q),R?(L.totalWidth=Math.max(L.totalWidth,Q),L.openWidth=L.totalWidth,L.totalHeight+=oe+o.gapButton,L.openHeight+=oe+o.gapButton):(L.totalWidth+=Q+o.gapButton,L.openWidth+=Q+o.gapButton,L.totalHeight=Math.max(L.totalHeight,oe),L.openHeight=L.totalHeight)}),R?L.totalHeight-=o.gapButton:L.totalWidth-=o.gapButton,L.headerWidth=L.width1+o.arrowPadX,L.headerHeight=L.height1,"dropdown"===I.type&&(R?(L.width1+=o.arrowPadX,L.totalHeight=L.height1):L.totalWidth=L.width1,L.totalWidth+=o.arrowPadX),P.remove();var z=L.totalWidth+I.pad.l+I.pad.r,$=L.totalHeight+I.pad.t+I.pad.b,N=k._fullLayout._size;L.lx=N.l+N.w*I.x,L.ly=N.t+N.h*(1-I.y);var W="left";T.isRightAnchor(I)&&(L.lx-=z,W="right"),T.isCenterAnchor(I)&&(L.lx-=z/2,W="center");var H="top";T.isBottomAnchor(I)&&(L.ly-=$,H="bottom"),T.isMiddleAnchor(I)&&(L.ly-=$/2,H="middle"),L.totalWidth=Math.ceil(L.totalWidth),L.totalHeight=Math.ceil(L.totalHeight),L.lx=Math.round(L.lx),L.ly=Math.round(L.ly),S.autoMargin(k,M(I),{x:I.x,y:I.y,l:z*({right:1,center:.5}[W]||0),r:z*({left:1,center:.5}[W]||0),b:$*({top:1,middle:.5}[H]||0),t:$*({bottom:1,middle:.5}[H]||0)})}function M(k){return o.autoMarginIdRoot+k._index}function d(k,I,L,P){P=P||{};var R=k.select("."+o.itemRectClassName),z=k.select("."+o.itemTextClassName),$=I.borderwidth,N=L.index,W=I._dims;A.setTranslate(k,$+L.x,$+L.y);var H=-1!==["up","down"].indexOf(I.direction),U=P.height||(H?W.heights[N]:W.height1);R.attr({x:0,y:0,width:P.width||(H?W.width1:W.widths[N]),height:U});var Z=I.font.size*t,Y=(m.lineCount(z)-1)*Z/2;m.positionText(z,o.textOffsetX,U/2-Y+o.textOffsetY),H?L.y+=W.heights[N]+L.yPad:L.x+=W.widths[N]+L.xPad,L.index++}function E(k,I){k.attr(o.menuIndexAttrName,I||"-1").selectAll("g."+o.dropdownButtonClassName).remove()}ie.exports=function(k){var I=k._fullLayout,L=T.filterVisible(I[o.name]);function P(Z){S.autoMargin(k,M(Z))}var R=I._menulayer.selectAll("g."+o.containerClassName).data(L.length>0?[0]:[]);if(R.enter().append("g").classed(o.containerClassName,!0).style("cursor","pointer"),R.exit().each(function(){C.select(this).selectAll("g."+o.headerGroupClassName).each(P)}).remove(),0!==L.length){var z=R.selectAll("g."+o.headerGroupClassName).data(L,n);z.enter().append("g").classed(o.headerGroupClassName,!0);for(var $=T.ensureSingle(R,"g",o.dropdownButtonGroupClassName,function(Z){Z.style("pointer-events","all")}),N=0;N<L.length;N++)b(k,L[N]);var U=new r(k,$,"updatemenus"+I._uid);z.enter().size()&&($.node().parentNode.appendChild($.node()),$.call(E)),z.exit().each(function(Z){$.call(E),P(Z)}).remove(),z.each(function(Z){var Y=C.select(this),ae="dropdown"===Z.type?$:null;S.manageCommandObserver(k,Z,Z.buttons,function(re){s(k,Z,0,Y,ae,U,re.index,!0)}),"dropdown"===Z.type?(c(k,Y,$,U,Z),a($,Z)&&p(k,Y,$,U,Z)):p(k,Y,null,null,Z)})}}},20763:function(ie,B,e){"use strict";var C=e(75909);ie.exports={moduleType:"component",name:C.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(ie,B,e){"use strict";ie.exports=T;var C=e(39898),S=e(7901),u=e(91424),A=e(71828);function T(m,l,t){this.gd=m,this.container=l,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}T.barWidth=2,T.barLength=20,T.barRadius=2,T.barPad=1,T.barColor="#808BA4",T.prototype.enable=function(m,l,t){var o=this.gd._fullLayout,r=o.width,n=o.height;this.position=m;var a,s,c,p,f=this.position.l,w=this.position.w,v=this.position.t,h=this.position.h,_=this.position.direction,x="down"===_,b="left"===_,M="up"===_,d=w,E=h;x||b||"right"===_||M||(this.position.direction="down",x=!0),x||M?(s=(a=f)+d,x?(c=v,E=(p=Math.min(c+E,n))-c):E=(p=v+E)-(c=Math.max(p-E,0))):(p=(c=v)+E,b?d=(s=f+d)-(a=Math.max(s-d,0)):(a=f,d=(s=Math.min(a+d,r))-a)),this._box={l:a,t:c,w:d,h:E};var k=w>d,I=T.barLength+2*T.barPad,L=T.barWidth+2*T.barPad,P=f,R=v+h;R+L>n&&(R=n-L);var z=this.container.selectAll("rect.scrollbar-horizontal").data(k?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(S.fill,T.barColor),k?(this.hbar=z.attr({rx:T.barRadius,ry:T.barRadius,x:P,y:R,width:I,height:L}),this._hbarXMin=P+I/2,this._hbarTranslateMax=d-I):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var $=h>E,N=T.barWidth+2*T.barPad,W=T.barLength+2*T.barPad,H=f+w,U=v;H+N>r&&(H=r-N);var Z=this.container.selectAll("rect.scrollbar-vertical").data($?[0]:[]);Z.exit().on(".drag",null).remove(),Z.enter().append("rect").classed("scrollbar-vertical",!0).call(S.fill,T.barColor),$?(this.vbar=Z.attr({rx:T.barRadius,ry:T.barRadius,x:H,y:U,width:N,height:W}),this._vbarYMin=U+W/2,this._vbarTranslateMax=E-W):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var Y=this.id,ae=a-.5,re=$?s+N+.5:s+.5,Q=c-.5,K=k?p+L+.5:p+.5,te=o._topdefs.selectAll("#"+Y).data(k||$?[0]:[]);if(te.exit().remove(),te.enter().append("clipPath").attr("id",Y).append("rect"),k||$?(this._clipRect=te.select("rect").attr({x:Math.floor(ae),y:Math.floor(Q),width:Math.ceil(re)-Math.floor(ae),height:Math.ceil(K)-Math.floor(Q)}),this.container.call(u.setClipUrl,Y,this.gd),this.bg.attr({x:f,y:v,width:w,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(u.setClipUrl,null),delete this._clipRect),k||$){var oe=C.behavior.drag().on("dragstart",function(){C.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(oe);var ue=C.behavior.drag().on("dragstart",function(){C.event.sourceEvent.preventDefault(),C.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));k&&this.hbar.on(".drag",null).call(ue),$&&this.vbar.on(".drag",null).call(ue)}this.setTranslate(l,t)},T.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(u.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},T.prototype._onBoxDrag=function(){var m=this.translateX,l=this.translateY;this.hbar&&(m-=C.event.dx),this.vbar&&(l-=C.event.dy),this.setTranslate(m,l)},T.prototype._onBoxWheel=function(){var m=this.translateX,l=this.translateY;this.hbar&&(m+=C.event.deltaY),this.vbar&&(l+=C.event.deltaY),this.setTranslate(m,l)},T.prototype._onBarDrag=function(){var m=this.translateX,l=this.translateY;if(this.hbar){var t=m+this._hbarXMin,o=t+this._hbarTranslateMax;m=(A.constrain(C.event.x,t,o)-t)/(o-t)*(this.position.w-this._box.w)}if(this.vbar){var r=l+this._vbarYMin,n=r+this._vbarTranslateMax;l=(A.constrain(C.event.y,r,n)-r)/(n-r)*(this.position.h-this._box.h)}this.setTranslate(m,l)},T.prototype.setTranslate=function(m,l){var t=this.position.w-this._box.w,o=this.position.h-this._box.h;m=A.constrain(m||0,0,t),l=A.constrain(l||0,0,o),this.translateX=m,this.translateY=l,this.container.call(u.setTranslate,this._box.l-this.position.l-m,this._box.t-this.position.t-l),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+m-.5),y:Math.floor(this.position.t+l-.5)}),this.hbar&&this.hbar.call(u.setTranslate,m+m/t*this._hbarTranslateMax,l),this.vbar&&this.vbar.call(u.setTranslate,m,l+l/o*this._vbarTranslateMax)}},18783:function(ie){"use strict";ie.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(ie){"use strict";ie.exports={axisRefDescription:function(B,e,C){return["If set to a",B,"axis id (e.g. *"+B+"* or","*"+B+"2*), the `"+B+"` position refers to a",B,"coordinate. If set to *paper*, the `"+B+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+C+"). If set to a",B,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+B+"2 domain* refers to the domain of the second",B," axis and a",B,"position of 0.5 refers to the","point between the",e,"and the",C,"of the domain of the","second",B,"axis."].join(" ")}}},22372:function(ie){"use strict";ie.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},31562:function(ie){"use strict";ie.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(ie){"use strict";ie.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(ie){"use strict";ie.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(ie){"use strict";ie.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},37822:function(ie){"use strict";ie.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(ie){"use strict";ie.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},32396:function(ie,B){"use strict";B.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],B.STYLE=B.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(ie,B){"use strict";B.xmlns="http://www.w3.org/2000/xmlns/",B.svg="http://www.w3.org/2000/svg",B.xlink="http://www.w3.org/1999/xlink",B.svgAttrs={xmlns:B.svg,"xmlns:xlink":B.xlink}},8729:function(ie,B,e){"use strict";B.version=e(11506).version,e(7417),e(98847);for(var C=e(73972),S=B.register=C.register,u=e(10641),A=Object.keys(u),T=0;T<A.length;T++){var m=A[T];"_"!==m.charAt(0)&&(B[m]=u[m]),S({moduleType:"apiMethod",name:m,fn:u[m]})}S(e(67368)),S([e(2199),e(30211),e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(64168)]),S([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(S(window.PlotlyLocales),delete window.PlotlyLocales),B.Icons=e(24255);var l=e(30211),t=e(74875);B.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},B.Fx={hover:l.hover,unhover:l.unhover,loneHover:l.loneHover,loneUnhover:l.loneUnhover},B.Snapshot=e(44511),B.PlotSchema=e(86281)},24255:function(ie){"use strict";ie.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(ie,B){"use strict";B.isLeftAnchor=function(e){return"left"===e.xanchor||"auto"===e.xanchor&&e.x<=.3333333333333333},B.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>.3333333333333333&&e.x<.6666666666666666},B.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=.6666666666666666},B.isTopAnchor=function(e){return"top"===e.yanchor||"auto"===e.yanchor&&e.y>=.6666666666666666},B.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>.3333333333333333&&e.y<.6666666666666666},B.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=.3333333333333333}},26348:function(ie,B,e){"use strict";var C=e(64872),S=C.mod,u=C.modHalf,A=Math.PI,T=2*A;function m(r){return Math.abs(r[1]-r[0])>T-1e-14}function l(r,n){return u(n-r,T)}function t(r,n){if(m(n))return!0;var a,s;n[0]<n[1]?(a=n[0],s=n[1]):(a=n[1],s=n[0]),(a=S(a,T))>(s=S(s,T))&&(s+=T);var c=S(r,T),p=c+T;return c>=a&&c<=s||p>=a&&p<=s}function o(r,n,a,s,c,p,f){c=c||0,p=p||0;var w,v,h,_,x,b=m([a,s]);function M(I,L){return[I*Math.cos(L)+c,p-I*Math.sin(L)]}b?(w=0,v=A,h=T):a<s?(w=a,h=s):(w=s,h=a),r<n?(_=r,x=n):(_=n,x=r);var d,E=Math.abs(h-w)<=A?0:1;function k(I,L,P){return"A"+[I,I]+" "+[0,E,P]+" "+M(I,L)}return b?d=null===_?"M"+M(x,w)+k(x,v,0)+k(x,h,0)+"Z":"M"+M(_,w)+k(_,v,0)+k(_,h,0)+"ZM"+M(x,w)+k(x,v,1)+k(x,h,1)+"Z":null===_?(d="M"+M(x,w)+k(x,h,0),f&&(d+="L0,0Z")):d="M"+M(_,w)+"L"+M(x,w)+k(x,h,0)+"L"+M(_,h)+k(_,w,1)+"Z",d}ie.exports={deg2rad:function(r){return r/180*A},rad2deg:function(r){return r/A*180},angleDelta:l,angleDist:function(r,n){return Math.abs(l(r,n))},isFullCircle:m,isAngleInsideSector:t,isPtInsideSector:function(r,n,a,s){return!!t(n,s)&&(a[0]<a[1]?(c=a[0],p=a[1]):(c=a[1],p=a[0]),r>=c&&r<=p);var c,p},pathArc:function(r,n,a,s,c){return o(null,r,n,a,s,c,0)},pathSector:function(r,n,a,s,c){return o(null,r,n,a,s,c,1)},pathAnnulus:function(r,n,a,s,c,p){return o(r,n,a,s,c,p,1)}}},73627:function(ie,B){"use strict";var e=Array.isArray,C=ArrayBuffer,S=DataView;function u(m){return C.isView(m)&&!(m instanceof S)}function A(m){return e(m)||u(m)}function T(m,l,t){if(A(m)){if(A(m[0])){for(var o=t,r=0;r<m.length;r++)o=l(o,m[r].length);return o}return m.length}return 0}B.isTypedArray=u,B.isArrayOrTypedArray=A,B.isArray1D=function(m){return!A(m[0])},B.ensureArray=function(m,l){return e(m)||(m=[]),m.length=l,m},B.concat=function(){var m,l,t,o,r,n,a,s,c=[],p=!0,f=0;for(t=0;t<arguments.length;t++)(n=(o=arguments[t]).length)&&(l?c.push(o):(l=o,r=n),e(o)?m=!1:(p=!1,f?m!==o.constructor&&(m=!1):m=o.constructor),f+=n);if(!f)return[];if(!c.length)return l;if(p)return l.concat.apply(l,c);if(m){for((a=new m(f)).set(l),t=0;t<c.length;t++)a.set(o=c[t],r),r+=o.length;return a}for(a=new Array(f),s=0;s<l.length;s++)a[s]=l[s];for(t=0;t<c.length;t++){for(o=c[t],s=0;s<o.length;s++)a[r+s]=o[s];r+=s}return a},B.maxRowLength=function(m){return T(m,Math.max,0)},B.minRowLength=function(m){return T(m,Math.min,1/0)}},95218:function(ie,B,e){"use strict";var C=e(92770),S=e(50606).BADNUM,u=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;ie.exports=function(A){return"string"==typeof A&&(A=A.replace(u,"")),C(A)?Number(A):S}},33306:function(ie){"use strict";ie.exports=function(B){var e=B._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(C){C.regl&&C.regl.clear({color:!0,depth:!0})})}},86367:function(ie){"use strict";ie.exports=function(B){B._responsiveChartHandler&&(window.removeEventListener("resize",B._responsiveChartHandler),delete B._responsiveChartHandler)}},96554:function(ie,B,e){"use strict";var C=e(92770),S=e(84267),u=e(9012),A=e(63282),T=e(7901),m=e(37822).DESELECTDIM,l=e(65487),t=e(30587).counter,o=e(64872).modHalf,r=e(73627).isArrayOrTypedArray;function n(a,s){var c=B.valObjectMeta[s.valType];if(s.arrayOk&&r(a))return!0;if(c.validateFunction)return c.validateFunction(a,s);var p={},f=p;return c.coerceFunction(a,{set:function(v){f=v}},p,s),f!==p}B.valObjectMeta={data_array:{coerceFunction:function(a,s,c){r(a)?s.set(a):void 0!==c&&s.set(c)}},enumerated:{coerceFunction:function(a,s,c,p){p.coerceNumber&&(a=+a),-1===p.values.indexOf(a)?s.set(c):s.set(a)},validateFunction:function(a,s){s.coerceNumber&&(a=+a);for(var c=s.values,p=0;p<c.length;p++){var f=String(c[p]);if("/"===f.charAt(0)&&"/"===f.charAt(f.length-1)){if(new RegExp(f.substr(1,f.length-2)).test(a))return!0}else if(a===c[p])return!0}return!1}},boolean:{coerceFunction:function(a,s,c){s.set(!0===a||!1===a?a:c)}},number:{coerceFunction:function(a,s,c,p){!C(a)||void 0!==p.min&&a<p.min||void 0!==p.max&&a>p.max?s.set(c):s.set(+a)}},integer:{coerceFunction:function(a,s,c,p){a%1||!C(a)||void 0!==p.min&&a<p.min||void 0!==p.max&&a>p.max?s.set(c):s.set(+a)}},string:{coerceFunction:function(a,s,c,p){s.set("string"!=typeof a?!0!==p.strict&&"number"==typeof a?String(a):c:p.noBlank&&!a?c:a)}},color:{coerceFunction:function(a,s,c){S(a).isValid()?s.set(a):s.set(c)}},colorlist:{coerceFunction:function(a,s,c){Array.isArray(a)&&a.length&&a.every(function(p){return S(p).isValid()})?s.set(a):s.set(c)}},colorscale:{coerceFunction:function(a,s,c){s.set(A.get(a,c))}},angle:{coerceFunction:function(a,s,c){"auto"===a?s.set("auto"):C(a)?s.set(o(+a,360)):s.set(c)}},subplotid:{coerceFunction:function(a,s,c,p){var f=p.regex||t(c);"string"==typeof a&&f.test(a)?s.set(a):s.set(c)},validateFunction:function(a,s){var c=s.dflt;return a===c||"string"==typeof a&&!!t(c).test(a)}},flaglist:{coerceFunction:function(a,s,c,p){if(-1===(p.extras||[]).indexOf(a))if("string"==typeof a){for(var f=a.split("+"),w=0;w<f.length;){var v=f[w];-1===p.flags.indexOf(v)||f.indexOf(v)<w?f.splice(w,1):w++}s.set(f.length?f.join("+"):c)}else s.set(c);else s.set(a)}},any:{coerceFunction:function(a,s,c){s.set(void 0===a?c:a)}},info_array:{coerceFunction:function(a,s,c,p){function f(R,z,$){var N;return void 0===$&&($=z.dflt),B.valObjectMeta[z.valType].coerceFunction(R,{set:function(H){N=H}},$,z),N}var w=2===p.dimensions||"1-2"===p.dimensions&&Array.isArray(a)&&Array.isArray(a[0]);if(Array.isArray(a)){var v,h,_,b,M,d=p.items,E=[],k=Array.isArray(d),I=k&&w&&Array.isArray(d[0]),L=w&&k&&!I,P=k&&!L?d.length:a.length;if(c=Array.isArray(c)?c:[],w)for(v=0;v<P;v++)for(E[v]=[],_=Array.isArray(a[v])?a[v]:[],b=L?d.length:k?d[v].length:_.length,h=0;h<b;h++)void 0!==(M=f(_[h],L?d[h]:k?d[v][h]:d,(c[v]||[])[h]))&&(E[v][h]=M);else for(v=0;v<P;v++)void 0!==(M=f(a[v],k?d[v]:d,c[v]))&&(E[v]=M);s.set(E)}else s.set(c)},validateFunction:function(a,s){if(!Array.isArray(a))return!1;var c=s.items,p=Array.isArray(c),f=2===s.dimensions;if(!s.freeLength&&a.length!==c.length)return!1;for(var w=0;w<a.length;w++)if(f){if(!Array.isArray(a[w])||!s.freeLength&&a[w].length!==c[w].length)return!1;for(var v=0;v<a[w].length;v++)if(!n(a[w][v],p?c[w][v]:c))return!1}else if(!n(a[w],p?c[w]:c))return!1;return!0}}},B.coerce=function(a,s,c,p,f){var w=l(c,p).get(),v=l(a,p),h=l(s,p),_=v.get(),x=s._template;if(void 0===_&&x&&(_=l(x,p).get(),x=0),void 0===f&&(f=w.dflt),w.arrayOk&&r(_))return h.set(_),_;var b=B.valObjectMeta[w.valType].coerceFunction;b(_,h,f,w);var M=h.get();return x&&M===f&&!n(_,w)&&(b(_=l(x,p).get(),h,f,w),M=h.get()),M},B.coerce2=function(a,s,c,p,f){var w=l(a,p),v=B.coerce(a,s,c,p,f);return null!=w.get()&&v},B.coerceFont=function(a,s,c){var p={};return p.family=a(s+".family",(c=c||{}).family),p.size=a(s+".size",c.size),p.color=a(s+".color",c.color),p},B.coercePattern=function(a,s,c,p){if(a(s+".shape")){a(s+".solidity"),a(s+".size");var f="overlay"===a(s+".fillmode");if(!p){var w=a(s+".bgcolor",f?c:void 0);a(s+".fgcolor",f?T.contrast(w):c)}a(s+".fgopacity",f?.5:1)}},B.coerceHoverinfo=function(a,s,c){var p,f=s._module.attributes,w=f.hoverinfo?f:u,v=w.hoverinfo;if(1===c._dataLength){var h="all"===v.dflt?v.flags.slice():v.dflt.split("+");h.splice(h.indexOf("name"),1),p=h.join("+")}return B.coerce(a,s,w,"hoverinfo",p)},B.coerceSelectionMarkerOpacity=function(a,s){if(a.marker){var c,p,f=a.marker.opacity;void 0!==f&&(r(f)||a.selected||a.unselected||(c=f,p=m*f),s("selected.marker.opacity",c),s("unselected.marker.opacity",p))}},B.validate=n},41631:function(ie,B,e){"use strict";var C,S,u=e(84096).i$,A=e(92770),T=e(47769),m=e(64872).mod,l=e(50606),t=l.BADNUM,o=l.ONEDAY,r=l.ONEHOUR,n=l.ONEMIN,a=l.ONESEC,s=l.EPOCHJD,c=e(73972),p=e(84096).g0,f=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,w=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,v=(new Date).getFullYear()-70;function h(z){return z&&c.componentsRegistry.calendars&&"string"==typeof z&&"gregorian"!==z}function _(z,$){return String(z+Math.pow(10,$)).substr(1)}B.dateTick0=function(z,$){var H,U,N=(U=!!$,h(H=z)?U?c.getComponentMethod("calendars","CANONICAL_SUNDAY")[H]:c.getComponentMethod("calendars","CANONICAL_TICK")[H]:U?"2000-01-02":"2000-01-01");if($<2)return N;var W=B.dateTime2ms(N,z);return B.ms2DateTime(W+=o*($-1),0,z)},B.dfltRange=function(z){return h(z)?c.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},B.isJSDate=function(z){return"object"==typeof z&&null!==z&&"function"==typeof z.getTime},B.dateTime2ms=function(z,$){if(B.isJSDate(z)){var N=z.getTimezoneOffset()*n,W=(z.getUTCMinutes()-z.getMinutes())*n+(z.getUTCSeconds()-z.getSeconds())*a+(z.getUTCMilliseconds()-z.getMilliseconds());if(W){var H=3*n;N=N-H/2+m(W-N+H/2,H)}return(z=Number(z)-N)>=C&&z<=S?z:t}if("string"!=typeof z&&"number"!=typeof z)return t;z=String(z);var U=h($),Z=z.charAt(0);!U||"G"!==Z&&"g"!==Z||(z=z.substr(1),$="");var Y=U&&"chinese"===$.substr(0,7),ae=z.match(Y?w:f);if(!ae)return t;var re=ae[1],Q=ae[3]||"1",K=Number(ae[5]||1),te=Number(ae[7]||0),oe=Number(ae[9]||0),ue=Number(ae[11]||0);if(U){if(2===re.length)return t;var fe;re=Number(re);try{var he=c.getComponentMethod("calendars","getCal")($);if(Y){var me="i"===Q.charAt(Q.length-1);Q=parseInt(Q,10),fe=he.newDate(re,he.toMonthIndex(re,Q,me),K)}else fe=he.newDate(re,Number(Q),K)}catch{return t}return fe?(fe.toJD()-s)*o+te*r+oe*n+ue*a:t}re=2===re.length?(Number(re)+2e3-v)%100+v:Number(re),Q-=1;var ke=new Date(Date.UTC(2e3,Q,K,te,oe));return ke.setUTCFullYear(re),ke.getUTCMonth()!==Q||ke.getUTCDate()!==K?t:ke.getTime()+ue*a},C=B.MIN_MS=B.dateTime2ms("-9999"),S=B.MAX_MS=B.dateTime2ms("9999-12-31 23:59:59.9999"),B.isDateTime=function(z,$){return B.dateTime2ms(z,$)!==t};var x=90*o,b=3*r,M=5*n;function d(z,$,N,W,H){if(($||N||W||H)&&(z+=" "+_($,2)+":"+_(N,2),(W||H)&&(z+=":"+_(W,2),H))){for(var U=4;H%10==0;)U-=1,H/=10;z+="."+_(H,U)}return z}B.ms2DateTime=function(z,$,N){if("number"!=typeof z||!(z>=C&&z<=S))return t;$||($=0);var W,H,U,Z,Y,ae,re=Math.floor(10*m(z+.05,1)),Q=Math.round(z-re/10);if(h(N)){var K=Math.floor(Q/o)+s,te=Math.floor(m(z,o));try{W=c.getComponentMethod("calendars","getCal")(N).fromJD(K).formatDate("yyyy-mm-dd")}catch{W=p("G%Y-%m-%d")(new Date(Q))}if("-"===W.charAt(0))for(;W.length<11;)W="-0"+W.substr(1);else for(;W.length<10;)W="0"+W;H=$<x?Math.floor(te/r):0,U=$<x?Math.floor(te%r/n):0,Z=$<b?Math.floor(te%n/a):0,Y=$<M?te%a*10+re:0}else ae=new Date(Q),W=p("%Y-%m-%d")(ae),H=$<x?ae.getUTCHours():0,U=$<x?ae.getUTCMinutes():0,Z=$<b?ae.getUTCSeconds():0,Y=$<M?10*ae.getUTCMilliseconds()+re:0;return d(W,H,U,Z,Y)},B.ms2DateTimeLocal=function(z){if(!(z>=C+o&&z<=S-o))return t;var $=Math.floor(10*m(z+.05,1)),N=new Date(Math.round(z-$/10));return d(u("%Y-%m-%d")(N),N.getHours(),N.getMinutes(),N.getSeconds(),10*N.getUTCMilliseconds()+$)},B.cleanDate=function(z,$,N){if(z===t)return $;if(B.isJSDate(z)||"number"==typeof z&&isFinite(z)){if(h(N))return T.error("JS Dates and milliseconds are incompatible with world calendars",z),$;if(!(z=B.ms2DateTimeLocal(+z))&&void 0!==$)return $}else if(!B.isDateTime(z,N))return T.error("unrecognized date",z),$;return z};var E=/%\d?f/g,k=/%h/g,I={1:"1",2:"1",3:"2",4:"2"};function L(z,$,N,W){z=z.replace(E,function(U){var Z=Math.min(+U.charAt(1)||6,6);return($/1e3%1+2).toFixed(Z).substr(2).replace(/0+$/,"")||"0"});var H=new Date(Math.floor($+.05));if(z=z.replace(k,function(){return I[N("%q")(H)]}),h(W))try{z=c.getComponentMethod("calendars","worldCalFmt")(z,$,W)}catch{return"Invalid"}return N(z)(H)}var P=[59,59.9,59.99,59.999,59.9999];B.formatDate=function(z,$,N,W,H,U){if(H=h(H)&&H,!$)if("y"===N)$=U.year;else if("m"===N)$=U.month;else{if("d"!==N)return function(Z,Y){var ae=m(Z+.05,o),re=_(Math.floor(ae/r),2)+":"+_(m(Math.floor(ae/n),60),2);if("M"!==Y){A(Y)||(Y=0);var Q=(100+Math.min(m(Z/a,60),P[Y])).toFixed(Y).substr(1);Y>0&&(Q=Q.replace(/0+$/,"").replace(/[\.]$/,"")),re+=":"+Q}return re}(z,N)+"\n"+L(U.dayMonthYear,z,W,H);$=U.dayMonth+"\n"+U.year}return L($,z,W,H)};var R=3*o;B.incrementMonth=function(z,$,N){N=h(N)&&N;var W=m(z,o);if(z=Math.round(z-W),N)try{var H=Math.round(z/o)+s,U=c.getComponentMethod("calendars","getCal")(N),Z=U.fromJD(H);return $%12?U.add(Z,$,"m"):U.add(Z,$/12,"y"),(Z.toJD()-s)*o+W}catch{T.error("invalid ms "+z+" in calendar "+N)}var Y=new Date(z+R);return Y.setUTCMonth(Y.getUTCMonth()+$)+W-R},B.findExactDates=function(z,$){for(var N,W,H=0,U=0,Z=0,Y=0,ae=h($)&&c.getComponentMethod("calendars","getCal")($),re=0;re<z.length;re++)if(A(W=z[re])){if(!(W%o))if(ae)try{1===(N=ae.fromJD(W/o+s)).day()?1===N.month()?H++:U++:Z++}catch{}else 1===(N=new Date(W)).getUTCDate()?0===N.getUTCMonth()?H++:U++:Z++}else Y++;Z+=U+=H;var Q=z.length-Y;return{exactYears:H/Q,exactMonths:U/Q,exactDays:Z/Q}}},24401:function(ie,B,e){"use strict";var C=e(39898),S=e(47769),u=e(35657),A=e(79576);function T(r){var n=r&&r.parentNode;n&&n.removeChild(r)}function m(r,n,a){var s="plotly.js-style-"+r,c=document.getElementById(s);c||((c=document.createElement("style")).setAttribute("id",s),c.appendChild(document.createTextNode("")),document.head.appendChild(c));var p=c.sheet;p.insertRule?p.insertRule(n+"{"+a+"}",0):p.addRule?p.addRule(n,a,0):S.warn("addStyleRule failed")}function l(r){var n=window.getComputedStyle(r,null),a=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("-moz-transform")||n.getPropertyValue("-ms-transform")||n.getPropertyValue("-o-transform")||n.getPropertyValue("transform");return"none"===a?null:a.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(s){return+s})}function t(r){for(var n=[];o(r);)n.push(r),r=r.parentNode;return n}function o(r){return r&&(r instanceof Element||r instanceof HTMLElement)}ie.exports={getGraphDiv:function(r){var n;if("string"==typeof r){if(null===(n=document.getElementById(r)))throw new Error("No DOM element with id '"+r+"' exists on the page.");return n}if(null==r)throw new Error("DOM element provided is null or undefined");return r},isPlotDiv:function(r){var n=C.select(r);return n.node()instanceof HTMLElement&&n.size()&&n.classed("js-plotly-plot")},removeElement:T,addStyleRule:function(r,n){m("global",r,n)},addRelatedStyleRule:m,deleteRelatedStyleRule:function(r){var a=document.getElementById("plotly.js-style-"+r);a&&T(a)},getFullTransformMatrix:function(r){var n=t(r),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return n.forEach(function(s){var c=l(s);if(c){var p=u.convertCssMatrix(c);a=A.multiply(a,a,p)}}),a},getElementTransformMatrix:l,getElementAndAncestors:t,equalDomRects:function(r,n){return r&&n&&r.top===n.top&&r.left===n.left&&r.right===n.right&&r.bottom===n.bottom}}},11086:function(ie,B,e){"use strict";var C=e(15398).EventEmitter;ie.exports={init:function(u){if(u._ev instanceof C)return u;var A=new C,T=new C;return u._ev=A,u._internalEv=T,u.on=A.on.bind(A),u.once=A.once.bind(A),u.removeListener=A.removeListener.bind(A),u.removeAllListeners=A.removeAllListeners.bind(A),u._internalOn=T.on.bind(T),u._internalOnce=T.once.bind(T),u._removeInternalListener=T.removeListener.bind(T),u._removeAllInternalListeners=T.removeAllListeners.bind(T),u.emit=function(m,l){typeof jQuery<"u"&&jQuery(u).trigger(m,l),A.emit(m,l),T.emit(m,l)},u},triggerHandler:function(u,A,T){var m,l;typeof jQuery<"u"&&(m=jQuery(u).triggerHandler(A,T));var t=u._ev;if(!t)return m;var o,r=t._events[A];if(!r)return m;function n(a){return a.listener?(t.removeListener(A,a.listener),a.fired?void 0:(a.fired=!0,a.listener.apply(t,[T]))):a.apply(t,[T])}for(r=Array.isArray(r)?r:[r],o=0;o<r.length-1;o++)n(r[o]);return l=n(r[o]),void 0!==m?m:l},purge:function(u){return delete u._ev,delete u.on,delete u.once,delete u.removeListener,delete u.removeAllListeners,delete u.emit,delete u._ev,delete u._internalEv,delete u._internalOn,delete u._internalOnce,delete u._removeInternalListener,delete u._removeAllInternalListeners,u}}},1426:function(ie,B,e){"use strict";var C=e(41965),S=Array.isArray;function u(A,T,m,l){var t,o,r,n,a,s,p=A[0],f=A.length;if(2===f&&S(p)&&S(A[1])&&0===p.length){if(function(v,h){var _,x;for(_=0;_<v.length;_++){if(null!==(x=v[_])&&"object"==typeof x)return!1;void 0!==x&&(h[_]=x)}return!0}(A[1],p))return p;p.splice(0,p.length)}for(var w=1;w<f;w++)for(o in t=A[w])r=p[o],n=t[o],l&&S(n)?p[o]=n:T&&n&&(C(n)||(a=S(n)))?(a?(a=!1,s=r&&S(r)?r:[]):s=r&&C(r)?r:{},p[o]=u([s,n],T,m,l)):(void 0!==n||m)&&(p[o]=n);return p}B.extendFlat=function(){return u(arguments,!1,!1,!1)},B.extendDeep=function(){return u(arguments,!0,!1,!1)},B.extendDeepAll=function(){return u(arguments,!0,!0,!1)},B.extendDeepNoArrays=function(){return u(arguments,!0,!1,!0)}},75744:function(ie){"use strict";ie.exports=function(B){for(var e={},C=[],S=0,u=0;u<B.length;u++){var A=B[u];1!==e[A]&&(e[A]=1,C[S++]=A)}return C}},76756:function(ie){"use strict";function B(C){return!0===C.visible}function e(C){var S=C[0].trace;return!0===S.visible&&0!==S._length}ie.exports=function(C){for(var S,u=(S=C,Array.isArray(S)&&Array.isArray(S[0])&&S[0][0]&&S[0][0].trace?e:B),A=[],T=0;T<C.length;T++){var m=C[T];u(m)&&A.push(m)}return A}},41327:function(ie,B,e){"use strict";var C=e(39898),S=e(24138),u=e(30774),A=e(29261),T=e(85268),m=e(23389),l=e(47769),t=e(41965),o=e(65487),r=e(61082),n=Object.keys(S),a={"ISO-3":m,"USA-states":m,"country names":function(c){for(var p=0;p<n.length;p++){var f=n[p];if(new RegExp(S[f]).test(c.trim().toLowerCase()))return f}return l.log("Unrecognized country name: "+c+"."),!1}};function s(c){var p=c.geojson,f=window.PlotlyGeoAssets||{},w="string"==typeof p?f[p]:p;return t(w)?w:(l.error("Oops ... something went wrong when fetching "+p),!1)}ie.exports={locationToFeature:function(c,p,f){if(!p||"string"!=typeof p)return!1;var w,v,h,_=a[c](p);if(_){if("USA-states"===c)for(w=[],h=0;h<f.length;h++)(v=f[h]).properties&&v.properties.gu&&"USA"===v.properties.gu&&w.push(v);else w=f;for(h=0;h<w.length;h++)if((v=w[h]).id===_)return v;l.log(["Location with id",_,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(c){var p,f,w,v,h=c.geometry,_=h.coordinates,x=c.id,b=[];function M(d){for(var E=0;E<d.length-1;E++)if(d[E][0]>0&&d[E+1][0]<0)return E;return null}switch(p="RUS"===x||"FJI"===x?function(d){var E;if(null===M(d))E=d;else for(E=new Array(d.length),v=0;v<d.length;v++)E[v]=[d[v][0]<0?d[v][0]+360:d[v][0],d[v][1]];b.push(r.tester(E))}:"ATA"===x?function(d){var E=M(d);if(null===E)return b.push(r.tester(d));var k=new Array(d.length+1),I=0;for(v=0;v<d.length;v++)v>E?k[I++]=[d[v][0]+360,d[v][1]]:v===E?(k[I++]=d[v],k[I++]=[d[v][0],-90]):k[I++]=d[v];var L=r.tester(k);L.pts.pop(),b.push(L)}:function(d){b.push(r.tester(d))},h.type){case"MultiPolygon":for(f=0;f<_.length;f++)for(w=0;w<_[f].length;w++)p(_[f][w]);break;case"Polygon":for(f=0;f<_.length;f++)p(_[f])}return b},getTraceGeojson:s,extractTraceFeature:function(c){var p=c[0].trace,f=s(p);if(!f)return!1;var w,v={},h=[];for(w=0;w<p._length;w++){var _=c[w];(_.loc||0===_.loc)&&(v[_.loc]=_)}function x(d){var E=o(d,p.featureidkey||"id").get(),k=v[E];if(k){var I=d.geometry;if("Polygon"===I.type||"MultiPolygon"===I.type){var L={type:"Feature",id:E,geometry:I,properties:{}};L.properties.ct=function(P){var R,z=P.geometry;if("MultiPolygon"===z.type)for(var $=z.coordinates,N=0,W=0;W<$.length;W++){var H={type:"Polygon",coordinates:$[W]},U=u.default(H);U>N&&(N=U,R=H)}else R=z;return A.default(R).geometry.coordinates}(L),k.fIn=d,k.fOut=L,h.push(L)}else l.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete v[E]}switch(f.type){case"FeatureCollection":var b=f.features;for(w=0;w<b.length;w++)x(b[w]);break;case"Feature":x(f);break;default:return l.warn(["Invalid GeoJSON type",(f.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var M in v)l.log(["Location *"+M+"*","does not have a matching feature with id-key","*"+p.featureidkey+"*."].join(" "));return h},fetchTraceGeoData:function(c){var p=window.PlotlyGeoAssets||{},f=[];function w(x){return new Promise(function(b,M){C.json(x,function(d,E){return d?(delete p[x],M(new Error(404===d.status?'GeoJSON at URL "'+x+'" does not exist.':"Unexpected error while fetching from "+x))):(p[x]=E,b(E))})})}function v(x){return new Promise(function(b,M){var d=0,E=setInterval(function(){return p[x]&&"pending"!==p[x]?(clearInterval(E),b(p[x])):d>100?(clearInterval(E),M("Unexpected error while fetching from "+x)):void d++},50)})}for(var h=0;h<c.length;h++){var _=c[h][0].trace.geojson;"string"==typeof _&&(p[_]?"pending"===p[_]&&f.push(v(_)):(p[_]="pending",f.push(w(_))))}return f},computeBbox:function(c){return T.default(c)}}},18214:function(ie,B,e){"use strict";var C=e(50606).BADNUM;B.calcTraceToLineCoords=function(S){for(var u=S[0].trace.connectgaps,A=[],T=[],m=0;m<S.length;m++){var l=S[m].lonlat;l[0]!==C?T.push(l):!u&&T.length>0&&(A.push(T),T=[])}return T.length>0&&A.push(T),A},B.makeLine=function(S){return 1===S.length?{type:"LineString",coordinates:S[0]}:{type:"MultiLineString",coordinates:S}},B.makePolygon=function(S){if(1===S.length)return{type:"Polygon",coordinates:S};for(var u=new Array(S.length),A=0;A<S.length;A++)u[A]=[S[A]];return{type:"MultiPolygon",coordinates:u}},B.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(ie,B,e){"use strict";var C,S,u,A=e(64872).mod;function T(l,t,o,r,n,a,s,c){var p=o-l,f=n-l,w=s-n,v=r-t,h=a-t,_=c-a,x=p*_-w*v;if(0===x)return null;var b=(f*_-w*h)/x,M=(f*v-p*h)/x;return M<0||M>1||b<0||b>1?null:{x:l+p*b,y:t+v*b}}function m(l,t,o,r,n){var a=r*l+n*t;if(a<0)return r*r+n*n;if(a>o){var s=r-l,c=n-t;return s*s+c*c}var p=r*t-n*l;return p*p/o}B.segmentsIntersect=T,B.segmentDistance=function(l,t,o,r,n,a,s,c){if(T(l,t,o,r,n,a,s,c))return 0;var p=o-l,f=r-t,w=s-n,v=c-a,h=p*p+f*f,_=w*w+v*v,x=Math.min(m(p,f,h,n-l,a-t),m(p,f,h,s-l,c-t),m(w,v,_,l-n,t-a),m(w,v,_,o-n,r-a));return Math.sqrt(x)},B.getTextLocation=function(l,t,o,r){if(l===S&&r===u||(C={},S=l,u=r),C[o])return C[o];var n=l.getPointAtLength(A(o-r/2,t)),a=l.getPointAtLength(A(o+r/2,t)),s=Math.atan((a.y-n.y)/(a.x-n.x)),c=l.getPointAtLength(A(o,t)),p={x:(4*c.x+n.x+a.x)/6,y:(4*c.y+n.y+a.y)/6,theta:s};return C[o]=p,p},B.clearLocationCache=function(){S=null},B.getVisibleSegment=function(l,t,o){var r,n,a=t.left,s=t.right,c=t.top,p=t.bottom,f=0,w=l.getTotalLength(),v=w;function h(x){var b=l.getPointAtLength(x);0===x?r=b:x===w&&(n=b);var M=b.x<a?a-b.x:b.x>s?b.x-s:0,d=b.y<c?c-b.y:b.y>p?b.y-p:0;return Math.sqrt(M*M+d*d)}for(var _=h(f);_;){if((f+=_+o)>v)return;_=h(f)}for(_=h(v);_;){if(f>(v-=_+o))return;_=h(v)}return{min:f,max:v,len:v-f,total:w,isClosed:0===f&&v===w&&Math.abs(r.x-n.x)<.1&&Math.abs(r.y-n.y)<.1}},B.findPointOnPath=function(l,t,o,r){for(var n,a,s,c=(r=r||{}).pathLength||l.getTotalLength(),p=r.tolerance||.001,f=r.iterationLimit||30,w=l.getPointAtLength(0)[o]>l.getPointAtLength(c)[o]?-1:1,v=0,h=0,_=c;v<f;){if(s=(a=l.getPointAtLength(n=(h+_)/2))[o]-t,Math.abs(s)<p)return a;w*s>0?_=n:h=n,v++}return a}},81697:function(ie,B,e){"use strict";var C=e(92770),S=e(84267),u=e(25075),A=e(21081),T=e(22399).defaultLine,m=e(73627).isArrayOrTypedArray,l=u(T);function t(n,a){var s=n;return s[3]*=a,s}function o(n){if(C(n))return l;var a=u(n);return a.length?a:l}function r(n){return C(n)?n:1}ie.exports={formatColor:function(n,a,s){var c,p,f,w,v,h=n.color,_=m(h),x=m(a),b=A.extractOpts(n),M=[];if(c=void 0!==b.colorscale?A.makeColorScaleFuncFromTrace(n):o,p=_?function(E,k){return void 0===E[k]?l:u(c(E[k]))}:o,f=x?function(E,k){return void 0===E[k]?1:r(E[k])}:r,_||x)for(var d=0;d<s;d++)w=p(h,d),v=f(a,d),M[d]=t(w,v);else M=t(u(h),a);return M},parseColorScale:function(n){var a=A.extractOpts(n),s=a.colorscale;return a.reversescale&&(s=A.flipScale(a.colorscale)),s.map(function(c){var p=c[0],f=S(c[1]).toRgb();return{index:p,rgb:[f.r,f.g,f.b,f.a]}})}}},28984:function(ie,B,e){"use strict";var C=e(23389);function S(u){return[u]}ie.exports={keyFun:function(u){return u.key},repeat:S,descend:C,wrap:S,unwrap:function(u){return u[0]}}},23389:function(ie){"use strict";ie.exports=function(B){return B}},39240:function(ie){"use strict";ie.exports=function(B,e){if(!e)return B;var C=1/Math.abs(e),S=C>1?(C*B+C*e)/C:B+e,u=String(S).length;if(u>16){var A=String(e).length;if(u>=String(B).length+A){var T=parseFloat(S).toPrecision(12);-1===T.indexOf("e+")&&(S=+T)}}return S}},71828:function(ie,B,e){"use strict";var C=e(39898),S=e(84096).g0,u=e(60721).WU,A=e(92770),T=e(50606),m=T.FP_SAFE,l=-m,t=T.BADNUM,o=ie.exports={};o.adjustFormat=function(K){return!K||/^\d[.]\df/.test(K)||/[.]\d%/.test(K)?K:"0.f"===K?"~f":/^\d%/.test(K)?"~%":/^\ds/.test(K)?"~s":!/^[~,.0$]/.test(K)&&/[&fps]/.test(K)?"~"+K:K};var r={};o.warnBadFormat=function(K){var te=String(K);r[te]||(r[te]=1,o.warn('encountered bad format: "'+te+'"'))},o.noFormat=function(K){return String(K)},o.numberFormat=function(K){var te;try{te=u(o.adjustFormat(K))}catch{return o.warnBadFormat(K),o.noFormat}return te},o.nestedProperty=e(65487),o.keyedContainer=e(66636),o.relativeAttr=e(6962),o.isPlainObject=e(41965),o.toLogRange=e(58163),o.relinkPrivateKeys=e(51332);var n=e(73627);o.isTypedArray=n.isTypedArray,o.isArrayOrTypedArray=n.isArrayOrTypedArray,o.isArray1D=n.isArray1D,o.ensureArray=n.ensureArray,o.concat=n.concat,o.maxRowLength=n.maxRowLength,o.minRowLength=n.minRowLength;var a=e(64872);o.mod=a.mod,o.modHalf=a.modHalf;var s=e(96554);o.valObjectMeta=s.valObjectMeta,o.coerce=s.coerce,o.coerce2=s.coerce2,o.coerceFont=s.coerceFont,o.coercePattern=s.coercePattern,o.coerceHoverinfo=s.coerceHoverinfo,o.coerceSelectionMarkerOpacity=s.coerceSelectionMarkerOpacity,o.validate=s.validate;var c=e(41631);o.dateTime2ms=c.dateTime2ms,o.isDateTime=c.isDateTime,o.ms2DateTime=c.ms2DateTime,o.ms2DateTimeLocal=c.ms2DateTimeLocal,o.cleanDate=c.cleanDate,o.isJSDate=c.isJSDate,o.formatDate=c.formatDate,o.incrementMonth=c.incrementMonth,o.dateTick0=c.dateTick0,o.dfltRange=c.dfltRange,o.findExactDates=c.findExactDates,o.MIN_MS=c.MIN_MS,o.MAX_MS=c.MAX_MS;var p=e(65888);o.findBin=p.findBin,o.sorterAsc=p.sorterAsc,o.sorterDes=p.sorterDes,o.distinctVals=p.distinctVals,o.roundUp=p.roundUp,o.sort=p.sort,o.findIndexOfMin=p.findIndexOfMin,o.sortObjectKeys=e(78607);var f=e(80038);o.aggNums=f.aggNums,o.len=f.len,o.mean=f.mean,o.median=f.median,o.midRange=f.midRange,o.variance=f.variance,o.stdev=f.stdev,o.interp=f.interp;var w=e(35657);o.init2dArray=w.init2dArray,o.transposeRagged=w.transposeRagged,o.dot=w.dot,o.translationMatrix=w.translationMatrix,o.rotationMatrix=w.rotationMatrix,o.rotationXYMatrix=w.rotationXYMatrix,o.apply3DTransform=w.apply3DTransform,o.apply2DTransform=w.apply2DTransform,o.apply2DTransform2=w.apply2DTransform2,o.convertCssMatrix=w.convertCssMatrix,o.inverseTransformMatrix=w.inverseTransformMatrix;var v=e(26348);o.deg2rad=v.deg2rad,o.rad2deg=v.rad2deg,o.angleDelta=v.angleDelta,o.angleDist=v.angleDist,o.isFullCircle=v.isFullCircle,o.isAngleInsideSector=v.isAngleInsideSector,o.isPtInsideSector=v.isPtInsideSector,o.pathArc=v.pathArc,o.pathSector=v.pathSector,o.pathAnnulus=v.pathAnnulus;var h=e(99863);o.isLeftAnchor=h.isLeftAnchor,o.isCenterAnchor=h.isCenterAnchor,o.isRightAnchor=h.isRightAnchor,o.isTopAnchor=h.isTopAnchor,o.isMiddleAnchor=h.isMiddleAnchor,o.isBottomAnchor=h.isBottomAnchor;var _=e(87642);o.segmentsIntersect=_.segmentsIntersect,o.segmentDistance=_.segmentDistance,o.getTextLocation=_.getTextLocation,o.clearLocationCache=_.clearLocationCache,o.getVisibleSegment=_.getVisibleSegment,o.findPointOnPath=_.findPointOnPath;var x=e(1426);o.extendFlat=x.extendFlat,o.extendDeep=x.extendDeep,o.extendDeepAll=x.extendDeepAll,o.extendDeepNoArrays=x.extendDeepNoArrays;var b=e(47769);o.log=b.log,o.warn=b.warn,o.error=b.error;var M=e(30587);o.counterRegex=M.counter;var d=e(79990);o.throttle=d.throttle,o.throttleDone=d.done,o.clearThrottle=d.clear;var E=e(24401);function k(K){var te={};for(var oe in K)for(var ue=K[oe],fe=0;fe<ue.length;fe++)te[ue[fe]]=+oe;return te}o.getGraphDiv=E.getGraphDiv,o.isPlotDiv=E.isPlotDiv,o.removeElement=E.removeElement,o.addStyleRule=E.addStyleRule,o.addRelatedStyleRule=E.addRelatedStyleRule,o.deleteRelatedStyleRule=E.deleteRelatedStyleRule,o.getFullTransformMatrix=E.getFullTransformMatrix,o.getElementTransformMatrix=E.getElementTransformMatrix,o.getElementAndAncestors=E.getElementAndAncestors,o.equalDomRects=E.equalDomRects,o.clearResponsive=e(86367),o.preserveDrawingBuffer=e(45142),o.makeTraceGroups=e(77310),o._=e(15867),o.notifier=e(75046),o.filterUnique=e(75744),o.filterVisible=e(76756),o.pushUnique=e(75138),o.increment=e(39240),o.cleanNumber=e(95218),o.ensureNumber=function(K){return A(K)?(K=Number(K))>m||K<l?t:K:t},o.isIndex=function(K,te){return!(void 0!==te&&K>=te)&&A(K)&&K>=0&&K%1==0},o.noop=e(64213),o.identity=e(23389),o.repeat=function(K,te){for(var oe=new Array(te),ue=0;ue<te;ue++)oe[ue]=K;return oe},o.swapAttrs=function(K,te,oe,ue){oe||(oe="x"),ue||(ue="y");for(var fe=0;fe<te.length;fe++){var he=te[fe],me=o.nestedProperty(K,he.replace("?",oe)),ke=o.nestedProperty(K,he.replace("?",ue)),Pe=me.get();me.set(ke.get()),ke.set(Pe)}},o.raiseToTop=function(K){K.parentNode.appendChild(K)},o.cancelTransition=function(K){return K.transition().duration(0)},o.constrain=function(K,te,oe){return te>oe?Math.max(oe,Math.min(te,K)):Math.max(te,Math.min(oe,K))},o.bBoxIntersect=function(K,te,oe){return K.left<=te.right+(oe=oe||0)&&te.left<=K.right+oe&&K.top<=te.bottom+oe&&te.top<=K.bottom+oe},o.simpleMap=function(K,te,oe,ue,fe){for(var he=K.length,me=new Array(he),ke=0;ke<he;ke++)me[ke]=te(K[ke],oe,ue,fe);return me},o.randstr=function K(te,oe,ue,fe){if(ue||(ue=16),void 0===oe&&(oe=24),oe<=0)return"0";var he,me,ke=Math.log(Math.pow(2,oe))/Math.log(ue),Pe="";for(he=2;ke===1/0;he*=2)ke=Math.log(Math.pow(2,oe/he))/Math.log(ue)*he;var Te=ke-Math.floor(ke);for(he=0;he<Math.floor(ke);he++)Pe=Math.floor(Math.random()*ue).toString(ue)+Pe;Te&&(me=Math.pow(ue,Te),Pe=Math.floor(Math.random()*me).toString(ue)+Pe);var be=parseInt(Pe,ue);return te&&te[Pe]||be!==1/0&&be>=Math.pow(2,oe)?fe>10?(o.warn("randstr failed uniqueness"),Pe):K(te,oe,ue,(fe||0)+1):Pe},o.OptionControl=function(K,te){K||(K={}),te||(te="opt");var oe={optionList:[],_newoption:function(ue){ue[te]=K,oe[ue.name]=ue,oe.optionList.push(ue)}};return oe["_"+te]=K,oe},o.smooth=function(K,te){if((te=Math.round(te)||0)<2)return K;var oe,ue,fe,he,me=K.length,ke=2*me,Pe=2*te-1,Te=new Array(Pe),be=new Array(me);for(oe=0;oe<Pe;oe++)Te[oe]=(1-Math.cos(Math.PI*(oe+1)/te))/(2*te);for(oe=0;oe<me;oe++){for(he=0,ue=0;ue<Pe;ue++)(fe=oe+ue+1-te)<-me?fe-=ke*Math.round(fe/ke):fe>=ke&&(fe-=ke*Math.floor(fe/ke)),fe<0?fe=-1-fe:fe>=me&&(fe=ke-1-fe),he+=K[fe]*Te[ue];be[oe]=he}return be},o.syncOrAsync=function(K,te,oe){var ue;function fe(){return o.syncOrAsync(K,te,oe)}for(;K.length;)if((ue=(0,K.splice(0,1)[0])(te))&&ue.then)return ue.then(fe);return oe&&oe(te)},o.stripTrailingSlash=function(K){return"/"===K.substr(-1)?K.substr(0,K.length-1):K},o.noneOrAll=function(K,te,oe){if(K){var ue,fe=!1,he=!0;for(ue=0;ue<oe.length;ue++)null!=K[oe[ue]]?fe=!0:he=!1;if(fe&&!he)for(ue=0;ue<oe.length;ue++)K[oe[ue]]=te[oe[ue]]}},o.mergeArray=function(K,te,oe,ue){var fe="function"==typeof ue;if(o.isArrayOrTypedArray(K))for(var he=Math.min(K.length,te.length),me=0;me<he;me++){var ke=K[me];te[me][oe]=fe?ue(ke):ke}},o.mergeArrayCastPositive=function(K,te,oe){return o.mergeArray(K,te,oe,function(ue){var fe=+ue;return isFinite(fe)&&fe>0?fe:0})},o.fillArray=function(K,te,oe,ue){if(ue=ue||o.identity,o.isArrayOrTypedArray(K))for(var fe=0;fe<te.length;fe++)te[fe][oe]=ue(K[fe])},o.castOption=function(K,te,oe,ue){ue=ue||o.identity;var fe=o.nestedProperty(K,oe).get();return o.isArrayOrTypedArray(fe)?Array.isArray(te)&&o.isArrayOrTypedArray(fe[te[0]])?ue(fe[te[0]][te[1]]):ue(fe[te]):fe},o.extractOption=function(K,te,oe,ue){if(oe in K)return K[oe];var fe=o.nestedProperty(te,ue).get();return Array.isArray(fe)?void 0:fe},o.tagSelected=function(K,te,oe){var ue,fe,he=te.selectedpoints,me=te._indexToPoints;me&&(ue=k(me));for(var ke=0;ke<he.length;ke++){var Pe=he[ke];if(o.isIndex(Pe)||o.isArrayOrTypedArray(Pe)&&o.isIndex(Pe[0])&&o.isIndex(Pe[1])){var Te=ue?ue[Pe]:Pe,be=oe?oe[Te]:Te;void 0!==(fe=be)&&fe<K.length&&(K[be].selected=1)}}},o.selIndices2selPoints=function(K){var te=K.selectedpoints,oe=K._indexToPoints;if(oe){for(var ue=k(oe),fe=[],he=0;he<te.length;he++){var me=te[he];if(o.isIndex(me)){var ke=ue[me];o.isIndex(ke)&&fe.push(ke)}}return fe}return te},o.getTargetArray=function(K,te){var oe=te.target;if("string"==typeof oe&&oe){var ue=o.nestedProperty(K,oe).get();return!!Array.isArray(ue)&&ue}return!!Array.isArray(oe)&&oe},o.minExtend=function K(te,oe,ue){var fe={};"object"!=typeof oe&&(oe={});var he,me,ke,Pe="pieLike"===ue?-1:3,Te=Object.keys(te);for(he=0;he<Te.length;he++)ke=te[me=Te[he]],"_"!==me.charAt(0)&&"function"!=typeof ke&&(fe[me]="module"===me?ke:Array.isArray(ke)?"colorscale"===me||-1===Pe?ke.slice():ke.slice(0,Pe):o.isTypedArray(ke)?-1===Pe?ke.subarray():ke.subarray(0,Pe):ke&&"object"==typeof ke?K(te[me],oe[me],ue):ke);for(Te=Object.keys(oe),he=0;he<Te.length;he++)"object"==typeof(ke=oe[me=Te[he]])&&me in fe&&"object"==typeof fe[me]||(fe[me]=ke);return fe},o.titleCase=function(K){return K.charAt(0).toUpperCase()+K.substr(1)},o.containsAny=function(K,te){for(var oe=0;oe<te.length;oe++)if(-1!==K.indexOf(te[oe]))return!0;return!1},o.isIE=function(){return void 0!==window.navigator.msSaveBlob};var I=/Version\/[\d\.]+.*Safari/;o.isSafari=function(){return I.test(window.navigator.userAgent)};var L=/iPad|iPhone|iPod/;o.isIOS=function(){return L.test(window.navigator.userAgent)};var P=/Firefox\/(\d+)\.\d+/;o.getFirefoxVersion=function(){var K=P.exec(window.navigator.userAgent);if(K&&2===K.length){var te=parseInt(K[1]);if(!isNaN(te))return te}return null},o.isD3Selection=function(K){return K instanceof C.selection},o.ensureSingle=function(K,te,oe,ue){var fe=K.select(te+(oe?"."+oe:""));if(fe.size())return fe;var he=K.append(te);return oe&&he.classed(oe,!0),ue&&he.call(ue),he},o.ensureSingleById=function(K,te,oe,ue){var fe=K.select(te+"#"+oe);if(fe.size())return fe;var he=K.append(te).attr("id",oe);return ue&&he.call(ue),he},o.objectFromPath=function(K,te){for(var oe,ue=K.split("."),fe=oe={},he=0;he<ue.length;he++){var me=ue[he],ke=null,Pe=ue[he].match(/(.*)\[([0-9]+)\]/);Pe?(ke=Pe[2],(oe=oe[me=Pe[1]]=[])[ke]=he===ue.length-1?te:{},oe=oe[ke]):(oe[me]=he===ue.length-1?te:{},oe=oe[me])}return fe};var R=/^([^\[\.]+)\.(.+)?/,z=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;o.expandObjectPaths=function(K){var te,oe,ue,fe,he,me,ke;if("object"==typeof K&&!Array.isArray(K))for(oe in K)K.hasOwnProperty(oe)&&((te=oe.match(R))?(fe=K[oe],ue=te[1],delete K[oe],K[ue]=o.extendDeepNoArrays(K[ue]||{},o.objectFromPath(oe,o.expandObjectPaths(fe))[ue])):(te=oe.match(z))?(fe=K[oe],ue=te[1],he=parseInt(te[2]),delete K[oe],K[ue]=K[ue]||[],"."===te[3]?(ke=te[4],me=K[ue][he]=K[ue][he]||{},o.extendDeepNoArrays(me,o.objectFromPath(ke,o.expandObjectPaths(fe)))):K[ue][he]=o.expandObjectPaths(fe)):K[oe]=o.expandObjectPaths(K[oe]));return K},o.numSeparate=function(K,te,oe){if(oe||(oe=!1),"string"!=typeof te||0===te.length)throw new Error("Separator string required for formatting!");"number"==typeof K&&(K=String(K));var ue=/(\d+)(\d{3})/,fe=te.charAt(0),he=te.charAt(1),me=K.split("."),ke=me[0],Pe=me.length>1?fe+me[1]:"";if(he&&(me.length>1||ke.length>4||oe))for(;ue.test(ke);)ke=ke.replace(ue,"$1"+he+"$2");return ke+Pe},o.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var $=/^\w*$/;o.templateString=function(K,te){var oe={};return K.replace(o.TEMPLATE_STRING_REGEX,function(ue,fe){var he;return $.test(fe)?he=te[fe]:(oe[fe]=oe[fe]||o.nestedProperty(te,fe).get,he=oe[fe]()),o.isValidTextValue(he)?he:""})};var N={max:10,count:0,name:"hovertemplate"};o.hovertemplateString=function(){return Y.apply(N,arguments)};var W={max:10,count:0,name:"texttemplate"};o.texttemplateString=function(){return Y.apply(W,arguments)};var H=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,U={max:10,count:0,name:"texttemplate",parseMultDiv:!0};o.texttemplateStringForShapes=function(){return Y.apply(U,arguments)};var Z=/^[:|\|]/;function Y(K,te,oe){var ue=this,fe=arguments;te||(te={});var he={};return K.replace(o.TEMPLATE_STRING_REGEX,function(me,ke,Pe){var Te="_xother"===ke||"_yother"===ke,be="_xother_"===ke||"_yother_"===ke,xe="xother_"===ke||"yother_"===ke,Ne="xother"===ke||"yother"===ke||Te||xe||be,Se=ke;(Te||be)&&(Se=Se.substring(1)),(xe||be)&&(Se=Se.substring(0,Se.length-1));var Ce,pe,de,ve,Ie,se=null,we=null;if(ue.parseMultDiv){var Re=(Ie=(ve=Se).match(H))?{key:Ie[1],op:Ie[2],number:Number(Ie[3])}:{key:ve,op:null,number:null};Se=Re.key,se=Re.op,we=Re.number}if(Ne){if(void 0===(Ce=te[Se]))return""}else for(de=3;de<fe.length;de++)if(pe=fe[de]){if(pe.hasOwnProperty(Se)){Ce=pe[Se];break}if($.test(Se)||(Ce=o.nestedProperty(pe,Se).get(),(Ce=he[Se]||o.nestedProperty(pe,Se).get())&&(he[Se]=Ce)),void 0!==Ce)break}if(void 0!==Ce&&("*"===se&&(Ce*=we),"/"===se&&(Ce/=we)),void 0===Ce&&ue)return ue.count<ue.max&&(o.warn("Variable '"+Se+"' in "+ue.name+" could not be found!"),Ce=me),ue.count===ue.max&&o.warn("Too many "+ue.name+" warnings - additional warnings will be suppressed"),ue.count++,me;if(Pe){var Ee;if(":"===Pe[0]&&(Ce=(Ee=oe?oe.numberFormat:o.numberFormat)(Pe.replace(Z,""))(Ce)),"|"===Pe[0]){Ee=oe?oe.timeFormat:S;var Ue=o.dateTime2ms(Ce);Ce=o.formatDate(Ue,Pe.replace(Z,""),!1,Ee)}}else{var $e=Se+"Label";te.hasOwnProperty($e)&&(Ce=te[$e])}return Ne&&(Ce="("+Ce+")",(Te||be)&&(Ce=" "+Ce),(xe||be)&&(Ce+=" ")),Ce})}o.subplotSort=function(K,te){for(var oe=Math.min(K.length,te.length)+1,ue=0,fe=0,he=0;he<oe;he++){var me=K.charCodeAt(he)||0,ke=te.charCodeAt(he)||0,Pe=me>=48&&me<=57,Te=ke>=48&&ke<=57;if(Pe&&(ue=10*ue+me-48),Te&&(fe=10*fe+ke-48),!Pe||!Te){if(ue!==fe)return ue-fe;if(me!==ke)return me-ke}}return fe-ue};var ae=2e9;o.seedPseudoRandom=function(){ae=2e9},o.pseudoRandom=function(){var K=ae;return ae=(69069*ae+1)%4294967296,Math.abs(ae-K)<429496729?o.pseudoRandom():ae/4294967296},o.fillText=function(K,te,oe){var ue=Array.isArray(oe)?function(me){oe.push(me)}:function(me){oe.text=me},fe=o.extractOption(K,te,"htx","hovertext");if(o.isValidTextValue(fe))return ue(fe);var he=o.extractOption(K,te,"tx","text");return o.isValidTextValue(he)?ue(he):void 0},o.isValidTextValue=function(K){return K||0===K},o.formatPercent=function(K,te){te=te||0;for(var oe=(Math.round(100*K*Math.pow(10,te))*Math.pow(.1,te)).toFixed(te)+"%",ue=0;ue<te;ue++)-1!==oe.indexOf(".")&&(oe=(oe=oe.replace("0%","%")).replace(".%","%"));return oe},o.isHidden=function(K){var te=window.getComputedStyle(K).display;return!te||"none"===te},o.strTranslate=function(K,te){return K||te?"translate("+K+","+te+")":""},o.strRotate=function(K){return K?"rotate("+K+")":""},o.strScale=function(K){return 1!==K?"scale("+K+")":""},o.getTextTransform=function(K){var te=K.noCenter,oe=K.textX,ue=K.textY,Pe=K.rotate,Te=K.scale;return Te?Te>1&&(Te=1):Te=0,o.strTranslate(K.targetX-Te*(oe+(K.anchorX||0)),K.targetY-Te*(ue+(K.anchorY||0)))+o.strScale(Te)+(Pe?"rotate("+Pe+(te?"":" "+oe+" "+ue)+")":"")},o.setTransormAndDisplay=function(K,te){K.attr("transform",o.getTextTransform(te)),K.style("display",te.scale?null:"none")},o.ensureUniformFontSize=function(K,te){var oe=o.extendFlat({},te);return oe.size=Math.max(te.size,K._fullLayout.uniformtext.minsize||0),oe},o.join2=function(K,te,oe){var ue=K.length;return ue>1?K.slice(0,-1).join(te)+oe+K[ue-1]:K.join(te)},o.bigFont=function(K){return Math.round(1.2*K)};var re=o.getFirefoxVersion(),Q=null!==re&&re<86;o.getPositionFromD3Event=function(){return Q?[C.event.layerX,C.event.layerY]:[C.event.offsetX,C.event.offsetY]}},41965:function(ie){"use strict";ie.exports=function(B){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(B):"[object Object]"===Object.prototype.toString.call(B)&&Object.getPrototypeOf(B).hasOwnProperty("hasOwnProperty")}},66636:function(ie,B,e){"use strict";var C=e(65487),S=/^\w*$/;ie.exports=function(u,A,T,m){var l,t,o;T=T||"name",m=m||"value";var r={};A&&A.length?(o=C(u,A),t=o.get()):t=u,A=A||"";var n={};if(t)for(l=0;l<t.length;l++)n[t[l][T]]=l;var a=S.test(m),s={set:function(c,p){var f=null===p?4:0;if(!t){if(!o||4===f)return;o.set(t=[])}var w=n[c];if(void 0===w){if(4===f)return;f|=3,n[c]=w=t.length}else p!==(a?t[w][m]:C(t[w],m).get())&&(f|=2);var v=t[w]=t[w]||{};return v[T]=c,a?v[m]=p:C(v,m).set(p),null!==p&&(f&=-5),r[w]=r[w]|f,s},get:function(c){if(t){var p=n[c];return void 0===p?void 0:a?t[p][m]:C(t[p],m).get()}},rename:function(c,p){var f=n[c];return void 0===f||(r[f]=1|r[f],n[p]=f,delete n[c],t[f][T]=p),s},remove:function(c){var p=n[c];if(void 0===p)return s;var f=t[p];if(Object.keys(f).length>2)return r[p]=2|r[p],s.set(c,null);if(a){for(l=p;l<t.length;l++)r[l]=3|r[l];for(l=p;l<t.length;l++)n[t[l][T]]--;t.splice(p,1),delete n[c]}else C(f,m).set(null),r[p]=6|r[p];return s},constructUpdate:function(){for(var c,p,f={},w=Object.keys(r),v=0;v<w.length;v++)c=A+"["+(p=w[v])+"]",t[p]?(1&r[p]&&(f[c+"."+T]=t[p][T]),2&r[p]&&(f[c+"."+m]=a?4&r[p]?null:t[p][m]:4&r[p]?null:C(t[p],m).get())):f[c]=null;return f}};return s}},15867:function(ie,B,e){"use strict";var C=e(73972);ie.exports=function(S,u){for(var A=S._context.locale,T=0;T<2;T++){for(var m=S._context.locales,l=0;l<2;l++){var t=(m[A]||{}).dictionary;if(t){var o=t[u];if(o)return o}m=C.localeRegistry}var r=A.split("-")[0];if(r===A)break;A=r}return u}},47769:function(ie,B,e){"use strict";var C=e(72075).dfltConfig,S=e(75046),u=ie.exports={};u.log=function(){var A;if(C.logging>1){var T=["LOG:"];for(A=0;A<arguments.length;A++)T.push(arguments[A]);console.trace.apply(console,T)}if(C.notifyOnLogging>1){var m=[];for(A=0;A<arguments.length;A++)m.push(arguments[A]);S(m.join("<br>"),"long")}},u.warn=function(){var A;if(C.logging>0){var T=["WARN:"];for(A=0;A<arguments.length;A++)T.push(arguments[A]);console.trace.apply(console,T)}if(C.notifyOnLogging>0){var m=[];for(A=0;A<arguments.length;A++)m.push(arguments[A]);S(m.join("<br>"),"stick")}},u.error=function(){var A;if(C.logging>0){var T=["ERROR:"];for(A=0;A<arguments.length;A++)T.push(arguments[A]);console.error.apply(console,T)}if(C.notifyOnLogging>0){var m=[];for(A=0;A<arguments.length;A++)m.push(arguments[A]);S(m.join("<br>"),"stick")}}},77310:function(ie,B,e){"use strict";var C=e(39898);ie.exports=function(S,u,A){var T=S.selectAll("g."+A.replace(/\s/g,".")).data(u,function(l){return l[0].trace.uid});T.exit().remove(),T.enter().append("g").attr("class",A),T.order();var m=S.classed("rangeplot")?"nodeRangePlot3":"node3";return T.each(function(l){l[0][m]=C.select(this)}),T}},35657:function(ie,B,e){"use strict";var C=e(79576);B.init2dArray=function(S,u){for(var A=new Array(S),T=0;T<S;T++)A[T]=new Array(u);return A},B.transposeRagged=function(S){var u,A,T=0,m=S.length;for(u=0;u<m;u++)T=Math.max(T,S[u].length);var l=new Array(T);for(u=0;u<T;u++)for(l[u]=new Array(m),A=0;A<m;A++)l[u][A]=S[A][u];return l},B.dot=function(S,u){if(!S.length||!u.length||S.length!==u.length)return null;var A,T,m=S.length;if(S[0].length)for(A=new Array(m),T=0;T<m;T++)A[T]=B.dot(S[T],u);else if(u[0].length){var l=B.transposeRagged(u);for(A=new Array(l.length),T=0;T<l.length;T++)A[T]=B.dot(S,l[T])}else for(A=0,T=0;T<m;T++)A+=S[T]*u[T];return A},B.translationMatrix=function(S,u){return[[1,0,S],[0,1,u],[0,0,1]]},B.rotationMatrix=function(S){var u=S*Math.PI/180;return[[Math.cos(u),-Math.sin(u),0],[Math.sin(u),Math.cos(u),0],[0,0,1]]},B.rotationXYMatrix=function(S,u,A){return B.dot(B.dot(B.translationMatrix(u,A),B.rotationMatrix(S)),B.translationMatrix(-u,-A))},B.apply3DTransform=function(S){return function(){var u=arguments,A=1===arguments.length?u[0]:[u[0],u[1],u[2]||0];return B.dot(S,[A[0],A[1],A[2],1]).slice(0,3)}},B.apply2DTransform=function(S){return function(){var u=arguments;3===u.length&&(u=u[0]);var A=1===arguments.length?u[0]:[u[0],u[1]];return B.dot(S,[A[0],A[1],1]).slice(0,2)}},B.apply2DTransform2=function(S){var u=B.apply2DTransform(S);return function(A){return u(A.slice(0,2)).concat(u(A.slice(2,4)))}},B.convertCssMatrix=function(S){if(S){var u=S.length;if(16===u)return S;if(6===u)return[S[0],S[1],0,0,S[2],S[3],0,0,0,0,1,0,S[4],S[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},B.inverseTransformMatrix=function(S){var u=[];return C.invert(u,S),[[u[0],u[1],u[2],u[3]],[u[4],u[5],u[6],u[7]],[u[8],u[9],u[10],u[11]],[u[12],u[13],u[14],u[15]]]}},64872:function(ie){"use strict";ie.exports={mod:function(B,e){var C=B%e;return C<0?C+e:C},modHalf:function(B,e){return Math.abs(B)>e/2?B-Math.round(B/e)*e:B}}},65487:function(ie,B,e){"use strict";var C=e(92770),S=e(73627).isArrayOrTypedArray;function u(r,n){return function(){var a,s,c,p,f,w=r;for(p=0;p<n.length-1;p++){if(-1===(a=n[p])){for(s=!0,c=[],f=0;f<w.length;f++)c[f]=u(w[f],n.slice(p+1))(),c[f]!==c[0]&&(s=!1);return s?c[0]:c}if("number"==typeof a&&!S(w)||"object"!=typeof(w=w[a])||null===w)return}if("object"==typeof w&&null!==w&&null!==(c=w[n[p]]))return c}}ie.exports=function(r,n){if(C(n))n=String(n);else if("string"!=typeof n||"[-1]"===n.substr(n.length-4))throw"bad property string";for(var a,s,c,p=0,f=n.split(".");p<f.length;){if(a=String(f[p]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(a[1])f[p]=a[1];else{if(0!==p)throw"bad property string";f.splice(0,1)}for(s=a[2].substr(1,a[2].length-2).split("]["),c=0;c<s.length;c++)p++,f.splice(p,0,Number(s[c]))}p++}return"object"!=typeof r?{set:function(){throw"bad container"},get:function(){},astr:n,parts:f,obj:r}:{set:m(r,f,n),get:u(r,f),astr:n,parts:f,obj:r}};var A=/(^|\.)args\[/;function T(r,n){return void 0===r||null===r&&!n.match(A)}function m(r,n,a){return function(s){var c,p,f=r,w="",v=[[r,w]],h=T(s,a);for(p=0;p<n.length-1;p++){if("number"==typeof(c=n[p])&&!S(f))throw"array index but container is not an array";if(-1===c){if(h=!t(f,n.slice(p+1),s,a))break;return}if(!o(f,c,n[p+1],h))break;if("object"!=typeof(f=f[c])||null===f)throw"container is not an object";w=l(w,c),v.push([f,w])}if(h){if(p===n.length-1&&(delete f[n[p]],Array.isArray(f)&&+n[p]==f.length-1))for(;f.length&&void 0===f[f.length-1];)f.pop()}else f[n[p]]=s}}function l(r,n){var a=n;return C(n)?a="["+n+"]":r&&(a="."+n),r+a}function t(r,n,a,s){var c,p=S(a),f=!0,w=a,v=s.replace("-1",0),h=!p&&T(a,v),_=n[0];for(c=0;c<r.length;c++)v=s.replace("-1",c),p&&(h=T(w=a[c%a.length],v)),h&&(f=!1),o(r,c,_,h)&&m(r[c],n,s.replace("-1",c))(w);return f}function o(r,n,a,s){if(void 0===r[n]){if(s)return!1;r[n]="number"==typeof a?[]:{}}return!0}},64213:function(ie){"use strict";ie.exports=function(){}},75046:function(ie,B,e){"use strict";var C=e(39898),S=e(92770),u=[];ie.exports=function(A,T){if(-1===u.indexOf(A)){u.push(A);var m=1e3;S(T)?m=T:"long"===T&&(m=3e3);var l=C.select("body").selectAll(".plotly-notifier").data([0]);l.enter().append("div").classed("plotly-notifier",!0),l.selectAll(".notifier-note").data(u).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(o){var r=C.select(this);r.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){r.transition().call(t)});for(var n=r.append("p"),a=o.split(/<br\s*\/?>/g),s=0;s<a.length;s++)s&&n.append("br"),n.append("span").text(a[s]);"stick"===T?r.transition().duration(350).style("opacity",1):r.transition().duration(700).style("opacity",1).transition().delay(m).call(t)})}function t(o){o.duration(700).style("opacity",0).each("end",function(r){var n=u.indexOf(r);-1!==n&&u.splice(n,1),C.select(this).remove()})}}},39918:function(ie,B,e){"use strict";var C=e(6964),S="data-savedcursor";ie.exports=function(u,A){var T=u.attr(S);if(A){if(!T){for(var m=(u.attr("class")||"").split(" "),l=0;l<m.length;l++){var t=m[l];0===t.indexOf("cursor-")&&u.attr(S,t.substr(7)).classed(t,!1)}u.attr(S)||u.attr(S,"!!")}C(u,A)}else T&&(u.attr(S,null),"!!"===T?C(u):C(u,T))}},61082:function(ie,B,e){"use strict";var C=e(35657).dot,S=e(50606).BADNUM,u=ie.exports={};u.tester=function(A){var T,m=A.slice(),l=m[0][0],t=l,o=m[0][1],r=o;for(m[m.length-1][0]===m[0][0]&&m[m.length-1][1]===m[0][1]||m.push(m[0]),T=1;T<m.length;T++)l=Math.min(l,m[T][0]),t=Math.max(t,m[T][0]),o=Math.min(o,m[T][1]),r=Math.max(r,m[T][1]);var n,a=!1;5===m.length&&(m[0][0]===m[1][0]?m[2][0]===m[3][0]&&m[0][1]===m[3][1]&&m[1][1]===m[2][1]&&(a=!0,n=function(p){return p[0]===m[0][0]}):m[0][1]===m[1][1]&&m[2][1]===m[3][1]&&m[0][0]===m[3][0]&&m[1][0]===m[2][0]&&(a=!0,n=function(p){return p[1]===m[0][1]}));var s=!0,c=m[0];for(T=1;T<m.length;T++)if(c[0]!==m[T][0]||c[1]!==m[T][1]){s=!1;break}return{xmin:l,xmax:t,ymin:o,ymax:r,pts:m,contains:a?function(p,f){var w=p[0],v=p[1];return!(w===S||w<l||w>t||v===S||v<o||v>r||f&&n(p))}:function(p,f){var w=p[0],v=p[1];if(w===S||w<l||w>t||v===S||v<o||v>r)return!1;var h,_,x,b,M,d=m.length,E=m[0][0],k=m[0][1],I=0;for(h=1;h<d;h++)if(_=E,x=k,E=m[h][0],k=m[h][1],!(w<(b=Math.min(_,E))||w>Math.max(_,E)||v>Math.max(x,k)))if(v<Math.min(x,k))w!==b&&I++;else{if(v===(M=E===_?v:x+(w-_)*(k-x)/(E-_)))return 1!==h||!f;v<=M&&w!==b&&I++}return I%2==1},isRect:a,degenerate:s}},u.isSegmentBent=function(A,T,m,l){var t,o,r,n=A[T],a=[A[m][0]-n[0],A[m][1]-n[1]],s=C(a,a),c=Math.sqrt(s),p=[-a[1]/c,a[0]/c];for(t=T+1;t<m;t++)if((r=C(o=[A[t][0]-n[0],A[t][1]-n[1]],a))<0||r>s||Math.abs(C(o,p))>l)return!0;return!1},u.filter=function(A,T){var m=[A[0]],l=0,t=0;function o(r){A.push(r);var n=m.length,a=l;m.splice(t+1);for(var s=a+1;s<A.length;s++)(s===A.length-1||u.isSegmentBent(A,a,s+1,T))&&(m.push(A[s]),m.length<n-2&&(l=s,t=m.length-1),a=s)}return A.length>1&&o(A.pop()),{addPt:o,raw:A,filtered:m}}},79749:function(ie,B,e){"use strict";var C=e(58617),S=e(98580);ie.exports=function(u,A,T){var m=u._fullLayout,l=!0;return m._glcanvas.each(function(t){if(t.regl)t.regl.preloadCachedCode(T);else if(!t.pick||m._has("parcoords")){try{t.regl=S({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:u._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:A||[],cachedCode:T||{}})}catch{l=!1}t.regl||(l=!1),l&&this.addEventListener("webglcontextlost",function(o){u&&u.emit&&u.emit("plotly_webglcontextlost",{event:o,layer:t.key})},!1)}}),l||C({container:m._glcontainer.node()}),l}},45142:function(ie,B,e){"use strict";var C=e(92770),S=e(35791);ie.exports=function(u){var A,n;if("string"!=typeof(A=u&&u.hasOwnProperty("userAgent")?u.userAgent:(typeof navigator<"u"&&(n=navigator.userAgent),n&&n.headers&&"string"==typeof n.headers["user-agent"]&&(n=n.headers["user-agent"]),n)))return!0;var T=S({ua:{headers:{"user-agent":A}},tablet:!0,featureDetect:!1});if(!T)for(var m=A.split(" "),l=1;l<m.length;l++)if(-1!==m[l].indexOf("Safari"))for(var t=l-1;t>-1;t--){var o=m[t];if("Version/"===o.substr(0,8)){var r=o.substr(8).split(".")[0];if(C(r)&&(r=+r),r>=13)return!0}}return T}},75138:function(ie){"use strict";ie.exports=function(B,e){if(e instanceof RegExp){for(var C=e.toString(),S=0;S<B.length;S++)if(B[S]instanceof RegExp&&B[S].toString()===C)return B;B.push(e)}else!e&&0!==e||-1!==B.indexOf(e)||B.push(e);return B}},10847:function(ie,B,e){"use strict";var C=e(71828),S=e(72075).dfltConfig,u={add:function(A,T,m,l,t){var o,r;A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},r=A.undoQueue.index,A.autoplay?A.undoQueue.inSequence||(A.autoplay=!1):(!A.undoQueue.sequence||A.undoQueue.beginSequence?(A.undoQueue.queue.splice(r,A.undoQueue.queue.length-r,o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),A.undoQueue.index+=1):o=A.undoQueue.queue[r-1],A.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(T),o.undo.args.unshift(m),o.redo.calls.push(l),o.redo.args.push(t)),A.undoQueue.queue.length>S.queueLength&&(A.undoQueue.queue.shift(),A.undoQueue.index--))},startSequence:function(A){A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},A.undoQueue.sequence=!0,A.undoQueue.beginSequence=!0},stopSequence:function(A){A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},A.undoQueue.sequence=!1,A.undoQueue.beginSequence=!1},undo:function(A){var T,m;if(!(void 0===A.undoQueue||isNaN(A.undoQueue.index)||A.undoQueue.index<=0)){for(A.undoQueue.index--,T=A.undoQueue.queue[A.undoQueue.index],A.undoQueue.inSequence=!0,m=0;m<T.undo.calls.length;m++)u.plotDo(A,T.undo.calls[m],T.undo.args[m]);A.undoQueue.inSequence=!1,A.autoplay=!1}},redo:function(A){var T,m;if(!(void 0===A.undoQueue||isNaN(A.undoQueue.index)||A.undoQueue.index>=A.undoQueue.queue.length)){for(T=A.undoQueue.queue[A.undoQueue.index],A.undoQueue.inSequence=!0,m=0;m<T.redo.calls.length;m++)u.plotDo(A,T.redo.calls[m],T.redo.args[m]);A.undoQueue.inSequence=!1,A.autoplay=!1,A.undoQueue.index++}},plotDo:function(A,T,m){A.autoplay=!0,m=function(l,t){for(var o,r=[],n=0;n<t.length;n++)r[n]=(o=t[n])===l?o:"object"==typeof o?Array.isArray(o)?C.extendDeep([],o):C.extendDeepAll({},o):o;return r}(A,m),T.apply(null,m)}};ie.exports=u},30587:function(ie,B){"use strict";B.counter=function(e,C,S,u){var A=(C||"")+(S?"":"$"),T=!1===u?"":"^";return"xy"===e?new RegExp(T+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+A):new RegExp(T+e+"([2-9]|[1-9][0-9]+)?"+A)}},6962:function(ie){"use strict";var B=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;ie.exports=function(C,S){for(;S;){var u=C.match(B);if(u)C=u[1];else{if(!C.match(e))throw new Error("bad relativeAttr call:"+[C,S]);C=""}if("^"!==S.charAt(0))break;S=S.slice(1)}return C&&"["!==S.charAt(0)?C+"."+S:C+S}},51332:function(ie,B,e){"use strict";var C=e(73627).isArrayOrTypedArray,S=e(41965);ie.exports=function u(A,T){for(var m in T){var l=T[m],t=A[m];if(t!==l)if("_"===m.charAt(0)||"function"==typeof l){if(m in A)continue;A[m]=l}else if(C(l)&&C(t)&&S(l[0])){if("customdata"===m||"ids"===m)continue;for(var o=Math.min(l.length,t.length),r=0;r<o;r++)t[r]!==l[r]&&S(l[r])&&S(t[r])&&u(t[r],l[r])}else S(l)&&S(t)&&(u(t,l),Object.keys(t).length||delete A[m])}}},65888:function(ie,B,e){"use strict";var C=e(92770),S=e(47769),u=e(23389),A=e(50606).BADNUM,T=1e-9;function m(r,n){return r<n}function l(r,n){return r<=n}function t(r,n){return r>n}function o(r,n){return r>=n}B.findBin=function(r,n,a){if(C(n.start))return a?Math.ceil((r-n.start)/n.size-T)-1:Math.floor((r-n.start)/n.size+T);var s,c,p=0,f=n.length,w=0,v=f>1?(n[f-1]-n[0])/(f-1):1;for(c=v>=0?a?m:l:a?o:t,r+=v*T*(a?-1:1)*(v>=0?1:-1);p<f&&w++<100;)c(n[s=Math.floor((p+f)/2)],r)?p=s+1:f=s;return w>90&&S.log("Long binary search..."),p-1},B.sorterAsc=function(r,n){return r-n},B.sorterDes=function(r,n){return n-r},B.distinctVals=function(r){var n,a=r.slice();for(a.sort(B.sorterAsc),n=a.length-1;n>-1&&a[n]===A;n--);for(var s,c=a[n]-a[0]||1,p=c/(n||1)/1e4,f=[],w=0;w<=n;w++){var v=a[w],h=v-s;void 0===s?(f.push(v),s=v):h>p&&(c=Math.min(c,h),f.push(v),s=v)}return{vals:f,minDiff:c}},B.roundUp=function(r,n,a){for(var s,c=0,p=n.length-1,f=0,w=a?0:1,v=a?1:0,h=a?Math.ceil:Math.floor;c<p&&f++<100;)n[s=h((c+p)/2)]<=r?c=s+w:p=s-v;return n[c]},B.sort=function(r,n){for(var a=0,s=0,c=1;c<r.length;c++){var p=n(r[c],r[c-1]);if(p<0?a=1:p>0&&(s=1),a&&s)return r.sort(n)}return s?r:r.reverse()},B.findIndexOfMin=function(r,n){n=n||u;for(var a,s=1/0,c=0;c<r.length;c++){var p=n(r[c]);p<s&&(s=p,a=c)}return a}},6964:function(ie){"use strict";ie.exports=function(B,e){(B.attr("class")||"").split(" ").forEach(function(C){0===C.indexOf("cursor-")&&B.classed(C,!1)}),e&&B.classed("cursor-"+e,!0)}},58617:function(ie,B,e){"use strict";var C=e(7901),S=function(){};ie.exports=function(u){for(var A in u)"function"==typeof u[A]&&(u[A]=S);u.destroy=function(){u.container.parentNode.removeChild(u.container)};var T=document.createElement("div");T.className="no-webgl",T.style.cursor="pointer",T.style.fontSize="24px",T.style.color=C.defaults[0],T.style.position="absolute",T.style.left=T.style.top="0px",T.style.width=T.style.height="100%",T.style["background-color"]=C.lightLine,T.style["z-index"]=30;var m=document.createElement("p");return m.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",m.style.position="relative",m.style.top="50%",m.style.left="50%",m.style.height="30%",m.style.width="50%",m.style.margin="-15% 0 0 -25%",T.appendChild(m),u.container.appendChild(T),u.container.style.background="#FFFFFF",u.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(ie){"use strict";ie.exports=function(B){return Object.keys(B).sort()}},80038:function(ie,B,e){"use strict";var C=e(92770),S=e(73627).isArrayOrTypedArray;B.aggNums=function(u,A,T,m){var l,t;if((!m||m>T.length)&&(m=T.length),C(A)||(A=!1),S(T[0])){for(t=new Array(m),l=0;l<m;l++)t[l]=B.aggNums(u,A,T[l]);T=t}for(l=0;l<m;l++)C(A)?C(T[l])&&(A=u(+A,+T[l])):A=T[l];return A},B.len=function(u){return B.aggNums(function(A){return A+1},0,u)},B.mean=function(u,A){return A||(A=B.len(u)),B.aggNums(function(T,m){return T+m},0,u)/A},B.midRange=function(u){if(void 0!==u&&0!==u.length)return(B.aggNums(Math.max,null,u)+B.aggNums(Math.min,null,u))/2},B.variance=function(u,A,T){return A||(A=B.len(u)),C(T)||(T=B.mean(u,A)),B.aggNums(function(m,l){return m+Math.pow(l-T,2)},0,u)/A},B.stdev=function(u,A,T){return Math.sqrt(B.variance(u,A,T))},B.median=function(u){var A=u.slice().sort();return B.interp(A,.5)},B.interp=function(u,A){if(!C(A))throw"n should be a finite number";if((A=A*u.length-.5)<0)return u[0];if(A>u.length-1)return u[u.length-1];var T=A%1;return T*u[Math.ceil(A)]+(1-T)*u[Math.floor(A)]}},78614:function(ie,B,e){"use strict";var C=e(25075);ie.exports=function(S){return S?C(S):[0,0,0,1]}},3883:function(ie,B,e){"use strict";var C=e(32396),S=e(91424),u=e(71828),A=null;ie.exports=function(){if(null!==A)return A;A=!1;var T=u.isIE()||u.isSafari()||u.isIOS();if(window.navigator.userAgent&&!T){var m=Array.from(C.CSS_DECLARATIONS).reverse(),l=window.CSS&&window.CSS.supports||window.supportsCSS;if("function"==typeof l)A=m.some(function(r){return l.apply(null,r)});else{var t=S.tester.append("image").attr("style",C.STYLE),o=window.getComputedStyle(t.node()).imageRendering;A=m.some(function(r){var n=r[1];return o===n||o===n.toLowerCase()}),t.remove()}}return A}},63893:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=S.strTranslate,A=e(77922),T=e(18783).LINE_SPACING,m=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;B.convertToTspans=function(z,$,N){var W=z.text(),H=!z.attr("data-notex")&&$&&$._context.typesetMath&&typeof MathJax<"u"&&W.match(m),U=C.select(z.node().parentNode);if(!U.empty()){var Z=z.attr("class")?z.attr("class").split(" ")[0]:"text";return U.selectAll("svg."+(Z+="-math")).remove(),U.selectAll("g."+Z+"-group").remove(),z.style("display",null).attr({"data-unformatted":W,"data-math":"N"}),H?($&&$._promises||[]).push(new Promise(function(ae){z.style("display","none");var re=parseInt(z.node().style.fontSize,10);!function(K,te,oe){var ue,fe,he,me,ke=parseInt((MathJax.version||"").split(".")[0]);if(2===ke||3===ke){var Pe=function(){var be="math-output-"+S.randstr({},64),xe=(me=C.select("body").append("div").attr({id:be}).style({visibility:"hidden",position:"absolute","font-size":te.fontSize+"px"}).text(K.replace(l,"\\lt ").replace(t,"\\gt "))).node();return 2===ke?MathJax.Hub.Typeset(xe):MathJax.typeset([xe])},Te=function(){var be=me.select(2===ke?".MathJax_SVG":".MathJax"),xe=!be.empty()&&me.select("svg").node();if(xe){var Ne,Se=xe.getBoundingClientRect();Ne=2===ke?C.select("body").select("#MathJax_SVG_glyphs"):be.select("defs"),oe(be,Ne,Se)}else S.log("There was an error in the tex syntax.",K),oe();me.remove()};2===ke?MathJax.Hub.Queue(function(){return fe=S.extendDeepAll({},MathJax.Hub.config),he=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:o},displayAlign:"left"})},function(){if("SVG"!==(ue=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},Pe,Te,function(){if("SVG"!==ue)return MathJax.Hub.setRenderer(ue)},function(){return void 0!==he&&(MathJax.Hub.processSectionDelay=he),MathJax.Hub.Config(fe)}):3===ke&&(fe=S.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=o,"svg"!==(ue=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Pe(),Te(),"svg"!==ue&&(MathJax.config.startup.output=ue),MathJax.config=fe}))}else S.warn("No MathJax version:",MathJax.version)}(H[2],{fontSize:re},function(K,te,oe){U.selectAll("svg."+Z).remove(),U.selectAll("g."+Z+"-group").remove();var ue=K&&K.select("svg");if(!ue||!ue.node())return Y(),void ae();var fe=U.append("g").classed(Z+"-group",!0).attr({"pointer-events":"none","data-unformatted":W,"data-math":"Y"});fe.node().appendChild(ue.node()),te&&te.node()&&ue.node().insertBefore(te.node().cloneNode(!0),ue.node().firstChild);var he=oe.width,me=oe.height;ue.attr({class:Z,height:me,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ke=z.node().style.fill||"black",Pe=ue.select("g");Pe.attr({fill:ke,stroke:ke});var Te=Pe.node().getBoundingClientRect(),be=Te.width,xe=Te.height;(be>he||xe>me)&&(ue.style("overflow","hidden"),be=(Te=ue.node().getBoundingClientRect()).width,xe=Te.height);var Ne=+z.attr("x"),Se=+z.attr("y"),Ce=-(re||z.node().getBoundingClientRect().height)/4;if("y"===Z[0])fe.attr({transform:"rotate("+[-90,Ne,Se]+")"+u(-be/2,Ce-xe/2)});else if("l"===Z[0])Se=Ce-xe/2;else if("a"===Z[0]&&0!==Z.indexOf("atitle"))Ne=0,Se=Ce;else{var pe=z.attr("text-anchor");Ne-=be*("middle"===pe?.5:"end"===pe?1:0),Se=Se+Ce-xe/2}ue.attr({x:Ne,y:Se}),N&&N.call(z,fe),ae(fe)})})):Y(),z}function Y(){U.empty()||(Z=z.attr("class")+"-math",U.select("svg."+Z).remove()),z.text("").style("white-space","pre"),function(re,Q){Q=Q.replace(p," ");var K,te=!1,oe=[],ue=-1;function fe(){ue++;var Re=document.createElementNS(A.svg,"tspan");C.select(Re).attr({class:"line",dy:ue*T+"em"}),re.appendChild(Re),K=Re;var Ee=oe;if(oe=[{node:Re}],Ee.length>1)for(var Ue=1;Ue<Ee.length;Ue++)he(Ee[Ue])}function he(Re){var Ee,Ue=Re.type,$e={};if("a"===Ue){Ee="a";var ve=Re.target,Ie=Re.href,De=Re.popup;Ie&&($e={"xlink:xlink:show":"_blank"===ve||"_"!==ve.charAt(0)?"new":"replace",target:ve,"xlink:xlink:href":Ie},De&&($e.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+De+'");return false;'))}else Ee="tspan";Re.style&&($e.style=Re.style);var ze=document.createElementNS(A.svg,Ee);if("sup"===Ue||"sub"===Ue){me(K,s),K.appendChild(ze);var Ge=document.createElementNS(A.svg,"tspan");me(Ge,s),C.select(Ge).attr("dy",a[Ue]),$e.dy=n[Ue],K.appendChild(ze),K.appendChild(Ge)}else K.appendChild(ze);C.select(ze).attr($e),K=Re.node=ze,oe.push(Re)}function me(Re,Ee){Re.appendChild(document.createTextNode(Ee))}function ke(Re){if(1!==oe.length){var Ee=oe.pop();Re!==Ee.type&&S.log("Start tag <"+Ee.type+"> doesnt match end tag <"+Re+">. Pretending it did match.",Q),K=oe[oe.length-1].node}else S.log("Ignoring unexpected end tag </"+Re+">.",Q)}v.test(Q)?fe():(K=re,oe=[{node:re}]);for(var Pe=Q.split(f),Te=0;Te<Pe.length;Te++){var be=Pe[Te],xe=be.match(w),Ne=xe&&xe[2].toLowerCase(),Se=r[Ne];if("br"===Ne)fe();else if(void 0===Se)me(K,I(be));else if(xe[1])ke(Ne);else{var Ce=xe[4],pe={type:Ne},de=M(Ce,h);if(de?(de=de.replace(d,"$1 fill:"),Se&&(de+=";"+Se)):Se&&(de=Se),de&&(pe.style=de),"a"===Ne){te=!0;var se=M(Ce,_);if(se){var we=L(se);we&&(pe.href=we,pe.target=M(Ce,x)||"_blank",pe.popup=M(Ce,b))}}he(pe)}}return te}(z.node(),W)&&z.style("pointer-events","all"),B.positionText(z),N&&N.call(z)}};var l=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,o=[["$","$"],["\\(","\\)"]],r={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},n={sub:"0.3em",sup:"-0.6em"},a={sub:"-0.21em",sup:"0.42em"},s="\u200b",c=["http:","https:","mailto:","",void 0,":"],p=B.NEWLINES=/(\r\n?|\n)/g,f=/(<[^<>]*>)/,w=/<(\/?)([^ >]*)(\s+(.*))?>/i,v=/<br(\s+.*)?>/i;B.BR_TAG_ALL=/<br(\s+.*)?>/gi;var h=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,_=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,x=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,b=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function M(z,$){if(!z)return null;var N=z.match($),W=N&&(N[3]||N[4]);return W&&I(W)}var d=/(^|;)\s*color:/;B.plainText=function(z,$){for(var N=void 0!==($=$||{}).len&&-1!==$.len?$.len:1/0,W=void 0!==$.allowedTags?$.allowedTags:["br"],H=z.split(f),U=[],Z="",Y=0,ae=0;ae<H.length;ae++){var re=H[ae],Q=re.match(w),K=Q&&Q[2].toLowerCase();if(K)-1!==W.indexOf(K)&&(U.push(re),Z=K);else{var te=re.length;if(Y+te<N)U.push(re),Y+=te;else if(Y<N){var oe=N-Y;Z&&("br"!==Z||oe<=3||te<=3)&&U.pop(),U.push(N>3?re.substr(0,oe-3)+"...":re.substr(0,oe));break}Z=""}}return U.join("")};var E={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},k=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function I(z){return z.replace(k,function($,N){return("#"===N.charAt(0)?function(W){if(!(W>1114111)){var H=String.fromCodePoint;if(H)return H(W);var U=String.fromCharCode;return W<=65535?U(W):U(55232+(W>>10),W%1024+56320)}}("x"===N.charAt(1)?parseInt(N.substr(2),16):parseInt(N.substr(1),10)):E[N])||$})}function L(z){var $=encodeURI(decodeURI(z)),N=document.createElement("a"),W=document.createElement("a");N.href=z,W.href=$;var U=W.protocol;return-1!==c.indexOf(N.protocol)&&-1!==c.indexOf(U)?$:""}function P(z,$,N){var W,H,U,Z=N.horizontalAlign,Y=N.verticalAlign||"top",ae=z.node().getBoundingClientRect(),re=$.node().getBoundingClientRect();return H="bottom"===Y?function(){return ae.bottom-W.height}:"middle"===Y?function(){return ae.top+(ae.height-W.height)/2}:function(){return ae.top},U="right"===Z?function(){return ae.right-W.width}:"center"===Z?function(){return ae.left+(ae.width-W.width)/2}:function(){return ae.left},function(){W=this.node().getBoundingClientRect();var Q=U()-re.left,K=H()-re.top,te=N.gd||{};if(N.gd){te._fullLayout._calcInverseTransform(te);var oe=S.apply3DTransform(te._fullLayout._invTransform)(Q,K);Q=oe[0],K=oe[1]}return this.style({top:K+"px",left:Q+"px","z-index":1e3}),this}}B.convertEntities=I,B.sanitizeHTML=function(z){z=z.replace(p," ");for(var $=document.createElement("p"),N=$,W=[],H=z.split(f),U=0;U<H.length;U++){var Z=H[U],Y=Z.match(w),ae=Y&&Y[2].toLowerCase();if(ae in r)if(Y[1])W.length&&(N=W.pop());else{var re=Y[4],Q=M(re,h),K=Q?{style:Q}:{};if("a"===ae){var te=M(re,_);if(te){var oe=L(te);if(oe){K.href=oe;var ue=M(re,x);ue&&(K.target=ue)}}}var fe=document.createElement(ae);N.appendChild(fe),C.select(fe).attr(K),N=fe,W.push(fe)}else N.appendChild(document.createTextNode(I(Z)))}return $.innerHTML},B.lineCount=function(z){return z.selectAll("tspan.line").size()||1},B.positionText=function(z,$,N){return z.each(function(){var W=C.select(this);function H(Y,ae){return void 0===ae?null===(ae=W.attr(Y))&&(W.attr(Y,0),ae=0):W.attr(Y,ae),ae}var U=H("x",$),Z=H("y",N);"text"===this.nodeName&&W.selectAll("tspan.line").attr({x:U,y:Z})})};var R="1px ";B.makeTextShadow=function(z){return R+R+R+z+", -"+R+"-"+R+R+z+", "+R+"-"+R+R+z+", -"+R+R+R+z},B.makeEditable=function(z,$){var N=$.gd,W=$.delegate,H=C.dispatch("edit","input","cancel"),U=W||z;if(z.style({"pointer-events":W?"none":"all"}),1!==z.size())throw new Error("boo");function Z(){var ae,re,Q,K,te;ae=C.select(N).select(".svg-container"),re=ae.append("div"),Q=z.node().style,K=parseFloat(Q.fontSize||12),void 0===(te=$.text)&&(te=z.attr("data-unformatted")),re.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Q.fontFamily||"Arial","font-size":K,color:$.fill||Q.fill||"black",opacity:1,"background-color":$.background||"transparent",outline:"#ffffff33 1px solid",margin:[-K/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(te).call(P(z,ae,$)).on("blur",function(){N._editing=!1,z.text(this.textContent).style({opacity:1});var fe,he=C.select(this).attr("class");(fe=he?"."+he.split(" ")[0]+"-math-group":"[class*=-math-group]")&&C.select(z.node().parentNode).select(fe).style({opacity:0});var me=this.textContent;C.select(this).transition().duration(0).remove(),C.select(document).on("mouseup",null),H.edit.call(z,me)}).on("focus",function(){var fe=this;N._editing=!0,C.select(document).on("mouseup",function(){if(C.event.target===fe)return!1;document.activeElement===re.node()&&re.node().blur()})}).on("keyup",function(){27===C.event.which?(N._editing=!1,z.style({opacity:1}),C.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),H.cancel.call(z,this.textContent)):(H.input.call(z,this.textContent),C.select(this).call(P(z,ae,$)))}).on("keydown",function(){13===C.event.which&&this.blur()}).call(Y),z.style({opacity:0});var oe,ue=U.attr("class");(oe=ue?"."+ue.split(" ")[0]+"-math-group":"[class*=-math-group]")&&C.select(z.node().parentNode).select(oe).style({opacity:0})}function Y(ae){var re=ae.node(),Q=document.createRange();Q.selectNodeContents(re);var K=window.getSelection();K.removeAllRanges(),K.addRange(Q),re.focus()}return $.immediate?Z():U.on("click",Z),C.rebind(z,H,"on")}},79990:function(ie,B){"use strict";var e={};function C(S){S&&null!==S.timer&&(clearTimeout(S.timer),S.timer=null)}B.throttle=function(S,u,A){var T=e[S],m=Date.now();if(!T){for(var l in e)e[l].ts<m-6e4&&delete e[l];T=e[S]={ts:0,timer:null}}function t(){A(),T.ts=Date.now(),T.onDone&&(T.onDone(),T.onDone=null)}C(T),m>T.ts+u?t():T.timer=setTimeout(function(){t(),T.timer=null},u)},B.done=function(S){var u=e[S];return u&&u.timer?new Promise(function(A){var T=u.onDone;u.onDone=function(){T&&T(),A(),u.onDone=null}}):Promise.resolve()},B.clear=function(S){if(S)C(e[S]),delete e[S];else for(var u in e)B.clear(u)}},58163:function(ie,B,e){"use strict";var C=e(92770);ie.exports=function(S,u){if(S>0)return Math.log(S)/Math.LN10;var A=Math.log(Math.min(u[0],u[1]))/Math.LN10;return C(A)||(A=Math.log(Math.max(u[0],u[1]))/Math.LN10-6),A}},90973:function(ie,B,e){"use strict";var C=ie.exports={},S=e(78776).locationmodeToLayer,u=e(96892).zL;C.getTopojsonName=function(A){return[A.scope.replace(/ /g,"-"),"_",A.resolution.toString(),"m"].join("")},C.getTopojsonPath=function(A,T){return A+T+".json"},C.getTopojsonFeatures=function(A,T){return u(T,T.objects[S[A.locationmode]]).features}},37815:function(ie){"use strict";ie.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(ie){"use strict";ie.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(ie,B,e){"use strict";var C=e(73972);ie.exports=function(S){for(var u,A,T=C.layoutArrayContainers,m=C.layoutArrayRegexes,l=S.split("[")[0],t=0;t<m.length;t++)if((A=S.match(m[t]))&&0===A.index){u=A[0];break}if(u||(u=T[T.indexOf(l)]),!u)return!1;var o=S.substr(u.length);return o?!!(A=o.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:u,index:Number(A[1]),property:A[3]||""}:{array:u,index:"",property:""}}},30962:function(ie,B,e){"use strict";var C=e(71828),S=C.extendFlat,u=C.isPlainObject,A={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},T={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},m=A.flags.slice().concat(["fullReplot"]),l=T.flags.slice().concat("layoutReplot");function t(n){for(var a={},s=0;s<n.length;s++)a[n[s]]=!1;return a}function o(n,a,s){var c=S({},n);for(var p in c){var f=c[p];u(f)&&(c[p]=r(f,a,0,p))}return"from-root"===s&&(c.editType=a),c}function r(n,a,s,c){if(n.valType){var p=S({},n);if(p.editType=a,Array.isArray(n.items)){p.items=new Array(n.items.length);for(var f=0;f<n.items.length;f++)p.items[f]=r(n.items[f],a)}return p}return o(n,a,"_"===c.charAt(0)?"nested":"from-root")}ie.exports={traces:A,layout:T,traceFlags:function(){return t(m)},layoutFlags:function(){return t(l)},update:function(n,a){var s=a.editType;if(s&&"none"!==s)for(var c=s.split("+"),p=0;p<c.length;p++)n[c[p]]=!0},overrideAll:o}},58377:function(ie,B,e){"use strict";var C=e(92770),S=e(27812),u=e(73972),A=e(71828),T=e(74875),m=e(41675),l=e(7901),t=m.cleanId,o=m.getFromTrace,r=u.traceIs;function n(_,x){var b=_[x],M=x.charAt(0);b&&"paper"!==b&&(_[x]=t(b,M,!0))}function a(_){function x(b,M){_[b]&&(!_.title||!_.title[M])&&(_.title||(_.title={}),_.title[M]=_[b],delete _[b])}_&&("string"!=typeof _.title&&"number"!=typeof _.title||(_.title={text:_.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"))}function s(_){if(!A.isPlainObject(_))return!1;var x=_.name;return delete _.name,delete _.showlegend,("string"==typeof x||"number"==typeof x)&&String(x)}function c(_,x,b,M){if(b&&!M)return _;if(M&&!b||!_.trim())return x;if(!x.trim())return _;var d,E=Math.min(_.length,x.length);for(d=0;d<E&&_.charAt(d)===x.charAt(d);d++);return _.substr(0,d).trim()}function p(_){var x="middle",b="center";return"string"==typeof _&&(-1!==_.indexOf("top")?x="top":-1!==_.indexOf("bottom")&&(x="bottom"),-1!==_.indexOf("left")?b="left":-1!==_.indexOf("right")&&(b="right")),x+" "+b}function f(_,x){return x in _&&"object"==typeof _[x]&&0===Object.keys(_[x]).length}B.clearPromiseQueue=function(_){Array.isArray(_._promises)&&_._promises.length>0&&A.log("Clearing previous rejected promises from queue."),_._promises=[]},B.cleanLayout=function(_){var x,b;_||(_={}),_.xaxis1&&(_.xaxis||(_.xaxis=_.xaxis1),delete _.xaxis1),_.yaxis1&&(_.yaxis||(_.yaxis=_.yaxis1),delete _.yaxis1),_.scene1&&(_.scene||(_.scene=_.scene1),delete _.scene1);var M=(T.subplotsRegistry.cartesian||{}).attrRegex,d=(T.subplotsRegistry.polar||{}).attrRegex,E=(T.subplotsRegistry.ternary||{}).attrRegex,k=(T.subplotsRegistry.gl3d||{}).attrRegex,I=Object.keys(_);for(x=0;x<I.length;x++){var L=I[x];if(M&&M.test(L)){var P=_[L];P.anchor&&"free"!==P.anchor&&(P.anchor=t(P.anchor)),P.overlaying&&(P.overlaying=t(P.overlaying)),P.type||(P.isdate?P.type="date":P.islog?P.type="log":!1===P.isdate&&!1===P.islog&&(P.type="linear")),"withzero"!==P.autorange&&"tozero"!==P.autorange||(P.autorange=!0,P.rangemode="tozero"),delete P.islog,delete P.isdate,delete P.categories,f(P,"domain")&&delete P.domain,void 0!==P.autotick&&(void 0===P.tickmode&&(P.tickmode=P.autotick?"auto":"linear"),delete P.autotick),a(P)}else if(d&&d.test(L))a(_[L].radialaxis);else if(E&&E.test(L)){var R=_[L];a(R.aaxis),a(R.baxis),a(R.caxis)}else if(k&&k.test(L)){var z=_[L],$=z.cameraposition;if(Array.isArray($)&&4===$[0].length){var W=$[1],H=$[2],U=S([],$[0]),Z=[];for(b=0;b<3;++b)Z[b]=W[b]+H*U[2+4*b];z.camera={eye:{x:Z[0],y:Z[1],z:Z[2]},center:{x:W[0],y:W[1],z:W[2]},up:{x:0,y:0,z:1}},delete z.cameraposition}a(z.xaxis),a(z.yaxis),a(z.zaxis)}}var Y=Array.isArray(_.annotations)?_.annotations.length:0;for(x=0;x<Y;x++){var ae=_.annotations[x];A.isPlainObject(ae)&&(ae.ref&&("paper"===ae.ref?(ae.xref="paper",ae.yref="paper"):"data"===ae.ref&&(ae.xref="x",ae.yref="y"),delete ae.ref),n(ae,"xref"),n(ae,"yref"))}var re=Array.isArray(_.shapes)?_.shapes.length:0;for(x=0;x<re;x++){var Q=_.shapes[x];A.isPlainObject(Q)&&(n(Q,"xref"),n(Q,"yref"))}var K=Array.isArray(_.images)?_.images.length:0;for(x=0;x<K;x++){var te=_.images[x];A.isPlainObject(te)&&(n(te,"xref"),n(te,"yref"))}var oe=_.legend;return oe&&(oe.x>3?(oe.x=1.02,oe.xanchor="left"):oe.x<-2&&(oe.x=-.02,oe.xanchor="right"),oe.y>3?(oe.y=1.02,oe.yanchor="bottom"):oe.y<-2&&(oe.y=-.02,oe.yanchor="top")),a(_),"rotate"===_.dragmode&&(_.dragmode="orbit"),l.clean(_),_.template&&_.template.layout&&B.cleanLayout(_.template.layout),_},B.cleanData=function(_){for(var x=0;x<_.length;x++){var b,M=_[x];if("histogramy"===M.type&&"xbins"in M&&!("ybins"in M)&&(M.ybins=M.xbins,delete M.xbins),M.error_y&&"opacity"in M.error_y){var d=l.defaults,E=M.error_y.color||(r(M,"bar")?l.defaultLine:d[x%d.length]);M.error_y.color=l.addOpacity(l.rgb(E),l.opacity(E)*M.error_y.opacity),delete M.error_y.opacity}if("bardir"in M&&("h"!==M.bardir||!r(M,"bar")&&"histogram"!==M.type.substr(0,9)||(M.orientation="h",B.swapXYData(M)),delete M.bardir),"histogramy"===M.type&&B.swapXYData(M),"histogramx"!==M.type&&"histogramy"!==M.type||(M.type="histogram"),"scl"in M&&!("colorscale"in M)&&(M.colorscale=M.scl,delete M.scl),"reversescl"in M&&!("reversescale"in M)&&(M.reversescale=M.reversescl,delete M.reversescl),M.xaxis&&(M.xaxis=t(M.xaxis,"x")),M.yaxis&&(M.yaxis=t(M.yaxis,"y")),r(M,"gl3d")&&M.scene&&(M.scene=T.subplotsRegistry.gl3d.cleanId(M.scene)),!r(M,"pie-like")&&!r(M,"bar-like"))if(Array.isArray(M.textposition))for(b=0;b<M.textposition.length;b++)M.textposition[b]=p(M.textposition[b]);else M.textposition&&(M.textposition=p(M.textposition));var k=u.getModule(M);if(k&&k.colorbar){var I=k.colorbar.container,L=I?M[I]:M;L&&L.colorscale&&("YIGnBu"===L.colorscale&&(L.colorscale="YlGnBu"),"YIOrRd"===L.colorscale&&(L.colorscale="YlOrRd"))}if("surface"===M.type&&A.isPlainObject(M.contours)){var P=["x","y","z"];for(b=0;b<P.length;b++){var R=M.contours[P[b]];A.isPlainObject(R)&&(R.highlightColor&&(R.highlightcolor=R.highlightColor,delete R.highlightColor),R.highlightWidth&&(R.highlightwidth=R.highlightWidth,delete R.highlightWidth))}}if("candlestick"===M.type||"ohlc"===M.type){var z=!1!==(M.increasing||{}).showlegend,$=!1!==(M.decreasing||{}).showlegend,N=s(M.increasing),W=s(M.decreasing);if(!1!==N&&!1!==W){var H=c(N,W,z,$);H&&(M.name=H)}else!N&&!W||M.name||(M.name=N||W)}if(Array.isArray(M.transforms)){var U=M.transforms;for(b=0;b<U.length;b++){var Z=U[b];if(A.isPlainObject(Z))switch(Z.type){case"filter":Z.filtersrc&&(Z.target=Z.filtersrc,delete Z.filtersrc),Z.calendar&&(Z.valuecalendar||(Z.valuecalendar=Z.calendar),delete Z.calendar);break;case"groupby":if(Z.styles=Z.styles||Z.style,Z.styles&&!Array.isArray(Z.styles)){var Y=Z.styles,ae=Object.keys(Y);Z.styles=[];for(var re=0;re<ae.length;re++)Z.styles.push({target:ae[re],value:Y[ae[re]]})}}}}f(M,"line")&&delete M.line,"marker"in M&&(f(M.marker,"line")&&delete M.marker.line,f(M,"marker")&&delete M.marker),l.clean(M),M.autobinx&&(delete M.autobinx,delete M.xbins),M.autobiny&&(delete M.autobiny,delete M.ybins),a(M),M.colorbar&&a(M.colorbar),M.marker&&M.marker.colorbar&&a(M.marker.colorbar),M.line&&M.line.colorbar&&a(M.line.colorbar),M.aaxis&&a(M.aaxis),M.baxis&&a(M.baxis)}},B.swapXYData=function(_){var x;if(A.swapAttrs(_,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(_.z)&&Array.isArray(_.z[0])&&(_.transpose?delete _.transpose:_.transpose=!0),_.error_x&&_.error_y){var b=_.error_y,M="copy_ystyle"in b?b.copy_ystyle:!(b.color||b.thickness||b.width);A.swapAttrs(_,["error_?.copy_ystyle"]),M&&A.swapAttrs(_,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof _.hoverinfo){var d=_.hoverinfo.split("+");for(x=0;x<d.length;x++)"x"===d[x]?d[x]="y":"y"===d[x]&&(d[x]="x");_.hoverinfo=d.join("+")}},B.coerceTraceIndices=function(_,x){if(C(x))return[x];if(!Array.isArray(x)||!x.length)return _.data.map(function(d,E){return E});if(Array.isArray(x)){for(var b=[],M=0;M<x.length;M++)A.isIndex(x[M],_.data.length)?b.push(x[M]):A.warn("trace index (",x[M],") is not a number or is out of bounds");return b}return x},B.manageArrayContainers=function(_,x,b){var M=_.obj,d=_.parts,E=d.length,k=d[E-1],I=C(k);if(I&&null===x){var L=d.slice(0,E-1).join(".");A.nestedProperty(M,L).get().splice(k,1)}else I&&void 0===_.get()&&void 0===_.get()&&(b[_.astr]=null),_.set(x)};var w=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function v(_){var x=_.search(w);if(x>0)return _.substr(0,x)}B.hasParent=function(_,x){for(var b=v(x);b;){if(b in _)return!0;b=v(b)}return!1};var h=["x","y","z"];B.clearAxisTypes=function(_,x,b){for(var M=0;M<x.length;M++)for(var d=_._fullData[M],E=0;E<3;E++){var k=o(_,d,h[E]);if(k&&"log"!==k.type){var I=k._name,L=k._id.substr(1);if("scene"===L.substr(0,5)){if(void 0!==b[L])continue;I=L+"."+I}var P=I+".type";void 0===b[I]&&void 0===b[P]&&A.nestedProperty(_.layout,P).set(null)}}}},10641:function(ie,B,e){"use strict";var C=e(72391);B._doPlot=C._doPlot,B.newPlot=C.newPlot,B.restyle=C.restyle,B.relayout=C.relayout,B.redraw=C.redraw,B.update=C.update,B._guiRestyle=C._guiRestyle,B._guiRelayout=C._guiRelayout,B._guiUpdate=C._guiUpdate,B._storeDirectGUIEdit=C._storeDirectGUIEdit,B.react=C.react,B.extendTraces=C.extendTraces,B.prependTraces=C.prependTraces,B.addTraces=C.addTraces,B.deleteTraces=C.deleteTraces,B.moveTraces=C.moveTraces,B.purge=C.purge,B.addFrames=C.addFrames,B.deleteFrames=C.deleteFrames,B.animate=C.animate,B.setPlotConfig=C.setPlotConfig,B.toImage=e(403),B.validate=e(84936),B.downloadImage=e(7239);var S=e(96318);B.makeTemplate=S.makeTemplate,B.validateTemplate=S.validateTemplate},6611:function(ie,B,e){"use strict";var C=e(41965),S=e(64213),u=e(47769),A=e(65888).sorterAsc,T=e(73972);B.containerArrayMatch=e(14458);var m=B.isAddVal=function(t){return"add"===t||C(t)},l=B.isRemoveVal=function(t){return null===t||"remove"===t};B.applyContainerArrayChanges=function(t,o,r,n,a){var s=o.astr,c=T.getComponentMethod(s,"supplyLayoutDefaults"),p=T.getComponentMethod(s,"draw"),f=T.getComponentMethod(s,"drawOne"),w=n.replot||n.recalc||c===S||p===S,v=t.layout,h=t._fullLayout;if(r[""]){Object.keys(r).length>1&&u.warn("Full array edits are incompatible with other edits",s);var _=r[""][""];if(l(_))o.set(null);else{if(!Array.isArray(_))return u.warn("Unrecognized full array edit value",s,_),!0;o.set(_)}return!w&&(c(v,h),p(t),!0)}var x,b,M,d,E,k,I,P=Object.keys(r).map(Number).sort(A),R=o.get(),z=R||[],$=a(h,s).get(),N=[],W=-1,H=z.length;for(x=0;x<P.length;x++)if(d=r[M=P[x]],E=Object.keys(d),I=m(k=d[""]),M<0||M>z.length-(I?0:1))u.warn("index out of range",s,M);else if(void 0!==k)E.length>1&&u.warn("Insertion & removal are incompatible with edits to the same index.",s,M),l(k)?N.push(M):I?("add"===k&&(k={}),z.splice(M,0,k),$&&$.splice(M,0,{})):u.warn("Unrecognized full object edit value",s,M,k),-1===W&&(W=M);else for(b=0;b<E.length;b++)a(z[M],E[b],s+"["+M+"].").set(d[E[b]]);for(x=N.length-1;x>=0;x--)z.splice(N[x],1),$&&$.splice(N[x],1);if(z.length?R||o.set(z):o.set(null),w)return!1;if(c(v,h),f!==S){var U;if(-1===W)U=P;else{for(H=Math.max(z.length,H),U=[],x=0;x<P.length&&!((M=P[x])>=W);x++)U.push(M);for(x=W;x<H;x++)U.push(x)}for(x=0;x<U.length;x++)f(t,U[x])}else p(t);return!0}},72391:function(ie,B,e){"use strict";var C=e(39898),S=e(92770),u=e(57035),A=e(71828),T=A.nestedProperty,m=e(11086),l=e(10847),t=e(73972),o=e(86281),r=e(74875),n=e(89298),a=e(91424),s=e(7901),c=e(4305).initInteractions,p=e(77922),f=e(47322).clearOutline,w=e(72075).dfltConfig,v=e(6611),h=e(58377),_=e(61549),x=e(30962),b=e(85555).AX_NAME_PATTERN,M=0;function d(se){var we=se._fullLayout;we._redrawFromAutoMarginCount?we._redrawFromAutoMarginCount--:se.emit("plotly_afterplot")}function E(se,we){try{se._fullLayout._paper.style("background",we)}catch(Re){A.error(Re)}}function k(se,we){E(se,s.combine(we,"white"))}function I(se,we){if(!se._context){se._context=A.extendDeep({},w);var Re=C.select("base");se._context._baseUrl=Re.size()&&Re.attr("href")?window.location.href.split("#")[0]:""}var Ee,Ue,$e,ve=se._context;if(we){for(Ue=Object.keys(we),Ee=0;Ee<Ue.length;Ee++)"editable"!==($e=Ue[Ee])&&"edits"!==$e&&$e in ve&&(ve[$e]="setBackground"===$e&&"opaque"===we[$e]?k:we[$e]);we.plot3dPixelRatio&&!ve.plotGlPixelRatio&&(ve.plotGlPixelRatio=ve.plot3dPixelRatio);var Ie=we.editable;if(void 0!==Ie)for(ve.editable=Ie,Ue=Object.keys(ve.edits),Ee=0;Ee<Ue.length;Ee++)ve.edits[Ue[Ee]]=Ie;if(we.edits)for(Ue=Object.keys(we.edits),Ee=0;Ee<Ue.length;Ee++)($e=Ue[Ee])in ve.edits&&(ve.edits[$e]=we.edits[$e]);ve._exportedPlot=we._exportedPlot}ve.staticPlot&&(ve.editable=!1,ve.edits={},ve.autosizable=!1,ve.scrollZoom=!1,ve.doubleClick=!1,ve.showTips=!1,ve.showLink=!1,ve.displayModeBar=!1),"hover"!==ve.displayModeBar||u||(ve.displayModeBar=!0),"transparent"!==ve.setBackground&&"function"==typeof ve.setBackground||(ve.setBackground=E),ve._hasZeroHeight=ve._hasZeroHeight||0===se.clientHeight,ve._hasZeroWidth=ve._hasZeroWidth||0===se.clientWidth;var De=ve.scrollZoom,ze=ve._scrollZoom={};if(!0===De)ze.cartesian=1,ze.gl3d=1,ze.geo=1,ze.mapbox=1;else if("string"==typeof De){var Ge=De.split("+");for(Ee=0;Ee<Ge.length;Ee++)ze[Ge[Ee]]=1}else!1!==De&&(ze.gl3d=1,ze.geo=1,ze.mapbox=1)}function L(se,we){var Re,Ee,Ue=we+1,$e=[];for(Re=0;Re<se.length;Re++)(Ee=se[Re])<0?$e.push(Ue+Ee):$e.push(Ee);return $e}function P(se,we,Re){var Ee,Ue;for(Ee=0;Ee<we.length;Ee++){if((Ue=we[Ee])!==parseInt(Ue,10))throw new Error("all values in "+Re+" must be integers");if(Ue>=se.data.length||Ue<-se.data.length)throw new Error(Re+" must be valid indices for gd.data.");if(we.indexOf(Ue,Ee+1)>-1||Ue>=0&&we.indexOf(-se.data.length+Ue)>-1||Ue<0&&we.indexOf(se.data.length+Ue)>-1)throw new Error("each index in "+Re+" must be unique.")}}function R(se,we,Re){if(!Array.isArray(se.data))throw new Error("gd.data must be an array.");if(void 0===we)throw new Error("currentIndices is a required argument.");if(Array.isArray(we)||(we=[we]),P(se,we,"currentIndices"),void 0===Re||Array.isArray(Re)||(Re=[Re]),void 0!==Re&&P(se,Re,"newIndices"),void 0!==Re&&we.length!==Re.length)throw new Error("current and new indices must be of equal length.")}function z(se,we,Re,Ee,Ue){!function(Ke,et,st,mt){var at=A.isPlainObject(mt);if(!Array.isArray(Ke.data))throw new Error("gd.data must be an array");if(!A.isPlainObject(et))throw new Error("update must be a key:value object");if(void 0===st)throw new Error("indices must be an integer or array of integers");for(var kt in P(Ke,st,"indices"),et){if(!Array.isArray(et[kt])||et[kt].length!==st.length)throw new Error("attribute "+kt+" must be an array of length equal to indices array length");if(at&&(!(kt in mt)||!Array.isArray(mt[kt])||mt[kt].length!==et[kt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(se,we,Re,Ee);for(var $e=function(Ke,et,st,mt){var kt,St,gt,dt,Ct=A.isPlainObject(mt),Ot=[];for(var Pt in Array.isArray(st)||(st=[st]),st=L(st,Ke.data.length-1),et)for(var Ht=0;Ht<st.length;Ht++){if(kt=(St=T(Ke.data[st[Ht]],Pt)).get(),!A.isArrayOrTypedArray(gt=et[Pt][Ht]))throw new Error("attribute: "+Pt+" index: "+Ht+" must be an array");if(!A.isArrayOrTypedArray(kt))throw new Error("cannot extend missing or non-array attribute: "+Pt);if(kt.constructor!==gt.constructor)throw new Error("cannot extend array with an array of a different type: "+Pt);S(dt=Ct?mt[Pt][Ht]:mt)||(dt=-1),Ot.push({prop:St,target:kt,insert:gt,maxp:Math.floor(dt)})}return Ot}(se,we,Re,Ee),ve={},Ie={},De=0;De<$e.length;De++){var ze=$e[De].prop,He=Ue($e[De].target,$e[De].insert,$e[De].maxp);ze.set(He[0]),Array.isArray(ve[ze.astr])||(ve[ze.astr]=[]),ve[ze.astr].push(He[1]),Array.isArray(Ie[ze.astr])||(Ie[ze.astr]=[]),Ie[ze.astr].push($e[De].target.length)}return{update:ve,maxPoints:Ie}}function $(se,we){var Re=new se.constructor(se.length+we.length);return Re.set(se),Re.set(we,se.length),Re}function N(se,we,Re,Ee){se=A.getGraphDiv(se),h.clearPromiseQueue(se);var Ue={};if("string"==typeof we)Ue[we]=Re;else{if(!A.isPlainObject(we))return A.warn("Restyle fail.",we,Re,Ee),Promise.reject();Ue=A.extendFlat({},we),void 0===Ee&&(Ee=Re)}Object.keys(Ue).length&&(se.changed=!0);var $e=h.coerceTraceIndices(se,Ee),ve=Z(se,Ue,$e),Ie=ve.flags;Ie.calc&&(se.calcdata=void 0),Ie.clearAxisTypes&&h.clearAxisTypes(se,$e,{});var De=[];Ie.fullReplot?De.push(B._doPlot):(De.push(r.previousPromises),r.supplyDefaults(se),Ie.markerSize&&(r.doCalcdata(se),Q(De)),Ie.style&&De.push(_.doTraceStyle),Ie.colorbars&&De.push(_.doColorBars),De.push(d)),De.push(r.rehover,r.redrag,r.reselect),l.add(se,N,[se,ve.undoit,ve.traces],N,[se,ve.redoit,ve.traces]);var ze=A.syncOrAsync(De,se);return ze&&ze.then||(ze=Promise.resolve()),ze.then(function(){return se.emit("plotly_restyle",ve.eventData),se})}function W(se){return void 0===se?null:se}function H(se,we){return we?function(Re,Ee,Ue){var $e=T(Re,Ee),ve=$e.set;return $e.set=function(Ie){U((Ue||"")+Ee,$e.get(),Ie,se),ve(Ie)},$e}:T}function U(se,we,Re,Ee){if(Array.isArray(we)||Array.isArray(Re))for(var Ue=Array.isArray(we)?we:[],$e=Array.isArray(Re)?Re:[],ve=Math.max(Ue.length,$e.length),Ie=0;Ie<ve;Ie++)U(se+"["+Ie+"]",Ue[Ie],$e[Ie],Ee);else if(A.isPlainObject(we)||A.isPlainObject(Re)){var De=A.isPlainObject(we)?we:{},ze=A.isPlainObject(Re)?Re:{},Ge=A.extendFlat({},De,ze);for(var He in Ge)U(se+"."+He,De[He],ze[He],Ee)}else void 0===Ee[se]&&(Ee[se]=W(we))}function Z(se,we,Re){var Ee,Ue=se._fullLayout,$e=se._fullData,ve=se.data,Ie=Ue._guiEditing,De=H(Ue._preGUI,Ie),ze=A.extendDeepAll({},we);Y(we);var Ge,He=x.traceFlags(),Ke={},et={};function st(){return Re.map(function(){})}function mt(Zt){var cn=n.id2name(Zt);-1===Ge.indexOf(cn)&&Ge.push(cn)}function at(Zt){return"LAYOUT"+Zt+".autorange"}function kt(Zt){return"LAYOUT"+Zt+".range"}function St(Zt){for(var cn=Zt;cn<$e.length;cn++)if($e[cn]._input===ve[Zt])return $e[cn]}function gt(Zt,cn,nn){if(Array.isArray(Zt))Zt.forEach(function(kn){gt(kn,cn,nn)});else if(!(Zt in we)&&!h.hasParent(we,Zt)){var ln;if("LAYOUT"===Zt.substr(0,6))ln=De(se.layout,Zt.replace("LAYOUT",""));else{var Qt=Re[nn];ln=H(Ue._tracePreGUI[St(Qt)._fullInput.uid],Ie)(ve[Qt],Zt)}Zt in et||(et[Zt]=st()),void 0===et[Zt][nn]&&(et[Zt][nn]=W(ln.get())),void 0!==cn&&ln.set(cn)}}function dt(Zt){return function(cn){return $e[cn][Zt]}}function Ct(Zt){return function(cn,nn){return!1===cn?$e[Re[nn]][Zt]:null}}for(var Ot in we){if(h.hasParent(we,Ot))throw new Error("cannot set "+Ot+" and a parent attribute simultaneously");var Pt,Ht,jt,nt,it,Xe,rt=we[Ot];if("autobinx"!==Ot&&"autobiny"!==Ot||(Ot=Ot.charAt(Ot.length-1)+"bins",rt=Array.isArray(rt)?rt.map(Ct(Ot)):!1===rt?Re.map(dt(Ot)):null),Ke[Ot]=rt,"LAYOUT"!==Ot.substr(0,6)){for(et[Ot]=st(),Ee=0;Ee<Re.length;Ee++)if(Pt=ve[Re[Ee]],Ht=St(Re[Ee]),nt=(jt=H(Ue._tracePreGUI[Ht._fullInput.uid],Ie)(Pt,Ot)).get(),void 0!==(it=Array.isArray(rt)?rt[Ee%rt.length]:rt)){var ft=jt.parts[jt.parts.length-1],vt=Ot.substr(0,Ot.length-ft.length-1),je=vt?vt+".":"",Ve=vt?T(Ht,vt).get():Ht;if((Xe=o.getTraceValObject(Ht,jt.parts))&&Xe.impliedEdits&&null!==it)for(var ut in Xe.impliedEdits)gt(A.relativeAttr(Ot,ut),Xe.impliedEdits[ut],Ee);else if("thicknessmode"!==ft&&"lenmode"!==ft||nt===it||"fraction"!==it&&"pixels"!==it||!Ve){if("type"===Ot&&("pie"===it!=("pie"===nt)||"funnelarea"===it!=("funnelarea"===nt))){var ct="x",Tt="y";"bar"!==it&&"bar"!==nt||"h"!==Pt.orientation||(ct="y",Tt="x"),A.swapAttrs(Pt,["?","?src"],"labels",ct),A.swapAttrs(Pt,["d?","?0"],"label",ct),A.swapAttrs(Pt,["?","?src"],"values",Tt),"pie"===nt||"funnelarea"===nt?(T(Pt,"marker.color").set(T(Pt,"marker.colors").get()),Ue._pielayer.selectAll("g.trace").remove()):t.traceIs(Pt,"cartesian")&&T(Pt,"marker.colors").set(T(Pt,"marker.color").get())}}else{var Mt=Ue._size,At=Ve.orient,bt="top"===At||"bottom"===At;if("thicknessmode"===ft){var Rt=bt?Mt.h:Mt.w;gt(je+"thickness",Ve.thickness*("fraction"===it?1/Rt:Rt),Ee)}else{var xt=bt?Mt.w:Mt.h;gt(je+"len",Ve.len*("fraction"===it?1/xt:xt),Ee)}}if(et[Ot][Ee]=W(nt),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ot)){if("orientation"===Ot){jt.set(it);var _t=Pt.x&&!Pt.y?"h":"v";if((jt.get()||_t)===Ht.orientation)continue}else"orientationaxes"===Ot&&(Pt.orientation={v:"h",h:"v"}[Ht.orientation]);h.swapXYData(Pt),He.calc=He.clearAxisTypes=!0}else-1!==r.dataArrayContainers.indexOf(jt.parts[0])?(h.manageArrayContainers(jt,it,et),He.calc=!0):(Xe?Xe.arrayOk&&!t.traceIs(Ht,"regl")&&(A.isArrayOrTypedArray(it)||A.isArrayOrTypedArray(nt))?He.calc=!0:x.update(He,Xe):He.calc=!0,jt.set(it))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Ot)&&n.swap(se,Re),"orientationaxes"===Ot){var It=T(se.layout,"hovermode"),Gt=It.get();"x"===Gt?It.set("y"):"y"===Gt?It.set("x"):"x unified"===Gt?It.set("y unified"):"y unified"===Gt&&It.set("x unified")}if(-1!==["orientation","type"].indexOf(Ot)){for(Ge=[],Ee=0;Ee<Re.length;Ee++){var Wt=ve[Re[Ee]];t.traceIs(Wt,"cartesian")&&(mt(Wt.xaxis||"x"),mt(Wt.yaxis||"y"))}gt(Ge.map(at),!0,0),gt(Ge.map(kt),[0,1],0)}}else jt=De(se.layout,Ot.replace("LAYOUT","")),et[Ot]=[W(jt.get())],jt.set(Array.isArray(rt)?rt[0]:rt),He.calc=!0}return(He.calc||He.plot)&&(He.fullReplot=!0),{flags:He,undoit:et,redoit:Ke,traces:Re,eventData:A.extendDeepNoArrays([],[ze,Re])}}function Y(se){var we,Re,Ee,Ue=A.counterRegex("axis",".title",!1,!1),$e=/colorbar\.title$/,ve=Object.keys(se);for(we=0;we<ve.length;we++)Ee=se[Re=ve[we]],"title"!==Re&&!Ue.test(Re)&&!$e.test(Re)||"string"!=typeof Ee&&"number"!=typeof Ee?Re.indexOf("titlefont")>-1&&-1===Re.indexOf("grouptitlefont")?Ie(Re,Re.replace("titlefont","title.font")):Re.indexOf("titleposition")>-1?Ie(Re,Re.replace("titleposition","title.position")):Re.indexOf("titleside")>-1?Ie(Re,Re.replace("titleside","title.side")):Re.indexOf("titleoffset")>-1&&Ie(Re,Re.replace("titleoffset","title.offset")):Ie(Re,Re.replace("title","title.text"));function Ie(De,ze){se[ze]=se[De],delete se[De]}}function ae(se,we,Re){se=A.getGraphDiv(se),h.clearPromiseQueue(se);var Ee={};if("string"==typeof we)Ee[we]=Re;else{if(!A.isPlainObject(we))return A.warn("Relayout fail.",we,Re),Promise.reject();Ee=A.extendFlat({},we)}Object.keys(Ee).length&&(se.changed=!0);var Ue=ue(se,Ee),$e=Ue.flags;$e.calc&&(se.calcdata=void 0);var ve=[r.previousPromises];$e.layoutReplot?ve.push(_.layoutReplot):Object.keys(Ee).length&&(re(se,$e,Ue)||r.supplyDefaults(se),$e.legend&&ve.push(_.doLegend),$e.layoutstyle&&ve.push(_.layoutStyles),$e.axrange&&Q(ve,Ue.rangesAltered),$e.ticks&&ve.push(_.doTicksRelayout),$e.modebar&&ve.push(_.doModeBar),$e.camera&&ve.push(_.doCamera),$e.colorbars&&ve.push(_.doColorBars),ve.push(d)),ve.push(r.rehover,r.redrag,r.reselect),l.add(se,ae,[se,Ue.undoit],ae,[se,Ue.redoit]);var Ie=A.syncOrAsync(ve,se);return Ie&&Ie.then||(Ie=Promise.resolve(se)),Ie.then(function(){return se.emit("plotly_relayout",Ue.eventData),se})}function re(se,we,Re){var Ee=se._fullLayout;if(!we.axrange)return!1;for(var Ue in we)if("axrange"!==Ue&&we[Ue])return!1;for(var $e in Re.rangesAltered){var ve=n.id2name($e),Ie=se.layout[ve],De=Ee[ve];if(De.autorange=Ie.autorange,Ie.range&&(De.range=Ie.range.slice()),De.cleanRange(),De._matchGroup)for(var ze in De._matchGroup)if(ze!==$e){var Ge=Ee[n.id2name(ze)];Ge.autorange=De.autorange,Ge.range=De.range.slice(),Ge._input.range=De.range.slice()}}return!0}function Q(se,we){se.push(f,_.doAutoRangeAndConstraints,we?function(Ee){var Ue=[];for(var $e in we){var ve=n.getFromId(Ee,$e);if(Ue.push($e),-1!==(ve.ticklabelposition||"").indexOf("inside")&&ve._anchorAxis&&Ue.push(ve._anchorAxis._id),ve._matchGroup)for(var Ie in ve._matchGroup)we[Ie]||Ue.push(Ie)}return n.draw(Ee,Ue,{skipTitle:!0})}:function(Ee){return n.draw(Ee,"redraw")},_.drawData,_.finalDraw)}var K=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,te=/^[xyz]axis[0-9]*\.autorange$/,oe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ue(se,we){var Re,Ee,Ue,$e=se.layout,ve=se._fullLayout,De=H(ve._preGUI,ve._guiEditing),ze=Object.keys(we),Ge=n.list(se),He=A.extendDeepAll({},we),Ke={};for(Y(we),ze=Object.keys(we),Ee=0;Ee<ze.length;Ee++)if(0===ze[Ee].indexOf("allaxes")){for(Ue=0;Ue<Ge.length;Ue++){var et=Ge[Ue]._id.substr(1),st=-1!==et.indexOf("scene")?et+".":"",mt=ze[Ee].replace("allaxes",st+Ge[Ue]._name);we[mt]||(we[mt]=we[ze[Ee]])}delete we[ze[Ee]]}var at=x.layoutFlags(),kt={},St={};function gt(Qt,kn){if(Array.isArray(Qt))Qt.forEach(function(Tn){gt(Tn,kn)});else if(!(Qt in we)&&!h.hasParent(we,Qt)){var Pn=De($e,Qt);Qt in St||(St[Qt]=W(Pn.get())),void 0!==kn&&Pn.set(kn)}}var dt,Ct={};function Ot(Qt){var kn=n.name2id(Qt.split(".")[0]);return Ct[kn]=1,kn}for(var Pt in we){if(h.hasParent(we,Pt))throw new Error("cannot set "+Pt+" and a parent attribute simultaneously");for(var Ht=De($e,Pt),jt=we[Pt],nt=Ht.parts.length-1;nt>0&&"string"!=typeof Ht.parts[nt];)nt--;var it=Ht.parts[nt],Xe=Ht.parts[nt-1]+"."+it,rt=Ht.parts.slice(0,nt).join("."),ft=T(se.layout,rt).get(),vt=T(ve,rt).get(),je=Ht.get();if(void 0!==jt){kt[Pt]=jt,St[Pt]="reverse"===it?jt:W(je);var Ve=o.getLayoutValObject(ve,Ht.parts);if(Ve&&Ve.impliedEdits&&null!==jt)for(var ut in Ve.impliedEdits)gt(A.relativeAttr(Pt,ut),Ve.impliedEdits[ut]);if(-1!==["width","height"].indexOf(Pt))if(jt){gt("autosize",null);var ct="height"===Pt?"width":"height";gt(ct,ve[ct])}else ve[Pt]=se._initialAutoSize[Pt];else if("autosize"===Pt)gt("width",jt?null:ve.width),gt("height",jt?null:ve.height);else if(Xe.match(K))Ot(Xe),T(ve,rt+"._inputRange").set(null);else if(Xe.match(te)){Ot(Xe),T(ve,rt+"._inputRange").set(null);var Tt=T(ve,rt).get();Tt._inputDomain&&(Tt._input.domain=Tt._inputDomain.slice())}else Xe.match(oe)&&T(ve,rt+"._inputDomain").set(null);if("type"===it){dt=ft;var Mt="linear"===vt.type&&"log"===jt;if(Mt||"log"===vt.type&&"linear"===jt){if(dt&&dt.range)if(vt.autorange)Mt&&(dt.range=dt.range[1]>dt.range[0]?[1,2]:[2,1]);else{var bt=dt.range[0],Rt=dt.range[1];Mt?(bt<=0&&Rt<=0&&gt(rt+".autorange",!0),bt<=0?bt=Rt/1e6:Rt<=0&&(Rt=bt/1e6),gt(rt+".range[0]",Math.log(bt)/Math.LN10),gt(rt+".range[1]",Math.log(Rt)/Math.LN10)):(gt(rt+".range[0]",Math.pow(10,bt)),gt(rt+".range[1]",Math.pow(10,Rt)))}else gt(rt+".autorange",!0);Array.isArray(ve._subplots.polar)&&ve._subplots.polar.length&&ve[Ht.parts[0]]&&"radialaxis"===Ht.parts[1]&&delete ve[Ht.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(se,vt,jt,gt),t.getComponentMethod("images","convertCoords")(se,vt,jt,gt)}else gt(rt+".autorange",!0),gt(rt+".range",null);T(ve,rt+"._inputRange").set(null)}else if(it.match(b)){var xt=T(ve,Pt).get(),_t=(jt||{}).type;_t&&"-"!==_t||(_t="linear"),t.getComponentMethod("annotations","convertCoords")(se,xt,_t,gt),t.getComponentMethod("images","convertCoords")(se,xt,_t,gt)}var It=v.containerArrayMatch(Pt);if(It){Re=It.array;var Gt=It.property,Wt=Ve||{editType:"calc"};""!==(Ee=It.index)&&""===Gt&&(v.isAddVal(jt)?St[Pt]=null:v.isRemoveVal(jt)?St[Pt]=(T($e,Re).get()||[])[Ee]:A.warn("unrecognized full object value",we)),x.update(at,Wt),Ke[Re]||(Ke[Re]={});var Zt=Ke[Re][Ee];Zt||(Zt=Ke[Re][Ee]={}),Zt[Gt]=jt,delete we[Pt]}else"reverse"===it?(ft.range?ft.range.reverse():(gt(rt+".autorange",!0),ft.range=[1,0]),vt.autorange?at.calc=!0:at.plot=!0):("dragmode"===Pt&&(!1===jt&&!1!==je||!1!==jt&&!1===je)||ve._has("scatter-like")&&ve._has("regl")&&"dragmode"===Pt&&("lasso"===jt||"select"===jt)&&"lasso"!==je&&"select"!==je||ve._has("gl2d")?at.plot=!0:Ve?x.update(at,Ve):at.calc=!0,Ht.set(jt))}}for(Re in Ke)v.applyContainerArrayChanges(se,De($e,Re),Ke[Re],at,De)||(at.plot=!0);for(var cn in Ct){var nn=(dt=n.getFromId(se,cn))&&dt._constraintGroup;if(nn)for(var ln in at.calc=!0,nn)Ct[ln]||(n.getFromId(se,ln)._constraintShrinkable=!0)}return(fe(se)||we.height||we.width)&&(at.plot=!0),(at.plot||at.calc)&&(at.layoutReplot=!0),{flags:at,rangesAltered:Ct,undoit:St,redoit:kt,eventData:He}}function fe(se){var we=se._fullLayout,Re=we.width,Ee=we.height;return se.layout.autosize&&r.plotAutoSize(se,se.layout,we),we.width!==Re||we.height!==Ee}function he(se,we,Re,Ee){se=A.getGraphDiv(se),h.clearPromiseQueue(se),A.isPlainObject(we)||(we={}),A.isPlainObject(Re)||(Re={}),Object.keys(we).length&&(se.changed=!0),Object.keys(Re).length&&(se.changed=!0);var Ue=h.coerceTraceIndices(se,Ee),$e=Z(se,A.extendFlat({},we),Ue),ve=$e.flags,Ie=ue(se,A.extendFlat({},Re)),De=Ie.flags;(ve.calc||De.calc)&&(se.calcdata=void 0),ve.clearAxisTypes&&h.clearAxisTypes(se,Ue,Re);var ze=[];De.layoutReplot?ze.push(_.layoutReplot):ve.fullReplot?ze.push(B._doPlot):(ze.push(r.previousPromises),re(se,De,Ie)||r.supplyDefaults(se),ve.style&&ze.push(_.doTraceStyle),(ve.colorbars||De.colorbars)&&ze.push(_.doColorBars),De.legend&&ze.push(_.doLegend),De.layoutstyle&&ze.push(_.layoutStyles),De.axrange&&Q(ze,Ie.rangesAltered),De.ticks&&ze.push(_.doTicksRelayout),De.modebar&&ze.push(_.doModeBar),De.camera&&ze.push(_.doCamera),ze.push(d)),ze.push(r.rehover,r.redrag,r.reselect),l.add(se,he,[se,$e.undoit,Ie.undoit,$e.traces],he,[se,$e.redoit,Ie.redoit,$e.traces]);var Ge=A.syncOrAsync(ze,se);return Ge&&Ge.then||(Ge=Promise.resolve(se)),Ge.then(function(){return se.emit("plotly_update",{data:$e.eventData,layout:Ie.eventData}),se})}function me(se){return function(we){we._fullLayout._guiEditing=!0;var Re=se.apply(null,arguments);return we._fullLayout._guiEditing=!1,Re}}var ke=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Pe=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Te(se,we){for(var Re=0;Re<we.length;Re++){var Ee=we[Re],Ue=se.match(Ee.pattern);if(Ue){var $e=Ue[1]||"";return{head:$e,tail:se.substr($e.length+1),attr:Ee.attr}}}}function be(se,we){var Re=T(we,se).get();if(void 0!==Re)return Re;var Ee=se.split(".");for(Ee.pop();Ee.length>1;)if(Ee.pop(),void 0!==(Re=T(we,Ee.join(".")+".uirevision").get()))return Re;return we.uirevision}function xe(se,we){for(var Re=0;Re<we.length;Re++)if(we[Re]._fullInput.uid===se)return Re;return-1}function Ne(se,we,Re){for(var Ee=0;Ee<we.length;Ee++)if(we[Ee].uid===se)return Ee;return!we[Re]||we[Re].uid?-1:Re}function Se(se,we){var Re=A.isPlainObject(se),Ee=Array.isArray(se);return Re||Ee?(Re&&A.isPlainObject(we)||Ee&&Array.isArray(we))&&JSON.stringify(se)===JSON.stringify(we):se===we}function Ce(se,we,Re,Ee){var Ue,$e,ve,Ie=Ee.getValObject,De=Ee.flags,ze=Ee.immutable,Ge=Ee.inArray,He=Ee.arrayIndex;function Ke(){var ft=Ue.editType;Ge&&-1!==ft.indexOf("arraydraw")?A.pushUnique(De.arrays[Ge],He):(x.update(De,Ue),"none"!==ft&&De.nChanges++,Ee.transition&&Ue.anim&&De.nChangesAnim++,(K.test(ve)||te.test(ve))&&(De.rangesAltered[Re[0]]=1),oe.test(ve)&&T(we,"_inputDomain").set(null),"datarevision"===$e&&(De.newDataRevision=1))}function et(ft){return"data_array"===ft.valType||ft.arrayOk}for($e in se){if(De.calc&&!Ee.transition)return;var st=se[$e],mt=we[$e],at=Re.concat($e);if(ve=at.join("."),"_"!==$e.charAt(0)&&"function"!=typeof st&&st!==mt){if(("tick0"===$e||"dtick"===$e)&&"geo"!==Re[0]){var kt=we.tickmode;if("auto"===kt||"array"===kt||!kt)continue}if(("range"!==$e||!we.autorange)&&("zmin"!==$e&&"zmax"!==$e||"contourcarpet"!==we.type)&&(Ue=Ie(at))&&(!Ue._compareAsJSON||JSON.stringify(st)!==JSON.stringify(mt))){var St,gt=Ue.valType,dt=et(Ue),Ct=Array.isArray(st),Ot=Array.isArray(mt);if(Ct&&Ot){var Pt="_input_"+$e,Ht=se[Pt],jt=we[Pt];if(Array.isArray(Ht)&&Ht===jt)continue}if(void 0===mt)dt&&Ct?De.calc=!0:Ke();else if(Ue._isLinkedToArray){var nt=[],it=!1;Ge||(De.arrays[$e]=nt);var Xe=Math.min(st.length,mt.length),rt=Math.max(st.length,mt.length);if(Xe!==rt){if("arraydraw"!==Ue.editType){Ke();continue}it=!0}for(St=0;St<Xe;St++)Ce(st[St],mt[St],at.concat(St),A.extendFlat({inArray:$e,arrayIndex:St},Ee));if(it)for(St=Xe;St<rt;St++)nt.push(St)}else!gt&&A.isPlainObject(st)?Ce(st,mt,at,Ee):dt?Ct&&Ot?(ze&&(De.calc=!0),(ze||Ee.newDataRevision)&&Ke()):Ct!==Ot?De.calc=!0:Ke():Ct&&Ot&&st.length===mt.length&&String(st)===String(mt)||Ke()}}}for($e in we)if(!($e in se)&&"_"!==$e.charAt(0)&&"function"!=typeof we[$e]){if(et(Ue=Ie(Re.concat($e)))&&Array.isArray(we[$e]))return void(De.calc=!0);Ke()}}function pe(se,we){var Re;for(Re in se)if("_"!==Re.charAt(0)){var Ee=se[Re],Ue=we[Re];if(Ee!==Ue)if(A.isPlainObject(Ee)&&A.isPlainObject(Ue)){if(pe(Ee,Ue))return!0}else{if(!Array.isArray(Ee)||!Array.isArray(Ue)||Ee.length!==Ue.length)return!0;for(var $e=0;$e<Ee.length;$e++)if(Ee[$e]!==Ue[$e]&&(!A.isPlainObject(Ee[$e])||!A.isPlainObject(Ue[$e])||pe(Ee[$e],Ue[$e])))return!0}}}function de(se){var we=se._fullLayout,Re=se.getBoundingClientRect();if(!A.equalDomRects(Re,we._lastBBox)){var Ee=we._invTransform=A.inverseTransformMatrix(A.getFullTransformMatrix(se));we._invScaleX=Math.sqrt(Ee[0][0]*Ee[0][0]+Ee[0][1]*Ee[0][1]+Ee[0][2]*Ee[0][2]),we._invScaleY=Math.sqrt(Ee[1][0]*Ee[1][0]+Ee[1][1]*Ee[1][1]+Ee[1][2]*Ee[1][2]),we._lastBBox=Re}}B.animate=function(se,we,Re){if(se=A.getGraphDiv(se),!A.isPlotDiv(se))throw new Error("This element is not a Plotly plot: "+se+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Ee=se._transitionData;Ee._frameQueue||(Ee._frameQueue=[]);var Ue=(Re=r.supplyAnimationDefaults(Re)).transition,$e=Re.frame;function ve(ze){return Array.isArray(Ue)?ze>=Ue.length?Ue[0]:Ue[ze]:Ue}function Ie(ze){return Array.isArray($e)?ze>=$e.length?$e[0]:$e[ze]:$e}function De(ze,Ge){var He=0;return function(){if(ze&&++He===Ge)return ze()}}return void 0===Ee._frameWaitingCnt&&(Ee._frameWaitingCnt=0),new Promise(function(ze,Ge){var Ke,et,st=0;function mt(Pt){return Pt.transitionOpts=Array.isArray(Ue)?st>=Ue.length?Ue[st]:Ue[0]:Ue,st++,Pt}var at=[],kt=null==we,St=Array.isArray(we);if(kt||St||!A.isPlainObject(we)){if(kt||-1!==["string","number"].indexOf(typeof we))for(Ke=0;Ke<Ee._frames.length;Ke++)(et=Ee._frames[Ke])&&(kt||String(et.group)===String(we))&&at.push({type:"byname",name:String(et.name),data:mt({name:et.name})});else if(St)for(Ke=0;Ke<we.length;Ke++){var gt=we[Ke];-1!==["number","string"].indexOf(typeof gt)?(gt=String(gt),at.push({type:"byname",name:gt,data:mt({name:gt})})):A.isPlainObject(gt)&&at.push({type:"object",data:mt(A.extendFlat({},gt))})}}else at.push({type:"object",data:mt(A.extendFlat({},we))});for(Ke=0;Ke<at.length;Ke++)if("byname"===(et=at[Ke]).type&&!Ee._frameHash[et.data.name])return A.warn('animate failure: frame not found: "'+et.data.name+'"'),void Ge();-1!==["next","immediate"].indexOf(Re.mode)&&function(){if(0!==Ee._frameQueue.length){for(;Ee._frameQueue.length;){var Pt=Ee._frameQueue.pop();Pt.onInterrupt&&Pt.onInterrupt()}se.emit("plotly_animationinterrupted",[])}}(),"reverse"===Re.direction&&at.reverse();var dt=se._fullLayout._currentFrame;if(dt&&Re.fromcurrent){var Ct=-1;for(Ke=0;Ke<at.length;Ke++)if("byname"===(et=at[Ke]).type&&et.name===dt){Ct=Ke;break}if(Ct>0&&Ct<at.length-1){var Ot=[];for(Ke=0;Ke<at.length;Ke++)et=at[Ke],("byname"!==at[Ke].type||Ke>Ct)&&Ot.push(et);at=Ot}}at.length>0?function(Pt){if(0!==Pt.length){for(var Ht=0;Ht<Pt.length;Ht++){var jt;jt="byname"===Pt[Ht].type?r.computeFrame(se,Pt[Ht].name):Pt[Ht].data;var nt=Ie(Ht),it=ve(Ht);it.duration=Math.min(it.duration,nt.duration);var Xe={frame:jt,name:Pt[Ht].name,frameOpts:nt,transitionOpts:it};Ht===Pt.length-1&&(Xe.onComplete=De(ze,2),Xe.onInterrupt=Ge),Ee._frameQueue.push(Xe)}"immediate"===Re.mode&&(Ee._lastFrameAt=-1/0),Ee._animationRaf||function He(){se.emit("plotly_animating"),Ee._lastFrameAt=-1/0,Ee._timeToNext=0,Ee._runningTransitions=0,Ee._currentFrame=null;var Pt=function(){Ee._animationRaf=window.requestAnimationFrame(Pt),Date.now()-Ee._lastFrameAt>Ee._timeToNext&&function(){Ee._currentFrame&&Ee._currentFrame.onComplete&&Ee._currentFrame.onComplete();var Ht=Ee._currentFrame=Ee._frameQueue.shift();if(Ht){var jt=Ht.name?Ht.name.toString():null;se._fullLayout._currentFrame=jt,Ee._lastFrameAt=Date.now(),Ee._timeToNext=Ht.frameOpts.duration,r.transition(se,Ht.frame.data,Ht.frame.layout,h.coerceTraceIndices(se,Ht.frame.traces),Ht.frameOpts,Ht.transitionOpts).then(function(){Ht.onComplete&&Ht.onComplete()}),se.emit("plotly_animatingframe",{name:jt,frame:Ht.frame,animation:{frame:Ht.frameOpts,transition:Ht.transitionOpts}})}else se.emit("plotly_animated"),window.cancelAnimationFrame(Ee._animationRaf),Ee._animationRaf=null}()};Pt()}()}}(at):(se.emit("plotly_animated"),ze())})},B.addFrames=function(se,we,Re){if(se=A.getGraphDiv(se),null==we)return Promise.resolve();if(!A.isPlotDiv(se))throw new Error("This element is not a Plotly plot: "+se+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Ee,Ue,$e,ve,Ie=se._transitionData._frames,De=se._transitionData._frameHash;if(!Array.isArray(we))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+we);var ze=Ie.length+2*we.length,Ge=[],He={};for(Ee=we.length-1;Ee>=0;Ee--)if(A.isPlainObject(we[Ee])){var Ke=we[Ee].name,et=(De[Ke]||He[Ke]||{}).name,st=we[Ee].name;et&&st&&"number"==typeof st&&(De[et]||He[et])&&M<5&&(M++,A.warn('addFrames: overwriting frame "'+(De[et]||He[et]).name+'" with a frame whose name of type "number" also equates to "'+et+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===M&&A.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),He[Ke]={name:Ke},Ge.push({frame:r.supplyFrameDefaults(we[Ee]),index:Re&&null!=Re[Ee]?Re[Ee]:ze+Ee})}Ge.sort(function(Pt,Ht){return Pt.index>Ht.index?-1:Pt.index<Ht.index?1:0});var at=[],kt=[],St=Ie.length;for(Ee=Ge.length-1;Ee>=0;Ee--){if("number"==typeof(Ue=Ge[Ee].frame).name&&A.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ue.name)for(;De[Ue.name="frame "+se._transitionData._counter++];);if(De[Ue.name]){for($e=0;$e<Ie.length&&(Ie[$e]||{}).name!==Ue.name;$e++);at.push({type:"replace",index:$e,value:Ue}),kt.unshift({type:"replace",index:$e,value:Ie[$e]})}else ve=Math.max(0,Math.min(Ge[Ee].index,St)),at.push({type:"insert",index:ve,value:Ue}),kt.unshift({type:"delete",index:ve}),St++}return l&&l.add(se,r.modifyFrames,[se,kt],r.modifyFrames,[se,at]),r.modifyFrames(se,at)},B.deleteFrames=function(se,we){if(se=A.getGraphDiv(se),!A.isPlotDiv(se))throw new Error("This element is not a Plotly plot: "+se);var Re,Ee,Ue=se._transitionData._frames,$e=[],ve=[];if(!we)for(we=[],Re=0;Re<Ue.length;Re++)we.push(Re);for((we=we.slice()).sort(),Re=we.length-1;Re>=0;Re--)$e.push({type:"delete",index:Ee=we[Re]}),ve.unshift({type:"insert",index:Ee,value:Ue[Ee]});return l&&l.add(se,r.modifyFrames,[se,ve],r.modifyFrames,[se,$e]),r.modifyFrames(se,$e)},B.addTraces=function se(we,Re,Ee){we=A.getGraphDiv(we);var Ue,$e,ve=[],Ie=B.deleteTraces,De=se,ze=[we,ve],Ge=[we,Re];for(function(He,Ke,et){var st,mt;if(!Array.isArray(He.data))throw new Error("gd.data must be an array.");if(void 0===Ke)throw new Error("traces must be defined.");for(Array.isArray(Ke)||(Ke=[Ke]),st=0;st<Ke.length;st++)if("object"!=typeof(mt=Ke[st])||Array.isArray(mt)||null===mt)throw new Error("all values in traces array must be non-array objects");if(void 0===et||Array.isArray(et)||(et=[et]),void 0!==et&&et.length!==Ke.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(we,Re,Ee),Array.isArray(Re)||(Re=[Re]),Re=Re.map(function(He){return A.extendFlat({},He)}),h.cleanData(Re),Ue=0;Ue<Re.length;Ue++)we.data.push(Re[Ue]);for(Ue=0;Ue<Re.length;Ue++)ve.push(-Re.length+Ue);if(void 0===Ee)return $e=B.redraw(we),l.add(we,Ie,ze,De,Ge),$e;Array.isArray(Ee)||(Ee=[Ee]);try{R(we,ve,Ee)}catch(He){throw we.data.splice(we.data.length-Re.length,Re.length),He}return l.startSequence(we),l.add(we,Ie,ze,De,Ge),$e=B.moveTraces(we,ve,Ee),l.stopSequence(we),$e},B.deleteTraces=function se(we,Re){we=A.getGraphDiv(we);var Ee,Ue,$e=[],ve=B.addTraces,Ie=se,De=[we,$e,Re],ze=[we,Re];if(void 0===Re)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Re)||(Re=[Re]),P(we,Re,"indices"),(Re=L(Re,we.data.length-1)).sort(A.sorterDes),Ee=0;Ee<Re.length;Ee+=1)Ue=we.data.splice(Re[Ee],1)[0],$e.push(Ue);var Ge=B.redraw(we);return l.add(we,ve,De,Ie,ze),Ge},B.extendTraces=function se(we,Re,Ee,Ue){var $e=z(we=A.getGraphDiv(we),Re,Ee,Ue,function(De,ze,Ge){var He,Ke;if(A.isTypedArray(De))if(Ge<0){var et=new De.constructor(0),st=$(De,ze);Ge<0?(He=st,Ke=et):(He=et,Ke=st)}else if(He=new De.constructor(Ge),Ke=new De.constructor(De.length+ze.length-Ge),Ge===ze.length)He.set(ze),Ke.set(De);else if(Ge<ze.length){var mt=ze.length-Ge;He.set(ze.subarray(mt)),Ke.set(De),Ke.set(ze.subarray(0,mt),De.length)}else{var at=Ge-ze.length,kt=De.length-at;He.set(De.subarray(kt)),He.set(ze,at),Ke.set(De.subarray(0,kt))}else He=De.concat(ze),Ke=Ge>=0&&Ge<He.length?He.splice(0,He.length-Ge):[];return[He,Ke]}),ve=B.redraw(we);return l.add(we,B.prependTraces,[we,$e.update,Ee,$e.maxPoints],se,arguments),ve},B.moveTraces=function se(we,Re,Ee){var Ue,$e=[],ve=[],Ie=se,De=se,ze=[we=A.getGraphDiv(we),Ee,Re],Ge=[we,Re,Ee];if(R(we,Re,Ee),Re=Array.isArray(Re)?Re:[Re],void 0===Ee)for(Ee=[],Ue=0;Ue<Re.length;Ue++)Ee.push(-Re.length+Ue);for(Ee=Array.isArray(Ee)?Ee:[Ee],Re=L(Re,we.data.length-1),Ee=L(Ee,we.data.length-1),Ue=0;Ue<we.data.length;Ue++)-1===Re.indexOf(Ue)&&$e.push(we.data[Ue]);for(Ue=0;Ue<Re.length;Ue++)ve.push({newIndex:Ee[Ue],trace:we.data[Re[Ue]]});for(ve.sort(function(Ke,et){return Ke.newIndex-et.newIndex}),Ue=0;Ue<ve.length;Ue+=1)$e.splice(ve[Ue].newIndex,0,ve[Ue].trace);we.data=$e;var He=B.redraw(we);return l.add(we,Ie,ze,De,Ge),He},B.prependTraces=function se(we,Re,Ee,Ue){var $e=z(we=A.getGraphDiv(we),Re,Ee,Ue,function(De,ze,Ge){var He,Ke;if(A.isTypedArray(De))if(Ge<=0){var et=new De.constructor(0),st=$(ze,De);Ge<0?(He=st,Ke=et):(He=et,Ke=st)}else if(He=new De.constructor(Ge),Ke=new De.constructor(De.length+ze.length-Ge),Ge===ze.length)He.set(ze),Ke.set(De);else if(Ge<ze.length){var mt=ze.length-Ge;He.set(ze.subarray(0,mt)),Ke.set(ze.subarray(mt)),Ke.set(De,mt)}else{var at=Ge-ze.length;He.set(ze),He.set(De.subarray(0,at),ze.length),Ke.set(De.subarray(at))}else He=ze.concat(De),Ke=Ge>=0&&Ge<He.length?He.splice(Ge,He.length):[];return[He,Ke]}),ve=B.redraw(we);return l.add(we,B.extendTraces,[we,$e.update,Ee,$e.maxPoints],se,arguments),ve},B.newPlot=function(se,we,Re,Ee){return se=A.getGraphDiv(se),r.cleanPlot([],{},se._fullData||[],se._fullLayout||{}),r.purge(se),B._doPlot(se,we,Re,Ee)},B._doPlot=function(se,we,Re,Ee){var Ue;if(se=A.getGraphDiv(se),m.init(se),A.isPlainObject(we)){var $e=we;we=$e.data,Re=$e.layout,Ee=$e.config,Ue=$e.frames}if(!1===m.triggerHandler(se,"plotly_beforeplot",[we,Re,Ee]))return Promise.reject();we||Re||A.isPlotDiv(se)||A.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",se),I(se,Ee),Re||(Re={}),C.select(se).classed("js-plotly-plot",!0),a.makeTester(),Array.isArray(se._promises)||(se._promises=[]);var ve=0===(se.data||[]).length&&Array.isArray(we);Array.isArray(we)&&(h.cleanData(we),ve?se.data=we:se.data.push.apply(se.data,we),se.empty=!1),se.layout&&!ve||(se.layout=h.cleanLayout(Re)),r.supplyDefaults(se);var Ie=se._fullLayout,De=Ie._has("cartesian");Ie._replotting=!0,(ve||Ie._shouldCreateBgLayer)&&(function(kt){var St=C.select(kt),gt=kt._fullLayout;if(gt._calcInverseTransform=de,gt._calcInverseTransform(kt),gt._container=St.selectAll(".plot-container").data([0]),gt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),gt._paperdiv=gt._container.selectAll(".svg-container").data([0]),gt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),gt._glcontainer=gt._paperdiv.selectAll(".gl-container").data([{}]),gt._glcontainer.enter().append("div").classed("gl-container",!0),gt._paperdiv.selectAll(".main-svg").remove(),gt._paperdiv.select(".modebar-container").remove(),gt._paper=gt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),gt._toppaper=gt._paperdiv.append("svg").classed("main-svg",!0),gt._modebardiv=gt._paperdiv.append("div"),delete gt._modeBar,gt._hoverpaper=gt._paperdiv.append("svg").classed("main-svg",!0),!gt._uid){var dt={};C.selectAll("defs").each(function(){this.id&&(dt[this.id.split("-")[1]]=1)}),gt._uid=A.randstr(dt)}gt._paperdiv.selectAll(".main-svg").attr(p.svgAttrs),gt._defs=gt._paper.append("defs").attr("id","defs-"+gt._uid),gt._clips=gt._defs.append("g").classed("clips",!0),gt._topdefs=gt._toppaper.append("defs").attr("id","topdefs-"+gt._uid),gt._topclips=gt._topdefs.append("g").classed("clips",!0),gt._bgLayer=gt._paper.append("g").classed("bglayer",!0),gt._draggers=gt._paper.append("g").classed("draglayer",!0);var Ct=gt._paper.append("g").classed("layer-below",!0);gt._imageLowerLayer=Ct.append("g").classed("imagelayer",!0),gt._shapeLowerLayer=Ct.append("g").classed("shapelayer",!0),gt._cartesianlayer=gt._paper.append("g").classed("cartesianlayer",!0),gt._polarlayer=gt._paper.append("g").classed("polarlayer",!0),gt._smithlayer=gt._paper.append("g").classed("smithlayer",!0),gt._ternarylayer=gt._paper.append("g").classed("ternarylayer",!0),gt._geolayer=gt._paper.append("g").classed("geolayer",!0),gt._funnelarealayer=gt._paper.append("g").classed("funnelarealayer",!0),gt._pielayer=gt._paper.append("g").classed("pielayer",!0),gt._iciclelayer=gt._paper.append("g").classed("iciclelayer",!0),gt._treemaplayer=gt._paper.append("g").classed("treemaplayer",!0),gt._sunburstlayer=gt._paper.append("g").classed("sunburstlayer",!0),gt._indicatorlayer=gt._toppaper.append("g").classed("indicatorlayer",!0),gt._glimages=gt._paper.append("g").classed("glimages",!0);var Ot=gt._toppaper.append("g").classed("layer-above",!0);gt._imageUpperLayer=Ot.append("g").classed("imagelayer",!0),gt._shapeUpperLayer=Ot.append("g").classed("shapelayer",!0),gt._selectionLayer=gt._toppaper.append("g").classed("selectionlayer",!0),gt._infolayer=gt._toppaper.append("g").classed("infolayer",!0),gt._menulayer=gt._toppaper.append("g").classed("menulayer",!0),gt._zoomlayer=gt._toppaper.append("g").classed("zoomlayer",!0),gt._hoverlayer=gt._hoverpaper.append("g").classed("hoverlayer",!0),gt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),kt.emit("plotly_framework")}(se),Ie._shouldCreateBgLayer&&delete Ie._shouldCreateBgLayer),a.initGradients(se),a.initPatterns(se),ve&&n.saveShowSpikeInitial(se);var ze=!se.calcdata||se.calcdata.length!==(se._fullData||[]).length;ze&&r.doCalcdata(se);for(var Ge=0;Ge<se.calcdata.length;Ge++)se.calcdata[Ge][0].trace=se._fullData[Ge];se._context.responsive?se._responsiveChartHandler||(se._responsiveChartHandler=function(){A.isHidden(se)||r.resize(se)},window.addEventListener("resize",se._responsiveChartHandler)):A.clearResponsive(se);var He=A.extendFlat({},Ie._size),Ke=0;function et(){if(r.clearAutoMarginIds(se),_.drawMarginPushers(se),n.allowAutoMargin(se),se._fullLayout.title.text&&se._fullLayout.title.automargin&&r.allowAutoMargin(se,"title.automargin"),Ie._has("pie"))for(var kt=se._fullData,St=0;St<kt.length;St++){var gt=kt[St];"pie"===gt.type&&gt.automargin&&r.allowAutoMargin(se,"pie."+gt.uid+".automargin")}return r.doAutoMargin(se),r.previousPromises(se)}function st(){se._transitioning||(_.doAutoRangeAndConstraints(se),ve&&n.saveRangeInitial(se),t.getComponentMethod("rangeslider","calcAutorange")(se))}var mt=[r.previousPromises,function(){if(Ue)return B.addFrames(se,Ue)},function kt(){for(var St=Ie._basePlotModules,gt=0;gt<St.length;gt++)St[gt].drawFramework&&St[gt].drawFramework(se);!Ie._glcanvas&&Ie._has("gl")&&(Ie._glcanvas=Ie._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Pt){return Pt.key}),Ie._glcanvas.enter().append("canvas").attr("class",function(Pt){return"gl-canvas gl-canvas-"+Pt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var dt=se._context.plotGlPixelRatio;if(Ie._glcanvas){Ie._glcanvas.attr("width",Ie.width*dt).attr("height",Ie.height*dt).style("width",Ie.width+"px").style("height",Ie.height+"px");var Ct=Ie._glcanvas.data()[0].regl;if(Ct&&(Math.floor(Ie.width*dt)!==Ct._gl.drawingBufferWidth||Math.floor(Ie.height*dt)!==Ct._gl.drawingBufferHeight)){var Ot="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Ke)return A.log(Ot+" Clearing graph and plotting again."),r.cleanPlot([],{},se._fullData,Ie),r.supplyDefaults(se),Ie=se._fullLayout,r.doCalcdata(se),Ke++,kt();A.error(Ot)}}return"h"===Ie.modebar.orientation?Ie._modebardiv.style("height",null).style("width","100%"):Ie._modebardiv.style("width",null).style("height",Ie.height+"px"),r.previousPromises(se)},et,function(){if(r.didMarginChange(He,Ie._size))return A.syncOrAsync([et,_.layoutStyles],se)}];De&&mt.push(function(){if(ze)return A.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),st],se);st()}),mt.push(_.layoutStyles),De&&mt.push(function(){return n.draw(se,ve?"":"redraw")},function(kt){kt._fullLayout._insideTickLabelsAutorange&&ae(kt,kt._fullLayout._insideTickLabelsAutorange).then(function(){kt._fullLayout._insideTickLabelsAutorange=void 0})}),mt.push(_.drawData,_.finalDraw,c,r.addLinks,r.rehover,r.redrag,r.reselect,r.doAutoMargin,function(kt){kt._fullLayout._insideTickLabelsAutorange&&ve&&n.saveRangeInitial(kt,!0)},r.previousPromises);var at=A.syncOrAsync(mt,se);return at&&at.then||(at=Promise.resolve()),at.then(function(){return d(se),se})},B.purge=function(se){var we=(se=A.getGraphDiv(se))._fullLayout||{};return r.cleanPlot([],{},se._fullData||[],we),r.purge(se),m.purge(se),we._container&&we._container.remove(),delete se._context,se},B.react=function(se,we,Re,Ee){var Ue,$e;se=A.getGraphDiv(se),h.clearPromiseQueue(se);var rt,ft,vt,je,Ve,ut,ve=se._fullData,Ie=se._fullLayout;if(A.isPlotDiv(se)&&ve&&Ie){if(A.isPlainObject(we)){var De=we;we=De.data,Re=De.layout,Ee=De.config,Ue=De.frames}var ze=!1;if(Ee){var Ge=A.extendDeep({},se._context);se._context=void 0,I(se,Ee),ze=pe(Ge,se._context)}se.data=we||[],h.cleanData(se.data),se.layout=Re||{},h.cleanLayout(se.layout),function(rt,ft,vt,je){var Ve,ut,ct,Tt,Mt,At,bt,Rt,xt,_t,It=je._preGUI,Gt=[],Wt={},Zt={};for(Ve in It){if(Mt=Te(Ve,ke)){if(xt=Mt.head,_t=Mt.tail,(Tt=(ct=T(je,ut=Mt.attr||xt+".uirevision").get())&&be(ut,ft))&&Tt===ct){if(null===(At=It[Ve])&&(At=void 0),Se(Rt=(bt=T(ft,Ve)).get(),At)){void 0===Rt&&"autorange"===_t&&Gt.push(xt),bt.set(W(T(je,Ve).get()));continue}if("autorange"===_t||"range["===_t.substr(0,6)){var ln=It[xt+".autorange"];if(ln||null===ln&&null===It[xt+".range[0]"]&&null===It[xt+".range[1]"]){if(!(xt in Wt)){var Qt=T(ft,xt).get();Wt[xt]=Qt&&(Qt.autorange||!1!==Qt.autorange&&(!Qt.range||2!==Qt.range.length))}if(Wt[xt]){bt.set(W(T(je,Ve).get()));continue}}}}}else A.warn("unrecognized GUI edit: "+Ve);delete It[Ve],Mt&&"range["===Mt.tail.substr(0,6)&&(Zt[Mt.head]=1)}for(var kn=0;kn<Gt.length;kn++){var Pn=Gt[kn];if(Zt[Pn]){var Tn=T(ft,Pn).get();Tn&&delete Tn.autorange}}var tn=je._tracePreGUI;for(var gn in tn){var hn,mn=tn[gn],En=null;for(Ve in mn){if(!En){var vn=xe(gn,vt);if(vn<0){delete tn[gn];break}var Un=Ne(gn,rt,(hn=vt[vn]._fullInput).index);if(Un<0){delete tn[gn];break}En=rt[Un]}if(Mt=Te(Ve,Pe)){if(Mt.attr?Tt=(ct=T(je,Mt.attr).get())&&be(Mt.attr,ft):(ct=hn.uirevision,void 0===(Tt=En.uirevision)&&(Tt=ft.uirevision)),Tt&&Tt===ct&&(null===(At=mn[Ve])&&(At=void 0),Se(Rt=(bt=T(En,Ve)).get(),At))){bt.set(W(T(hn,Ve).get()));continue}}else A.warn("unrecognized GUI edit: "+Ve+" in trace uid "+gn);delete mn[Ve]}}}(se.data,se.layout,ve,Ie),r.supplyDefaults(se,{skipUpdateCalc:!0});var He=se._fullData,Ke=se._fullLayout,et=void 0===Ke.datarevision,st=Ke.transition,mt=(rt=se,ft=Ie,vt=Ke,je=et,Ve=st,(ut=x.layoutFlags()).arrays={},ut.rangesAltered={},ut.nChanges=0,ut.nChangesAnim=0,Ce(ft,vt,[],{getValObject:function(ct){return o.getLayoutValObject(vt,ct)},flags:ut,immutable:je,transition:Ve,gd:rt}),(ut.plot||ut.calc)&&(ut.layoutReplot=!0),Ve&&ut.nChanges&&ut.nChangesAnim&&(ut.anim=ut.nChanges===ut.nChangesAnim?"all":"some"),ut),kt=function(rt,ft,vt,je,Ve,ut){var ct=ft.length===vt.length;if(!Ve&&!ct)return{fullReplot:!0,calc:!0};var Tt,Mt,At=x.traceFlags();At.arrays={},At.nChanges=0,At.nChangesAnim=0;var bt={getValObject:function(xt){var _t=o.getTraceValObject(Mt,xt);return!Mt._module.animatable&&_t.anim&&(_t.anim=!1),_t},flags:At,immutable:je,transition:Ve,newDataRevision:ut,gd:rt},Rt={};for(Tt=0;Tt<ft.length;Tt++)if(vt[Tt]){if(r.hasMakesDataTransform(Mt=vt[Tt]._fullInput)&&(Mt=vt[Tt]),Rt[Mt.uid])continue;Rt[Mt.uid]=1,Ce(ft[Tt]._fullInput,Mt,[],bt)}return(At.calc||At.plot)&&(At.fullReplot=!0),Ve&&At.nChanges&&At.nChangesAnim&&(At.anim=At.nChanges===At.nChangesAnim&&ct?"all":"some"),At}(se,ve,He,et,st,mt.newDataRevision);if(fe(se)&&(mt.layoutReplot=!0),kt.calc||mt.calc){se.calcdata=void 0;for(var St=Object.getOwnPropertyNames(Ke),gt=0;gt<St.length;gt++){var dt=St[gt],Ct=dt.substring(0,5);if("xaxis"===Ct||"yaxis"===Ct){var Ot=Ke[dt]._emptyCategories;Ot&&Ot()}}}else r.supplyDefaultsUpdateCalc(se.calcdata,He);var Pt=[];if(Ue&&(se._transitionData={},r.createTransitionData(se),Pt.push(function(){return B.addFrames(se,Ue)})),Ke.transition&&!ze&&(kt.anim||mt.anim))mt.ticks&&Pt.push(_.doTicksRelayout),r.doCalcdata(se),_.doAutoRangeAndConstraints(se),Pt.push(function(){return r.transitionFromReact(se,kt,mt,Ie)});else if(kt.fullReplot||mt.layoutReplot||ze)se._fullLayout._skipDefaults=!0,Pt.push(B._doPlot);else{for(var Ht in mt.arrays){var jt=mt.arrays[Ht];if(jt.length){var nt=t.getComponentMethod(Ht,"drawOne");if(nt!==A.noop)for(var it=0;it<jt.length;it++)nt(se,jt[it]);else{var Xe=t.getComponentMethod(Ht,"draw");if(Xe===A.noop)throw new Error("cannot draw components: "+Ht);Xe(se)}}}Pt.push(r.previousPromises),kt.style&&Pt.push(_.doTraceStyle),(kt.colorbars||mt.colorbars)&&Pt.push(_.doColorBars),mt.legend&&Pt.push(_.doLegend),mt.layoutstyle&&Pt.push(_.layoutStyles),mt.axrange&&Q(Pt),mt.ticks&&Pt.push(_.doTicksRelayout),mt.modebar&&Pt.push(_.doModeBar),mt.camera&&Pt.push(_.doCamera),Pt.push(d)}Pt.push(r.rehover,r.redrag,r.reselect),($e=A.syncOrAsync(Pt,se))&&$e.then||($e=Promise.resolve(se))}else $e=B.newPlot(se,we,Re,Ee);return $e.then(function(){return se.emit("plotly_react",{data:we,layout:Re}),se})},B.redraw=function(se){if(se=A.getGraphDiv(se),!A.isPlotDiv(se))throw new Error("This element is not a Plotly plot: "+se);return h.cleanData(se.data),h.cleanLayout(se.layout),se.calcdata=void 0,B._doPlot(se).then(function(){return se.emit("plotly_redraw"),se})},B.relayout=ae,B.restyle=N,B.setPlotConfig=function(se){return A.extendFlat(w,se)},B.update=he,B._guiRelayout=me(ae),B._guiRestyle=me(N),B._guiUpdate=me(he),B._storeDirectGUIEdit=function(se,we,Re){for(var Ee in Re)U(Ee,T(se,Ee).get(),Re[Ee],we)}},72075:function(ie){"use strict";var B={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function C(S,u){for(var A in S){var T=S[A];T.valType?u[A]=T.dflt:(u[A]||(u[A]={}),C(T,u[A]))}})(B,e),ie.exports={configAttributes:B,dfltConfig:e}},86281:function(ie,B,e){"use strict";var C=e(73972),S=e(71828),u=e(9012),A=e(10820),T=e(31391),m=e(85594),l=e(72075).configAttributes,t=e(30962),o=S.extendDeepAll,r=S.isPlainObject,n=S.isArrayOrTypedArray,a=S.nestedProperty,s=S.valObjectMeta,c="_isSubplotObj",p="_isLinkedToArray",f="_deprecated",w=[c,p,"_arrayAttrRegexps",f];function v(d,E,k){if(!d)return!1;if(d._isLinkedToArray)if(h(E[k]))k++;else if(k<E.length)return!1;for(;k<E.length;k++){var I=d[E[k]];if(!r(I)||(d=I,k===E.length-1))break;if(d._isLinkedToArray){if(!h(E[++k]))return!1}else if("info_array"===d.valType){var L=E[++k];if(!h(L))return!1;var P=d.items;if(Array.isArray(P)){if(L>=P.length)return!1;if(2===d.dimensions){if(k++,E.length===k)return d;var R=E[k];if(!h(R))return!1;d=P[L][R]}else d=P[L]}else d=P}}return d}function h(d){return d===Math.round(d)&&d>=0}function _(){var d,E,k={};for(d in o(k,A),C.subplotsRegistry)if((E=C.subplotsRegistry[d]).layoutAttributes)if(Array.isArray(E.attr))for(var I=0;I<E.attr.length;I++)b(k,E,E.attr[I]);else b(k,E,"subplot"===E.attr?E.name:E.attr);for(d in C.componentsRegistry){var L=(E=C.componentsRegistry[d]).schema;if(L&&(L.subplots||L.layout)){var P=L.subplots;if(P&&P.xaxis&&!P.yaxis)for(var R in P.xaxis)delete k.yaxis[R];delete k.xaxis.shift,delete k.xaxis.autoshift}else"colorscale"===E.name?o(k,E.layoutAttributes):E.layoutAttributes&&M(k,E.layoutAttributes,E.name)}return{layoutAttributes:x(k)}}function x(d){return B.crawl(d,function(k,I,L){B.isValObject(k)?!0!==k.arrayOk&&"data_array"!==k.valType||(L[I+"src"]={valType:"string",editType:"none"}):r(k)&&(k.role="object")}),B.crawl(d,function(k,I,L){if(k){var P=k[p];P&&(delete k[p],L[I]={items:{}},L[I].items[P]=k,L[I].role="object")}}),function(E){!function k(I){for(var L in I)if(r(I[L]))k(I[L]);else if(Array.isArray(I[L]))for(var P=0;P<I[L].length;P++)k(I[L][P]);else I[L]instanceof RegExp&&(I[L]=I[L].toString())}(E)}(d),d}function b(d,E,k){var I=a(d,k),L=o({},E.layoutAttributes);L[c]=!0,I.set(L)}function M(d,E,k){var I=a(d,k);I.set(o(I.get()||{},E))}B.IS_SUBPLOT_OBJ=c,B.IS_LINKED_TO_ARRAY=p,B.DEPRECATED=f,B.UNDERSCORE_ATTRS=w,B.get=function(){var d={};C.allTypes.forEach(function(I){d[I]=function(L){var P,R;R=(P=C.modules[L]._module).basePlotModule;var z={type:null},$=o({},u),N=o({},P.attributes);B.crawl(N,function(U,Z,Y,ae,re){a($,re).set(void 0),void 0===U&&a(N,re).set(void 0)}),o(z,$),C.traceIs(L,"noOpacity")&&delete z.opacity,C.traceIs(L,"showLegend")||(delete z.showlegend,delete z.legendgroup),C.traceIs(L,"noHover")&&(delete z.hoverinfo,delete z.hoverlabel),P.selectPoints||delete z.selectedpoints,o(z,N),R.attributes&&o(z,R.attributes),z.type=L;var W={meta:P.meta||{},categories:P.categories||{},animatable:!!P.animatable,type:L,attributes:x(z)};if(P.layoutAttributes){var H={};o(H,P.layoutAttributes),W.layoutAttributes=x(H)}return P.animatable||B.crawl(W,function(U){B.isValObject(U)&&"anim"in U&&delete U.anim}),W}(I)});var E,k={};return Object.keys(C.transformsRegistry).forEach(function(I){var L,R;k[I]=(R=o({},C.transformsRegistry[L=I].attributes),Object.keys(C.componentsRegistry).forEach(function(z){var $=C.componentsRegistry[z];$.schema&&$.schema.transforms&&$.schema.transforms[L]&&Object.keys($.schema.transforms[L]).forEach(function(N){M(R,$.schema.transforms[L][N],N)})}),{attributes:x(R)})}),{defs:{valObjects:s,metaKeys:w.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:d,layout:_(),transforms:k,frames:(E={frames:o({},T)},x(E),E.frames),animation:x(m),config:x(l)}},B.crawl=function(d,E,k,I){var L=k||0;I=I||"",Object.keys(d).forEach(function(P){var R=d[P];if(-1===w.indexOf(P)){var z=(I?I+".":"")+P;E(R,P,d,L,z),B.isValObject(R)||r(R)&&"impliedEdits"!==P&&B.crawl(R,E,L+1,z)}})},B.isValObject=function(d){return d&&void 0!==d.valType},B.findArrayAttributes=function(d){var E,k,I=[],L=[],P=[];function R(U,Z,Y,ae){L=L.slice(0,ae).concat([Z]),P=P.slice(0,ae).concat([U&&U._isLinkedToArray]),U&&("data_array"===U.valType||!0===U.arrayOk)&&("colorbar"!==L[ae-1]||"ticktext"!==Z&&"tickvals"!==Z)&&z(E,0,"")}function z(U,Z,Y){var ae=U[L[Z]],re=Y+L[Z];if(Z===L.length-1)n(ae)&&I.push(k+re);else if(P[Z]){if(Array.isArray(ae))for(var Q=0;Q<ae.length;Q++)r(ae[Q])&&z(ae[Q],Z+1,re+"["+Q+"].")}else r(ae)&&z(ae,Z+1,re+".")}E=d,k="",B.crawl(u,R),d._module&&d._module.attributes&&B.crawl(d._module.attributes,R);var $=d.transforms;if($)for(var N=0;N<$.length;N++){var W=$[N],H=W._module;H&&(k="transforms["+N+"].",E=W,B.crawl(H.attributes,R))}return I},B.getTraceValObject=function(d,E){var k,I,L=E[0],P=1;if("transforms"===L){if(1===E.length)return u.transforms;var R=d.transforms;if(!Array.isArray(R)||!R.length)return!1;var z=E[1];if(!h(z)||z>=R.length)return!1;I=(k=(C.transformsRegistry[R[z].type]||{}).attributes)&&k[E[2]],P=3}else{var $=d._module;if($||($=(C.modules[d.type||u.type.dflt]||{})._module),!$)return!1;if(!(I=(k=$.attributes)&&k[L])){var N=$.basePlotModule;N&&N.attributes&&(I=N.attributes[L])}I||(I=u[L])}return v(I,E,P)},B.getLayoutValObject=function(d,E){return v(function(I,L){var P,R,z,$,N=I._basePlotModules;if(N){var W;for(P=0;P<N.length;P++){if((z=N[P]).attrRegex&&z.attrRegex.test(L)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!W&&z.layoutAttributes&&(W=z.layoutAttributes)}var H=z.baseLayoutAttrOverrides;if(H&&L in H)return H[L]}if(W)return W}var U=I._modules;if(U)for(P=0;P<U.length;P++)if(($=U[P].layoutAttributes)&&L in $)return $[L];for(R in C.componentsRegistry){if("colorscale"===(z=C.componentsRegistry[R]).name&&0===L.indexOf("coloraxis"))return z.layoutAttributes[L];if(!z.schema&&L===z.name)return z.layoutAttributes}return L in A&&A[L]}(d,E[0]),E,1)}},44467:function(ie,B,e){"use strict";var C=e(71828),S=e(9012),u="templateitemname",A={name:{valType:"string",editType:"none"}};function T(l){return l&&"string"==typeof l}function m(l){return"s"!==l.charAt(l.length-1)&&C.warn("bad argument to arrayDefaultKey: "+l),l.substr(0,l.length-1)+"defaults"}A[u]={valType:"string",editType:"calc"},B.templatedArray=function(l,t){return t._isLinkedToArray=l,t.name=A.name,t[u]=A[u],t},B.traceTemplater=function(l){var t,o,r={};for(t in l)o=l[t],Array.isArray(o)&&o.length&&(r[t]=0);return{newTrace:function(n){var a={type:t=C.coerce(n,{},S,"type"),_template:null};if(t in r){var s=r[t]%(o=l[t]).length;r[t]++,a._template=o[s]}return a}}},B.newContainer=function(l,t,o){var r=l._template,n=r&&(r[t]||o&&r[o]);return C.isPlainObject(n)||(n=null),l[t]={_template:n}},B.arrayTemplater=function(l,t,o){var r=l._template,n=r&&r[m(t)],a=r&&r[t];Array.isArray(a)&&a.length||(a=[]);var s={};return{newItem:function(c){var p={name:c.name,_input:c},f=p[u]=c[u];if(!T(f))return p._template=n,p;for(var w=0;w<a.length;w++){var v=a[w];if(v.name===f)return s[f]=1,p._template=v,p}return p[o]=c[o]||!1,p._template=!1,p},defaultItems:function(){for(var c=[],p=0;p<a.length;p++){var f=a[p],w=f.name;if(T(w)&&!s[w]){var v={_template:f,name:w,_input:{_templateitemname:w}};v[u]=f[u],c.push(v),s[w]=1}}return c}}},B.arrayDefaultKey=m,B.arrayEditor=function(l,t,o){var r=(C.nestedProperty(l,t).get()||[]).length,n=o._index,a=n>=r&&(o._input||{})._templateitemname;a&&(n=r);var s,c=t+"["+n+"]";function p(){s={},a&&(s[c]={},s[c][u]=a)}function f(v,h){a?C.nestedProperty(s[c],v).set(h):s[c+"."+v]=h}function w(){var v=s;return p(),v}return p(),{modifyBase:function(v,h){s[v]=h},modifyItem:f,getUpdateObj:w,applyUpdate:function(v,h){v&&f(v,h);var _=w();for(var x in _)C.nestedProperty(l,x).set(_[x])}}}},61549:function(ie,B,e){"use strict";var C=e(39898),S=e(73972),u=e(74875),A=e(71828),T=e(63893),m=e(33306),l=e(7901),t=e(91424),o=e(92998),r=e(64168),n=e(89298),a=e(18783),s=e(99082),c=s.enforce,p=s.clean,f=e(71739).doAutoRange,w="start";function v(M,d,E){for(var k=0;k<E.length;k++){var I=E[k][0],L=E[k][1];if(!(I[0]>=M[1]||I[1]<=M[0])&&L[0]<d[1]&&L[1]>d[0])return!0}return!1}function h(M){var d,E,k,I,L,P,R=M._fullLayout,z=R._size,$=z.p,N=n.list(M,"",!0);if(R._paperdiv.style({width:M._context.responsive&&R.autosize&&!M._context._hasZeroWidth&&!M.layout.width?"100%":R.width+"px",height:M._context.responsive&&R.autosize&&!M._context._hasZeroHeight&&!M.layout.height?"100%":R.height+"px"}).selectAll(".main-svg").call(t.setSize,R.width,R.height),M._context.setBackground(M,R.paper_bgcolor),B.drawMainTitle(M),r.manage(M),!R._has("cartesian"))return u.previousPromises(M);function W(He,Ke,et){var st=He._lw/2;return"x"===He._id.charAt(0)?Ke?"top"===et?Ke._offset-$-st:Ke._offset+Ke._length+$+st:z.t+z.h*(1-(He.position||0))+st%1:Ke?"right"===et?Ke._offset+Ke._length+$+st:Ke._offset-$-st:z.l+z.w*(He.position||0)+st%1}for(d=0;d<N.length;d++){var H=(I=N[d])._anchorAxis;I._linepositions={},I._lw=t.crispRound(M,I.linewidth,1),I._mainLinePosition=W(I,H,I.side),I._mainMirrorPosition=I.mirror&&H?W(I,H,a.OPPOSITE_SIDE[I.side]):null}var U=[],Z=[],Y=[],ae=1===l.opacity(R.paper_bgcolor)&&1===l.opacity(R.plot_bgcolor)&&R.paper_bgcolor===R.plot_bgcolor;for(E in R._plots)if((k=R._plots[E]).mainplot)k.bg&&k.bg.remove(),k.bg=void 0;else{var re=k.xaxis.domain,Q=k.yaxis.domain,K=k.plotgroup;if(v(re,Q,Y)){var te=K.node(),oe=k.bg=A.ensureSingle(K,"rect","bg");te.insertBefore(oe.node(),te.childNodes[0]),Z.push(E)}else K.select("rect.bg").remove(),Y.push([re,Q]),ae||(U.push(E),Z.push(E))}var ue,fe,he,me,ke,Pe,Te,be,xe,Ne,Se,Ce,pe,de=R._bgLayer.selectAll(".bg").data(U);for(de.enter().append("rect").classed("bg",!0),de.exit().remove(),de.each(function(He){R._plots[He].bg=C.select(this)}),d=0;d<Z.length;d++)L=(k=R._plots[Z[d]]).xaxis,P=k.yaxis,k.bg&&void 0!==L._offset&&void 0!==P._offset&&k.bg.call(t.setRect,L._offset-$,P._offset-$,L._length+2*$,P._length+2*$).call(l.fill,R.plot_bgcolor).style("stroke-width",0);if(!R._hasOnlyLargeSploms)for(E in R._plots){L=(k=R._plots[E]).xaxis,P=k.yaxis;var se,we,Re=k.clipId="clip"+R._uid+E+"plot",Ee=A.ensureSingleById(R._clips,"clipPath",Re,function(He){He.classed("plotclip",!0).append("rect")});k.clipRect=Ee.select("rect").attr({width:L._length,height:P._length}),t.setTranslate(k.plot,L._offset,P._offset),k._hasClipOnAxisFalse?(se=null,we=Re):(se=Re,we=null),t.setClipUrl(k.plot,se,M),k.layerClipId=we}function Ue(He){return"M"+ue+","+He+"H"+fe}function $e(He){return"M"+L._offset+","+He+"h"+L._length}function ve(He){return"M"+He+","+be+"V"+Te}function Ie(He){return void 0!==P._shift&&(He+=P._shift),"M"+He+","+P._offset+"v"+P._length}function De(He,Ke,et){if(!He.showline||E!==He._mainSubplot)return"";if(!He._anchorAxis)return et(He._mainLinePosition);var st=Ke(He._mainLinePosition);return He.mirror&&(st+=Ke(He._mainMirrorPosition)),st}for(E in R._plots){P=(k=R._plots[E]).yaxis;var ze="M0,0";_(L=k.xaxis,E)&&(ke=b(L,"left",P,N),ue=L._offset-(ke?$+ke:0),Pe=b(L,"right",P,N),fe=L._offset+L._length+(Pe?$+Pe:0),he=W(L,P,"bottom"),me=W(L,P,"top"),!(pe=!L._anchorAxis||E!==L._mainSubplot)||"allticks"!==L.mirror&&"all"!==L.mirror||(L._linepositions[E]=[he,me]),ze=De(L,Ue,$e),pe&&L.showline&&("all"===L.mirror||"allticks"===L.mirror)&&(ze+=Ue(he)+Ue(me)),k.xlines.style("stroke-width",L._lw+"px").call(l.stroke,L.showline?L.linecolor:"rgba(0,0,0,0)")),k.xlines.attr("d",ze);var Ge="M0,0";_(P,E)&&(Se=b(P,"bottom",L,N),Te=P._offset+P._length+(Se?$:0),Ce=b(P,"top",L,N),be=P._offset-(Ce?$:0),xe=W(P,L,"left"),Ne=W(P,L,"right"),!(pe=!P._anchorAxis||E!==P._mainSubplot)||"allticks"!==P.mirror&&"all"!==P.mirror||(P._linepositions[E]=[xe,Ne]),Ge=De(P,ve,Ie),pe&&P.showline&&("all"===P.mirror||"allticks"===P.mirror)&&(Ge+=ve(xe)+ve(Ne)),k.ylines.style("stroke-width",P._lw+"px").call(l.stroke,P.showline?P.linecolor:"rgba(0,0,0,0)")),k.ylines.attr("d",Ge)}return n.makeClipPaths(M),u.previousPromises(M)}function _(M,d){return(M.ticks||M.showline)&&(d===M._mainSubplot||"all"===M.mirror||"allticks"===M.mirror)}function x(M,d,E){if(!E.showline||!E._lw)return!1;if("all"===E.mirror||"allticks"===E.mirror)return!0;var k=E._anchorAxis;if(!k)return!1;var I=a.FROM_BL[d];return E.side===d?k.domain[I]===M.domain[I]:E.mirror&&k.domain[1-I]===M.domain[1-I]}function b(M,d,E,k){if(x(M,d,E))return E._lw;for(var I=0;I<k.length;I++){var L=k[I];if(L._mainAxis===E._mainAxis&&x(M,d,L))return L._lw}return 0}B.layoutStyles=function(M){return A.syncOrAsync([u.doAutoMargin,h],M)},B.drawMainTitle=function(M){var d,H,U,E=M._fullLayout.title,k=M._fullLayout,I=(U="middle",A.isRightAnchor(H=k.title)?U="end":A.isLeftAnchor(H)&&(U=w),U),L=function(W){var H=W.title,U="0em";return A.isTopAnchor(H)?U=a.CAP_SHIFT+"em":A.isMiddleAnchor(H)&&(U=a.MID_SHIFT+"em"),U}(k),P=function(W,H){var U=W.title,Z=W._size,Y=0;return"0em"!==H&&H?H===a.CAP_SHIFT+"em"&&(Y=U.pad.t):Y=-U.pad.b,"auto"===U.y?Z.t/2:"paper"===U.yref?Z.t+Z.h-Z.h*U.y+Y:W.height-W.height*U.y+Y}(k,L),R=function(W,H){var U=W.title,Z=W._size,Y=0;return H===w?Y=U.pad.l:"end"===H&&(Y=-U.pad.r),"paper"===U.xref?Z.l+Z.w*U.x+Y:W.width*U.x+Y}(k,I);if(o.draw(M,"gtitle",{propContainer:k,propName:"title.text",placeholder:k._dfltTitle.plot,attributes:{x:R,y:P,"text-anchor":I,dy:L}}),E.text&&E.automargin){var z=C.selectAll(".gtitle"),$=t.bBox(z.node()).height,N=function(W,H,U){var te,oe,ue,fe,he,Z=H.y,ae=Z>.5?"t":"b",Q=0;return"paper"===H.yref?Q=U+H.pad.t+H.pad.b:"container"===H.yref&&(te=Z,ue=W._fullLayout.height,fe=U,he=0,"middle"===(oe=H.yanchor)&&(he+=fe/2),"t"===ae?("top"===oe&&(he+=fe),he+=ue-te*ue):("bottom"===oe&&(he+=fe),he+=te*ue),Q=he+H.pad.t+H.pad.b),Q>W._fullLayout.margin[ae]?Q:0}(M,E,$);N>0&&(function(W,H,U,Z){var te,oe,ue,fe,he,me,ke,Pe,Y="title.automargin",ae=W._fullLayout.title,re=ae.y>.5?"t":"b",Q={x:ae.x,y:ae.y,t:0,b:0},K={};"paper"===ae.yref&&(te=W,ue=re,fe=H,he=Z,me="paper"===(oe=ae).yref?te._fullLayout._size.h:te._fullLayout.height,ke=A.isTopAnchor(oe)?fe:fe-he,Pe="b"===ue?me-ke:ke,!(A.isTopAnchor(oe)&&"t"===ue||A.isBottomAnchor(oe)&&"b"===ue)&&Pe<he)?Q[re]=U:"container"===ae.yref&&(K[re]=U,W._fullLayout._reservedMargin[Y]=K),u.allowAutoMargin(W,Y),u.autoMargin(W,Y,Q)}(M,P,N,$),z.attr({x:R,y:P,"text-anchor":I,dy:(d=E.yanchor,"top"===d?a.CAP_SHIFT+.3+"em":"bottom"===d?"-0.3em":a.MID_SHIFT+"em")}).call(T.positionText,R,P))}},B.doTraceStyle=function(M){var d,E=M.calcdata,k=[];for(d=0;d<E.length;d++){var I=E[d],L=I[0]||{},P=L.trace||{},R=P._module||{},z=R.arraysToCalcdata;z&&z(I,P);var $=R.editStyle;$&&k.push({fn:$,cd0:L})}if(k.length){for(d=0;d<k.length;d++){var N=k[d];N.fn(M,N.cd0)}m(M),B.redrawReglTraces(M)}return u.style(M),S.getComponentMethod("legend","draw")(M),u.previousPromises(M)},B.doColorBars=function(M){return S.getComponentMethod("colorbar","draw")(M),u.previousPromises(M)},B.layoutReplot=function(M){var d=M.layout;return M.layout=void 0,S.call("_doPlot",M,"",d)},B.doLegend=function(M){return S.getComponentMethod("legend","draw")(M),u.previousPromises(M)},B.doTicksRelayout=function(M){return n.draw(M,"redraw"),M._fullLayout._hasOnlyLargeSploms&&(S.subplotsRegistry.splom.updateGrid(M),m(M),B.redrawReglTraces(M)),B.drawMainTitle(M),u.previousPromises(M)},B.doModeBar=function(M){var d=M._fullLayout;r.manage(M);for(var E=0;E<d._basePlotModules.length;E++){var k=d._basePlotModules[E].updateFx;k&&k(M)}return u.previousPromises(M)},B.doCamera=function(M){for(var d=M._fullLayout,E=d._subplots.gl3d,k=0;k<E.length;k++){var I=d[E[k]];I._scene.setViewport(I)}},B.drawData=function(M){var d=M._fullLayout;m(M);for(var E=d._basePlotModules,k=0;k<E.length;k++)E[k].plot(M);return B.redrawReglTraces(M),u.style(M),S.getComponentMethod("selections","draw")(M),S.getComponentMethod("shapes","draw")(M),S.getComponentMethod("annotations","draw")(M),S.getComponentMethod("images","draw")(M),d._replotting=!1,u.previousPromises(M)},B.redrawReglTraces=function(M){var d=M._fullLayout;if(d._has("regl")){var E,k,I=M._fullData,L=[],P=[];for(d._hasOnlyLargeSploms&&d._splomGrid.draw(),E=0;E<I.length;E++){var R=I[E];!0===R.visible&&0!==R._length&&("splom"===R.type?d._splomScenes[R.uid].draw():"scattergl"===R.type?A.pushUnique(L,R.xaxis+R.yaxis):"scatterpolargl"===R.type&&A.pushUnique(P,R.subplot))}for(E=0;E<L.length;E++)(k=d._plots[L[E]])._scene&&k._scene.draw();for(E=0;E<P.length;E++)(k=d[P[E]]._subplot)._scene&&k._scene.draw()}},B.doAutoRangeAndConstraints=function(M){for(var d,E=n.list(M,"",!0),k={},I=0;I<E.length;I++)if(!k[(d=E[I])._id]){k[d._id]=1,p(M,d),f(M,d);var L=d._matchGroup;if(L)for(var P in L){var R=n.getFromId(M,P);f(M,R,d.range),k[P]=1}}c(M)},B.finalDraw=function(M){S.getComponentMethod("rangeslider","draw")(M),S.getComponentMethod("rangeselector","draw")(M)},B.drawMarginPushers=function(M){S.getComponentMethod("legend","draw")(M),S.getComponentMethod("rangeselector","draw")(M),S.getComponentMethod("sliders","draw")(M),S.getComponentMethod("updatemenus","draw")(M),S.getComponentMethod("colorbar","draw")(M)}},96318:function(ie,B,e){"use strict";var C=e(71828),S=C.isPlainObject,u=e(86281),A=e(74875),T=e(9012),m=e(44467),l=e(72075).dfltConfig;function t(f,w){f=C.extendDeep({},f);var v,h,_=Object.keys(f).sort();function x(k,I,L){if(S(I)&&S(k))t(k,I);else if(Array.isArray(I)&&Array.isArray(k)){var P=m.arrayTemplater({_template:f},L);for(h=0;h<I.length;h++){var R=I[h],z=P.newItem(R)._template;z&&t(z,R)}var $=P.defaultItems();for(h=0;h<$.length;h++)I.push($[h]._template);for(h=0;h<I.length;h++)delete I[h].templateitemname}}for(v=0;v<_.length;v++){var b=_[v],M=f[b];if(b in w?x(M,w[b],b):w[b]=M,o(b)===b)for(var d in w){var E=o(d);d===E||E!==b||d in f||x(M,w[d],b)}}}function o(f){return f.replace(/[0-9]+$/,"")}function r(f,w,v,h,_){var x=_&&v(_);for(var b in f){var M=f[b],d=s(f,b,h),E=s(f,b,_),k=v(E);if(!k){var I=o(b);I!==b&&(k=v(E=s(f,I,_)))}if(!(x&&x===k||!k||k._noTemplating||"data_array"===k.valType||k.arrayOk&&Array.isArray(M)))if(!k.valType&&S(M))r(M,w,v,d,E);else if(k._isLinkedToArray&&Array.isArray(M))for(var L=!1,P=0,R={},z=0;z<M.length;z++){var $=M[z];if(S($)){var N=$.name;if(N)R[N]||(r($,w,v,s(M,P,d),s(M,P,E)),P++,R[N]=1);else if(!L){var W=s(f,m.arrayDefaultKey(b),h),H=s(M,P,d);r($,w,v,H,s(M,P,E));var U=C.nestedProperty(w,H);C.nestedProperty(w,W).set(U.get()),U.set(null),L=!0}}}else C.nestedProperty(w,d).set(M)}}function n(f,w){return u.getLayoutValObject(f,C.nestedProperty({},w).parts)}function a(f,w){return u.getTraceValObject(f,C.nestedProperty({},w).parts)}function s(f,w,v){return v?Array.isArray(f)?v+"["+w+"]":v+"."+w:w}function c(f){for(var w=0;w<f.length;w++)if(S(f[w]))return!0}function p(f){var w;switch(f.code){case"data":w="The template has no key data.";break;case"layout":w="The template has no key layout.";break;case"missing":w=f.path?"There are no templates for item "+f.path+" with name "+f.templateitemname:"There are no templates for trace "+f.index+", of type "+f.traceType+".";break;case"unused":w=f.path?"The template item at "+f.path+" was not used in constructing the plot.":f.dataCount?"Some of the templates of type "+f.traceType+" were not used. The template has "+f.templateCount+" traces, the data only has "+f.dataCount+" of this type.":"The template has "+f.templateCount+" traces of type "+f.traceType+" but there are none in the data.";break;case"reused":w="Some of the templates of type "+f.traceType+" were used more than once. The template has "+f.templateCount+" traces, the data has "+f.dataCount+" of this type."}return f.msg=w,f}B.makeTemplate=function(f){f=C.isPlainObject(f)?f:C.getGraphDiv(f),f=C.extendDeep({_context:l},{data:f.data,layout:f.layout}),A.supplyDefaults(f);var w=f.data||[],v=f.layout||{};v._basePlotModules=f._fullLayout._basePlotModules,v._modules=f._fullLayout._modules;var h={data:{},layout:{}};w.forEach(function(P){var R={};r(P,R,a.bind(null,P));var z=C.coerce(P,{},T,"type"),$=h.data[z];$||($=h.data[z]=[]),$.push(R)}),r(v,h.layout,n.bind(null,v)),delete h.layout.template;var _=v.template;if(S(_)){var x,b,M,d,E,k,I=_.layout;S(I)&&t(I,h.layout);var L=_.data;if(S(L)){for(b in h.data)if(M=L[b],Array.isArray(M)){for(k=(E=h.data[b]).length,d=M.length,x=0;x<k;x++)t(M[x%d],E[x]);for(x=k;x<d;x++)E.push(C.extendDeep({},M[x]))}for(b in L)b in h.data||(h.data[b]=C.extendDeep([],L[b]))}}return h},B.validateTemplate=function(f,w){var v=C.extendDeep({},{_context:l,data:f.data,layout:f.layout}),h=v.layout||{};S(w)||(w=h.template||{});var _=w.layout,x=w.data,b=[];v.layout=h,v.layout.template=w,A.supplyDefaults(v);var M=v._fullLayout,d=v._fullData,E={};if(S(_)?(function $(N,W){for(var H in N)if("_"!==H.charAt(0)&&S(N[H])){var U,Z=o(H),Y=[];for(U=0;U<W.length;U++)Y.push(s(N,H,W[U])),Z!==H&&Y.push(s(N,Z,W[U]));for(U=0;U<Y.length;U++)E[Y[U]]=1;$(N[H],Y)}}(M,["layout"]),function $(N,W){for(var H in N)if(-1===H.indexOf("defaults")&&S(N[H])){var U=s(N,H,W);E[U]?$(N[H],U):b.push({code:"unused",path:U})}}(_,"layout")):b.push({code:"layout"}),S(x)){for(var k,I={},L=0;L<d.length;L++){var P=d[L];I[k=P.type]=(I[k]||0)+1,P._fullInput._template||b.push({code:"missing",index:P._fullInput.index,traceType:k})}for(k in x){var R=x[k].length,z=I[k]||0;R>z?b.push({code:"unused",traceType:k,templateCount:R,dataCount:z}):z>R&&b.push({code:"reused",traceType:k,templateCount:R,dataCount:z})}}else b.push({code:"data"});if(function $(N,W){for(var H in N)if("_"!==H.charAt(0)){var U=N[H],Z=s(N,H,W);S(U)?(Array.isArray(N)&&!1===U._template&&U.templateitemname&&b.push({code:"missing",path:Z,templateitemname:U.templateitemname}),$(U,Z)):Array.isArray(U)&&c(U)&&$(U,Z)}}({data:d,layout:M},""),b.length)return b.map(p)}},403:function(ie,B,e){"use strict";var C=e(92770),S=e(72391),u=e(74875),A=e(71828),T=e(25095),m=e(5900),l=e(70942),t=e(11506).version,o={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};ie.exports=function(r,n){var a,s,c,p;function f(z){return!(z in n)||A.validate(n[z],o[z])}if(n=n||{},A.isPlainObject(r)?(a=r.data||[],s=r.layout||{},c=r.config||{},p={}):(r=A.getGraphDiv(r),a=A.extendDeep([],r.data),s=A.extendDeep({},r.layout),c=r._context,p=r._fullLayout||{}),!f("width")&&null!==n.width||!f("height")&&null!==n.height)throw new Error("Height and width should be pixel values.");if(!f("format"))throw new Error("Export format is not "+A.join2(o.format.values,", "," or ")+".");var w={};function v(z,$){return A.coerce(n,w,o,z,$)}var h=v("format"),_=v("width"),x=v("height"),b=v("scale"),M=v("setBackground"),d=v("imageDataOnly"),E=document.createElement("div");E.style.position="absolute",E.style.left="-5000px",document.body.appendChild(E);var k=A.extendFlat({},s);_?k.width=_:null===n.width&&C(p.width)&&(k.width=p.width),x?k.height=x:null===n.height&&C(p.height)&&(k.height=p.height);var I=A.extendFlat({},c,{_exportedPlot:!0,staticPlot:!0,setBackground:M}),L=T.getRedrawFunc(E);function P(){return new Promise(function(z){setTimeout(z,T.getDelay(E._fullLayout))})}function R(){return new Promise(function(z,$){var N=m(E,h,b),W=E._fullLayout.width,H=E._fullLayout.height;function U(){S.purge(E),document.body.removeChild(E)}if("full-json"===h){var Z=u.graphJson(E,!1,"keepdata","object",!0,!0);return Z.version=t,Z=JSON.stringify(Z),U(),z(d?Z:T.encodeJSON(Z))}if(U(),"svg"===h)return z(d?N:T.encodeSVG(N));var Y=document.createElement("canvas");Y.id=A.randstr(),l({format:h,width:W,height:H,scale:b,canvas:Y,svg:N,promise:!0}).then(z).catch($)})}return new Promise(function(z,$){S.newPlot(E,a,k,I).then(L).then(P).then(R).then(function(N){var W;z((W=N,d?W.replace(T.IMAGE_URL_PREFIX,""):W))}).catch(function(N){$(N)})})}},84936:function(ie,B,e){"use strict";var C=e(71828),S=e(74875),u=e(86281),A=e(72075).dfltConfig,T=C.isPlainObject,m=Array.isArray,l=C.isArrayOrTypedArray;function t(f,w,v,h,_,x){x=x||[];for(var b=Object.keys(f),M=0;M<b.length;M++){var d=b[M];if("transforms"!==d){var E=x.slice();E.push(d);var k=f[d],I=w[d],L=s(v,d),P=(L||{}).valType,R="info_array"===P,z="colorscale"===P,$=(L||{}).items;if(a(v,d))if(T(k)&&T(I)&&"any"!==P)t(k,I,L,h,_,E);else if(R&&m(k)){k.length>I.length&&h.push(n("unused",_,E.concat(I.length)));var N,W,U,Z,Y=I.length,ae=Array.isArray($);if(ae&&(Y=Math.min(Y,$.length)),2===L.dimensions)for(W=0;W<Y;W++)if(m(k[W])){k[W].length>I[W].length&&h.push(n("unused",_,E.concat(W,I[W].length)));var re=I[W].length;for(N=0;N<(ae?Math.min(re,$[W].length):re);N++)Z=I[W][N],C.validate(U=k[W][N],ae?$[W][N]:$)?Z!==U&&Z!==+U&&h.push(n("dynamic",_,E.concat(W,N),U,Z)):h.push(n("value",_,E.concat(W,N),U))}else h.push(n("array",_,E.concat(W),k[W]));else for(W=0;W<Y;W++)Z=I[W],C.validate(U=k[W],ae?$[W]:$)?Z!==U&&Z!==+U&&h.push(n("dynamic",_,E.concat(W),U,Z)):h.push(n("value",_,E.concat(W),U))}else if(L.items&&!R&&m(k)){var Q,K,te=$[Object.keys($)[0]],oe=[];for(Q=0;Q<I.length;Q++){var ue=I[Q]._index||Q;if((K=E.slice()).push(ue),T(k[ue])&&T(I[Q])){oe.push(ue);var fe=k[ue],he=I[Q];T(fe)&&!1!==fe.visible&&!1===he.visible?h.push(n("invisible",_,K)):t(fe,he,te,h,_,K)}}for(Q=0;Q<k.length;Q++)(K=E.slice()).push(Q),T(k[Q])?-1===oe.indexOf(Q)&&h.push(n("unused",_,K)):h.push(n("object",_,K,k[Q]))}else!T(k)&&T(I)?h.push(n("object",_,E,k)):l(k)||!l(I)||R||z?d in w?C.validate(k,L)?"enumerated"===L.valType&&(L.coerceNumber&&k!==+I||k!==I)&&h.push(n("dynamic",_,E,k,I)):h.push(n("value",_,E,k)):h.push(n("unused",_,E,k)):h.push(n("array",_,E,k));else h.push(n("schema",_,E))}}return h}ie.exports=function(f,w){void 0===f&&(f=[]),void 0===w&&(w={});var v,h,_=u.get(),x=[],b={_context:C.extendFlat({},A)};m(f)?(b.data=C.extendDeep([],f),v=f):(b.data=[],v=[],x.push(n("array","data"))),T(w)?(b.layout=C.extendDeep({},w),h=w):(b.layout={},h={},arguments.length>1&&x.push(n("object","layout"))),S.supplyDefaults(b);for(var M=b._fullData,d=v.length,E=0;E<d;E++){var k=v[E],I=["data",E];if(T(k)){var L=M[E],P=L.type,R=_.traces[P].attributes;R.type={valType:"enumerated",values:[P]},!1===L.visible&&!1!==k.visible&&x.push(n("invisible",I)),t(k,L,R,x,I);var z=k.transforms,$=L.transforms;if(z){m(z)||x.push(n("array",I,["transforms"])),I.push("transforms");for(var N=0;N<z.length;N++){var W=["transforms",N],H=z[N].type;if(T(z[N])){var U=_.transforms[H]?_.transforms[H].attributes:{};U.type={valType:"enumerated",values:Object.keys(_.transforms)},t(z[N],$[N],U,x,I,W)}else x.push(n("object",I,W))}}}else x.push(n("object",I))}return t(h,b._fullLayout,function(ae,re){for(var Q=ae.layout.layoutAttributes,K=0;K<re.length;K++){var te=re[K],oe=ae.traces[te.type],ue=oe.layoutAttributes;ue&&C.extendFlat(te.subplot?Q[oe.attributes.subplot.dflt]:Q,ue)}return Q}(_,M),x,"layout"),0===x.length?void 0:x};var o={object:function(f,w){return("layout"===f&&""===w?"The layout argument":"data"===f[0]&&""===w?"Trace "+f[1]+" in the data argument":r(f)+"key "+w)+" must be linked to an object container"},array:function(f,w){return("data"===f?"The data argument":r(f)+"key "+w)+" must be linked to an array container"},schema:function(f,w){return r(f)+"key "+w+" is not part of the schema"},unused:function(f,w,v){var h=T(v)?"container":"key";return r(f)+h+" "+w+" did not get coerced"},dynamic:function(f,w,v,h){return[r(f)+"key",w,"(set to '"+v+"')","got reset to","'"+h+"'","during defaults."].join(" ")},invisible:function(f,w){return(w?r(f)+"item "+w:"Trace "+f[1])+" got defaulted to be not visible"},value:function(f,w,v){return[r(f)+"key "+w,"is set to an invalid value ("+v+")"].join(" ")}};function r(f){return m(f)?"In data trace "+f[1]+", ":"In "+f+", "}function n(f,w,v,h,_){var x,b;v=v||"",m(w)?(x=w[0],b=w[1]):(x=w,b=null);var M=function(E){if(!m(E))return String(E);for(var k="",I=0;I<E.length;I++){var L=E[I];"number"==typeof L?k=k.substr(0,k.length-1)+"["+L+"]":k+=L,I<E.length-1&&(k+=".")}return k}(v),d=o[f](w,M,h,_);return C.log(d),{code:f,container:x,trace:b,path:v,astr:M,msg:d}}function a(f,w){var v=p(w),h=v.keyMinusId;return!!(h in f&&f[h]._isSubplotObj&&v.id)||w in f}function s(f,w){return w in f?f[w]:f[p(w).keyMinusId]}var c=C.counterRegex("([a-z]+)");function p(f){var w=f.match(c);return{keyMinusId:w&&w[1],id:w&&w[2]}}},85594:function(ie){"use strict";ie.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(ie,B,e){"use strict";var C=e(71828),S=e(44467);ie.exports=function(u,A,T){var m,l,t=T.name,o=T.inclusionAttr||"visible",r=A[t],n=C.isArrayOrTypedArray(u[t])?u[t]:[],a=A[t]=[],s=S.arrayTemplater(A,t,o);for(m=0;m<n.length;m++){var c=n[m];C.isPlainObject(c)?l=s.newItem(c):(l=s.newItem({}))[o]=!1,l._index=m,!1!==l[o]&&T.handleItemDefaults(c,l,A,T),a.push(l)}var p=s.defaultItems();for(m=0;m<p.length;m++)(l=p[m])._index=a.length,T.handleItemDefaults({},l,A,T,{}),a.push(l);if(C.isArrayOrTypedArray(r)){var f=Math.min(r.length,a.length);for(m=0;m<f;m++)C.relinkPrivateKeys(a[m],r[m])}return a}},9012:function(ie,B,e){"use strict";var C=e(41940),S=e(77914);ie.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:C({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:S.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=S.dateTime2ms,A=S.incrementMonth,T=e(50606).ONEAVGMONTH;ie.exports=function(m,l,t,o){if("date"!==l.type)return{vals:o};var r=m[t+"periodalignment"];if(!r)return{vals:o};var n,a=m[t+"period"];if(C(a)){if((a=+a)<=0)return{vals:o}}else if("string"==typeof a&&"M"===a.charAt(0)){var s=+a.substring(1);if(!(s>0&&Math.round(s)===s))return{vals:o};n=s}for(var c=l.calendar,p="start"===r,f="end"===r,v=u(m[t+"period0"],c)||0,h=[],_=[],x=[],b=o.length,M=0;M<b;M++){var d,E,k,I=o[M];if(n){for(d=Math.round((I-v)/(n*T)),k=A(v,n*d,c);k>I;)k=A(k,-n,c);for(;k<=I;)k=A(k,n,c);E=A(k,-n,c)}else{for(k=v+(d=Math.round((I-v)/a))*a;k>I;)k-=a;for(;k<=I;)k+=a;E=k-a}h[M]=p?E:f?k:(E+k)/2,_[M]=E,x[M]=k}return{vals:h,starts:_,ends:x}}},89502:function(ie){"use strict";ie.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(ie,B,e){"use strict";var C=e(39898),S=e(92770),u=e(71828),A=e(50606).FP_SAFE,T=e(73972),m=e(91424),l=e(41675),t=l.getFromId,o=l.isLinked;function r(x,b){var M,d,E=[],k=x._fullLayout,I=a(k,b,0),L=a(k,b,1),P=c(x,b),R=P.min,z=P.max;if(0===R.length||0===z.length)return u.simpleMap(b.range,b.r2l);var $=R[0].val,N=z[0].val;for(M=1;M<R.length&&$===N;M++)$=Math.min($,R[M].val);for(M=1;M<z.length&&$===N;M++)N=Math.max(N,z[M].val);var W=!1;if(b.range){var H=u.simpleMap(b.range,b.r2l);W=H[1]<H[0]}"reversed"===b.autorange&&(W=!0,b.autorange=!0);var U,Z,Y,ae,re,Q,K=b.rangemode,te="tozero"===K,oe="nonnegative"===K,ue=b._length,fe=ue/10,he=0;for(M=0;M<R.length;M++)for(U=R[M],d=0;d<z.length;d++)(Q=(Z=z[d]).val-U.val-n(b,U.val,Z.val))>0&&((re=ue-I(U)-L(Z))>fe?Q/re>he&&(Y=U,ae=Z,he=Q/re):Q/ue>he&&(Y={val:U.val,nopad:1},ae={val:Z.val,nopad:1},he=Q/ue));if($===N){var me=$-1,ke=$+1;if(te)if(0===$)E=[0,1];else{var Pe=($>0?z:R).reduce(function(be,xe){return Math.max(be,L(xe))},0),Te=$/(1-Math.min(.5,Pe/ue));E=$>0?[0,Te]:[Te,0]}else E=oe?[Math.max(0,me),Math.max(1,ke)]:[me,ke]}else te?(Y.val>=0&&(Y={val:0,nopad:1}),ae.val<=0&&(ae={val:0,nopad:1})):oe&&(Y.val-he*I(Y)<0&&(Y={val:0,nopad:1}),ae.val<=0&&(ae={val:1,nopad:1})),he=(ae.val-Y.val-n(b,U.val,Z.val))/(ue-I(Y)-L(ae)),E=[Y.val-he*I(Y),ae.val+he*L(ae)];return W&&E.reverse(),u.simpleMap(E,b.l2r||Number)}function n(x,b,M){var d=0;if(x.rangebreaks)for(var E=x.locateBreaks(b,M),k=0;k<E.length;k++){var I=E[k];d+=I.max-I.min}return d}function a(x,b,M){var d=.05*b._length,E=b._anchorAxis||{};if(-1!==(b.ticklabelposition||"").indexOf("inside")||-1!==(E.ticklabelposition||"").indexOf("inside")){var k="reversed"===b.autorange;if(!k){var I=u.simpleMap(b.range,b.r2l);k=I[1]<I[0]}k&&(M=!M)}var L=0;return o(x,b._id)||(L=function(P,R,z){var $=0,N="x"===R._id.charAt(0);for(var W in P._plots){var H=P._plots[W];if(R._id===H.xaxis._id||R._id===H.yaxis._id){var U=(N?H.yaxis:H.xaxis)||{};if(-1!==(U.ticklabelposition||"").indexOf("inside")&&(!z&&("left"===U.side||"bottom"===U.side)||z&&("top"===U.side||"right"===U.side))){if(U._vals){var Z=u.deg2rad(U._tickAngles[U._id+"tick"]||0),Y=Math.abs(Math.cos(Z)),ae=Math.abs(Math.sin(Z));U._vals[0].bb||U._selections[U._id+"tick"].each(function(ue){var fe=C.select(this);fe.select(".text-math-group").empty()&&(ue.bb=m.bBox(fe.node()))});for(var Q=0;Q<U._vals.length;Q++){var K=U._vals[Q].bb;if(K){var te=2*s+K.width,oe=2*s+K.height;$=Math.max($,N?Math.max(te*Y,oe*ae):Math.max(oe*Y,te*ae))}}}"inside"===U.ticks&&"inside"===U.ticklabelposition&&($+=U.ticklen||0)}}}return $}(x,b,M)),d=Math.max(L,d),"domain"===b.constrain&&b._inputDomain&&(d*=(b._inputDomain[1]-b._inputDomain[0])/(b.domain[1]-b.domain[0])),function(P){return P.nopad?0:P.pad+(P.extrapad?d:L)}}ie.exports={getAutoRange:r,makePadFn:a,doAutoRange:function(x,b,M){if(b.setScale(),b.autorange){b.range=M?M.slice():r(x,b),b._r=b.range.slice(),b._rl=u.simpleMap(b._r,b.r2l);var d=b._input,E={};E[b._attr+".range"]=b.range,E[b._attr+".autorange"]=b.autorange,T.call("_storeDirectGUIEdit",x.layout,x._fullLayout._preGUI,E),d.range=b.range.slice(),d.autorange=b.autorange}var k=b._anchorAxis;if(k&&k.rangeslider){var I=k.rangeslider[b._name];I&&"auto"===I.rangemode&&(I.range=r(x,b)),k._input.rangeslider[b._name]=u.extendFlat({},I)}},findExtremes:function(x,b,M){M||(M={}),x._m||x.setScale();var d,E,k,I,L,P,R,z,$,N=[],W=[],H=b.length,U=M.padded||!1,Z=M.tozero&&("linear"===x.type||"-"===x.type),Y="log"===x.type,ae=!1,re=M.vpadLinearized||!1;function Q(ke){if(Array.isArray(ke))return ae=!0,function(Te){return Math.max(Number(ke[Te]||0),0)};var Pe=Math.max(Number(ke||0),0);return function(){return Pe}}var K=Q((x._m>0?M.ppadplus:M.ppadminus)||M.ppad||0),te=Q((x._m>0?M.ppadminus:M.ppadplus)||M.ppad||0),oe=Q(M.vpadplus||M.vpad),ue=Q(M.vpadminus||M.vpad);if(!ae){if(z=1/0,$=-1/0,Y)for(d=0;d<H;d++)(E=b[d])<z&&E>0&&(z=E),E>$&&E<A&&($=E);else for(d=0;d<H;d++)(E=b[d])<z&&E>-A&&(z=E),E>$&&E<A&&($=E);b=[z,$],H=2}var fe={tozero:Z,extrapad:U};function he(ke){S(k=b[ke])&&(P=K(ke),R=te(ke),re?(I=x.c2l(k)-ue(ke),L=x.c2l(k)+oe(ke)):(z=k-ue(ke),$=k+oe(ke),Y&&z<$/10&&(z=$/10),I=x.c2l(z),L=x.c2l($)),Z&&(I=Math.min(0,I),L=Math.max(0,L)),v(I)&&p(N,I,R,fe),v(L)&&f(W,L,P,fe))}var me=Math.min(6,H);for(d=0;d<me;d++)he(d);for(d=H-1;d>=me;d--)he(d);return{min:N,max:W,opts:M}},concatExtremes:c};var s=3;function c(x,b,M){var d,E,k,I=b._id,P=x._fullLayout,R=[],z=[];function $(Z,Y){for(d=0;d<Y.length;d++){var ae=Z[Y[d]],re=(ae._extremes||{})[I];if(!0===ae.visible&&re){for(E=0;E<re.min.length;E++)p(R,(k=re.min[E]).val,k.pad,{extrapad:k.extrapad});for(E=0;E<re.max.length;E++)f(z,(k=re.max[E]).val,k.pad,{extrapad:k.extrapad})}}}if($(x._fullData,b._traceIndices),$(P.annotations||[],b._annIndices||[]),$(P.shapes||[],b._shapeIndices||[]),b._matchGroup&&!M)for(var N in b._matchGroup)if(N!==b._id){var W=t(x,N),H=c(x,W,!0),U=b._length/W._length;for(E=0;E<H.min.length;E++)p(R,(k=H.min[E]).val,k.pad*U,{extrapad:k.extrapad});for(E=0;E<H.max.length;E++)f(z,(k=H.max[E]).val,k.pad*U,{extrapad:k.extrapad})}return{min:R,max:z}}function p(x,b,M,d){w(x,b,M,d,h)}function f(x,b,M,d){w(x,b,M,d,_)}function w(x,b,M,d,E){for(var k=d.tozero,I=d.extrapad,L=!0,P=0;P<x.length&&L;P++){var R=x[P];if(E(R.val,b)&&R.pad>=M&&(R.extrapad||!I)){L=!1;break}E(b,R.val)&&R.pad<=M&&(I||!R.extrapad)&&(x.splice(P,1),P--)}if(L){var z=k&&0===b;x.push({val:b,pad:z?0:M,extrapad:!z&&I})}}function v(x){return S(x)&&Math.abs(x)<A}function h(x,b){return x<=b}function _(x,b){return x>=b}},89298:function(ie,B,e){"use strict";var C=e(39898),S=e(92770),u=e(74875),A=e(73972),T=e(71828),m=T.strTranslate,l=e(63893),t=e(92998),o=e(7901),r=e(91424),n=e(13838),a=e(66287),s=e(50606),c=s.ONEMAXYEAR,p=s.ONEAVGYEAR,f=s.ONEMINYEAR,w=s.ONEMAXQUARTER,v=s.ONEAVGQUARTER,h=s.ONEMINQUARTER,_=s.ONEMAXMONTH,x=s.ONEAVGMONTH,b=s.ONEMINMONTH,M=s.ONEWEEK,d=s.ONEDAY,E=d/2,k=s.ONEHOUR,I=s.ONEMIN,L=s.ONESEC,P=s.MINUS_SIGN,R=s.BADNUM,z={K:"zeroline"},$={K:"gridline",L:"path"},N={K:"minor-gridline",L:"path"},W={K:"tick",L:"path"},H={K:"tick",L:"text"},U={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},Z=e(18783),Y=Z.MID_SHIFT,ae=Z.CAP_SHIFT,re=Z.LINE_SPACING,Q=Z.OPPOSITE_SIDE,K=ie.exports={};K.setConvert=e(21994);var te=e(4322),oe=e(41675),ue=oe.idSort,fe=oe.isLinked;K.id2name=oe.id2name,K.name2id=oe.name2id,K.cleanId=oe.cleanId,K.list=oe.list,K.listIds=oe.listIds,K.getFromId=oe.getFromId,K.getFromTrace=oe.getFromTrace;var he=e(71739);K.getAutoRange=he.getAutoRange,K.findExtremes=he.findExtremes;var me=1e-4;function ke(je){var Ve=(je[1]-je[0])*me;return[je[0]-Ve,je[1]+Ve]}K.coerceRef=function(je,Ve,ut,ct,Tt,Mt){var At=ct.charAt(ct.length-1),bt=ut._fullLayout._subplots[At+"axis"],Rt=ct+"ref",xt={};return Tt||(Tt=bt[0]||("string"==typeof Mt?Mt:Mt[0])),Mt||(Mt=Tt),bt=bt.concat(bt.map(function(_t){return _t+" domain"})),xt[Rt]={valType:"enumerated",values:bt.concat(Mt?"string"==typeof Mt?[Mt]:Mt:[]),dflt:Tt},T.coerce(je,Ve,xt,Rt)},K.getRefType=function(je){return void 0===je?je:"paper"===je?"paper":"pixel"===je?"pixel":/( domain)$/.test(je)?"domain":"range"},K.coercePosition=function(je,Ve,ut,ct,Tt,Mt){var At,bt;if("range"!==K.getRefType(ct))At=T.ensureNumber,bt=ut(Tt,Mt);else{var Rt=K.getFromId(Ve,ct);bt=ut(Tt,Mt=Rt.fraction2r(Mt)),At=Rt.cleanPos}je[Tt]=At(bt)},K.cleanPosition=function(je,Ve,ut){return("paper"===ut||"pixel"===ut?T.ensureNumber:K.getFromId(Ve,ut).cleanPos)(je)},K.redrawComponents=function(je,Ve){Ve=Ve||K.listIds(je);var ut=je._fullLayout;function ct(Tt,Mt,At,bt){for(var Rt=A.getComponentMethod(Tt,Mt),xt={},_t=0;_t<Ve.length;_t++)for(var It=ut[K.id2name(Ve[_t])][At],Gt=0;Gt<It.length;Gt++){var Wt=It[Gt];if(!xt[Wt]&&(Rt(je,Wt),xt[Wt]=1,bt))return}}ct("annotations","drawOne","_annIndices"),ct("shapes","drawOne","_shapeIndices"),ct("images","draw","_imgIndices",!0),ct("selections","drawOne","_selectionIndices")};var Pe=K.getDataConversions=function(je,Ve,ut,ct){var Tt,Mt="x"===ut||"y"===ut||"z"===ut?ut:ct;if(Array.isArray(Mt)){if(Tt={type:te(ct,void 0,{autotypenumbers:je._fullLayout.autotypenumbers}),_categories:[]},K.setConvert(Tt),"category"===Tt.type)for(var At=0;At<ct.length;At++)Tt.d2c(ct[At])}else Tt=K.getFromTrace(je,Ve,Mt);return Tt?{d2c:Tt.d2c,c2d:Tt.c2d}:"ids"===Mt?{d2c:be,c2d:be}:{d2c:Te,c2d:Te}};function Te(je){return+je}function be(je){return String(je)}function xe(je,Ve){return Math.abs((je/Ve+.5)%1-.5)<.001}function Ne(je,Ve){return Math.abs(je/Ve-1)<.001}function Se(je){return+je.substring(1)}function Ce(je,Ve){return je.rangebreaks&&(Ve=Ve.filter(function(ut){return je.maskBreaks(ut.x)!==R})),Ve}function pe(je){var Ve=je._mainAxis,ut=[];if(Ve._vals)for(var ct=0;ct<Ve._vals.length;ct++)if(!Ve._vals[ct].noTick){var Tt=Ve.l2p(Ve._vals[ct].x),Mt=je.p2l(Tt),At=K.tickText(je,Mt);Ve._vals[ct].minor&&(At.minor=!0,At.text=""),ut.push(At)}return Ce(je,ut)}function de(je){var Ve=ke(T.simpleMap(je.range,je.r2l)),ut=Math.min(Ve[0],Ve[1]),ct=Math.max(Ve[0],Ve[1]),Tt="category"===je.type?je.d2l_noadd:je.d2l;"log"===je.type&&"L"!==String(je.dtick).charAt(0)&&(je.dtick="L"+Math.pow(10,Math.floor(Math.min(je.range[0],je.range[1]))-1));for(var Mt=[],At=0;At<=1;At++)if(!At||je.minor){var bt=At?je.minor.tickvals:je.tickvals,Rt=At?[]:je.ticktext;if(bt){Array.isArray(Rt)||(Rt=[]);for(var xt=0;xt<bt.length;xt++){var _t=Tt(bt[xt]);if(_t>ut&&_t<ct){var It=void 0===Rt[xt]?K.tickText(je,_t):ze(je,_t,String(Rt[xt]));At&&(It.minor=!0,It.text=""),Mt.push(It)}}}}return Ce(je,Mt)}K.getDataToCoordFunc=function(je,Ve,ut,ct){return Pe(je,Ve,ut,ct).d2c},K.counterLetter=function(je){var Ve=je.charAt(0);return"x"===Ve?"y":"y"===Ve?"x":void 0},K.minDtick=function(je,Ve,ut,ct){-1===["log","category","multicategory"].indexOf(je.type)&&ct?void 0===je._minDtick?(je._minDtick=Ve,je._forceTick0=ut):je._minDtick&&((je._minDtick/Ve+1e-6)%1<2e-6&&((ut-je._forceTick0)/Ve%1+1.000001)%1<2e-6?(je._minDtick=Ve,je._forceTick0=ut):((Ve/je._minDtick+1e-6)%1>2e-6||((ut-je._forceTick0)/je._minDtick%1+1.000001)%1>2e-6)&&(je._minDtick=0)):je._minDtick=0},K.saveRangeInitial=function(je,Ve){for(var ut=K.list(je,"",!0),ct=!1,Tt=0;Tt<ut.length;Tt++){var Mt=ut[Tt],At=void 0===Mt._rangeInitial;(At&&!1===Mt.autorange||Ve&&(At||Mt.range[0]!==Mt._rangeInitial[0]||Mt.range[1]!==Mt._rangeInitial[1]))&&(Mt._rangeInitial=Mt.range.slice(),ct=!0)}return ct},K.saveShowSpikeInitial=function(je,Ve){for(var ut=K.list(je,"",!0),ct=!1,Tt="on",Mt=0;Mt<ut.length;Mt++){var At=ut[Mt],bt=void 0===At._showSpikeInitial;(bt||Ve&&(bt||At.showspikes!==At._showspikes))&&(At._showSpikeInitial=At.showspikes,ct=!0),"on"!==Tt||At.showspikes||(Tt="off")}return je._fullLayout._cartesianSpikesEnabled=Tt,ct},K.autoBin=function(je,Ve,ut,ct,Tt,Mt){var At,bt=T.aggNums(Math.min,null,je),Rt=T.aggNums(Math.max,null,je);if("category"===Ve.type||"multicategory"===Ve.type)return{start:bt-.5,end:Rt+.5,size:Math.max(1,Math.round(Mt)||1),_dataSpan:Rt-bt};if(Tt||(Tt=Ve.calendar),At="log"===Ve.type?{type:"linear",range:[bt,Rt]}:{type:Ve.type,range:T.simpleMap([bt,Rt],Ve.c2r,0,Tt),calendar:Tt},K.setConvert(At),Mt=Mt&&a.dtick(Mt,At.type))At.dtick=Mt,At.tick0=a.tick0(void 0,At.type,Tt);else{var xt;if(ut)xt=(Rt-bt)/ut;else{var _t=T.distinctVals(je),It=Math.pow(10,Math.floor(Math.log(_t.minDiff)/Math.LN10)),Gt=It*T.roundUp(_t.minDiff/It,[.9,1.9,4.9,9.9],!0);xt=Math.max(Gt,2*T.stdev(je)/Math.pow(je.length,ct?.25:.4)),S(xt)||(xt=1)}K.autoTicks(At,xt)}var Wt,Zt=At.dtick,cn=K.tickIncrement(K.tickFirst(At),Zt,"reverse",Tt);if("number"==typeof Zt)Wt=(cn=function(nn,ln,Qt,kn,Pn){var Tn=0,tn=0,gn=0,hn=0;function mn(Hn){return(1+100*(Hn-nn)/Qt.dtick)%100<2}for(var En=0;En<ln.length;En++)ln[En]%1==0?gn++:S(ln[En])||hn++,mn(ln[En])&&Tn++,mn(ln[En]+Qt.dtick/2)&&tn++;var vn=ln.length-hn;if(gn===vn&&"date"!==Qt.type)Qt.dtick<1?nn=kn-.5*Qt.dtick:(nn-=.5)+Qt.dtick<kn&&(nn+=Qt.dtick);else if(tn<.1*vn&&(Tn>.3*vn||mn(kn)||mn(Pn))){var Un=Qt.dtick/2;nn+=nn+Un<kn?Un:-Un}return nn}(cn,je,At,bt,Rt))+(1+Math.floor((Rt-cn)/Zt))*Zt;else for("M"===At.dtick.charAt(0)&&(cn=function(nn,ln,Qt,kn,Pn){var Tn=T.findExactDates(ln,Pn);if(Tn.exactDays>.8){var tn=Number(Qt.substr(1));Tn.exactYears>.8&&tn%12==0?nn=K.tickIncrement(nn,"M6","reverse")+1.5*d:Tn.exactMonths>.8?nn=K.tickIncrement(nn,"M1","reverse")+15.5*d:nn-=E;var gn=K.tickIncrement(nn,Qt);if(gn<=kn)return gn}return nn}(cn,je,Zt,bt,Tt)),Wt=cn;Wt<=Rt;)Wt=K.tickIncrement(Wt,Zt,!1,Tt);return{start:Ve.c2r(cn,0,Tt),end:Ve.c2r(Wt,0,Tt),size:Zt,_dataSpan:Rt-bt}},K.prepMinorTicks=function(je,Ve,ut){if(!Ve.minor.dtick){delete je.dtick;var ct,Tt=Ve.dtick&&S(Ve._tmin);if(Tt){var Mt=K.tickIncrement(Ve._tmin,Ve.dtick,!0);ct=[Ve._tmin,.99*Mt+.01*Ve._tmin]}else{var At=T.simpleMap(Ve.range,Ve.r2l);ct=[At[0],.8*At[0]+.2*At[1]]}if(je.range=T.simpleMap(ct,Ve.l2r),je._isMinor=!0,K.prepTicks(je,ut),Tt){var bt=S(Ve.dtick),Rt=S(je.dtick),xt=bt?Ve.dtick:+Ve.dtick.substring(1),_t=Rt?je.dtick:+je.dtick.substring(1);bt&&Rt?xe(xt,_t)?xt===2*M&&_t===2*d&&(je.dtick=M):je.dtick=xt===2*M&&_t===3*d?M:xt!==M||(Ve._input.minor||{}).nticks?Ne(xt/_t,2.5)?xt/2:xt:d:"M"===String(Ve.dtick).charAt(0)?Rt?je.dtick="M1":xe(xt,_t)?xt>=12&&2===_t&&(je.dtick="M3"):je.dtick=Ve.dtick:"L"===String(je.dtick).charAt(0)?"L"===String(Ve.dtick).charAt(0)?xe(xt,_t)||(je.dtick=Ne(xt/_t,2.5)?Ve.dtick/2:Ve.dtick):je.dtick="D1":"D2"===je.dtick&&+Ve.dtick>1&&(je.dtick=1)}je.range=Ve.range}void 0===Ve.minor._tick0Init&&(je.tick0=Ve.tick0)},K.prepTicks=function(je,Ve){var ut=T.simpleMap(je.range,je.r2l,void 0,void 0,Ve);if("auto"===je.tickmode||!je.dtick){var ct,Tt=je.nticks;Tt||("category"===je.type||"multicategory"===je.type?(ct=je.tickfont?T.bigFont(je.tickfont.size||12):15,Tt=je._length/ct):(ct="y"===je._id.charAt(0)?40:80,Tt=T.constrain(je._length/ct,4,9)+1),"radialaxis"===je._name&&(Tt*=2)),je.minor&&"array"!==je.minor.tickmode||"array"===je.tickmode&&(Tt*=100),je._roughDTick=Math.abs(ut[1]-ut[0])/Tt,K.autoTicks(je,je._roughDTick),je._minDtick>0&&je.dtick<2*je._minDtick&&(je.dtick=je._minDtick,je.tick0=je.l2r(je._forceTick0))}"period"===je.ticklabelmode&&function(Mt){var At;function bt(){return!(S(Mt.dtick)||"M"!==Mt.dtick.charAt(0))}var Rt=bt(),xt=K.getTickFormat(Mt);if(xt){var _t=Mt._dtickInit!==Mt.dtick;/%[fLQsSMX]/.test(xt)||(/%[HI]/.test(xt)?(At=k,_t&&!Rt&&Mt.dtick<k&&(Mt.dtick=k)):/%p/.test(xt)?(At=E,_t&&!Rt&&Mt.dtick<E&&(Mt.dtick=E)):/%[Aadejuwx]/.test(xt)?(At=d,_t&&!Rt&&Mt.dtick<d&&(Mt.dtick=d)):/%[UVW]/.test(xt)?(At=M,_t&&!Rt&&Mt.dtick<M&&(Mt.dtick=M)):/%[Bbm]/.test(xt)?(At=x,_t&&(Rt?Se(Mt.dtick)<1:Mt.dtick<b)&&(Mt.dtick="M1")):/%[q]/.test(xt)?(At=v,_t&&(Rt?Se(Mt.dtick)<3:Mt.dtick<h)&&(Mt.dtick="M3")):/%[Yy]/.test(xt)&&(At=p,_t&&(Rt?Se(Mt.dtick)<12:Mt.dtick<f)&&(Mt.dtick="M12")))}(Rt=bt())&&Mt.tick0===Mt._dowTick0&&(Mt.tick0=Mt._rawTick0),Mt._definedDelta=At}(je),je.tick0||(je.tick0="date"===je.type?"2000-01-01":0),"date"===je.type&&je.dtick<.1&&(je.dtick=.1),De(je)},K.calcTicks=function(je,Ve){for(var ut,ct,Tt=je.type,Mt=je.calendar,At=je.ticklabelstep,bt="period"===je.ticklabelmode,Rt=T.simpleMap(je.range,je.r2l,void 0,void 0,Ve),xt=Rt[1]<Rt[0],_t=Math.min(Rt[0],Rt[1]),It=Math.max(Rt[0],Rt[1]),Gt=Math.max(1e3,je._length||0),Wt=[],Zt=[],cn=[],nn=[],ln=je.minor&&(je.minor.ticks||je.minor.showgrid),Qt=1;Qt>=(ln?0:1);Qt--){var kn=!Qt;Qt?(je._dtickInit=je.dtick,je._tick0Init=je.tick0):(je.minor._dtickInit=je.minor.dtick,je.minor._tick0Init=je.minor.tick0);var Pn=Qt?je:T.extendFlat({},je,je.minor);if(kn?K.prepMinorTicks(Pn,je,Ve):K.prepTicks(Pn,Ve),"array"!==Pn.tickmode)if("sync"!==Pn.tickmode){var Tn=ke(Rt),tn=Tn[0],gn=Tn[1],hn=S(Pn.dtick),mn="log"===Tt&&!(hn||"L"===Pn.dtick.charAt(0)),En=K.tickFirst(Pn,Ve);if(Qt){if(je._tmin=En,En<tn!==xt)break;"category"!==Tt&&"multicategory"!==Tt||(gn=xt?Math.max(-.5,gn):Math.min(je._categories.length-.5,gn))}var vn,Un,Hn=null,On=En;Qt&&(hn?Un=je.dtick:"date"===Tt?"string"==typeof je.dtick&&"M"===je.dtick.charAt(0)&&(Un=x*je.dtick.substring(1)):Un=je._roughDTick,vn=Math.round((je.r2l(On)-je.r2l(je.tick0))/Un)-1);var Wn=Pn.dtick;for(Pn.rangebreaks&&Pn._tick0Init!==Pn.tick0&&(On=Xe(On,je),xt||(On=K.tickIncrement(On,Wn,!xt,Mt))),Qt&&bt&&(On=K.tickIncrement(On,Wn,!xt,Mt),vn--);xt?On>=gn:On<=gn;On=K.tickIncrement(On,Wn,xt,Mt)){if(Qt&&vn++,Pn.rangebreaks&&!xt){if(On<tn)continue;if(Pn.maskBreaks(On)===R&&Xe(On,Pn)>=It)break}if(cn.length>Gt||On===Hn)break;Hn=On;var pr={value:On};Qt?(mn&&On!==(0|On)&&(pr.simpleLabel=!0),At>1&&vn%At&&(pr.skipLabel=!0),cn.push(pr)):(pr.minor=!0,nn.push(pr))}}else cn=[],Wt=pe(je);else Qt?(cn=[],Wt=de(je)):(nn=[],Zt=de(je))}if(ln&&!("inside"===je.minor.ticks&&"outside"===je.ticks||"outside"===je.minor.ticks&&"inside"===je.ticks)){for(var ar=cn.map(function(Ft){return Ft.value}),Ar=[],hr=0;hr<nn.length;hr++){var fr=nn[hr],Rr=fr.value;if(-1===ar.indexOf(Rr)){for(var Xt=!1,rn=0;!Xt&&rn<cn.length;rn++)1e7+cn[rn].value===1e7+Rr&&(Xt=!0);Xt||Ar.push(fr)}}nn=Ar}if(bt&&function(Ft,on,fn){for(var Sn=0;Sn<Ft.length;Sn++){var Ln=Ft[Sn].value,jn=Sn,bn=Sn+1;Sn<Ft.length-1?(jn=Sn,bn=Sn+1):Sn>0?(jn=Sn-1,bn=Sn):(jn=Sn,bn=Sn);var sn,_n=Math.abs(Ft[bn].value-Ft[jn].value),Vn=fn||_n,Gn=0;Vn>=f?Gn=_n>=f&&_n<=c?_n:p:fn===v&&Vn>=h?Gn=_n>=h&&_n<=w?_n:v:Vn>=b?Gn=_n>=b&&_n<=_?_n:x:fn===M&&Vn>=M?Gn=M:Vn>=d?Gn=d:fn===E&&Vn>=E?Gn=E:fn===k&&Vn>=k&&(Gn=k),Gn>=_n&&(Gn=_n,sn=!0);var rr=Ln+Gn;if(on.rangebreaks&&Gn>0){for(var Jn=0,mr=0;mr<84;mr++){var er=(mr+.5)/84;on.maskBreaks(Ln*(1-er)+er*rr)!==R&&Jn++}(Gn*=Jn/84)||(Ft[Sn].drop=!0),sn&&_n>M&&(Gn=_n)}(Gn>0||0===Sn)&&(Ft[Sn].periodX=Ln+Gn/2)}}(cn,je,je._definedDelta),je.rangebreaks){var wn="y"===je._id.charAt(0),Cn=1;"auto"===je.tickmode&&(Cn=je.tickfont?je.tickfont.size:12);var Bn=NaN;for(ut=cn.length-1;ut>-1;ut--)if(cn[ut].drop)cn.splice(ut,1);else{cn[ut].value=Xe(cn[ut].value,je);var or=je.c2p(cn[ut].value);(wn?Bn>or-Cn:Bn<or+Cn)?cn.splice(xt?ut+1:ut,1):Bn=or}}it(je)&&360===Math.abs(Rt[1]-Rt[0])&&cn.pop(),je._tmax=(cn[cn.length-1]||{}).value,je._prevDateHead="",je._inCalcTicks=!0;var An,$n,Xn=function(Ft){Ft.text="",je._prevDateHead=ct};for(cn=cn.concat(nn),ut=0;ut<cn.length;ut++){var Rn=cn[ut].value;cn[ut].minor?Zt.push({x:Rn,minor:!0}):(ct=je._prevDateHead,An=K.tickText(je,Rn,!1,cn[ut].simpleLabel),void 0!==($n=cn[ut].periodX)&&(An.periodX=$n,($n>It||$n<_t)&&($n>It&&(An.periodX=It),$n<_t&&(An.periodX=_t),Xn(An))),cn[ut].skipLabel&&Xn(An),Wt.push(An))}return Wt=Wt.concat(Zt),je._inCalcTicks=!1,bt&&Wt.length&&(Wt[0].noTick=!0),Wt};var se=[2,5,10],we=[1,2,3,6,12],Re=[1,2,5,10,15,30],Ee=[1,2,3,7,14],Ue=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],$e=[-.301,0,.301,.699,1],ve=[15,30,45,90,180];function Ie(je,Ve,ut){return Ve*T.roundUp(je/Ve,ut)}function De(je){var Ve=je.dtick;if(je._tickexponent=0,S(Ve)||"string"==typeof Ve||(Ve=1),"category"!==je.type&&"multicategory"!==je.type||(je._tickround=null),"date"===je.type){var ut=je.r2l(je.tick0),ct=je.l2r(ut).replace(/(^-|i)/g,""),Tt=ct.length;if("M"===String(Ve).charAt(0))je._tickround=Tt>10||"01-01"!==ct.substr(5)?"d":+Ve.substr(1)%12==0?"y":"m";else if(Ve>=d&&Tt<=10||Ve>=15*d)je._tickround="d";else if(Ve>=I&&Tt<=16||Ve>=k)je._tickround="M";else if(Ve>=L&&Tt<=19||Ve>=I)je._tickround="S";else{var Mt=je.l2r(ut+Ve).replace(/^-/,"").length;je._tickround=Math.max(Tt,Mt)-20,je._tickround<0&&(je._tickround=4)}}else if(S(Ve)||"L"===Ve.charAt(0)){var At=je.range.map(je.r2d||Number);S(Ve)||(Ve=Number(Ve.substr(1))),je._tickround=2-Math.floor(Math.log(Ve)/Math.LN10+.01);var bt=Math.max(Math.abs(At[0]),Math.abs(At[1])),Rt=Math.floor(Math.log(bt)/Math.LN10+.01),xt=void 0===je.minexponent?3:je.minexponent;Math.abs(Rt)>xt&&(je._tickexponent=He(je.exponentformat)&&!Ke(Rt)?3*Math.round((Rt-1)/3):Rt)}else je._tickround=null}function ze(je,Ve,ut){var ct=je.tickfont||{};return{x:Ve,dx:0,dy:0,text:ut||"",fontSize:ct.size,font:ct.family,fontColor:ct.color}}K.autoTicks=function(je,Ve,ut){var ct;function Tt(It){return Math.pow(It,Math.floor(Math.log(Ve)/Math.LN10))}if("date"===je.type){je.tick0=T.dateTick0(je.calendar,0);var Mt=2*Ve;if(Mt>p)Ve/=p,ct=Tt(10),je.dtick="M"+12*Ie(Ve,ct,se);else if(Mt>x)je.dtick="M"+Ie(Ve/=x,1,we);else if(Mt>d){if(je.dtick=Ie(Ve,d,je._hasDayOfWeekBreaks?[1,2,7,14]:Ee),!ut){var At=K.getTickFormat(je),bt="period"===je.ticklabelmode;bt&&(je._rawTick0=je.tick0),je.tick0=/%[uVW]/.test(At)?T.dateTick0(je.calendar,2):T.dateTick0(je.calendar,1),bt&&(je._dowTick0=je.tick0)}}else Mt>k?je.dtick=Ie(Ve,k,we):Mt>I?je.dtick=Ie(Ve,I,Re):Mt>L?je.dtick=Ie(Ve,L,Re):(ct=Tt(10),je.dtick=Ie(Ve,ct,se))}else if("log"===je.type){je.tick0=0;var Rt=T.simpleMap(je.range,je.r2l);if(je._isMinor&&(Ve*=1.5),Ve>.7)je.dtick=Math.ceil(Ve);else if(Math.abs(Rt[1]-Rt[0])<1){var xt=1.5*Math.abs((Rt[1]-Rt[0])/Ve);Ve=Math.abs(Math.pow(10,Rt[1])-Math.pow(10,Rt[0]))/xt,ct=Tt(10),je.dtick="L"+Ie(Ve,ct,se)}else je.dtick=Ve>.3?"D2":"D1"}else"category"===je.type||"multicategory"===je.type?(je.tick0=0,je.dtick=Math.ceil(Math.max(Ve,1))):it(je)?(je.tick0=0,je.dtick=Ie(Ve,ct=1,ve)):(je.tick0=0,ct=Tt(10),je.dtick=Ie(Ve,ct,se));if(0===je.dtick&&(je.dtick=1),!S(je.dtick)&&"string"!=typeof je.dtick){var _t=je.dtick;throw je.dtick=1,"ax.dtick error: "+String(_t)}},K.tickIncrement=function(je,Ve,ut,ct){var Tt=ut?-1:1;if(S(Ve))return T.increment(je,Tt*Ve);var Mt=Ve.charAt(0),At=Tt*Number(Ve.substr(1));if("M"===Mt)return T.incrementMonth(je,At,ct);if("L"===Mt)return Math.log(Math.pow(10,je)+At)/Math.LN10;if("D"===Mt){var bt="D2"===Ve?$e:Ue,Rt=je+.01*Tt,xt=T.roundUp(T.mod(Rt,1),bt,ut);return Math.floor(Rt)+Math.log(C.round(Math.pow(10,xt),1))/Math.LN10}throw"unrecognized dtick "+String(Ve)},K.tickFirst=function(je,Ve){var ut=je.r2l||Number,ct=T.simpleMap(je.range,ut,void 0,void 0,Ve),Tt=ct[1]<ct[0],Mt=Tt?Math.floor:Math.ceil,At=ke(ct)[0],bt=je.dtick,Rt=ut(je.tick0);if(S(bt)){var xt=Mt((At-Rt)/bt)*bt+Rt;return"category"!==je.type&&"multicategory"!==je.type||(xt=T.constrain(xt,0,je._categories.length-1)),xt}var _t=bt.charAt(0),It=Number(bt.substr(1));if("M"===_t){for(var Gt,Wt,Zt,cn=0,nn=Rt;cn<10;){if(((Gt=K.tickIncrement(nn,bt,Tt,je.calendar))-At)*(nn-At)<=0)return Tt?Math.min(nn,Gt):Math.max(nn,Gt);Wt=(At-(nn+Gt)/2)/(Gt-nn),Zt=_t+(Math.abs(Math.round(Wt))||1)*It,nn=K.tickIncrement(nn,Zt,Wt<0?!Tt:Tt,je.calendar),cn++}return T.error("tickFirst did not converge",je),nn}if("L"===_t)return Math.log(Mt((Math.pow(10,At)-Rt)/It)*It+Rt)/Math.LN10;if("D"===_t){var ln="D2"===bt?$e:Ue,Qt=T.roundUp(T.mod(At,1),ln,Tt);return Math.floor(At)+Math.log(C.round(Math.pow(10,Qt),1))/Math.LN10}throw"unrecognized dtick "+String(bt)},K.tickText=function(je,Ve,ut,ct){var Tt,Mt=ze(je,Ve),At="array"===je.tickmode,bt=ut||At,Rt=je.type,xt="category"===Rt?je.d2l_noadd:je.d2l;if(At&&Array.isArray(je.ticktext)){var _t=T.simpleMap(je.range,je.r2l),It=(Math.abs(_t[1]-_t[0])-(je._lBreaks||0))/1e4;for(Tt=0;Tt<je.ticktext.length&&!(Math.abs(Ve-xt(je.tickvals[Tt]))<It);Tt++);if(Tt<je.ticktext.length)return Mt.text=String(je.ticktext[Tt]),Mt}function Gt(nn){return void 0===nn||(ut?"none"===nn:"all"!==nn&&Ve!=={first:je._tmin,last:je._tmax}[nn])}var ln,Qt,Wt=ut?"never":"none"!==je.exponentformat&&Gt(je.showexponent)?"hide":"";if("date"===Rt?function(nn,ln,Qt,kn){var Pn=nn._tickround,Tn=Qt&&nn.hoverformat||K.getTickFormat(nn);kn&&(Pn=S(Pn)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Pn]);var tn,gn=T.formatDate(ln.x,Tn,Pn,nn._dateFormat,nn.calendar,nn._extraFormat),hn=gn.indexOf("\n");if(-1!==hn&&(tn=gn.substr(hn+1),gn=gn.substr(0,hn)),kn&&("00:00:00"===gn||"00:00"===gn?(gn=tn,tn=""):8===gn.length&&(gn=gn.replace(/:00$/,""))),tn)if(Qt)"d"===Pn?gn+=", "+tn:gn=tn+(gn?", "+gn:"");else if(nn._inCalcTicks&&nn._prevDateHead===tn){var mn=rt(nn),En=nn._trueSide||nn.side;(!mn&&"top"===En||mn&&"bottom"===En)&&(gn+="<br> ")}else nn._prevDateHead=tn,gn+="<br>"+tn;ln.text=gn}(je,Mt,ut,bt):"log"===Rt?function(nn,ln,Qt,kn,Pn){var Tn=nn.dtick,tn=ln.x,gn=nn.tickformat,hn="string"==typeof Tn&&Tn.charAt(0);if("never"===Pn&&(Pn=""),kn&&"L"!==hn&&(Tn="L3",hn="L"),gn||"L"===hn)ln.text=et(Math.pow(10,tn),nn,Pn,kn);else if(S(Tn)||"D"===hn&&T.mod(tn+.01,1)<.1){var mn=Math.round(tn),En=Math.abs(mn),vn=nn.exponentformat;"power"===vn||He(vn)&&Ke(mn)?(ln.text=0===mn?1:1===mn?"10":"10<sup>"+(mn>1?"":P)+En+"</sup>",ln.fontSize*=1.25):("e"===vn||"E"===vn)&&En>2?ln.text="1"+vn+(mn>0?"+":P)+En:(ln.text=et(Math.pow(10,tn),nn,"","fakehover"),"D1"===Tn&&"y"===nn._id.charAt(0)&&(ln.dy-=ln.fontSize/6))}else{if("D"!==hn)throw"unrecognized dtick "+String(Tn);ln.text=String(Math.round(Math.pow(10,T.mod(tn,1)))),ln.fontSize*=.75}if("D1"===nn.dtick){var Un=String(ln.text).charAt(0);"0"!==Un&&"1"!==Un||("y"===nn._id.charAt(0)?ln.dx-=ln.fontSize/4:(ln.dy+=ln.fontSize/2,ln.dx+=(nn.range[1]>nn.range[0]?1:-1)*ln.fontSize*(tn<0?.5:.25)))}}(je,Mt,0,bt,Wt):"category"===Rt?(ln=Mt,void 0===(Qt=je._categories[Math.round(ln.x)])&&(Qt=""),ln.text=String(Qt)):"multicategory"===Rt?function(nn,ln,Qt){var kn=Math.round(ln.x),Pn=nn._categories[kn]||[],Tn=void 0===Pn[1]?"":String(Pn[1]),tn=void 0===Pn[0]?"":String(Pn[0]);Qt?ln.text=tn+" - "+Tn:(ln.text=Tn,ln.text2=tn)}(je,Mt,ut):it(je)?function(nn,ln,Qt,kn,Pn){if("radians"!==nn.thetaunit||Qt)ln.text=et(ln.x,nn,Pn,kn);else{var Tn=ln.x/180;if(0===Tn)ln.text="0";else{var tn=function(hn){function mn(Hn,On){return Math.abs(Hn-On)<=1e-6}var En=function(Hn){for(var On=1;!mn(Math.round(Hn*On)/On,Hn);)On*=10;return On}(hn),vn=hn*En,Un=Math.abs(function Hn(On,Wn){return mn(Wn,0)?On:Hn(Wn,On%Wn)}(vn,En));return[Math.round(vn/Un),Math.round(En/Un)]}(Tn);if(tn[1]>=100)ln.text=et(T.deg2rad(ln.x),nn,Pn,kn);else{var gn=ln.x<0;ln.text=1===tn[1]?1===tn[0]?"\u03c0":tn[0]+"\u03c0":["<sup>",tn[0],"</sup>","\u2044","<sub>",tn[1],"</sub>","\u03c0"].join(""),gn&&(ln.text=P+ln.text)}}}}(je,Mt,ut,bt,Wt):function(nn,ln,Qt,kn,Pn){"never"===Pn?Pn="":"all"===nn.showexponent&&Math.abs(ln.x/nn.dtick)<1e-6&&(Pn="hide"),ln.text=et(ln.x,nn,Pn,kn)}(je,Mt,0,bt,Wt),ct||(je.tickprefix&&!Gt(je.showtickprefix)&&(Mt.text=je.tickprefix+Mt.text),je.ticksuffix&&!Gt(je.showticksuffix)&&(Mt.text+=je.ticksuffix)),je.labelalias&&je.labelalias.hasOwnProperty(Mt.text)){var Zt=je.labelalias[Mt.text];"string"==typeof Zt&&(Mt.text=Zt)}if("boundaries"===je.tickson||je.showdividers){var cn=function(nn){var ln=je.l2p(nn);return ln>=0&&ln<=je._length?nn:null};Mt.xbnd=[cn(Mt.x-.5),cn(Mt.x+je.dtick-.5)]}return Mt},K.hoverLabelText=function(je,Ve,ut){ut&&(je=T.extendFlat({},je,{hoverformat:ut}));var ct=Array.isArray(Ve)?Ve[0]:Ve,Tt=Array.isArray(Ve)?Ve[1]:void 0;if(void 0!==Tt&&Tt!==ct)return K.hoverLabelText(je,ct,ut)+" - "+K.hoverLabelText(je,Tt,ut);var Mt="log"===je.type&&ct<=0,At=K.tickText(je,je.c2l(Mt?-ct:ct),"hover").text;return Mt?0===ct?"0":P+At:At};var Ge=["f","p","n","\u03bc","m","","k","M","G","T"];function He(je){return"SI"===je||"B"===je}function Ke(je){return je>14||je<-15}function et(je,Ve,ut,ct){var Tt=je<0,Mt=Ve._tickround,At=ut||Ve.exponentformat||"B",bt=Ve._tickexponent,Rt=K.getTickFormat(Ve),xt=Ve.separatethousands;if(ct){var _t={exponentformat:At,minexponent:Ve.minexponent,dtick:"none"===Ve.showexponent?Ve.dtick:S(je)&&Math.abs(je)||1,range:"none"===Ve.showexponent?Ve.range.map(Ve.r2d):[0,je||1]};De(_t),Mt=(Number(_t._tickround)||0)+4,bt=_t._tickexponent,Ve.hoverformat&&(Rt=Ve.hoverformat)}if(Rt)return Ve._numFormat(Rt)(je).replace(/-/g,P);var It,Gt=Math.pow(10,-Mt)/2;if("none"===At&&(bt=0),(je=Math.abs(je))<Gt)je="0",Tt=!1;else{if(je+=Gt,bt&&(je*=Math.pow(10,-bt),Mt+=bt),0===Mt)je=String(Math.floor(je));else if(Mt<0){je=(je=String(Math.round(je))).substr(0,je.length+Mt);for(var Wt=Mt;Wt<0;Wt++)je+="0"}else{var Zt=(je=String(je)).indexOf(".")+1;Zt&&(je=je.substr(0,Zt+Mt).replace(/\.?0+$/,""))}je=T.numSeparate(je,Ve._separators,xt)}return bt&&"hide"!==At&&(He(At)&&Ke(bt)&&(At="power"),It=bt<0?P+-bt:"power"!==At?"+"+bt:String(bt),"e"===At||"E"===At?je+=At+It:"power"===At?je+="\xd710<sup>"+It+"</sup>":"B"===At&&9===bt?je+="B":He(At)&&(je+=Ge[bt/3+5])),Tt?P+je:je}function st(je,Ve){if(je){var ut=Object.keys(U).reduce(function(ct,Tt){return-1!==Ve.indexOf(Tt)&&U[Tt].forEach(function(Mt){ct[Mt]=1}),ct},{});Object.keys(je).forEach(function(ct){ut[ct]||(1===ct.length?je[ct]=0:delete je[ct])})}}function mt(je,Ve){for(var ut=[],ct={},Tt=0;Tt<Ve.length;Tt++){var Mt=Ve[Tt];ct[Mt.text2]?ct[Mt.text2].push(Mt.x):ct[Mt.text2]=[Mt.x]}for(var At in ct)ut.push(ze(je,T.interp(ct[At],.5),At));return ut}function at(je){return void 0!==je.periodX?je.periodX:je.x}function kt(je){return[je.text,je.x,je.axInfo,je.font,je.fontSize,je.fontColor].join("_")}function St(je){var Ve=je.title.font.size,ut=(je.title.text.match(l.BR_TAG_ALL)||[]).length;return je.title.hasOwnProperty("standoff")?ut?Ve*(ae+ut*re):Ve*ae:ut?Ve*(ut+1)*re:Ve}function gt(je,Ve){var ut=je.l2p(Ve);return ut>1&&ut<je._length-1}function dt(je){var Ve=C.select(je),ut=Ve.select(".text-math-group");return ut.empty()?Ve.select("text"):ut}function Ct(je){return je._id+".automargin"}function Ot(je){return Ct(je)+".mirror"}function Pt(je){return je._id+".rangeslider"}function Ht(je,Ve){for(var ut=0;ut<Ve.length;ut++)-1===je.indexOf(Ve[ut])&&je.push(Ve[ut])}function jt(je,Ve,ut){var ct,Tt,Mt=[],At=[],bt=je.layout;for(ct=0;ct<Ve.length;ct++)Mt.push(K.getFromId(je,Ve[ct]));for(ct=0;ct<ut.length;ct++)At.push(K.getFromId(je,ut[ct]));var Rt=Object.keys(n),xt=["anchor","domain","overlaying","position","side","tickangle","editType"],_t=["linear","log"];for(ct=0;ct<Rt.length;ct++){var It=Rt[ct],Gt=Mt[0][It],Wt=At[0][It],Zt=!0,cn=!1,nn=!1;if("_"!==It.charAt(0)&&"function"!=typeof Gt&&-1===xt.indexOf(It)){for(Tt=1;Tt<Mt.length&&Zt;Tt++){var ln=Mt[Tt][It];"type"===It&&-1!==_t.indexOf(Gt)&&-1!==_t.indexOf(ln)&&Gt!==ln?cn=!0:ln!==Gt&&(Zt=!1)}for(Tt=1;Tt<At.length&&Zt;Tt++){var Qt=At[Tt][It];"type"===It&&-1!==_t.indexOf(Wt)&&-1!==_t.indexOf(Qt)&&Wt!==Qt?nn=!0:At[Tt][It]!==Wt&&(Zt=!1)}Zt&&(cn&&(bt[Mt[0]._name].type="linear"),nn&&(bt[At[0]._name].type="linear"),nt(bt,It,Mt,At,je._fullLayout._dfltTitle))}}for(ct=0;ct<je._fullLayout.annotations.length;ct++){var kn=je._fullLayout.annotations[ct];-1!==Ve.indexOf(kn.xref)&&-1!==ut.indexOf(kn.yref)&&T.swapAttrs(bt.annotations[ct],["?"])}}function nt(je,Ve,ut,ct,Tt){var Mt,At=T.nestedProperty,bt=At(je[ut[0]._name],Ve).get(),Rt=At(je[ct[0]._name],Ve).get();for("title"===Ve&&(bt&&bt.text===Tt.x&&(bt.text=Tt.y),Rt&&Rt.text===Tt.y&&(Rt.text=Tt.x)),Mt=0;Mt<ut.length;Mt++)At(je,ut[Mt]._name+"."+Ve).set(Rt);for(Mt=0;Mt<ct.length;Mt++)At(je,ct[Mt]._name+"."+Ve).set(bt)}function it(je){return"angularaxis"===je._id}function Xe(je,Ve){for(var ut=Ve._rangebreaks.length,ct=0;ct<ut;ct++){var Tt=Ve._rangebreaks[ct];if(je>=Tt.min&&je<Tt.max)return Tt.max}return je}function rt(je){return-1!==(je.ticklabelposition||"").indexOf("inside")}function ft(je,Ve){rt(je._anchorAxis||{})&&je._hideCounterAxisInsideTickLabels&&je._hideCounterAxisInsideTickLabels(Ve)}function vt(je,Ve,ut,ct){var Tt,Mt="free"===je.anchor||void 0!==je.overlaying&&!1!==je.overlaying?je.overlaying:je._id;Tt=ct?"right"===je.side?Ve:-Ve:Ve,Mt in ut||(ut[Mt]={}),je.side in ut[Mt]||(ut[Mt][je.side]=0),ut[Mt][je.side]+=Tt}K.getTickFormat=function(je){var Ve,ut,ct,Tt,Mt,At,bt,Rt,Gt,Wt,Zt,cn,nn,ln;function xt(Gt){return"string"!=typeof Gt?Gt:Number(Gt.replace("M",""))*x}function _t(Gt,Wt){var Zt=["L","D"];if(typeof Gt==typeof Wt){if("number"==typeof Gt)return Gt-Wt;var cn=Zt.indexOf(Gt.charAt(0)),nn=Zt.indexOf(Wt.charAt(0));return cn===nn?Number(Gt.replace(/(L|D)/g,""))-Number(Wt.replace(/(L|D)/g,"")):cn-nn}return"number"==typeof Gt?1:-1}if(je.tickformatstops&&je.tickformatstops.length>0)switch(je.type){case"date":case"linear":for(Ve=0;Ve<je.tickformatstops.length;Ve++)if((ct=je.tickformatstops[Ve]).enabled&&(Tt=je.dtick,At=void 0,void 0,void 0,At=xt||function(Gt){return Gt},Rt=(Mt=ct.dtickrange)[1],(!(bt=Mt[0])&&"number"!=typeof bt||At(bt)<=At(Tt))&&(!Rt&&"number"!=typeof Rt||At(Rt)>=At(Tt)))){ut=ct;break}break;case"log":for(Ve=0;Ve<je.tickformatstops.length;Ve++)if((ct=je.tickformatstops[Ve]).enabled&&(Zt=void 0,cn=void 0,nn=void 0,ln=void 0,Zt=null===(Wt=ct.dtickrange)[0],cn=null===Wt[1],nn=_t(Gt=je.dtick,Wt[0])>=0,ln=_t(Gt,Wt[1])<=0,(Zt||nn)&&(cn||ln))){ut=ct;break}}return ut?ut.value:je.tickformat},K.getSubplots=function(je,Ve){var ut=je._fullLayout._subplots,ct=ut.cartesian.concat(ut.gl2d||[]),Tt=Ve?K.findSubplotsWithAxis(ct,Ve):ct;return Tt.sort(function(Mt,At){var bt=Mt.substr(1).split("y"),Rt=At.substr(1).split("y");return bt[0]===Rt[0]?+bt[1]-+Rt[1]:+bt[0]-+Rt[0]}),Tt},K.findSubplotsWithAxis=function(je,Ve){for(var ut=new RegExp("x"===Ve._id.charAt(0)?"^"+Ve._id+"y":Ve._id+"$"),ct=[],Tt=0;Tt<je.length;Tt++){var Mt=je[Tt];ut.test(Mt)&&ct.push(Mt)}return ct},K.makeClipPaths=function(je){var Ve=je._fullLayout;if(!Ve._hasOnlyLargeSploms){var ut,ct,Tt={_offset:0,_length:Ve.width,_id:""},Mt={_offset:0,_length:Ve.height,_id:""},At=K.list(je,"x",!0),bt=K.list(je,"y",!0),Rt=[];for(ut=0;ut<At.length;ut++)for(Rt.push({x:At[ut],y:Mt}),ct=0;ct<bt.length;ct++)0===ut&&Rt.push({x:Tt,y:bt[ct]}),Rt.push({x:At[ut],y:bt[ct]});var xt=Ve._clips.selectAll(".axesclip").data(Rt,function(_t){return _t.x._id+_t.y._id});xt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(_t){return"clip"+Ve._uid+_t.x._id+_t.y._id}).append("rect"),xt.exit().remove(),xt.each(function(_t){C.select(this).select("rect").attr({x:_t.x._offset||0,y:_t.y._offset||0,width:_t.x._length||1,height:_t.y._length||1})})}},K.draw=function(je,Ve,ut){var ct=je._fullLayout;"redraw"===Ve&&ct._paper.selectAll("g.subplot").each(function(bt){var xt=ct._plots[bt[0]];if(xt){var _t=xt.xaxis,It=xt.yaxis;xt.xaxislayer.selectAll("."+_t._id+"tick").remove(),xt.yaxislayer.selectAll("."+It._id+"tick").remove(),xt.xaxislayer.selectAll("."+_t._id+"tick2").remove(),xt.yaxislayer.selectAll("."+It._id+"tick2").remove(),xt.xaxislayer.selectAll("."+_t._id+"divider").remove(),xt.yaxislayer.selectAll("."+It._id+"divider").remove(),xt.minorGridlayer&&xt.minorGridlayer.selectAll("path").remove(),xt.gridlayer&&xt.gridlayer.selectAll("path").remove(),xt.zerolinelayer&&xt.zerolinelayer.selectAll("path").remove(),ct._infolayer.select(".g-"+_t._id+"title").remove(),ct._infolayer.select(".g-"+It._id+"title").remove()}});var Tt=Ve&&"redraw"!==Ve?Ve:K.listIds(je),Mt=K.list(je).filter(function(bt){return bt.autoshift}).map(function(bt){return bt.overlaying});Tt.map(function(bt){var Rt=K.getFromId(je,bt);if("sync"===Rt.tickmode&&Rt.overlaying){var xt=Tt.findIndex(function(_t){return _t===Rt.overlaying});xt>=0&&Tt.unshift(Tt.splice(xt,1).shift())}});var At={false:{left:0,right:0}};return T.syncOrAsync(Tt.map(function(bt){return function(){if(bt){var Rt=K.getFromId(je,bt);ut||(ut={}),ut.axShifts=At,ut.overlayingShiftedAx=Mt;var xt=K.drawOne(je,Rt,ut);return Rt._shiftPusher&&vt(Rt,Rt._fullDepth||0,At,!0),Rt._r=Rt.range.slice(),Rt._rl=T.simpleMap(Rt._r,Rt.r2l),xt}}}))},K.drawOne=function(je,Ve,ut){var ct,Tt,Mt,At=(ut=ut||{}).axShifts||{},bt=ut.overlayingShiftedAx||[];Ve.setScale();var bn,Rt=je._fullLayout,xt=Ve._id,_t=xt.charAt(0),It=K.counterLetter(xt),Gt=Rt._plots[Ve._mainSubplot];if(Gt){if(Ve._shiftPusher=Ve.autoshift||-1!==bt.indexOf(Ve._id)||-1!==bt.indexOf(Ve.overlaying),Ve._shiftPusher&"free"===Ve.anchor){var Wt=Ve.linewidth/2||0;"inside"===Ve.ticks&&(Wt+=Ve.ticklen),vt(Ve,Wt,At,!0),vt(Ve,Ve.shift||0,At,!1)}!0===ut.skipTitle&&void 0!==Ve._shift||(Ve._shift=(bn=Ve).autoshift?At[bn.overlaying][bn.side]:bn.shift||0);var Zt=Gt[_t+"axislayer"],cn=Ve._mainLinePosition,nn=cn+=Ve._shift,ln=Ve._mainMirrorPosition,Qt=Ve._vals=K.calcTicks(Ve),kn=[Ve.mirror,nn,ln].join("_");for(ct=0;ct<Qt.length;ct++)Qt[ct].axInfo=kn;Ve._selections={},Ve._tickAngles&&(Ve._prevTickAngles=Ve._tickAngles),Ve._tickAngles={},Ve._depth=null;var Pn={};if(Ve.visible){var Tn,tn,gn=K.makeTransTickFn(Ve),hn=K.makeTransTickLabelFn(Ve),mn="inside"===Ve.ticks,En="outside"===Ve.ticks;if("boundaries"===Ve.tickson){var vn=function(bn,sn){var un,xn=[],_n=function(Vn,Gn){var rr=Vn.xbnd[Gn];null!==rr&&xn.push(T.extendFlat({},Vn,{x:rr}))};if(sn.length){for(un=0;un<sn.length;un++)_n(sn[un],0);_n(sn[un-1],1)}return xn}(0,Qt);tn=K.clipEnds(Ve,vn),Tn=mn?tn:vn}else tn=K.clipEnds(Ve,Qt),Tn=mn&&"period"!==Ve.ticklabelmode?tn:Qt;var Un,Hn=Ve._gridVals=tn,On=function(bn,sn){var un,xn,_n=[],Vn=sn.length&&sn[sn.length-1].x<sn[0].x,Gn=function(Jn,mr){var er=Jn.xbnd[mr];null!==er&&_n.push(T.extendFlat({},Jn,{x:er}))};if(bn.showdividers&&sn.length){for(un=0;un<sn.length;un++){var rr=sn[un];rr.text2!==xn&&Gn(rr,Vn?1:0),xn=rr.text2}Gn(sn[un-1],Vn?0:1)}return _n}(Ve,Qt);if(!Rt._hasOnlyLargeSploms){var Wn=Ve._subplotsWith,pr={};for(ct=0;ct<Wn.length;ct++){var ar=(Mt=Rt._plots[Tt=Wn[ct]])[It+"axis"],Ar=ar._mainAxis._id;if(!pr[Ar]){pr[Ar]=1;var hr="x"===_t?"M0,"+ar._offset+"v"+ar._length:"M"+ar._offset+",0h"+ar._length;K.drawGrid(je,Ve,{vals:Hn,counterAxis:ar,layer:Mt.gridlayer.select("."+xt),minorLayer:Mt.minorGridlayer.select("."+xt),path:hr,transFn:gn}),K.drawZeroLine(je,Ve,{counterAxis:ar,layer:Mt.zerolinelayer,path:hr,transFn:gn})}}}var fr=K.getTickSigns(Ve),Rr=K.getTickSigns(Ve,"minor");if(Ve.ticks||Ve.minor&&Ve.minor.ticks){var Xt,rn,wn,Cn,Bn=K.makeTickPath(Ve,nn,fr[2]),or=K.makeTickPath(Ve,nn,Rr[2],{minor:!0});if(Ve._anchorAxis&&Ve.mirror&&!0!==Ve.mirror?(Xt=K.makeTickPath(Ve,ln,fr[3]),rn=K.makeTickPath(Ve,ln,Rr[3],{minor:!0}),wn=Bn+Xt,Cn=or+rn):(Xt="",rn="",wn=Bn,Cn=or),Ve.showdividers&&En&&"boundaries"===Ve.tickson){var An={};for(ct=0;ct<On.length;ct++)An[On[ct].x]=1;Un=function(bn){return An[bn.x]?Xt:wn}}else Un=function(bn){return bn.minor?Cn:wn}}if(K.drawTicks(je,Ve,{vals:Tn,layer:Zt,path:Un,transFn:gn}),"allticks"===Ve.mirror){var $n=Object.keys(Ve._linepositions||{});for(ct=0;ct<$n.length;ct++){Mt=Rt._plots[Tt=$n[ct]];var Xn=Ve._linepositions[Tt]||[],Rn=Xn[1],Ft=Xn[2],on=K.makeTickPath(Ve,Xn[0],Ft?fr[0]:Rr[0],{minor:Ft})+K.makeTickPath(Ve,Rn,Ft?fr[1]:Rr[1],{minor:Ft});K.drawTicks(je,Ve,{vals:Tn,layer:Mt[_t+"axislayer"],path:on,transFn:gn})}}var fn=[];if(fn.push(function(){return K.drawLabels(je,Ve,{vals:Qt,layer:Zt,plotinfo:Mt,transFn:hn,labelFns:K.makeLabelFns(Ve,nn)})}),"multicategory"===Ve.type){var Sn={x:2,y:10}[_t];fn.push(function(){var bn={x:"height",y:"width"}[_t],sn=jn()[bn]+Sn+(Ve._tickAngles[xt+"tick"]?Ve.tickfont.size*re:0);return K.drawLabels(je,Ve,{vals:mt(Ve,Qt),layer:Zt,cls:xt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:gn,labelFns:K.makeLabelFns(Ve,nn+sn*fr[4])})}),fn.push(function(){return Ve._depth=fr[4]*(jn("tick2")[Ve.side]-nn),function(bn,sn,un){var xn=sn._id+"divider",_n=un.vals,Vn=un.layer.selectAll("path."+xn).data(_n,kt);Vn.exit().remove(),Vn.enter().insert("path",":first-child").classed(xn,1).classed("crisp",1).call(o.stroke,sn.dividercolor).style("stroke-width",r.crispRound(bn,sn.dividerwidth,1)+"px"),Vn.attr("transform",un.transFn).attr("d",un.path)}(je,Ve,{vals:On,layer:Zt,path:K.makeTickPath(Ve,nn,fr[4],{len:Ve._depth}),transFn:gn})})}else Ve.title.hasOwnProperty("standoff")&&fn.push(function(){Ve._depth=fr[4]*(jn()[Ve.side]-nn)});var Ln=A.getComponentMethod("rangeslider","isVisible")(Ve);return ut.skipTitle||Ln&&"bottom"===Ve.side||fn.push(function(){return function(bn,sn){var un,xn=bn._fullLayout,_n=sn._id,Vn=_n.charAt(0),Gn=sn.title.font.size;if(sn.title.hasOwnProperty("standoff"))un=sn._depth+sn.title.standoff+St(sn);else{var rr=rt(sn);if("multicategory"===sn.type)un=sn._depth;else{var Jn=1.5*Gn;rr&&(Jn=.5*Gn,"outside"===sn.ticks&&(Jn+=sn.ticklen)),un=10+Jn+(sn.linewidth?sn.linewidth-1:0)}rr||(un+="x"===Vn?"top"===sn.side?Gn*(sn.showticklabels?1:0):Gn*(sn.showticklabels?1.5:.5):"right"===sn.side?Gn*(sn.showticklabels?1:.5):Gn*(sn.showticklabels?.5:0))}var mr,er,ur,Tr,Mr=K.getPxPosition(bn,sn);if("x"===Vn?(er=sn._offset+sn._length/2,ur="top"===sn.side?Mr-un:Mr+un):(ur=sn._offset+sn._length/2,er="right"===sn.side?Mr+un:Mr-un,mr={rotate:"-90",offset:0}),"multicategory"!==sn.type){var Dr=sn._selections[sn._id+"tick"];if(Tr={selection:Dr,side:sn.side},Dr&&Dr.node()&&Dr.node().parentNode){var lr=r.getTranslate(Dr.node().parentNode);Tr.offsetLeft=lr.x,Tr.offsetTop=lr.y}sn.title.hasOwnProperty("standoff")&&(Tr.pad=0)}return sn._titleStandoff=un,t.draw(bn,_n+"title",{propContainer:sn,propName:sn._name+".title.text",placeholder:xn._dfltTitle[Vn],avoid:Tr,transform:mr,attributes:{x:er,y:ur,"text-anchor":"middle"}})}(je,Ve)}),fn.push(function(){var bn,sn,un,xn,_n=Ve.side.charAt(0),Vn=Q[Ve.side].charAt(0),Gn=K.getPxPosition(je,Ve),rr=En?Ve.ticklen:0;(Ve.automargin||Ln||Ve._shiftPusher)&&("multicategory"===Ve.type?bn=jn("tick2"):(bn=jn(),"x"===_t&&"b"===_n&&(Ve._depth=Math.max(bn.width>0?bn.bottom-Gn:0,rr))));var Jn=0,mr=0;if(Ve._shiftPusher&&(Jn=Math.max(rr,bn.height>0?"l"===_n?Gn-bn.left:bn.right-Gn:0),Ve.title.text!==Rt._dfltTitle[_t]&&(mr=(Ve._titleStandoff||0)+(Ve._titleScoot||0),"l"===_n&&(mr+=St(Ve))),Ve._fullDepth=Math.max(Jn,mr)),Ve.automargin){sn={x:0,y:0,r:0,l:0,t:0,b:0};var er=[0,1],ur="number"==typeof Ve._shift?Ve._shift:0;if("x"===_t){if("b"===_n?sn[_n]=Ve._depth:(sn[_n]=Ve._depth=Math.max(bn.width>0?Gn-bn.top:0,rr),er.reverse()),bn.width>0){var Tr=bn.right-(Ve._offset+Ve._length);Tr>0&&(sn.xr=1,sn.r=Tr);var Mr=Ve._offset-bn.left;Mr>0&&(sn.xl=0,sn.l=Mr)}}else if("l"===_n?(Ve._depth=Math.max(bn.height>0?Gn-bn.left:0,rr),sn[_n]=Ve._depth-ur):(Ve._depth=Math.max(bn.height>0?bn.right-Gn:0,rr),sn[_n]=Ve._depth+ur,er.reverse()),bn.height>0){var Dr=bn.bottom-(Ve._offset+Ve._length);Dr>0&&(sn.yb=0,sn.b=Dr);var lr=Ve._offset-bn.top;lr>0&&(sn.yt=1,sn.t=lr)}sn[It]="free"===Ve.anchor?Ve.position:Ve._anchorAxis.domain[er[0]],Ve.title.text!==Rt._dfltTitle[_t]&&(sn[_n]+=St(Ve)+(Ve.title.standoff||0)),Ve.mirror&&"free"!==Ve.anchor&&((un={x:0,y:0,r:0,l:0,t:0,b:0})[Vn]=Ve.linewidth,Ve.mirror&&!0!==Ve.mirror&&(un[Vn]+=rr),!0===Ve.mirror||"ticks"===Ve.mirror?un[It]=Ve._anchorAxis.domain[er[1]]:"all"!==Ve.mirror&&"allticks"!==Ve.mirror||(un[It]=[Ve._counterDomainMin,Ve._counterDomainMax][er[1]]))}Ln&&(xn=A.getComponentMethod("rangeslider","autoMarginOpts")(je,Ve)),"string"==typeof Ve.automargin&&(st(sn,Ve.automargin),st(un,Ve.automargin)),u.autoMargin(je,Ct(Ve),sn),u.autoMargin(je,Ot(Ve),un),u.autoMargin(je,Pt(Ve),xn)}),T.syncOrAsync(fn)}}function jn(bn){var un,xn,_n,Vn,Gn,rr,sn=xt+(bn||"tick");return Pn[sn]||(Pn[sn]=((un=Ve)._selections[xn=sn].size()?(_n=1/0,Vn=-1/0,Gn=1/0,rr=-1/0,un._selections[xn].each(function(){var Jn=dt(this),mr=r.bBox(Jn.node().parentNode);_n=Math.min(_n,mr.top),Vn=Math.max(Vn,mr.bottom),Gn=Math.min(Gn,mr.left),rr=Math.max(rr,mr.right)})):(_n=0,Vn=0,Gn=0,rr=0),{top:_n,bottom:Vn,left:Gn,right:rr,height:Vn-_n,width:rr-Gn})),Pn[sn]}},K.getTickSigns=function(je,Ve){var ut=je._id.charAt(0),Tt=je.side==={x:"top",y:"right"}[ut]?1:-1,Mt=[-1,1,Tt,-Tt];return"inside"!==(Ve?(je.minor||{}).ticks:je.ticks)==("x"===ut)&&(Mt=Mt.map(function(At){return-At})),je.side&&Mt.push({l:-1,t:-1,r:1,b:1}[je.side.charAt(0)]),Mt},K.makeTransTickFn=function(je){return"x"===je._id.charAt(0)?function(Ve){return m(je._offset+je.l2p(Ve.x),0)}:function(Ve){return m(0,je._offset+je.l2p(Ve.x))}},K.makeTransTickLabelFn=function(je){var Ve=function(Tt){var Mt=Tt.ticklabelposition||"",At=function(ln){return-1!==Mt.indexOf(ln)},bt=At("top"),Rt=At("left"),xt=At("right"),_t=At("bottom"),It=At("inside"),Gt=_t||Rt||bt||xt;if(!Gt&&!It)return[0,0];var Wt=Tt.side,Zt=Gt?(Tt.tickwidth||0)/2:0,cn=3,nn=Tt.tickfont?Tt.tickfont.size:12;return(_t||bt)&&(Zt+=nn*ae,cn+=(Tt.linewidth||0)/2),(Rt||xt)&&(Zt+=(Tt.linewidth||0)/2,cn+=3),It&&"top"===Wt&&(cn-=nn*(1-ae)),(Rt||bt)&&(Zt=-Zt),"bottom"!==Wt&&"right"!==Wt||(cn=-cn),[Gt?Zt:0,It?cn:0]}(je),ut=Ve[0],ct=Ve[1];return"x"===je._id.charAt(0)?function(Tt){return m(ut+je._offset+je.l2p(at(Tt)),ct)}:function(Tt){return m(ct,ut+je._offset+je.l2p(at(Tt)))}},K.makeTickPath=function(je,Ve,ut,ct){ct||(ct={});var Tt=ct.minor;if(Tt&&!je.minor)return"";var Mt=void 0!==ct.len?ct.len:Tt?je.minor.ticklen:je.ticklen,At=je._id.charAt(0),bt=(je.linewidth||1)/2;return"x"===At?"M0,"+(Ve+bt*ut)+"v"+Mt*ut:"M"+(Ve+bt*ut)+",0h"+Mt*ut},K.makeLabelFns=function(je,Ve,ut){var ct=je.ticklabelposition||"",Tt=function(vn){return-1!==ct.indexOf(vn)},Mt=Tt("top"),At=Tt("left"),bt=Tt("right"),Rt=Tt("bottom")||At||Mt||bt,xt=Tt("inside"),_t="inside"===ct&&"inside"===je.ticks||!xt&&"outside"===je.ticks&&"boundaries"!==je.tickson,It=0,Gt=0,Wt=_t?je.ticklen:0;if(xt?Wt*=-1:Rt&&(Wt=0),_t&&(It+=Wt,ut)){var Zt=T.deg2rad(ut);It=Wt*Math.cos(Zt)+1,Gt=Wt*Math.sin(Zt)}je.showticklabels&&(_t||je.showline)&&(It+=.2*je.tickfont.size);var cn,nn,ln,Qt,kn,Pn={labelStandoff:It+=(je.linewidth||1)/2*(xt?-1:1),labelShift:Gt},Tn=0,tn=je.side,gn=je._id.charAt(0),hn=je.tickangle;if("x"===gn)Qt=(kn=!xt&&"bottom"===tn||xt&&"top"===tn)?1:-1,xt&&(Qt*=-1),cn=Gt*Qt,nn=Ve+It*Qt,ln=kn?1:-.2,90===Math.abs(hn)&&(xt?ln+=Y:ln=-90===hn&&"bottom"===tn?ae:90===hn&&"top"===tn?Y:.5,Tn=Y/2*(hn/90)),Pn.xFn=function(vn){return vn.dx+cn+Tn*vn.fontSize},Pn.yFn=function(vn){return vn.dy+nn+vn.fontSize*ln},Pn.anchorFn=function(vn,Un){if(Rt){if(At)return"end";if(bt)return"start"}return S(Un)&&0!==Un&&180!==Un?Un*Qt<0!==xt?"end":"start":"middle"},Pn.heightFn=function(vn,Un,Hn){return Un<-60||Un>60?-.5*Hn:"top"===je.side!==xt?-Hn:0};else if("y"===gn){if(Qt=(kn=!xt&&"left"===tn||xt&&"right"===tn)?1:-1,xt&&(Qt*=-1),cn=It,nn=Gt*Qt,ln=0,xt||90!==Math.abs(hn)||(ln=-90===hn&&"left"===tn||90===hn&&"right"===tn?ae:.5),xt){var mn=S(hn)?+hn:0;if(0!==mn){var En=T.deg2rad(mn);Tn=Math.abs(Math.sin(En))*ae*Qt,ln=0}}Pn.xFn=function(vn){return vn.dx+Ve-(cn+vn.fontSize*ln)*Qt+Tn*vn.fontSize},Pn.yFn=function(vn){return vn.dy+nn+vn.fontSize*Y},Pn.anchorFn=function(vn,Un){return S(Un)&&90===Math.abs(Un)?"middle":kn?"end":"start"},Pn.heightFn=function(vn,Un,Hn){return"right"===je.side&&(Un*=-1),Un<-30?-Hn:Un<30?-.5*Hn:0}}return Pn},K.drawTicks=function(je,Ve,ut){ut=ut||{};var ct=Ve._id+"tick",Tt=[].concat(Ve.minor&&Ve.minor.ticks?ut.vals.filter(function(At){return At.minor&&!At.noTick}):[]).concat(Ve.ticks?ut.vals.filter(function(At){return!At.minor&&!At.noTick}):[]),Mt=ut.layer.selectAll("path."+ct).data(Tt,kt);Mt.exit().remove(),Mt.enter().append("path").classed(ct,1).classed("ticks",1).classed("crisp",!1!==ut.crisp).each(function(At){return o.stroke(C.select(this),At.minor?Ve.minor.tickcolor:Ve.tickcolor)}).style("stroke-width",function(At){return r.crispRound(je,At.minor?Ve.minor.tickwidth:Ve.tickwidth,1)+"px"}).attr("d",ut.path).style("display",null),ft(Ve,[W]),Mt.attr("transform",ut.transFn)},K.drawGrid=function(je,Ve,ut){if(ut=ut||{},"sync"!==Ve.tickmode){var ct=Ve._id+"grid",Tt=Ve.minor&&Ve.minor.showgrid,Mt=Tt?ut.vals.filter(function(ln){return ln.minor}):[],At=Ve.showgrid?ut.vals.filter(function(ln){return!ln.minor}):[],bt=ut.counterAxis;if(bt&&K.shouldShowZeroLine(je,Ve,bt))for(var Rt="array"===Ve.tickmode,xt=0;xt<At.length;xt++){var _t=At[xt].x;if(Rt?!_t:Math.abs(_t)<Ve.dtick/100){if(At=At.slice(0,xt).concat(At.slice(xt+1)),!Rt)break;xt--}}Ve._gw=r.crispRound(je,Ve.gridwidth,1);for(var It=Tt?r.crispRound(je,Ve.minor.gridwidth,1):0,Gt=ut.layer,Wt=ut.minorLayer,Zt=1;Zt>=0;Zt--){var cn=Zt?Gt:Wt;if(cn){var nn=cn.selectAll("path."+ct).data(Zt?At:Mt,kt);nn.exit().remove(),nn.enter().append("path").classed(ct,1).classed("crisp",!1!==ut.crisp),nn.attr("transform",ut.transFn).attr("d",ut.path).each(function(ln){return o.stroke(C.select(this),ln.minor?Ve.minor.gridcolor:Ve.gridcolor||"#ddd")}).style("stroke-dasharray",function(ln){return r.dashStyle(ln.minor?Ve.minor.griddash:Ve.griddash,ln.minor?Ve.minor.gridwidth:Ve.gridwidth)}).style("stroke-width",function(ln){return(ln.minor?It:Ve._gw)+"px"}).style("display",null),"function"==typeof ut.path&&nn.attr("d",ut.path)}}ft(Ve,[$,N])}},K.drawZeroLine=function(je,Ve,ut){var ct=Ve._id+"zl",Tt=K.shouldShowZeroLine(je,Ve,(ut=ut||ut).counterAxis),Mt=ut.layer.selectAll("path."+ct).data(Tt?[{x:0,id:Ve._id}]:[]);Mt.exit().remove(),Mt.enter().append("path").classed(ct,1).classed("zl",1).classed("crisp",!1!==ut.crisp).each(function(){ut.layer.selectAll("path").sort(function(At,bt){return ue(At.id,bt.id)})}),Mt.attr("transform",ut.transFn).attr("d",ut.path).call(o.stroke,Ve.zerolinecolor||o.defaultLine).style("stroke-width",r.crispRound(je,Ve.zerolinewidth,Ve._gw||1)+"px").style("display",null),ft(Ve,[z])},K.drawLabels=function(je,Ve,ut){ut=ut||{};var ct=je._fullLayout,Tt=Ve._id,Mt=Tt.charAt(0),At=ut.cls||Tt+"tick",bt=ut.vals.filter(function(Qt){return Qt.text}),Rt=ut.labelFns,xt=ut.secondary?0:Ve.tickangle,_t=(Ve._prevTickAngles||{})[At],It=ut.layer.selectAll("g."+At).data(Ve.showticklabels?bt:[],kt),Gt=[];function Wt(Qt,kn){Qt.each(function(Pn){var Tn=C.select(this),tn=Tn.select(".text-math-group"),gn=Rt.anchorFn(Pn,kn),hn=ut.transFn.call(Tn.node(),Pn)+(S(kn)&&0!=+kn?" rotate("+kn+","+Rt.xFn(Pn)+","+(Rt.yFn(Pn)-Pn.fontSize/2)+")":""),mn=l.lineCount(Tn),En=re*Pn.fontSize,vn=Rt.heightFn(Pn,S(kn)?+kn:0,(mn-1)*En);if(vn&&(hn+=m(0,vn)),tn.empty()){var Un=Tn.select("text");Un.attr({transform:hn,"text-anchor":gn}),Un.style("opacity",1),Ve._adjustTickLabelsOverflow&&Ve._adjustTickLabelsOverflow()}else{var Hn=r.bBox(tn.node()).width*{end:-.5,start:.5}[gn];tn.attr("transform",hn+m(Hn,0))}})}It.enter().append("g").classed(At,1).append("text").attr("text-anchor","middle").each(function(Qt){var kn=C.select(this),Pn=je._promises.length;kn.call(l.positionText,Rt.xFn(Qt),Rt.yFn(Qt)).call(r.font,Qt.font,Qt.fontSize,Qt.fontColor).text(Qt.text).call(l.convertToTspans,je),je._promises[Pn]?Gt.push(je._promises.pop().then(function(){Wt(kn,xt)})):Wt(kn,xt)}),ft(Ve,[H]),It.exit().remove(),ut.repositionOnUpdate&&It.each(function(Qt){C.select(this).select("text").call(l.positionText,Rt.xFn(Qt),Rt.yFn(Qt))}),Ve._adjustTickLabelsOverflow=function(){var Qt=Ve.ticklabeloverflow;if(Qt&&"allow"!==Qt){var kn=-1!==Qt.indexOf("hide"),Pn="x"===Ve._id.charAt(0),Tn=0,tn=Pn?je._fullLayout.width:je._fullLayout.height;if(-1!==Qt.indexOf("domain")){var gn=T.simpleMap(Ve.range,Ve.r2l);Tn=Ve.l2p(gn[0])+Ve._offset,tn=Ve.l2p(gn[1])+Ve._offset}var hn=Math.min(Tn,tn),mn=Math.max(Tn,tn),En=Ve.side,vn=1/0,Un=-1/0;for(var Hn in It.each(function(pr){var ar=C.select(this);if(ar.select(".text-math-group").empty()){var Ar=r.bBox(ar.node()),hr=0;Pn?(Ar.right>mn||Ar.left<hn)&&(hr=1):(Ar.bottom>mn||Ar.top+(Ve.tickangle?0:pr.fontSize/4)<hn)&&(hr=1);var fr=ar.select("text");hr?kn&&fr.style("opacity",0):(fr.style("opacity",1),vn="bottom"===En||"right"===En?Math.min(vn,Pn?Ar.top:Ar.left):-1/0,Un="top"===En||"left"===En?Math.max(Un,Pn?Ar.bottom:Ar.right):1/0)}}),ct._plots){var On=ct._plots[Hn];if(Ve._id===On.xaxis._id||Ve._id===On.yaxis._id){var Wn=Pn?On.yaxis:On.xaxis;Wn&&(Wn["_visibleLabelMin_"+Ve._id]=vn,Wn["_visibleLabelMax_"+Ve._id]=Un)}}}},Ve._hideCounterAxisInsideTickLabels=function(Qt){var kn="x"===Ve._id.charAt(0),Pn=[];for(var Tn in ct._plots){var tn=ct._plots[Tn];Ve._id!==tn.xaxis._id&&Ve._id!==tn.yaxis._id||Pn.push(kn?tn.yaxis:tn.xaxis)}Pn.forEach(function(gn,hn){gn&&rt(gn)&&(Qt||[z,N,$,W,H]).forEach(function(mn){var En="tick"===mn.K&&"text"===mn.L&&"period"===Ve.ticklabelmode,vn=ct._plots[Ve._mainSubplot];(mn.K===z.K?vn.zerolinelayer.selectAll("."+Ve._id+"zl"):mn.K===N.K?vn.minorGridlayer.selectAll("."+Ve._id):mn.K===$.K?vn.gridlayer.selectAll("."+Ve._id):vn[Ve._id.charAt(0)+"axislayer"]).each(function(){var Un=C.select(this);mn.L&&(Un=Un.selectAll(mn.L)),Un.each(function(Hn){var On=Ve.l2p(En?at(Hn):Hn.x)+Ve._offset,Wn=C.select(this);On<Ve["_visibleLabelMax_"+gn._id]&&On>Ve["_visibleLabelMin_"+gn._id]?Wn.style("display","none"):"tick"!==mn.K||hn||Wn.style("display",null)})})})})},Wt(It,_t+1?_t:xt);var Zt=null;Ve._selections&&(Ve._selections[At]=It);var cn=[function(){return Gt.length&&Promise.all(Gt)}];Ve.automargin&&ct._redrawFromAutoMarginCount&&90===_t?(Zt=90,cn.push(function(){Wt(It,_t)})):cn.push(function(){if(Wt(It,xt),bt.length&&"x"===Mt&&!S(xt)&&("log"!==Ve.type||"D"!==String(Ve.dtick).charAt(0))){Zt=0;var Qt,kn=0,Pn=[];if(It.each(function(ar){kn=Math.max(kn,ar.fontSize);var Ar=Ve.l2p(ar.x),hr=dt(this),fr=r.bBox(hr.node());Pn.push({top:0,bottom:10,height:10,left:Ar-fr.width/2,right:Ar+fr.width/2+2,width:fr.width+2})}),"boundaries"!==Ve.tickson&&!Ve.showdividers||ut.secondary){var Tn=bt.length,tn=Math.abs((bt[Tn-1].x-bt[0].x)*Ve._m)/(Tn-1),gn=Ve.ticklabelposition||"",hn=function(ar){return-1!==gn.indexOf(ar)},mn=hn("top"),En=hn("left"),vn=hn("right"),Un=hn("bottom")||En||mn||vn?(Ve.tickwidth||0)+6:0,Hn=tn<2.5*kn||"multicategory"===Ve.type||"realaxis"===Ve._name;for(Qt=0;Qt<Pn.length-1;Qt++)if(T.bBoxIntersect(Pn[Qt],Pn[Qt+1],Un)){Zt=Hn?90:30;break}}else{var On=2;for(Ve.ticks&&(On+=Ve.tickwidth/2),Qt=0;Qt<Pn.length;Qt++){var Wn=bt[Qt].xbnd,pr=Pn[Qt];if(null!==Wn[0]&&pr.left-Ve.l2p(Wn[0])<On||null!==Wn[1]&&Ve.l2p(Wn[1])-pr.right<On){Zt=90;break}}}Zt&&Wt(It,Zt)}}),Ve._tickAngles&&cn.push(function(){Ve._tickAngles[At]=null===Zt?S(xt)?xt:0:Zt});var nn=Ve._anchorAxis;nn&&nn.autorange&&rt(Ve)&&!fe(ct,Ve._id)&&(ct._insideTickLabelsAutorange||(ct._insideTickLabelsAutorange={}),ct._insideTickLabelsAutorange[nn._name+".autorange"]=nn.autorange,cn.push(function(){It.each(function(Qt,kn){var Pn=dt(this);Pn.select(".text-math-group").empty()&&(Ve._vals[kn].bb=r.bBox(Pn.node()))})}));var ln=T.syncOrAsync(cn);return ln&&ln.then&&je._promises.push(ln),ln},K.getPxPosition=function(je,Ve){var ut,ct=je._fullLayout._size,Tt=Ve._id.charAt(0),Mt=Ve.side;return"free"!==Ve.anchor?ut=Ve._anchorAxis:"x"===Tt?ut={_offset:ct.t+(1-(Ve.position||0))*ct.h,_length:0}:"y"===Tt&&(ut={_offset:ct.l+(Ve.position||0)*ct.w+Ve._shift,_length:0}),"top"===Mt||"left"===Mt?ut._offset:"bottom"===Mt||"right"===Mt?ut._offset+ut._length:void 0},K.shouldShowZeroLine=function(je,Ve,ut){var ct=T.simpleMap(Ve.range,Ve.r2l);return ct[0]*ct[1]<=0&&Ve.zeroline&&("linear"===Ve.type||"-"===Ve.type)&&!(Ve.rangebreaks&&Ve.maskBreaks(0)===R)&&(gt(Ve,0)||!function(Tt,Mt,At,bt){var Rt=At._mainAxis;if(Rt){var xt=Tt._fullLayout,_t=Mt._id.charAt(0),It=K.counterLetter(Mt._id),Gt=Mt._offset+(Math.abs(bt[0])<Math.abs(bt[1])==("x"===_t)?0:Mt._length),Wt=xt._plots[At._mainSubplot];if(!(Wt.mainplotinfo||Wt).overlays.length)return ln(At);for(var Zt=K.list(Tt,It),cn=0;cn<Zt.length;cn++){var nn=Zt[cn];if(nn._mainAxis===Rt&&ln(nn))return!0}}function ln(Qt){if(!Qt.showline||!Qt.linewidth)return!1;var kn=Math.max((Qt.linewidth+Mt.zerolinewidth)/2,1);function Pn(gn){return"number"==typeof gn&&Math.abs(gn-Gt)<kn}if(Pn(Qt._mainLinePosition)||Pn(Qt._mainMirrorPosition))return!0;var Tn=Qt._linepositions||{};for(var tn in Tn)if(Pn(Tn[tn][0])||Pn(Tn[tn][1]))return!0}}(je,Ve,ut,ct)||function(Tt,Mt){for(var At=Tt._fullData,bt=Mt._mainSubplot,Rt=Mt._id.charAt(0),xt=0;xt<At.length;xt++){var _t=At[xt];if(!0===_t.visible&&_t.xaxis+_t.yaxis===bt&&(A.traceIs(_t,"bar-like")&&_t.orientation==={x:"h",y:"v"}[Rt]||_t.fill&&_t.fill.charAt(_t.fill.length-1)===Rt))return!0}return!1}(je,Ve))},K.clipEnds=function(je,Ve){return Ve.filter(function(ut){return gt(je,ut.x)})},K.allowAutoMargin=function(je){for(var Ve=K.list(je,"",!0),ut=0;ut<Ve.length;ut++){var ct=Ve[ut];ct.automargin&&(u.allowAutoMargin(je,Ct(ct)),ct.mirror&&u.allowAutoMargin(je,Ot(ct))),A.getComponentMethod("rangeslider","isVisible")(ct)&&u.allowAutoMargin(je,Pt(ct))}},K.swap=function(je,Ve){for(var ut=function(Tt,Mt){var At,bt,Rt=[];for(At=0;At<Mt.length;At++){var xt=[],_t=Tt._fullData[Mt[At]].xaxis,It=Tt._fullData[Mt[At]].yaxis;if(_t&&It){for(bt=0;bt<Rt.length;bt++)-1===Rt[bt].x.indexOf(_t)&&-1===Rt[bt].y.indexOf(It)||xt.push(bt);if(xt.length){var Gt,Wt=Rt[xt[0]];if(xt.length>1)for(bt=1;bt<xt.length;bt++)Ht(Wt.x,(Gt=Rt[xt[bt]]).x),Ht(Wt.y,Gt.y);Ht(Wt.x,[_t]),Ht(Wt.y,[It])}else Rt.push({x:[_t],y:[It]})}}return Rt}(je,Ve),ct=0;ct<ut.length;ct++)jt(je,ut[ct].x,ut[ct].y)}},4322:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=e(50606).BADNUM,A=S.isArrayOrTypedArray,T=S.isDateTime,m=S.cleanNumber,l=Math.round;function t(r,n){return n?C(r):"number"==typeof r}function o(r){return Math.max(1,(r-1)/1e3)}ie.exports=function(r,n,a){var h,s=r,c=a.noMultiCategory;if(A(s)&&!s.length)return"-";if(!c&&A((h=s)[0])&&A(h[1]))return"multicategory";if(c&&Array.isArray(s[0])){for(var p=[],f=0;f<s.length;f++)if(A(s[f]))for(var w=0;w<s[f].length;w++)p.push(s[f][w]);s=p}if(function(h,_){for(var x=h.length,b=o(x),M=0,d=0,E={},k=0;k<x;k+=b){var I=h[l(k)],L=String(I);E[L]||(E[L]=1,T(I,_)&&M++,C(I)&&d++)}return M>2*d}(s,n))return"date";var v="strict"!==a.autotypenumbers;return function(h,_){for(var x=h.length,b=o(x),M=0,d=0,E={},k=0;k<x;k+=b){var I=h[l(k)],L=String(I);if(!E[L]){E[L]=1;var P=typeof I;"boolean"===P?d++:(_?m(I)!==u:"number"===P)?M++:"string"===P&&d++}}return d>2*M}(s,v)?"category":function(h,_){for(var x=h.length,b=0;b<x;b++)if(t(h[b],_))return!0;return!1}(s,v)?"linear":"-"}},71453:function(ie,B,e){"use strict";var C=e(92770),S=e(73972),u=e(71828),A=e(44467),T=e(85501),m=e(13838),l=e(26218),t=e(38701),o=e(96115),r=e(89426),n=e(15258),a=e(92128),s=e(21994),c=e(85555).WEEKDAY_PATTERN,p=e(85555).HOUR_PATTERN;function f(h,_,x){function b(R,z){return u.coerce(h,_,m.rangebreaks,R,z)}if(b("enabled")){var M=b("bounds");if(M&&M.length>=2){var d,E,k="";if(2===M.length)for(d=0;d<2;d++)if(E=v(M[d])){k=c;break}var I=b("pattern",k);if(I===c)for(d=0;d<2;d++)(E=v(M[d]))&&(_.bounds[d]=M[d]=E-1);if(I)for(d=0;d<2;d++)switch(E=M[d],I){case c:if(!C(E)||(E=+E)!==Math.floor(E)||E<0||E>=7)return void(_.enabled=!1);_.bounds[d]=M[d]=E;break;case p:if(!C(E)||(E=+E)<0||E>24)return void(_.enabled=!1);_.bounds[d]=M[d]=E}if(!1===x.autorange){var L=x.range;if(L[0]<L[1]){if(M[0]<L[0]&&M[1]>L[1])return void(_.enabled=!1)}else if(M[0]>L[0]&&M[1]<L[1])return void(_.enabled=!1)}}else{var P=b("values");if(!P||!P.length)return void(_.enabled=!1);b("dvalue")}}}ie.exports=function(h,_,x,b,M){var d,E=b.letter,k=b.font||{},I=b.splomStash||{},L=x("visible",!b.visibleDflt),R=_.type||(_._template||{}).type||"-";"date"===R&&(S.getComponentMethod("calendars","handleDefaults")(h,_,"calendar",b.calendar),b.noTicklabelmode||(d=x("ticklabelmode")));var z="";b.noTicklabelposition&&"multicategory"!==R||(z=u.coerce(h,_,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===d?["outside","inside"]:"x"===E?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),b.noTicklabeloverflow||x("ticklabeloverflow",-1!==z.indexOf("inside")?"hide past domain":"category"===R||"multicategory"===R?"allow":"hide past div"),s(_,M);var $=!_.isValidRange(h.range);$&&b.reverseDflt&&($="reversed"),!x("autorange",$)||"linear"!==R&&"-"!==R||x("rangemode"),x("range"),_.cleanRange(),n(h,_,x,b),"category"===R||b.noHover||x("hoverformat");var N=x("color"),W=N!==m.color.dflt?N:k.color,H=I.label||M._dfltTitle[E];if(r(h,_,x,R,b),!L)return _;x("title.text",H),u.coerceFont(x,"title.font",{family:k.family,size:u.bigFont(k.size),color:W}),l(h,_,x,R);var U=b.hasMinor;if(U&&(A.newContainer(_,"minor"),l(h,_,x,R,{isMinor:!0})),o(h,_,x,R,b),t(h,_,x,b),U){var Z=b.isMinor;b.isMinor=!0,t(h,_,x,b),b.isMinor=Z}a(h,_,x,{dfltColor:N,bgColor:b.bgColor,showGrid:b.showGrid,hasMinor:U,attributes:m}),!U||_.minor.ticks||_.minor.showgrid||delete _.minor,(_.showline||_.ticks)&&x("mirror");var Y,ae="multicategory"===R;if(b.noTickson||"category"!==R&&!ae||!_.ticks&&!_.showgrid||(ae&&(Y="boundaries"),"boundaries"===x("tickson",Y)&&delete _.ticklabelposition),ae&&x("showdividers")&&(x("dividercolor"),x("dividerwidth")),"date"===R)if(T(h,_,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:f}),_.rangebreaks.length){for(var re=0;re<_.rangebreaks.length;re++)if(_.rangebreaks[re].pattern===c){_._hasDayOfWeekBreaks=!0;break}if(s(_,M),M._has("scattergl")||M._has("splom"))for(var Q=0;Q<b.data.length;Q++){var K=b.data[Q];"scattergl"!==K.type&&"splom"!==K.type||(K.visible=!1,u.warn(K.type+" traces do not work on axes with rangebreaks. Setting trace "+K.index+" to `visible: false`."))}}else delete _.rangebreaks;return _};var w={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function v(h){if("string"==typeof h)return w[h.substr(0,3).toLowerCase()]}},12663:function(ie,B,e){"use strict";var C=e(31562),S=C.FORMAT_LINK,u=C.DATE_FORMAT_LINK;function A(m,l){return["Sets the "+m+" formatting rule"+(l?"for `"+l+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+S+"."].join(" ")}function T(m,l){return A(m,l)+[" And for dates see: "+u+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}ie.exports={axisHoverFormat:function(m,l){return{valType:"string",dflt:"",editType:"none",description:(l?A:T)("hover text",m)+["By default the values are formatted using "+(l?"generic number format":"`"+m+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:A,descriptionWithDates:T}},41675:function(ie,B,e){"use strict";var C=e(73972),S=e(85555);function u(A,T){if(T&&T.length)for(var m=0;m<T.length;m++)if(T[m][A])return!0;return!1}B.id2name=function(A){if("string"==typeof A&&A.match(S.AX_ID_PATTERN)){var T=A.split(" ")[0].substr(1);return"1"===T&&(T=""),A.charAt(0)+"axis"+T}},B.name2id=function(A){if(A.match(S.AX_NAME_PATTERN)){var T=A.substr(5);return"1"===T&&(T=""),A.charAt(0)+T}},B.cleanId=function(A,T,m){var l=/( domain)$/.test(A);if("string"==typeof A&&A.match(S.AX_ID_PATTERN)&&(!T||A.charAt(0)===T)&&(!l||m)){var t=A.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===t&&(t=""),A.charAt(0)+t+(l&&m?" domain":"")}},B.list=function(A,T,m){var l=A._fullLayout;if(!l)return[];var t,o=B.listIds(A,T),r=new Array(o.length);for(t=0;t<o.length;t++){var n=o[t];r[t]=l[n.charAt(0)+"axis"+n.substr(1)]}if(!m){var a=l._subplots.gl3d||[];for(t=0;t<a.length;t++){var s=l[a[t]];T?r.push(s[T+"axis"]):r.push(s.xaxis,s.yaxis,s.zaxis)}}return r},B.listIds=function(A,T){var m=A._fullLayout;if(!m)return[];var l=m._subplots;return T?l[T+"axis"]:l.xaxis.concat(l.yaxis)},B.getFromId=function(A,T,m){var l=A._fullLayout;return T=void 0===T||"string"!=typeof T?T:T.replace(" domain",""),"x"===m?T=T.replace(/y[0-9]*/,""):"y"===m&&(T=T.replace(/x[0-9]*/,"")),l[B.id2name(T)]},B.getFromTrace=function(A,T,m){var l=A._fullLayout,t=null;if(C.traceIs(T,"gl3d")){var o=T.scene;"scene"===o.substr(0,5)&&(t=l[o][m+"axis"])}else t=B.getFromId(A,T[m+"axis"]||m);return t},B.idSort=function(A,T){var m=A.charAt(0),l=T.charAt(0);return m!==l?m>l?1:-1:+(A.substr(1)||1)-+(T.substr(1)||1)},B.ref2id=function(A){return!!/^[xyz]/.test(A)&&A.split(" ")[0]},B.isLinked=function(A,T){return u(T,A._axisMatchGroups)||u(T,A._axisConstraintGroups)}},15258:function(ie){"use strict";ie.exports=function(B,e,C,S){if("category"===e.type){var u,A=B.categoryarray,T=Array.isArray(A)&&A.length>0;T&&(u="array");var m,l=C("categoryorder",u);"array"===l&&(m=C("categoryarray")),T||"array"!==l||(l=e.categoryorder="trace"),"trace"===l?e._initialCategories=[]:"array"===l?e._initialCategories=m.slice():(m=function(t,o){var r,n,a,s=o.dataAttr||t._id.charAt(0),c={};if(o.axData)r=o.axData;else for(r=[],n=0;n<o.data.length;n++){var p=o.data[n];p[s+"axis"]===t._id&&r.push(p)}for(n=0;n<r.length;n++){var f=r[n][s];for(a=0;a<f.length;a++){var w=f[a];null!=w&&(c[w]=1)}}return Object.keys(c)}(e,S).sort(),"category ascending"===l?e._initialCategories=m:"category descending"===l&&(e._initialCategories=m.reverse()))}}},66287:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=e(50606),A=u.ONEDAY,T=u.ONEWEEK;B.dtick=function(m,l){var t="log"===l,o="date"===l,r="category"===l,n=o?A:1;if(!m)return n;if(C(m))return(m=Number(m))<=0?n:r?Math.max(1,Math.round(m)):o?Math.max(.1,m):m;if("string"!=typeof m||!o&&!t)return n;var a=m.charAt(0),s=m.substr(1);return(s=C(s)?Number(s):0)<=0||!(o&&"M"===a&&s===Math.round(s)||t&&"L"===a||t&&"D"===a&&(1===s||2===s))?n:m},B.tick0=function(m,l,t,o){return"date"===l?S.cleanDate(m,S.dateTick0(t,o%T==0?1:0)):"D1"!==o&&"D2"!==o?C(m)?Number(m):0:void 0}},85555:function(ie,B,e){"use strict";var C=e(30587).counter;ie.exports={idRegex:{x:C("x","( domain)?"),y:C("y","( domain)?")},attrRegex:C("[xy]axis"),xAxisMatch:C("xaxis"),yAxisMatch:C("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(ie,B,e){"use strict";var C=e(71828),S=e(71739),u=e(41675).id2name,A=e(13838),T=e(42449),m=e(21994),l=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;function o(f,w,v){var h=v.axIds,_=v.layoutOut,x=v.hasImage,b=_._axisConstraintGroups,M=_._axisMatchGroups,d=w._id,E=d.charAt(0),k=((_._splomAxes||{})[E]||{})[d]||{},I=w._id,L="x"===I.charAt(0);function P(te,oe){return C.coerce(f,w,A,te,oe)}w._matchGroup=null,w._constraintGroup=null,P("constrain",x?"domain":"range"),C.coerce(f,w,{constraintoward:{valType:"enumerated",values:L?["left","center","right"]:["bottom","middle","top"],dflt:L?"center":"middle"}},"constraintoward");var R,z,$=w.type,N=[];for(R=0;R<h.length;R++)(z=h[R])!==I&&_[u(z)].type===$&&N.push(z);var W=n(b,I);if(W){var H=[];for(R=0;R<N.length;R++)W[z=N[R]]||H.push(z);N=H}var U,Z,Y=N.length;Y&&(f.matches||k.matches)&&(U=C.coerce(f,w,{matches:{valType:"enumerated",values:N,dflt:-1!==N.indexOf(k.matches)?k.matches:void 0}},"matches"));var ae=x&&!L?w.anchor:void 0;if(Y&&!U&&(f.scaleanchor||ae)&&(Z=C.coerce(f,w,{scaleanchor:{valType:"enumerated",values:N}},"scaleanchor",ae)),U){w._matchGroup=a(M,I,U,1);var re=_[u(U)],Q=r(_,w)/r(_,re);L!==("x"===U.charAt(0))&&(Q=(L?"x":"y")+Q),a(b,I,U,Q)}else f.matches&&-1!==h.indexOf(f.matches)&&C.warn("ignored "+w._name+'.matches: "'+f.matches+'" to avoid an infinite loop');if(Z){var K=P("scaleratio");K||(K=w.scaleratio=1),a(b,I,Z,K)}else f.scaleanchor&&-1!==h.indexOf(f.scaleanchor)&&C.warn("ignored "+w._name+'.scaleanchor: "'+f.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function r(f,w){var v=w.domain;return v||(v=f[u(w.overlaying)].domain),v[1]-v[0]}function n(f,w){for(var v=0;v<f.length;v++)if(f[v][w])return f[v];return null}function a(f,w,v,h){var _,x,b,M,d,E=n(f,w);null===E?((E={})[w]=1,d=f.length,f.push(E)):d=f.indexOf(E);var k=Object.keys(E);for(_=0;_<f.length;_++)if(b=f[_],_!==d&&b[v]){var I=b[v];for(x=0;x<k.length;x++)b[M=k[x]]=s(I,s(h,E[M]));return void f.splice(d,1)}if(1!==h)for(x=0;x<k.length;x++){var L=k[x];E[L]=s(h,E[L])}E[v]=1}function s(f,w){var v,h,_="",x="";"string"==typeof f&&(v=(_=f.match(/^[xy]*/)[0]).length,f=+f.substr(v)),"string"==typeof w&&(h=(x=w.match(/^[xy]*/)[0]).length,w=+w.substr(h));var b=f*w;return v||h?v&&h&&_.charAt(0)!==x.charAt(0)?v===h?b:(v>h?_.substr(h):x.substr(v))+b:_+x+f*w:b}function c(f,w){for(var v=w._size,h=v.h/v.w,_={},x=Object.keys(f),b=0;b<x.length;b++){var M=x[b],d=f[M];if("string"==typeof d){var E=d.match(/^[xy]*/)[0],k=E.length;d=+d.substr(k);for(var I="y"===E.charAt(0)?h:1/h,L=0;L<k;L++)d*=I}_[M]=d}return _}function p(f,w){var v=f._inputDomain,_=v[0]+(v[1]-v[0])*t[f.constraintoward];f.domain=f._input.domain=[_+(v[0]-_)/w,_+(v[1]-_)/w],f.setScale()}B.handleDefaults=function(f,w,v){var h,_,x,b,M,d,E,k,I=v.axIds,L=v.axHasImage,P=w._axisConstraintGroups=[],R=w._axisMatchGroups=[];for(h=0;h<I.length;h++)o(M=f[b=u(I[h])],d=w[b],{axIds:I,layoutOut:w,hasImage:L[b]});function z(re,Q){for(h=0;h<re.length;h++)for(x in _=re[h])w[u(x)][Q]=_}for(z(R,"_matchGroup"),h=0;h<P.length;h++)for(x in _=P[h])if((d=w[u(x)]).fixedrange){for(var $ in _){var N=u($);!1===(f[N]||{}).fixedrange&&C.warn("fixedrange was specified as false for axis "+N+" but was overridden because another axis in its constraint group has fixedrange true"),w[N].fixedrange=!0}break}for(h=0;h<P.length;){for(x in _=P[h]){(d=w[u(x)])._matchGroup&&Object.keys(d._matchGroup).length===Object.keys(_).length&&(P.splice(h,1),h--);break}h++}z(P,"_constraintGroup");var W=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],H=!1,U=!1;function Z(){k=d[E],"rangebreaks"===E&&(U=d._hasDayOfWeekBreaks)}for(h=0;h<R.length;h++){_=R[h];for(var Y=0;Y<W.length;Y++){var ae;for(x in E=W[Y],k=null,_)if(M=f[b=u(x)],E in(d=w[b])){if(!d.matches&&(ae=d,E in M)){Z();break}null===k&&E in M&&Z()}if("range"===E&&k&&(H=!0),"autorange"===E&&null===k&&H&&(k=!1),null===k&&E in ae&&(k=ae[E]),null!==k)for(x in _)(d=w[u(x)])[E]="range"===E?k.slice():k,"rangebreaks"===E&&(d._hasDayOfWeekBreaks=U,m(d,w))}}},B.enforce=function(f){var w,v,h,_,x,b,M,d,E=f._fullLayout,k=E._axisConstraintGroups||[];for(w=0;w<k.length;w++){h=c(k[w],E);var I=Object.keys(h),L=1/0,P=0,R=1/0,z={},$={},N=!1;for(v=0;v<I.length;v++)$[_=I[v]]=x=E[u(_)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),z[_]=b=Math.abs(x._m)/h[_],L=Math.min(L,b),"domain"!==x.constrain&&x._constraintShrinkable||(R=Math.min(R,b)),delete x._constraintShrinkable,P=Math.max(P,b),"domain"===x.constrain&&(N=!0);if(!(L>l*P)||N)for(v=0;v<I.length;v++)if(b=z[_=I[v]],M=(x=$[_]).constrain,b!==R||"domain"===M)if(d=b/R,"range"===M)T(x,d);else{var W=x._inputDomain,H=(x.domain[1]-x.domain[0])/(W[1]-W[0]),U=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if((d/=H)*U<1){x.domain=x._input.domain=W.slice(),T(x,d);continue}if(U<1&&(x.range=x._input.range=x._inputRange.slice(),d*=U),x.autorange){var Z=x.r2l(x.range[0]),Y=x.r2l(x.range[1]),ae=(Z+Y)/2,re=ae,Q=ae,K=Math.abs(Y-ae),te=ae-K*d*1.0001,oe=ae+K*d*1.0001,ue=S.makePadFn(E,x,0),fe=S.makePadFn(E,x,1);p(x,d);var he,me,ke=Math.abs(x._m),Pe=S.concatExtremes(f,x),Te=Pe.min,be=Pe.max;for(me=0;me<Te.length;me++)(he=Te[me].val-ue(Te[me])/ke)>te&&he<re&&(re=he);for(me=0;me<be.length;me++)(he=be[me].val+fe(be[me])/ke)<oe&&he>Q&&(Q=he);d/=(Q-re)/(2*K),re=x.l2r(re),Q=x.l2r(Q),x.range=x._input.range=Z<Y?[re,Q]:[Q,re]}p(x,d)}}},B.getAxisGroup=function(f,w){for(var v=f._axisMatchGroups,h=0;h<v.length;h++)if(v[h][w])return"g"+h;return w},B.clean=function(f,w){if(w._inputDomain){for(var v=!1,h=w._id,_=f._fullLayout._axisConstraintGroups,x=0;x<_.length;x++)if(_[x][h]){v=!0;break}v&&"domain"===w.constrain||(w._input.domain=w.domain=w._inputDomain,delete w._inputDomain)}}},29323:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=S.numberFormat,A=e(84267),T=e(38520),m=e(73972),l=S.strTranslate,t=e(63893),o=e(7901),r=e(91424),n=e(30211),a=e(89298),s=e(6964),c=e(28569),p=e(64505),f=p.selectingOrDrawing,w=p.freeMode,v=e(18783).FROM_TL,h=e(33306),_=e(61549).redrawReglTraces,x=e(74875),b=e(41675).getFromId,M=e(47322).prepSelect,d=e(47322).clearOutline,E=e(47322).selectOnClick,k=e(42449),I=e(85555),L=I.MINDRAG,P=I.MINZOOM,R=!0;function z(he,me,ke,Pe){var Te=S.ensureSingle(he.draglayer,me,ke,function(be){be.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",he.id)});return Te.call(s,Pe),Te.node()}function $(he,me,ke,Pe,Te,be,xe){var Ne=z(he,"rect",me,ke);return C.select(Ne).call(r.setRect,Pe,Te,be,xe),Ne}function N(he,me){for(var ke=0;ke<he.length;ke++)if(!he[ke].fixedrange)return me;return""}function W(he,me,ke,Pe,Te){for(var be=0;be<he.length;be++){var xe=he[be];if(!xe.fixedrange)if(xe.rangebreaks){var Ne="y"===xe._id.charAt(0),Ce=Ne?1-ke:ke;Pe[xe._name+".range[0]"]=xe.l2r(xe.p2l((Ne?1-me:me)*xe._length)),Pe[xe._name+".range[1]"]=xe.l2r(xe.p2l(Ce*xe._length))}else{var pe=xe._rl[0],de=xe._rl[1]-pe;Pe[xe._name+".range[0]"]=xe.l2r(pe+de*me),Pe[xe._name+".range[1]"]=xe.l2r(pe+de*ke)}}if(Te&&Te.length){var se=(me+(1-ke))/2;W(Te,se,1-se,Pe,[])}}function H(he,me){for(var ke=0;ke<he.length;ke++){var Pe=he[ke];if(!Pe.fixedrange)if(Pe.rangebreaks){var Te=Pe._length,be=(Pe.p2l(0+me)-Pe.p2l(0)+(Pe.p2l(Te+me)-Pe.p2l(Te)))/2;Pe.range=[Pe.l2r(Pe._rl[0]-be),Pe.l2r(Pe._rl[1]-be)]}else Pe.range=[Pe.l2r(Pe._rl[0]-me/Pe._m),Pe.l2r(Pe._rl[1]-me/Pe._m)]}}function U(he){return 1-(he>=0?Math.min(he,.9):1/(1/Math.max(he,-.3)+3.222))}function Z(he,me,ke,Pe,Te){return he.append("path").attr("class","zoombox").style({fill:me>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",l(ke,Pe)).attr("d",Te+"Z")}function Y(he,me,ke){return he.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1,opacity:0}).attr("transform",l(me,ke)).attr("d","M0,0Z")}function ae(he,me,ke,Pe,Te,be){he.attr("d",Pe+"M"+ke.l+","+ke.t+"v"+ke.h+"h"+ke.w+"v-"+ke.h+"h-"+ke.w+"Z"),re(he,me,Te,be)}function re(he,me,ke,Pe){ke||(he.transition().style("fill",Pe>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),me.transition().style("opacity",1).duration(200))}function Q(he){C.select(he).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function K(he){R&&he.data&&he._context.showTips&&(S.notifier(S._(he,"Double-click to zoom back out"),"long"),R=!1)}function te(he){var me=Math.floor(Math.min(he.b-he.t,he.r-he.l,P)/2);return"M"+(he.l-3.5)+","+(he.t-.5+me)+"h3v"+-me+"h"+me+"v-3h-"+(me+3)+"ZM"+(he.r+3.5)+","+(he.t-.5+me)+"h-3v"+-me+"h"+-me+"v-3h"+(me+3)+"ZM"+(he.r+3.5)+","+(he.b+.5-me)+"h-3v"+me+"h"+-me+"v3h"+(me+3)+"ZM"+(he.l-3.5)+","+(he.b+.5-me)+"h3v"+me+"h"+me+"v3h-"+(me+3)+"Z"}function oe(he,me,ke,Pe,Te){for(var be,xe,Ne,Se,Ce=!1,pe={},de={},se=(Te||{}).xaHash,we=(Te||{}).yaHash,Re=0;Re<me.length;Re++){var Ee=me[Re];for(be in ke)if(Ee[be]){for(Ne in Ee)Te&&(se[Ne]||we[Ne])||("x"===Ne.charAt(0)?ke:Pe)[Ne]||(pe[Ne]=be);for(xe in Pe)Te&&(se[xe]||we[xe])||!Ee[xe]||(Ce=!0)}for(xe in Pe)if(Ee[xe])for(Se in Ee)Te&&(se[Se]||we[Se])||("x"===Se.charAt(0)?ke:Pe)[Se]||(de[Se]=xe)}Ce&&(S.extendFlat(pe,de),de={});var Ue={},$e=[];for(Ne in pe){var ve=b(he,Ne);$e.push(ve),Ue[ve._id]=ve}var Ie={},De=[];for(Se in de){var ze=b(he,Se);De.push(ze),Ie[ze._id]=ze}return{xaHash:Ue,yaHash:Ie,xaxes:$e,yaxes:De,xLinks:pe,yLinks:de,isSubplotConstrained:Ce}}function ue(he,me){if(T){var ke=void 0!==he.onwheel?"wheel":"mousewheel";he._onwheel&&he.removeEventListener(ke,he._onwheel),he._onwheel=me,he.addEventListener(ke,me,{passive:!1})}else void 0!==he.onwheel?he.onwheel=me:void 0!==he.onmousewheel?he.onmousewheel=me:he.isAddedWheelEvent||(he.isAddedWheelEvent=!0,he.addEventListener("wheel",me,{passive:!1}))}function fe(he){var me=[];for(var ke in he)me.push(he[ke]);return me}ie.exports={makeDragBox:function(he,me,ke,Pe,Te,be,xe,Ne){var Se,Ce,pe,de,se,we,Re,Ee,Ue,$e,ve,Ie,De,ze,Ge,He,Ke,et,st,mt,at,kt,St,gt=he._fullLayout._zoomlayer,dt=xe+Ne==="nsew",Ct=1===(xe+Ne).length;function Ot(){if(Ue=(Se=me.xaxis)._length,$e=(Ce=me.yaxis)._length,Re=Se._offset,Ee=Ce._offset,(pe={})[Se._id]=Se,(de={})[Ce._id]=Ce,xe&&Ne)for(var tn=me.overlays,gn=0;gn<tn.length;gn++){var hn=tn[gn].xaxis;pe[hn._id]=hn;var mn=tn[gn].yaxis;de[mn._id]=mn}se=fe(pe),we=fe(de),De=N(se,Ne),ze=N(we,xe),Ge=!ze&&!De,Ie=oe(he,he._fullLayout._axisMatchGroups,pe,de);var En=(ve=oe(he,he._fullLayout._axisConstraintGroups,pe,de,Ie)).isSubplotConstrained||Ie.isSubplotConstrained;He=Ne||En,Ke=xe||En;var vn=he._fullLayout;et=vn._has("scattergl"),st=vn._has("splom"),mt=vn._has("svg")}ke+=me.yaxis._shift,Ot();var tn,Pt=(tn=ze+De)?"nsew"===tn?dt?"":"pan"===he._fullLayout.dragmode?"move":"crosshair":tn.toLowerCase()+"-resize":"pointer",Ht=$(me,xe+Ne+"drag",Pt,ke,Pe,Te,be);if(Ge&&!dt)return Ht.onmousedown=null,Ht.style.pointerEvents="none",Ht;var jt,nt,it,Xe,rt,ft,vt,je,Ve,ut,ct={element:Ht,gd:he,plotinfo:me};function Tt(){ct.plotinfo.selection=!1,d(he)}function Mt(tn,gn){var pr,ar,Ar,hr,fr,hn=ct.gd;if(hn._fullLayout._activeShapeIndex>=0)hn._fullLayout._deactivateShape(hn);else{var mn=hn._fullLayout.clickmode;if(Q(hn),2!==tn||Ct||function nn(){if(!he._transitioningWithDuration){var tn=he._context.doubleClick,gn=[];De&&(gn=gn.concat(se)),ze&&(gn=gn.concat(we)),Ie.xaxes&&(gn=gn.concat(Ie.xaxes)),Ie.yaxes&&(gn=gn.concat(Ie.yaxes));var hn,mn,En,vn={};if("reset+autosize"===tn)for(tn="autosize",mn=0;mn<gn.length;mn++)if((hn=gn[mn])._rangeInitial&&(hn.range[0]!==hn._rangeInitial[0]||hn.range[1]!==hn._rangeInitial[1])||!hn._rangeInitial&&!hn.autorange){tn="reset";break}if("autosize"===tn)for(mn=0;mn<gn.length;mn++)(hn=gn[mn]).fixedrange||(vn[hn._name+".autorange"]=!0);else if("reset"===tn)for((De||ve.isSubplotConstrained)&&(gn=gn.concat(ve.xaxes)),ze&&!ve.isSubplotConstrained&&(gn=gn.concat(ve.yaxes)),ve.isSubplotConstrained&&(De?ze||(gn=gn.concat(we)):gn=gn.concat(se)),mn=0;mn<gn.length;mn++)(hn=gn[mn]).fixedrange||(hn._rangeInitial?(vn[hn._name+".range[0]"]=(En=hn._rangeInitial)[0],vn[hn._name+".range[1]"]=En[1]):vn[hn._name+".autorange"]=!0);he.emit("plotly_doubleclick",null),m.call("_guiRelayout",he,vn)}}(),dt)mn.indexOf("select")>-1&&E(gn,hn,se,we,me.id,ct),mn.indexOf("event")>-1&&n.click(hn,gn,me.id);else if(1===tn&&Ct){var En=xe?Ce:Se,vn="s"===xe||"w"===Ne?0:1,Un=En._name+".range["+vn+"]",Hn=(hr=(pr=En).range[ar=vn],fr=Math.abs(hr-pr.range[1-ar]),"date"===pr.type?hr:"log"===pr.type?(Ar=Math.ceil(Math.max(0,-Math.log(fr)/Math.LN10))+3,u("."+Ar+"g")(Math.pow(10,hr))):(Ar=Math.floor(Math.log(Math.abs(hr))/Math.LN10)-Math.floor(Math.log(fr)/Math.LN10)+4,u("."+String(Ar)+"g")(hr))),On="left",Wn="middle";if(En.fixedrange)return;xe?(Wn="n"===xe?"top":"bottom","right"===En.side&&(On="right")):"e"===Ne&&(On="right"),hn._context.showAxisRangeEntryBoxes&&C.select(Ht).call(t.makeEditable,{gd:hn,immediate:!0,background:hn._fullLayout.paper_bgcolor,text:String(Hn),fill:En.tickfont?En.tickfont.color:"#444",horizontalAlign:On,verticalAlign:Wn}).on("edit",function(pr){var ar=En.d2r(pr);void 0!==ar&&m.call("_guiRelayout",hn,Un,ar)})}}}function At(tn,gn){if(he._transitioningWithDuration)return!1;var Wn,pr,hn=Math.max(0,Math.min(Ue,kt*tn+jt)),mn=Math.max(0,Math.min($e,St*gn+nt)),En=Math.abs(hn-jt),vn=Math.abs(mn-nt);function Un(){vt="",it.r=it.l,it.t=it.b,Ve.attr("d","M0,0Z")}if(it.l=Math.min(jt,hn),it.r=Math.max(jt,hn),it.t=Math.min(nt,mn),it.b=Math.max(nt,mn),ve.isSubplotConstrained)En>P||vn>P?(vt="xy",En/Ue>vn/$e?(vn=En*$e/Ue,nt>mn?it.t=nt-vn:it.b=nt+vn):(En=vn*Ue/$e,jt>hn?it.l=jt-En:it.r=jt+En),Ve.attr("d",te(it))):Un();else if(Ie.isSubplotConstrained)if(En>P||vn>P){vt="xy";var Hn=Math.min(it.l/Ue,($e-it.b)/$e),On=Math.max(it.r/Ue,($e-it.t)/$e);it.l=Hn*Ue,it.r=On*Ue,it.b=(1-Hn)*$e,it.t=(1-On)*$e,Ve.attr("d",te(it))}else Un();else!ze||vn<Math.min(Math.max(.6*En,L),P)?En<L||!De?Un():(it.t=0,it.b=$e,vt="x",Ve.attr("d","M"+((Wn=it).l-.5)+","+((pr=nt)-P-.5)+"h-3v"+(2*P+1)+"h3ZM"+(Wn.r+.5)+","+(pr-P-.5)+"h3v"+(2*P+1)+"h-3Z")):!De||En<Math.min(.6*vn,P)?(it.l=0,it.r=Ue,vt="y",Ve.attr("d",function(Wn,pr){return"M"+(pr-P-.5)+","+(Wn.t-.5)+"v-3h"+(2*P+1)+"v3ZM"+(pr-P-.5)+","+(Wn.b+.5)+"v3h"+(2*P+1)+"v-3Z"}(it,jt))):(vt="xy",Ve.attr("d",te(it)));it.w=it.r-it.l,it.h=it.b-it.t,vt&&(ut=!0),he._dragged=ut,ae(je,Ve,it,rt,ft,Xe),bt(),he.emit("plotly_relayouting",at),ft=!0}function bt(){at={},"xy"!==vt&&"x"!==vt||(W(se,it.l/Ue,it.r/Ue,at,ve.xaxes),Zt("x",at)),"xy"!==vt&&"y"!==vt||(W(we,($e-it.b)/$e,($e-it.t)/$e,at,ve.yaxes),Zt("y",at))}function Rt(){bt(),Q(he),ln(),K(he)}ct.prepFn=function(tn,gn,hn){var mn=ct.dragmode,En=he._fullLayout.dragmode;En!==mn&&(ct.dragmode=En),Ot(),kt=he._fullLayout._invScaleX,St=he._fullLayout._invScaleY,Ge||(dt?tn.shiftKey?"pan"===En?En="zoom":f(En)||(En="pan"):tn.ctrlKey&&(En="pan"):En="pan"),ct.minDrag=w(En)?1:void 0,f(En)?(ct.xaxes=se,ct.yaxes=we,M(tn,gn,hn,ct,En)):(ct.clickFn=Mt,f(mn)&&Tt(),Ge||("zoom"===En?(ct.moveFn=At,ct.doneFn=Rt,ct.minDrag=1,function(vn,Un,Hn){var On=Ht.getBoundingClientRect();jt=Un-On.left,nt=Hn-On.top,he._fullLayout._calcInverseTransform(he);var Wn=S.apply3DTransform(he._fullLayout._invTransform)(jt,nt);it={l:jt=Wn[0],r:jt,w:0,t:nt=Wn[1],b:nt,h:0},Xe=he._hmpixcount?he._hmlumcount/he._hmpixcount:A(he._fullLayout.plot_bgcolor).getLuminance(),ft=!1,vt="xy",ut=!1,je=Z(gt,Xe,Re,Ee,rt="M0,0H"+Ue+"V"+$e+"H0V0"),Ve=Y(gt,Re,Ee)}(0,gn,hn)):"pan"===En&&(ct.moveFn=Wt,ct.doneFn=ln))),he._fullLayout._redrag=function(){var vn=he._dragdata;vn&&vn.element===Ht&&(f(he._fullLayout.dragmode)||(Ot(),Qt([0,0,Ue,$e]),ct.moveFn(vn.dx,vn.dy)))}},c.init(ct);var xt=[0,0,Ue,$e],_t=null,It=I.REDRAWDELAY,Gt=me.mainplot?he._fullLayout._plots[me.mainplot]:me;function Wt(tn,gn){if(tn*=kt,gn*=St,!he._transitioningWithDuration){if(he._fullLayout._replotting=!0,"ew"===De||"ns"===ze){var hn=De?-tn:0,mn=ze?-gn:0;if(Ie.isSubplotConstrained){if(De&&ze){var En=(tn/Ue-gn/$e)/2;hn=-(tn=En*Ue),mn=-(gn=-En*$e)}ze?hn=-mn*Ue/$e:mn=-hn*$e/Ue}return De&&(H(se,tn),Zt("x")),ze&&(H(we,gn),Zt("y")),Qt([hn,mn,Ue,$e]),cn(),void he.emit("plotly_relayouting",at)}var vn,Un,Hn="w"===De==("n"===ze)?1:-1;if(De&&ze&&(ve.isSubplotConstrained||Ie.isSubplotConstrained)){var On=(tn/Ue+Hn*gn/$e)/2;tn=On*Ue,gn=Hn*On*$e}if("w"===De?tn=Ar(se,0,tn):"e"===De?tn=Ar(se,1,-tn):De||(tn=0),"n"===ze?gn=Ar(we,1,gn):"s"===ze?gn=Ar(we,0,-gn):ze||(gn=0),vn="w"===De?tn:0,Un="n"===ze?gn:0,ve.isSubplotConstrained&&!Ie.isSubplotConstrained||Ie.isSubplotConstrained&&De&&ze&&Hn>0){var Wn;if(Ie.isSubplotConstrained||!De&&1===ze.length){for(Wn=0;Wn<se.length;Wn++)se[Wn].range=se[Wn]._r.slice(),k(se[Wn],1-gn/$e);vn=(tn=gn*Ue/$e)/2}if(Ie.isSubplotConstrained||!ze&&1===De.length){for(Wn=0;Wn<we.length;Wn++)we[Wn].range=we[Wn]._r.slice(),k(we[Wn],1-tn/Ue);Un=(gn=tn*$e/Ue)/2}}Ie.isSubplotConstrained&&ze||Zt("x"),Ie.isSubplotConstrained&&De||Zt("y");var pr=Ue-tn,ar=$e-gn;!Ie.isSubplotConstrained||De&&ze||(De?(Un=vn?0:tn*$e/Ue,ar=pr*$e/Ue):(vn=Un?0:gn*Ue/$e,pr=ar*Ue/$e)),Qt([vn,Un,pr,ar]),cn(),he.emit("plotly_relayouting",at)}function Ar(hr,fr,Rr){for(var Xt,rn,wn=1-fr,Cn=0;Cn<hr.length;Cn++){var Bn=hr[Cn];if(!Bn.fixedrange){Xt=Bn,rn=Bn._rl[wn]+(Bn._rl[fr]-Bn._rl[wn])/U(Rr/Bn._length);var or=Bn.l2r(rn);!1!==or&&void 0!==or&&(Bn.range[fr]=or)}}return Xt._length*(Xt._rl[fr]-rn)/(Xt._rl[fr]-Xt._rl[wn])}}function Zt(tn,gn){for(var hn=Ie.isSubplotConstrained?{x:we,y:se}[tn]:Ie[tn+"axes"],mn=Ie.isSubplotConstrained?{x:se,y:we}[tn]:[],En=0;En<hn.length;En++){var vn=hn[En],Un=vn._id,Hn=Ie.xLinks[Un]||Ie.yLinks[Un],On=mn[0]||pe[Hn]||de[Hn];On&&(gn?(gn[vn._name+".range[0]"]=gn[On._name+".range[0]"],gn[vn._name+".range[1]"]=gn[On._name+".range[1]"]):vn.range=On.range.slice())}}function cn(){var tn,gn=[];function hn(Un){for(tn=0;tn<Un.length;tn++)Un[tn].fixedrange||gn.push(Un[tn]._id)}function mn(Un,Hn){for(tn=0;tn<Un.length;tn++){var On=Un[tn],Wn=On[Hn];On.fixedrange||"sync"!==Wn.tickmode||gn.push(Wn._id)}}for(He&&(hn(se),hn(ve.xaxes),hn(Ie.xaxes),mn(me.overlays,"xaxis")),Ke&&(hn(we),hn(ve.yaxes),hn(Ie.yaxes),mn(me.overlays,"yaxis")),at={},tn=0;tn<gn.length;tn++){var vn=b(he,gn[tn]);a.drawOne(he,vn,{skipTitle:!0}),at[vn._name+".range[0]"]=vn.range[0],at[vn._name+".range[1]"]=vn.range[1]}a.redrawComponents(he,gn)}function ln(){Qt([0,0,Ue,$e]),S.syncOrAsync([x.previousPromises,function(){he._fullLayout._replotting=!1,m.call("_guiRelayout",he,at)}],he)}function Qt(tn){var gn,hn,mn,En,vn=he._fullLayout,Un=vn._plots,Hn=vn._subplots.cartesian;if(st&&m.subplotsRegistry.splom.drag(he),et)for(gn=0;gn<Hn.length;gn++)if(mn=(hn=Un[Hn[gn]]).xaxis,En=hn.yaxis,hn._scene){var On=S.simpleMap(mn.range,mn.r2l),Wn=S.simpleMap(En.range,En.r2l);hn._scene.update({range:[On[0],Wn[0],On[1],Wn[1]]})}if((st||et)&&(h(he),_(he)),mt){var pr=tn[2]/Se._length,ar=tn[3]/Ce._length;for(gn=0;gn<Hn.length;gn++){mn=(hn=Un[Hn[gn]]).xaxis,En=hn.yaxis;var Ar,hr,fr,Rr,rn=(Ke||Ie.isSubplotConstrained)&&!En.fixedrange&&de[En._id];if((He||Ie.isSubplotConstrained)&&!mn.fixedrange&&pe[mn._id]?(Ar=pr,fr=Ne||Ie.isSubplotConstrained?tn[0]:Tn(mn,Ar)):Ie.xaHash[mn._id]?(Ar=pr,fr=tn[0]*mn._length/Se._length):Ie.yaHash[mn._id]?(Ar=ar,fr="ns"===ze?-tn[1]*mn._length/Ce._length:Tn(mn,Ar,{n:"top",s:"bottom"}[ze])):fr=Pn(mn,Ar=kn(mn,pr,ar)),rn?(hr=ar,Rr=xe||Ie.isSubplotConstrained?tn[1]:Tn(En,hr)):Ie.yaHash[En._id]?(hr=ar,Rr=tn[1]*En._length/Ce._length):Ie.xaHash[En._id]?(hr=pr,Rr="ew"===De?-tn[0]*En._length/Se._length:Tn(En,hr,{e:"right",w:"left"}[De])):Rr=Pn(En,hr=kn(En,pr,ar)),Ar||hr){Ar||(Ar=1),hr||(hr=1);var wn=mn._offset-fr/Ar,Cn=En._offset-Rr/hr;hn.clipRect.call(r.setTranslate,fr,Rr).call(r.setScale,Ar,hr),hn.plot.call(r.setTranslate,wn,Cn).call(r.setScale,1/Ar,1/hr),Ar===hn.xScaleFactor&&hr===hn.yScaleFactor||(r.setPointGroupScale(hn.zoomScalePts,Ar,hr),r.setTextPointsScale(hn.zoomScaleTxt,Ar,hr)),r.hideOutsideRangePoints(hn.clipOnAxisFalseTraces,hn),hn.xScaleFactor=Ar,hn.yScaleFactor=hr}}}}function kn(tn,gn,hn){return tn.fixedrange?0:He&&ve.xaHash[tn._id]?gn:Ke&&(ve.isSubplotConstrained?ve.xaHash:ve.yaHash)[tn._id]?hn:0}function Pn(tn,gn){return gn?(tn.range=tn._r.slice(),k(tn,gn),Tn(tn,gn)):0}function Tn(tn,gn,hn){return tn._length*(1-gn)*v[hn||tn.constraintoward||"middle"]}return xe.length*Ne.length!=1&&ue(Ht,function(tn){if(he._context._scrollZoom.cartesian||he._fullLayout._enablescrollzoom){if(Tt(),he._transitioningWithDuration)return tn.preventDefault(),void tn.stopPropagation();Ot(),clearTimeout(_t);var gn=-tn.deltaY;if(isFinite(gn)||(gn=tn.wheelDelta/10),isFinite(gn)){var hn,mn=Math.exp(-Math.min(Math.max(gn,-20),20)/200),En=Gt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),vn=(tn.clientX-En.left)/En.width,Un=(En.bottom-tn.clientY)/En.height;if(He){for(Ne||(vn=.5),hn=0;hn<se.length;hn++)Hn(se[hn],vn,mn);Zt("x"),xt[2]*=mn,xt[0]+=xt[2]*vn*(1/mn-1)}if(Ke){for(xe||(Un=.5),hn=0;hn<we.length;hn++)Hn(we[hn],Un,mn);Zt("y"),xt[3]*=mn,xt[1]+=xt[3]*(1-Un)*(1/mn-1)}Qt(xt),cn(),he.emit("plotly_relayouting",at),_t=setTimeout(function(){he._fullLayout&&(xt=[0,0,Ue,$e],ln())},It),tn.preventDefault()}else S.log("Did not find wheel motion attributes: ",tn)}function Hn(On,Wn,pr){if(!On.fixedrange){var ar=S.simpleMap(On.range,On.r2l),Ar=ar[0]+(ar[1]-ar[0])*Wn;On.range=ar.map(function(hr){return On.l2r(Ar+(hr-Ar)*pr)})}}}),Ht},makeDragger:z,makeRectDragger:$,makeZoombox:Z,makeCorners:Y,updateZoombox:ae,xyCorners:te,transitionZoombox:re,removeZoombox:Q,showDoubleClickNotifier:K,attachWheelEventHandler:ue}},4305:function(ie,B,e){"use strict";var C=e(39898),S=e(30211),u=e(28569),A=e(6964),T=e(29323).makeDragBox,m=e(85555).DRAGGERSIZE;B.initInteractions=function(l){var t=l._fullLayout;if(l._context.staticPlot)C.select(l).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(r,n){if((t._plots[r].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var a=r.split("y"),s=n.split("y");return a[0]===s[0]?Number(a[1]||1)-Number(s[1]||1):Number(a[0]||1)-Number(s[0]||1)}return t._plots[r].mainplot?1:-1}).forEach(function(r){var n=t._plots[r],a=n.xaxis,s=n.yaxis;if(!n.mainplot){var c=T(l,n,a._offset,s._offset,a._length,s._length,"ns","ew");c.onmousemove=function(w){l._fullLayout._rehover=function(){l._fullLayout._hoversubplot===r&&l._fullLayout._plots[r]&&S.hover(l,w,r)},S.hover(l,w,r),l._fullLayout._lasthover=c,l._fullLayout._hoversubplot=r},c.onmouseout=function(w){l._dragging||(l._fullLayout._hoversubplot=null,u.unhover(l,w))},l._context.showAxisDragHandles&&(T(l,n,a._offset-m,s._offset-m,m,m,"n","w"),T(l,n,a._offset+a._length,s._offset-m,m,m,"n","e"),T(l,n,a._offset-m,s._offset+s._length,m,m,"s","w"),T(l,n,a._offset+a._length,s._offset+s._length,m,m,"s","e"))}if(l._context.showAxisDragHandles){if(r===a._mainSubplot){var p=a._mainLinePosition;"top"===a.side&&(p-=m),T(l,n,a._offset+.1*a._length,p,.8*a._length,m,"","ew"),T(l,n,a._offset,p,.1*a._length,m,"","w"),T(l,n,a._offset+.9*a._length,p,.1*a._length,m,"","e")}if(r===s._mainSubplot){var f=s._mainLinePosition;"right"!==s.side&&(f-=m),T(l,n,f,s._offset+.1*s._length,m,.8*s._length,"ns",""),T(l,n,f,s._offset+.9*s._length,m,.1*s._length,"s",""),T(l,n,f,s._offset,m,.1*s._length,"n","")}}});var o=t._hoverlayer.node();o.onmousemove=function(r){r.target=l._fullLayout._lasthover,S.hover(l,r,t._hoversubplot)},o.onclick=function(r){r.target=l._fullLayout._lasthover,S.click(l,r)},o.onmousedown=function(r){l._fullLayout._lasthover.onmousedown(r)},B.updateFx(l)}},B.updateFx=function(l){var t=l._fullLayout;A(t._draggers,"pan"===t.dragmode?"move":"crosshair")}},76325:function(ie,B,e){"use strict";var C=e(73972),S=e(71828),u=e(41675);ie.exports=function(A){return function(T,m){var l=T[A];if(Array.isArray(l))for(var t=C.subplotsRegistry.cartesian,o=t.idRegex,r=m._subplots,n=r.xaxis,a=r.yaxis,s=r.cartesian,c=m._has("cartesian")||m._has("gl2d"),p=0;p<l.length;p++){var f=l[p];if(S.isPlainObject(f)){var w=u.cleanId(f.xref,"x",!1),v=u.cleanId(f.yref,"y",!1),h=o.x.test(w),_=o.y.test(v);if(h||_){c||S.pushUnique(m._basePlotModules,t);var x=!1;h&&-1===n.indexOf(w)&&(n.push(w),x=!0),_&&-1===a.indexOf(v)&&(a.push(v),x=!0),x&&h&&_&&s.push(w+v)}}}}}},93612:function(ie,B,e){"use strict";var C=e(39898),S=e(73972),u=e(71828),A=e(74875),T=e(91424),m=e(27659).a0,l=e(41675),t=e(85555),o=e(77922),r=u.ensureSingle;function n(f,w,v){return u.ensureSingle(f,w,v,function(h){h.datum(v)})}function a(f,w,v,h,_){for(var x,b,M,d=t.traceLayerClasses,E=f._fullLayout,k=E._modules,I=[],L=[],P=0;P<k.length;P++){var R=(x=k[P]).name,z=S.modules[R].categories;if(z.svg){var $=x.layerName||R+"layer",N=x.plot;M=(b=m(v,N))[0],v=b[1],M.length&&I.push({i:d.indexOf($),className:$,plotMethod:N,cdModule:M}),z.zoomScale&&L.push("."+$)}}I.sort(function(U,Z){return U.i-Z.i});var W=w.plot.selectAll("g.mlayer").data(I,function(U){return U.className});if(W.enter().append("g").attr("class",function(U){return U.className}).classed("mlayer",!0).classed("rangeplot",w.isRangePlot),W.exit().remove(),W.order(),W.each(function(U){var Z=C.select(this),Y=U.className;U.plotMethod(f,w,U.cdModule,Z,h,_),-1===t.clipOnAxisFalseQuery.indexOf("."+Y)&&T.setClipUrl(Z,w.layerClipId,f)}),E._has("scattergl")&&(x=S.getModule("scattergl"),M=m(v,x)[0],x.plot(f,w,M)),!f._context.staticPlot&&(w._hasClipOnAxisFalse&&(w.clipOnAxisFalseTraces=w.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),L.length)){var H=w.plot.selectAll(L.join(",")).selectAll(".trace");w.zoomScalePts=H.selectAll("path.point"),w.zoomScaleTxt=H.selectAll(".textpoint")}}function s(f,w){var v=w.plotgroup,h=w.id,_=t.layerValue2layerClass[w.xaxis.layer],x=t.layerValue2layerClass[w.yaxis.layer],b=f._fullLayout._hasOnlyLargeSploms;if(w.mainplot){var M=w.mainplotinfo,d=M.plotgroup,E=h+"-x",k=h+"-y";w.minorGridlayer=M.minorGridlayer,w.gridlayer=M.gridlayer,w.zerolinelayer=M.zerolinelayer,r(M.overlinesBelow,"path",E),r(M.overlinesBelow,"path",k),r(M.overaxesBelow,"g",E),r(M.overaxesBelow,"g",k),w.plot=r(M.overplot,"g",h),r(M.overlinesAbove,"path",E),r(M.overlinesAbove,"path",k),r(M.overaxesAbove,"g",E),r(M.overaxesAbove,"g",k),w.xlines=d.select(".overlines-"+_).select("."+E),w.ylines=d.select(".overlines-"+x).select("."+k),w.xaxislayer=d.select(".overaxes-"+_).select("."+E),w.yaxislayer=d.select(".overaxes-"+x).select("."+k)}else if(b)w.xlines=r(v,"path","xlines-above"),w.ylines=r(v,"path","ylines-above"),w.xaxislayer=r(v,"g","xaxislayer-above"),w.yaxislayer=r(v,"g","yaxislayer-above");else{var I=r(v,"g","layer-subplot");w.shapelayer=r(I,"g","shapelayer"),w.imagelayer=r(I,"g","imagelayer"),w.minorGridlayer=r(v,"g","minor-gridlayer"),w.gridlayer=r(v,"g","gridlayer"),w.zerolinelayer=r(v,"g","zerolinelayer"),r(v,"path","xlines-below"),r(v,"path","ylines-below"),w.overlinesBelow=r(v,"g","overlines-below"),r(v,"g","xaxislayer-below"),r(v,"g","yaxislayer-below"),w.overaxesBelow=r(v,"g","overaxes-below"),w.plot=r(v,"g","plot"),w.overplot=r(v,"g","overplot"),w.xlines=r(v,"path","xlines-above"),w.ylines=r(v,"path","ylines-above"),w.overlinesAbove=r(v,"g","overlines-above"),r(v,"g","xaxislayer-above"),r(v,"g","yaxislayer-above"),w.overaxesAbove=r(v,"g","overaxes-above"),w.xlines=v.select(".xlines-"+_),w.ylines=v.select(".ylines-"+x),w.xaxislayer=v.select(".xaxislayer-"+_),w.yaxislayer=v.select(".yaxislayer-"+x)}b||(n(w.minorGridlayer,"g",w.xaxis._id),n(w.minorGridlayer,"g",w.yaxis._id),w.minorGridlayer.selectAll("g").map(function(L){return L[0]}).sort(l.idSort),n(w.gridlayer,"g",w.xaxis._id),n(w.gridlayer,"g",w.yaxis._id),w.gridlayer.selectAll("g").map(function(L){return L[0]}).sort(l.idSort)),w.xlines.style("fill","none").classed("crisp",!0),w.ylines.style("fill","none").classed("crisp",!0)}function c(f,w){if(f){var v={};for(var h in f.each(function(M){var d=M[0];C.select(this).remove(),p(d,w),v[d]=!0}),w._plots)for(var _=w._plots[h].overlays||[],x=0;x<_.length;x++){var b=_[x];v[b.id]&&b.plot.selectAll(".trace").remove()}}}function p(f,w){w._draggers.selectAll("g."+f).remove(),w._defs.select("#clip"+w._uid+f+"plot").remove()}B.name="cartesian",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=t.idRegex,B.attrRegex=t.attrRegex,B.attributes=e(89502),B.layoutAttributes=e(13838),B.supplyLayoutDefaults=e(86763),B.transitionAxes=e(66847),B.finalizeSubplots=function(f,w){var v,h,_,x=w._subplots,b=x.xaxis,M=x.yaxis,d=x.cartesian,E=d.concat(x.gl2d||[]),k={},I={};for(v=0;v<E.length;v++){var L=E[v].split("y");k[L[0]]=1,I["y"+L[1]]=1}for(v=0;v<b.length;v++)k[h=b[v]]||(_=(f[l.id2name(h)]||{}).anchor,t.idRegex.y.test(_)||(_="y"),d.push(h+_),E.push(h+_),I[_]||(I[_]=1,u.pushUnique(M,_)));for(v=0;v<M.length;v++)I[_=M[v]]||(h=(f[l.id2name(_)]||{}).anchor,t.idRegex.x.test(h)||(h="x"),d.push(h+_),E.push(h+_),k[h]||(k[h]=1,u.pushUnique(b,h)));if(!E.length){for(var P in h="",_="",f)t.attrRegex.test(P)&&("x"===P.charAt(0)?(!h||+P.substr(5)<+h.substr(5))&&(h=P):(!_||+P.substr(5)<+_.substr(5))&&(_=P));h=h?l.name2id(h):"x",_=_?l.name2id(_):"y",b.push(h),M.push(_),d.push(h+_)}},B.plot=function(f,w,v,h){var _,x=f._fullLayout,b=x._subplots.cartesian,M=f.calcdata;if(!Array.isArray(w))for(w=[],_=0;_<M.length;_++)w.push(_);for(_=0;_<b.length;_++){for(var d,E=b[_],k=x._plots[E],I=[],L=0;L<M.length;L++){var P=M[L],R=P[0].trace;R.xaxis+R.yaxis===E&&((-1!==w.indexOf(R.index)||R.carpet)&&(d&&d[0].trace.xaxis+d[0].trace.yaxis===E&&-1!==["tonextx","tonexty","tonext"].indexOf(R.fill)&&-1===I.indexOf(d)&&I.push(d),I.push(P)),d=P)}a(f,k,I,v,h)}},B.clean=function(f,w,v,h){var _,x,b,M=h._plots||{},d=w._plots||{},E=h._subplots||{};if(h._hasOnlyLargeSploms&&!w._hasOnlyLargeSploms)for(b in M)(_=M[b]).plotgroup&&_.plotgroup.remove();var k=h._has&&h._has("gl"),I=w._has&&w._has("gl");if(k&&!I)for(b in M)(_=M[b])._scene&&_._scene.destroy();if(E.xaxis&&E.yaxis){var L=l.listIds({_fullLayout:h});for(x=0;x<L.length;x++){var P=L[x];w[l.id2name(P)]||h._infolayer.selectAll(".g-"+P+"title").remove()}}var R=h._has&&h._has("cartesian"),z=w._has&&w._has("cartesian");if(R&&!z)c(h._cartesianlayer.selectAll(".subplot"),h),h._defs.selectAll(".axesclip").remove(),delete h._axisConstraintGroups,delete h._axisMatchGroups;else if(E.cartesian)for(x=0;x<E.cartesian.length;x++){var $=E.cartesian[x];d[$]||(h._cartesianlayer.selectAll("."+$+",."+$+"-x,."+$+"-y").remove(),p($,h))}},B.drawFramework=function(f){var w=f._fullLayout,v=function(_){var x,b,M,d,E,k,I=_._fullLayout,L=I._subplots.cartesian,P=L.length,R=[],z=[];for(x=0;x<P;x++){var W=(E=(d=I._plots[M=L[x]]).xaxis)._mainAxis._id+(k=d.yaxis)._mainAxis._id,H=I._plots[W];d.overlays=[],W!==M&&H?(d.mainplot=W,d.mainplotinfo=H,z.push(M)):(d.mainplot=void 0,d.mainplotinfo=void 0,R.push(M))}for(x=0;x<z.length;x++)(d=I._plots[M=z[x]]).mainplotinfo.overlays.push(d);var U=R.concat(z),Z=new Array(P);for(x=0;x<P;x++){var Y=[M=U[x],(E=(d=I._plots[M]).xaxis).layer,(k=d.yaxis).layer,E.overlaying||"",k.overlaying||""];for(b=0;b<d.overlays.length;b++)Y.push(d.overlays[b].id);Z[x]=Y}return Z}(f),h=w._cartesianlayer.selectAll(".subplot").data(v,String);h.enter().append("g").attr("class",function(_){return"subplot "+_[0]}),h.order(),h.exit().call(c,w),h.each(function(_){var x=_[0],b=w._plots[x];b.plotgroup=C.select(this),s(f,b),b.draglayer=r(w._draggers,"g",x)})},B.rangePlot=function(f,w,v){s(f,w),a(f,w,v),A.style(f)},B.toSVG=function(f){var w=f._fullLayout._glimages,v=C.select(f).selectAll(".svg-container");v.filter(function(h,_){return _===v.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var h=this,_=h.toDataURL("image/png");w.append("svg:image").attr({xmlns:o.svg,"xlink:href":_,preserveAspectRatio:"none",x:0,y:0,width:h.style.width,height:h.style.height})})},B.updateFx=e(4305).updateFx},13838:function(ie,B,e){"use strict";var C=e(41940),S=e(22399),u=e(79952).P,A=e(1426).extendFlat,T=e(44467).templatedArray,m=e(12663).descriptionWithDates,l=e(50606).ONEDAY,t=e(85555),o=t.HOUR_PATTERN,r=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},a=A({},n,{values:n.values.slice().concat(["sync"])});function s(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var c={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},p={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},f={valType:"data_array",editType:"ticks"},w={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function v(E){var k={valType:"number",min:0,editType:"ticks"};return E||(k.dflt=5),k}function h(E){var k={valType:"number",min:0,editType:"ticks"};return E||(k.dflt=1),k}var _={valType:"color",dflt:S.defaultLine,editType:"ticks"},x={valType:"color",dflt:S.lightLine,editType:"ticks"};function b(E){var k={valType:"number",min:0,editType:"ticks"};return E||(k.dflt=1),k}var M=A({},u,{editType:"ticks"}),d={valType:"boolean",editType:"ticks"};ie.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:S.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:C({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:T("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[r,o,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:l},editType:"calc"}),tickmode:a,nticks:s(),tick0:c,dtick:p,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:f,ticktext:{valType:"data_array",editType:"ticks"},ticks:w,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:v(),tickwidth:h(),tickcolor:_,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:A({},u,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:C({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:m("tick label")},tickformatstops:T("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:m("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:S.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:d,gridcolor:x,gridwidth:b(),griddash:M,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:S.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:S.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:s("minor"),tick0:c,dtick:p,tickvals:f,ticks:w,ticklen:v("minor"),tickwidth:h("minor"),tickcolor:_,gridcolor:x,gridwidth:b("minor"),griddash:M,showgrid:d,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:C({editType:"ticks"})}}},86763:function(ie,B,e){"use strict";var C=e(71828),S=e(7901),u=e(23469).isUnifiedHover,A=e(98212),T=e(44467),m=e(10820),l=e(13838),t=e(951),o=e(71453),r=e(99082),n=e(52830),a=e(41675),s=a.id2name,c=a.name2id,p=e(85555).AX_ID_PATTERN,f=e(73972),w=f.traceIs,v=f.getComponentMethod;function h(_,x,b){Array.isArray(_[x])?_[x].push(b):_[x]=[b]}ie.exports=function(_,x,b){var M,d,E=x.autotypenumbers,k={},I={},L={},P={},R={},z={},$={},N={},W={},H={};for(M=0;M<b.length;M++){var U=b[M];if(w(U,"cartesian")||w(U,"gl2d")){var Z,Y;if(U.xaxis)Z=s(U.xaxis),h(k,Z,U);else if(U.xaxes)for(d=0;d<U.xaxes.length;d++)h(k,s(U.xaxes[d]),U);if(U.yaxis)Y=s(U.yaxis),h(k,Y,U);else if(U.yaxes)for(d=0;d<U.yaxes.length;d++)h(k,s(U.yaxes[d]),U);"funnel"===U.type?"h"===U.orientation?(Z&&(I[Z]=!0),Y&&($[Y]=!0)):Y&&(L[Y]=!0):"image"===U.type?(Y&&(N[Y]=!0),Z&&(N[Z]=!0)):(Y&&(R[Y]=!0,z[Y]=!0),w(U,"carpet")&&("carpet"!==U.type||U._cheater)||Z&&(P[Z]=!0)),"carpet"===U.type&&U._cheater&&Z&&(I[Z]=!0),w(U,"2dMap")&&(W[Z]=!0,W[Y]=!0),w(U,"oriented")&&(H["h"===U.orientation?Y:Z]=!0)}}var ae=x._subplots,re=ae.xaxis,Q=ae.yaxis,K=C.simpleMap(re,s),te=C.simpleMap(Q,s),oe=K.concat(te),ue=S.background;re.length&&Q.length&&(ue=C.coerce(_,x,m,"plot_bgcolor"));var fe,he,me,ke,Pe,Te=S.combine(ue,x.paper_bgcolor);function be(){Pe._traceIndices=(k[fe]||[]).map(function(Ot){return Ot._expandedIndex}),Pe._annIndices=[],Pe._shapeIndices=[],Pe._selectionIndices=[],Pe._imgIndices=[],Pe._subplotsWith=[],Pe._counterAxes=[],Pe._name=Pe._attr=fe,Pe._id=he}function xe(Ct,Ot){return C.coerce(ke,Pe,l,Ct,Ot)}function Ne(Ct,Ot){return C.coerce2(ke,Pe,l,Ct,Ot)}function Se(Ct){return"x"===Ct?Q:re}function Ce(Ct,Ot){for(var Pt="x"===Ct?K:te,Ht=[],jt=0;jt<Pt.length;jt++){var nt=Pt[jt];nt===Ot||(_[nt]||{}).overlaying||Ht.push(c(nt))}return Ht}var pe={x:Se("x"),y:Se("y")},de=pe.x.concat(pe.y),se={},we=[];function Re(){var Ct=ke.matches;p.test(Ct)&&-1===de.indexOf(Ct)&&(se[Ct]=ke.type,we=Object.keys(se))}var Ee=A(_,x),Ue=u(Ee);for(M=0;M<oe.length;M++){he=c(fe=oe[M]),me=fe.charAt(0),C.isPlainObject(_[fe])||(_[fe]={}),ke=_[fe],Pe=T.newContainer(x,fe,me+"axis"),be();var Ie={hasMinor:!0,letter:me,font:x.font,outerTicks:W[fe],showGrid:!H[fe],data:k[fe]||[],bgColor:Te,calendar:x.calendar,automargin:!0,visibleDflt:"x"===me&&!P[fe]&&I[fe]||"y"===me&&!R[fe]&&L[fe],reverseDflt:"y"===me&&(!z[fe]&&$[fe]||N[fe]),autotypenumbersDflt:E,splomStash:((x._splomAxes||{})[me]||{})[he]};xe("uirevision",x.uirevision),t(ke,Pe,xe,Ie),o(ke,Pe,xe,Ie,x);var De=Ue&&me===Ee.charAt(0),ze=Ne("spikecolor",Ue?Pe.color:void 0),Ge=Ne("spikethickness",Ue?1.5:void 0),He=Ne("spikedash",Ue?"dot":void 0),Ke=Ne("spikemode",Ue?"across":void 0),et=Ne("spikesnap");xe("showspikes",!!(De||ze||Ge||He||Ke||et))||(delete Pe.spikecolor,delete Pe.spikethickness,delete Pe.spikedash,delete Pe.spikemode,delete Pe.spikesnap);var st=s(ke.overlaying),mt=[0,1];if(void 0!==x[st]){var at=s(x[st].anchor);void 0!==x[at]&&(mt=x[at].domain)}n(ke,Pe,xe,{letter:me,counterAxes:pe[me],overlayableAxes:Ce(me,fe),grid:x.grid,overlayingDomain:mt}),xe("title.standoff"),Re(),Pe._input=ke}for(M=0;M<we.length;){he=we[M++],me=(fe=s(he)).charAt(0),C.isPlainObject(_[fe])||(_[fe]={}),ke=_[fe],Pe=T.newContainer(x,fe,me+"axis"),be();var kt={letter:me,font:x.font,outerTicks:W[fe],showGrid:!H[fe],data:[],bgColor:Te,calendar:x.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:E,splomStash:((x._splomAxes||{})[me]||{})[he]};xe("uirevision",x.uirevision),Pe.type=se[he]||"linear",o(ke,Pe,xe,kt,x),n(ke,Pe,xe,{letter:me,counterAxes:pe[me],overlayableAxes:Ce(me,fe),grid:x.grid}),xe("fixedrange"),Re(),Pe._input=ke}var St=v("rangeslider","handleDefaults"),gt=v("rangeselector","handleDefaults");for(M=0;M<K.length;M++)ke=_[fe=K[M]],Pe=x[fe],St(_,x,fe),"date"===Pe.type&&gt(ke,Pe,x,te,Pe.calendar),xe("fixedrange");for(M=0;M<te.length;M++){ke=_[fe=te[M]];var dt=x[s((Pe=x[fe]).anchor)];xe("fixedrange",v("rangeslider","isVisible")(dt))}r.handleDefaults(_,x,{axIds:de.concat(we).sort(a.idSort),axHasImage:N})}},92128:function(ie,B,e){"use strict";var C=e(84267).mix,S=e(22399),u=e(71828);ie.exports=function(A,T,m,l){var t=(l=l||{}).dfltColor;function o(_,x){return u.coerce2(A,T,l.attributes,_,x)}var r=o("linecolor",t),n=o("linewidth");m("showline",l.showLine||!!r||!!n)||(delete T.linecolor,delete T.linewidth);var a=o("gridcolor",C(t,l.bgColor,l.blend||S.lightFraction).toRgbString()),s=o("gridwidth"),c=o("griddash");if(m("showgrid",l.showGrid||!!a||!!s||!!c)||(delete T.gridcolor,delete T.gridwidth,delete T.griddash),l.hasMinor){var p=o("minor.gridcolor",C(T.gridcolor,l.bgColor,67).toRgbString()),f=o("minor.gridwidth",T.gridwidth||1),w=o("minor.griddash",T.griddash||"solid");m("minor.showgrid",!!p||!!f||!!w)||(delete T.minor.gridcolor,delete T.minor.gridwidth,delete T.minor.griddash)}if(!l.noZeroLine){var v=o("zerolinecolor",t),h=o("zerolinewidth");m("zeroline",l.showGrid||!!v||!!h)||(delete T.zerolinecolor,delete T.zerolinewidth)}}},52830:function(ie,B,e){"use strict";var C=e(92770),S=e(71828);ie.exports=function(u,A,T,m){var l,t,o,r,n,a,s=m.counterAxes||[],c=m.overlayableAxes||[],p=m.letter,f=m.grid,w=m.overlayingDomain;f&&(l=f._anchors[A._id],(t=f._domains[p][f._axisMap[A._id]])&&(o=f[p+"side"].split(" ")[0],r=f.domain[p]["right"===o||"top"===o?1:0])),t=t||[0,1],l=l||(C(u.position)?"free":s[0]||"free"),o=o||("x"===p?"bottom":"left"),r=r||0,n=0,a=!1;var v=S.coerce(u,A,{anchor:{valType:"enumerated",values:["free"].concat(s),dflt:l}},"anchor"),h=S.coerce(u,A,{side:{valType:"enumerated",values:"x"===p?["bottom","top"]:["left","right"],dflt:o}},"side");"free"===v&&("y"===p&&(T("autoshift")&&(r="left"===h?w[0]:w[1],a=!A.automargin||A.automargin,n="left"===h?-3:3),T("shift",n)),T("position",r)),T("automargin",a);var _=!1;if(c.length&&(_=S.coerce(u,A,{overlaying:{valType:"enumerated",values:[!1].concat(c),dflt:!1}},"overlaying")),!_){var x=T("domain",t);x[0]>x[1]-.000244140625&&(A.domain=t),S.noneOrAll(u.domain,A.domain,t),"sync"===A.tickmode&&(A.tickmode="auto")}return T("layer"),A}},89426:function(ie,B,e){"use strict";var C=e(59652);ie.exports=function(S,u,A,T,m){m||(m={});var l=m.tickSuffixDflt,t=C(S);A("tickprefix")&&A("showtickprefix",t),A("ticksuffix",l)&&A("showticksuffix",t)}},42449:function(ie,B,e){"use strict";var C=e(18783).FROM_BL;ie.exports=function(S,u,A){void 0===A&&(A=C[S.constraintoward||"center"]);var T=[S.r2l(S.range[0]),S.r2l(S.range[1])],m=T[0]+(T[1]-T[0])*A;S.range=S._input.range=[S.l2r(m+(T[0]-m)*u),S.l2r(m+(T[1]-m)*u)],S.setScale()}},21994:function(ie,B,e){"use strict";var C=e(39898),S=e(84096).g0,u=e(71828),A=u.numberFormat,T=e(92770),m=u.cleanNumber,l=u.ms2DateTime,t=u.dateTime2ms,o=u.ensureNumber,r=u.isArrayOrTypedArray,n=e(50606),a=n.FP_SAFE,s=n.BADNUM,c=n.LOG_CLIP,p=n.ONEWEEK,f=n.ONEDAY,w=n.ONEHOUR,v=n.ONEMIN,h=n.ONESEC,_=e(41675),x=e(85555),b=x.HOUR_PATTERN,M=x.WEEKDAY_PATTERN;function d(k){return Math.pow(10,k)}function E(k){return null!=k}ie.exports=function(k,I){I=I||{};var L=k._id||"x",P=L.charAt(0);function R(oe,ue){if(oe>0)return Math.log(oe)/Math.LN10;if(oe<=0&&ue&&k.range&&2===k.range.length){var fe=k.range[0],he=k.range[1];return.5*(fe+he-2*c*Math.abs(fe-he))}return s}function z(oe,ue,fe,he){if((he||{}).msUTC&&T(oe))return+oe;var me=t(oe,fe||k.calendar);if(me===s){if(!T(oe))return s;oe=+oe;var ke=Math.floor(10*u.mod(oe+.05,1)),Pe=Math.round(oe-ke/10);me=t(new Date(Pe))+ke/10}return me}function $(oe,ue,fe){return l(oe,ue,fe||k.calendar)}function N(oe){return k._categories[Math.round(oe)]}function W(oe){if(E(oe)){if(void 0===k._categoriesMap&&(k._categoriesMap={}),void 0!==k._categoriesMap[oe])return k._categoriesMap[oe];k._categories.push("number"==typeof oe?String(oe):oe);var ue=k._categories.length-1;return k._categoriesMap[oe]=ue,ue}return s}function H(oe){if(k._categoriesMap)return k._categoriesMap[oe]}function U(oe){var ue=H(oe);return void 0!==ue?ue:T(oe)?+oe:void 0}function Z(oe){return T(oe)?+oe:H(oe)}function Y(oe,ue,fe){return C.round(fe+ue*oe,2)}function ae(oe,ue,fe){return(oe-fe)/ue}var re=function(oe){return T(oe)?Y(oe,k._m,k._b):s},Q=function(oe){return ae(oe,k._m,k._b)};if(k.rangebreaks){var K="y"===P;re=function(oe){if(!T(oe))return s;var ue=k._rangebreaks.length;if(!ue)return Y(oe,k._m,k._b);var fe=K;k.range[0]>k.range[1]&&(fe=!fe);for(var he=fe?-1:1,me=he*oe,ke=0,Pe=0;Pe<ue;Pe++){var Te=he*k._rangebreaks[Pe].min,be=he*k._rangebreaks[Pe].max;if(me<Te)break;if(!(me>be)){ke=me<(Te+be)/2?Pe:Pe+1;break}ke=Pe+1}var xe=k._B[ke]||0;return isFinite(xe)?Y(oe,k._m2,xe):0},Q=function(oe){var ue=k._rangebreaks.length;if(!ue)return ae(oe,k._m,k._b);for(var fe=0,he=0;he<ue&&!(oe<k._rangebreaks[he].pmin);he++)oe>k._rangebreaks[he].pmax&&(fe=he+1);return ae(oe,k._m2,k._B[fe])}}k.c2l="log"===k.type?R:o,k.l2c="log"===k.type?d:o,k.l2p=re,k.p2l=Q,k.c2p="log"===k.type?function(oe,ue){return re(R(oe,ue))}:re,k.p2c="log"===k.type?function(oe){return d(Q(oe))}:Q,-1!==["linear","-"].indexOf(k.type)?(k.d2r=k.r2d=k.d2c=k.r2c=k.d2l=k.r2l=m,k.c2d=k.c2r=k.l2d=k.l2r=o,k.d2p=k.r2p=function(oe){return k.l2p(m(oe))},k.p2d=k.p2r=Q,k.cleanPos=o):"log"===k.type?(k.d2r=k.d2l=function(oe,ue){return R(m(oe),ue)},k.r2d=k.r2c=function(oe){return d(m(oe))},k.d2c=k.r2l=m,k.c2d=k.l2r=o,k.c2r=R,k.l2d=d,k.d2p=function(oe,ue){return k.l2p(k.d2r(oe,ue))},k.p2d=function(oe){return d(Q(oe))},k.r2p=function(oe){return k.l2p(m(oe))},k.p2r=Q,k.cleanPos=o):"date"===k.type?(k.d2r=k.r2d=u.identity,k.d2c=k.r2c=k.d2l=k.r2l=z,k.c2d=k.c2r=k.l2d=k.l2r=$,k.d2p=k.r2p=function(oe,ue,fe){return k.l2p(z(oe,0,fe))},k.p2d=k.p2r=function(oe,ue,fe){return $(Q(oe),ue,fe)},k.cleanPos=function(oe){return u.cleanDate(oe,s,k.calendar)}):"category"===k.type?(k.d2c=k.d2l=W,k.r2d=k.c2d=k.l2d=N,k.d2r=k.d2l_noadd=U,k.r2c=function(oe){var ue=Z(oe);return void 0!==ue?ue:k.fraction2r(.5)},k.l2r=k.c2r=o,k.r2l=Z,k.d2p=function(oe){return k.l2p(k.r2c(oe))},k.p2d=function(oe){return N(Q(oe))},k.r2p=k.d2p,k.p2r=Q,k.cleanPos=function(oe){return"string"==typeof oe&&""!==oe?oe:o(oe)}):"multicategory"===k.type&&(k.r2d=k.c2d=k.l2d=N,k.d2r=k.d2l_noadd=U,k.r2c=function(oe){var ue=U(oe);return void 0!==ue?ue:k.fraction2r(.5)},k.r2c_just_indices=H,k.l2r=k.c2r=o,k.r2l=U,k.d2p=function(oe){return k.l2p(k.r2c(oe))},k.p2d=function(oe){return N(Q(oe))},k.r2p=k.d2p,k.p2r=Q,k.cleanPos=function(oe){return Array.isArray(oe)||"string"==typeof oe&&""!==oe?oe:o(oe)},k.setupMultiCategory=function(oe){var ue,fe,he=k._traceIndices,me=k._matchGroup;if(me&&0===k._categories.length)for(var ke in me)if(ke!==L){var Pe=I[_.id2name(ke)];he=he.concat(Pe._traceIndices)}var Te=[[0,{}],[0,{}]],be=[];for(ue=0;ue<he.length;ue++){var xe=oe[he[ue]];if(P in xe){var Ne=xe[P],Se=xe._length||u.minRowLength(Ne);if(r(Ne[0])&&r(Ne[1]))for(fe=0;fe<Se;fe++){var Ce=Ne[0][fe],pe=Ne[1][fe];E(Ce)&&E(pe)&&(be.push([Ce,pe]),Ce in Te[0][1]||(Te[0][1][Ce]=Te[0][0]++),pe in Te[1][1]||(Te[1][1][pe]=Te[1][0]++))}}}for(be.sort(function(de,se){var we=Te[0][1],Re=we[de[0]]-we[se[0]];if(Re)return Re;var Ee=Te[1][1];return Ee[de[1]]-Ee[se[1]]}),ue=0;ue<be.length;ue++)W(be[ue])}),k.fraction2r=function(oe){var ue=k.r2l(k.range[0]),fe=k.r2l(k.range[1]);return k.l2r(ue+oe*(fe-ue))},k.r2fraction=function(oe){var ue=k.r2l(k.range[0]),fe=k.r2l(k.range[1]);return(k.r2l(oe)-ue)/(fe-ue)},k.cleanRange=function(oe,ue){ue||(ue={}),oe||(oe="range");var fe,he,me=u.nestedProperty(k,oe).get();if(he=(he="date"===k.type?u.dfltRange(k.calendar):"y"===P?x.DFLTRANGEY:"realaxis"===k._name?[0,1]:ue.dfltRange||x.DFLTRANGEX).slice(),"tozero"!==k.rangemode&&"nonnegative"!==k.rangemode||(he[0]=0),me&&2===me.length)for("date"!==k.type||k.autorange||(me[0]=u.cleanDate(me[0],s,k.calendar),me[1]=u.cleanDate(me[1],s,k.calendar)),fe=0;fe<2;fe++)if("date"===k.type){if(!u.isDateTime(me[fe],k.calendar)){k[oe]=he;break}if(k.r2l(me[0])===k.r2l(me[1])){var ke=u.constrain(k.r2l(me[0]),u.MIN_MS+1e3,u.MAX_MS-1e3);me[0]=k.l2r(ke-1e3),me[1]=k.l2r(ke+1e3);break}}else{if(!T(me[fe])){if(!T(me[1-fe])){k[oe]=he;break}me[fe]=me[1-fe]*(fe?10:.1)}if(me[fe]<-a?me[fe]=-a:me[fe]>a&&(me[fe]=a),me[0]===me[1]){var Pe=Math.max(1,Math.abs(1e-6*me[0]));me[0]-=Pe,me[1]+=Pe}}else u.nestedProperty(k,oe).set(he)},k.setScale=function(oe){var ue=I._size;if(k.overlaying){var fe=_.getFromId({_fullLayout:I},k.overlaying);k.domain=fe.domain}var he=oe&&k._r?"_r":"range",me=k.calendar;k.cleanRange(he);var ke,Pe,Te=k.r2l(k[he][0],me),be=k.r2l(k[he][1],me),xe="y"===P;if(xe?(k._offset=ue.t+(1-k.domain[1])*ue.h,k._length=ue.h*(k.domain[1]-k.domain[0]),k._m=k._length/(Te-be),k._b=-k._m*be):(k._offset=ue.l+k.domain[0]*ue.w,k._length=ue.w*(k.domain[1]-k.domain[0]),k._m=k._length/(be-Te),k._b=-k._m*Te),k._rangebreaks=[],k._lBreaks=0,k._m2=0,k._B=[],k.rangebreaks&&(k._rangebreaks=k.locateBreaks(Math.min(Te,be),Math.max(Te,be)),k._rangebreaks.length)){for(ke=0;ke<k._rangebreaks.length;ke++)Pe=k._rangebreaks[ke],k._lBreaks+=Math.abs(Pe.max-Pe.min);var Ne=xe;Te>be&&(Ne=!Ne),Ne&&k._rangebreaks.reverse();var Se=Ne?-1:1;for(k._m2=Se*k._length/(Math.abs(be-Te)-k._lBreaks),k._B.push(-k._m2*(xe?be:Te)),ke=0;ke<k._rangebreaks.length;ke++)k._B.push(k._B[k._B.length-1]-Se*k._m2*((Pe=k._rangebreaks[ke]).max-Pe.min));for(ke=0;ke<k._rangebreaks.length;ke++)(Pe=k._rangebreaks[ke]).pmin=re(Pe.min),Pe.pmax=re(Pe.max)}if(!isFinite(k._m)||!isFinite(k._b)||k._length<0)throw I._replotting=!1,new Error("Something went wrong with axis scaling")},k.maskBreaks=function(oe){var ue,fe,he,me,ke,Pe=k.rangebreaks||[];Pe._cachedPatterns||(Pe._cachedPatterns=Pe.map(function(Ce){return Ce.enabled&&Ce.bounds?u.simpleMap(Ce.bounds,Ce.pattern?m:k.d2c):null})),Pe._cachedValues||(Pe._cachedValues=Pe.map(function(Ce){return Ce.enabled&&Ce.values?u.simpleMap(Ce.values,k.d2c).sort(u.sorterAsc):null}));for(var Te=0;Te<Pe.length;Te++){var be=Pe[Te];if(be.enabled)if(be.bounds){switch(fe=(ue=Pe._cachedPatterns[Te])[0],he=ue[1],be.pattern){case M:me=(ke=new Date(oe)).getUTCDay(),fe>he&&(he+=7,me<fe&&(me+=7));break;case b:me=(ke=new Date(oe)).getUTCHours()+(ke.getUTCMinutes()/60+ke.getUTCSeconds()/3600+ke.getUTCMilliseconds()/36e5),fe>he&&(he+=24,me<fe&&(me+=24));break;case"":me=oe}if(me>=fe&&me<he)return s}else for(var Ne=Pe._cachedValues[Te],Se=0;Se<Ne.length;Se++)if(he=(fe=Ne[Se])+be.dvalue,oe>=fe&&oe<he)return s}return oe},k.locateBreaks=function(oe,ue){var fe,he,me,ke,Pe=[];if(!k.rangebreaks)return Pe;var Te=k.rangebreaks.slice().sort(function(Ee,Ue){return Ee.pattern===M&&Ue.pattern===b?-1:Ue.pattern===M&&Ee.pattern===b?1:0}),be=function(Ee,Ue){if((Ee=u.constrain(Ee,oe,ue))!==(Ue=u.constrain(Ue,oe,ue))){for(var $e=!0,ve=0;ve<Pe.length;ve++){var Ie=Pe[ve];Ee<Ie.max&&Ue>=Ie.min&&(Ee<Ie.min&&(Ie.min=Ee),Ue>Ie.max&&(Ie.max=Ue),$e=!1)}$e&&Pe.push({min:Ee,max:Ue})}};for(fe=0;fe<Te.length;fe++){var xe=Te[fe];if(xe.enabled)if(xe.bounds){var Ne=oe,Se=ue;xe.pattern&&(Ne=Math.floor(Ne)),me=(he=u.simpleMap(xe.bounds,xe.pattern?m:k.r2l))[0],ke=he[1];var Ce,pe,de=new Date(Ne);switch(xe.pattern){case M:pe=p,Ce=(ke-me+(ke<me?7:0))*f,Ne+=me*f-(de.getUTCDay()*f+de.getUTCHours()*w+de.getUTCMinutes()*v+de.getUTCSeconds()*h+de.getUTCMilliseconds());break;case b:pe=f,Ce=(ke-me+(ke<me?24:0))*w,Ne+=me*w-(de.getUTCHours()*w+de.getUTCMinutes()*v+de.getUTCSeconds()*h+de.getUTCMilliseconds());break;default:Ne=Math.min(he[0],he[1]),Ce=pe=(Se=Math.max(he[0],he[1]))-Ne}for(var se=Ne;se<Se;se+=pe)be(se,se+Ce)}else for(var we=u.simpleMap(xe.values,k.d2c),Re=0;Re<we.length;Re++)be(me=we[Re],ke=me+xe.dvalue)}return Pe.sort(function(Ee,Ue){return Ee.min-Ue.min}),Pe},k.makeCalcdata=function(oe,ue,fe){var he,me,ke,Pe,Te=k.type,be="date"===Te&&oe[ue+"calendar"];if(ue in oe){if(he=oe[ue],Pe=oe._length||u.minRowLength(he),u.isTypedArray(he)&&("linear"===Te||"log"===Te)){if(Pe===he.length)return he;if(he.subarray)return he.subarray(0,Pe)}if("multicategory"===Te)return function(Se,Ce){for(var pe=new Array(Ce),de=0;de<Ce;de++)pe[de]=H([(Se[0]||[])[de],(Se[1]||[])[de]]);return pe}(he,Pe);for(me=new Array(Pe),ke=0;ke<Pe;ke++)me[ke]=k.d2c(he[ke],0,be,fe)}else{var xe=ue+"0"in oe?k.d2c(oe[ue+"0"],0,be):0,Ne=oe["d"+ue]?Number(oe["d"+ue]):1;for(he=oe[{x:"y",y:"x"}[ue]],Pe=oe._length||he.length,me=new Array(Pe),ke=0;ke<Pe;ke++)me[ke]=xe+ke*Ne}if(k.rangebreaks)for(ke=0;ke<Pe;ke++)me[ke]=k.maskBreaks(me[ke]);return me},k.isValidRange=function(oe){return Array.isArray(oe)&&2===oe.length&&T(k.r2l(oe[0]))&&T(k.r2l(oe[1]))},k.isPtWithinRange=function(oe,ue){var fe=k.c2l(oe[P],null,ue),he=k.r2l(k.range[0]),me=k.r2l(k.range[1]);return he<me?he<=fe&&fe<=me:me<=fe&&fe<=he},k._emptyCategories=function(){k._categories=[],k._categoriesMap={}},k.clearCalc=function(){var oe=k._matchGroup;if(oe){var ue=null,fe=null;for(var he in oe){var me=I[_.id2name(he)];if(me._categories){ue=me._categories,fe=me._categoriesMap;break}}ue&&fe?(k._categories=ue,k._categoriesMap=fe):k._emptyCategories()}else k._emptyCategories();if(k._initialCategories)for(var ke=0;ke<k._initialCategories.length;ke++)W(k._initialCategories[ke])},k.sortByInitialCategories=function(){var oe=[];if(k._emptyCategories(),k._initialCategories)for(var ue=0;ue<k._initialCategories.length;ue++)W(k._initialCategories[ue]);oe=oe.concat(k._traceIndices);var fe=k._matchGroup;for(var he in fe)if(L!==he){var me=I[_.id2name(he)];me._categories=k._categories,me._categoriesMap=k._categoriesMap,oe=oe.concat(me._traceIndices)}return oe};var te=I._d3locale;"date"===k.type&&(k._dateFormat=te?te.timeFormat:S,k._extraFormat=I._extraFormat),k._separators=I.separators,k._numFormat=te?te.numberFormat:A,delete k._minDtick,delete k._forceTick0}},59652:function(ie){"use strict";ie.exports=function(B){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(C){return void 0!==B[C]});if(e.every(function(C){return B[C]===B[e[0]]})||1===e.length)return B[e[0]]}},96115:function(ie,B,e){"use strict";var C=e(71828),S=e(7901).contrast,u=e(13838),A=e(59652),T=e(85501);function m(l,t){function o(r,n){return C.coerce(l,t,u.tickformatstops,r,n)}o("enabled")&&(o("dtickrange"),o("value"))}ie.exports=function(l,t,o,r,n){n||(n={});var a=o("labelalias");C.isPlainObject(a)||delete t.labelalias;var s=A(l);if(o("showticklabels")){var c=n.font||{},p=t.color,f=-1!==(t.ticklabelposition||"").indexOf("inside")?S(n.bgColor):p&&p!==u.color.dflt?p:c.color;if(C.coerceFont(o,"tickfont",{family:c.family,size:c.size,color:f}),n.noTicklabelstep||"multicategory"===r||"log"===r||o("ticklabelstep"),n.noAng||o("tickangle"),"category"!==r){var w=o("tickformat");T(l,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:m}),t.tickformatstops.length||delete t.tickformatstops,n.noExp||w||"date"===r||(o("showexponent",s),o("exponentformat"),o("minexponent"),o("separatethousands"))}}}},38701:function(ie,B,e){"use strict";var C=e(71828),S=e(13838);ie.exports=function(u,A,T,m){var l=m.isMinor,t=l?u.minor||{}:u,o=l?A.minor:A,r=l?S.minor:S,n=l?"minor.":"",a=C.coerce2(t,o,r,"ticklen",l?.6*(A.ticklen||5):void 0),s=C.coerce2(t,o,r,"tickwidth",l?A.tickwidth||1:void 0),c=C.coerce2(t,o,r,"tickcolor",(l?A.tickcolor:void 0)||o.color);T(n+"ticks",!l&&m.outerTicks||a||s||c?"outside":"")||(delete o.ticklen,delete o.tickwidth,delete o.tickcolor)}},26218:function(ie,B,e){"use strict";var C=e(66287),S=e(71828).isArrayOrTypedArray;ie.exports=function(u,A,T,m,l){l||(l={});var t=l.isMinor,o=t?u.minor||{}:u,r=t?A.minor:A,n=t?"minor.":"";function a(v){var h=o[v];return void 0!==h?h:(r._template||{})[v]}var s=a("tick0"),c=a("dtick"),p=a("tickvals"),f=T(n+"tickmode",S(p)?"array":c?"linear":"auto");if("auto"===f||"sync"===f)T(n+"nticks");else if("linear"===f){var w=r.dtick=C.dtick(c,m);r.tick0=C.tick0(s,m,A.calendar,w)}else"multicategory"!==m&&(void 0===T(n+"tickvals")?r.tickmode="auto":t||T("ticktext"))}},66847:function(ie,B,e){"use strict";var C=e(39898),S=e(73972),u=e(71828),A=e(91424),T=e(89298);ie.exports=function(m,l,t,o){var r=m._fullLayout;if(0!==l.length){var n,a,s,c;o&&(n=o());var p=C.ease(t.easing);return m._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(c),c=null,function(){for(var v={},h=0;h<l.length;h++){var _=l[h],b=_.plotinfo.yaxis;_.xr0&&(v[_.plotinfo.xaxis._name+".range"]=_.xr0.slice()),_.yr0&&(v[b._name+".range"]=_.yr0.slice())}return S.call("relayout",m,v).then(function(){for(var M=0;M<l.length;M++)f(l[M].plotinfo)})}()}),a=Date.now(),c=window.requestAnimationFrame(function v(){s=Date.now();for(var h=Math.min(1,(s-a)/t.duration),_=p(h),x=0;x<l.length;x++)w(l[x],_);s-a>t.duration?(function(){for(var b={},M=0;M<l.length;M++){var d=l[M],k=d.plotinfo.yaxis;d.xr1&&(b[d.plotinfo.xaxis._name+".range"]=d.xr1.slice()),d.yr1&&(b[k._name+".range"]=d.yr1.slice())}n&&n(),S.call("relayout",m,b).then(function(){for(var I=0;I<l.length;I++)f(l[I].plotinfo)})}(),c=window.cancelAnimationFrame(v)):c=window.requestAnimationFrame(v)}),Promise.resolve()}function f(v){var h=v.xaxis,_=v.yaxis;r._defs.select("#"+v.clipId+"> rect").call(A.setTranslate,0,0).call(A.setScale,1,1),v.plot.call(A.setTranslate,h._offset,_._offset).call(A.setScale,1,1);var x=v.plot.selectAll(".scatterlayer .trace");x.selectAll(".point").call(A.setPointGroupScale,1,1),x.selectAll(".textpoint").call(A.setTextPointsScale,1,1),x.call(A.hideOutsideRangePoints,v)}function w(v,h){var _=v.plotinfo,x=_.xaxis,b=_.yaxis,M=x._length,d=b._length,E=!!v.xr1,k=!!v.yr1,I=[];if(E){var L=u.simpleMap(v.xr0,x.r2l),P=u.simpleMap(v.xr1,x.r2l),R=L[1]-L[0],z=P[1]-P[0];I[0]=(L[0]*(1-h)+h*P[0]-L[0])/(L[1]-L[0])*M,I[2]=M*(1-h+h*z/R),x.range[0]=x.l2r(L[0]*(1-h)+h*P[0]),x.range[1]=x.l2r(L[1]*(1-h)+h*P[1])}else I[0]=0,I[2]=M;if(k){var $=u.simpleMap(v.yr0,b.r2l),N=u.simpleMap(v.yr1,b.r2l),W=$[1]-$[0],H=N[1]-N[0];I[1]=($[1]*(1-h)+h*N[1]-$[1])/($[0]-$[1])*d,I[3]=d*(1-h+h*H/W),b.range[0]=x.l2r($[0]*(1-h)+h*N[0]),b.range[1]=b.l2r($[1]*(1-h)+h*N[1])}else I[1]=0,I[3]=d;T.drawOne(m,x,{skipTitle:!0}),T.drawOne(m,b,{skipTitle:!0}),T.redrawComponents(m,[x._id,b._id]);var U=E?M/I[2]:1,Z=k?d/I[3]:1,K=x._offset-(E?I[0]/I[2]*M:0),te=b._offset-(k?I[1]/I[3]*d:0);_.clipRect.call(A.setTranslate,E?I[0]:0,k?I[1]:0).call(A.setScale,1/U,1/Z),_.plot.call(A.setTranslate,K,te).call(A.setScale,U,Z),A.setPointGroupScale(_.zoomScalePts,1/U,1/Z),A.setTextPointsScale(_.zoomScaleTxt,1/U,1/Z)}T.redrawComponents(m)}},951:function(ie,B,e){"use strict";var C=e(73972).traceIs,S=e(4322);function u(T){return{v:"x",h:"y"}[T.orientation||"v"]}function A(T,m){var l=u(T),t=C(T,"box-violin"),o=C(T._fullInput||{},"candlestick");return t&&!o&&m===l&&void 0===T[l]&&void 0===T[l+"0"]}ie.exports=function(T,m,l,t){l("autotypenumbers",t.autotypenumbersDflt),"-"===l("type",(t.splomStash||{}).type)&&(function(o,r){if("-"===o.type){var n,a=o._id,s=a.charAt(0);-1!==a.indexOf("scene")&&(a=s);var c=function(b,M,d){for(var E=0;E<b.length;E++){var k=b[E];if("splom"===k.type&&k._length>0&&(k["_"+d+"axes"]||{})[M]||(k[d+"axis"]||d)===M&&(A(k,d)||(k[d]||[]).length||k[d+"0"]))return k}}(r,a,s);if(c)if("histogram"!==c.type||s!=={v:"y",h:"x"}[c.orientation||"v"]){var p=s+"calendar",f=c[p],w={noMultiCategory:!C(c,"cartesian")||C(c,"noMultiCategory")};if("box"===c.type&&c._hasPreCompStats&&s==={h:"x",v:"y"}[c.orientation||"v"]&&(w.noMultiCategory=!0),w.autotypenumbers=o.autotypenumbers,A(c,s)){var v=u(c),h=[];for(n=0;n<r.length;n++){var _=r[n];C(_,"box-violin")&&(_[s+"axis"]||s)===a&&(h.push(void 0!==_[v]?_[v][0]:void 0!==_.name?_.name:"text"),_[p]!==f&&(f=void 0))}o.type=S(h,f,w)}else if("splom"===c.type){var x=c.dimensions[c._axesDim[a]];x.visible&&(o.type=S(x.values,f,w))}else o.type=S(c[s]||[c[s+"0"]],f,w)}else o.type="linear"}}(m,t.data),"-"===m.type?m.type="linear":T.type=m.type)}},31137:function(ie,B,e){"use strict";var C=e(73972),S=e(71828);function u(l,t,o){var r,n,a,s=!1;if("data"===t.type)r=l._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=l._fullLayout}return n=S.nestedProperty(r,t.prop).get(),(a=o[t.type]=o[t.type]||{}).hasOwnProperty(t.prop)&&a[t.prop]!==n&&(s=!0),a[t.prop]=n,{changed:s,value:n}}function A(l,t){var o=[],r=t[0],n={};if("string"==typeof r)n[r]=t[1];else{if(!S.isPlainObject(r))return o;n=r}return m(n,function(a,s,c){o.push({type:"layout",prop:a,value:c})},"",0),o}function T(l,t){var o,r,n,a,s=[];if(n=t[1],o=t[2],a={},"string"==typeof(r=t[0]))a[r]=n;else{if(!S.isPlainObject(r))return s;a=r,void 0===o&&(o=n)}return void 0===o&&(o=null),m(a,function(c,p,f){var w,v;if(Array.isArray(f)){v=f.slice();var h=Math.min(v.length,l.data.length);o&&(h=Math.min(h,o.length)),w=[];for(var _=0;_<h;_++)w[_]=o?o[_]:_}else v=f,w=o?o.slice():null;if(null===w)Array.isArray(v)&&(v=v[0]);else if(Array.isArray(w)){if(!Array.isArray(v)){var x=v;v=[];for(var b=0;b<w.length;b++)v[b]=x}v.length=Math.min(w.length,v.length)}s.push({type:"data",prop:c,traces:w,value:v})},"",0),s}function m(l,t,o,r){Object.keys(l).forEach(function(n){var a=l[n];if("_"!==n[0]){var s=o+(r>0?".":"")+n;S.isPlainObject(a)?m(a,t,s,r+1):t(s,n,a)}})}B.manageCommandObserver=function(l,t,o,r){var n={},a=!0;t&&t._commandObserver&&(n=t._commandObserver),n.cache||(n.cache={}),n.lookupTable={};var s=B.hasSimpleAPICommandBindings(l,o,n.lookupTable);if(t&&t._commandObserver){if(s)return n;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,n}if(s){u(l,s,n.cache),n.check=function(){if(a){var f=u(l,s,n.cache);return f.changed&&r&&void 0!==n.lookupTable[f.value]&&(n.disable(),Promise.resolve(r({value:f.value,type:s.type,prop:s.prop,traces:s.traces,index:n.lookupTable[f.value]})).then(n.enable,n.enable)),f.changed}};for(var c=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],p=0;p<c.length;p++)l._internalOn(c[p],n.check);n.remove=function(){for(var f=0;f<c.length;f++)l._removeInternalListener(c[f],n.check)}}else S.log("Unable to automatically bind plot updates to API command"),n.lookupTable={},n.remove=function(){};return n.disable=function(){a=!1},n.enable=function(){a=!0},t&&(t._commandObserver=n),n},B.hasSimpleAPICommandBindings=function(l,t,o){var r,n,a=t.length;for(r=0;r<a;r++){var s,c=t[r],p=c.method,f=c.args;if(Array.isArray(f)||(f=[]),!p)return!1;var w=B.computeAPICommandBindings(l,p,f);if(1!==w.length)return!1;if(n){if((s=w[0]).type!==n.type||s.prop!==n.prop)return!1;if(Array.isArray(n.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var v=0;v<n.traces.length;v++)if(n.traces[v]!==s.traces[v])return!1}else if(s.prop!==n.prop)return!1}else n=w[0],Array.isArray(n.traces)&&n.traces.sort();var h=(s=w[0]).value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}o&&(o[h]=r)}return n},B.executeAPICommand=function(l,t,o){if("skip"===t)return Promise.resolve();var r=C.apiMethodRegistry[t],n=[l];Array.isArray(o)||(o=[]);for(var a=0;a<o.length;a++)n.push(o[a]);return r.apply(null,n).catch(function(s){return S.warn("API call to Plotly."+t+" rejected.",s),Promise.reject(s)})},B.computeAPICommandBindings=function(l,t,o){var r,a;switch(Array.isArray(o)||(o=[]),t){case"restyle":r=T(l,o);break;case"relayout":r=A(0,o);break;case"update":r=T(l,[o[0],o[2]]).concat(A(0,[o[1]]));break;case"animate":a=o,r=Array.isArray(a[0])&&1===a[0].length&&-1!==["string","number"].indexOf(typeof a[0][0])?[{type:"layout",prop:"_currentFrame",value:a[0][0].toString()}]:[];break;default:r=[]}return r}},27670:function(ie,B,e){"use strict";var C=e(1426).extendFlat;B.Y=function(S,u){u=u||{};var A={valType:"info_array",editType:(S=S||{}).editType,items:[{valType:"number",min:0,max:1,editType:S.editType},{valType:"number",min:0,max:1,editType:S.editType}],dflt:[0,1]},T={x:C({},A,{}),y:C({},A,{}),editType:S.editType};return S.noGridCell||(T.row={valType:"integer",min:0,dflt:0,editType:S.editType},T.column={valType:"integer",min:0,dflt:0,editType:S.editType}),T},B.c=function(S,u,A,T){var m=T&&T.x||[0,1],l=T&&T.y||[0,1],t=u.grid;if(t){var o=A("domain.column");void 0!==o&&(o<t.columns?m=t._domains.x[o]:delete S.domain.column);var r=A("domain.row");void 0!==r&&(r<t.rows?l=t._domains.y[r]:delete S.domain.row)}var n=A("domain.x",m),a=A("domain.y",l);n[0]<n[1]||(S.domain.x=m.slice()),a[0]<a[1]||(S.domain.y=l.slice())}},41940:function(ie){"use strict";ie.exports=function(B){var e=B.editType,C=B.colorEditType;void 0===C&&(C=e);var S={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:C},editType:e};return B.autoSize&&(S.size.dflt="auto"),B.autoColor&&(S.color.dflt="auto"),B.arrayOk&&(S.family.arrayOk=!0,S.size.arrayOk=!0,S.color.arrayOk=!0),S}},31391:function(ie){"use strict";ie.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(ie,B){"use strict";B.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},B.axesNames=["lonaxis","lataxis"],B.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},B.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},B.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},B.clipPad=.001,B.precision=.1,B.landColor="#F0DC82",B.waterColor="#3399FF",B.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},B.sphereSVG={type:"Sphere"},B.fillLayers={ocean:1,land:1,lakes:1},B.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},B.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],B.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],B.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(ie,B,e){"use strict";var C=e(39898),S=e(27362),u=S.geoPath,A=S.geoDistance,T=e(65704),m=e(73972),l=e(71828),t=l.strTranslate,o=e(7901),r=e(91424),n=e(30211),a=e(74875),s=e(89298),c=e(71739).getAutoRange,p=e(28569),f=e(47322).prepSelect,w=e(47322).clearOutline,v=e(47322).selectOnClick,h=e(74455),_=e(78776),x=e(41327),b=e(90973),M=e(96892).zL;function d(I){this.id=I.id,this.graphDiv=I.graphDiv,this.container=I.container,this.topojsonURL=I.topojsonURL,this.isStatic=I.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=d.prototype;function k(I,L){var P=_.clipPad,R=I[0]+P,z=I[1]-P,$=L[0]+P,N=L[1]-P;R>0&&z<0&&(z+=360);var W=(z-R)/4;return{type:"Polygon",coordinates:[[[R,$],[R,N],[R+W,N],[R+2*W,N],[R+3*W,N],[z,N],[z,$],[z-W,$],[z-2*W,$],[z-3*W,$],[R,$]]]}}ie.exports=function(I){return new d(I)},E.plot=function(I,L,P,R){var z=this;if(R)return z.update(I,L,!0);z._geoCalcData=I,z._fullLayout=L;var $=L[this.id],N=[],W=!1;for(var H in _.layerNameToAdjective)if("frame"!==H&&$["show"+H]){W=!0;break}for(var U=!1,Z=0;Z<I.length;Z++){var Y=I[0][0].trace;Y._geo=z,Y.locationmode&&(W=!0);var ae=Y.marker;if(ae){var Q=ae.angleref;(ae.angle||"north"===Q||"previous"===Q)&&(U=!0)}}if(this._hasMarkerAngles=U,W){var K=b.getTopojsonName($);null!==z.topojson&&K===z.topojsonName||(z.topojsonName=K,void 0===PlotlyGeoAssets.topojson[z.topojsonName]&&N.push(z.fetchTopojson()))}N=N.concat(x.fetchTraceGeoData(I)),P.push(new Promise(function(te,oe){Promise.all(N).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(I,L),te()}).catch(oe)}))},E.fetchTopojson=function(){var I=this,L=b.getTopojsonPath(I.topojsonURL,I.topojsonName);return new Promise(function(P,R){C.json(L,function(z,$){if(z)return R(404===z.status?new Error(["plotly.js could not find topojson file at",L+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",L].join(" ")));PlotlyGeoAssets.topojson[I.topojsonName]=$,P()})})},E.update=function(I,L,P){var R=L[this.id];this.hasChoropleth=!1;for(var z=0;z<I.length;z++){var $=I[z],N=$[0].trace;"choropleth"===N.type&&(this.hasChoropleth=!0),!0===N.visible&&N._length>0&&N._module.calcGeoJSON($,L)}if(!P){if(this.updateProjection(I,L))return;this.viewInitial&&this.scope===R.scope||this.saveViewInitial(R)}this.scope=R.scope,this.updateBaseLayers(L,R),this.updateDims(L,R),this.updateFx(L,R),a.generalUpdatePerTraceModule(this.graphDiv,this,I,R);var W=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=W.selectAll(".point"),this.dataPoints.text=W.selectAll("text"),this.dataPaths.line=W.selectAll(".js-line");var H=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=H.selectAll("path"),this._render()},E.updateProjection=function(I,L){var P=this.graphDiv,R=L[this.id],z=L._size,$=R.domain,N=R.projection,W=R.lonaxis,H=R.lataxis,U=W._ax,Z=H._ax,Y=this.projection=function(de){var se=de.projection,we=se.type,Re=_.projNames[we];Re="geo"+l.titleCase(Re);for(var Ee=(S[Re]||T[Re])(),Ue=de._isSatellite?180*Math.acos(1/se.distance)/Math.PI:de._isClipped?_.lonaxisSpan[we]/2:null,$e=["center","rotate","parallels","clipExtent"],ve=function(ze){return ze?Ee:[]},Ie=0;Ie<$e.length;Ie++){var De=$e[Ie];"function"!=typeof Ee[De]&&(Ee[De]=ve)}return Ee.isLonLatOverEdges=function(ze){if(null===Ee(ze))return!0;if(Ue){var Ge=Ee.rotate();return A(ze,[-Ge[0],-Ge[1]])>Ue*Math.PI/180}return!1},Ee.getPath=function(){return u().projection(Ee)},Ee.getBounds=function(ze){return Ee.getPath().bounds(ze)},Ee.precision(_.precision),de._isSatellite&&Ee.tilt(se.tilt).distance(se.distance),Ue&&Ee.clipAngle(Ue-_.clipPad),Ee}(R),ae=[[z.l+z.w*$.x[0],z.t+z.h*(1-$.y[1])],[z.l+z.w*$.x[1],z.t+z.h*(1-$.y[0])]],re=R.center||{},Q=N.rotation||{},K=W.range||[],te=H.range||[];if(R.fitbounds){U._length=ae[1][0]-ae[0][0],Z._length=ae[1][1]-ae[0][1],U.range=c(P,U),Z.range=c(P,Z);var oe=(U.range[0]+U.range[1])/2,ue=(Z.range[0]+Z.range[1])/2;if(R._isScoped)re={lon:oe,lat:ue};else if(R._isClipped){re={lon:oe,lat:ue},Q={lon:oe,lat:ue,roll:Q.roll};var fe=N.type,he=_.lonaxisSpan[fe]/2||180,me=_.lataxisSpan[fe]/2||90;K=[oe-he,oe+he],te=[ue-me,ue+me]}else re={lon:oe,lat:ue},Q={lon:oe,lat:Q.lat,roll:Q.roll}}Y.center([re.lon-Q.lon,re.lat-Q.lat]).rotate([-Q.lon,-Q.lat,Q.roll]).parallels(N.parallels);var ke=k(K,te);Y.fitExtent(ae,ke);var Pe=this.bounds=Y.getBounds(ke),Te=this.fitScale=Y.scale(),be=Y.translate();if(R.fitbounds){var xe=Y.getBounds(k(U.range,Z.range)),Ne=Math.min((Pe[1][0]-Pe[0][0])/(xe[1][0]-xe[0][0]),(Pe[1][1]-Pe[0][1])/(xe[1][1]-xe[0][1]));isFinite(Ne)?Y.scale(Ne*Te):l.warn("Something went wrong during"+this.id+"fitbounds computations.")}else Y.scale(N.scale*Te);var Se=this.midPt=[(Pe[0][0]+Pe[1][0])/2,(Pe[0][1]+Pe[1][1])/2];if(Y.translate([be[0]+(Se[0]-be[0]),be[1]+(Se[1]-be[1])]).clipExtent(Pe),R._isAlbersUsa){var Ce=Y([re.lon,re.lat]),pe=Y.translate();Y.translate([pe[0]-(Ce[0]-pe[0]),pe[1]-(Ce[1]-pe[1])])}},E.updateBaseLayers=function(I,L){var P=this,R=P.topojson,z=P.layers,$=P.basePaths;function N(Y){return"lonaxis"===Y||"lataxis"===Y}function W(Y){return!!_.lineLayers[Y]}function H(Y){return!!_.fillLayers[Y]}var U=(this.hasChoropleth?_.layersForChoropleth:_.layers).filter(function(Y){return W(Y)||H(Y)?L["show"+Y]:!N(Y)||L[Y].showgrid}),Z=P.framework.selectAll(".layer").data(U,String);Z.exit().each(function(Y){delete z[Y],delete $[Y],C.select(this).remove()}),Z.enter().append("g").attr("class",function(Y){return"layer "+Y}).each(function(Y){var ae=z[Y]=C.select(this);"bg"===Y?P.bgRect=ae.append("rect").style("pointer-events","all"):N(Y)?$[Y]=ae.append("path").style("fill","none"):"backplot"===Y?ae.append("g").classed("choroplethlayer",!0):"frontplot"===Y?ae.append("g").classed("scatterlayer",!0):W(Y)?$[Y]=ae.append("path").style("fill","none").style("stroke-miterlimit",2):H(Y)&&($[Y]=ae.append("path").style("stroke","none"))}),Z.order(),Z.each(function(Y){var ae=$[Y],re=_.layerNameToAdjective[Y];"frame"===Y?ae.datum(_.sphereSVG):W(Y)||H(Y)?ae.datum(M(R,R.objects[Y])):N(Y)&&ae.datum(function(Q,K,te){var oe,ue,fe,he=K[Q],me=_.scopeDefaults[K.scope];"lonaxis"===Q?(oe=me.lonaxisRange,ue=me.lataxisRange,fe=function(pe,de){return[pe,de]}):"lataxis"===Q&&(oe=me.lataxisRange,ue=me.lonaxisRange,fe=function(pe,de){return[de,pe]});var ke={type:"linear",range:[oe[0],oe[1]-1e-6],tick0:he.tick0,dtick:he.dtick};s.setConvert(ke,te);var Pe=s.calcTicks(ke);K.isScoped||"lonaxis"!==Q||Pe.pop();for(var Te=Pe.length,be=new Array(Te),xe=0;xe<Te;xe++)for(var Ne=Pe[xe].x,Se=be[xe]=[],Ce=ue[0];Ce<ue[1]+2.5;Ce+=2.5)Se.push(fe(Ne,Ce));return{type:"MultiLineString",coordinates:be}}(Y,L,I)).call(o.stroke,L[Y].gridcolor).call(r.dashLine,L[Y].griddash,L[Y].gridwidth),W(Y)?ae.call(o.stroke,L[re+"color"]).call(r.dashLine,"",L[re+"width"]):H(Y)&&ae.call(o.fill,L[re+"color"])})},E.updateDims=function(I,L){var P=this.bounds,R=(L.framewidth||0)/2,z=P[0][0]-R,$=P[0][1]-R,N=P[1][0]-z+R,W=P[1][1]-$+R;r.setRect(this.clipRect,z,$,N,W),this.bgRect.call(r.setRect,z,$,N,W).call(o.fill,L.bgcolor),this.xaxis._offset=z,this.xaxis._length=N,this.yaxis._offset=$,this.yaxis._length=W},E.updateFx=function(I,L){var P=this,R=P.graphDiv,z=P.bgRect,$=I.dragmode,N=I.clickmode;if(!P.isStatic){var W={element:P.bgRect.node(),gd:R,plotinfo:{id:P.id,xaxis:P.xaxis,yaxis:P.yaxis,fillRangeItems:function(U,Z){Z.isRect?(U.range={})[P.id]=[H([Z.xmin,Z.ymin]),H([Z.xmax,Z.ymax])]:(U.lassoPoints={})[P.id]=Z.map(H)}},xaxes:[P.xaxis],yaxes:[P.yaxis],subplot:P.id,clickFn:function(U){2===U&&w(R)}};"pan"===$?(z.node().onmousedown=null,z.call(h(P,L)),z.on("dblclick.zoom",function(){var U=P.viewInitial,Z={};for(var Y in U)Z[P.id+"."+Y]=U[Y];m.call("_guiRelayout",R,Z),R.emit("plotly_doubleclick",null)}),R._context._scrollZoom.geo||z.on("wheel.zoom",null)):"select"!==$&&"lasso"!==$||(z.on(".zoom",null),W.prepFn=function(U,Z,Y){f(U,Z,Y,W,$)},p.init(W)),z.on("mousemove",function(){var U=P.projection.invert(l.getPositionFromD3Event());if(!U)return p.unhover(R,C.event);P.xaxis.p2c=function(){return U[0]},P.yaxis.p2c=function(){return U[1]},n.hover(R,C.event,P.id)}),z.on("mouseout",function(){R._dragging||p.unhover(R,C.event)}),z.on("click",function(){"select"!==$&&"lasso"!==$&&(N.indexOf("select")>-1&&v(C.event,R,[P.xaxis],[P.yaxis],P.id,W),N.indexOf("event")>-1&&n.click(R,C.event))})}function H(U){return P.projection.invert([U[0]+P.xaxis._offset,U[1]+P.yaxis._offset])}},E.makeFramework=function(){var I=this,L=I.graphDiv,P=L._fullLayout,R="clip"+P._uid+I.id;I.clipDef=P._clips.append("clipPath").attr("id",R),I.clipRect=I.clipDef.append("rect"),I.framework=C.select(I.container).append("g").attr("class","geo "+I.id).call(r.setClipUrl,R,L),I.project=function(z){var $=I.projection(z);return $?[$[0]-I.xaxis._offset,$[1]-I.yaxis._offset]:[null,null]},I.xaxis={_id:"x",c2p:function(z){return I.project(z)[0]}},I.yaxis={_id:"y",c2p:function(z){return I.project(z)[1]}},I.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},s.setConvert(I.mockAxis,P)},E.saveViewInitial=function(I){var P=I.center||{},R=I.projection,z=R.rotation||{};this.viewInitial={fitbounds:I.fitbounds,"projection.scale":R.scale},l.extendFlat(this.viewInitial,I._isScoped?{"center.lon":P.lon,"center.lat":P.lat}:I._isClipped?{"projection.rotation.lon":z.lon,"projection.rotation.lat":z.lat}:{"center.lon":P.lon,"center.lat":P.lat,"projection.rotation.lon":z.lon})},E.render=function(I){this._hasMarkerAngles&&I?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var I,L=this.projection,P=L.getPath();function R($){var N=L($.lonlat);return N?t(N[0],N[1]):null}function z($){return L.isLonLatOverEdges($.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",P);for(I in this.dataPaths)this.dataPaths[I].attr("d",function($){return P($.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",z).attr("transform",R)}},44622:function(ie,B,e){"use strict";var C=e(27659).AU,S=e(71828).counterRegex,u=e(69082),A="geo",T=S(A),m={};m[A]={valType:"subplotid",dflt:A,editType:"calc"},ie.exports={attr:A,name:A,idRoot:A,idRegex:T,attrRegex:T,attributes:m,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:function(l){for(var t=l._fullLayout,o=l.calcdata,r=t._subplots[A],n=0;n<r.length;n++){var a=r[n],s=C(o,A,a),c=t[a]._subplot;c||(c=u({id:a,graphDiv:l,container:t._geolayer.node(),topojsonURL:l._context.topojsonURL,staticPlot:l._context.staticPlot}),t[a]._subplot=c),c.plot(s,t,l._promises)}},updateFx:function(l){for(var t=l._fullLayout,o=t._subplots[A],r=0;r<o.length;r++){var n=t[o[r]];n._subplot.updateFx(t,n)}},clean:function(l,t,o,r){for(var n=r._subplots[A]||[],a=0;a<n.length;a++){var s=n[a],c=r[s]._subplot;!t[s]&&c&&(c.framework.remove(),c.clipDef.remove())}}}},77519:function(ie,B,e){"use strict";var C=e(22399),S=e(27670).Y,u=e(79952).P,A=e(78776),T=e(30962).overrideAll,m=e(78607),l={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:C.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:u};(ie.exports=T({domain:S({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:m(A.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:m(A.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:C.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:A.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:A.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:A.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:A.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:C.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:C.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:C.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:C.background},lonaxis:l,lataxis:l},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(ie,B,e){"use strict";var C=e(71828),S=e(49119),u=e(27659).NG,A=e(78776),T=e(77519),m=A.axesNames;function l(t,o,r,n){var a=u(n.fullData,"geo",n.id).map(function(Q){return Q._expandedIndex}),s=r("resolution"),c=r("scope"),p=A.scopeDefaults[c],f=r("projection.type",p.projType),w=o._isAlbersUsa="albers usa"===f;w&&(c=o.scope="usa");var v=o._isScoped="world"!==c,h=o._isSatellite="satellite"===f,_=o._isConic=-1!==f.indexOf("conic")||"albers"===f,x=o._isClipped=!!A.lonaxisSpan[f];if(!1===t.visible){var b=C.extendDeep({},o._template);b.showcoastlines=!1,b.showcountries=!1,b.showframe=!1,b.showlakes=!1,b.showland=!1,b.showocean=!1,b.showrivers=!1,b.showsubunits=!1,b.lonaxis&&(b.lonaxis.showgrid=!1),b.lataxis&&(b.lataxis.showgrid=!1),o._template=b}for(var M=r("visible"),d=0;d<m.length;d++){var E,k=m[d],I=[30,10][d];if(v)E=p[k+"Range"];else{var L=A[k+"Span"],P=(L[f]||L["*"])/2,R=r("projection.rotation."+k.substr(0,3),p.projRotate[d]);E=[R-P,R+P]}var z=r(k+".range",E);r(k+".tick0"),r(k+".dtick",I),r(k+".showgrid",!!M&&void 0)&&(r(k+".gridcolor"),r(k+".gridwidth"),r(k+".griddash")),o[k]._ax={type:"linear",_id:k.slice(0,3),_traceIndices:a,setScale:C.identity,c2l:C.identity,r2l:C.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var $=o.lonaxis.range,N=o.lataxis.range,W=$[0],H=$[1];W>0&&H<0&&(H+=360);var U,Z,Y,ae=(W+H)/2;if(!w){var re=v?p.projRotate:[ae,0,0];U=r("projection.rotation.lon",re[0]),r("projection.rotation.lat",re[1]),r("projection.rotation.roll",re[2]),r("showcoastlines",!v&&M)&&(r("coastlinecolor"),r("coastlinewidth")),r("showocean",!!M&&void 0)&&r("oceancolor")}w?(Z=-96.6,Y=38.7):(Z=v?ae:U,Y=(N[0]+N[1])/2),r("center.lon",Z),r("center.lat",Y),h&&(r("projection.tilt"),r("projection.distance")),_&&r("projection.parallels",p.projParallels||[0,60]),r("projection.scale"),r("showland",!!M&&void 0)&&r("landcolor"),r("showlakes",!!M&&void 0)&&r("lakecolor"),r("showrivers",!!M&&void 0)&&(r("rivercolor"),r("riverwidth")),r("showcountries",v&&"usa"!==c&&M)&&(r("countrycolor"),r("countrywidth")),("usa"===c||"north america"===c&&50===s)&&(r("showsubunits",M),r("subunitcolor"),r("subunitwidth")),v||r("showframe",M)&&(r("framecolor"),r("framewidth")),r("bgcolor"),r("fitbounds")&&(delete o.projection.scale,v?(delete o.center.lon,delete o.center.lat):x?(delete o.center.lon,delete o.center.lat,delete o.projection.rotation.lon,delete o.projection.rotation.lat,delete o.lonaxis.range,delete o.lataxis.range):(delete o.center.lon,delete o.center.lat,delete o.projection.rotation.lon))}ie.exports=function(t,o,r){S(t,o,r,{type:"geo",attributes:T,handleDefaults:l,fullData:r,partition:"y"})}},74455:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(73972),A=Math.PI/180,T=180/Math.PI,m={cursor:"pointer"},l={cursor:"auto"};function t(v,h){return C.behavior.zoom().translate(h.translate()).scale(h.scale())}function o(v,h,_){var x=v.id,b=v.graphDiv,M=b.layout,d=M[x],E=b._fullLayout,k=E[x],I={},L={};function P(R,z){I[x+"."+R]=S.nestedProperty(d,R).get(),u.call("_storeDirectGUIEdit",M,E._preGUI,I);var $=S.nestedProperty(k,R);$.get()!==z&&($.set(z),S.nestedProperty(d,R).set(z),L[x+"."+R]=z)}_(P),P("projection.scale",h.scale()/v.fitScale),P("fitbounds",!1),b.emit("plotly_relayout",L)}function r(v,h){var _=t(0,h);function x(b){var M=h.invert(v.midPt);b("center.lon",M[0]),b("center.lat",M[1])}return _.on("zoomstart",function(){C.select(this).style(m)}).on("zoom",function(){h.scale(C.event.scale).translate(C.event.translate),v.render(!0);var b=h.invert(v.midPt);v.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/v.fitScale,"geo.center.lon":b[0],"geo.center.lat":b[1]})}).on("zoomend",function(){C.select(this).style(l),o(v,h,x)}),_}function n(v,h){var _,x,b,M,d,E,k,I,L,P=t(0,h);function R($){return h.invert($)}function z($){var N=h.rotate(),W=h.invert(v.midPt);$("projection.rotation.lon",-N[0]),$("center.lon",W[0]),$("center.lat",W[1])}return P.on("zoomstart",function(){C.select(this).style(m),_=C.mouse(this),x=h.rotate(),b=h.translate(),M=x,d=R(_)}).on("zoom",function(){if(E=C.mouse(this),function(W){var H=R(W);if(!H)return!0;var U=h(H);return Math.abs(U[0]-W[0])>2||Math.abs(U[1]-W[1])>2}(_))return P.scale(h.scale()),void P.translate(h.translate());h.scale(C.event.scale),h.translate([b[0],C.event.translate[1]]),d?R(E)&&(I=R(E),h.rotate(k=[M[0]+(I[0]-d[0]),x[1],x[2]]),M=k):d=R(_=E),L=!0,v.render(!0);var $=h.rotate(),N=h.invert(v.midPt);v.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/v.fitScale,"geo.center.lon":N[0],"geo.center.lat":N[1],"geo.projection.rotation.lon":-$[0]})}).on("zoomend",function(){C.select(this).style(l),L&&o(v,h,z)}),P}function a(v,h){var _,x={r:h.rotate(),k:h.scale()},b=t(0,h),M=function(I){for(var L=0,P=arguments.length,R=[];++L<P;)R.push(arguments[L]);var z=C.dispatch.apply(null,R);return z.of=function($,N){return function(W){var H;try{H=W.sourceEvent=C.event,W.target=I,C.event=W,z[W.type].apply($,N)}finally{C.event=H}}},z}(b,"zoomstart","zoom","zoomend"),d=0,E=b.on;function k(I){var L=h.rotate();I("projection.rotation.lon",-L[0]),I("projection.rotation.lat",-L[1])}return b.on("zoomstart",function(){C.select(this).style(m);var I,L,P,R,z,$,N,W,H,U,Z,Y=C.mouse(this),ae=h.rotate(),re=ae,Q=h.translate(),K=(L=.5*(I=ae)[0]*A,P=.5*I[1]*A,R=.5*I[2]*A,z=Math.sin(L),$=Math.cos(L),N=Math.sin(P),W=Math.cos(P),H=Math.sin(R),[$*W*(U=Math.cos(R))+z*N*H,z*W*U-$*N*H,$*N*U+z*W*H,$*W*H-z*N*U]);_=s(h,Y),E.call(b,"zoom",function(){var te,oe,ue,fe,he,me,ke,Pe,Te,be,de,xe=C.mouse(this);if(h.scale(x.k=C.event.scale),_){if(s(h,xe)){h.rotate(ae).translate(Q);var Ne=s(h,xe),Se=function(de,se){if(de&&se){var we=[($e=de)[1]*(ve=se)[2]-$e[2]*ve[1],$e[2]*ve[0]-$e[0]*ve[2],$e[0]*ve[1]-$e[1]*ve[0]],Re=Math.sqrt(w(we,we)),Ee=.5*Math.acos(Math.max(-1,Math.min(1,w(de,se)))),Ue=Math.sin(Ee)/Re;return Re&&[Math.cos(Ee),we[2]*Ue,-we[1]*Ue,we[0]*Ue]}var $e,ve}(_,Ne),Ce=(de=[(ue=(te=K)[0])*(ke=(oe=Se)[0])-(fe=te[1])*(Pe=oe[1])-(he=te[2])*(Te=oe[2])-(me=te[3])*(be=oe[3]),ue*Pe+fe*ke+he*be-me*Te,ue*Te-fe*be+he*ke+me*Pe,ue*be+fe*Te-he*Pe+me*ke],[Math.atan2(2*(de[0]*de[1]+de[2]*de[3]),1-2*(de[1]*de[1]+de[2]*de[2]))*T,Math.asin(Math.max(-1,Math.min(1,2*(de[0]*de[2]-de[3]*de[1]))))*T,Math.atan2(2*(de[0]*de[3]+de[1]*de[2]),1-2*(de[2]*de[2]+de[3]*de[3]))*T]),pe=x.r=function(de,se,we){var Re=f(se,2,de[0]);Re=f(Re,1,de[1]),Re=f(Re,0,de[2]-we[2]);var Ee,Ue,$e=se[0],ve=se[1],Ie=se[2],De=Re[0],ze=Re[1],Ge=Re[2],He=Math.atan2(ve,$e)*T,Ke=Math.sqrt($e*$e+ve*ve);Math.abs(ze)>Ke?(Ue=(ze>0?90:-90)-He,Ee=0):(Ue=Math.asin(ze/Ke)*T-He,Ee=Math.sqrt(Ke*Ke-ze*ze));var et=180-Ue-2*He,st=(Math.atan2(Ge,De)-Math.atan2(Ie,Ee))*T,mt=(Math.atan2(Ge,De)-Math.atan2(Ie,-Ee))*T;return c(we[0],we[1],Ue,st)<=c(we[0],we[1],et,mt)?[Ue,st,we[2]]:[et,mt,we[2]]}(Ce,_,re);isFinite(pe[0])&&isFinite(pe[1])&&isFinite(pe[2])||(pe=re),h.rotate(pe),re=pe}}else _=s(h,Y=xe);M.of(this,arguments)({type:"zoom"})}),Z=M.of(this,arguments),d++||Z({type:"zoomstart"})}).on("zoomend",function(){var I;C.select(this).style(l),E.call(b,"zoom",null),I=M.of(this,arguments),--d||I({type:"zoomend"}),o(v,h,k)}).on("zoom.redraw",function(){v.render(!0);var I=h.rotate();v.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/v.fitScale,"geo.projection.rotation.lon":-I[0],"geo.projection.rotation.lat":-I[1]})}),C.rebind(b,M,"on")}function s(v,h){var x,b,M,d,_=v.invert(h);return _&&isFinite(_[0])&&isFinite(_[1])&&(b=(x=_)[0]*A,M=x[1]*A,[(d=Math.cos(M))*Math.cos(b),d*Math.sin(b),Math.sin(M)])}function c(v,h,_,x){var b=p(_-v),M=p(x-h);return Math.sqrt(b*b+M*M)}function p(v){return(v%360+540)%360-180}function f(v,h,_){var x=_*A,b=v.slice(),M=0===h?1:0,d=2===h?1:2,E=Math.cos(x),k=Math.sin(x);return b[M]=v[M]*E-v[d]*k,b[d]=v[d]*E+v[M]*k,b}function w(v,h){for(var _=0,x=0,b=v.length;x<b;++x)_+=v[x]*h[x];return _}ie.exports=function(v,h){return(h._isScoped?r:h._isClipped?a:n)(v,v.projection)}},27659:function(ie,B,e){"use strict";var C=e(73972),S=e(85555).SUBPLOT_PATTERN;B.AU=function(u,A,T){var m=C.subplotsRegistry[A];if(!m)return[];for(var l=m.attr,t=[],o=0;o<u.length;o++){var r=u[o];r[0].trace[l]===T&&t.push(r)}return t},B.a0=function(u,A){var T,m=[],l=[];if(!(T="string"==typeof A?C.getModule(A).plot:"function"==typeof A?A:A.plot))return[m,u];for(var t=0;t<u.length;t++){var o=u[t],r=o[0].trace;!0===r.visible&&0!==r._length&&(r._module.plot===T?m.push(o):l.push(o))}return[m,l]},B.NG=function(u,A,T){if(!C.subplotsRegistry[A])return[];var m,l,t,o=C.subplotsRegistry[A].attr,r=[];if("gl2d"===A){var n=T.match(S);l="x"+n[1],t="y"+n[2]}for(var a=0;a<u.length;a++)m=u[a],"gl2d"===A&&C.traceIs(m,"gl2d")?m[o[0]]===l&&m[o[1]]===t&&r.push(m):m[o]===T&&r.push(m);return r}},75071:function(ie,B,e){"use strict";var C=e(16825),S=e(1195),u=e(48956),A=e(85555),T=e(38520);function m(l,t){this.element=l,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}ie.exports=function(l){var t=l.mouseContainer,o=l.glplot,r=new m(t,o);function n(){l.xaxis.autorange=!1,l.yaxis.autorange=!1}function a(s,c,p){var f,w,v=l.calcDataBox(),h=o.viewBox,_=r.lastPos[0],x=r.lastPos[1],b=A.MINDRAG*o.pixelRatio,M=A.MINZOOM*o.pixelRatio;function d(R,z,$){var N=Math.min(z,$),W=Math.max(z,$);N!==W?(v[R]=N,v[R+2]=W,r.dataBox=v,l.setRanges(v)):(l.selectBox.selectBox=[0,0,1,1],l.glplot.setDirty())}switch(c*=o.pixelRatio,p=h[3]-h[1]-(p*=o.pixelRatio),l.fullLayout.dragmode){case"zoom":if(s){var E=c/(h[2]-h[0])*(v[2]-v[0])+v[0],k=p/(h[3]-h[1])*(v[3]-v[1])+v[1];r.boxInited||(r.boxStart[0]=E,r.boxStart[1]=k,r.dragStart[0]=c,r.dragStart[1]=p),r.boxEnd[0]=E,r.boxEnd[1]=k,r.boxInited=!0,r.boxEnabled||r.boxStart[0]===r.boxEnd[0]&&r.boxStart[1]===r.boxEnd[1]||(r.boxEnabled=!0);var I=Math.abs(r.dragStart[0]-c)<M,L=Math.abs(r.dragStart[1]-p)<M;if(!function(){for(var R=l.graphDiv._fullLayout._axisConstraintGroups,z=l.xaxis._id,$=l.yaxis._id,N=0;N<R.length;N++)if(-1!==R[N][z]){if(-1!==R[N][$])return!0;break}return!1}()||I&&L)I&&(r.boxEnd[0]=r.boxStart[0]),L&&(r.boxEnd[1]=r.boxStart[1]);else{f=r.boxEnd[0]-r.boxStart[0],w=r.boxEnd[1]-r.boxStart[1];var P=(v[3]-v[1])/(v[2]-v[0]);Math.abs(f*P)>Math.abs(w)?(r.boxEnd[1]=r.boxStart[1]+Math.abs(f)*P*(w>=0?1:-1),r.boxEnd[1]<v[1]?(r.boxEnd[1]=v[1],r.boxEnd[0]=r.boxStart[0]+(v[1]-r.boxStart[1])/Math.abs(P)):r.boxEnd[1]>v[3]&&(r.boxEnd[1]=v[3],r.boxEnd[0]=r.boxStart[0]+(v[3]-r.boxStart[1])/Math.abs(P))):(r.boxEnd[0]=r.boxStart[0]+Math.abs(w)/P*(f>=0?1:-1),r.boxEnd[0]<v[0]?(r.boxEnd[0]=v[0],r.boxEnd[1]=r.boxStart[1]+(v[0]-r.boxStart[0])*Math.abs(P)):r.boxEnd[0]>v[2]&&(r.boxEnd[0]=v[2],r.boxEnd[1]=r.boxStart[1]+(v[2]-r.boxStart[0])*Math.abs(P)))}}else r.boxEnabled?(w=r.boxStart[1]!==r.boxEnd[1],(f=r.boxStart[0]!==r.boxEnd[0])||w?(f&&(d(0,r.boxStart[0],r.boxEnd[0]),l.xaxis.autorange=!1),w&&(d(1,r.boxStart[1],r.boxEnd[1]),l.yaxis.autorange=!1),l.relayoutCallback()):l.glplot.setDirty(),r.boxEnabled=!1,r.boxInited=!1):r.boxInited&&(r.boxInited=!1);break;case"pan":r.boxEnabled=!1,r.boxInited=!1,s?(r.panning||(r.dragStart[0]=c,r.dragStart[1]=p),Math.abs(r.dragStart[0]-c)<b&&(c=r.dragStart[0]),Math.abs(r.dragStart[1]-p)<b&&(p=r.dragStart[1]),w=(x-p)*(v[3]-v[1])/(o.viewBox[3]-o.viewBox[1]),v[0]+=f=(_-c)*(v[2]-v[0])/(o.viewBox[2]-o.viewBox[0]),v[2]+=f,v[1]+=w,v[3]+=w,l.setRanges(v),r.panning=!0,r.lastInputTime=Date.now(),n(),l.cameraChanged(),l.handleAnnotations()):r.panning&&(r.panning=!1,l.relayoutCallback())}r.lastPos[0]=c,r.lastPos[1]=p}return r.mouseListener=C(t,a),t.addEventListener("touchstart",function(s){var c=u(s.changedTouches[0],t);a(0,c[0],c[1]),a(1,c[0],c[1]),s.preventDefault()},!!T&&{passive:!1}),t.addEventListener("touchmove",function(s){s.preventDefault();var c=u(s.changedTouches[0],t);a(1,c[0],c[1]),s.preventDefault()},!!T&&{passive:!1}),t.addEventListener("touchend",function(s){a(0,r.lastPos[0],r.lastPos[1]),s.preventDefault()},!!T&&{passive:!1}),r.wheelListener=S(t,function(s,c){if(!l.scrollZoom)return!1;var p=l.calcDataBox(),f=o.viewBox,w=r.lastPos[0],v=r.lastPos[1],h=Math.exp(5*c/(f[3]-f[1])),_=w/(f[2]-f[0])*(p[2]-p[0])+p[0],x=v/(f[3]-f[1])*(p[3]-p[1])+p[1];return p[0]=(p[0]-_)*h+_,p[2]=(p[2]-_)*h+_,p[1]=(p[1]-x)*h+x,p[3]=(p[3]-x)*h+x,l.setRanges(p),r.lastInputTime=Date.now(),n(),l.cameraChanged(),l.handleAnnotations(),l.relayoutCallback(),!0},!0),r}},82961:function(ie,B,e){"use strict";var C=e(89298),S=e(78614);function u(m){this.scene=m,this.gl=m.gl,this.pixelRatio=m.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var A=u.prototype,T=["xaxis","yaxis"];A.merge=function(m){var l,t,o,r,n,a,s,c,p,f,w;for(this.titleEnable=!1,this.backgroundColor=S(m.plot_bgcolor),f=0;f<2;++f){var v=(l=T[f]).charAt(0);for(o=(t=m[this.scene[l]._name]).title.text===this.scene.fullLayout._dfltTitle[v]?"":t.title.text,w=0;w<=2;w+=2)this.labelEnable[f+w]=!1,this.labels[f+w]=o,this.labelColor[f+w]=S(t.title.font.color),this.labelFont[f+w]=t.title.font.family,this.labelSize[f+w]=t.title.font.size,this.labelPad[f+w]=this.getLabelPad(l,t),this.tickEnable[f+w]=!1,this.tickColor[f+w]=S((t.tickfont||{}).color),this.tickAngle[f+w]="auto"===t.tickangle?0:Math.PI*-t.tickangle/180,this.tickPad[f+w]=this.getTickPad(t),this.tickMarkLength[f+w]=0,this.tickMarkWidth[f+w]=t.tickwidth||0,this.tickMarkColor[f+w]=S(t.tickcolor),this.borderLineEnable[f+w]=!1,this.borderLineColor[f+w]=S(t.linecolor),this.borderLineWidth[f+w]=t.linewidth||0;s=this.hasSharedAxis(t),n=this.hasAxisInDfltPos(l,t)&&!s,a=this.hasAxisInAltrPos(l,t)&&!s,r=t.mirror||!1,c=s?-1!==String(r).indexOf("all"):!!r,p=s?"allticks"===r:-1!==String(r).indexOf("ticks"),n?this.labelEnable[f]=!0:a&&(this.labelEnable[f+2]=!0),n?this.tickEnable[f]=t.showticklabels:a&&(this.tickEnable[f+2]=t.showticklabels),(n||c)&&(this.borderLineEnable[f]=t.showline),(a||c)&&(this.borderLineEnable[f+2]=t.showline),(n||p)&&(this.tickMarkLength[f]=this.getTickMarkLength(t)),(a||p)&&(this.tickMarkLength[f+2]=this.getTickMarkLength(t)),this.gridLineEnable[f]=t.showgrid,this.gridLineColor[f]=S(t.gridcolor),this.gridLineWidth[f]=t.gridwidth,this.zeroLineEnable[f]=t.zeroline,this.zeroLineColor[f]=S(t.zerolinecolor),this.zeroLineWidth[f]=t.zerolinewidth}},A.hasSharedAxis=function(m){var l=this.scene;return 0!==C.findSubplotsWithAxis(l.fullLayout._subplots.gl2d,m).indexOf(l.id)},A.hasAxisInDfltPos=function(m,l){var t=l.side;return"xaxis"===m?"bottom"===t:"yaxis"===m?"left"===t:void 0},A.hasAxisInAltrPos=function(m,l){var t=l.side;return"xaxis"===m?"top"===t:"yaxis"===m?"right"===t:void 0},A.getLabelPad=function(m,l){var t=1.5,o=l.title.font.size,r=l.showticklabels;return"xaxis"===m?"top"===l.side?o*(t+(r?1:0))-10:o*(t+(r?.5:0))-10:"yaxis"===m?"right"===l.side?10+o*(t+(r?1:.5)):10+o*(t+(r?.5:0)):void 0},A.getTickPad=function(m){return"outside"===m.ticks?10+m.ticklen:15},A.getTickMarkLength=function(m){if(!m.ticks)return 0;var l=m.ticklen;return"inside"===m.ticks?-l:l},ie.exports=function(m){return new u(m)}},4796:function(ie,B,e){"use strict";var C=e(30962).overrideAll,S=e(92918),u=e(10820),A=e(77922),T=e(85555),m=e(93612),l=e(528),t=e(27659).NG;B.name="gl2d",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=T.idRegex,B.attrRegex=T.attrRegex,B.attributes=e(89502),B.supplyLayoutDefaults=function(o,r,n){r._has("cartesian")||m.supplyLayoutDefaults(o,r,n)},B.layoutAttrOverrides=C(m.layoutAttributes,"plot","from-root"),B.baseLayoutAttrOverrides=C({plot_bgcolor:u.plot_bgcolor,hoverlabel:l.hoverlabel},"plot","nested"),B.plot=function(o){for(var r=o._fullLayout,n=o._fullData,a=r._subplots.gl2d,s=0;s<a.length;s++){var c=a[s],p=r._plots[c],f=t(n,"gl2d",c),w=p._scene2d;void 0===w&&(w=new S({id:c,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio},r),p._scene2d=w),w.plot(f,o.calcdata,r,o.layout)}},B.clean=function(o,r,n,a){for(var s=a._subplots.gl2d||[],c=0;c<s.length;c++){var p=s[c],f=a._plots[p];f._scene2d&&0===t(o,"gl2d",p).length&&(f._scene2d.destroy(),delete a._plots[p])}m.clean.apply(this,arguments)},B.drawFramework=function(o){o._context.staticPlot||m.drawFramework(o)},B.toSVG=function(o){for(var r=o._fullLayout,n=r._subplots.gl2d,a=0;a<n.length;a++){var s=r._plots[n[a]]._scene2d,c=s.toImage("png");r._glimages.append("svg:image").attr({xmlns:A.svg,"xlink:href":c,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),s.destroy()}},B.updateFx=function(o){for(var r=o._fullLayout,n=r._subplots.gl2d,a=0;a<n.length;a++)r._plots[n[a]]._scene2d.updateFx(r.dragmode)}},92918:function(ie,B,e){"use strict";var C,S,u=e(73972),A=e(89298),T=e(30211),m=e(9330).gl_plot2d,l=e(9330).gl_spikes2d,t=e(9330).gl_select_box,o=e(40372),r=e(82961),n=e(75071),a=e(58617),s=e(99082),c=s.enforce,p=s.clean,f=e(71739).doAutoRange,w=e(64505),v=w.drawMode,h=w.selectMode,_=["xaxis","yaxis"],x=e(85555).SUBPLOT_PATTERN;function b(d,E){this.container=d.container,this.graphDiv=d.graphDiv,this.pixelRatio=d.plotGlPixelRatio||window.devicePixelRatio,this.id=d.id,this.staticPlot=!!d.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(E),this.makeFramework(),this.stopped||(this.glplotOptions=r(this),this.glplotOptions.merge(E),this.glplot=m(this.glplotOptions),this.camera=n(this),this.traces={},this.spikes=l(this.glplot),this.selectBox=t(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}ie.exports=b;var M=b.prototype;M.makeFramework=function(){if(this.staticPlot){if(!(S||(C=document.createElement("canvas"),S=o({canvas:C,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=C,this.gl=S}else{var d=this.container.querySelector(".gl-canvas-focus"),E=o({canvas:d,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!E)return a(this),void(this.stopped=!0);this.canvas=d,this.gl=E}var k=this.canvas;k.style.width="100%",k.style.height="100%",k.style.position="absolute",k.style.top="0px",k.style.left="0px",k.style["pointer-events"]="none",this.updateSize(k);var I=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");I.style.position="absolute",I.style.top=I.style.left="0px",I.style.width=I.style.height="100%",I.style["z-index"]=20,I.style["pointer-events"]="none";var L=this.mouseContainer=document.createElement("div");L.style.position="absolute",L.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var P=this.container;P.appendChild(I),P.appendChild(L);var R=this;L.addEventListener("mouseout",function(){R.isMouseOver=!1,R.unhover()}),L.addEventListener("mouseover",function(){R.isMouseOver=!0})},M.toImage=function(d){d||(d="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(C),this.updateSize(this.canvas);var E=this.glplot.gl,k=E.drawingBufferWidth,I=E.drawingBufferHeight;E.clearColor(1,1,1,0),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),E.bindFramebuffer(E.FRAMEBUFFER,null);var L=new Uint8Array(k*I*4);E.readPixels(0,0,k,I,E.RGBA,E.UNSIGNED_BYTE,L);for(var P=0,R=I-1;P<R;++P,--R)for(var z=0;z<k;++z)for(var $=0;$<4;++$){var N=L[4*(k*P+z)+$];L[4*(k*P+z)+$]=L[4*(k*R+z)+$],L[4*(k*R+z)+$]=N}var W=document.createElement("canvas");W.width=k,W.height=I;var H,U=W.getContext("2d",{willReadFrequently:!0}),Z=U.createImageData(k,I);switch(Z.data.set(L),U.putImageData(Z,0,0),d){case"jpeg":H=W.toDataURL("image/jpeg");break;case"webp":H=W.toDataURL("image/webp");break;default:H=W.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(C),H},M.updateSize=function(d){d||(d=this.canvas);var E=this.pixelRatio,k=this.fullLayout,L=k.height,P=0|Math.ceil(E*k.width),R=0|Math.ceil(E*L);return d.width===P&&d.height===R||(d.width=P,d.height=R),d},M.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var d=[A.calcTicks(this.xaxis),A.calcTicks(this.yaxis)],E=0;E<2;++E)for(var k=0;k<d[E].length;++k)d[E][k].text=d[E][k].text+"";return d},M.updateRefs=function(d){this.fullLayout=d;var E=this.id.match(x),I="yaxis"+E[2];this.xaxis=this.fullLayout["xaxis"+E[1]],this.yaxis=this.fullLayout[I]},M.relayoutCallback=function(){var d=this.graphDiv,E=this.xaxis,k=this.yaxis,I=d.layout,L={},P=L[E._name+".range"]=E.range.slice(),R=L[k._name+".range"]=k.range.slice();L[E._name+".autorange"]=E.autorange,L[k._name+".autorange"]=k.autorange,u.call("_storeDirectGUIEdit",d.layout,d._fullLayout._preGUI,L);var z=I[E._name];z.range=P,z.autorange=E.autorange;var $=I[k._name];$.range=R,$.autorange=k.autorange,L.lastInputTime=this.camera.lastInputTime,d.emit("plotly_relayout",L)},M.cameraChanged=function(){var d=this.camera;this.glplot.setDataBox(this.calcDataBox());var E=this.computeTickMarks();(function(k,I){for(var L=0;L<2;++L){var P=k[L],R=I[L];if(P.length!==R.length)return!0;for(var z=0;z<P.length;++z)if(P[z].x!==R[z].x)return!0}return!1})(E,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=E,this.glplotOptions.dataBox=d.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},M.handleAnnotations=function(){for(var d=this.graphDiv,E=this.fullLayout.annotations,k=0;k<E.length;k++){var I=E[k];I.xref===this.xaxis._id&&I.yref===this.yaxis._id&&u.getComponentMethod("annotations","drawOne")(d,k)}},M.destroy=function(){if(this.glplot){var d=this.traces;d&&Object.keys(d).map(function(E){d[E].dispose(),delete d[E]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},M.plot=function(d,E,k){var I=this.glplot;this.updateRefs(k),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(d,E),this.updateFx(k.dragmode);var L=k.width,P=k.height;this.updateSize(this.canvas);var R=this.glplotOptions;R.merge(k),R.screenBox=[0,0,L,P];var z={_fullLayout:{_axisConstraintGroups:k._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:k._size}};p(z,this.xaxis),p(z,this.yaxis);var $,N,W=k._size,H=this.xaxis.domain,U=this.yaxis.domain;for(R.viewBox=[W.l+H[0]*W.w,W.b+U[0]*W.h,L-W.r-(1-H[1])*W.w,P-W.t-(1-U[1])*W.h],this.mouseContainer.style.width=W.w*(H[1]-H[0])+"px",this.mouseContainer.style.height=W.h*(U[1]-U[0])+"px",this.mouseContainer.height=W.h*(U[1]-U[0]),this.mouseContainer.style.left=W.l+H[0]*W.w+"px",this.mouseContainer.style.top=W.t+(1-U[1])*W.h+"px",N=0;N<2;++N)($=this[_[N]])._length=R.viewBox[N+2]-R.viewBox[N],f(this.graphDiv,$),$.setScale();c(z),R.ticks=this.computeTickMarks(),R.dataBox=this.calcDataBox(),R.merge(k),I.update(R),this.glplot.draw()},M.calcDataBox=function(){var d=this.xaxis,E=this.yaxis,k=d.range,I=E.range,L=d.r2l,P=E.r2l;return[L(k[0]),P(I[0]),L(k[1]),P(I[1])]},M.setRanges=function(d){var E=this.xaxis,k=this.yaxis,I=E.l2r,L=k.l2r;E.range=[I(d[0]),I(d[2])],k.range=[L(d[1]),L(d[3])]},M.updateTraces=function(d,E){var k,I,L,P=Object.keys(this.traces);this.fullData=d;e:for(k=0;k<P.length;k++){var R=P[k],z=this.traces[R];for(I=0;I<d.length;I++)if((L=d[I]).uid===R&&L.type===z.type)continue e;z.dispose(),delete this.traces[R]}for(k=0;k<d.length;k++){var $=E[k],N=this.traces[(L=d[k]).uid];N?N.update(L,$):(N=L._module.plot(this,L,$),this.traces[L.uid]=N)}this.glplot.objects.sort(function(W,H){return W._trace.index-H._trace.index})},M.updateFx=function(d){h(d)||v(d)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===d?"move":"zoom"===d?"crosshair":null},M.emitPointAction=function(d,E){for(var k,I=d.trace.uid,L=d.pointIndex,P=0;P<this.fullData.length;P++)this.fullData[P].uid===I&&(k=this.fullData[P]);var R={x:d.traceCoord[0],y:d.traceCoord[1],curveNumber:k.index,pointNumber:L,data:k._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};T.appendArrayPointValue(R,k,L),this.graphDiv.emit(E,{points:[R]})},M.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var d=this.glplot,E=this.camera,k=E.mouseListener,I=1===this.lastButtonState&&0===k.buttons,L=this.fullLayout;this.lastButtonState=k.buttons,this.cameraChanged();var P,R=k.x*d.pixelRatio,z=this.canvas.height-d.pixelRatio*k.y;if(E.boxEnabled&&"zoom"===L.dragmode){this.selectBox.enabled=!0;for(var $=this.selectBox.selectBox=[Math.min(E.boxStart[0],E.boxEnd[0]),Math.min(E.boxStart[1],E.boxEnd[1]),Math.max(E.boxStart[0],E.boxEnd[0]),Math.max(E.boxStart[1],E.boxEnd[1])],N=0;N<2;N++)E.boxStart[N]===E.boxEnd[N]&&($[N]=d.dataBox[N],$[N+2]=d.dataBox[N+2]);d.setDirty()}else if(!E.panning&&this.isMouseOver){this.selectBox.enabled=!1;var W=L._size,Z=(P=d.pick(R/d.pixelRatio+W.l+this.xaxis.domain[0]*W.w,z/d.pixelRatio-(W.t+(1-this.yaxis.domain[1])*W.h)))&&P.object._trace.handlePick(P);if(Z&&I&&this.emitPointAction(Z,"plotly_click"),P&&"skip"!==P.object._trace.hoverinfo&&L.hovermode&&Z&&(!this.lastPickResult||this.lastPickResult.traceUid!==Z.trace.uid||this.lastPickResult.dataCoord[0]!==Z.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Z.dataCoord[1])){var Y=Z;this.lastPickResult={traceUid:Z.trace?Z.trace.uid:null,dataCoord:Z.dataCoord.slice()},this.spikes.update({center:P.dataCoord}),Y.screenCoord=[((d.viewBox[2]-d.viewBox[0])*(P.dataCoord[0]-d.dataBox[0])/(d.dataBox[2]-d.dataBox[0])+d.viewBox[0])/d.pixelRatio,(this.canvas.height-(d.viewBox[3]-d.viewBox[1])*(P.dataCoord[1]-d.dataBox[1])/(d.dataBox[3]-d.dataBox[1])-d.viewBox[1])/d.pixelRatio],this.emitPointAction(Z,"plotly_hover");var ae=this.fullData[Y.trace.index]||{},re=Y.pointIndex,Q=T.castHoverinfo(ae,L,re);if(Q&&"all"!==Q){var K=Q.split("+");-1===K.indexOf("x")&&(Y.traceCoord[0]=void 0),-1===K.indexOf("y")&&(Y.traceCoord[1]=void 0),-1===K.indexOf("z")&&(Y.traceCoord[2]=void 0),-1===K.indexOf("text")&&(Y.textLabel=void 0),-1===K.indexOf("name")&&(Y.name=void 0)}T.loneHover({x:Y.screenCoord[0],y:Y.screenCoord[1],xLabel:this.hoverFormatter("xaxis",Y.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",Y.traceCoord[1]),zLabel:Y.traceCoord[2],text:Y.textLabel,name:Y.name,color:T.castHoverOption(ae,re,"bgcolor")||Y.color,borderColor:T.castHoverOption(ae,re,"bordercolor"),fontFamily:T.castHoverOption(ae,re,"font.family"),fontSize:T.castHoverOption(ae,re,"font.size"),fontColor:T.castHoverOption(ae,re,"font.color"),nameLength:T.castHoverOption(ae,re,"namelength"),textAlign:T.castHoverOption(ae,re,"align")},{container:this.svgContainer,gd:this.graphDiv})}}P||this.unhover(),d.draw()}},M.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),T.loneUnhover(this.svgContainer))},M.hoverFormatter=function(d,E){if(void 0!==E){var k=this[d];return A.tickText(k,k.c2l(E),"hover").text}}},58547:function(ie,B,e){"use strict";var C=e(30962).overrideAll,S=e(528),u=e(33539),A=e(27659).NG,T=e(71828),m=e(77922),l="gl3d",t="scene";B.name=l,B.attr=t,B.idRoot=t,B.idRegex=B.attrRegex=T.counterRegex("scene"),B.attributes=e(59084),B.layoutAttributes=e(65500),B.baseLayoutAttrOverrides=C({hoverlabel:S.hoverlabel},"plot","nested"),B.supplyLayoutDefaults=e(24682),B.plot=function(o){for(var r=o._fullLayout,n=o._fullData,a=r._subplots[l],s=0;s<a.length;s++){var c=a[s],p=A(n,l,c),f=r[c],w=f.camera,v=f._scene;v||(v=new u({id:c,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio,camera:w},r),f._scene=v),v.viewInitial||(v.viewInitial={up:{x:w.up.x,y:w.up.y,z:w.up.z},eye:{x:w.eye.x,y:w.eye.y,z:w.eye.z},center:{x:w.center.x,y:w.center.y,z:w.center.z}}),v.plot(p,r,o.layout)}},B.clean=function(o,r,n,a){for(var s=a._subplots[l]||[],c=0;c<s.length;c++){var p=s[c];!r[p]&&a[p]._scene&&(a[p]._scene.destroy(),a._infolayer&&a._infolayer.selectAll(".annotation-"+p).remove())}},B.toSVG=function(o){for(var r=o._fullLayout,n=r._subplots[l],a=r._size,s=0;s<n.length;s++){var c=r[n[s]],p=c.domain,f=c._scene,w=f.toImage("png");r._glimages.append("svg:image").attr({xmlns:m.svg,"xlink:href":w,x:a.l+a.w*p.x[0],y:a.t+a.h*(1-p.y[1]),width:a.w*(p.x[1]-p.x[0]),height:a.h*(p.y[1]-p.y[0]),preserveAspectRatio:"none"}),f.destroy()}},B.cleanId=function(o){if(o.match(/^scene[0-9]*$/)){var r=o.substr(5);return"1"===r&&(r=""),t+r}},B.updateFx=function(o){for(var r=o._fullLayout,n=r._subplots[l],a=0;a<n.length;a++)r[n[a]]._scene.updateFx(r.dragmode,r.hovermode)}},59084:function(ie){"use strict";ie.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(ie,B,e){"use strict";var C=e(7901),S=e(13838),u=e(1426).extendFlat,A=e(30962).overrideAll;ie.exports=A({visible:S.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:C.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:S.color,categoryorder:S.categoryorder,categoryarray:S.categoryarray,title:{text:S.title.text,font:S.title.font},type:u({},S.type,{values:["-","linear","log","date","category"]}),autotypenumbers:S.autotypenumbers,autorange:S.autorange,rangemode:S.rangemode,range:u({},S.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:S.minor.tickmode,nticks:S.nticks,tick0:S.tick0,dtick:S.dtick,tickvals:S.tickvals,ticktext:S.ticktext,ticks:S.ticks,mirror:S.mirror,ticklen:S.ticklen,tickwidth:S.tickwidth,tickcolor:S.tickcolor,showticklabels:S.showticklabels,labelalias:S.labelalias,tickfont:S.tickfont,tickangle:S.tickangle,tickprefix:S.tickprefix,showtickprefix:S.showtickprefix,ticksuffix:S.ticksuffix,showticksuffix:S.showticksuffix,showexponent:S.showexponent,exponentformat:S.exponentformat,minexponent:S.minexponent,separatethousands:S.separatethousands,tickformat:S.tickformat,tickformatstops:S.tickformatstops,hoverformat:S.hoverformat,showline:S.showline,linecolor:S.linecolor,linewidth:S.linewidth,showgrid:S.showgrid,gridcolor:u({},S.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:S.gridwidth,zeroline:S.zeroline,zerolinecolor:S.zerolinecolor,zerolinewidth:S.zerolinewidth,_deprecated:{title:S._deprecated.title,titlefont:S._deprecated.titlefont}},"plot","from-root")},3277:function(ie,B,e){"use strict";var C=e(84267).mix,S=e(71828),u=e(44467),A=e(77894),T=e(951),m=e(71453),l=["xaxis","yaxis","zaxis"];ie.exports=function(t,o,r){var n,a;function s(f,w){return S.coerce(n,a,A,f,w)}for(var c=0;c<l.length;c++){var p=l[c];n=t[p]||{},(a=u.newContainer(o,p))._id=p[0]+r.scene,a._name=p,T(n,a,s,r),m(n,a,s,{font:r.font,letter:p[0],data:r.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:r.bgColor,calendar:r.calendar},r.fullLayout),s("gridcolor",C(a.color,r.bgColor,72.72727272727273).toRgbString()),s("title.text",p[0]),a.setScale=S.noop,s("showspikes")&&(s("spikesides"),s("spikethickness"),s("spikecolor",a.color)),s("showaxeslabels"),s("showbackground")&&s("backgroundcolor")}}},30422:function(ie,B,e){"use strict";var C=e(78614),S=e(71828),u=["xaxis","yaxis","zaxis"];function A(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}A.prototype.merge=function(T,m){for(var l=this,t=0;t<3;++t){var o=m[u[t]];o.visible?(l.labels[t]=T._meta?S.templateString(o.title.text,T._meta):o.title.text,"font"in o.title&&(o.title.font.color&&(l.labelColor[t]=C(o.title.font.color)),o.title.font.family&&(l.labelFont[t]=o.title.font.family),o.title.font.size&&(l.labelSize[t]=o.title.font.size)),"showline"in o&&(l.lineEnable[t]=o.showline),"linecolor"in o&&(l.lineColor[t]=C(o.linecolor)),"linewidth"in o&&(l.lineWidth[t]=o.linewidth),"showgrid"in o&&(l.gridEnable[t]=o.showgrid),"gridcolor"in o&&(l.gridColor[t]=C(o.gridcolor)),"gridwidth"in o&&(l.gridWidth[t]=o.gridwidth),"log"===o.type?l.zeroEnable[t]=!1:"zeroline"in o&&(l.zeroEnable[t]=o.zeroline),"zerolinecolor"in o&&(l.zeroLineColor[t]=C(o.zerolinecolor)),"zerolinewidth"in o&&(l.zeroLineWidth[t]=o.zerolinewidth),l.lineTickEnable[t]=!(!("ticks"in o)||!o.ticks),"ticklen"in o&&(l.lineTickLength[t]=l._defaultLineTickLength[t]=o.ticklen),"tickcolor"in o&&(l.lineTickColor[t]=C(o.tickcolor)),"tickwidth"in o&&(l.lineTickWidth[t]=o.tickwidth),"tickangle"in o&&(l.tickAngle[t]="auto"===o.tickangle?-3600:Math.PI*-o.tickangle/180),"showticklabels"in o&&(l.tickEnable[t]=o.showticklabels),"tickfont"in o&&(o.tickfont.color&&(l.tickColor[t]=C(o.tickfont.color)),o.tickfont.family&&(l.tickFont[t]=o.tickfont.family),o.tickfont.size&&(l.tickSize[t]=o.tickfont.size)),"mirror"in o?-1!==["ticks","all","allticks"].indexOf(o.mirror)?(l.lineTickMirror[t]=!0,l.lineMirror[t]=!0):!0===o.mirror?(l.lineTickMirror[t]=!1,l.lineMirror[t]=!0):(l.lineTickMirror[t]=!1,l.lineMirror[t]=!1):l.lineMirror[t]=!1,"showbackground"in o&&!1!==o.showbackground?(l.backgroundEnable[t]=!0,l.backgroundColor[t]=C(o.backgroundcolor)):l.backgroundEnable[t]=!1):(l.tickEnable[t]=!1,l.labelEnable[t]=!1,l.lineEnable[t]=!1,l.lineTickEnable[t]=!1,l.gridEnable[t]=!1,l.zeroEnable[t]=!1,l.backgroundEnable[t]=!1)}},ie.exports=function(T,m){var l=new A;return l.merge(T,m),l}},24682:function(ie,B,e){"use strict";var C=e(71828),S=e(7901),u=e(73972),A=e(49119),T=e(3277),m=e(65500),l=e(27659).NG,t="gl3d";function o(r,n,a,s){for(var c=a("bgcolor"),p=S.combine(c,s.paper_bgcolor),f=["up","center","eye"],w=0;w<f.length;w++)a("camera."+f[w]+".x"),a("camera."+f[w]+".y"),a("camera."+f[w]+".z");a("camera.projection.type");var v=!!a("aspectratio.x")&&!!a("aspectratio.y")&&!!a("aspectratio.z"),h=a("aspectmode",v?"manual":"auto");v||(r.aspectratio=n.aspectratio={x:1,y:1,z:1},"manual"===h&&(n.aspectmode="auto"),r.aspectmode=n.aspectmode);var _=l(s.fullData,t,s.id);T(r,n,{font:s.font,scene:s.id,data:_,bgColor:p,calendar:s.calendar,autotypenumbersDflt:s.autotypenumbersDflt,fullLayout:s.fullLayout}),u.getComponentMethod("annotations3d","handleDefaults")(r,n,s);var x=s.getDfltFromLayout("dragmode");if(!1!==x&&!x)if(x="orbit",r.camera&&r.camera.up){var b=r.camera.up.x,M=r.camera.up.y,d=r.camera.up.z;0!==d&&(b&&M&&d?d/Math.sqrt(b*b+M*M+d*d)>.999&&(x="turntable"):x="turntable")}else x="turntable";a("dragmode",x),a("hovermode",s.getDfltFromLayout("hovermode"))}ie.exports=function(r,n,a){var s=n._basePlotModules.length>1;A(r,n,a,{type:t,attributes:m,handleDefaults:o,fullLayout:n,font:n.font,fullData:a,getDfltFromLayout:function(c){if(!s)return C.validate(r[c],m[c])?r[c]:void 0},autotypenumbersDflt:n.autotypenumbers,paper_bgcolor:n.paper_bgcolor,calendar:n.calendar})}},65500:function(ie,B,e){"use strict";var C=e(77894),S=e(27670).Y,u=e(1426).extendFlat,A=e(71828).counterRegex;function T(m,l,t){return{x:{valType:"number",dflt:m,editType:"camera"},y:{valType:"number",dflt:l,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}ie.exports={_arrayAttrRegexps:[A("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:u(T(0,0,1),{}),center:u(T(0,0,0),{}),eye:u(T(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:S({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:C,yaxis:C,zaxis:C,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(ie,B,e){"use strict";var C=e(78614),S=["xaxis","yaxis","zaxis"];function u(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}u.prototype.merge=function(A){for(var T=0;T<3;++T){var m=A[S[T]];m.visible?(this.enabled[T]=m.showspikes,this.colors[T]=C(m.spikecolor),this.drawSides[T]=m.spikesides,this.lineWidth[T]=m.spikethickness):(this.enabled[T]=!1,this.drawSides[T]=!1)}},ie.exports=function(A){var T=new u;return T.merge(A),T}},96085:function(ie,B,e){"use strict";ie.exports=function(T){for(var m=T.axesOptions,l=T.glplot.axesPixels,t=T.fullSceneLayout,o=[[],[],[]],r=0;r<3;++r){var n=t[u[r]];if(n._length=(l[r].hi-l[r].lo)*l[r].pixelsPerDataUnit/T.dataScale[r],Math.abs(n._length)===1/0||isNaN(n._length))o[r]=[];else{n._input_range=n.range.slice(),n.range[0]=l[r].lo/T.dataScale[r],n.range[1]=l[r].hi/T.dataScale[r],n._m=1/(T.dataScale[r]*l[r].pixelsPerDataUnit),n.range[0]===n.range[1]&&(n.range[0]-=1,n.range[1]+=1);var a=n.tickmode;if("auto"===n.tickmode){n.tickmode="linear";var s=n.nticks||S.constrain(n._length/40,4,9);C.autoTicks(n,Math.abs(n.range[1]-n.range[0])/s)}for(var c=C.calcTicks(n,{msUTC:!0}),p=0;p<c.length;++p)c[p].x=c[p].x*T.dataScale[r],"date"===n.type&&(c[p].text=c[p].text.replace(/\<br\>/g," "));o[r]=c,n.tickmode=a}}for(m.ticks=o,r=0;r<3;++r)for(A[r]=.5*(T.glplot.bounds[0][r]+T.glplot.bounds[1][r]),p=0;p<2;++p)m.bounds[p][r]=T.glplot.bounds[p][r];T.contourLevels=function(f){for(var w=new Array(3),v=0;v<3;++v){for(var h=f[v],_=new Array(h.length),x=0;x<h.length;++x)_[x]=h[x].x;w[v]=_}return w}(o)};var C=e(89298),S=e(71828),u=["xaxis","yaxis","zaxis"],A=[0,0,0]},63538:function(ie){"use strict";function B(e,C){var S,u,A=[0,0,0,0];for(S=0;S<4;++S)for(u=0;u<4;++u)A[u]+=e[4*S+u]*C[S];return A}ie.exports=function(e,C){return B(e.projection,B(e.view,B(e.model,[C[0],C[1],C[2],1])))}},33539:function(ie,B,e){"use strict";var C,S,u=e(9330).gl_plot3d,A=u.createCamera,T=u.createScene,m=e(40372),l=e(38520),t=e(73972),o=e(71828),r=o.preserveDrawingBuffer(),n=e(89298),a=e(30211),s=e(78614),c=e(58617),p=e(63538),f=e(30422),w=e(13133),v=e(96085),h=!1;function _(E,k){var I=document.createElement("div"),L=E.container;this.graphDiv=E.graphDiv;var P=document.createElementNS("http://www.w3.org/2000/svg","svg");P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",P.style["z-index"]=20,P.style["pointer-events"]="none",I.appendChild(P),this.svgContainer=P,I.id=E.id,I.style.position="absolute",I.style.top=I.style.left="0px",I.style.width=I.style.height="100%",L.appendChild(I),this.fullLayout=k,this.id=E.id||"scene",this.fullSceneLayout=k[this.id],this.plotArgs=[[],{},{}],this.axesOptions=f(k,k[this.id]),this.spikeOptions=w(k[this.id]),this.container=I,this.staticMode=!!E.staticPlot,this.pixelRatio=this.pixelRatio||E.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=t.getComponentMethod("annotations3d","convert"),this.drawAnnotations=t.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var x=_.prototype;x.prepareOptions=function(){var E=this,k={canvas:E.canvas,gl:E.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:E.container,axes:E.axesOptions,spikes:E.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:E.camera,pixelRatio:E.pixelRatio};if(E.staticMode){if(!(S||(C=document.createElement("canvas"),S=m({canvas:C,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");k.gl=S,k.canvas=C}return k};var b=!0;x.tryCreatePlot=function(){var E=this,k=E.prepareOptions(),I=!0;try{E.glplot=T(k)}catch{if(E.staticMode||!b||r)I=!1;else{o.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=k.glOptions.preserveDrawingBuffer=!0,E.glplot=T(k)}catch{r=k.glOptions.preserveDrawingBuffer=!1,I=!1}}}return b=!1,I},x.initializeGLCamera=function(){var E=this,k=E.fullSceneLayout.camera;E.camera=A(E.container,{center:[k.center.x,k.center.y,k.center.z],eye:[k.eye.x,k.eye.y,k.eye.z],up:[k.up.x,k.up.y,k.up.z],_ortho:"orthographic"===k.projection.type,zoomMin:.01,zoomMax:100,mode:"orbit"})},x.initializeGLPlot=function(){var E=this;if(E.initializeGLCamera(),!E.tryCreatePlot())return c(E);E.traces={},E.make4thDimension();var k=E.graphDiv,I=k.layout,L=function(){var R={};return E.isCameraChanged(I)&&(R[E.id+".camera"]=E.getCamera()),E.isAspectChanged(I)&&(R[E.id+".aspectratio"]=E.glplot.getAspectratio(),"manual"!==I[E.id].aspectmode&&(E.fullSceneLayout.aspectmode=I[E.id].aspectmode=R[E.id+".aspectmode"]="manual")),R},P=function(R){if(!1!==R.fullSceneLayout.dragmode){var z=L();R.saveLayout(I),R.graphDiv.emit("plotly_relayout",z)}};return E.glplot.canvas&&(E.glplot.canvas.addEventListener("mouseup",function(){P(E)}),E.glplot.canvas.addEventListener("touchstart",function(){h=!0}),E.glplot.canvas.addEventListener("wheel",function(R){if(k._context._scrollZoom.gl3d){if(E.camera._ortho){var z=R.deltaX>R.deltaY?1.1:.9090909090909091,$=E.glplot.getAspectratio();E.glplot.setAspectratio({x:z*$.x,y:z*$.y,z:z*$.z})}P(E)}},!!l&&{passive:!1}),E.glplot.canvas.addEventListener("mousemove",function(){if(!1!==E.fullSceneLayout.dragmode&&0!==E.camera.mouseListener.buttons){var R=L();E.graphDiv.emit("plotly_relayouting",R)}}),E.staticMode||E.glplot.canvas.addEventListener("webglcontextlost",function(R){k&&k.emit&&k.emit("plotly_webglcontextlost",{event:R,layer:E.id})},!1)),E.glplot.oncontextloss=function(){E.recoverContext()},E.glplot.onrender=function(){E.render()},!0},x.render=function(){var E,k=this,I=k.graphDiv,L=k.svgContainer,P=k.container.getBoundingClientRect();I._fullLayout._calcInverseTransform(I);var $=P.width*I._fullLayout._invScaleX,N=P.height*I._fullLayout._invScaleY;L.setAttributeNS(null,"viewBox","0 0 "+$+" "+N),L.setAttributeNS(null,"width",$),L.setAttributeNS(null,"height",N),v(k),k.glplot.axes.update(k.axesOptions);for(var W=Object.keys(k.traces),H=null,U=k.glplot.selection,Z=0;Z<W.length;++Z)"skip"!==(E=k.traces[W[Z]]).data.hoverinfo&&E.handlePick(U)&&(H=E),E.setContourLevels&&E.setContourLevels();function Y(Te,be,xe){var Ne=k.fullSceneLayout[Te+"axis"];return"log"!==Ne.type&&(be=Ne.d2l(be)),n.hoverLabelText(Ne,be,xe)}if(null!==H){var re,ae=p(k.glplot.cameraParams,U.dataCoordinate),Q=I._fullData[(E=H.data).index],K=U.index,te={xLabel:Y("x",U.traceCoordinate[0],E.xhoverformat),yLabel:Y("y",U.traceCoordinate[1],E.yhoverformat),zLabel:Y("z",U.traceCoordinate[2],E.zhoverformat)},oe=a.castHoverinfo(Q,k.fullLayout,K),ue=(oe||"").split("+"),fe=oe&&"all"===oe;Q.hovertemplate||fe||(-1===ue.indexOf("x")&&(te.xLabel=void 0),-1===ue.indexOf("y")&&(te.yLabel=void 0),-1===ue.indexOf("z")&&(te.zLabel=void 0),-1===ue.indexOf("text")&&(U.textLabel=void 0),-1===ue.indexOf("name")&&(H.name=void 0));var he=[];"cone"===E.type||"streamtube"===E.type?(te.uLabel=Y("x",U.traceCoordinate[3],E.uhoverformat),(fe||-1!==ue.indexOf("u"))&&he.push("u: "+te.uLabel),te.vLabel=Y("y",U.traceCoordinate[4],E.vhoverformat),(fe||-1!==ue.indexOf("v"))&&he.push("v: "+te.vLabel),te.wLabel=Y("z",U.traceCoordinate[5],E.whoverformat),(fe||-1!==ue.indexOf("w"))&&he.push("w: "+te.wLabel),te.normLabel=U.traceCoordinate[6].toPrecision(3),(fe||-1!==ue.indexOf("norm"))&&he.push("norm: "+te.normLabel),"streamtube"===E.type&&(te.divergenceLabel=U.traceCoordinate[7].toPrecision(3),(fe||-1!==ue.indexOf("divergence"))&&he.push("divergence: "+te.divergenceLabel)),U.textLabel&&he.push(U.textLabel),re=he.join("<br>")):"isosurface"===E.type||"volume"===E.type?(te.valueLabel=n.hoverLabelText(k._mockAxis,k._mockAxis.d2l(U.traceCoordinate[3]),E.valuehoverformat),he.push("value: "+te.valueLabel),U.textLabel&&he.push(U.textLabel),re=he.join("<br>")):re=U.textLabel;var me={x:U.traceCoordinate[0],y:U.traceCoordinate[1],z:U.traceCoordinate[2],data:Q._input,fullData:Q,curveNumber:Q.index,pointNumber:K};a.appendArrayPointValue(me,Q,K),E._module.eventData&&(me=Q._module.eventData(me,U,Q,{},K));var ke={points:[me]};if(k.fullSceneLayout.hovermode){var Pe=[];a.loneHover({trace:Q,x:(.5+.5*ae[0]/ae[3])*$,y:(.5-.5*ae[1]/ae[3])*N,xLabel:te.xLabel,yLabel:te.yLabel,zLabel:te.zLabel,text:re,name:H.name,color:a.castHoverOption(Q,K,"bgcolor")||H.color,borderColor:a.castHoverOption(Q,K,"bordercolor"),fontFamily:a.castHoverOption(Q,K,"font.family"),fontSize:a.castHoverOption(Q,K,"font.size"),fontColor:a.castHoverOption(Q,K,"font.color"),nameLength:a.castHoverOption(Q,K,"namelength"),textAlign:a.castHoverOption(Q,K,"align"),hovertemplate:o.castOption(Q,K,"hovertemplate"),hovertemplateLabels:o.extendFlat({},me,te),eventData:[me]},{container:L,gd:I,inOut_bbox:Pe}),me.bbox=Pe[0]}I.emit(U.distance<5&&(U.buttons||h)?"plotly_click":"plotly_hover",ke),this.oldEventData=ke}else a.loneUnhover(L),this.oldEventData&&I.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;k.drawAnnotations(k)},x.recoverContext=function(){var E=this;E.glplot.dispose();var k=function(){E.glplot.gl.isContextLost()?requestAnimationFrame(k):E.initializeGLPlot()?E.plot.apply(E,E.plotArgs):o.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(k)};var M=["xaxis","yaxis","zaxis"];function d(E,k,I){for(var L=E.fullSceneLayout,P=0;P<3;P++){var R=M[P],z=R.charAt(0),$=L[R],N=k[z],W=k[z+"calendar"],H=k["_"+z+"length"];if(o.isArrayOrTypedArray(N))for(var U,Z=0;Z<(H||N.length);Z++)if(o.isArrayOrTypedArray(N[Z]))for(var Y=0;Y<N[Z].length;++Y)U=$.d2l(N[Z][Y],0,W),!isNaN(U)&&isFinite(U)&&(I[0][P]=Math.min(I[0][P],U),I[1][P]=Math.max(I[1][P],U));else U=$.d2l(N[Z],0,W),!isNaN(U)&&isFinite(U)&&(I[0][P]=Math.min(I[0][P],U),I[1][P]=Math.max(I[1][P],U));else I[0][P]=Math.min(I[0][P],0),I[1][P]=Math.max(I[1][P],H-1)}}x.plot=function(E,k,I){var L=this;if(L.plotArgs=[E,k,I],!L.glplot.contextLost){var P,R,z,$,N,W,H=k[L.id],U=I[L.id];L.fullLayout=k,L.fullSceneLayout=H,L.axesOptions.merge(k,H),L.spikeOptions.merge(H),L.setViewport(H),L.updateFx(H.dragmode,H.hovermode),L.camera.enableWheel=L.graphDiv._context._scrollZoom.gl3d,L.glplot.setClearColor(s(H.bgcolor)),L.setConvert(N),E?Array.isArray(E)||(E=[E]):E=[];var Z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(z=0;z<E.length;++z)!0===(P=E[z]).visible&&0!==P._length&&d(this,P,Z);!function(Ee,Ue){for(var $e=Ee.fullSceneLayout,ve=$e.annotations||[],Ie=0;Ie<3;Ie++)for(var De=M[Ie],ze=De.charAt(0),Ge=$e[De],He=0;He<ve.length;He++){var Ke=ve[He];if(Ke.visible){var et=Ge.r2l(Ke[ze]);!isNaN(et)&&isFinite(et)&&(Ue[0][Ie]=Math.min(Ue[0][Ie],et),Ue[1][Ie]=Math.max(Ue[1][Ie],et))}}}(this,Z);var Y=[1,1,1];for($=0;$<3;++$)Y[$]=Z[1][$]===Z[0][$]?1:1/(Z[1][$]-Z[0][$]);for(L.dataScale=Y,L.convertAnnotations(this),z=0;z<E.length;++z)!0===(P=E[z]).visible&&0!==P._length&&((R=L.traces[P.uid])?R.data.type===P.type?R.update(P):(R.dispose(),R=P._module.plot(this,P),L.traces[P.uid]=R):(R=P._module.plot(this,P),L.traces[P.uid]=R),R.name=P.name);var ae=Object.keys(L.traces);e:for(z=0;z<ae.length;++z){for($=0;$<E.length;++$)if(E[$].uid===ae[z]&&!0===E[$].visible&&0!==E[$]._length)continue e;(R=L.traces[ae[z]]).dispose(),delete L.traces[ae[z]]}L.glplot.objects.sort(function(Ee,Ue){return Ee._trace.data.index-Ue._trace.data.index});var re,Q=[[0,0,0],[0,0,0]],K=[],te={};for(z=0;z<3;++z){if((W=(N=H[M[z]]).type)in te?(te[W].acc*=Y[z],te[W].count+=1):te[W]={acc:Y[z],count:1},N.autorange){Q[0][z]=1/0,Q[1][z]=-1/0;var oe=L.glplot.objects,ue=L.fullSceneLayout.annotations||[],fe=N._name.charAt(0);for($=0;$<oe.length;$++){var he=oe[$],me=he.bounds,ke=he._trace.data._pad||0;Q[0][z]="ErrorBars"===he.constructor.name&&N._lowerLogErrorBound?Math.min(Q[0][z],N._lowerLogErrorBound):Math.min(Q[0][z],me[0][z]/Y[z]-ke),Q[1][z]=Math.max(Q[1][z],me[1][z]/Y[z]+ke)}for($=0;$<ue.length;$++){var Pe=ue[$];if(Pe.visible){var Te=N.r2l(Pe[fe]);Q[0][z]=Math.min(Q[0][z],Te),Q[1][z]=Math.max(Q[1][z],Te)}}if("rangemode"in N&&"tozero"===N.rangemode&&(Q[0][z]=Math.min(Q[0][z],0),Q[1][z]=Math.max(Q[1][z],0)),Q[0][z]>Q[1][z])Q[0][z]=-1,Q[1][z]=1;else{var be=Q[1][z]-Q[0][z];Q[0][z]-=be/32,Q[1][z]+=be/32}if("reversed"===N.autorange){var xe=Q[0][z];Q[0][z]=Q[1][z],Q[1][z]=xe}}else{var Ne=N.range;Q[0][z]=N.r2l(Ne[0]),Q[1][z]=N.r2l(Ne[1])}Q[0][z]===Q[1][z]&&(Q[0][z]-=1,Q[1][z]+=1),K[z]=Q[1][z]-Q[0][z],L.glplot.setBounds(z,{min:Q[0][z]*Y[z],max:Q[1][z]*Y[z]})}var Se=H.aspectmode;if("cube"===Se)re=[1,1,1];else if("manual"===Se){var Ce=H.aspectratio;re=[Ce.x,Ce.y,Ce.z]}else{if("auto"!==Se&&"data"!==Se)throw new Error("scene.js aspectRatio was not one of the enumerated types");var pe=[1,1,1];for(z=0;z<3;++z){var de=te[W=(N=H[M[z]]).type];pe[z]=Math.pow(de.acc,1/de.count)/Y[z]}re="data"===Se||Math.max.apply(null,pe)/Math.min.apply(null,pe)<=4?pe:[1,1,1]}H.aspectratio.x=U.aspectratio.x=re[0],H.aspectratio.y=U.aspectratio.y=re[1],H.aspectratio.z=U.aspectratio.z=re[2],L.glplot.setAspectratio(H.aspectratio),L.viewInitial.aspectratio||(L.viewInitial.aspectratio={x:H.aspectratio.x,y:H.aspectratio.y,z:H.aspectratio.z}),L.viewInitial.aspectmode||(L.viewInitial.aspectmode=H.aspectmode);var se=H.domain||null,we=k._size||null;if(se&&we){var Re=L.container.style;Re.position="absolute",Re.left=we.l+se.x[0]*we.w+"px",Re.top=we.t+(1-se.y[1])*we.h+"px",Re.width=we.w*(se.x[1]-se.x[0])+"px",Re.height=we.h*(se.y[1]-se.y[0])+"px"}L.glplot.redraw()}},x.destroy=function(){var E=this;E.glplot&&(E.camera.mouseListener.enabled=!1,E.container.removeEventListener("wheel",E.camera.wheelListener),E.camera=null,E.glplot.dispose(),E.container.parentNode.removeChild(E.container),E.glplot=null)},x.getCamera=function(){var E,k=this;return k.camera.view.recalcMatrix(k.camera.view.lastT()),{up:{x:(E=k.camera).up[0],y:E.up[1],z:E.up[2]},center:{x:E.center[0],y:E.center[1],z:E.center[2]},eye:{x:E.eye[0],y:E.eye[1],z:E.eye[2]},projection:{type:!0===E._ortho?"orthographic":"perspective"}}},x.setViewport=function(E){var k,I=this,L=E.camera;I.camera.lookAt.apply(this,[[(k=L).eye.x,k.eye.y,k.eye.z],[k.center.x,k.center.y,k.center.z],[k.up.x,k.up.y,k.up.z]]),I.glplot.setAspectratio(E.aspectratio),"orthographic"===L.projection.type!==I.camera._ortho&&(I.glplot.redraw(),I.glplot.clearRGBA(),I.glplot.dispose(),I.initializeGLPlot())},x.isCameraChanged=function(E){var k=this.getCamera(),I=o.nestedProperty(E,this.id+".camera").get();var $,N,W,H,U,Z,P=!1;if(void 0===I)P=!0;else{for(var R=0;R<3;R++)for(var z=0;z<3;z++)if($=k,H=z,U=void 0,Z=void 0,Z=["x","y","z"],!(N=I)[(U=["up","center","eye"])[W=R]]||$[U[W]][Z[H]]!==N[U[W]][Z[H]]){P=!0;break}(!I.projection||k.projection&&k.projection.type!==I.projection.type)&&(P=!0)}return P},x.isAspectChanged=function(E){var k=this.glplot.getAspectratio(),I=o.nestedProperty(E,this.id+".aspectratio").get();return void 0===I||I.x!==k.x||I.y!==k.y||I.z!==k.z},x.saveLayout=function(E){var k,I,L,P,R,z,$=this,N=$.fullLayout,W=$.isCameraChanged(E),H=$.isAspectChanged(E),U=W||H;if(U){var Z={};W&&(k=$.getCamera(),L=(I=o.nestedProperty(E,$.id+".camera")).get(),Z[$.id+".camera"]=L),H&&(P=$.glplot.getAspectratio(),z=(R=o.nestedProperty(E,$.id+".aspectratio")).get(),Z[$.id+".aspectratio"]=z),t.call("_storeDirectGUIEdit",E,N._preGUI,Z),W&&(I.set(k),o.nestedProperty(N,$.id+".camera").set(k)),H&&(R.set(P),o.nestedProperty(N,$.id+".aspectratio").set(P),$.glplot.redraw())}return U},x.updateFx=function(E,k){var I=this,L=I.camera;if(L)if("orbit"===E)L.mode="orbit",L.keyBindingMode="rotate";else if("turntable"===E){L.up=[0,0,1],L.mode="turntable",L.keyBindingMode="rotate";var P=I.graphDiv,R=P._fullLayout,z=I.fullSceneLayout.camera,$=z.up.x,N=z.up.y,W=z.up.z;if(W/Math.sqrt($*$+N*N+W*W)<.999){var H=I.id+".camera.up",U={x:0,y:0,z:1},Z={};Z[H]=U;var Y=P.layout;t.call("_storeDirectGUIEdit",Y,R._preGUI,Z),z.up=U,o.nestedProperty(Y,H).set(U)}}else L.keyBindingMode=E;I.fullSceneLayout.hovermode=k},x.toImage=function(E){var k=this;E||(E="png"),k.staticMode&&k.container.appendChild(C),k.glplot.redraw();var I=k.glplot.gl,L=I.drawingBufferWidth,P=I.drawingBufferHeight;I.bindFramebuffer(I.FRAMEBUFFER,null);var R=new Uint8Array(L*P*4);I.readPixels(0,0,L,P,I.RGBA,I.UNSIGNED_BYTE,R),function(H,U,Z){for(var Y=0,ae=Z-1;Y<ae;++Y,--ae)for(var re=0;re<U;++re)for(var Q=0;Q<4;++Q){var K=4*(U*Y+re)+Q,te=4*(U*ae+re)+Q,oe=H[K];H[K]=H[te],H[te]=oe}}(R,L,P),function(H,U,Z){for(var Y=0;Y<Z;++Y)for(var ae=0;ae<U;++ae){var re=4*(U*Y+ae),Q=H[re+3];if(Q>0)for(var K=255/Q,te=0;te<3;++te)H[re+te]=Math.min(K*H[re+te],255)}}(R,L,P);var z=document.createElement("canvas");z.width=L,z.height=P;var $,N=z.getContext("2d",{willReadFrequently:!0}),W=N.createImageData(L,P);switch(W.data.set(R),N.putImageData(W,0,0),E){case"jpeg":$=z.toDataURL("image/jpeg");break;case"webp":$=z.toDataURL("image/webp");break;default:$=z.toDataURL("image/png")}return k.staticMode&&k.container.removeChild(C),$},x.setConvert=function(){for(var E=0;E<3;E++){var k=this.fullSceneLayout[M[E]];n.setConvert(k,this.fullLayout),k.setScale=o.noop}},x.make4thDimension=function(){var E=this,k=E.graphDiv._fullLayout;E._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},n.setConvert(E._mockAxis,k)},ie.exports=_},90060:function(ie){"use strict";ie.exports=function(B,e,C,S){S=S||B.length;for(var u=new Array(S),A=0;A<S;A++)u[A]=[B[A],e[A],C[A]];return u}},10820:function(ie,B,e){"use strict";var C=e(41940),S=e(85594),u=e(22399),A=e(29241),T=e(53777),m=e(35025),l=e(1426).extendFlat,t=C({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=u.defaultLine,ie.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:C({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:l(m({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:u.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:u.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:u.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:A.newshape,activeshape:A.activeshape,newselection:T.newselection,activeselection:T.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:l({},S.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:C({editType:"layoutstyle"})}}},77734:function(ie,B,e){"use strict";var C=e(78607),S="1.10.1",u='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',A=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',u].join(" "),T=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),m={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:u,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}]},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}]},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:A,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}]},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:A,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}]},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:T,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}]},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:T,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}]},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}]}},l=C(m);ie.exports={requiredVersion:S,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:m,styleValuesNonMapbox:l,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+S+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",l.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},13056:function(ie,B,e){"use strict";var C=e(71828);ie.exports=function(S,u){var A=S.split(" "),T=A[0],m=A[1],l=C.isArrayOrTypedArray(u)?C.mean(u):u,t=.5+l/100,o=1.5+l/100,r=["",""],n=[0,0];switch(T){case"top":r[0]="top",n[1]=-o;break;case"bottom":r[0]="bottom",n[1]=o}switch(m){case"left":r[1]="right",n[0]=-t;break;case"right":r[1]="left",n[0]=t}return{anchor:r[0]&&r[1]?r.join("-"):r[0]?r[0]:r[1]?r[1]:"center",offset:n}}},50101:function(ie,B,e){"use strict";var C=e(44517),S=e(71828),u=S.strTranslate,A=S.strScale,T=e(27659).AU,m=e(77922),l=e(39898),t=e(91424),o=e(63893),r=e(10481),n="mapbox",a=B.constants=e(77734);function s(c){return"string"==typeof c&&(-1!==a.styleValuesMapbox.indexOf(c)||0===c.indexOf("mapbox://"))}B.name=n,B.attr="subplot",B.idRoot=n,B.idRegex=B.attrRegex=S.counterRegex(n),B.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},B.layoutAttributes=e(23585),B.supplyLayoutDefaults=e(77882),B.plot=function(c){var p=c._fullLayout,f=c.calcdata,w=p._subplots[n];if(C.version!==a.requiredVersion)throw new Error(a.wrongVersionErrorMsg);var v=function(d,E){var k=d._fullLayout;if(""===d._context.mapboxAccessToken)return"";for(var I=[],L=[],P=!1,R=!1,z=0;z<E.length;z++){var $=k[E[z]],N=$.accesstoken;s($.style)&&(N?S.pushUnique(I,N):(s($._input.style)&&(S.error("Uses Mapbox map style, but did not set an access token."),P=!0),R=!0)),N&&S.pushUnique(L,N)}if(R){var W=P?a.noAccessTokenErrorMsg:a.missingStyleErrorMsg;throw S.error(W),new Error(W)}return I.length?(I.length>1&&S.warn(a.multipleTokensErrorMsg),I[0]):(L.length&&S.log(["Listed mapbox access token(s)",L.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(c,w);C.accessToken=v;for(var h=0;h<w.length;h++){var _=w[h],x=T(f,n,_),b=p[_],M=b._subplot;M||(M=new r(c,_),p[_]._subplot=M),M.viewInitial||(M.viewInitial={center:S.extendFlat({},b.center),zoom:b.zoom,bearing:b.bearing,pitch:b.pitch}),M.plot(x,p,c._promises)}},B.clean=function(c,p,f,w){for(var v=w._subplots[n]||[],h=0;h<v.length;h++){var _=v[h];!p[_]&&w[_]._subplot&&w[_]._subplot.destroy()}},B.toSVG=function(c){for(var p=c._fullLayout,f=p._subplots[n],w=p._size,v=0;v<f.length;v++){var h=p[f[v]],_=h.domain,x=h._subplot.toImage("png");p._glimages.append("svg:image").attr({xmlns:m.svg,"xlink:href":x,x:w.l+w.w*_.x[0],y:w.t+w.h*(1-_.y[1]),width:w.w*(_.x[1]-_.x[0]),height:w.h*(_.y[1]-_.y[0]),preserveAspectRatio:"none"});var b=l.select(h._subplot.div);if(null!==b.select(".mapboxgl-ctrl-logo").node().offsetParent){var M=p._glimages.append("g");M.attr("transform",u(w.l+w.w*_.x[0]+10,w.t+w.h*(1-_.y[0])-31)),M.append("path").attr("d",a.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),M.append("path").attr("d",a.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),M.append("path").attr("d",a.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),M.append("polygon").attr("points",a.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var d=b.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),E=p._glimages.append("g"),k=E.append("text");k.text(d).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":d});var I=t.bBox(k.node()),L=w.w*(_.x[1]-_.x[0]);if(I.width>L/2){var P=d.split("|").join("<br>");k.text(P).attr("data-unformatted",P).call(o.convertToTspans,c),I=t.bBox(k.node())}k.attr("transform",u(-3,8-I.height)),E.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var R=1;I.width+6>L&&(R=L/(I.width+6));var z=[w.l+w.w*_.x[1],w.t+w.h*(1-_.y[0])];E.attr("transform",u(z[0],z[1])+A(R))}},B.updateFx=function(c){for(var p=c._fullLayout,f=p._subplots[n],w=0;w<f.length;w++)p[f[w]]._subplot.updateFx(p)}},67911:function(ie,B,e){"use strict";var C=e(71828),S=e(63893).sanitizeHTML,u=e(13056),A=e(77734);function T(o,r){this.subplot=o,this.uid=o.uid+"-"+r,this.index=r,this.idSource="source-"+this.uid,this.idLayer=A.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var m=T.prototype;function l(o){if(!o.visible)return!1;var r=o.source;if(Array.isArray(r)&&r.length>0){for(var n=0;n<r.length;n++)if("string"!=typeof r[n]||0===r[n].length)return!1;return!0}return C.isPlainObject(r)||"string"==typeof r&&r.length>0}function t(o){var r={},n={};switch(o.type){case"circle":C.extendFlat(n,{"circle-radius":o.circle.radius,"circle-color":o.color,"circle-opacity":o.opacity});break;case"line":C.extendFlat(n,{"line-width":o.line.width,"line-color":o.color,"line-opacity":o.opacity,"line-dasharray":o.line.dash});break;case"fill":C.extendFlat(n,{"fill-color":o.color,"fill-outline-color":o.fill.outlinecolor,"fill-opacity":o.opacity});break;case"symbol":var a=o.symbol,s=u(a.textposition,a.iconsize);C.extendFlat(r,{"icon-image":a.icon+"-15","icon-size":a.iconsize/10,"text-field":a.text,"text-size":a.textfont.size,"text-anchor":s.anchor,"text-offset":s.offset,"symbol-placement":a.placement}),C.extendFlat(n,{"icon-color":o.color,"text-color":a.textfont.color,"text-opacity":o.opacity});break;case"raster":C.extendFlat(n,{"raster-fade-duration":0,"raster-opacity":o.opacity})}return{layout:r,paint:n}}m.update=function(o){this.visible?this.needsNewImage(o)?this.updateImage(o):this.needsNewSource(o)?(this.removeLayer(),this.updateSource(o),this.updateLayer(o)):this.needsNewLayer(o)?this.updateLayer(o):this.updateStyle(o):(this.updateSource(o),this.updateLayer(o)),this.visible=l(o)},m.needsNewImage=function(o){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===o.sourcetype&&(this.source!==o.source||JSON.stringify(this.coordinates)!==JSON.stringify(o.coordinates))},m.needsNewSource=function(o){return this.sourceType!==o.sourcetype||JSON.stringify(this.source)!==JSON.stringify(o.source)||this.layerType!==o.type},m.needsNewLayer=function(o){return this.layerType!==o.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},m.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},m.updateImage=function(o){this.subplot.map.getSource(this.idSource).updateImage({url:o.source,coordinates:o.coordinates});var r=this.findFollowingMapboxLayerId(this.lookupBelow());null!==r&&this.subplot.map.moveLayer(this.idLayer,r)},m.updateSource=function(o){var a,s,c,p,f,r=this.subplot.map;if(r.getSource(this.idSource)&&r.removeSource(this.idSource),this.sourceType=o.sourcetype,this.source=o.source,l(o)){var n=(p=(a=o).source,f={type:c=a.sourcetype},"geojson"===c?s="data":"vector"===c?s="string"==typeof p?"url":"tiles":"raster"===c?(s="tiles",f.tileSize=256):"image"===c&&(s="url",f.coordinates=a.coordinates),f[s]=p,a.sourceattribution&&(f.attribution=S(a.sourceattribution)),f);r.addSource(this.idSource,n)}},m.findFollowingMapboxLayerId=function(o){if("traces"===o)for(var r=this.subplot.getMapLayers(),n=0;n<r.length;n++){var a=r[n].id;if("string"==typeof a&&0===a.indexOf(A.traceLayerPrefix)){o=a;break}}return o},m.updateLayer=function(o){var r=this.subplot,n=t(o),a=this.lookupBelow(),s=this.findFollowingMapboxLayerId(a);this.removeLayer(),l(o)&&r.addLayer({id:this.idLayer,source:this.idSource,"source-layer":o.sourcelayer||"",type:o.type,minzoom:o.minzoom,maxzoom:o.maxzoom,layout:n.layout,paint:n.paint},s),this.layerType=o.type,this.below=a},m.updateStyle=function(o){if(l(o)){var r=t(o);this.subplot.setOptions(this.idLayer,"setLayoutProperty",r.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",r.paint)}},m.removeLayer=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer)},m.dispose=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer),o.getSource(this.idSource)&&o.removeSource(this.idSource)},ie.exports=function(o,r,n){var a=new T(o,r);return a.update(n),a}},23585:function(ie,B,e){"use strict";var C=e(71828),S=e(7901).defaultLine,u=e(27670).Y,A=e(41940),T=e(82196).textposition,m=e(30962).overrideAll,l=e(44467).templatedArray,t=e(77734),o=A({});o.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(ie.exports=m({_arrayAttrRegexps:[C.counterRegex("mapbox",".layers",!0)],domain:u({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:l("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:S},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:S}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:o,textposition:C.extendFlat({},T,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(ie,B,e){"use strict";var C=e(71828),S=e(49119),u=e(85501),A=e(23585);function T(l,t,o,r){o("accesstoken",r.accessToken),o("style"),o("center.lon"),o("center.lat"),o("zoom"),o("bearing"),o("pitch");var n=o("bounds.west"),a=o("bounds.east"),s=o("bounds.south"),c=o("bounds.north");void 0!==n&&void 0!==a&&void 0!==s&&void 0!==c||delete t.bounds,u(l,t,{name:"layers",handleItemDefaults:m}),t._input=l}function m(l,t){function o(c,p){return C.coerce(l,t,A.layers,c,p)}if(o("visible")){var r,n=o("sourcetype"),a="raster"===n||"image"===n;o("source"),o("sourceattribution"),"vector"===n&&o("sourcelayer"),"image"===n&&o("coordinates"),a&&(r="raster");var s=o("type",r);a&&"raster"!==s&&(s=t.type="raster",C.log("Source types *raster* and *image* must drawn *raster* layer type.")),o("below"),o("color"),o("opacity"),o("minzoom"),o("maxzoom"),"circle"===s&&o("circle.radius"),"line"===s&&(o("line.width"),o("line.dash")),"fill"===s&&o("fill.outlinecolor"),"symbol"===s&&(o("symbol.icon"),o("symbol.iconsize"),o("symbol.text"),C.coerceFont(o,"symbol.textfont"),o("symbol.textposition"),o("symbol.placement"))}}ie.exports=function(l,t,o){S(l,t,o,{type:"mapbox",attributes:A,handleDefaults:T,partition:"y",accessToken:t._mapboxAccessToken})}},10481:function(ie,B,e){"use strict";var C=e(44517),S=e(71828),u=e(41327),A=e(73972),T=e(89298),m=e(28569),l=e(30211),t=e(64505),o=t.drawMode,r=t.selectMode,n=e(47322).prepSelect,a=e(47322).clearOutline,s=e(47322).clearSelectionsCache,c=e(47322).selectOnClick,p=e(77734),f=e(67911);function w(M,d){this.id=d,this.gd=M;var E=M._fullLayout,k=M._context;this.container=E._glcontainer.node(),this.isStatic=k.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var v=w.prototype;v.plot=function(M,d,E){var k,I=this;I.map&&d[I.id].accesstoken!==I.accessToken&&(I.map.remove(),I.map=null,I.styleObj=null,I.traceHash={},I.layerList=[]),k=new Promise(I.map?function(P,R){I.updateMap(M,d,P,R)}:function(P,R){I.createMap(M,d,P,R)}),E.push(k)},v.createMap=function(M,d,E,k){var I=this,L=d[I.id],P=I.styleObj=_(L.style);I.accessToken=L.accesstoken;var R=L.bounds,z=R?[[R.west,R.south],[R.east,R.north]]:null,$=I.map=new C.Map({container:I.div,style:P.style,center:b(L.center),zoom:L.zoom,bearing:L.bearing,pitch:L.pitch,maxBounds:z,interactive:!I.isStatic,preserveDrawingBuffer:I.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new C.AttributionControl({compact:!0}));$._canvas.style.left="0px",$._canvas.style.top="0px",I.rejectOnError(k),I.isStatic||I.initFx(M,d);var N=[];N.push(new Promise(function(W){$.once("load",W)})),N=N.concat(u.fetchTraceGeoData(M)),Promise.all(N).then(function(){I.fillBelowLookup(M,d),I.updateData(M),I.updateLayout(d),I.resolveOnRender(E)}).catch(k)},v.updateMap=function(M,d,E,k){var I=this,L=I.map,P=d[this.id];I.rejectOnError(k);var R=[],z=_(P.style);JSON.stringify(I.styleObj)!==JSON.stringify(z)&&(I.styleObj=z,L.setStyle(z.style),I.traceHash={},R.push(new Promise(function($){L.once("styledata",$)}))),R=R.concat(u.fetchTraceGeoData(M)),Promise.all(R).then(function(){I.fillBelowLookup(M,d),I.updateData(M),I.updateLayout(d),I.resolveOnRender(E)}).catch(k)},v.fillBelowLookup=function(M,d){var E,k,I=d[this.id].layers,L=this.belowLookup={},P=!1;for(E=0;E<M.length;E++){var R=M[E][0].trace,z=R._module;"string"==typeof R.below?k=R.below:z.getBelow&&(k=z.getBelow(R,this)),""===k&&(P=!0),L["trace-"+R.uid]=k||""}for(E=0;E<I.length;E++){var $=I[E];L["layout-"+E]=k="string"==typeof $.below?$.below:P?"traces":""}var N,W,H={};for(N in L)H[k=L[N]]?H[k].push(N):H[k]=[N];for(k in H){var U=H[k];if(U.length>1)for(E=0;E<U.length;E++)0===(N=U[E]).indexOf("trace-")?(W=N.split("trace-")[1],this.traceHash[W]&&(this.traceHash[W].below=null)):0===N.indexOf("layout-")&&(W=N.split("layout-")[1],this.layerList[W]&&(this.layerList[W].below=null))}};var h={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function _(M){var d={};return S.isPlainObject(M)?(d.id=M.id,d.style=M):"string"==typeof M?(d.id=M,d.style=-1!==p.styleValuesMapbox.indexOf(M)?x(M):p.stylesNonMapbox[M]?p.stylesNonMapbox[M]:M):(d.id=p.styleValueDflt,d.style=x(p.styleValueDflt)),d.transition={duration:0,delay:0},d}function x(M){return p.styleUrlPrefix+M+"-"+p.styleUrlSuffix}function b(M){return[M.lon,M.lat]}v.updateData=function(M){var d,E,k,I,L=this.traceHash,P=M.slice().sort(function(W,H){return h[W[0].trace.type]-h[H[0].trace.type]});for(k=0;k<P.length;k++){var R=P[k],z=!1;(d=L[(E=R[0].trace).uid])&&(d.type===E.type?(d.update(R),z=!0):d.dispose()),!z&&E._module&&(L[E.uid]=E._module.plot(this,R))}var $=Object.keys(L);e:for(k=0;k<$.length;k++){var N=$[k];for(I=0;I<M.length;I++)if(N===(E=M[I][0].trace).uid)continue e;(d=L[N]).dispose(),delete L[N]}},v.updateLayout=function(M){var d=this.map,E=M[this.id];this.dragging||this.wheeling||(d.setCenter(b(E.center)),d.setZoom(E.zoom),d.setBearing(E.bearing),d.setPitch(E.pitch)),this.updateLayers(M),this.updateFramework(M),this.updateFx(M),this.map.resize(),this.gd._context._scrollZoom.mapbox?d.scrollZoom.enable():d.scrollZoom.disable()},v.resolveOnRender=function(M){var d=this.map;d.on("render",function E(){d.loaded()&&(d.off("render",E),setTimeout(M,10))})},v.rejectOnError=function(M){var d=this.map;function E(){M(new Error(p.mapOnErrorMsg))}d.once("error",E),d.once("style.error",E),d.once("source.error",E),d.once("tile.error",E),d.once("layer.error",E)},v.createFramework=function(M){var d=this,E=d.div=document.createElement("div");E.id=d.uid,E.style.position="absolute",d.container.appendChild(E),d.xaxis={_id:"x",c2p:function(k){return d.project(k).x}},d.yaxis={_id:"y",c2p:function(k){return d.project(k).y}},d.updateFramework(M),d.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},T.setConvert(d.mockAxis,M)},v.initFx=function(M,d){var E=this,k=E.gd,I=E.map;function L(){l.loneUnhover(d._hoverlayer)}function P(){var R=E.getView();k.emit("plotly_relayouting",E.getViewEditsWithDerived(R))}I.on("moveend",function(R){if(E.map){var z=k._fullLayout;if(R.originalEvent||E.wheeling){var $=z[E.id];A.call("_storeDirectGUIEdit",k.layout,z._preGUI,E.getViewEdits($));var N=E.getView();$._input.center=$.center=N.center,$._input.zoom=$.zoom=N.zoom,$._input.bearing=$.bearing=N.bearing,$._input.pitch=$.pitch=N.pitch,k.emit("plotly_relayout",E.getViewEditsWithDerived(N))}R.originalEvent&&"mouseup"===R.originalEvent.type?E.dragging=!1:E.wheeling&&(E.wheeling=!1),z._rehover&&z._rehover()}}),I.on("wheel",function(){E.wheeling=!0}),I.on("mousemove",function(R){var z=E.div.getBoundingClientRect(),$=[R.originalEvent.offsetX,R.originalEvent.offsetY];R.target.getBoundingClientRect=function(){return z},E.xaxis.p2c=function(){return I.unproject($).lng},E.yaxis.p2c=function(){return I.unproject($).lat},k._fullLayout._rehover=function(){k._fullLayout._hoversubplot===E.id&&k._fullLayout[E.id]&&l.hover(k,R,E.id)},l.hover(k,R,E.id),k._fullLayout._hoversubplot=E.id}),I.on("dragstart",function(){E.dragging=!0,L()}),I.on("zoomstart",L),I.on("mouseout",function(){k._fullLayout._hoversubplot=null}),I.on("drag",P),I.on("zoom",P),I.on("dblclick",function(){var R=k._fullLayout[E.id];A.call("_storeDirectGUIEdit",k.layout,k._fullLayout._preGUI,E.getViewEdits(R));var z=E.viewInitial;I.setCenter(b(z.center)),I.setZoom(z.zoom),I.setBearing(z.bearing),I.setPitch(z.pitch);var $=E.getView();R._input.center=R.center=$.center,R._input.zoom=R.zoom=$.zoom,R._input.bearing=R.bearing=$.bearing,R._input.pitch=R.pitch=$.pitch,k.emit("plotly_doubleclick",null),k.emit("plotly_relayout",E.getViewEditsWithDerived($))}),E.clearOutline=function(){s(E.dragOptions),a(E.dragOptions.gd)},E.onClickInPanFn=function(R){return function(z){var $=k._fullLayout.clickmode;$.indexOf("select")>-1&&c(z.originalEvent,k,[E.xaxis],[E.yaxis],E.id,R),$.indexOf("event")>-1&&l.click(k,z.originalEvent)}}},v.updateFx=function(M){var d=this,E=d.map;if(!d.isStatic){var L=M.dragmode;d.dragOptions=S.extendDeep(d.dragOptions||{},{dragmode:M.dragmode,element:d.div,gd:d.gd,plotinfo:{id:d.id,domain:M[d.id].domain,xaxis:d.xaxis,yaxis:d.yaxis,fillRangeItems:function(z,$){$.isRect?(z.range={})[d.id]=[R([$.xmin,$.ymin]),R([$.xmax,$.ymax])]:(z.lassoPoints={})[d.id]=$.map(R)}},xaxes:[d.xaxis],yaxes:[d.yaxis],subplot:d.id}),E.off("click",d.onClickInPanHandler),r(L)||o(L)?(E.dragPan.disable(),E.on("zoomstart",d.clearOutline),d.dragOptions.prepFn=function(z,$,N){n(z,$,N,d.dragOptions,L)},m.init(d.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",d.clearOutline),d.div.onmousedown=null,d.div.ontouchstart=null,d.div.removeEventListener("touchstart",d.div._ontouchstart),d.onClickInPanHandler=d.onClickInPanFn(d.dragOptions),E.on("click",d.onClickInPanHandler))}function R(z){var $=d.map.unproject(z);return[$.lng,$.lat]}},v.updateFramework=function(M){var d=M[this.id].domain,E=M._size,k=this.div.style;k.width=E.w*(d.x[1]-d.x[0])+"px",k.height=E.h*(d.y[1]-d.y[0])+"px",k.left=E.l+d.x[0]*E.w+"px",k.top=E.t+(1-d.y[1])*E.h+"px",this.xaxis._offset=E.l+d.x[0]*E.w,this.xaxis._length=E.w*(d.x[1]-d.x[0]),this.yaxis._offset=E.t+(1-d.y[1])*E.h,this.yaxis._length=E.h*(d.y[1]-d.y[0])},v.updateLayers=function(M){var d,E=M[this.id].layers,k=this.layerList;if(E.length!==k.length){for(d=0;d<k.length;d++)k[d].dispose();for(k=this.layerList=[],d=0;d<E.length;d++)k.push(f(this,d,E[d]))}else for(d=0;d<E.length;d++)k[d].update(E[d])},v.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},v.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},v.setOptions=function(M,d,E){for(var k in E)this.map[d](M,k,E[k])},v.getMapLayers=function(){return this.map.getStyle().layers},v.addLayer=function(M,d){var E=this.map;if("string"==typeof d){if(""===d)return void E.addLayer(M,d);for(var k=this.getMapLayers(),I=0;I<k.length;I++)if(d===k[I].id)return void E.addLayer(M,d);S.warn(["Trying to add layer with *below* value",d,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(M)},v.project=function(M){return this.map.project(new C.LngLat(M[0],M[1]))},v.getView=function(){var M=this.map,d=M.getCenter(),E={lon:d.lng,lat:d.lat},k=M.getCanvas(),I=parseInt(k.style.width),L=parseInt(k.style.height);return{center:E,zoom:M.getZoom(),bearing:M.getBearing(),pitch:M.getPitch(),_derived:{coordinates:[M.unproject([0,0]).toArray(),M.unproject([I,0]).toArray(),M.unproject([I,L]).toArray(),M.unproject([0,L]).toArray()]}}},v.getViewEdits=function(M){for(var d=this.id,E=["center","zoom","bearing","pitch"],k={},I=0;I<E.length;I++){var L=E[I];k[d+"."+L]=M[L]}return k},v.getViewEditsWithDerived=function(M){var d=this.id,E=this.getViewEdits(M);return E[d+"._derived"]=M._derived,E},ie.exports=w},35025:function(ie){"use strict";ie.exports=function(B){var e=B.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(ie,B,e){"use strict";var C=e(39898),S=e(84096).Dq,u=e(60721).FF,A=e(92770),T=e(73972),m=e(86281),l=e(44467),t=e(71828),o=e(7901),r=e(50606).BADNUM,n=e(41675),a=e(51873).clearOutline,s=e(21479),c=e(85594),p=e(31391),f=e(27659).a0,w=t.relinkPrivateKeys,v=t._,h=ie.exports={};t.extendFlat(h,T),h.attributes=e(9012),h.attributes.type.values=h.allTypes,h.fontAttrs=e(41940),h.layoutAttributes=e(10820),h.fontWeight="normal";var _=h.transformsRegistry,x=e(31137);h.executeAPICommand=x.executeAPICommand,h.computeAPICommandBindings=x.computeAPICommandBindings,h.manageCommandObserver=x.manageCommandObserver,h.hasSimpleAPICommandBindings=x.hasSimpleAPICommandBindings,h.redrawText=function(H){return H=t.getGraphDiv(H),new Promise(function(U){setTimeout(function(){H._fullLayout&&(T.getComponentMethod("annotations","draw")(H),T.getComponentMethod("legend","draw")(H),T.getComponentMethod("colorbar","draw")(H),U(h.previousPromises(H)))},300)})},h.resize=function(H){var U;H=t.getGraphDiv(H);var Z=new Promise(function(Y,ae){H&&!t.isHidden(H)||ae(new Error("Resize must be passed a displayed plot div element.")),H._redrawTimer&&clearTimeout(H._redrawTimer),H._resolveResize&&(U=H._resolveResize),H._resolveResize=Y,H._redrawTimer=setTimeout(function(){if(!H.layout||H.layout.width&&H.layout.height||t.isHidden(H))Y(H);else{delete H.layout.width,delete H.layout.height;var re=H.changed;H.autoplay=!0,T.call("relayout",H,{autosize:!0}).then(function(){H.changed=re,H._resolveResize===Y&&(delete H._resolveResize,Y(H))})}},100)});return U&&U(Z),Z},h.previousPromises=function(H){if((H._promises||[]).length)return Promise.all(H._promises).then(function(){H._promises=[]})},h.addLinks=function(H){if(H._context.showLink||H._context.showSources){var U=H._fullLayout,Z=t.ensureSingle(U._paper,"text","js-plot-link-container",function(te){te.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:o.defaultLine,"pointer-events":"all"}).each(function(){var oe=C.select(this);oe.append("tspan").classed("js-link-to-tool",!0),oe.append("tspan").classed("js-link-spacer",!0),oe.append("tspan").classed("js-sourcelinks",!0)})}),Y=Z.node(),ae={y:U._paper.attr("height")-9};document.body.contains(Y)&&Y.getComputedTextLength()>=U.width-20?(ae["text-anchor"]="start",ae.x=5):(ae["text-anchor"]="end",ae.x=U._paper.attr("width")-7),Z.attr(ae);var re=Z.select(".js-link-to-tool"),Q=Z.select(".js-link-spacer"),K=Z.select(".js-sourcelinks");H._context.showSources&&H._context.showSources(H),H._context.showLink&&function(te,oe){oe.text("");var ue=oe.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(te._context.linkText+" "+String.fromCharCode(187));if(te._context.sendData)ue.on("click",function(){h.sendDataToCloud(te)});else{var fe=window.location.pathname.split("/"),he=window.location.search;ue.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+fe[2].split(".")[0]+"/"+fe[1]+he})}}(H,re),Q.text(re.text()&&K.text()?" - ":"")}},h.sendDataToCloud=function(H){var U=(window.PLOTLYENV||{}).BASE_URL||H._context.plotlyServerURL;if(U){H.emit("plotly_beforeexport");var Z=C.select(H).append("div").attr("id","hiddenform").style("display","none"),Y=Z.append("form").attr({action:U+"/external",method:"post",target:"_blank"});return Y.append("input").attr({type:"text",name:"data"}).node().value=h.graphJson(H,!1,"keepdata"),Y.node().submit(),Z.remove(),H.emit("plotly_afterexport"),!1}};var b=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],M=["year","month","dayMonth","dayMonthYear"];function d(H,U){var Z=H._context.locale;Z||(Z="en-US");var Y=!1,ae={};function re(fe){for(var he=!0,me=0;me<U.length;me++){var ke=U[me];ae[ke]||(fe[ke]?ae[ke]=fe[ke]:he=!1)}he&&(Y=!0)}for(var Q=0;Q<2;Q++){for(var K=H._context.locales,te=0;te<2;te++){var oe=(K[Z]||{}).format;if(oe&&(re(oe),Y))break;K=T.localeRegistry}var ue=Z.split("-")[0];if(Y||ue===Z)break;Z=ue}return Y||re(T.localeRegistry.en.format),ae}function E(H,U){var Z={_fullLayout:U},Y="x"===H._id.charAt(0),ae=H._mainAxis._anchorAxis,re="",Q="",K="";if(ae&&(K=ae._mainAxis._id,re=Y?H._id+K:K+H._id),!re||!U._plots[re]){re="";for(var te=H._counterAxes,oe=0;oe<te.length;oe++){var ue=te[oe],fe=Y?H._id+ue:ue+H._id;Q||(Q=fe);var he=n.getFromId(Z,ue);if(K&&he.overlaying===K){re=fe;break}}}return re||Q}function k(H){var U=H.transforms;if(Array.isArray(U)&&U.length)for(var Z=0;Z<U.length;Z++){var Y=U[Z],ae=Y._module||_[Y.type];if(ae&&ae.makesData)return!0}return!1}function I(H,U,Z,Y){for(var ae=H.transforms,re=[H],Q=0;Q<ae.length;Q++){var K=ae[Q],te=_[K.type];te&&te.transform&&(re=te.transform(re,{transform:K,fullTrace:H,fullData:U,layout:Z,fullLayout:Y,transformIndex:Q}))}return re}function L(H){return"string"==typeof H&&"px"===H.substr(H.length-2)&&parseFloat(H)}function P(H){var U=H.margin;if(!H._size){var Z=H._size={l:Math.round(U.l),r:Math.round(U.r),t:Math.round(U.t),b:Math.round(U.b),p:Math.round(U.pad)};Z.w=Math.round(H.width)-Z.l-Z.r,Z.h=Math.round(H.height)-Z.t-Z.b}H._pushmargin||(H._pushmargin={}),H._pushmarginIds||(H._pushmarginIds={}),H._reservedMargin||(H._reservedMargin={})}h.supplyDefaults=function(H,U){var Ge,He,Z=U&&U.skipUpdateCalc,Y=H._fullLayout||{};if(Y._skipDefaults)delete Y._skipDefaults;else{var ae,re=H._fullLayout={},Q=H.layout||{},K=H._fullData||[],te=H._fullData=[],oe=H.data||[],ue=H.calcdata||[],fe=H._context||{};H._transitionData||h.createTransitionData(H),re._dfltTitle={plot:v(H,"Click to enter Plot title"),x:v(H,"Click to enter X axis title"),y:v(H,"Click to enter Y axis title"),colorbar:v(H,"Click to enter Colorscale title"),annotation:v(H,"new text")},re._traceWord=v(H,"trace");var he=d(H,b);if(re._mapboxAccessToken=fe.mapboxAccessToken,Y._initialAutoSizeIsDone){var me=Y.width,ke=Y.height;h.supplyLayoutGlobalDefaults(Q,re,he),Q.width||(re.width=me),Q.height||(re.height=ke),h.sanitizeMargins(re)}else{h.supplyLayoutGlobalDefaults(Q,re,he);var Pe=!Q.width||!Q.height,Te=re.autosize;Pe&&(Te||fe.autosizable)?h.plotAutoSize(H,Q,re):Pe&&h.sanitizeMargins(re),!Te&&Pe&&(Q.width=re.width,Q.height=re.height)}re._d3locale=((Ge=he).decimal=(He=re.separators).charAt(0),Ge.thousands=He.charAt(1),{numberFormat:function(Ke){try{Ke=u(Ge).format(t.adjustFormat(Ke))}catch{return t.warnBadFormat(Ke),t.noFormat}return Ke},timeFormat:S(Ge).utcFormat}),re._extraFormat=d(H,M),re._initialAutoSizeIsDone=!0,re._dataLength=oe.length,re._modules=[],re._visibleModules=[],re._basePlotModules=[];var xe=re._subplots=function(){var Ge,He,Ke=T.collectableSubplotTypes,et={};if(!Ke){Ke=[];var st=T.subplotsRegistry;for(var mt in st){var at=st[mt].attr;if(at&&(Ke.push(mt),Array.isArray(at)))for(He=0;He<at.length;He++)t.pushUnique(Ke,at[He])}}for(Ge=0;Ge<Ke.length;Ge++)et[Ke[Ge]]=[];return et}(),Ne=re._splomAxes={x:{},y:{}},Se=re._splomSubplots={};re._splomGridDflt={},re._scatterStackOpts={},re._firstScatter={},re._alignmentOpts={},re._colorAxes={},re._requestRangeslider={},re._traceUids=function(Ge,He){var Ke,et,st=He.length,mt=[];for(Ke=0;Ke<Ge.length;Ke++){var at=Ge[Ke]._fullInput;at!==et&&mt.push(at),et=at}var kt=mt.length,St=new Array(st),gt={};function dt(Pt,Ht){St[Ht]=Pt,gt[Pt]=1}function Ct(Pt,Ht){if(Pt&&"string"==typeof Pt&&!gt[Pt])return dt(Pt,Ht),!0}for(Ke=0;Ke<st;Ke++){var Ot=He[Ke].uid;"number"==typeof Ot&&(Ot=String(Ot)),Ct(Ot,Ke)||Ke<kt&&Ct(mt[Ke].uid,Ke)||dt(t.randstr(gt),Ke)}return St}(K,oe),re._globalTransforms=(H._context||{}).globalTransforms,h.supplyDataDefaults(oe,te,Q,re);var Ce=Object.keys(Ne.x),pe=Object.keys(Ne.y);if(Ce.length>1&&pe.length>1){for(T.getComponentMethod("grid","sizeDefaults")(Q,re),ae=0;ae<Ce.length;ae++)t.pushUnique(xe.xaxis,Ce[ae]);for(ae=0;ae<pe.length;ae++)t.pushUnique(xe.yaxis,pe[ae]);for(var de in Se)t.pushUnique(xe.cartesian,de)}if(re._has=h._hasPlotType.bind(re),K.length===te.length)for(ae=0;ae<te.length;ae++)w(te[ae],K[ae]);h.supplyLayoutModuleDefaults(Q,re,te,H._transitionData);var se=re._visibleModules,we=[];for(ae=0;ae<se.length;ae++){var Re=se[ae].crossTraceDefaults;Re&&t.pushUnique(we,Re)}for(ae=0;ae<we.length;ae++)we[ae](te,re);re._hasOnlyLargeSploms=1===re._basePlotModules.length&&"splom"===re._basePlotModules[0].name&&Ce.length>15&&pe.length>15&&0===re.shapes.length&&0===re.images.length,h.linkSubplots(te,re,K,Y),h.cleanPlot(te,re,K,Y);var Ee=!(!Y._has||!Y._has("gl2d")),Ue=!(!re._has||!re._has("gl2d")),$e=!(!Y._has||!Y._has("cartesian"))||Ee,ve=!(!re._has||!re._has("cartesian"))||Ue;$e&&!ve?Y._bgLayer.remove():ve&&!$e&&(re._shouldCreateBgLayer=!0),Y._zoomlayer&&!H._dragging&&a({_fullLayout:Y}),function(Ge,He){var Ke,et=[];He.meta&&(Ke=He._meta={meta:He.meta,layout:{meta:He.meta}});for(var st=0;st<Ge.length;st++){var mt=Ge[st];mt.meta?et[mt.index]=mt._meta={meta:mt.meta}:He.meta&&(mt._meta={meta:He.meta}),He.meta&&(mt._meta.layout={meta:He.meta})}et.length&&(Ke||(Ke=He._meta={}),Ke.data=et)}(te,re),w(re,Y),T.getComponentMethod("colorscale","crossTraceDefaults")(te,re),re._preGUI||(re._preGUI={}),re._tracePreGUI||(re._tracePreGUI={});var Ie,De=re._tracePreGUI,ze={};for(Ie in De)ze[Ie]="old";for(ae=0;ae<te.length;ae++)ze[Ie=te[ae]._fullInput.uid]||(De[Ie]={}),ze[Ie]="new";for(Ie in ze)"old"===ze[Ie]&&delete De[Ie];P(re),T.getComponentMethod("rangeslider","makeData")(re),Z||ue.length!==te.length||h.supplyDefaultsUpdateCalc(ue,te)}},h.supplyDefaultsUpdateCalc=function(H,U){for(var Z=0;Z<U.length;Z++){var Y=U[Z],ae=(H[Z]||[])[0];if(ae&&ae.trace){var re=ae.trace;if(re._hasCalcTransform){var Q,K,te,oe=re._arrayAttrs;for(Q=0;Q<oe.length;Q++)te=t.nestedProperty(re,K=oe[Q]).get().slice(),t.nestedProperty(Y,K).set(te)}ae.trace=Y}}},h.createTransitionData=function(H){H._transitionData||(H._transitionData={}),H._transitionData._frames||(H._transitionData._frames=[]),H._transitionData._frameHash||(H._transitionData._frameHash={}),H._transitionData._counter||(H._transitionData._counter=0),H._transitionData._interruptCallbacks||(H._transitionData._interruptCallbacks=[])},h._hasPlotType=function(H){var U,Z=this._basePlotModules||[];for(U=0;U<Z.length;U++)if(Z[U].name===H)return!0;var Y=this._modules||[];for(U=0;U<Y.length;U++){var ae=Y[U].name;if(ae===H)return!0;var re=T.modules[ae];if(re&&re.categories[H])return!0}return!1},h.cleanPlot=function(H,U,Z,Y){var ae,re,Q=Y._basePlotModules||[];for(ae=0;ae<Q.length;ae++){var K=Q[ae];K.clean&&K.clean(H,U,Z,Y)}var te=Y._has&&Y._has("gl"),oe=U._has&&U._has("gl");te&&!oe&&void 0!==Y._glcontainer&&(Y._glcontainer.selectAll(".gl-canvas").remove(),Y._glcontainer.selectAll(".no-webgl").remove(),Y._glcanvas=null);var ue=!!Y._infolayer;e:for(ae=0;ae<Z.length;ae++){var fe=Z[ae].uid;for(re=0;re<H.length;re++)if(fe===H[re].uid)continue e;ue&&Y._infolayer.select(".cb"+fe).remove()}},h.linkSubplots=function(H,U,Z,Y){var ae,re,Q=Y._plots||{},K=U._plots={},te=U._subplots,oe={_fullData:H,_fullLayout:U},ue=te.cartesian.concat(te.gl2d||[]);for(ae=0;ae<ue.length;ae++){var fe,he=ue[ae],me=Q[he],ke=n.getFromId(oe,he,"x"),Pe=n.getFromId(oe,he,"y");for(me?fe=K[he]=me:(fe=K[he]={}).id=he,ke._counterAxes.push(Pe._id),Pe._counterAxes.push(ke._id),ke._subplotsWith.push(he),Pe._subplotsWith.push(he),fe.xaxis=ke,fe.yaxis=Pe,fe._hasClipOnAxisFalse=!1,re=0;re<H.length;re++){var Te=H[re];if(Te.xaxis===fe.xaxis._id&&Te.yaxis===fe.yaxis._id&&!1===Te.cliponaxis){fe._hasClipOnAxisFalse=!0;break}}}var be,xe=n.list(oe,null,!0);for(ae=0;ae<xe.length;ae++){var Ne=null;(be=xe[ae]).overlaying&&(Ne=n.getFromId(oe,be.overlaying))&&Ne.overlaying&&(be.overlaying=!1,Ne=null),be._mainAxis=Ne||be,Ne&&(be.domain=Ne.domain.slice()),be._anchorAxis="free"===be.anchor?null:n.getFromId(oe,be.anchor)}for(ae=0;ae<xe.length;ae++)if((be=xe[ae])._counterAxes.sort(n.idSort),be._subplotsWith.sort(t.subplotSort),be._mainSubplot=E(be,U),be._counterAxes.length&&(be.spikemode&&-1!==be.spikemode.indexOf("across")||be.automargin&&be.mirror&&"free"!==be.anchor||T.getComponentMethod("rangeslider","isVisible")(be))){var Se=1,Ce=0;for(re=0;re<be._counterAxes.length;re++){var pe=n.getFromId(oe,be._counterAxes[re]);Se=Math.min(Se,pe.domain[0]),Ce=Math.max(Ce,pe.domain[1])}Se<Ce&&(be._counterDomainMin=Se,be._counterDomainMax=Ce)}},h.clearExpandedTraceDefaultColors=function(H){var U,Z,Y;for(Z=[],(U=H._module._colorAttrs)||(H._module._colorAttrs=U=[],m.crawl(H._module.attributes,function(ae,re,Q,K){Z[K]=re,Z.length=K+1,"color"===ae.valType&&void 0===ae.dflt&&U.push(Z.join("."))})),Y=0;Y<U.length;Y++)t.nestedProperty(H,"_input."+U[Y]).get()||t.nestedProperty(H,U[Y]).set(null)},h.supplyDataDefaults=function(H,U,Z,Y){var ae,re,Q,K=Y._modules,te=Y._visibleModules,oe=Y._basePlotModules,ue=0,fe=0;function he(de){U.push(de);var se=de._module;se&&(t.pushUnique(K,se),!0===de.visible&&t.pushUnique(te,se),t.pushUnique(oe,de._module.basePlotModule),ue++,!1!==de._input.visible&&fe++)}Y._transformModules=[];var me={},ke=[],Te=l.traceTemplater((Z.template||{}).data||{});for(ae=0;ae<H.length;ae++){if((re=Te.newTrace(Q=H[ae])).uid=Y._traceUids[ae],h.supplyTraceDefaults(Q,re,fe,Y,ae),re.index=ae,re._input=Q,re._expandedIndex=ue,re.transforms&&re.transforms.length)for(var be=!1!==Q.visible&&!1===re.visible,xe=I(re,U,Z,Y),Ne=0;Ne<xe.length;Ne++){var Se=xe[Ne],Ce={_template:re._template,type:re.type,uid:re.uid+Ne};be&&!1===Se.visible&&delete Se.visible,h.supplyTraceDefaults(Se,Ce,ue,Y,ae),w(Ce,Se),Ce.index=ae,Ce._input=Q,Ce._fullInput=re,Ce._expandedIndex=ue,Ce._expandedInput=Se,he(Ce)}else re._fullInput=re,re._expandedInput=re,he(re);T.traceIs(re,"carpetAxis")&&(me[re.carpet]=re),T.traceIs(re,"carpetDependent")&&ke.push(ae)}for(ae=0;ae<ke.length;ae++)if((re=U[ke[ae]]).visible){var pe=me[re.carpet];re._carpet=pe,pe&&pe.visible?(re.xaxis=pe.xaxis,re.yaxis=pe.yaxis):re.visible=!1}},h.supplyAnimationDefaults=function(H){var U;H=H||{};var Z={};function Y(ae,re){return t.coerce(H||{},Z,c,ae,re)}if(Y("mode"),Y("direction"),Y("fromcurrent"),Array.isArray(H.frame))for(Z.frame=[],U=0;U<H.frame.length;U++)Z.frame[U]=h.supplyAnimationFrameDefaults(H.frame[U]||{});else Z.frame=h.supplyAnimationFrameDefaults(H.frame||{});if(Array.isArray(H.transition))for(Z.transition=[],U=0;U<H.transition.length;U++)Z.transition[U]=h.supplyAnimationTransitionDefaults(H.transition[U]||{});else Z.transition=h.supplyAnimationTransitionDefaults(H.transition||{});return Z},h.supplyAnimationFrameDefaults=function(H){var U={};function Z(Y,ae){return t.coerce(H||{},U,c.frame,Y,ae)}return Z("duration"),Z("redraw"),U},h.supplyAnimationTransitionDefaults=function(H){var U={};function Z(Y,ae){return t.coerce(H||{},U,c.transition,Y,ae)}return Z("duration"),Z("easing"),U},h.supplyFrameDefaults=function(H){var U={};function Z(Y,ae){return t.coerce(H,U,p,Y,ae)}return Z("group"),Z("name"),Z("traces"),Z("baseframe"),Z("data"),Z("layout"),U},h.supplyTraceDefaults=function(H,U,Z,Y,ae){var re,Q=Y.colorway||o.defaults,K=Q[Z%Q.length];function te(xe,Ne){return t.coerce(H,U,h.attributes,xe,Ne)}var oe=te("visible");te("type"),te("name",Y._traceWord+" "+ae),te("uirevision",Y.uirevision);var ue=h.getModule(U);if(U._module=ue,ue){var fe=ue.basePlotModule,he=fe.attr,me=fe.attributes;if(he&&me){var ke=Y._subplots,Pe="";if(oe||"gl2d"!==fe.name){if(Array.isArray(he))for(re=0;re<he.length;re++){var Te=he[re],be=t.coerce(H,U,me,Te);ke[Te]&&t.pushUnique(ke[Te],be),Pe+=be}else Pe=t.coerce(H,U,me,he);ke[fe.name]&&t.pushUnique(ke[fe.name],Pe)}}}return oe&&(te("customdata"),te("ids"),te("meta"),T.traceIs(U,"showLegend")?(t.coerce(H,U,ue.attributes.showlegend?ue.attributes:h.attributes,"showlegend"),te("legend"),te("legendwidth"),te("legendgroup"),te("legendgrouptitle.text"),te("legendrank"),U._dfltShowLegend=!0):U._dfltShowLegend=!1,ue&&ue.supplyDefaults(H,U,K,Y),T.traceIs(U,"noOpacity")||te("opacity"),T.traceIs(U,"notLegendIsolatable")&&(U.visible=!!U.visible),T.traceIs(U,"noHover")||(U.hovertemplate||t.coerceHoverinfo(H,U,Y),"parcats"!==U.type&&T.getComponentMethod("fx","supplyDefaults")(H,U,K,Y)),ue&&ue.selectPoints&&te("selectedpoints"),h.supplyTransformDefaults(H,U,Y)),U},h.hasMakesDataTransform=k,h.supplyTransformDefaults=function(H,U,Z){if(U._length||k(H)){var Y=Z._globalTransforms||[],ae=Z._transformModules||[];if(Array.isArray(H.transforms)||0!==Y.length)for(var Q=Y.concat(H.transforms||[]),K=U.transforms=[],te=0;te<Q.length;te++){var oe,ue=Q[te],fe=ue.type,he=_[fe],me=!(ue._module&&ue._module===he),ke=he&&"function"==typeof he.transform;he||t.warn("Unrecognized transform type "+fe+"."),he&&he.supplyDefaults&&(me||ke)?((oe=he.supplyDefaults(ue,U,Z,H)).type=fe,oe._module=he,t.pushUnique(ae,he)):oe=t.extendFlat({},ue),K.push(oe)}}},h.supplyLayoutGlobalDefaults=function(H,U,Z){function Y(ue,fe){return t.coerce(H,U,h.layoutAttributes,ue,fe)}var ae=H.template;t.isPlainObject(ae)&&(U.template=ae,U._template=ae.layout,U._dataTemplate=ae.data),Y("autotypenumbers");var re=t.coerceFont(Y,"font");t.coerceFont(Y,"title.font",t.extendFlat({},re,{size:Math.round(1.4*re.size)})),Y("title.text",U._dfltTitle.plot),Y("title.xref");var K=Y("title.yref");Y("title.pad.t"),Y("title.pad.r"),Y("title.pad.b"),Y("title.pad.l");var te=Y("title.automargin");Y("title.x"),Y("title.xanchor"),Y("title.y"),Y("title.yanchor"),te&&("paper"===K&&(0!==U.title.y&&(U.title.y=1),"auto"===U.title.yanchor&&(U.title.yanchor=0===U.title.y?"top":"bottom")),"container"===K&&("auto"===U.title.y&&(U.title.y=1),"auto"===U.title.yanchor&&(U.title.yanchor=U.title.y<.5?"bottom":"top"))),Y("uniformtext.mode")&&Y("uniformtext.minsize"),Y("autosize",!(H.width&&H.height)),Y("width"),Y("height"),Y("minreducedwidth"),Y("minreducedheight"),Y("margin.l"),Y("margin.r"),Y("margin.t"),Y("margin.b"),Y("margin.pad"),Y("margin.autoexpand"),H.width&&H.height&&h.sanitizeMargins(U),T.getComponentMethod("grid","sizeDefaults")(H,U),Y("paper_bgcolor"),Y("separators",Z.decimal+Z.thousands),Y("hidesources"),Y("colorway"),Y("datarevision");var oe=Y("uirevision");Y("editrevision",oe),Y("selectionrevision",oe),T.getComponentMethod("modebar","supplyLayoutDefaults")(H,U),T.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(H,U,Y),T.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(H,U,Y),Y("meta"),t.isPlainObject(H.transition)&&(Y("transition.duration"),Y("transition.easing"),Y("transition.ordering")),T.getComponentMethod("calendars","handleDefaults")(H,U,"calendar"),T.getComponentMethod("fx","supplyLayoutGlobalDefaults")(H,U,Y),t.coerce(H,U,s,"scattermode")},h.plotAutoSize=function(H,U,Z){var Y,ae,re=H._context||{},Q=re.frameMargins,K=t.isPlotDiv(H);if(K&&H.emit("plotly_autosize"),re.fillFrame)Y=window.innerWidth,ae=window.innerHeight,document.body.style.overflow="hidden";else{var te=K?window.getComputedStyle(H):{};if(Y=L(te.width)||L(te.maxWidth)||Z.width,ae=L(te.height)||L(te.maxHeight)||Z.height,A(Q)&&Q>0){var oe=1-2*Q;Y=Math.round(oe*Y),ae=Math.round(oe*ae)}}var ue=h.layoutAttributes.width.min,fe=h.layoutAttributes.height.min;Y<ue&&(Y=ue),ae<fe&&(ae=fe);var he=!U.width&&Math.abs(Z.width-Y)>1,me=!U.height&&Math.abs(Z.height-ae)>1;(me||he)&&(he&&(Z.width=Y),me&&(Z.height=ae)),H._initialAutoSize||(H._initialAutoSize={width:Y,height:ae}),h.sanitizeMargins(Z)},h.supplyLayoutModuleDefaults=function(H,U,Z,Y){var ae,re,Q,K=T.componentsRegistry,te=U._basePlotModules,oe=T.subplotsRegistry.cartesian;for(ae in K)(Q=K[ae]).includeBasePlot&&Q.includeBasePlot(H,U);for(var ue in te.length||te.push(oe),U._has("cartesian")&&(T.getComponentMethod("grid","contentDefaults")(H,U),oe.finalizeSubplots(H,U)),U._subplots)U._subplots[ue].sort(t.subplotSort);for(re=0;re<te.length;re++)(Q=te[re]).supplyLayoutDefaults&&Q.supplyLayoutDefaults(H,U,Z);var fe=U._modules;for(re=0;re<fe.length;re++)(Q=fe[re]).supplyLayoutDefaults&&Q.supplyLayoutDefaults(H,U,Z);var he=U._transformModules;for(re=0;re<he.length;re++)(Q=he[re]).supplyLayoutDefaults&&Q.supplyLayoutDefaults(H,U,Z,Y);for(ae in K)(Q=K[ae]).supplyLayoutDefaults&&Q.supplyLayoutDefaults(H,U,Z)},h.purge=function(H){var U=H._fullLayout||{};void 0!==U._glcontainer&&(U._glcontainer.selectAll(".gl-canvas").remove(),U._glcontainer.remove(),U._glcanvas=null),U._modeBar&&U._modeBar.destroy(),H._transitionData&&(H._transitionData._interruptCallbacks&&(H._transitionData._interruptCallbacks.length=0),H._transitionData._animationRaf&&window.cancelAnimationFrame(H._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(H),delete H.data,delete H.layout,delete H._fullData,delete H._fullLayout,delete H.calcdata,delete H.empty,delete H.fid,delete H.undoqueue,delete H.undonum,delete H.autoplay,delete H.changed,delete H._promises,delete H._redrawTimer,delete H._hmlumcount,delete H._hmpixcount,delete H._transitionData,delete H._transitioning,delete H._initialAutoSize,delete H._transitioningWithDuration,delete H._dragging,delete H._dragged,delete H._dragdata,delete H._hoverdata,delete H._snapshotInProgress,delete H._editing,delete H._mouseDownTime,delete H._legendMouseDownTime,H.removeAllListeners&&H.removeAllListeners()},h.style=function(H){var U,Z=H._fullLayout._visibleModules,Y=[];for(U=0;U<Z.length;U++){var ae=Z[U];ae.style&&t.pushUnique(Y,ae.style)}for(U=0;U<Y.length;U++)Y[U](H)},h.sanitizeMargins=function(H){if(H&&H.margin){var U,Z=H.width,Y=H.height,ae=H.margin,Q=Y-(ae.t+ae.b);Z-(ae.l+ae.r)<0&&(U=(Z-1)/(ae.l+ae.r),ae.l=Math.floor(U*ae.l),ae.r=Math.floor(U*ae.r)),Q<0&&(U=(Y-1)/(ae.t+ae.b),ae.t=Math.floor(U*ae.t),ae.b=Math.floor(U*ae.b))}},h.clearAutoMarginIds=function(H){H._fullLayout._pushmarginIds={}},h.allowAutoMargin=function(H,U){H._fullLayout._pushmarginIds[U]=1},h.autoMargin=function(H,U,Z){var Y=H._fullLayout,ae=Y.width,re=Y.height,Q=Y.margin,te=Y.minreducedheight,oe=t.constrain(ae-Q.l-Q.r,2,Y.minreducedwidth),ue=t.constrain(re-Q.t-Q.b,2,te),fe=Math.max(0,ae-oe),he=Math.max(0,re-ue),me=Y._pushmargin,ke=Y._pushmarginIds;if(!1!==Q.autoexpand){if(Z){var Pe=Z.pad;if(void 0===Pe&&(Pe=Math.min(12,Q.l,Q.r,Q.t,Q.b)),fe){var Te=(Z.l+Z.r)/fe;Te>1&&(Z.l/=Te,Z.r/=Te)}if(he){var be=(Z.t+Z.b)/he;be>1&&(Z.t/=be,Z.b/=be)}me[U]={l:{val:void 0!==Z.xl?Z.xl:Z.x,size:Z.l+Pe},r:{val:void 0!==Z.xr?Z.xr:Z.x,size:Z.r+Pe},b:{val:void 0!==Z.yb?Z.yb:Z.y,size:Z.b+Pe},t:{val:void 0!==Z.yt?Z.yt:Z.y,size:Z.t+Pe}},ke[U]=1}else delete me[U],delete ke[U];if(!Y._replotting)return h.doAutoMargin(H)}},h.doAutoMargin=function(H){var U=H._fullLayout,Z=U.width,Y=U.height;U._size||(U._size={}),P(U);var ae=U._size,re=U.margin,Q={t:0,b:0,l:0,r:0},K=t.extendFlat({},ae),te=re.l,oe=re.r,ue=re.t,fe=re.b,he=U._pushmargin,me=U._pushmarginIds,ke=U.minreducedwidth,Pe=U.minreducedheight;if(!1!==re.autoexpand){for(var Te in he)me[Te]||delete he[Te];var be=H._fullLayout._reservedMargin;for(var xe in be)for(var Ne in be[xe])Q[Ne]=Math.max(Q[Ne],be[xe][Ne]);for(var Ce in he.base={l:{val:0,size:te},r:{val:1,size:oe},t:{val:1,size:ue},b:{val:0,size:fe}},Q){var pe=0;for(var de in he)"base"!==de&&A(he[de][Ce].size)&&(pe=he[de][Ce].size>pe?he[de][Ce].size:pe);var se=Math.max(0,re[Ce]-pe);Q[Ce]=Math.max(0,Q[Ce]-se)}for(var we in he){var Re=he[we].l||{},Ee=he[we].b||{},Ue=Re.val,$e=Re.size,ve=Ee.val,Ie=Ee.size,De=Z-Q.r-Q.l,ze=Y-Q.t-Q.b;for(var Ge in he){if(A($e)&&he[Ge].r){var He=he[Ge].r.val,Ke=he[Ge].r.size;if(He>Ue){var et=($e*He+(Ke-De)*Ue)/(He-Ue),st=(Ke*(1-Ue)+($e-De)*(1-He))/(He-Ue);et+st>te+oe&&(te=et,oe=st)}}if(A(Ie)&&he[Ge].t){var mt=he[Ge].t.val,at=he[Ge].t.size;if(mt>ve){var kt=(Ie*mt+(at-ze)*ve)/(mt-ve),St=(at*(1-ve)+(Ie-ze)*(1-mt))/(mt-ve);kt+St>fe+ue&&(fe=kt,ue=St)}}}}}var it,gt=t.constrain(Z-re.l-re.r,2,ke),dt=t.constrain(Y-re.t-re.b,2,Pe),Ct=Math.max(0,Z-gt),Ot=Math.max(0,Y-dt);if(Ct){var Pt=(te+oe)/Ct;Pt>1&&(te/=Pt,oe/=Pt)}if(Ot){var Ht=(fe+ue)/Ot;Ht>1&&(fe/=Ht,ue/=Ht)}if(ae.l=Math.round(te)+Q.l,ae.r=Math.round(oe)+Q.r,ae.t=Math.round(ue)+Q.t,ae.b=Math.round(fe)+Q.b,ae.p=Math.round(re.pad),ae.w=Math.round(Z)-ae.l-ae.r,ae.h=Math.round(Y)-ae.t-ae.b,!U._replotting&&(h.didMarginChange(K,ae)||function(nt){if("_redrawFromAutoMarginCount"in nt._fullLayout)return!1;var it=n.list(nt,"",!0);for(var Xe in it)if(it[Xe].autoshift||it[Xe].shift)return!0;return!1}(H))){"_redrawFromAutoMarginCount"in U?U._redrawFromAutoMarginCount++:U._redrawFromAutoMarginCount=1;var jt=3*(1+Object.keys(me).length);if(U._redrawFromAutoMarginCount<jt)return T.call("_doPlot",H);U._size=K,t.warn("Too many auto-margin redraws.")}it=n.list(H,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Xe){for(var rt=0;rt<it.length;rt++){var ft=it[rt][Xe];ft&&ft()}})};var R=["l","r","t","b","p","w","h"];function z(H,U,Z){var Y=!1,re=t.syncOrAsync([h.previousPromises,function(){if(H._transitionData)return H._transitioning=!1,function(Q){var K=Promise.resolve();if(!Q)return K;for(;Q.length;)K=K.then(Q.shift());return K}(H._transitionData._interruptCallbacks)},Z.prepareFn,h.rehover,h.reselect,function(){return H.emit("plotly_transitioning",[]),new Promise(function(Q){H._transitioning=!0,U.duration>0&&(H._transitioningWithDuration=!0),H._transitionData._interruptCallbacks.push(function(){Y=!0}),Z.redraw&&H._transitionData._interruptCallbacks.push(function(){return T.call("redraw",H)}),H._transitionData._interruptCallbacks.push(function(){H.emit("plotly_transitioninterrupted",[])});var K=0,te=0;function oe(){return K++,function(){var ue;te++,Y||te!==K||(ue=Q,H._transitionData&&(function(fe){if(fe)for(;fe.length;)fe.shift()}(H._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(Z.redraw)return T.call("redraw",H)}).then(function(){H._transitioning=!1,H._transitioningWithDuration=!1,H.emit("plotly_transitioned",[])}).then(ue)))}}Z.runFn(oe),setTimeout(oe())})}],H);return re&&re.then||(re=Promise.resolve()),re.then(function(){return H})}h.didMarginChange=function(H,U){for(var Z=0;Z<R.length;Z++){var Y=R[Z],ae=H[Y],re=U[Y];if(!A(ae)||Math.abs(re-ae)>1)return!0}return!1},h.graphJson=function(H,U,Z,Y,ae,re){(ae&&U&&!H._fullData||ae&&!U&&!H._fullLayout)&&h.supplyDefaults(H);var K=ae?H._fullLayout:H.layout,te=(H._transitionData||{})._frames;function oe(he,me){if("function"==typeof he)return me?"_function_":null;if(t.isPlainObject(he)){var ke,Pe={};return Object.keys(he).sort().forEach(function(Te){if(-1===["_","["].indexOf(Te.charAt(0)))if("function"!=typeof he[Te]){if("keepdata"===Z){if("src"===Te.substr(Te.length-3))return}else if("keepstream"===Z){if("string"==typeof(ke=he[Te+"src"])&&ke.indexOf(":")>0&&!t.isPlainObject(he.stream))return}else if("keepall"!==Z&&"string"==typeof(ke=he[Te+"src"])&&ke.indexOf(":")>0)return;Pe[Te]=oe(he[Te],me)}else me&&(Pe[Te]="_function")}),Pe}return Array.isArray(he)?he.map(function(Te){return oe(Te,me)}):t.isTypedArray(he)?t.simpleMap(he,t.identity):t.isJSDate(he)?t.ms2DateTimeLocal(+he):he}var ue={data:((ae?H._fullData:H.data)||[]).map(function(he){var me=oe(he);return U&&delete me.fit,me})};if(!U&&(ue.layout=oe(K),ae)){var fe=K._size;ue.layout.computed={margin:{b:fe.b,l:fe.l,r:fe.r,t:fe.t}}}return te&&(ue.frames=oe(te)),re&&(ue.config=oe(H._context,!0)),"object"===Y?ue:JSON.stringify(ue)},h.modifyFrames=function(H,U){var Z,Y,ae,re=H._transitionData._frames,Q=H._transitionData._frameHash;for(Z=0;Z<U.length;Z++)switch((Y=U[Z]).type){case"replace":var K=(re[Y.index]||{}).name,te=(ae=Y.value).name;re[Y.index]=Q[te]=ae,te!==K&&(delete Q[K],Q[te]=ae);break;case"insert":Q[(ae=Y.value).name]=ae,re.splice(Y.index,0,ae);break;case"delete":delete Q[(ae=re[Y.index]).name],re.splice(Y.index,1)}return Promise.resolve()},h.computeFrame=function(H,U){var Z,Y,ae,re,Q=H._transitionData._frameHash;if(!U)throw new Error("computeFrame must be given a string frame name");var K=Q[U.toString()];if(!K)return!1;for(var te=[K],oe=[K.name];K.baseframe&&(K=Q[K.baseframe.toString()])&&-1===oe.indexOf(K.name);)te.push(K),oe.push(K.name);for(var ue={};K=te.pop();)if(K.layout&&(ue.layout=h.extendLayout(ue.layout,K.layout)),K.data){if(ue.data||(ue.data=[]),!(Y=K.traces))for(Y=[],Z=0;Z<K.data.length;Z++)Y[Z]=Z;for(ue.traces||(ue.traces=[]),Z=0;Z<K.data.length;Z++)null!=(ae=Y[Z])&&(-1===(re=ue.traces.indexOf(ae))&&(ue.traces[re=ue.data.length]=ae),ue.data[re]=h.extendTrace(ue.data[re],K.data[Z]))}return ue},h.recomputeFrameHash=function(H){for(var U=H._transitionData._frameHash={},Z=H._transitionData._frames,Y=0;Y<Z.length;Y++){var ae=Z[Y];ae&&ae.name&&(U[ae.name]=ae)}},h.extendObjectWithContainers=function(H,U,Z){var Y,ae,re,Q,K,te,oe,ue=t.extendDeepNoArrays({},U||{}),fe=t.expandObjectPaths(ue),he={};if(Z&&Z.length)for(re=0;re<Z.length;re++)void 0===(ae=(Y=t.nestedProperty(fe,Z[re])).get())?t.nestedProperty(he,Z[re]).set(null):(Y.set(null),t.nestedProperty(he,Z[re]).set(ae));if(H=t.extendDeepNoArrays(H||{},fe),Z&&Z.length)for(re=0;re<Z.length;re++)if(te=t.nestedProperty(he,Z[re]).get()){for(oe=(K=t.nestedProperty(H,Z[re])).get(),Array.isArray(oe)||K.set(oe=[]),Q=0;Q<te.length;Q++){var me=te[Q];oe[Q]=null===me?null:h.extendObjectWithContainers(oe[Q],me)}K.set(oe)}return H},h.dataArrayContainers=["transforms","dimensions"],h.layoutArrayContainers=T.layoutArrayContainers,h.extendTrace=function(H,U){return h.extendObjectWithContainers(H,U,h.dataArrayContainers)},h.extendLayout=function(H,U){return h.extendObjectWithContainers(H,U,h.layoutArrayContainers)},h.transition=function(H,U,Z,Y,ae,re){var Q={redraw:ae.redraw},K={},te=[];return Q.prepareFn=function(){for(var oe=Array.isArray(U)?U.length:0,ue=Y.slice(0,oe),fe=0;fe<ue.length;fe++){var he=ue[fe],me=H._fullData[he]._module;if(me){if(me.animatable){var ke=me.basePlotModule.name;K[ke]||(K[ke]=[]),K[ke].push(he)}H.data[ue[fe]]=h.extendTrace(H.data[ue[fe]],U[fe])}}var Pe=t.expandObjectPaths(t.extendDeepNoArrays({},Z)),Te=/^[xy]axis[0-9]*$/;for(var be in Pe)Te.test(be)&&delete Pe[be].range;h.extendLayout(H.layout,Pe),delete H.calcdata,h.supplyDefaults(H),h.doCalcdata(H);var xe=t.expandObjectPaths(Z);if(xe){var Ne=H._fullLayout._plots;for(var Se in Ne){var Ce=Ne[Se],pe=Ce.xaxis,de=Ce.yaxis,se=pe.range.slice(),we=de.range.slice(),Re=null,Ee=null,Ue=null,$e=null;Array.isArray(xe[pe._name+".range"])?Re=xe[pe._name+".range"].slice():Array.isArray((xe[pe._name]||{}).range)&&(Re=xe[pe._name].range.slice()),Array.isArray(xe[de._name+".range"])?Ee=xe[de._name+".range"].slice():Array.isArray((xe[de._name]||{}).range)&&(Ee=xe[de._name].range.slice()),se&&Re&&(pe.r2l(se[0])!==pe.r2l(Re[0])||pe.r2l(se[1])!==pe.r2l(Re[1]))&&(Ue={xr0:se,xr1:Re}),we&&Ee&&(de.r2l(we[0])!==de.r2l(Ee[0])||de.r2l(we[1])!==de.r2l(Ee[1]))&&($e={yr0:we,yr1:Ee}),(Ue||$e)&&te.push(t.extendFlat({plotinfo:Ce},Ue,$e))}}return Promise.resolve()},Q.runFn=function(oe){var ue,fe,he=H._fullLayout._basePlotModules,me=te.length;if(Z)for(fe=0;fe<he.length;fe++)he[fe].transitionAxes&&he[fe].transitionAxes(H,te,re,oe);for(var ke in me?((ue=t.extendFlat({},re)).duration=0,delete K.cartesian):ue=re,K){var Pe=K[ke];H._fullData[Pe[0]]._module.basePlotModule.plot(H,Pe,ue,oe)}},z(H,re,Q)},h.transitionFromReact=function(H,U,Z,Y){var ae=H._fullLayout,re=ae.transition,Q={},K=[];return Q.prepareFn=function(){var te=ae._plots;for(var oe in Q.redraw=!1,"some"===U.anim&&(Q.redraw=!0),"some"===Z.anim&&(Q.redraw=!0),te){var ue=te[oe],fe=ue.xaxis,he=ue.yaxis,me=Y[fe._name].range.slice(),ke=Y[he._name].range.slice(),Pe=fe.range.slice(),Te=he.range.slice();fe.setScale(),he.setScale();var be=null,xe=null;fe.r2l(me[0])===fe.r2l(Pe[0])&&fe.r2l(me[1])===fe.r2l(Pe[1])||(be={xr0:me,xr1:Pe}),he.r2l(ke[0])===he.r2l(Te[0])&&he.r2l(ke[1])===he.r2l(Te[1])||(xe={yr0:ke,yr1:Te}),(be||xe)&&K.push(t.extendFlat({plotinfo:ue},be,xe))}return Promise.resolve()},Q.runFn=function(te){for(var oe,ue,fe,he=H._fullData,me=H._fullLayout._basePlotModules,ke=[],Pe=0;Pe<he.length;Pe++)ke.push(Pe);function Te(){if(H._fullLayout)for(var xe=0;xe<me.length;xe++)me[xe].transitionAxes&&me[xe].transitionAxes(H,K,oe,te)}function be(){if(H._fullLayout)for(var xe=0;xe<me.length;xe++)me[xe].plot(H,fe,ue,te)}K.length&&U.anim?"traces first"===re.ordering?(oe=t.extendFlat({},re,{duration:0}),fe=ke,ue=re,setTimeout(Te,re.duration),be()):(oe=re,fe=null,ue=t.extendFlat({},re,{duration:0}),setTimeout(be,oe.duration),Te()):K.length?(oe=re,Te()):U.anim&&(fe=ke,ue=re,be())},z(H,re,Q)},h.doCalcdata=function(H,U){var Z,Y,ae,re,Q=n.list(H),K=H._fullData,te=H._fullLayout,oe=new Array(K.length),ue=(H.calcdata||[]).slice();for(H.calcdata=oe,te._numBoxes=0,te._numViolins=0,te._violinScaleGroupStats={},H._hmpixcount=0,H._hmlumcount=0,te._piecolormap={},te._sunburstcolormap={},te._treemapcolormap={},te._iciclecolormap={},te._funnelareacolormap={},ae=0;ae<K.length;ae++)Array.isArray(U)&&-1===U.indexOf(ae)&&(oe[ae]=ue[ae]);for(ae=0;ae<K.length;ae++)(Z=K[ae])._arrayAttrs=m.findArrayAttributes(Z),Z._extremes={};var fe=te._subplots.polar||[];for(ae=0;ae<fe.length;ae++)Q.push(te[fe[ae]].radialaxis,te[fe[ae]].angularaxis);for(var he in te._colorAxes){var me=te[he];!1!==me.cauto&&(delete me.cmin,delete me.cmax)}var ke=!1;function Pe(xe){if(Y=(Z=K[xe])._module,!0===Z.visible&&Z.transforms){if(Y&&Y.calc){var Ne=Y.calc(H,Z);Ne[0]&&Ne[0].t&&Ne[0].t._scene&&delete Ne[0].t._scene.dirty}for(re=0;re<Z.transforms.length;re++){var Se=Z.transforms[re];(Y=_[Se.type])&&Y.calcTransform&&(Z._hasCalcTransform=!0,ke=!0,Y.calcTransform(H,Z,Se))}}}function Te(xe,Ne){if(!!(Y=(Z=K[xe])._module).isContainer===Ne){var Se=[];if(!0===Z.visible&&0!==Z._length){delete Z._indexToPoints;var Ce=Z.transforms||[];for(re=Ce.length-1;re>=0;re--)if(Ce[re].enabled){Z._indexToPoints=Ce[re]._indexToPoints;break}Y&&Y.calc&&(Se=Y.calc(H,Z))}Array.isArray(Se)&&Se[0]||(Se=[{x:r,y:r}]),Se[0].t||(Se[0].t={}),Se[0].trace=Z,oe[xe]=Se}}for(N(Q,K,te),ae=0;ae<K.length;ae++)Te(ae,!0);for(ae=0;ae<K.length;ae++)Pe(ae);for(ke&&N(Q,K,te),ae=0;ae<K.length;ae++)Te(ae,!0);for(ae=0;ae<K.length;ae++)Te(ae,!1);W(H);var be=function(xe,Ne){var Se,Ce,pe,de,se,we=[];function Re(nt,it,Xe){var rt=it._id.charAt(0);if("histogram2dcontour"===nt){var ft=it._counterAxes[0],vt=n.getFromId(Ne,ft),je="x"===rt||"x"===ft&&"category"===vt.type,Ve="y"===rt||"y"===ft&&"category"===vt.type;return function(ut,ct){return 0===ut||0===ct||je&&ut===Xe[ct].length-1||Ve&&ct===Xe.length-1?-1:("y"===rt?ct:ut)-1}}return function(ut,ct){return"y"===rt?ct:ut}}var Ee={min:function(nt){return t.aggNums(Math.min,null,nt)},max:function(nt){return t.aggNums(Math.max,null,nt)},sum:function(nt){return t.aggNums(function(it,Xe){return it+Xe},null,nt)},total:function(nt){return t.aggNums(function(it,Xe){return it+Xe},null,nt)},mean:function(nt){return t.mean(nt)},median:function(nt){return t.median(nt)}};for(Se=0;Se<xe.length;Se++){var Ue=xe[Se];if("category"===Ue.type){var $e=Ue.categoryorder.match($);if($e){var ve=$e[1],Ie=$e[2],De=Ue._id.charAt(0),ze="x"===De,Ge=[];for(Ce=0;Ce<Ue._categories.length;Ce++)Ge.push([Ue._categories[Ce],[]]);for(Ce=0;Ce<Ue._traceIndices.length;Ce++){var He=Ue._traceIndices[Ce],Ke=Ne._fullData[He];if(!0===Ke.visible){var et=Ke.type;T.traceIs(Ke,"histogram")&&(delete Ke._xautoBinFinished,delete Ke._yautoBinFinished);var st="splom"===et,mt="scattergl"===et,at=Ne.calcdata[He];for(pe=0;pe<at.length;pe++){var kt,St,gt=at[pe];if(st){var dt=Ke._axesDim[Ue._id];if(!ze){var Ct=Ke._diag[dt][0];Ct&&(Ue=Ne._fullLayout[n.id2name(Ct)])}var Ot=gt.trace.dimensions[dt].values;for(de=0;de<Ot.length;de++)for(kt=Ue._categoriesMap[Ot[de]],se=0;se<gt.trace.dimensions.length;se++)se!==dt&&Ge[kt][1].push(gt.trace.dimensions[se].values[de])}else if(mt){for(de=0;de<gt.t.x.length;de++)ze?(kt=gt.t.x[de],St=gt.t.y[de]):(kt=gt.t.y[de],St=gt.t.x[de]),Ge[kt][1].push(St);gt.t&&gt.t._scene&&delete gt.t._scene.dirty}else if(gt.hasOwnProperty("z")){var Ht=Re(Ke.type,Ue,St=gt.z);for(de=0;de<St.length;de++)for(se=0;se<St[de].length;se++)(kt=Ht(se,de))+1&&Ge[kt][1].push(St[de][se])}else for(void 0===(kt=gt.p)&&(kt=gt[De]),void 0===(St=gt.s)&&(St=gt.v),void 0===St&&(St=ze?gt.y:gt.x),Array.isArray(St)||(St=void 0===St?[]:[St]),de=0;de<St.length;de++)Ge[kt][1].push(St[de])}}}Ue._categoriesValue=Ge;var jt=[];for(Ce=0;Ce<Ge.length;Ce++)jt.push([Ge[Ce][0],Ee[ve](Ge[Ce][1])]);jt.sort(function(nt,it){return nt[1]-it[1]}),Ue._categoriesAggregatedValue=jt,Ue._initialCategories=jt.map(function(nt){return nt[0]}),"descending"===Ie&&Ue._initialCategories.reverse(),we=we.concat(Ue.sortByInitialCategories())}}}return we}(Q,H);if(be.length){for(te._numBoxes=0,te._numViolins=0,ae=0;ae<be.length;ae++)Te(be[ae],!0);for(ae=0;ae<be.length;ae++)Te(be[ae],!1);W(H)}T.getComponentMethod("fx","calc")(H),T.getComponentMethod("errorbars","calc")(H)};var $=/(total|sum|min|max|mean|median) (ascending|descending)/;function N(H,U,Z){var Y={};function ae(te){te.clearCalc(),"multicategory"===te.type&&te.setupMultiCategory(U),Y[te._id]=1}t.simpleMap(H,ae);for(var re=Z._axisMatchGroups||[],Q=0;Q<re.length;Q++)for(var K in re[Q])Y[K]||ae(Z[n.id2name(K)])}function W(H){var U,Z,Y,ae=H._fullLayout,re=ae._visibleModules,Q={};for(Z=0;Z<re.length;Z++){var K=re[Z],te=K.crossTraceCalc;if(te){var oe=K.basePlotModule.name;Q[oe]?t.pushUnique(Q[oe],te):Q[oe]=[te]}}for(Y in Q){var ue=Q[Y],fe=ae._subplots[Y];if(Array.isArray(fe))for(U=0;U<fe.length;U++){var he=fe[U],me="cartesian"===Y?ae._plots[he]:ae[he];for(Z=0;Z<ue.length;Z++)ue[Z](H,me,he)}else for(Z=0;Z<ue.length;Z++)ue[Z](H)}}h.rehover=function(H){H._fullLayout._rehover&&H._fullLayout._rehover()},h.redrag=function(H){H._fullLayout._redrag&&H._fullLayout._redrag()},h.reselect=function(H){var U=H._fullLayout,Z=(H.layout||{}).selections,Y=U._previousSelections;U._previousSelections=Z;var ae=U._reselect||JSON.stringify(Z)!==JSON.stringify(Y);T.getComponentMethod("selections","reselect")(H,ae)},h.generalUpdatePerTraceModule=function(H,U,Z,Y){var ae,re=U.traceHash,Q={};for(ae=0;ae<Z.length;ae++){var K=Z[ae],te=K[0].trace;te.visible&&(Q[te.type]=Q[te.type]||[],Q[te.type].push(K))}for(var oe in re)if(!Q[oe]){var ue=re[oe][0];ue[0].trace.visible=!1,Q[oe]=[ue]}for(var fe in Q){var he=Q[fe];he[0][0].trace._module.plot(H,U,t.filterVisible(he),Y)}U.traceHash=Q},h.plotBasePlot=function(H,U,Z,Y,ae){var re=T.getModule(H),Q=f(U.calcdata,re)[0];re.plot(U,Q,Y,ae)},h.cleanBasePlot=function(H,U,Z,Y,ae){var re=ae._has&&ae._has(H),Q=Z._has&&Z._has(H);re&&!Q&&ae["_"+H+"layer"].selectAll("g.trace").remove()}},9813:function(ie){"use strict";ie.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(ie,B,e){"use strict";var C=e(71828),S=e(61082).tester,u=C.findIndexOfMin,A=C.isAngleInsideSector,T=C.angleDelta,m=C.angleDist;function l(n,a,s,c){var p,f,w=c[0],v=c[1],h=o(Math.sin(a)-Math.sin(n)),_=o(Math.cos(a)-Math.cos(n)),x=Math.tan(s),b=o(1/x),M=h/_,d=v-M*w;return b?h&&_?f=x*(p=d/(x-M)):_?(p=v*b,f=v):(p=w,f=w*x):h&&_?(p=0,f=d):_?(p=0,f=v):p=f=NaN,[p,f]}function t(n,a,s,c){return C.isFullCircle([a,s])?function(p,f){var w,v=f.length,h=new Array(v+1);for(w=0;w<v;w++){var _=f[w];h[w]=[p*Math.cos(_),p*Math.sin(_)]}return h[w]=h[0].slice(),h}(n,c):function(p,f,w,v){var h,_,x=v.length,b=[];function M($){return[p*Math.cos($),p*Math.sin($)]}function d($,N,W){return l($,N,W,M($))}function E($){return C.mod($,x)}function k($){return A($,[f,w])}var I=u(v,function($){return k($)?m($,f):1/0}),L=d(v[I],v[E(I-1)],f);for(b.push(L),h=I,_=0;_<x;h++,_++){var P=v[E(h)];if(!k(P))break;b.push(M(P))}var R=u(v,function($){return k($)?m($,w):1/0}),z=d(v[R],v[E(R+1)],w);return b.push(z),b.push([0,0]),b.push(b[0].slice()),b}(n,a,s,c)}function o(n){return Math.abs(n)>1e-10?n:0}function r(n,a,s){a=a||0,s=s||0;for(var c=n.length,p=new Array(c),f=0;f<c;f++){var w=n[f];p[f]=[a+w[0],s-w[1]]}return p}ie.exports={isPtInsidePolygon:function(n,a,s,c,p){if(!A(a,c))return!1;var f,w;s[0]<s[1]?(f=s[0],w=s[1]):(f=s[1],w=s[0]);var v=S(t(f,c[0],c[1],p)),h=S(t(w,c[0],c[1],p)),_=[n*Math.cos(a),n*Math.sin(a)];return h.contains(_)&&!v.contains(_)},findPolygonOffset:function(n,a,s,c){for(var p=1/0,f=1/0,w=t(n,a,s,c),v=0;v<w.length;v++){var h=w[v];p=Math.min(p,h[0]),f=Math.min(f,-h[1])}return[p,f]},findEnclosingVertexAngles:function(n,a){var s=u(a,function(p){var f=T(p,n);return f>0?f:1/0}),c=C.mod(s+1,a.length);return[a[s],a[c]]},findIntersectionXY:l,findXYatLength:function(n,a,s,c){var p=-a*s,f=a*a+1,w=2*(a*p-s),h=Math.sqrt(w*w-4*f*(p*p+s*s-n*n)),_=(-w+h)/(2*f),x=(-w-h)/(2*f);return[[_,a*_+p+c],[x,a*x+p+c]]},clampTiny:o,pathPolygon:function(n,a,s,c,p,f){return"M"+r(t(n,a,s,c),p,f).join("L")},pathPolygonAnnulus:function(n,a,s,c,p,f,w){var v,h;n<a?(v=n,h=a):(v=a,h=n);var _=r(t(v,s,c,p),f,w);return"M"+r(t(h,s,c,p),f,w).reverse().join("L")+"M"+_.join("L")}}},23580:function(ie,B,e){"use strict";var C=e(27659).AU,S=e(71828).counterRegex,u=e(77997),A=e(9813),T=A.attr,m=A.name,l=S(m),t={};t[T]={valType:"subplotid",dflt:m,editType:"calc"},ie.exports={attr:T,name:m,idRoot:m,idRegex:l,attrRegex:l,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:function(o){for(var r=o._fullLayout,n=o.calcdata,a=r._subplots[m],s=0;s<a.length;s++){var c=a[s],p=C(n,m,c),f=r[c]._subplot;f||(f=u(o,c),r[c]._subplot=f),f.plot(p,r,o._promises)}},clean:function(o,r,n,a){for(var s=a._subplots[m]||[],c=a._has&&a._has("gl"),p=r._has&&r._has("gl"),f=c&&!p,w=0;w<s.length;w++){var v=s[w],h=a[v]._subplot;if(!r[v]&&h)for(var _ in h.framework.remove(),h.layers["radial-axis-title"].remove(),h.clipPaths)h.clipPaths[_].remove();f&&h._scene&&(h._scene.destroy(),h._scene=null)}},toSVG:e(93612).toSVG}},73812:function(ie,B,e){"use strict";var C=e(22399),S=e(13838),u=e(27670).Y,A=e(71828).extendFlat,T=e(30962).overrideAll,m=T({color:S.color,showline:A({},S.showline,{dflt:!0}),linecolor:S.linecolor,linewidth:S.linewidth,showgrid:A({},S.showgrid,{dflt:!0}),gridcolor:S.gridcolor,gridwidth:S.gridwidth,griddash:S.griddash},"plot","from-root"),l=T({tickmode:S.minor.tickmode,nticks:S.nticks,tick0:S.tick0,dtick:S.dtick,tickvals:S.tickvals,ticktext:S.ticktext,ticks:S.ticks,ticklen:S.ticklen,tickwidth:S.tickwidth,tickcolor:S.tickcolor,ticklabelstep:S.ticklabelstep,showticklabels:S.showticklabels,labelalias:S.labelalias,showtickprefix:S.showtickprefix,tickprefix:S.tickprefix,showticksuffix:S.showticksuffix,ticksuffix:S.ticksuffix,showexponent:S.showexponent,exponentformat:S.exponentformat,minexponent:S.minexponent,separatethousands:S.separatethousands,tickfont:S.tickfont,tickangle:S.tickangle,tickformat:S.tickformat,tickformatstops:S.tickformatstops,layer:S.layer},"plot","from-root"),t={visible:A({},S.visible,{dflt:!0}),type:A({},S.type,{values:["-","linear","log","date","category"]}),autotypenumbers:S.autotypenumbers,autorange:A({},S.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},range:A({},S.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:S.categoryorder,categoryarray:S.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:A({},S.title.text,{editType:"plot",dflt:""}),font:A({},S.title.font,{editType:"plot"}),editType:"plot"},hoverformat:S.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:S._deprecated.title,titlefont:S._deprecated.titlefont}};A(t,m,l);var o={visible:A({},S.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:S.autotypenumbers,categoryorder:S.categoryorder,categoryarray:S.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:S.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};A(o,m,l),ie.exports={domain:u({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:C.background},radialaxis:t,angularaxis:o,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(ie,B,e){"use strict";var C=e(71828),S=e(7901),u=e(44467),A=e(49119),T=e(27659).NG,m=e(26218),l=e(38701),t=e(96115),o=e(89426),r=e(15258),n=e(92128),a=e(4322),s=e(73812),c=e(12101),p=e(9813),f=p.axisNames;function w(h,_,x,b){var M=x("bgcolor");b.bgColor=S.combine(M,b.paper_bgcolor);var d=x("sector");x("hole");var E,k=T(b.fullData,p.name,b.id),I=b.layoutOut;function L(te,oe){return x(E+"."+te,oe)}for(var P=0;P<f.length;P++){C.isPlainObject(h[E=f[P]])||(h[E]={});var R=h[E],z=u.newContainer(_,E);z._id=z._name=E,z._attr=b.id+"."+E,z._traceIndices=k.map(function(te){return te._expandedIndex});var $=p.axisName2dataArray[E],N=v(R,z,L,k,$,b);r(R,z,L,{axData:k,dataAttr:$});var W=L("visible");switch(c(z,_,I),L("uirevision",_.uirevision),z._m=1,E){case"radialaxis":var H=L("autorange",!z.isValidRange(R.range));R.autorange=H,!H||"linear"!==N&&"-"!==N||L("rangemode"),"reversed"===H&&(z._m=-1),L("range"),z.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===N){C.log("Polar plots do not support date angular axes yet.");for(var U=0;U<k.length;U++)k[U].visible=!1;N=R.type=z.type="linear"}L("linear"===N?"thetaunit":"period");var Z=L("direction");L("rotation",{counterclockwise:0,clockwise:90}[Z])}if(o(R,z,L,z.type,{tickSuffixDflt:"degrees"===z.thetaunit?"\xb0":void 0}),W){var Y,ae,re,Q,K=b.font||{};ae=(Y=L("color"))===R.color?Y:K.color,re=K.size,Q=K.family,m(R,z,L,z.type),t(R,z,L,z.type,{font:{color:ae,size:re,family:Q}}),l(R,z,L,{outerTicks:!0}),n(R,z,L,{dfltColor:Y,bgColor:b.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[E]}),L("layer"),"radialaxis"===E&&(L("side"),L("angle",d[0]),L("title.text"),C.coerceFont(L,"title.font",{color:ae,size:C.bigFont(re),family:Q}))}"category"!==N&&L("hoverformat"),z._input=R}"category"===_.angularaxis.type&&x("gridshape")}function v(h,_,x,b,M,d){var E=x("autotypenumbers",d.autotypenumbersDflt);if("-"===x("type")){for(var k,I=0;I<b.length;I++)if(b[I].visible){k=b[I];break}k&&k[M]&&(_.type=a(k[M],"gregorian",{noMultiCategory:!0,autotypenumbers:E})),"-"===_.type?_.type="linear":h.type=_.type}return _.type}ie.exports=function(h,_,x){A(h,_,x,{type:p.name,attributes:s,handleDefaults:w,font:_.font,autotypenumbersDflt:_.autotypenumbers,paper_bgcolor:_.paper_bgcolor,fullData:x,layoutOut:_})}},77997:function(ie,B,e){"use strict";var C=e(39898),S=e(84267),u=e(73972),A=e(71828),T=A.strRotate,m=A.strTranslate,l=e(7901),t=e(91424),o=e(74875),r=e(89298),n=e(21994),a=e(12101),s=e(71739).doAutoRange,c=e(29323),p=e(28569),f=e(30211),w=e(92998),v=e(47322).prepSelect,h=e(47322).selectOnClick,_=e(47322).clearOutline,x=e(6964),b=e(33306),M=e(61549).redrawReglTraces,d=e(18783).MID_SHIFT,E=e(9813),k=e(10869),I=e(23893),L=I.smith,P=I.reactanceArc,R=I.resistanceArc,z=I.smithTransform,$=A._,N=A.mod,W=A.deg2rad,H=A.rad2deg;function U(Q,K,te){this.isSmith=te||!1,this.id=K,this.gd=Q,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var oe=Q._fullLayout;this.clipIds.forTraces="clip"+oe._uid+K+"-for-traces",this.clipPaths.forTraces=oe._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=oe["_"+(te?"smith":"polar")+"layer"].append("g").attr("class",K),this.getHole=function(fe){return this.isSmith?0:fe.hole},this.getSector=function(fe){return this.isSmith?[0,360]:fe.sector},this.getRadial=function(fe){return this.isSmith?fe.realaxis:fe.radialaxis},this.getAngular=function(fe){return this.isSmith?fe.imaginaryaxis:fe.angularaxis},te||(this.radialTickLayout=null,this.angularTickLayout=null)}var Z=U.prototype;function Y(Q){var K=Q.ticks+String(Q.ticklen)+String(Q.showticklabels);return"side"in Q&&(K+=Q.side),K}function ae(Q,K){return K[A.findIndexOfMin(K,function(te){return A.angleDist(Q,te)})]}function re(Q,K,te){return K?(Q.attr("display",null),Q.attr(te)):Q&&Q.attr("display","none"),Q}ie.exports=function(Q,K,te){return new U(Q,K,te)},Z.plot=function(Q,K){for(var te=this,oe=K[te.id],ue=!1,fe=0;fe<Q.length;fe++)if(!1===Q[fe][0].trace.cliponaxis){ue=!0;break}te._hasClipOnAxisFalse=ue,te.updateLayers(K,oe),te.updateLayout(K,oe),o.generalUpdatePerTraceModule(te.gd,te,Q,oe),te.updateFx(K,oe),te.isSmith&&(delete oe.realaxis.range,delete oe.imaginaryaxis.range)},Z.updateLayers=function(Q,K){var te=this,oe=te.isSmith,ue=te.layers,fe=te.getRadial(K),he=te.getAngular(K),me=E.layerNames,ke=me.indexOf("frontplot"),Pe=me.slice(0,ke),Te="below traces"===he.layer,be="below traces"===fe.layer;Te&&Pe.push("angular-line"),be&&Pe.push("radial-line"),Te&&Pe.push("angular-axis"),be&&Pe.push("radial-axis"),Pe.push("frontplot"),Te||Pe.push("angular-line"),be||Pe.push("radial-line"),Te||Pe.push("angular-axis"),be||Pe.push("radial-axis");var xe=(oe?"smith":"polar")+"sublayer",Ne=te.framework.selectAll("."+xe).data(Pe,String);Ne.enter().append("g").attr("class",function(Se){return xe+" "+Se}).each(function(Se){var Ce=ue[Se]=C.select(this);switch(Se){case"frontplot":oe||Ce.append("g").classed("barlayer",!0),Ce.append("g").classed("scatterlayer",!0);break;case"backplot":Ce.append("g").classed("maplayer",!0);break;case"plotbg":ue.bg=Ce.append("path");break;case"radial-grid":case"angular-grid":Ce.style("fill","none");break;case"radial-line":Ce.append("line").style("fill","none");break;case"angular-line":Ce.append("path").style("fill","none")}}),Ne.order()},Z.updateLayout=function(Q,K){var te=this,oe=te.layers,ue=Q._size,fe=te.getRadial(K),he=te.getAngular(K),me=K.domain.x,ke=K.domain.y;te.xOffset=ue.l+ue.w*me[0],te.yOffset=ue.t+ue.h*(1-ke[1]);var Pe=te.xLength=ue.w*(me[1]-me[0]),Te=te.yLength=ue.h*(ke[1]-ke[0]),be=te.getSector(K);te.sectorInRad=be.map(W);var xe,Ne,Se,Ce,pe,mt,at,kt,St,gt,dt,Ct,Ot,Pt,Ht,de=te.sectorBBox=(St=(mt=be)[1]-(kt=mt[0]),dt=(gt=N(kt,360))+St,Ct=Math.cos(W(gt)),Ot=Math.sin(W(gt)),Pt=Math.cos(W(dt)),Ht=Math.sin(W(dt)),at=gt<=90&&dt>=90||gt>90&&dt>=450?1:Ot<=0&&Ht<=0?0:Math.max(Ot,Ht),[gt<=180&&dt>=180||gt>180&&dt>=540?-1:Ct>=0&&Pt>=0?0:Math.min(Ct,Pt),gt<=270&&dt>=270||gt>270&&dt>=630?-1:Ot>=0&&Ht>=0?0:Math.min(Ot,Ht),dt>=360?1:Ct<=0&&Pt<=0?0:Math.max(Ct,Pt),at]),se=de[2]-de[0],Re=Te/Pe,Ee=Math.abs((de[3]-de[1])/se);Re>Ee?(xe=Pe,pe=(Te-(Ne=Pe*Ee))/ue.h/2,Se=[me[0],me[1]],Ce=[ke[0]+pe,ke[1]-pe]):(Ne=Te,pe=(Pe-(xe=Te/Ee))/ue.w/2,Se=[me[0]+pe,me[1]-pe],Ce=[ke[0],ke[1]]),te.xLength2=xe,te.yLength2=Ne,te.xDomain2=Se,te.yDomain2=Ce;var Ue,$e=te.xOffset2=ue.l+ue.w*Se[0],ve=te.yOffset2=ue.t+ue.h*(1-Ce[1]),Ie=te.radius=xe/se,De=te.innerRadius=te.getHole(K)*Ie,ze=te.cx=$e-Ie*de[0],Ge=te.cy=ve+Ie*de[3],He=te.cxx=ze-$e,Ke=te.cyy=Ge-ve,et=fe.side;"counterclockwise"===et?(Ue=et,et="top"):"clockwise"===et&&(Ue=et,et="bottom"),te.radialAxis=te.mockAxis(Q,K,fe,{_id:"x",side:et,_trueSide:Ue,domain:[De/ue.w,Ie/ue.w]}),te.angularAxis=te.mockAxis(Q,K,he,{side:"right",domain:[0,Math.PI],autorange:!1}),te.doAutoRange(Q,K),te.updateAngularAxis(Q,K),te.updateRadialAxis(Q,K),te.updateRadialAxisTitle(Q,K),te.xaxis=te.mockCartesianAxis(Q,K,{_id:"x",domain:Se}),te.yaxis=te.mockCartesianAxis(Q,K,{_id:"y",domain:Ce});var st=te.pathSubplot();te.clipPaths.forTraces.select("path").attr("d",st).attr("transform",m(He,Ke)),oe.frontplot.attr("transform",m($e,ve)).call(t.setClipUrl,te._hasClipOnAxisFalse?null:te.clipIds.forTraces,te.gd),oe.bg.attr("d",st).attr("transform",m(ze,Ge)).call(l.fill,K.bgcolor)},Z.mockAxis=function(Q,K,te,oe){var ue=A.extendFlat({},te,oe);return a(ue,K,Q),ue},Z.mockCartesianAxis=function(Q,K,te){var oe=this,ue=oe.isSmith,fe=te._id,he=A.extendFlat({type:"linear"},te);n(he,Q);var me={x:[0,2],y:[1,3]};return he.setRange=function(){var ke=oe.sectorBBox,Pe=me[fe],Te=oe.radialAxis._rl,be=(Te[1]-Te[0])/(1-oe.getHole(K));he.range=[ke[Pe[0]]*be,ke[Pe[1]]*be]},he.isPtWithinRange="x"!==fe||ue?function(){return!0}:function(ke){return oe.isPtInside(ke)},he.setRange(),he.setScale(),he},Z.doAutoRange=function(Q,K){var oe=this.gd,ue=this.radialAxis,fe=this.getRadial(K);s(oe,ue);var he=ue.range;fe.range=he.slice(),fe._input.range=he.slice(),ue._rl=[ue.r2l(he[0],null,"gregorian"),ue.r2l(he[1],null,"gregorian")]},Z.updateRadialAxis=function(Q,K){var te=this,oe=te.gd,ue=te.layers,fe=te.radius,he=te.innerRadius,me=te.cx,ke=te.cy,Pe=te.getRadial(K),Te=N(te.getSector(K)[0],360),be=te.radialAxis,xe=he<fe,Ne=te.isSmith;Ne||(te.fillViewInitialKey("radialaxis.angle",Pe.angle),te.fillViewInitialKey("radialaxis.range",be.range.slice()),be.setGeometry()),"auto"===be.tickangle&&Te>90&&Te<=270&&(be.tickangle=180);var Se=Ne?function(ve){var Ie=z(te,L([ve.x,0]));return m(Ie[0]-me,Ie[1]-ke)}:function(ve){return m(be.l2p(ve.x)+he,0)},Ce=Ne?function(ve){return R(te,ve.x,-1/0,1/0)}:function(ve){return te.pathArc(be.r2p(ve.x)+he)},pe=Y(Pe);if(te.radialTickLayout!==pe&&(ue["radial-axis"].selectAll(".xtick").remove(),te.radialTickLayout=pe),xe){be.setScale();var de=0,se=Ne?(be.tickvals||[]).filter(function(ve){return ve>=0}).map(function(ve){return r.tickText(be,ve,!0,!1)}):r.calcTicks(be),we=Ne?se:r.clipEnds(be,se),Re=r.getTickSigns(be)[2];Ne&&(("top"===be.ticks&&"bottom"===be.side||"bottom"===be.ticks&&"top"===be.side)&&(Re=-Re),"top"===be.ticks&&"top"===be.side&&(de=-be.ticklen),"bottom"===be.ticks&&"bottom"===be.side&&(de=be.ticklen)),r.drawTicks(oe,be,{vals:se,layer:ue["radial-axis"],path:r.makeTickPath(be,0,Re),transFn:Se,crisp:!1}),r.drawGrid(oe,be,{vals:we,layer:ue["radial-grid"],path:Ce,transFn:A.noop,crisp:!1}),r.drawLabels(oe,be,{vals:se,layer:ue["radial-axis"],transFn:Se,labelFns:r.makeLabelFns(be,de)})}var Ee=te.radialAxisAngle=te.vangles?H(ae(W(Pe.angle),te.vangles)):Pe.angle,Ue=m(me,ke),$e=Ue+T(-Ee);re(ue["radial-axis"],xe&&(Pe.showticklabels||Pe.ticks),{transform:$e}),re(ue["radial-grid"],xe&&Pe.showgrid,{transform:Ne?"":Ue}),re(ue["radial-line"].select("line"),xe&&Pe.showline,{x1:Ne?-fe:he,y1:0,x2:fe,y2:0,transform:$e}).attr("stroke-width",Pe.linewidth).call(l.stroke,Pe.linecolor)},Z.updateRadialAxisTitle=function(Q,K,te){if(!this.isSmith){var oe=this,ue=oe.gd,fe=oe.radius,he=oe.cx,me=oe.cy,ke=oe.getRadial(K),Pe=oe.id+"title",Te=0;if(ke.title){var be=t.bBox(oe.layers["radial-axis"].node()).height,xe=ke.title.font.size,Ne=ke.side;Te="top"===Ne?xe:"counterclockwise"===Ne?-(be+.4*xe):be+.8*xe}var Se=void 0!==te?te:oe.radialAxisAngle,Ce=W(Se),pe=Math.cos(Ce),de=Math.sin(Ce),se=he+fe/2*pe+Te*de,we=me-fe/2*de+Te*pe;oe.layers["radial-axis-title"]=w.draw(ue,Pe,{propContainer:ke,propName:oe.id+".radialaxis.title",placeholder:$(ue,"Click to enter radial axis title"),attributes:{x:se,y:we,"text-anchor":"middle"},transform:{rotate:-Se}})}},Z.updateAngularAxis=function(Q,K){var te=this,oe=te.gd,ue=te.layers,fe=te.radius,he=te.innerRadius,me=te.cx,ke=te.cy,Pe=te.getAngular(K),Te=te.angularAxis,be=te.isSmith;be||(te.fillViewInitialKey("angularaxis.rotation",Pe.rotation),Te.setGeometry(),Te.setScale());var xe=be?function(ve){var Ie=z(te,L([0,ve.x]));return Math.atan2(Ie[0]-me,Ie[1]-ke)-Math.PI/2}:function(ve){return Te.t2g(ve.x)};"linear"===Te.type&&"radians"===Te.thetaunit&&(Te.tick0=H(Te.tick0),Te.dtick=H(Te.dtick));var Ne=function(ve){return m(me+fe*Math.cos(ve),ke-fe*Math.sin(ve))},Se=be?function(ve){var Ie=z(te,L([0,ve.x]));return m(Ie[0],Ie[1])}:function(ve){return Ne(xe(ve))},Ce=be?function(ve){var Ie=z(te,L([0,ve.x])),De=Math.atan2(Ie[0]-me,Ie[1]-ke)-Math.PI/2;return m(Ie[0],Ie[1])+T(-H(De))}:function(ve){var Ie=xe(ve);return Ne(Ie)+T(-H(Ie))},pe=be?function(ve){return P(te,ve.x,0,1/0)}:function(ve){var Ie=xe(ve),De=Math.cos(Ie),ze=Math.sin(Ie);return"M"+[me+he*De,ke-he*ze]+"L"+[me+fe*De,ke-fe*ze]},de=r.makeLabelFns(Te,0).labelStandoff,se={xFn:function(ve){var Ie=xe(ve);return Math.cos(Ie)*de},yFn:function(ve){var Ie=xe(ve),De=Math.sin(Ie)>0?.2:1;return-Math.sin(Ie)*(de+ve.fontSize*De)+Math.abs(Math.cos(Ie))*(ve.fontSize*d)},anchorFn:function(ve){var Ie=xe(ve),De=Math.cos(Ie);return Math.abs(De)<.1?"middle":De>0?"start":"end"},heightFn:function(ve,Ie,De){var ze=xe(ve);return-.5*(1+Math.sin(ze))*De}},we=Y(Pe);te.angularTickLayout!==we&&(ue["angular-axis"].selectAll("."+Te._id+"tick").remove(),te.angularTickLayout=we);var Re,Ee=be?[1/0].concat(Te.tickvals||[]).map(function(ve){return r.tickText(Te,ve,!0,!1)}):r.calcTicks(Te);if(be&&(Ee[0].text="\u221e",Ee[0].fontSize*=1.75),"linear"===K.gridshape?(Re=Ee.map(xe),A.angleDelta(Re[0],Re[1])<0&&(Re=Re.slice().reverse())):Re=null,te.vangles=Re,"category"===Te.type&&(Ee=Ee.filter(function(ve){return A.isAngleInsideSector(xe(ve),te.sectorInRad)})),Te.visible){var Ue="inside"===Te.ticks?-1:1;r.drawTicks(oe,Te,{vals:Ee,layer:ue["angular-axis"],path:"M"+Ue*((Te.linewidth||1)/2)+",0h"+Ue*Te.ticklen,transFn:Ce,crisp:!1}),r.drawGrid(oe,Te,{vals:Ee,layer:ue["angular-grid"],path:pe,transFn:A.noop,crisp:!1}),r.drawLabels(oe,Te,{vals:Ee,layer:ue["angular-axis"],repositionOnUpdate:!0,transFn:Se,labelFns:se})}re(ue["angular-line"].select("path"),Pe.showline,{d:te.pathSubplot(),transform:m(me,ke)}).attr("stroke-width",Pe.linewidth).call(l.stroke,Pe.linecolor)},Z.updateFx=function(Q,K){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(Q),this.updateRadialDrag(Q,K,0),this.updateRadialDrag(Q,K,1)),this.updateHoverAndMainDrag(Q))},Z.updateHoverAndMainDrag=function(Q){var K,te,oe=this,ue=oe.isSmith,fe=oe.gd,me=Q._zoomlayer,ke=E.MINZOOM,Pe=E.OFFEDGE,Te=oe.radius,be=oe.innerRadius,xe=oe.cx,Ne=oe.cy,Se=oe.cxx,Ce=oe.cyy,pe=oe.sectorInRad,de=oe.vangles,se=oe.radialAxis,we=k.clampTiny,Re=k.findXYatLength,Ee=k.findEnclosingVertexAngles,Ue=E.cornerHalfWidth,$e=E.cornerLen/2,ve=c.makeDragger(oe.layers,"path","maindrag",!1===Q.dragmode?"none":"crosshair");C.select(ve).attr("d",oe.pathSubplot()).attr("transform",m(xe,Ne)),ve.onmousemove=function(vt){f.hover(fe,vt,oe.id),fe._fullLayout._lasthover=ve,fe._fullLayout._hoversubplot=oe.id},ve.onmouseout=function(vt){fe._dragging||p.unhover(fe,vt)};var Ie,De,ze,Ge,He,Ke,et,st,mt,at={element:ve,gd:fe,subplot:oe.id,plotinfo:{id:oe.id,xaxis:oe.xaxis,yaxis:oe.yaxis},xaxes:[oe.xaxis],yaxes:[oe.yaxis]};function kt(vt,je){return Math.sqrt(vt*vt+je*je)}function St(vt,je){return kt(vt-Se,je-Ce)}function gt(vt,je){return Math.atan2(Ce-je,vt-Se)}function dt(vt,je){return[vt*Math.cos(je),vt*Math.sin(-je)]}function Ct(vt,je){if(0===vt)return oe.pathSector(2*Ue);var Ve=$e/vt,ut=je-Ve,ct=je+Ve,Tt=Math.max(0,Math.min(vt,Te)),Mt=Tt-Ue,At=Tt+Ue;return"M"+dt(Mt,ut)+"A"+[Mt,Mt]+" 0,0,0 "+dt(Mt,ct)+"L"+dt(At,ct)+"A"+[At,At]+" 0,0,1 "+dt(At,ut)+"Z"}function Ot(vt,je,Ve){if(0===vt)return oe.pathSector(2*Ue);var ut,ct,Tt=dt(vt,je),Mt=dt(vt,Ve),At=we((Tt[0]+Mt[0])/2),bt=we((Tt[1]+Mt[1])/2);if(At&&bt){var Rt=bt/At,xt=-1/Rt,_t=Re(Ue,Rt,At,bt);ut=Re($e,xt,_t[0][0],_t[0][1]),ct=Re($e,xt,_t[1][0],_t[1][1])}else{var It,Gt;bt?(It=$e,Gt=Ue):(It=Ue,Gt=$e),ut=[[At-It,bt-Gt],[At+It,bt-Gt]],ct=[[At-It,bt+Gt],[At+It,bt+Gt]]}return"M"+ut.join("L")+"L"+ct.reverse().join("L")+"Z"}function Pt(vt,je){return je=Math.max(Math.min(je,Te),be),vt<Pe?vt=0:Te-vt<Pe?vt=Te:je<Pe?je=0:Te-je<Pe&&(je=Te),Math.abs(je-vt)>ke?(vt<je?(ze=vt,Ge=je):(ze=je,Ge=vt),!0):(ze=null,Ge=null,!1)}function Ht(vt,je){je=je||"M0,0Z",st.attr("d",vt=vt||He),mt.attr("d",je),c.transitionZoombox(st,mt,Ke,et),Ke=!0;var Ve={};rt(Ve),fe.emit("plotly_relayouting",Ve)}function jt(vt,je){var Ve,ut,ct=Ie+(vt*=K),Tt=De+(je*=te),Mt=St(Ie,De),At=Math.min(St(ct,Tt),Te),bt=gt(Ie,De);Pt(Mt,At)&&(Ve=He+oe.pathSector(Ge),ze&&(Ve+=oe.pathSector(ze)),ut=Ct(ze,bt)+Ct(Ge,bt)),Ht(Ve,ut)}function nt(vt,je,Ve,ut){var ct=k.findIntersectionXY(Ve,ut,Ve,[vt-Se,Ce-je]);return kt(ct[0],ct[1])}function it(vt,je){var Ve,ut,ct=Ie+vt,Tt=De+je,Mt=gt(Ie,De),At=gt(ct,Tt),bt=Ee(Mt,de),Rt=Ee(At,de);Pt(nt(Ie,De,bt[0],bt[1]),Math.min(nt(ct,Tt,Rt[0],Rt[1]),Te))&&(Ve=He+oe.pathSector(Ge),ze&&(Ve+=oe.pathSector(ze)),ut=[Ot(ze,bt[0],bt[1]),Ot(Ge,bt[0],bt[1])].join(" ")),Ht(Ve,ut)}function Xe(){if(c.removeZoombox(fe),null!==ze&&null!==Ge){var vt={};rt(vt),c.showDoubleClickNotifier(fe),u.call("_guiRelayout",fe,vt)}}function rt(vt){var je=se._rl,Ve=(je[1]-je[0])/(1-be/Te)/Te;vt[oe.id+".radialaxis.range"]=[je[0]+(ze-be)*Ve,je[0]+(Ge-be)*Ve]}function ft(vt,je){var Ve=fe._fullLayout.clickmode;if(c.removeZoombox(fe),2===vt){var ut={};for(var ct in oe.viewInitial)ut[oe.id+"."+ct]=oe.viewInitial[ct];fe.emit("plotly_doubleclick",null),u.call("_guiRelayout",fe,ut)}Ve.indexOf("select")>-1&&1===vt&&h(je,fe,[oe.xaxis],[oe.yaxis],oe.id,at),Ve.indexOf("event")>-1&&f.click(fe,je,oe.id)}at.prepFn=function(vt,je,Ve){var ut=fe._fullLayout.dragmode,ct=ve.getBoundingClientRect();fe._fullLayout._calcInverseTransform(fe),K=fe._fullLayout._invScaleX,te=fe._fullLayout._invScaleY;var Mt=A.apply3DTransform(fe._fullLayout._invTransform)(je-ct.left,Ve-ct.top);if(Ie=Mt[0],De=Mt[1],de){var At=k.findPolygonOffset(Te,pe[0],pe[1],de);Ie+=Se+At[0],De+=Ce+At[1]}switch(ut){case"zoom":at.clickFn=ft,ue||(at.moveFn=de?it:jt,at.doneFn=Xe,ze=null,Ge=null,He=oe.pathSubplot(),Ke=!1,et=S(fe._fullLayout[oe.id].bgcolor).getLuminance(),(st=c.makeZoombox(me,et,xe,Ne,He)).attr("fill-rule","evenodd"),mt=c.makeCorners(me,xe,Ne),_(fe));break;case"select":case"lasso":v(vt,je,Ve,at,ut)}},p.init(at)},Z.updateRadialDrag=function(Q,K,te){var oe=this,ue=oe.gd,fe=oe.layers,he=oe.radius,me=oe.innerRadius,ke=oe.cx,Pe=oe.cy,Te=oe.radialAxis,be=E.radialDragBoxSize,xe=be/2;if(Te.visible){var Ne,Se,Ce,pe=W(oe.radialAxisAngle),de=Te._rl,se=de[0],we=de[1],Re=de[te],Ee=.75*(de[1]-de[0])/(1-oe.getHole(K))/he;te?(Ne=ke+(he+xe)*Math.cos(pe),Se=Pe-(he+xe)*Math.sin(pe),Ce="radialdrag"):(Ne=ke+(me-xe)*Math.cos(pe),Se=Pe-(me-xe)*Math.sin(pe),Ce="radialdrag-inner");var Ue,$e,ve,Ie=c.makeRectDragger(fe,Ce,"crosshair",-xe,-xe,be,be),De={element:Ie,gd:ue};!1===Q.dragmode&&(De.dragmode=!1),re(C.select(Ie),Te.visible&&me<he,{transform:m(Ne,Se)}),De.prepFn=function(){Ue=null,$e=null,ve=null,De.moveFn=ze,De.doneFn=Ge,_(ue)},De.clampFn=function(et,st){return Math.sqrt(et*et+st*st)<E.MINDRAG&&(et=0,st=0),[et,st]},p.init(De)}function ze(et,st){if(Ue)Ue(et,st);else{var mt=[et,-st],at=[Math.cos(pe),Math.sin(pe)],kt=Math.abs(A.dot(mt,at)/Math.sqrt(A.dot(mt,mt)));isNaN(kt)||(Ue=kt<.5?He:Ke)}var gt,St={};gt=St,null!==$e?gt[oe.id+".radialaxis.angle"]=$e:null!==ve&&(gt[oe.id+".radialaxis.range["+te+"]"]=ve),ue.emit("plotly_relayouting",St)}function Ge(){null!==$e?u.call("_guiRelayout",ue,oe.id+".radialaxis.angle",$e):null!==ve&&u.call("_guiRelayout",ue,oe.id+".radialaxis.range["+te+"]",ve)}function He(et,st){if(0!==te){$e=Math.atan2(Pe-(Se+st),Ne+et-ke),oe.vangles&&($e=ae($e,oe.vangles)),$e=H($e);var kt=m(ke,Pe)+T(-$e);fe["radial-axis"].attr("transform",kt),fe["radial-line"].select("line").attr("transform",kt);var St=oe.gd._fullLayout;oe.updateRadialAxisTitle(St,St[oe.id],$e)}}function Ke(et,st){var mt=A.dot([et,-st],[Math.cos(pe),Math.sin(pe)]);if(ve=Re-Ee*mt,Ee>0==(te?ve>se:ve<we)){var at=ue._fullLayout,kt=at[oe.id];Te.range[te]=ve,Te._rl[te]=ve,oe.updateRadialAxis(at,kt),oe.xaxis.setRange(),oe.xaxis.setScale(),oe.yaxis.setRange(),oe.yaxis.setScale();var St=!1;for(var gt in oe.traceHash){var dt=oe.traceHash[gt],Ct=A.filterVisible(dt);dt[0][0].trace._module.plot(ue,oe,Ct,kt),u.traceIs(gt,"gl")&&Ct.length&&(St=!0)}St&&(b(ue),M(ue))}else ve=null}},Z.updateAngularDrag=function(Q){var K=this,te=K.gd,oe=K.layers,ue=K.radius,fe=K.angularAxis,he=K.cx,me=K.cy,ke=K.cxx,Pe=K.cyy,Te=E.angularDragBoxSize,be=c.makeDragger(oe,"path","angulardrag",!1===Q.dragmode?"none":"move"),xe={element:be,gd:te};function Ne(De,ze){return Math.atan2(Pe+Te-ze,De-ke-Te)}!1===Q.dragmode?xe.dragmode=!1:C.select(be).attr("d",K.pathAnnulus(ue,ue+Te)).attr("transform",m(he,me)).call(x,"move");var Se,Ce,pe,de,se,we,Re=oe.frontplot.select(".scatterlayer").selectAll(".trace"),Ee=Re.selectAll(".point"),Ue=Re.selectAll(".textpoint");function $e(De,ze){var Ge=K.gd._fullLayout,He=Ge[K.id],Ke=Ne(Se+De*Q._invScaleX,Ce+ze*Q._invScaleY),et=H(Ke-we);if(de=pe+et,oe.frontplot.attr("transform",m(K.xOffset2,K.yOffset2)+T([-et,ke,Pe])),K.vangles){se=K.radialAxisAngle+et;var st=m(he,me)+T(-et),mt=m(he,me)+T(-se);oe.bg.attr("transform",st),oe["radial-grid"].attr("transform",st),oe["radial-axis"].attr("transform",mt),oe["radial-line"].select("line").attr("transform",mt),K.updateRadialAxisTitle(Ge,He,se)}else K.clipPaths.forTraces.select("path").attr("transform",m(ke,Pe)+T(et));Ee.each(function(){var Ct=C.select(this),Ot=t.getTranslate(Ct);Ct.attr("transform",m(Ot.x,Ot.y)+T([et]))}),Ue.each(function(){var Ct=C.select(this),Ot=Ct.select("text"),Pt=t.getTranslate(Ct);Ct.attr("transform",T([et,Ot.attr("x"),Ot.attr("y")])+m(Pt.x,Pt.y))}),fe.rotation=A.modHalf(de,360),K.updateAngularAxis(Ge,He),K._hasClipOnAxisFalse&&!A.isFullCircle(K.sectorInRad)&&Re.call(t.hideOutsideRangePoints,K);var at=!1;for(var kt in K.traceHash)if(u.traceIs(kt,"gl")){var St=K.traceHash[kt],gt=A.filterVisible(St);St[0][0].trace._module.plot(te,K,gt,He),gt.length&&(at=!0)}at&&(b(te),M(te));var dt={};ve(dt),te.emit("plotly_relayouting",dt)}function ve(De){De[K.id+".angularaxis.rotation"]=de,K.vangles&&(De[K.id+".radialaxis.angle"]=se)}function Ie(){Ue.select("text").attr("transform",null);var De={};ve(De),u.call("_guiRelayout",te,De)}xe.prepFn=function(De,ze,Ge){pe=Q[K.id].angularaxis.rotation;var Ke=be.getBoundingClientRect();Se=ze-Ke.left,Ce=Ge-Ke.top,te._fullLayout._calcInverseTransform(te);var et=A.apply3DTransform(Q._invTransform)(Se,Ce);we=Ne(Se=et[0],Ce=et[1]),xe.moveFn=$e,xe.doneFn=Ie,_(te)},K.vangles&&!A.isFullCircle(K.sectorInRad)&&(xe.prepFn=A.noop,x(C.select(be),null)),p.init(xe)},Z.isPtInside=function(Q){if(this.isSmith)return!0;var K=this.sectorInRad,te=this.vangles,oe=this.angularAxis.c2g(Q.theta),ue=this.radialAxis,fe=ue.c2l(Q.r);return(te?k.isPtInsidePolygon:A.isPtInsideSector)(fe,oe,ue._rl,K,te)},Z.pathArc=function(Q){var K=this.sectorInRad,te=this.vangles;return(te?k.pathPolygon:A.pathArc)(Q,K[0],K[1],te)},Z.pathSector=function(Q){var K=this.sectorInRad,te=this.vangles;return(te?k.pathPolygon:A.pathSector)(Q,K[0],K[1],te)},Z.pathAnnulus=function(Q,K){var te=this.sectorInRad,oe=this.vangles;return(oe?k.pathPolygonAnnulus:A.pathAnnulus)(Q,K,te[0],te[1],oe)},Z.pathSubplot=function(){var Q=this.innerRadius,K=this.radius;return Q?this.pathAnnulus(Q,K):this.pathSector(K)},Z.fillViewInitialKey=function(Q,K){Q in this.viewInitial||(this.viewInitial[Q]=K)}},12101:function(ie,B,e){"use strict";var C=e(71828),S=e(21994),u=C.deg2rad,A=C.rad2deg;ie.exports=function(T,m,l){switch(S(T,l),T._id){case"x":case"radialaxis":r=m._subplot,(t=T).setGeometry=function(){var n=t._rl[0],a=t._rl[1],s=r.innerRadius,c=(r.radius-s)/(a-n),p=s/c,f=n>a?function(w){return w<=0}:function(w){return w>=0};t.c2g=function(w){var v=t.c2l(w)-n;return(f(v)?v:0)+p},t.g2c=function(w){return t.l2c(w+n-p)},t.g2p=function(w){return w*c},t.c2p=function(w){return t.g2p(t.c2g(w))}};break;case"angularaxis":!function(t,o){var r=t.type;if("linear"===r){var n=t.d2c,a=t.c2d;t.d2c=function(s,c){return p=n(s),"degrees"===c?u(p):p;var p},t.c2d=function(s,c){return a((p=s,"degrees"===c?A(p):p));var p}}t.makeCalcdata=function(s,c){var p,f,w=s[c],v=s._length,h=function(d){return t.d2c(d,s.thetaunit)};if(w){if(C.isTypedArray(w)&&"linear"===r){if(v===w.length)return w;if(w.subarray)return w.subarray(0,v)}for(p=new Array(v),f=0;f<v;f++)p[f]=h(w[f])}else{var _=c+"0",x="d"+c,b=_ in s?h(s[_]):0,M=s[x]?h(s[x]):(t.period||2*Math.PI)/v;for(p=new Array(v),f=0;f<v;f++)p[f]=b+f*M}return p},t.setGeometry=function(){var s,c,p,f,w=o.sector,v=w.map(u),h={clockwise:-1,counterclockwise:1}[t.direction],_=u(t.rotation),x=function(E){return h*E+_},b=function(E){return(E-_)/h};switch(r){case"linear":c=s=C.identity,f=u,p=A,t.range=C.isFullCircle(v)?[w[0],w[0]+360]:v.map(b).map(A);break;case"category":var M=t._categories.length,d=t.period?Math.max(t.period,M):M;0===d&&(d=1),c=f=function(E){return 2*E*Math.PI/d},s=p=function(E){return E*d/Math.PI/2},t.range=[0,d]}t.c2g=function(E){return x(c(E))},t.g2c=function(E){return s(b(E))},t.t2g=function(E){return x(f(E))},t.g2t=function(E){return p(b(E))}}}(T,m)}var t,r}},39779:function(ie){"use strict";ie.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(ie){"use strict";function B(u){return u<0?-1:u>0?1:0}function e(u){var A=u[0],T=u[1];if(!isFinite(A)||!isFinite(T))return[1,0];var m=(A+1)*(A+1)+T*T;return[(A*A+T*T-1)/m,2*T/m]}function C(u,A){return[A[0]*u.radius+u.cx,-A[1]*u.radius+u.cy]}function S(u,A){return A*u.radius}ie.exports={smith:e,reactanceArc:function(u,A,T,m){var l=C(u,e([T,A])),t=l[0],o=l[1],r=C(u,e([m,A])),n=r[0],a=r[1];if(0===A)return["M"+t+","+o,"L"+n+","+a].join(" ");var s=S(u,1/Math.abs(A));return["M"+t+","+o,"A"+s+","+s+" 0 0,"+(A<0?1:0)+" "+n+","+a].join(" ")},resistanceArc:function(u,A,T,m){var l=S(u,1/(A+1)),t=C(u,e([A,T])),o=t[0],r=t[1],n=C(u,e([A,m])),a=n[0],s=n[1];if(B(T)!==B(m)){var c=C(u,e([A,0]));return["M"+o+","+r,"A"+l+","+l+" 0 0,"+(0<T?0:1)+" "+c[0]+","+c[1],"A"+l+","+l+" 0 0,"+(m<0?0:1)+a+","+s].join(" ")}return["M"+o+","+r,"A"+l+","+l+" 0 0,"+(m<T?0:1)+" "+a+","+s].join(" ")},smithTransform:C}},7504:function(ie,B,e){"use strict";var C=e(27659).AU,S=e(71828).counterRegex,u=e(77997),A=e(39779),T=A.attr,m=A.name,l=S(m),t={};t[T]={valType:"subplotid",dflt:m,editType:"calc"},ie.exports={attr:T,name:m,idRoot:m,idRegex:l,attrRegex:l,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:function(o){for(var r=o._fullLayout,n=o.calcdata,a=r._subplots[m],s=0;s<a.length;s++){var c=a[s],p=C(n,m,c),f=r[c]._subplot;f||(f=u(o,c,!0),r[c]._subplot=f),f.plot(p,r,o._promises)}},clean:function(o,r,n,a){for(var s=a._subplots[m]||[],c=0;c<s.length;c++){var p=s[c],f=a[p]._subplot;if(!r[p]&&f)for(var w in f.framework.remove(),f.clipPaths)f.clipPaths[w].remove()}},toSVG:e(93612).toSVG}},33419:function(ie,B,e){"use strict";var C=e(22399),S=e(13838),u=e(27670).Y,A=e(71828).extendFlat,T=e(30962).overrideAll,m=T({color:S.color,showline:A({},S.showline,{dflt:!0}),linecolor:S.linecolor,linewidth:S.linewidth,showgrid:A({},S.showgrid,{dflt:!0}),gridcolor:S.gridcolor,gridwidth:S.gridwidth,griddash:S.griddash},"plot","from-root"),l=T({ticklen:S.ticklen,tickwidth:A({},S.tickwidth,{dflt:2}),tickcolor:S.tickcolor,showticklabels:S.showticklabels,labelalias:S.labelalias,showtickprefix:S.showtickprefix,tickprefix:S.tickprefix,showticksuffix:S.showticksuffix,ticksuffix:S.ticksuffix,tickfont:S.tickfont,tickformat:S.tickformat,hoverformat:S.hoverformat,layer:S.layer},"plot","from-root"),t=A({visible:A({},S.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:A({},S.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},m,l),o=A({visible:A({},S.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:S.ticks,editType:"calc"},m,l);ie.exports={domain:u({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:C.background},realaxis:t,imaginaryaxis:o,editType:"calc"}},9558:function(ie,B,e){"use strict";var C,S,u,A=e(71828),T=e(7901),m=e(44467),l=e(49119),t=e(27659).NG,o=e(89426),r=e(96115),n=e(92128),a=e(21994),s=e(33419),c=e(39779),p=c.axisNames,f=(C=function(v){return v.slice().reverse().map(function(h){return-h}).concat([0]).concat(v)},S=String,u={},function(v){var h=S?S(v):v;if(h in u)return u[h];var _=C(v);return u[h]=_,_});function w(v,h,_,x){var b=_("bgcolor");x.bgColor=T.combine(b,x.paper_bgcolor);var M,d=t(x.fullData,c.name,x.id),E=x.layoutOut;function k(Z,Y){return _(M+"."+Z,Y)}for(var I=0;I<p.length;I++){A.isPlainObject(v[M=p[I]])||(v[M]={});var L=v[M],P=m.newContainer(h,M);P._id=P._name=M,P._attr=x.id+"."+M,P._traceIndices=d.map(function(Z){return Z._expandedIndex});var R=k("visible");if(P.type="linear",a(P,E),o(L,P,k,P.type),R){var z,$,N,W,H="realaxis"===M;H&&k("side"),H?k("tickvals"):k("tickvals",f(h.realaxis.tickvals||s.realaxis.tickvals.dflt));var U=x.font||{};R&&($=(z=k("color"))===L.color?z:U.color,N=U.size,W=U.family),r(L,P,k,P.type,{noTicklabelstep:!0,noAng:!H,noExp:!0,font:{color:$,size:N,family:W}}),A.coerce2(v,h,s,M+".ticklen"),A.coerce2(v,h,s,M+".tickwidth"),A.coerce2(v,h,s,M+".tickcolor",h.color),k("ticks")||(delete h[M].ticklen,delete h[M].tickwidth,delete h[M].tickcolor),n(L,P,k,{dfltColor:z,bgColor:x.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[M]}),k("layer")}k("hoverformat"),delete P.type,P._input=L}}ie.exports=function(v,h,_){l(v,h,_,{noUirevision:!0,type:c.name,attributes:s,handleDefaults:w,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:_,layoutOut:h})}},49119:function(ie,B,e){"use strict";var C=e(71828),S=e(44467),u=e(27670).c;ie.exports=function(A,T,m,l){var t,o,n=l.attributes,a=l.handleDefaults,s=l.partition||"x",c=T._subplots[l.type],p=c.length,f=p&&c[0].replace(/\d+$/,"");function w(x,b){return C.coerce(t,o,n,x,b)}for(var v=0;v<p;v++){var h=c[v];t=A[h]?A[h]:A[h]={},o=S.newContainer(T,h,f),l.noUirevision||w("uirevision",T.uirevision);var _={};_[s]=[v/p,(v+1)/p],u(o,T,w,_),l.id=h,a(t,o,w,l)}}},5386:function(ie,B,e){"use strict";function S(u){var A=u.description?" "+u.description:"",T=u.keys||[];if(T.length>0){for(var m=[],l=0;l<T.length;l++)m[l]="`"+T[l]+"`";A+="Finally, the template string has access to ",A=1===T.length?A+"variable "+m[0]:A+"variables "+m.slice(0,-1).join(", ")+" and "+m.slice(-1)+"."}return A}e(31562),B.fF=function(u,A){u=u||{},S(A=A||{});var T={valType:"string",dflt:"",editType:u.editType||"none"};return!1!==u.arrayOk&&(T.arrayOk=!0),T},B.si=function(u,A){u=u||{},S(A=A||{});var T={valType:"string",dflt:"",editType:u.editType||"calc"};return!1!==u.arrayOk&&(T.arrayOk=!0),T},B.R=function(u,A){return u=u||{},S(A=A||{}),{valType:"string",dflt:"",editType:u.editType||"arraydraw"}}},61639:function(ie,B,e){"use strict";var C=e(64380),S=e(27659).AU,u=e(71828).counterRegex,A="ternary";B.name=A;var T=B.attr="subplot";B.idRoot=A,B.idRegex=B.attrRegex=u(A),(B.attributes={})[T]={valType:"subplotid",dflt:"ternary",editType:"calc"},B.layoutAttributes=e(81367),B.supplyLayoutDefaults=e(25369),B.plot=function(m){for(var l=m._fullLayout,t=m.calcdata,o=l._subplots[A],r=0;r<o.length;r++){var n=o[r],a=S(t,A,n),s=l[n]._subplot;s||(s=new C({id:n,graphDiv:m,container:l._ternarylayer.node()},l),l[n]._subplot=s),s.plot(a,l,m._promises)}},B.clean=function(m,l,t,o){for(var r=o._subplots[A]||[],n=0;n<r.length;n++){var a=r[n],s=o[a]._subplot;!l[a]&&s&&(s.plotContainer.remove(),s.clipDef.remove(),s.clipDefRelative.remove(),s.layers["a-title"].remove(),s.layers["b-title"].remove(),s.layers["c-title"].remove())}}},81367:function(ie,B,e){"use strict";var C=e(22399),S=e(27670).Y,u=e(13838),A=e(30962).overrideAll,T=e(1426).extendFlat,m={title:{text:u.title.text,font:u.title.font},color:u.color,tickmode:u.minor.tickmode,nticks:T({},u.nticks,{dflt:6,min:1}),tick0:u.tick0,dtick:u.dtick,tickvals:u.tickvals,ticktext:u.ticktext,ticks:u.ticks,ticklen:u.ticklen,tickwidth:u.tickwidth,tickcolor:u.tickcolor,ticklabelstep:u.ticklabelstep,showticklabels:u.showticklabels,labelalias:u.labelalias,showtickprefix:u.showtickprefix,tickprefix:u.tickprefix,showticksuffix:u.showticksuffix,ticksuffix:u.ticksuffix,showexponent:u.showexponent,exponentformat:u.exponentformat,minexponent:u.minexponent,separatethousands:u.separatethousands,tickfont:u.tickfont,tickangle:u.tickangle,tickformat:u.tickformat,tickformatstops:u.tickformatstops,hoverformat:u.hoverformat,showline:T({},u.showline,{dflt:!0}),linecolor:u.linecolor,linewidth:u.linewidth,showgrid:T({},u.showgrid,{dflt:!0}),gridcolor:u.gridcolor,gridwidth:u.gridwidth,griddash:u.griddash,layer:u.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:u._deprecated.title,titlefont:u._deprecated.titlefont}},l=ie.exports=A({domain:S({name:"ternary"}),bgcolor:{valType:"color",dflt:C.background},sum:{valType:"number",dflt:1,min:0},aaxis:m,baxis:m,caxis:m},"plot","from-root");l.uirevision={valType:"any",editType:"none"},l.aaxis.uirevision=l.baxis.uirevision=l.caxis.uirevision={valType:"any",editType:"none"}},25369:function(ie,B,e){"use strict";var C=e(7901),S=e(44467),u=e(71828),A=e(49119),T=e(96115),m=e(89426),l=e(38701),t=e(26218),o=e(92128),r=e(81367),n=["aaxis","baxis","caxis"];function a(c,p,f,w){var v,h,_,x=f("bgcolor"),b=f("sum");w.bgColor=C.combine(x,w.paper_bgcolor);for(var M=0;M<n.length;M++)h=c[v=n[M]]||{},(_=S.newContainer(p,v))._name=v,s(h,_,w,p);var d=p.aaxis,E=p.baxis,k=p.caxis;d.min+E.min+k.min>=b&&(d.min=0,E.min=0,k.min=0,c.aaxis&&delete c.aaxis.min,c.baxis&&delete c.baxis.min,c.caxis&&delete c.caxis.min)}function s(c,p,f,w){var v=r[p._name];function h(E,k){return u.coerce(c,p,v,E,k)}h("uirevision",w.uirevision),p.type="linear";var _=h("color"),x=_!==v.color.dflt?_:f.font.color,b=p._name.charAt(0).toUpperCase(),M="Component "+b,d=h("title.text",M);p._hovertitle=d===M?d:b,u.coerceFont(h,"title.font",{family:f.font.family,size:u.bigFont(f.font.size),color:x}),h("min"),t(c,p,h,"linear"),m(c,p,h,"linear"),T(c,p,h,"linear"),l(c,p,h,{outerTicks:!0}),h("showticklabels")&&(u.coerceFont(h,"tickfont",{family:f.font.family,size:f.font.size,color:x}),h("tickangle"),h("tickformat")),o(c,p,h,{dfltColor:_,bgColor:f.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:v}),h("hoverformat"),h("layer")}ie.exports=function(c,p,f){A(c,p,f,{type:"ternary",attributes:r,handleDefaults:a,font:p.font,paper_bgcolor:p.paper_bgcolor})}},64380:function(ie,B,e){"use strict";var C=e(39898),S=e(84267),u=e(73972),A=e(71828),T=A.strTranslate,m=A._,l=e(7901),t=e(91424),o=e(21994),r=e(1426).extendFlat,n=e(74875),a=e(89298),s=e(28569),c=e(30211),p=e(64505),f=p.freeMode,w=p.rectMode,v=e(92998),h=e(47322).prepSelect,_=e(47322).selectOnClick,x=e(47322).clearOutline,b=e(47322).clearSelectionsCache,M=e(85555);function d(N,W){this.id=N.id,this.graphDiv=N.graphDiv,this.init(W),this.makeFramework(W),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}ie.exports=d;var E=d.prototype;E.init=function(N){this.container=N._ternarylayer,this.defs=N._defs,this.layoutId=N._uid,this.traceHash={},this.layers={}},E.plot=function(N,W){var H=this,U=W[H.id],Z=W._size;H._hasClipOnAxisFalse=!1;for(var Y=0;Y<N.length;Y++)if(!1===N[Y][0].trace.cliponaxis){H._hasClipOnAxisFalse=!0;break}H.updateLayers(U),H.adjustLayout(U,Z),n.generalUpdatePerTraceModule(H.graphDiv,H,N,U),H.layers.plotbg.select("path").call(l.fill,U.bgcolor)},E.makeFramework=function(N){var W=this,H=W.graphDiv,U=N[W.id],Z=W.clipId="clip"+W.layoutId+W.id,Y=W.clipIdRelative="clip-relative"+W.layoutId+W.id;W.clipDef=A.ensureSingleById(N._clips,"clipPath",Z,function(ae){ae.append("path").attr("d","M0,0Z")}),W.clipDefRelative=A.ensureSingleById(N._clips,"clipPath",Y,function(ae){ae.append("path").attr("d","M0,0Z")}),W.plotContainer=A.ensureSingle(W.container,"g",W.id),W.updateLayers(U),t.setClipUrl(W.layers.backplot,Z,H),t.setClipUrl(W.layers.grids,Z,H)},E.updateLayers=function(N){var W=this.layers,H=["draglayer","plotbg","backplot","grids"];"below traces"===N.aaxis.layer&&H.push("aaxis","aline"),"below traces"===N.baxis.layer&&H.push("baxis","bline"),"below traces"===N.caxis.layer&&H.push("caxis","cline"),H.push("frontplot"),"above traces"===N.aaxis.layer&&H.push("aaxis","aline"),"above traces"===N.baxis.layer&&H.push("baxis","bline"),"above traces"===N.caxis.layer&&H.push("caxis","cline");var U=this.plotContainer.selectAll("g.toplevel").data(H,String),Z=["agrid","bgrid","cgrid"];U.enter().append("g").attr("class",function(Y){return"toplevel "+Y}).each(function(Y){var ae=C.select(this);W[Y]=ae,"frontplot"===Y?ae.append("g").classed("scatterlayer",!0):"backplot"===Y?ae.append("g").classed("maplayer",!0):"plotbg"===Y?ae.append("path").attr("d","M0,0Z"):"aline"===Y||"bline"===Y||"cline"===Y?ae.append("path"):"grids"===Y&&Z.forEach(function(re){W[re]=ae.append("g").classed("grid "+re,!0)})}),U.order()};var k=Math.sqrt(4/3);E.adjustLayout=function(N,W){var H,U,Z,Y,ae,re,Q=this,K=N.domain,te=(K.x[0]+K.x[1])/2,oe=(K.y[0]+K.y[1])/2,ue=K.x[1]-K.x[0],fe=K.y[1]-K.y[0],he=ue*W.w,me=fe*W.h,ke=N.sum,Pe=N.aaxis.min,Te=N.baxis.min,be=N.caxis.min;he>k*me?Z=(Y=me)*k:Y=(Z=he)/k,ae=ue*Z/he,re=fe*Y/me,U=W.t+W.h*(1-oe)-Y/2,Q.x0=H=W.l+W.w*te-Z/2,Q.y0=U,Q.w=Z,Q.h=Y,Q.sum=ke,Q.xaxis={type:"linear",range:[Pe+2*be-ke,ke-Pe-2*Te],domain:[te-ae/2,te+ae/2],_id:"x"},o(Q.xaxis,Q.graphDiv._fullLayout),Q.xaxis.setScale(),Q.xaxis.isPtWithinRange=function(Ue){return Ue.a>=Q.aaxis.range[0]&&Ue.a<=Q.aaxis.range[1]&&Ue.b>=Q.baxis.range[1]&&Ue.b<=Q.baxis.range[0]&&Ue.c>=Q.caxis.range[1]&&Ue.c<=Q.caxis.range[0]},Q.yaxis={type:"linear",range:[Pe,ke-Te-be],domain:[oe-re/2,oe+re/2],_id:"y"},o(Q.yaxis,Q.graphDiv._fullLayout),Q.yaxis.setScale(),Q.yaxis.isPtWithinRange=function(){return!0};var xe=Q.yaxis.domain[0],Ne=Q.aaxis=r({},N.aaxis,{range:[Pe,ke-Te-be],side:"left",tickangle:(+N.aaxis.tickangle||0)-30,domain:[xe,xe+re*k],anchor:"free",position:0,_id:"y",_length:Z});o(Ne,Q.graphDiv._fullLayout),Ne.setScale();var Se=Q.baxis=r({},N.baxis,{range:[ke-Pe-be,Te],side:"bottom",domain:Q.xaxis.domain,anchor:"free",position:0,_id:"x",_length:Z});o(Se,Q.graphDiv._fullLayout),Se.setScale();var Ce=Q.caxis=r({},N.caxis,{range:[ke-Pe-Te,be],side:"right",tickangle:(+N.caxis.tickangle||0)+30,domain:[xe,xe+re*k],anchor:"free",position:0,_id:"y",_length:Z});o(Ce,Q.graphDiv._fullLayout),Ce.setScale();var pe="M"+H+","+(U+Y)+"h"+Z+"l-"+Z/2+",-"+Y+"Z";Q.clipDef.select("path").attr("d",pe),Q.layers.plotbg.select("path").attr("d",pe);var de="M0,"+Y+"h"+Z+"l-"+Z/2+",-"+Y+"Z";Q.clipDefRelative.select("path").attr("d",de);var se=T(H,U);Q.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",se),Q.clipDefRelative.select("path").attr("transform",null);var we=T(H-Se._offset,U+Y);Q.layers.baxis.attr("transform",we),Q.layers.bgrid.attr("transform",we);var Re=T(H+Z/2,U)+"rotate(30)"+T(0,-Ne._offset);Q.layers.aaxis.attr("transform",Re),Q.layers.agrid.attr("transform",Re);var Ee=T(H+Z/2,U)+"rotate(-30)"+T(0,-Ce._offset);Q.layers.caxis.attr("transform",Ee),Q.layers.cgrid.attr("transform",Ee),Q.drawAxes(!0),Q.layers.aline.select("path").attr("d",Ne.showline?"M"+H+","+(U+Y)+"l"+Z/2+",-"+Y:"M0,0").call(l.stroke,Ne.linecolor||"#000").style("stroke-width",(Ne.linewidth||0)+"px"),Q.layers.bline.select("path").attr("d",Se.showline?"M"+H+","+(U+Y)+"h"+Z:"M0,0").call(l.stroke,Se.linecolor||"#000").style("stroke-width",(Se.linewidth||0)+"px"),Q.layers.cline.select("path").attr("d",Ce.showline?"M"+(H+Z/2)+","+U+"l"+Z/2+","+Y:"M0,0").call(l.stroke,Ce.linecolor||"#000").style("stroke-width",(Ce.linewidth||0)+"px"),Q.graphDiv._context.staticPlot||Q.initInteractions(),t.setClipUrl(Q.layers.frontplot,Q._hasClipOnAxisFalse?null:Q.clipId,Q.graphDiv)},E.drawAxes=function(N){var W=this,H=W.graphDiv,U=W.id.substr(7)+"title",Z=W.layers,Y=W.aaxis,ae=W.baxis,re=W.caxis;if(W.drawAx(Y),W.drawAx(ae),W.drawAx(re),N){var Q=Math.max(Y.showticklabels?Y.tickfont.size/2:0,(re.showticklabels?.75*re.tickfont.size:0)+("outside"===re.ticks?.87*re.ticklen:0)),K=(ae.showticklabels?ae.tickfont.size:0)+("outside"===ae.ticks?ae.ticklen:0)+3;Z["a-title"]=v.draw(H,"a"+U,{propContainer:Y,propName:W.id+".aaxis.title",placeholder:m(H,"Click to enter Component A title"),attributes:{x:W.x0+W.w/2,y:W.y0-Y.title.font.size/3-Q,"text-anchor":"middle"}}),Z["b-title"]=v.draw(H,"b"+U,{propContainer:ae,propName:W.id+".baxis.title",placeholder:m(H,"Click to enter Component B title"),attributes:{x:W.x0-K,y:W.y0+W.h+.83*ae.title.font.size+K,"text-anchor":"middle"}}),Z["c-title"]=v.draw(H,"c"+U,{propContainer:re,propName:W.id+".caxis.title",placeholder:m(H,"Click to enter Component C title"),attributes:{x:W.x0+W.w+K,y:W.y0+W.h+.83*re.title.font.size+K,"text-anchor":"middle"}})}},E.drawAx=function(N){var W,H=this,U=H.graphDiv,Z=N._name,Y=Z.charAt(0),ae=N._id,re=H.layers[Z],Q=Y+"tickLayout",K=(W=N).ticks+String(W.ticklen)+String(W.showticklabels);H[Q]!==K&&(re.selectAll("."+ae+"tick").remove(),H[Q]=K),N.setScale();var te=a.calcTicks(N),oe=a.clipEnds(N,te),ue=a.makeTransTickFn(N),fe=a.getTickSigns(N)[2],he=A.deg2rad(30),me=fe*(N.linewidth||1)/2,ke=fe*N.ticklen,Pe=H.w,Te=H.h,be="b"===Y?"M0,"+me+"l"+Math.sin(he)*ke+","+Math.cos(he)*ke:"M"+me+",0l"+Math.cos(he)*ke+","+-Math.sin(he)*ke,xe={a:"M0,0l"+Te+",-"+Pe/2,b:"M0,0l-"+Pe/2+",-"+Te,c:"M0,0l-"+Te+","+Pe/2}[Y];a.drawTicks(U,N,{vals:"inside"===N.ticks?oe:te,layer:re,path:be,transFn:ue,crisp:!1}),a.drawGrid(U,N,{vals:oe,layer:H.layers[Y+"grid"],path:xe,transFn:ue,crisp:!1}),a.drawLabels(U,N,{vals:te,layer:re,transFn:ue,labelFns:a.makeLabelFns(N,0,30)})};var I=M.MINZOOM/2+.87,L="m-0.87,.5h"+I+"v3h-"+(I+5.2)+"l"+(I/2+2.6)+",-"+(.87*I+4.5)+"l2.6,1.5l-"+I/2+","+.87*I+"Z",P="m0.87,.5h-"+I+"v3h"+(I+5.2)+"l-"+(I/2+2.6)+",-"+(.87*I+4.5)+"l-2.6,1.5l"+I/2+","+.87*I+"Z",R="m0,1l"+I/2+","+.87*I+"l2.6,-1.5l-"+(I/2+2.6)+",-"+(.87*I+4.5)+"l-"+(I/2+2.6)+","+(.87*I+4.5)+"l2.6,1.5l"+I/2+",-"+.87*I+"Z",z=!0;function $(N){C.select(N).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}E.clearOutline=function(){b(this.dragOptions),x(this.dragOptions.gd)},E.initInteractions=function(){var N,W,H,U,Z,Y,ae,re,Q,K,te,oe,ue=this,fe=ue.layers.plotbg.select("path").node(),he=ue.graphDiv,me=he._fullLayout._zoomlayer;function ke(de){var se={};return se[ue.id+".aaxis.min"]=de.a,se[ue.id+".baxis.min"]=de.b,se[ue.id+".caxis.min"]=de.c,se}function Pe(de,se){var we=he._fullLayout.clickmode;$(he),2===de&&(he.emit("plotly_doubleclick",null),u.call("_guiRelayout",he,ke({a:0,b:0,c:0}))),we.indexOf("select")>-1&&1===de&&_(se,he,[ue.xaxis],[ue.yaxis],ue.id,ue.dragOptions),we.indexOf("event")>-1&&c.click(he,se,ue.id)}function Te(de,se){return 1-se/ue.h}function be(de,se){return 1-(de+(ue.h-se)/Math.sqrt(3))/ue.w}function xe(de,se){return(de-(ue.h-se)/Math.sqrt(3))/ue.w}function Ne(de,se){var we=H+de*N,Re=U+se*W,Ee=Math.max(0,Math.min(1,Te(0,U),Te(0,Re))),Ue=Math.max(0,Math.min(1,be(H,U),be(we,Re))),$e=Math.max(0,Math.min(1,xe(H,U),xe(we,Re))),ve=(Ee/2+$e)*ue.w,Ie=(1-Ee/2-Ue)*ue.w,De=(ve+Ie)/2,ze=Ie-ve,Ge=(1-Ee)*ue.h,He=Ge-ze/k;ze<M.MINZOOM?(ae=Z,te.attr("d",Q),oe.attr("d","M0,0Z")):(ae={a:Z.a+Ee*Y,b:Z.b+Ue*Y,c:Z.c+$e*Y},te.attr("d",Q+"M"+ve+","+Ge+"H"+Ie+"L"+De+","+He+"L"+ve+","+Ge+"Z"),oe.attr("d","M"+H+","+U+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+ve+","+Ge+L+"M"+Ie+","+Ge+P+"M"+De+","+He+R)),K||(te.transition().style("fill",re>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),oe.transition().style("opacity",1).duration(200),K=!0),he.emit("plotly_relayouting",ke(ae))}function Se(){$(he),ae!==Z&&(u.call("_guiRelayout",he,ke(ae)),z&&he.data&&he._context.showTips&&(A.notifier(m(he,"Double-click to zoom back out"),"long"),z=!1))}function Ce(de,se){var we=de/ue.xaxis._m,Re=se/ue.yaxis._m,Ee=[(ae={a:Z.a-Re,b:Z.b+(we+Re)/2,c:Z.c-(we-Re)/2}).a,ae.b,ae.c].sort(A.sorterAsc),Ue=Ee.indexOf(ae.a),$e=Ee.indexOf(ae.b),ve=Ee.indexOf(ae.c);Ee[0]<0&&(Ee[1]+Ee[0]/2<0?(Ee[2]+=Ee[0]+Ee[1],Ee[0]=Ee[1]=0):(Ee[2]+=Ee[0]/2,Ee[1]+=Ee[0]/2,Ee[0]=0),se=(Z.a-(ae={a:Ee[Ue],b:Ee[$e],c:Ee[ve]}).a)*ue.yaxis._m,de=(Z.c-ae.c-Z.b+ae.b)*ue.xaxis._m);var Ie=T(ue.x0+de,ue.y0+se);ue.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ie);var De=T(-de,-se);ue.clipDefRelative.select("path").attr("transform",De),ue.aaxis.range=[ae.a,ue.sum-ae.b-ae.c],ue.baxis.range=[ue.sum-ae.a-ae.c,ae.b],ue.caxis.range=[ue.sum-ae.a-ae.b,ae.c],ue.drawAxes(!1),ue._hasClipOnAxisFalse&&ue.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,ue),he.emit("plotly_relayouting",ke(ae))}function pe(){u.call("_guiRelayout",he,ke(ae))}this.dragOptions={element:fe,gd:he,plotinfo:{id:ue.id,domain:he._fullLayout[ue.id].domain,xaxis:ue.xaxis,yaxis:ue.yaxis},subplot:ue.id,prepFn:function(de,se,we){ue.dragOptions.xaxes=[ue.xaxis],ue.dragOptions.yaxes=[ue.yaxis],N=he._fullLayout._invScaleX,W=he._fullLayout._invScaleY;var Re=ue.dragOptions.dragmode=he._fullLayout.dragmode;ue.dragOptions.minDrag=f(Re)?1:void 0,"zoom"===Re?(ue.dragOptions.moveFn=Ne,ue.dragOptions.clickFn=Pe,ue.dragOptions.doneFn=Se,function(Ee,Ue,$e){var ve=fe.getBoundingClientRect();H=Ue-ve.left,U=$e-ve.top,he._fullLayout._calcInverseTransform(he);var De=A.apply3DTransform(he._fullLayout._invTransform)(H,U);H=De[0],U=De[1],ae=Z={a:ue.aaxis.range[0],b:ue.baxis.range[1],c:ue.caxis.range[1]},Y=ue.aaxis.range[1]-Z.a,re=S(ue.graphDiv._fullLayout[ue.id].bgcolor).getLuminance(),Q="M0,"+ue.h+"L"+ue.w/2+", 0L"+ue.w+","+ue.h+"Z",K=!1,te=me.append("path").attr("class","zoombox").attr("transform",T(ue.x0,ue.y0)).style({fill:re>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",Q),oe=me.append("path").attr("class","zoombox-corners").attr("transform",T(ue.x0,ue.y0)).style({fill:l.background,stroke:l.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),ue.clearOutline(he)}(0,se,we)):"pan"===Re?(ue.dragOptions.moveFn=Ce,ue.dragOptions.clickFn=Pe,ue.dragOptions.doneFn=pe,ae=Z={a:ue.aaxis.range[0],b:ue.baxis.range[1],c:ue.caxis.range[1]},ue.clearOutline(he)):(w(Re)||f(Re))&&h(de,se,we,ue.dragOptions,Re)}},fe.onmousemove=function(de){c.hover(he,de,ue.id),he._fullLayout._lasthover=fe,he._fullLayout._hoversubplot=ue.id},fe.onmouseout=function(de){he._dragging||s.unhover(he,de)},s.init(this.dragOptions)}},73972:function(ie,B,e){"use strict";var C=e(47769),S=e(64213),u=e(75138),A=e(41965),T=e(24401).addStyleRule,m=e(1426),l=e(9012),t=e(10820),o=m.extendFlat,r=m.extendDeepAll;function n(_){var x=_.name,b=_.categories,M=_.meta;if(B.modules[x])C.log("Type "+x+" already registered");else{B.subplotsRegistry[_.basePlotModule.name]||function(z){var $=z.name;if(B.subplotsRegistry[$])C.log("Plot type "+$+" already registered.");else for(var N in p(z),B.subplotsRegistry[$]=z,B.componentsRegistry)v(N,z.name)}(_.basePlotModule);for(var d={},E=0;E<b.length;E++)d[b[E]]=!0,B.allCategories[b[E]]=!0;for(var k in B.modules[x]={_module:_,categories:d},M&&Object.keys(M).length&&(B.modules[x].meta=M),B.allTypes.push(x),B.componentsRegistry)f(k,x);_.layoutAttributes&&o(B.traceLayoutAttributes,_.layoutAttributes);var I=_.basePlotModule,L=I.name;if("mapbox"===L){var P=I.constants.styleRules;for(var R in P)T(".js-plotly-plot .plotly .mapboxgl-"+R,P[R])}"geo"!==L&&"mapbox"!==L||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function a(_){if("string"!=typeof _.name)throw new Error("Component module *name* must be a string.");var x=_.name;for(var b in B.componentsRegistry[x]=_,_.layoutAttributes&&(_.layoutAttributes._isLinkedToArray&&u(B.layoutArrayContainers,x),p(_)),B.modules)f(x,b);for(var M in B.subplotsRegistry)v(x,M);for(var d in B.transformsRegistry)w(x,d);_.schema&&_.schema.layout&&r(t,_.schema.layout)}function s(_){if("string"!=typeof _.name)throw new Error("Transform module *name* must be a string.");var x="Transform module "+_.name,b="function"==typeof _.transform,M="function"==typeof _.calcTransform;if(!b&&!M)throw new Error(x+" is missing a *transform* or *calcTransform* method.");for(var d in b&&M&&C.log([x+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),A(_.attributes)||C.log(x+" registered without an *attributes* object."),"function"!=typeof _.supplyDefaults&&C.log(x+" registered without a *supplyDefaults* method."),B.transformsRegistry[_.name]=_,B.componentsRegistry)w(d,_.name)}function c(_){var x=_.name,b=x.split("-")[0],M=_.dictionary,d=_.format,E=M&&Object.keys(M).length,k=d&&Object.keys(d).length,I=B.localeRegistry,L=I[x];if(L||(I[x]=L={}),b!==x){var P=I[b];P||(I[b]=P={}),E&&P.dictionary===L.dictionary&&(P.dictionary=M),k&&P.format===L.format&&(P.format=d)}E&&(L.dictionary=M),k&&(L.format=d)}function p(_){if(_.layoutAttributes){var x=_.layoutAttributes._arrayAttrRegexps;if(x)for(var b=0;b<x.length;b++)u(B.layoutArrayRegexes,x[b])}}function f(_,x){var b=B.componentsRegistry[_].schema;if(b&&b.traces){var M=b.traces[x];M&&r(B.modules[x]._module.attributes,M)}}function w(_,x){var b=B.componentsRegistry[_].schema;if(b&&b.transforms){var M=b.transforms[x];M&&r(B.transformsRegistry[x].attributes,M)}}function v(_,x){var b=B.componentsRegistry[_].schema;if(b&&b.subplots){var M=B.subplotsRegistry[x],d=M.layoutAttributes,E="subplot"===M.attr?M.name:M.attr;Array.isArray(E)&&(E=E[0]);var k=b.subplots[E];d&&k&&r(d,k)}}function h(_){return"object"==typeof _&&(_=_.type),_}B.modules={},B.allCategories={},B.allTypes=[],B.subplotsRegistry={},B.transformsRegistry={},B.componentsRegistry={},B.layoutArrayContainers=[],B.layoutArrayRegexes=[],B.traceLayoutAttributes={},B.localeRegistry={},B.apiMethodRegistry={},B.collectableSubplotTypes=null,B.register=function(_){if(B.collectableSubplotTypes=null,!_)throw new Error("No argument passed to Plotly.register.");_&&!Array.isArray(_)&&(_=[_]);for(var x=0;x<_.length;x++){var b=_[x];if(!b)throw new Error("Invalid module was attempted to be registered!");switch(b.moduleType){case"trace":n(b);break;case"transform":s(b);break;case"component":a(b);break;case"locale":c(b);break;case"apiMethod":B.apiMethodRegistry[b.name]=b.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},B.getModule=function(_){var x=B.modules[h(_)];return!!x&&x._module},B.traceIs=function(_,x){if("various"===(_=h(_)))return!1;var b=B.modules[_];return b||(_&&C.log("Unrecognized trace type "+_+"."),b=B.modules[l.type.dflt]),!!b.categories[x]},B.getTransformIndices=function(_,x){for(var b=[],M=_.transforms||[],d=0;d<M.length;d++)M[d].type===x&&b.push(d);return b},B.hasTransform=function(_,x){for(var b=_.transforms||[],M=0;M<b.length;M++)if(b[M].type===x)return!0;return!1},B.getComponentMethod=function(_,x){var b=B.componentsRegistry[_];return b&&b[x]||S},B.call=function(){var _=arguments[0],x=[].slice.call(arguments,1);return B.apiMethodRegistry[_].apply(null,x)}},61914:function(ie,B,e){"use strict";var C=e(73972),S=e(71828),u=S.extendFlat,A=S.extendDeep;function T(m){var l;switch(m){case"themes__thumb":l={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":l={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:l={}}return l}ie.exports=function(m,l){var t,n=m.layout,a=A([],m.data),s=A({},n,T(l.tileClass)),c=m._context||{};if(l.width&&(s.width=l.width),l.height&&(s.height=l.height),"thumbnail"===l.tileClass||"themes__thumb"===l.tileClass){s.annotations=[];var p=Object.keys(s);for(t=0;t<p.length;t++)["xaxis","yaxis","zaxis"].indexOf(p[t].slice(0,5))>-1&&(s[p[t]].title={text:""});for(t=0;t<a.length;t++){var f=a[t];f.showscale=!1,f.marker&&(f.marker.showscale=!1),C.traceIs(f,"pie-like")&&(f.textposition="none")}}if(Array.isArray(l.annotations))for(t=0;t<l.annotations.length;t++)s.annotations.push(l.annotations[t]);var w=Object.keys(s).filter(function(b){return b.match(/^scene\d*$/)});if(w.length){var v={};for("thumbnail"===l.tileClass&&(v={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<w.length;t++){var h=s[w[t]];h.xaxis||(h.xaxis={}),h.yaxis||(h.yaxis={}),h.zaxis||(h.zaxis={}),u(h.xaxis,v),u(h.yaxis,v),u(h.zaxis,v),h._scene=null}}var _=document.createElement("div");l.tileClass&&(_.className=l.tileClass);var x={gd:_,td:_,layout:s,data:a,config:{staticPlot:void 0===l.staticPlot||l.staticPlot,plotGlPixelRatio:void 0===l.plotGlPixelRatio?2:l.plotGlPixelRatio,displaylogo:l.displaylogo||!1,showLink:l.showLink||!1,showTips:l.showTips||!1,mapboxAccessToken:c.mapboxAccessToken}};return"transparent"!==l.setBackground&&(x.config.setBackground=l.setBackground||"opaque"),x.gd.defaultLayout=T(l.tileClass),x}},7239:function(ie,B,e){"use strict";var C=e(71828),S=e(403),u=e(22435),A=e(25095);ie.exports=function(T,m){var l;return C.isPlainObject(T)||(l=C.getGraphDiv(T)),(m=m||{}).format=m.format||"png",m.width=m.width||null,m.height=m.height||null,m.imageDataOnly=!0,new Promise(function(t,o){l&&l._snapshotInProgress&&o(new Error("Snapshotting already in progress.")),C.isIE()&&"svg"!==m.format&&o(new Error(A.MSG_IE_BAD_FORMAT)),l&&(l._snapshotInProgress=!0);var r=S(T,m),n=m.filename||T.fn||"newplot";n+="."+m.format.replace("-","."),r.then(function(a){return l&&(l._snapshotInProgress=!1),u(a,n,m.format)}).then(function(a){t(a)}).catch(function(a){l&&(l._snapshotInProgress=!1),o(a)})})}},22435:function(ie,B,e){"use strict";var C=e(71828),S=e(25095);ie.exports=function(u,A,T){var m=document.createElement("a"),l="download"in m;return new Promise(function(t,o){var r,n;return C.isIE()?(r=S.createBlob(u,"svg"),window.navigator.msSaveBlob(r,A),r=null,t(A)):l?(r=S.createBlob(u,T),n=S.createObjectURL(r),m.href=n,m.download=A,document.body.appendChild(m),m.click(),document.body.removeChild(m),S.revokeObjectURL(n),r=null,t(A)):C.isSafari()?(S.octetStream(("svg"===T?",":";base64,")+encodeURIComponent(u)),t(A)):void o(new Error("download error"))})}},25095:function(ie,B,e){"use strict";var C=e(73972);B.getDelay=function(u){return u._has&&(u._has("gl3d")||u._has("gl2d")||u._has("mapbox"))?500:0},B.getRedrawFunc=function(u){return function(){C.getComponentMethod("colorbar","draw")(u)}},B.encodeSVG=function(u){return"data:image/svg+xml,"+encodeURIComponent(u)},B.encodeJSON=function(u){return"data:application/json,"+encodeURIComponent(u)};var S=window.URL||window.webkitURL;B.createObjectURL=function(u){return S.createObjectURL(u)},B.revokeObjectURL=function(u){return S.revokeObjectURL(u)},B.createBlob=function(u,A){if("svg"===A)return new window.Blob([u],{type:"image/svg+xml;charset=utf-8"});if("full-json"===A)return new window.Blob([u],{type:"application/json;charset=utf-8"});var T=function(m){for(var l=m.length,t=new ArrayBuffer(l),o=new Uint8Array(t),r=0;r<l;r++)o[r]=m.charCodeAt(r);return t}(window.atob(u));return new window.Blob([T],{type:"image/"+A})},B.octetStream=function(u){document.location.href="data:application/octet-stream"+u},B.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,B.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(ie,B,e){"use strict";var C=e(25095),S={getDelay:C.getDelay,getRedrawFunc:C.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};ie.exports=S},70942:function(ie,B,e){"use strict";var C=e(71828),S=e(15398).EventEmitter,u=e(25095);ie.exports=function(A){var T=A.emitter||new S,m=new Promise(function(l,t){var o=window.Image,r=A.svg,n=A.format||"png";if(C.isIE()&&"svg"!==n){var a=new Error(u.MSG_IE_BAD_FORMAT);return t(a),A.promise?m:T.emit("error",a)}var s,c,p=A.canvas,f=A.scale||1,h=f*(A.width||300),_=f*(A.height||150),x=p.getContext("2d",{willReadFrequently:!0}),b=new o;"svg"===n||C.isSafari()?c=u.encodeSVG(r):(s=u.createBlob(r,"svg"),c=u.createObjectURL(s)),p.width=h,p.height=_,b.onload=function(){var M;switch(s=null,u.revokeObjectURL(c),"svg"!==n&&x.drawImage(b,0,0,h,_),n){case"jpeg":M=p.toDataURL("image/jpeg");break;case"png":M=p.toDataURL("image/png");break;case"webp":M=p.toDataURL("image/webp");break;case"svg":M=c;break;default:var d="Image format is not jpeg, png, svg or webp.";if(t(new Error(d)),!A.promise)return T.emit("error",d)}l(M),A.promise||T.emit("success",M)},b.onerror=function(M){if(s=null,u.revokeObjectURL(c),t(M),!A.promise)return T.emit("error",M)},b.src=c});return A.promise?m:T}},56395:function(ie,B,e){"use strict";var C=e(15398).EventEmitter,S=e(73972),u=e(71828),A=e(25095),T=e(61914),m=e(5900),l=e(70942);ie.exports=function(t,o){var r=new C,n=T(t,{format:"png"}),a=n.gd;a.style.position="absolute",a.style.left="-5000px",document.body.appendChild(a);var s=A.getRedrawFunc(a);return S.call("_doPlot",a,n.data,n.layout,n.config).then(s).then(function(){var c=A.getDelay(a._fullLayout);setTimeout(function(){var p=m(a),f=document.createElement("canvas");f.id=u.randstr(),(r=l({format:o.format,width:a._fullLayout.width,height:a._fullLayout.height,canvas:f,emitter:r,svg:p})).clean=function(){a&&document.body.removeChild(a)}},c)}).catch(function(c){r.emit("error",c)}),r}},5900:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(91424),A=e(7901),T=e(77922),m=/"/g,l="TOBESTRIPPED",t=new RegExp('("'+l+")|("+l+'")',"g");ie.exports=function(o,r,n){var a,s=o._fullLayout,c=s._paper,p=s._toppaper,f=s.width,w=s.height;c.insert("rect",":first-child").call(u.setRect,0,0,f,w).call(A.fill,s.paper_bgcolor);var v=s._basePlotModules||[];for(a=0;a<v.length;a++){var h=v[a];h.toSVG&&h.toSVG(o)}if(p){var _=p.node().childNodes,x=Array.prototype.slice.call(_);for(a=0;a<x.length;a++){var b=x[a];b.childNodes.length&&c.node().appendChild(b)}}s._draggers&&s._draggers.remove(),c.node().style.background="",c.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var d=C.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){d.style({visibility:null,display:null});var E=this.style.fontFamily;E&&-1!==E.indexOf('"')&&d.style("font-family",E.replace(m,l))}else d.remove()}),c.selectAll(".gradient_filled,.pattern_filled").each(function(){var d=C.select(this),E=this.style.fill;E&&-1!==E.indexOf("url(")&&d.style("fill",E.replace(m,l));var k=this.style.stroke;k&&-1!==k.indexOf("url(")&&d.style("stroke",k.replace(m,l))}),"pdf"!==r&&"eps"!==r||c.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),c.node().setAttributeNS(T.xmlns,"xmlns",T.svg),c.node().setAttributeNS(T.xmlns,"xmlns:xlink",T.xlink),"svg"===r&&n&&(c.attr("width",n*f),c.attr("height",n*w),c.attr("viewBox","0 0 "+f+" "+w));var d,E,k,M=(new window.XMLSerializer).serializeToString(c.node());return M=(M=(d=M,E=C.select("body").append("div").style({display:"none"}).html(""),k=d.replace(/(&[^;]*;)/gi,function(I){return"&lt;"===I?"&#60;":"&rt;"===I?"&#62;":-1!==I.indexOf("<")||-1!==I.indexOf(">")?"":E.html(I).text()}),E.remove(),M=k).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(t,"'"),S.isIE()&&(M=(M=(M=M.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),M}},75341:function(ie,B,e){"use strict";var C=e(71828);ie.exports=function(S,u){for(var A=0;A<S.length;A++)S[A].i=A;C.mergeArray(u.text,S,"tx"),C.mergeArray(u.hovertext,S,"htx");var T=u.marker;if(T){C.mergeArray(T.opacity,S,"mo",!0),C.mergeArray(T.color,S,"mc");var m=T.line;m&&(C.mergeArray(m.color,S,"mlc"),C.mergeArrayCastPositive(m.width,S,"mlw"))}}},1486:function(ie,B,e){"use strict";var C=e(82196),S=e(12663).axisHoverFormat,u=e(5386).fF,A=e(5386).si,T=e(50693),m=e(41940),l=e(97313),t=e(79952).u,o=e(1426).extendFlat,r=m({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=o({},C.marker.line.width,{dflt:0}),a=o({width:n,editType:"calc"},T("marker.line")),s=o({line:a,editType:"calc"},T("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});ie.exports={x:C.x,x0:C.x0,dx:C.dx,y:C.y,y0:C.y0,dy:C.dy,xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),text:C.text,texttemplate:A({editType:"plot"},{keys:l.eventDataKeys}),hovertext:C.hovertext,hovertemplate:u({},{keys:l.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:o({},r,{}),insidetextfont:o({},r,{}),outsidetextfont:o({},r,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:o({},C.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:s,offsetgroup:C.offsetgroup,alignmentgroup:C.alignmentgroup,selected:{marker:{opacity:C.selected.marker.opacity,color:C.selected.marker.color,editType:"style"},textfont:C.selected.textfont,editType:"style"},unselected:{marker:{opacity:C.unselected.marker.opacity,color:C.unselected.marker.color,editType:"style"},textfont:C.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(ie,B,e){"use strict";var C=e(89298),S=e(42973),u=e(52075).hasColorscale,A=e(78803),T=e(75341),m=e(66279);ie.exports=function(l,t){var o,r,n,a,s,c,p=C.getFromId(l,t.xaxis||"x"),f=C.getFromId(l,t.yaxis||"y"),w={msUTC:!(!t.base&&0!==t.base)};"h"===t.orientation?(o=p.makeCalcdata(t,"x",w),n=f.makeCalcdata(t,"y"),a=S(t,f,"y",n),s=!!t.yperiodalignment,c="y"):(o=f.makeCalcdata(t,"y",w),n=p.makeCalcdata(t,"x"),a=S(t,p,"x",n),s=!!t.xperiodalignment,c="x"),r=a.vals;for(var v=Math.min(r.length,o.length),h=new Array(v),_=0;_<v;_++)h[_]={p:r[_],s:o[_]},s&&(h[_].orig_p=n[_],h[_][c+"End"]=a.ends[_],h[_][c+"Start"]=a.starts[_]),t.ids&&(h[_].id=String(t.ids[_]));return u(t,"marker")&&A(l,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),u(t,"marker.line")&&A(l,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),T(h,t),m(h,t),h}},97313:function(ie){"use strict";ie.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(ie,B,e){"use strict";var C=e(92770),S=e(71828).isArrayOrTypedArray,u=e(50606).BADNUM,A=e(73972),T=e(89298),m=e(99082).getAxisGroup,l=e(61546);function t(v,h,_,x,b){if(x.length){var M,d,E,k;switch(function(I,L){var P,R;for(P=0;P<L.length;P++){var z,$=L[P],N=$[0].trace,W="funnel"===N.type?N._base:N.base,H="h"===N.orientation?N.xcalendar:N.ycalendar,U="category"===I.type||"multicategory"===I.type?function(){return null}:I.d2c;if(S(W)){for(R=0;R<Math.min(W.length,$.length);R++)z=U(W[R],0,H),C(z)?($[R].b=+z,$[R].hasB=1):$[R].b=0;for(;R<$.length;R++)$[R].b=0}else{z=U(W,0,H);var Z=C(z);for(z=Z?z:0,R=0;R<$.length;R++)$[R].b=z,Z&&($[R].hasB=1)}}}(_,x),b.mode){case"overlay":o(h,_,x,b);break;case"group":for(M=[],d=[],E=0;E<x.length;E++)void 0===(k=x[E])[0].trace.offset?d.push(k):M.push(k);d.length&&(I=v,P=_,$=new l(d,{posAxis:L=h,sepNegVal:!1,overlapNoMerge:!(z=b).norm}),function(N,W,H,U){for(var Z=N._fullLayout,re=H.minDiff,Q=H.traces,K=Q.length,te=H.positions.length!==H.distinctPositions.length,oe=re*(1-U.gap),ue=m(Z,W._id)+Q[0][0].trace.orientation,fe=Z._alignmentOpts[ue]||{},he=0;he<K;he++){var me,ke,Pe=Q[he],Te=Pe[0].trace,xe=Object.keys((fe[Te.alignmentgroup]||{}).offsetGroups||{}).length,Ne=(me=xe?oe/xe:te?oe/K:oe)*(1-(U.groupgap||0));ke=xe?((2*Te._offsetIndex+1-xe)*me-Ne)/2:te?((2*he+1-K)*me-Ne)/2:-Ne/2;var Se=Pe[0].t;Se.barwidth=Ne,Se.poffset=ke,Se.bargroupwidth=oe,Se.bardelta=re}H.binWidth=Q[0][0].t.barwidth/100,n(H),a(W,H),s(W,H,te)}(I,L,$,z),function(N,W){for(var H=N.traces,U=0;U<H.length;U++){var Z=H[U];if(void 0===Z[0].trace.base)for(var Y=new l([Z],{posAxis:W,sepNegVal:!0,overlapNoMerge:!0}),ae=0;ae<Z.length;ae++){var re=Z[ae];if(re.p!==u){var Q=Y.put(re.p,re.b+re.s);Q&&(re.b=Q)}}}}($,L),z.norm?(p($),f(P,$,z)):c(P,$)),M.length&&o(h,_,M,b);break;case"stack":case"relative":for(M=[],d=[],E=0;E<x.length;E++)void 0===(k=x[E])[0].trace.base?d.push(k):M.push(k);d.length&&function(I,L,P,R,z){var $=new l(R,{posAxis:L,sepNegVal:"relative"===z.mode,overlapNoMerge:!(z.norm||"stack"===z.mode||"relative"===z.mode)});r(L,$,z),function(Z,Y,ae){var re,Q,K,te,oe,ue,fe=w(Z),he=Y.traces;for(te=0;te<he.length;te++)if("funnel"===(Q=(re=he[te])[0].trace).type)for(oe=0;oe<re.length;oe++)(ue=re[oe]).s!==u&&Y.put(ue.p,-.5*ue.s);for(te=0;te<he.length;te++){K="funnel"===(Q=(re=he[te])[0].trace).type;var me=[];for(oe=0;oe<re.length;oe++)if((ue=re[oe]).s!==u){var ke,Pe=Y.put(ue.p,ke=K?ue.s:ue.s+ue.b),Te=Pe+ke;ue.b=Pe,ue[fe]=Te,ae.norm||(me.push(Te),ue.hasB&&me.push(Pe))}ae.norm||(Q._extremes[Z._id]=T.findExtremes(Z,me,{tozero:!0,padded:!0}))}}(P,$,z);for(var N=0;N<R.length;N++)for(var W=R[N],H=0;H<W.length;H++){var U=W[H];U.s!==u&&U.b+U.s===$.get(U.p,U.s)&&(U._outmost=!0)}z.norm&&f(P,$,z)}(0,h,_,d,b),M.length&&o(h,_,M,b)}!function(I,L){var P,R,z,$=w(L),N={},W=1/0,H=-1/0;for(P=0;P<I.length;P++)for(z=I[P],R=0;R<z.length;R++){var U=z[R].p;C(U)&&(W=Math.min(W,U),H=Math.max(H,U))}var Z=1e4/(H-W),Y=N.round=function(ue){return String(Math.round(Z*(ue-W)))};for(P=0;P<I.length;P++){(z=I[P])[0].t.extents=N;var ae=z[0].t.poffset,re=Array.isArray(ae);for(R=0;R<z.length;R++){var Q=z[R],K=Q[$]-Q.w/2;if(C(K)){var te=Q[$]+Q.w/2,oe=Y(Q.p);N[oe]=N[oe]?[Math.min(K,N[oe][0]),Math.max(te,N[oe][1])]:[K,te]}Q.p0=Q.p+(re?ae[R]:ae),Q.p1=Q.p0+Q.w,Q.s0=Q.b,Q.s1=Q.s0+Q.s}}}(x,h)}var I,L,P,z,$}function o(v,h,_,x){for(var b=0;b<_.length;b++){var d=new l([_[b]],{posAxis:v,sepNegVal:!1,overlapNoMerge:!x.norm});r(v,d,x),x.norm?(p(d),f(h,d,x)):c(h,d)}}function r(v,h,_){for(var x=h.minDiff,b=h.traces,M=x*(1-_.gap),d=M*(1-(_.groupgap||0)),E=-d/2,k=0;k<b.length;k++){var I=b[k][0].t;I.barwidth=d,I.poffset=E,I.bargroupwidth=M,I.bardelta=x}h.binWidth=b[0][0].t.barwidth/100,n(h),a(v,h),s(v,h)}function n(v){var h,_,x=v.traces;for(h=0;h<x.length;h++){var b,M=x[h],d=M[0],E=d.trace,k=d.t,I=E._offset||E.offset,L=k.poffset;if(S(I)){for(b=Array.prototype.slice.call(I,0,M.length),_=0;_<b.length;_++)C(b[_])||(b[_]=L);for(_=b.length;_<M.length;_++)b.push(L);k.poffset=b}else void 0!==I&&(k.poffset=I);var P=E._width||E.width,R=k.barwidth;if(S(P)){var z=Array.prototype.slice.call(P,0,M.length);for(_=0;_<z.length;_++)C(z[_])||(z[_]=R);for(_=z.length;_<M.length;_++)z.push(R);if(k.barwidth=z,void 0===I){for(b=[],_=0;_<M.length;_++)b.push(L+(R-z[_])/2);k.poffset=b}}else void 0!==P&&(k.barwidth=P,void 0===I&&(k.poffset=L+(R-P)/2))}}function a(v,h){for(var _=h.traces,x=w(v),b=0;b<_.length;b++)for(var M=_[b],d=M[0].t,E=d.poffset,k=Array.isArray(E),I=d.barwidth,L=Array.isArray(I),P=0;P<M.length;P++){var R=M[P],z=R.w=L?I[P]:I;void 0===R.p&&(R.p=R[x],R["orig_"+x]=R[x]),R[x]=R.p+((k?E[P]:E)+z/2)}}function s(v,h,_){var x=h.traces,b=h.minDiff/2;T.minDtick(v,h.minDiff,h.distinctPositions[0],_);for(var M=0;M<x.length;M++){var d,E,k,I,L=x[M],P=L[0],R=P.trace,z=[];for(I=0;I<L.length;I++)E=(d=L[I]).p-b,z.push(E,k=d.p+b);if(R.width||R.offset){var $=P.t,N=$.poffset,W=$.barwidth,H=Array.isArray(N),U=Array.isArray(W);for(I=0;I<L.length;I++)k=(E=(d=L[I]).p+(H?N[I]:N))+(U?W[I]:W),z.push(E,k)}R._extremes[v._id]=T.findExtremes(v,z,{padded:!1})}}function c(v,h){for(var _=h.traces,x=w(v),b=0;b<_.length;b++){for(var M=_[b],d=M[0].trace,E="scatter"===d.type,k="v"===d.orientation,I=[],L=!1,P=0;P<M.length;P++){var R=M[P],z=E?0:R.b,$=E?k?R.y:R.x:z+R.s;R[x]=$,I.push($),R.hasB&&I.push(z),R.hasB&&R.b||(L=!0)}d._extremes[v._id]=T.findExtremes(v,I,{tozero:L,padded:!0})}}function p(v){for(var h=v.traces,_=0;_<h.length;_++)for(var x=h[_],b=0;b<x.length;b++){var M=x[b];M.s!==u&&v.put(M.p,M.b+M.s)}}function f(v,h,_){var x=h.traces,b=w(v),M="fraction"===_.norm?1:100,d=M/1e9,E=v.l2c(v.c2l(0)),k="stack"===_.mode?M:E;function I(ae){return C(v.c2l(ae))&&(ae<E-d||ae>k+d||!C(E))}for(var L=0;L<x.length;L++){for(var P=x[L],R=P[0].trace,z=[],$=!1,N=!1,W=0;W<P.length;W++){var H=P[W];if(H.s!==u){var U=Math.abs(M/h.get(H.p,H.s));H.b*=U,H.s*=U;var Z=H.b,Y=Z+H.s;H[b]=Y,z.push(Y),N=N||I(Y),H.hasB&&(z.push(Z),N=N||I(Z)),H.hasB&&H.b||($=!0)}}R._extremes[v._id]=T.findExtremes(v,z,{tozero:$,padded:N})}}function w(v){return v._id.charAt(0)}ie.exports={crossTraceCalc:function(v,h){for(var _=h.xaxis,x=h.yaxis,b=v._fullLayout,M=v._fullData,d=v.calcdata,E=[],k=[],I=0;I<M.length;I++){var L=M[I];if(!0===L.visible&&A.traceIs(L,"bar")&&L.xaxis===_._id&&L.yaxis===x._id&&("h"===L.orientation?E.push(d[I]):k.push(d[I]),L._computePh))for(var P=v.calcdata[I],R=0;R<P.length;R++)"function"==typeof P[R].ph0&&(P[R].ph0=P[R].ph0()),"function"==typeof P[R].ph1&&(P[R].ph1=P[R].ph1())}var z={xCat:"category"===_.type||"multicategory"===_.type,yCat:"category"===x.type||"multicategory"===x.type,mode:b.barmode,norm:b.barnorm,gap:b.bargap,groupgap:b.bargroupgap};t(v,_,x,k,z),t(v,x,_,E,z)},setGroupPositions:t}},90769:function(ie,B,e){"use strict";var C=e(71828),S=e(7901),u=e(73972),A=e(67513),T=e(73927),m=e(98340),l=e(26125),t=e(1486),o=C.coerceFont;function r(n,a,s,c,p,f){var w=!1!==(f=f||{}).moduleHasSelected,v=!1!==f.moduleHasUnselected,h=!1!==f.moduleHasConstrain,_=!1!==f.moduleHasCliponaxis,x=!1!==f.moduleHasTextangle,b=!1!==f.moduleHasInsideanchor,M=!!f.hasPathbar,d=Array.isArray(p)||"auto"===p,E=d||"inside"===p,k=d||"outside"===p;if(E||k){var I=o(c,"textfont",s.font),L=C.extendFlat({},I),P=!(n.textfont&&n.textfont.color);if(P&&delete L.color,o(c,"insidetextfont",L),M){var R=C.extendFlat({},I);P&&delete R.color,o(c,"pathbar.textfont",R)}k&&o(c,"outsidetextfont",I),w&&c("selected.textfont.color"),v&&c("unselected.textfont.color"),h&&c("constraintext"),_&&c("cliponaxis"),x&&c("textangle"),c("texttemplate")}E&&b&&c("insidetextanchor")}ie.exports={supplyDefaults:function(n,a,s,c){function p(h,_){return C.coerce(n,a,t,h,_)}if(A(n,a,c,p)){T(n,a,c,p),p("xhoverformat"),p("yhoverformat"),p("orientation",a.x&&!a.y?"h":"v"),p("base"),p("offset"),p("width"),p("text"),p("hovertext"),p("hovertemplate");var f=p("textposition");r(n,0,c,p,f,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),m(n,a,p,s,c);var w=(a.marker.line||{}).color,v=u.getComponentMethod("errorbars","supplyDefaults");v(n,a,w||S.defaultLine,{axis:"y"}),v(n,a,w||S.defaultLine,{axis:"x",inherit:"y"}),C.coerceSelectionMarkerOpacity(a,p)}else a.visible=!1},crossTraceDefaults:function(n,a){var c;function p(w){return C.coerce(c._input,c,t,w)}if("group"===a.barmode)for(var f=0;f<n.length;f++)"bar"===(c=n[f]).type&&l(c._input,c,a,p)},handleText:r}},58065:function(ie){"use strict";ie.exports=function(B,e,C){return B.x="xVal"in e?e.xVal:e.x,B.y="yVal"in e?e.yVal:e.y,e.xa&&(B.xaxis=e.xa),e.ya&&(B.yaxis=e.ya),"h"===C.orientation?(B.label=B.y,B.value=B.x):(B.label=B.x,B.value=B.y),B}},69383:function(ie,B,e){"use strict";var C=e(92770),S=e(84267),u=e(71828).isArrayOrTypedArray;B.coerceString=function(A,T,m){if("string"==typeof T){if(T||!A.noBlank)return T}else if(("number"==typeof T||!0===T)&&!A.strict)return String(T);return void 0!==m?m:A.dflt},B.coerceNumber=function(A,T,m){if(C(T)){T=+T;var l=A.min,t=A.max;if(!(void 0!==l&&T<l||void 0!==t&&T>t))return T}return void 0!==m?m:A.dflt},B.coerceColor=function(A,T,m){return S(T).isValid()?T:void 0!==m?m:A.dflt},B.coerceEnumerated=function(A,T,m){return A.coerceNumber&&(T=+T),-1!==A.values.indexOf(T)?T:void 0!==m?m:A.dflt},B.getValue=function(A,T){var m;return Array.isArray(A)?T<A.length&&(m=A[T]):m=A,m},B.getLineWidth=function(A,T){return 0<T.mlw?T.mlw:u(A.marker.line.width)?0:A.marker.line.width}},95423:function(ie,B,e){"use strict";var C=e(30211),S=e(73972),u=e(7901),A=e(71828).fillText,T=e(69383).getLineWidth,m=e(89298).hoverLabelText,l=e(50606).BADNUM;function t(r,n,a,s,c){var p,f,w,v,h,_,x,b=r.cd,M=b[0].trace,d=b[0].t,E="closest"===s,k="waterfall"===M.type,I=r.maxHoverDistance,L=r.maxSpikeDistance;"h"===M.orientation?(p=a,f=n,w="y",v="x",h=re,_=Y):(p=n,f=a,w="x",v="y",_=re,h=Y);var P=M[w+"period"],R=E||P;function z(me){return N(me,-1)}function $(me){return N(me,1)}function N(me,ke){return me[w]+ke*me.w/2}function W(me){return me[w+"End"]-me[w+"Start"]}var H=E?z:P?function(me){return me.p-W(me)/2}:function(me){return Math.min(z(me),me.p-d.bardelta/2)},U=E?$:P?function(me){return me.p+W(me)/2}:function(me){return Math.max($(me),me.p+d.bardelta/2)};function Z(me,ke,Pe){return c.finiteRange&&(Pe=0),C.inbox(me-p,ke-p,Pe+Math.min(1,Math.abs(ke-me)/x)-1)}function Y(me){return Z(H(me),U(me),I)}function ae(me){var ke=me[v];if(k){var Pe=Math.abs(me.rawS)||0;f>0?ke+=Pe:f<0&&(ke-=Pe)}return ke}function re(me){var ke=f,Pe=me.b,Te=ae(me);return C.inbox(Pe-ke,Te-ke,I+(Te-ke)/(Te-Pe)-1)}var Q=r[w+"a"],K=r[v+"a"];x=Math.abs(Q.r2c(Q.range[1])-Q.r2c(Q.range[0]));var me,ke,Pe,Te,te=C.getDistanceFunction(s,h,_,function(me){return(h(me)+_(me))/2});if(C.getClosest(b,te,r),!1!==r.index&&b[r.index].p!==l){R||(H=function(me){return Math.min(z(me),me.p-d.bargroupwidth/2)},U=function(me){return Math.max($(me),me.p+d.bargroupwidth/2)});var oe=b[r.index],ue=M.base?oe.b+oe.s:oe.s;r[v+"0"]=r[v+"1"]=K.c2p(oe[v],!0),r[v+"LabelVal"]=ue;var fe=d.extents[d.extents.round(oe.p)];return r[w+"0"]=Q.c2p(E?H(oe):fe[0],!0),r[w+"1"]=Q.c2p(E?U(oe):fe[1],!0),r[w+"LabelVal"]=void 0!==oe.orig_p?oe.orig_p:oe.p,r.labelLabel=m(Q,r[w+"LabelVal"],M[w+"hoverformat"]),r.valueLabel=m(K,r[v+"LabelVal"],M[v+"hoverformat"]),r.baseLabel=m(K,oe.b,M[v+"hoverformat"]),r.spikeDistance=(ke=f,Pe=(me=oe).b,Te=ae(me),(C.inbox(Pe-ke,Te-ke,L+(Te-ke)/(Te-Pe)-1)+function(me){return Z(z(me),$(me),L)}(oe))/2),r[w+"Spike"]=Q.c2p(oe.p,!0),A(oe,M,r),r.hovertemplate=M.hovertemplate,r}}function o(r,n){var a=n.mcc||r.marker.color,s=n.mlcc||r.marker.line.color,c=T(r,n);return u.opacity(a)?a:u.opacity(s)&&c?s:void 0}ie.exports={hoverPoints:function(r,n,a,s,c){var p=t(r,n,a,s,c);if(p){var f=p.cd,w=f[0].trace,v=f[p.index];return p.color=o(w,v),S.getComponentMethod("errorbars","hoverInfo")(v,w,p),[p]}},hoverOnBars:t,getTraceColor:o}},60822:function(ie,B,e){"use strict";ie.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(ie){"use strict";ie.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(ie,B,e){"use strict";var C=e(73972),S=e(89298),u=e(71828),A=e(43641);ie.exports=function(T,m,l){function t(w,v){return u.coerce(T,m,A,w,v)}for(var o=!1,r=!1,n=!1,a={},s=t("barmode"),c=0;c<l.length;c++){var p=l[c];if(C.traceIs(p,"bar")&&p.visible){if(o=!0,"group"===s){var f=p.xaxis+p.yaxis;a[f]&&(n=!0),a[f]=!0}p.visible&&"histogram"===p.type&&"category"!==S.getFromId({_fullLayout:m},p["v"===p.orientation?"xaxis":"yaxis"]).type&&(r=!0)}}o?("overlay"!==s&&t("barnorm"),t("bargap",r&&!n?0:.2),t("bargroupgap")):delete m.barmode}},17295:function(ie,B,e){"use strict";var C=e(39898),S=e(92770),u=e(71828),A=e(63893),T=e(7901),m=e(91424),l=e(73972),t=e(89298).tickText,o=e(72597),r=o.recordMinTextSize,n=o.clearMinTextSize,a=e(16688),s=e(69383),c=e(97313),p=e(1486),f=p.text,w=p.textposition,v=e(23469).appendArrayPointValue,h=c.TEXTPAD;function _(L){return L.id}function b(L,P){return L<P?1:-1}function M(L,P,R,z){var $;return!P.uniformtext.mode&&d(R)?(z&&($=z()),L.transition().duration(R.duration).ease(R.easing).each("end",function(){$&&$()}).each("interrupt",function(){$&&$()})):L}function d(L){return L&&L.duration>0}function E(L){return"auto"===L?0:L}function k(L,P){var R=Math.PI/180*P,z=Math.abs(Math.sin(R)),$=Math.abs(Math.cos(R));return{x:L.width*$+L.height*z,y:L.width*z+L.height*$}}function I(L,P,R,z,$,N){var W=!!N.isHorizontal,H=!!N.constrained,U=N.angle||0,Z=N.anchor||"end",Y="end"===Z,ae="start"===Z,re=((N.leftToRight||0)+1)/2,Q=1-re,K=$.width,te=$.height,oe=Math.abs(P-L),ue=Math.abs(z-R),fe=oe>2*h&&ue>2*h?h:0;oe-=2*fe,ue-=2*fe;var he=E(U);"auto"!==U||K<=oe&&te<=ue||!(K>oe||te>ue)||(K>ue||te>oe)&&K<te==oe<ue||(he+=90);var me=k($,he),ke=1;H&&(ke=Math.min(1,oe/me.x,ue/me.y));var Pe=$.left*Q+$.right*re,Te=($.top+$.bottom)/2,be=(L+h)*Q+(P-h)*re,xe=(R+z)/2,Ne=0,Se=0;if(ae||Y){var Ce=(W?me.x:me.y)/2,pe=W?b(L,P):b(R,z);W?ae?(be=L+pe*fe,Ne=-pe*Ce):(be=P-pe*fe,Ne=pe*Ce):ae?(xe=R+pe*fe,Se=-pe*Ce):(xe=z-pe*fe,Se=pe*Ce)}return{textX:Pe,textY:Te,targetX:be,targetY:xe,anchorX:Ne,anchorY:Se,scale:ke,rotate:he}}ie.exports={plot:function(L,P,R,z,$,N){var W=P.xaxis,H=P.yaxis,U=L._fullLayout,Z=L._context.staticPlot;$||($={mode:U.barmode,norm:U.barmode,gap:U.bargap,groupgap:U.bargroupgap},n("bar",U));var Y=u.makeTraceGroups(z,R,"trace bars").each(function(ae){var re=C.select(this),Q=ae[0].trace,oe="bar"===Q.type||"funnel"===Q.type,ue=0;"waterfall"===Q.type&&Q.connector.visible&&"between"===Q.connector.mode&&(ue=Q.connector.line.width/2);var fe="h"===Q.orientation,he=d($),me=u.ensureSingle(re,"g","points"),ke=function x(L){if(L.ids)return _}(Q),Pe=me.selectAll("g.point").data(u.identity,ke);Pe.enter().append("g").classed("point",!0),Pe.exit().remove(),Pe.each(function(be,xe){var Ne,Se,ze,Ge,He,Ke,et,st,mt,at,Ce=C.select(this),pe=(Ge=W,He=H,st=[],at=(Ke=fe)?He:Ge,(et=[])[0]=(mt=Ke?Ge:He).c2p((ze=be).s0,!0),st[0]=at.c2p(ze.p0,!0),et[1]=mt.c2p(ze.s1,!0),st[1]=at.c2p(ze.p1,!0),Ke?[et,st]:[st,et]),de=pe[0][0],se=pe[0][1],we=pe[1][0],Re=pe[1][1],Ee=0==(fe?se-de:Re-we);if(Ee&&oe&&s.getLineWidth(Q,be)&&(Ee=!1),Ee||(Ee=!(S(de)&&S(se)&&S(we)&&S(Re))),be.isBlank=Ee,Ee&&(fe?se=de:Re=we),ue&&!Ee&&(fe?(de-=b(de,se)*ue,se+=b(de,se)*ue):(we-=b(we,Re)*ue,Re+=b(we,Re)*ue)),"waterfall"===Q.type){if(!Ee){var Ue=Q[be.dir].marker;Ne=Ue.line.width,Se=Ue.color}}else Ne=s.getLineWidth(Q,be),Se=be.mc||Q.marker.color;function $e(ze){var Ge=C.round(Ne/2%1,2);return 0===$.gap&&0===$.groupgap?C.round(Math.round(ze)-Ge,2):ze}if(!L._context.staticPlot){var ve=T.opacity(Se)<1||Ne>.01?$e:function(ze,Ge,He){return He&&ze===Ge?ze:Math.abs(ze-Ge)>=2?$e(ze):ze>Ge?Math.ceil(ze):Math.floor(ze)};de=ve(de,se,fe),se=ve(se,de,fe),we=ve(we,Re,!fe),Re=ve(Re,we,!fe)}var Ie=M(u.ensureSingle(Ce,"path"),U,$,N);if(Ie.style("vector-effect",Z?"none":"non-scaling-stroke").attr("d",isNaN((se-de)*(Re-we))||Ee&&L._context.staticPlot?"M0,0Z":"M"+de+","+we+"V"+Re+"H"+se+"V"+we+"Z").call(m.setClipUrl,P.layerClipId,L),!U.uniformtext.mode&&he){var De=m.makePointStyleFns(Q);m.singlePointStyle(be,Ie,Q,De,L)}(function(ze,Ge,He,Ke,et,st,mt,at,kt,St,gt){var dt,Ct=Ge.xaxis,Ot=Ge.yaxis,Pt=ze._fullLayout;function Ht(cn,nn,ln){return u.ensureSingle(cn,"text").text(nn).attr({class:"bartext bartext-"+dt,"text-anchor":"middle","data-notex":1}).call(m.font,ln).call(A.convertToTspans,ze)}var nn,ln,Qt,kn,Pn,Tn,jt=Ke[0].trace,nt="h"===jt.orientation,it=(ln=et,Qt=Ct,kn=Ot,Pn=(Tn=(nn=Ke)[0].trace).texttemplate?function(tn,gn,hn,mn,En){var vn=gn[0].trace,Un=u.castOption(vn,hn,"texttemplate");if(!Un)return"";var Hn,On,Wn,pr,ar="histogram"===vn.type,Ar="waterfall"===vn.type,hr="funnel"===vn.type,fr="h"===vn.orientation;function Rr(An){return t(pr,pr.c2l(An),!0).text}fr?(Hn="y",On=En,Wn="x",pr=mn):(Hn="x",On=mn,Wn="y",pr=En);var rn=gn[hn],wn={};wn.label=rn.p,wn.labelLabel=wn[Hn+"Label"]=t(On,On.c2l(rn.p),!0).text;var Cn=u.castOption(vn,rn.i,"text");(0===Cn||Cn)&&(wn.text=Cn),wn.value=rn.s,wn.valueLabel=wn[Wn+"Label"]=Rr(rn.s);var Bn={};v(Bn,vn,rn.i),(ar||void 0===Bn.x)&&(Bn.x=fr?wn.value:wn.label),(ar||void 0===Bn.y)&&(Bn.y=fr?wn.label:wn.value),(ar||void 0===Bn.xLabel)&&(Bn.xLabel=fr?wn.valueLabel:wn.labelLabel),(ar||void 0===Bn.yLabel)&&(Bn.yLabel=fr?wn.labelLabel:wn.valueLabel),Ar&&(wn.delta=+rn.rawS||rn.s,wn.deltaLabel=Rr(wn.delta),wn.final=rn.v,wn.finalLabel=Rr(wn.final),wn.initial=wn.final-wn.delta,wn.initialLabel=Rr(wn.initial)),hr&&(wn.value=rn.s,wn.valueLabel=Rr(wn.value),wn.percentInitial=rn.begR,wn.percentInitialLabel=u.formatPercent(rn.begR),wn.percentPrevious=rn.difR,wn.percentPreviousLabel=u.formatPercent(rn.difR),wn.percentTotal=rn.sumR,wn.percenTotalLabel=u.formatPercent(rn.sumR));var or=u.castOption(vn,rn.i,"customdata");return or&&(wn.customdata=or),u.texttemplateString(Un,wn,tn._d3locale,Bn,wn,vn._meta||{})}(Pt,nn,ln,Qt,kn):Tn.textinfo?function(tn,gn,hn,mn){var En=tn[0].trace,vn="h"===En.orientation,Un="waterfall"===En.type,Hn="funnel"===En.type;function On(or){return t(vn?hn:mn,+or,!0).text}var Wn,Ar=tn[gn],hr=En.textinfo.split("+"),fr=[],Rr=function(or){return-1!==hr.indexOf(or)};if(Rr("label")&&fr.push(t(vn?mn:hn,tn[gn].p,!0).text),Rr("text")&&(0===(Wn=u.castOption(En,Ar.i,"text"))||Wn)&&fr.push(Wn),Un){var Xt=+Ar.rawS||Ar.s,rn=Ar.v,wn=rn-Xt;Rr("initial")&&fr.push(On(wn)),Rr("delta")&&fr.push(On(Xt)),Rr("final")&&fr.push(On(rn))}if(Hn){Rr("value")&&fr.push(On(Ar.s));var Cn=0;Rr("percent initial")&&Cn++,Rr("percent previous")&&Cn++,Rr("percent total")&&Cn++;var Bn=Cn>1;Rr("percent initial")&&(Wn=u.formatPercent(Ar.begR),Bn&&(Wn+=" of initial"),fr.push(Wn)),Rr("percent previous")&&(Wn=u.formatPercent(Ar.difR),Bn&&(Wn+=" of previous"),fr.push(Wn)),Rr("percent total")&&(Wn=u.formatPercent(Ar.sumR),Bn&&(Wn+=" of total"),fr.push(Wn))}return fr.join("<br>")}(nn,ln,Qt,kn):s.getValue(Tn.text,ln),s.coerceString(f,Pn));dt=function(cn,nn){var ln=s.getValue(cn.textposition,nn);return s.coerceEnumerated(w,ln)}(jt,et);var rt=Ke[et],ft=!("stack"===St.mode||"relative"===St.mode)||rt._outmost;if(it&&"none"!==dt&&(!rt.isBlank&&st!==mt&&at!==kt||"auto"!==dt&&"inside"!==dt)){var vt=Pt.font,je=a.getBarColor(Ke[et],jt),Ve=a.getInsideTextFont(jt,et,vt,je),ut=a.getOutsideTextFont(jt,et,vt),ct=He.datum();nt?"log"===Ct.type&&ct.s0<=0&&(st=Ct.range[0]<Ct.range[1]?0:Ct._length):"log"===Ot.type&&ct.s0<=0&&(at=Ot.range[0]<Ot.range[1]?Ot._length:0);var Tt,Mt,At,bt,Rt,xt=Math.abs(mt-st)-2*h,_t=Math.abs(kt-at)-2*h;if("outside"===dt&&(ft||rt.hasB||(dt="inside")),"auto"===dt&&(ft?(dt="inside",Tt=Ht(He,it,Rt=u.ensureUniformFontSize(ze,Ve)),At=(Mt=m.bBox(Tt.node())).width,bt=Mt.height,At>0&&bt>0&&(At<=xt&&bt<=_t||At<=_t&&bt<=xt||(nt?xt>=At*(_t/bt):_t>=bt*(xt/At)))?dt="inside":(dt="outside",Tt.remove(),Tt=null)):dt="inside"),!Tt){var It=(Tt=Ht(He,it,Rt=u.ensureUniformFontSize(ze,"outside"===dt?ut:Ve))).attr("transform");if(Tt.attr("transform",""),At=(Mt=m.bBox(Tt.node())).width,bt=Mt.height,Tt.attr("transform",It),At<=0||bt<=0)return void Tt.remove()}var Gt,Wt=jt.textangle;Gt="outside"===dt?function(cn,nn,ln,Qt,kn,Pn){var Tn,tn=!!Pn.isHorizontal,gn=!!Pn.constrained,hn=Pn.angle||0,mn=kn.width,En=kn.height,vn=Math.abs(nn-cn),Un=Math.abs(Qt-ln);Tn=tn?Un>2*h?h:0:vn>2*h?h:0;var Hn=1;gn&&(Hn=tn?Math.min(1,Un/En):Math.min(1,vn/mn));var On=E(hn),Wn=k(kn,On),pr=(tn?Wn.x:Wn.y)/2,ar=(kn.left+kn.right)/2,Ar=(kn.top+kn.bottom)/2,hr=(cn+nn)/2,fr=(ln+Qt)/2,Rr=0,Xt=0,rn=tn?b(nn,cn):b(ln,Qt);return tn?(hr=nn-rn*Tn,Rr=rn*pr):(fr=Qt+rn*Tn,Xt=-rn*pr),{textX:ar,textY:Ar,targetX:hr,targetY:fr,anchorX:Rr,anchorY:Xt,scale:Hn,rotate:On}}(st,mt,at,kt,Mt,{isHorizontal:nt,constrained:"both"===jt.constraintext||"outside"===jt.constraintext,angle:Wt}):I(st,mt,at,kt,Mt,{isHorizontal:nt,constrained:"both"===jt.constraintext||"inside"===jt.constraintext,angle:Wt,anchor:jt.insidetextanchor}),Gt.fontSize=Rt.size,r("histogram"===jt.type?"bar":jt.type,Gt,Pt),rt.transform=Gt;var Zt=M(Tt,Pt,St,gt);u.setTransormAndDisplay(Zt,Gt)}else He.select("text").remove()})(L,P,Ce,ae,xe,de,se,we,Re,$,N),P.layerClipId&&m.hideOutsideRangePoint(be,Ce.select("text"),W,H,Q.xcalendar,Q.ycalendar)}),m.setClipUrl(re,!1===Q.cliponaxis?null:P.layerClipId,L)});l.getComponentMethod("errorbars","plot")(L,Y,P,$)},toMoveInsideBar:I}},81974:function(ie){"use strict";function B(e,C,S,u,A){var T=C.c2p(u?e.s0:e.p0,!0),m=C.c2p(u?e.s1:e.p1,!0),l=S.c2p(u?e.p0:e.s0,!0),t=S.c2p(u?e.p1:e.s1,!0);return A?[(T+m)/2,(l+t)/2]:u?[m,(l+t)/2]:[(T+m)/2,t]}ie.exports=function(e,C){var S,u=e.cd,A=e.xaxis,T=e.yaxis,m=u[0].trace,l="funnel"===m.type,t="h"===m.orientation,o=[];if(!1===C)for(S=0;S<u.length;S++)u[S].selected=0;else for(S=0;S<u.length;S++){var r=u[S],n="ct"in r?r.ct:B(r,A,T,t,l);C.contains(n,!1,S,e)?(o.push({pointNumber:S,x:A.c2d(r.x),y:T.c2d(r.y)}),r.selected=1):r.selected=0}return o}},61546:function(ie,B,e){"use strict";ie.exports=S;var C=e(71828).distinctVals;function S(u,A){this.traces=u,this.sepNegVal=A.sepNegVal,this.overlapNoMerge=A.overlapNoMerge;for(var T=1/0,m=A.posAxis._id.charAt(0),l=[],t=0;t<u.length;t++){for(var o=u[t],r=0;r<o.length;r++){var n=o[r],a=n.p;void 0===a&&(a=n[m]),void 0!==a&&l.push(a)}o[0]&&o[0].width1&&(T=Math.min(o[0].width1,T))}this.positions=l;var s=C(l);this.distinctPositions=s.vals,this.minDiff=1===s.vals.length&&T!==1/0?T:Math.min(s.minDiff,T);var c=(A.posAxis||{}).type;"category"!==c&&"multicategory"!==c||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}S.prototype.put=function(u,A){var T=this.getLabel(u,A),m=this.bins[T]||0;return this.bins[T]=m+A,m},S.prototype.get=function(u,A){var T=this.getLabel(u,A);return this.bins[T]||0},S.prototype.getLabel=function(u,A){return(A<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?u:Math.round(u/this.binWidth))}},16688:function(ie,B,e){"use strict";var C=e(39898),S=e(7901),u=e(91424),A=e(71828),T=e(73972),m=e(72597).resizeText,l=e(1486),t=l.textfont,o=l.insidetextfont,r=l.outsidetextfont,n=e(69383);function a(_,x,b){u.pointStyle(_.selectAll("path"),x,b),s(_,x,b)}function s(_,x,b){_.selectAll("text").each(function(M){var d=C.select(this),E=A.ensureUniformFontSize(b,c(d,M,x,b));u.font(d,E)})}function c(_,x,b,M){var d=M._fullLayout.font,E=b.textfont;if(_.classed("bartext-inside")){var k=h(x,b);E=f(b,x.i,d,k)}else _.classed("bartext-outside")&&(E=w(b,x.i,d));return E}function p(_,x,b){return v(t,_.textfont,x,b)}function f(_,x,b,M){var d=p(_,x,b);return(void 0===_._input.textfont||void 0===_._input.textfont.color||Array.isArray(_.textfont.color)&&void 0===_.textfont.color[x])&&(d={color:S.contrast(M),family:d.family,size:d.size}),v(o,_.insidetextfont,x,d)}function w(_,x,b){var M=p(_,x,b);return v(r,_.outsidetextfont,x,M)}function v(_,x,b,M){var d=n.getValue((x=x||{}).family,b),E=n.getValue(x.size,b),k=n.getValue(x.color,b);return{family:n.coerceString(_.family,d,M.family),size:n.coerceNumber(_.size,E,M.size),color:n.coerceColor(_.color,k,M.color)}}function h(_,x){return"waterfall"===x.type?x[_.dir].marker.color:_.mcc||_.mc||x.marker.color}ie.exports={style:function(_){var x=C.select(_).selectAll("g.barlayer").selectAll("g.trace");m(_,x,"bar");var b=x.size(),M=_._fullLayout;x.style("opacity",function(d){return d[0].trace.opacity}).each(function(d){("stack"===M.barmode&&b>1||0===M.bargap&&0===M.bargroupgap&&!d[0].trace.marker.line.width)&&C.select(this).attr("shape-rendering","crispEdges")}),x.selectAll("g.points").each(function(d){a(C.select(this),d[0].trace,_)}),T.getComponentMethod("errorbars","style")(x)},styleTextPoints:s,styleOnSelect:function(_,x,b){var d,E,k,I,L,P,M=x[0].trace;M.selectedpoints?(E=M,k=_,u.selectedPointStyle((d=b).selectAll("path"),E),I=d.selectAll("text"),L=E,P=k,I.each(function(R){var z,$=C.select(this);if(R.selected){z=A.ensureUniformFontSize(P,c($,R,L,P));var N=L.selected.textfont&&L.selected.textfont.color;N&&(z.color=N),u.font($,z)}else u.selectedTextStyle($,L)})):(a(b,M,_),T.getComponentMethod("errorbars","style")(b))},getInsideTextFont:f,getOutsideTextFont:w,getBarColor:h,resizeText:m}},98340:function(ie,B,e){"use strict";var C=e(7901),S=e(52075).hasColorscale,u=e(1586),A=e(71828).coercePattern;ie.exports=function(T,m,l,t,o){var r=l("marker.color",t),n=S(T,"marker");n&&u(T,m,o,l,{prefix:"marker.",cLetter:"c"}),l("marker.line.color",C.defaultLine),S(T,"marker.line")&&u(T,m,o,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width"),l("marker.opacity"),A(l,"marker.pattern",r,n),l("selected.marker.color"),l("unselected.marker.color")}},72597:function(ie,B,e){"use strict";var C=e(39898),S=e(71828);function u(A){return"_"+A+"Text_minsize"}ie.exports={recordMinTextSize:function(A,T,m){if(m.uniformtext.mode){var l=u(A),t=m.uniformtext.minsize,o=T.scale*T.fontSize;T.hide=o<t,m[l]=m[l]||1/0,T.hide||(m[l]=Math.min(m[l],Math.max(o,t)))}},clearMinTextSize:function(A,T){T[u(A)]=void 0},resizeText:function(A,T,m){var l=A._fullLayout,t=l["_"+m+"Text_minsize"];if(t){var o,r="hide"===l.uniformtext.mode;switch(m){case"funnelarea":case"pie":case"sunburst":o="g.slice";break;case"treemap":case"icicle":o="g.slice, g.pathbar";break;default:o="g.points > g.point"}T.selectAll(o).each(function(n){var a=n.transform;if(a){a.scale=r&&a.hide?0:t/a.fontSize;var s=C.select(this).select("text");S.setTransormAndDisplay(s,a)}})}}}},55023:function(ie,B,e){"use strict";var C=e(5386).fF,S=e(1426).extendFlat,u=e(81245),A=e(1486);ie.exports={r:u.r,theta:u.theta,r0:u.r0,dr:u.dr,theta0:u.theta0,dtheta:u.dtheta,thetaunit:u.thetaunit,base:S({},A.base,{}),offset:S({},A.offset,{}),width:S({},A.width,{}),text:S({},A.text,{}),hovertext:S({},A.hovertext,{}),marker:A.marker,hoverinfo:u.hoverinfo,hovertemplate:C(),selected:A.selected,unselected:A.unselected}},74692:function(ie,B,e){"use strict";var C=e(52075).hasColorscale,S=e(78803),u=e(75341),A=e(11661).setGroupPositions,T=e(66279),m=e(73972).traceIs,l=e(71828).extendFlat;ie.exports={calc:function(t,o){for(var r=t._fullLayout,n=o.subplot,s=r[n].angularaxis,c=r[n].radialaxis.makeCalcdata(o,"r"),p=s.makeCalcdata(o,"theta"),f=o._length,w=new Array(f),v=c,h=p,_=0;_<f;_++)w[_]={p:h[_],s:v[_]};function x(b){var M=o[b];void 0!==M&&(o["_"+b]=Array.isArray(M)?s.makeCalcdata(o,b):s.d2c(M,o.thetaunit))}return"linear"===s.type&&(x("width"),x("offset")),C(o,"marker")&&S(t,o,{vals:o.marker.color,containerStr:"marker",cLetter:"c"}),C(o,"marker.line")&&S(t,o,{vals:o.marker.line.color,containerStr:"marker.line",cLetter:"c"}),u(w,o),T(w,o),w},crossTraceCalc:function(t,o,r){for(var n=t.calcdata,a=[],s=0;s<n.length;s++){var c=n[s],p=c[0].trace;!0===p.visible&&m(p,"bar")&&p.subplot===r&&a.push(c)}var f=l({},o.radialaxis,{_id:"x"});A(t,o.angularaxis,f,a,{mode:o.barmode,norm:o.barnorm,gap:o.bargap,groupgap:o.bargroupgap})}}},6135:function(ie,B,e){"use strict";var C=e(71828),S=e(22184).handleRThetaDefaults,u=e(98340),A=e(55023);ie.exports=function(T,m,l,t){function o(r,n){return C.coerce(T,m,A,r,n)}S(T,m,t,o)?(o("thetaunit"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate"),u(T,m,o,l,t),C.coerceSelectionMarkerOpacity(m,o)):m.visible=!1}},27379:function(ie,B,e){"use strict";var C=e(30211),S=e(71828),u=e(95423).getTraceColor,A=S.fillText,T=e(59150).makeHoverPointText,m=e(10869).isPtInsidePolygon;ie.exports=function(l,t,o){var r=l.cd,n=r[0].trace,a=l.subplot,s=a.radialAxis,p=a.vangles,f=p?m:S.isPtInsideSector,w=l.maxHoverDistance,v=a.angularAxis._period||2*Math.PI,h=Math.abs(s.g2p(Math.sqrt(t*t+o*o))),_=Math.atan2(o,t);if(s.range[0]>s.range[1]&&(_+=Math.PI),C.getClosest(r,function(M){return f(h,_,[M.rp0,M.rp1],[M.thetag0,M.thetag1],p)?w+Math.min(1,Math.abs(M.thetag1-M.thetag0)/v)-1+(M.rp1-h)/(M.rp1-M.rp0)-1:1/0},l),!1!==l.index){var x=r[l.index];l.x0=l.x1=x.ct[0],l.y0=l.y1=x.ct[1];var b=S.extendFlat({},x,{r:x.s,theta:x.p});return A(x,n,l),T(b,n,a,l),l.hovertemplate=n.hovertemplate,l.color=u(n,x),l.xLabelVal=l.yLabelVal=void 0,x.s<0&&(l.idealAlign="left"),[l]}}},23381:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(ie){"use strict";ie.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(ie,B,e){"use strict";var C=e(71828),S=e(40151);ie.exports=function(u,A,T){var m,l={};function t(n,a){return C.coerce(u[m]||{},A[m],S,n,a)}for(var o=0;o<T.length;o++){var r=T[o];"barpolar"===r.type&&!0===r.visible&&(l[m=r.subplot]||(t("barmode"),t("bargap"),l[m]=1))}}},60173:function(ie,B,e){"use strict";var C=e(39898),S=e(92770),u=e(71828),A=e(91424),T=e(10869);ie.exports=function(m,l,t){var f,w,v,o=m._context.staticPlot,r=l.xaxis,n=l.yaxis,a=l.radialAxis,s=l.angularAxis,c=(w=(f=l).cxx,v=f.cyy,f.vangles?function(h,_,x,b){var M,d;u.angleDelta(x,b)>0?(M=x,d=b):(M=b,d=x);var E=[T.findEnclosingVertexAngles(M,f.vangles)[0],(M+d)/2,T.findEnclosingVertexAngles(d,f.vangles)[1]];return T.pathPolygonAnnulus(h,_,M,d,E,w,v)}:function(h,_,x,b){return u.pathAnnulus(h,_,x,b,w,v)}),p=l.layers.frontplot.select("g.barlayer");u.makeTraceGroups(p,t,"trace bars").each(function(){var f=C.select(this),w=u.ensureSingle(f,"g","points").selectAll("g.point").data(u.identity);w.enter().append("g").style("vector-effect",o?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),w.exit().remove(),w.each(function(v){var h,_=C.select(this),x=v.rp0=a.c2p(v.s0),b=v.rp1=a.c2p(v.s1),M=v.thetag0=s.c2g(v.p0),d=v.thetag1=s.c2g(v.p1);if(S(x)&&S(b)&&S(M)&&S(d)&&x!==b&&M!==d){var E=a.c2g(v.s1),k=(M+d)/2;v.ct=[r.c2p(E*Math.cos(k)),n.c2p(E*Math.sin(k))],h=c(x,b,M,d)}else h="M0,0Z";u.ensureSingle(_,"path").attr("d",h)}),A.setClipUrl(f,l._hasClipOnAxisFalse?l.clipIds.forTraces:null,m)})}},53522:function(ie,B,e){"use strict";var C=e(82196),S=e(1486),u=e(22399),A=e(12663).axisHoverFormat,T=e(5386).fF,m=e(1426).extendFlat,l=C.marker,t=l.line;ie.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,xhoverformat:A("x"),yhoverformat:A("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:m({},l.symbol,{arrayOk:!1,editType:"plot"}),opacity:m({},l.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:m({},l.angle,{arrayOk:!1,editType:"calc"}),size:m({},l.size,{arrayOk:!1,editType:"calc"}),color:m({},l.color,{arrayOk:!1,editType:"style"}),line:{color:m({},t.color,{arrayOk:!1,dflt:u.defaultLine,editType:"style"}),width:m({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:C.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},offsetgroup:S.offsetgroup,alignmentgroup:S.alignmentgroup,selected:{marker:C.selected.marker,editType:"style"},unselected:{marker:C.unselected.marker,editType:"style"},text:m({},C.text,{}),hovertext:m({},C.hovertext,{}),hovertemplate:T({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(ie,B,e){"use strict";var C=e(92770),S=e(89298),u=e(42973),A=e(71828),T=e(50606).BADNUM,m=A._;ie.exports=function(f,w){var v,h,_,x,b,M,d,E=f._fullLayout,k=S.getFromId(f,w.xaxis||"x"),I=S.getFromId(f,w.yaxis||"y"),L=[],P="violin"===w.type?"_numViolins":"_numBoxes";"h"===w.orientation?(_=k,x="x",b=I,M="y",d=!!w.yperiodalignment):(_=I,x="y",b=k,M="x",d=!!w.xperiodalignment);var R,z,$,N,W,H,U=function(Ge,He,Ke,et){var st,mt=He+"0"in Ge;if(He in Ge||mt&&"d"+He in Ge){var at=Ke.makeCalcdata(Ge,He);return[u(Ge,Ke,He,at).vals,at]}st=mt?Ge[He+"0"]:"name"in Ge&&("category"===Ke.type||C(Ge.name)&&-1!==["linear","log"].indexOf(Ke.type)||A.isDateTime(Ge.name)&&"date"===Ke.type)?Ge.name:et;for(var kt="multicategory"===Ke.type?Ke.r2c_just_indices(st):Ke.d2c(st,0,Ge[He+"calendar"]),St=Ge._length,gt=new Array(St),dt=0;dt<St;dt++)gt[dt]=kt;return[gt]}(w,M,b,E[P]),Z=U[0],Y=U[1],ae=A.distinctVals(Z,b),re=ae.vals,Q=ae.minDiff/2,K="all"===(w.boxpoints||w.points)?A.identity:function(Ge){return Ge.v<R.lf||Ge.v>R.uf};if(w._hasPreCompStats){var te=w[x],oe=function(Ge){return _.d2c((w[Ge]||[])[v])},ue=1/0,fe=-1/0;for(v=0;v<w._length;v++){var he=Z[v];if(C(he)){if((R={}).pos=R[M]=he,d&&Y&&(R.orig_p=Y[v]),R.q1=oe("q1"),R.med=oe("median"),R.q3=oe("q3"),z=[],te&&A.isArrayOrTypedArray(te[v]))for(h=0;h<te[v].length;h++)(H=_.d2c(te[v][h]))!==T&&(t(W={v:H,i:[v,h]},w,[v,h]),z.push(W));if(R.pts=z.sort(o),N=($=R[x]=z.map(r)).length,R.med!==T&&R.q1!==T&&R.q3!==T&&R.med>=R.q1&&R.q3>=R.med){var me=oe("lowerfence");R.lf=me!==T&&me<=R.q1?me:n(R,$,N);var ke=oe("upperfence");R.uf=ke!==T&&ke>=R.q3?ke:a(R,$,N);var Pe=oe("mean");R.mean=Pe!==T?Pe:N?A.mean($,N):(R.q1+R.q3)/2;var Te=oe("sd");R.sd=Pe!==T&&Te>=0?Te:N?A.stdev($,N,R.mean):R.q3-R.q1,R.lo=s(R),R.uo=c(R);var be=oe("notchspan");be=be!==T&&be>0?be:p(R,N),R.ln=R.med-be,R.un=R.med+be;var xe=R.lf,Ne=R.uf;w.boxpoints&&$.length&&(xe=Math.min(xe,$[0]),Ne=Math.max(Ne,$[N-1])),w.notched&&(xe=Math.min(xe,R.ln),Ne=Math.max(Ne,R.un)),R.min=xe,R.max=Ne}else{var Se;A.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+R.q1,"median = "+R.med,"q3 = "+R.q3].join("\n")),R.med=Se=R.med!==T?R.med:R.q1!==T?R.q3!==T?(R.q1+R.q3)/2:R.q1:R.q3!==T?R.q3:0,R.q1=R.q3=Se,R.lf=R.uf=Se,R.mean=R.sd=Se,R.ln=R.un=Se,R.min=R.max=Se}ue=Math.min(ue,R.min),fe=Math.max(fe,R.max),R.pts2=z.filter(K),L.push(R)}}w._extremes[_._id]=S.findExtremes(_,[ue,fe],{padded:!0})}else{var Ce=_.makeCalcdata(w,x),pe=function(Ge,He){for(var Ke=Ge.length,et=new Array(Ke+1),st=0;st<Ke;st++)et[st]=Ge[st]-He;return et[Ke]=Ge[Ke-1]+He,et}(re,Q),de=re.length,se=function(Ge){for(var He=new Array(Ge),Ke=0;Ke<Ge;Ke++)He[Ke]=[];return He}(de);for(v=0;v<w._length;v++)if(C(H=Ce[v])){var we=A.findBin(Z[v],pe);we>=0&&we<de&&(t(W={v:H,i:v},w,v),se[we].push(W))}var Re=1/0,Ee=-1/0,Ue=w.quartilemethod,$e="exclusive"===Ue,ve="inclusive"===Ue;for(v=0;v<de;v++)if(se[v].length>0){var Ie,De;(R={}).pos=R[M]=re[v],z=R.pts=se[v].sort(o),N=($=R[x]=z.map(r)).length,R.min=$[0],R.max=$[N-1],R.mean=A.mean($,N),R.sd=A.stdev($,N,R.mean),R.med=A.interp($,.5),N%2&&($e||ve)?($e?(Ie=$.slice(0,N/2),De=$.slice(N/2+1)):ve&&(Ie=$.slice(0,N/2+1),De=$.slice(N/2)),R.q1=A.interp(Ie,.5),R.q3=A.interp(De,.5)):(R.q1=A.interp($,.25),R.q3=A.interp($,.75)),R.lf=n(R,$,N),R.uf=a(R,$,N),R.lo=s(R),R.uo=c(R);var ze=p(R,N);R.ln=R.med-ze,R.un=R.med+ze,Re=Math.min(Re,R.ln),Ee=Math.max(Ee,R.un),R.pts2=z.filter(K),L.push(R)}w._extremes[_._id]=S.findExtremes(_,w.notched?Ce.concat([Re,Ee]):Ce,{padded:!0})}return function(Ge,He){if(A.isArrayOrTypedArray(He.selectedpoints))for(var Ke=0;Ke<Ge.length;Ke++){for(var et=Ge[Ke].pts||[],st={},mt=0;mt<et.length;mt++)st[et[mt].i]=mt;A.tagSelected(et,He,st)}}(L,w),L.length>0?(L[0].t={num:E[P],dPos:Q,posLetter:M,valLetter:x,labels:{med:m(f,"median:"),min:m(f,"min:"),q1:m(f,"q1:"),q3:m(f,"q3:"),max:m(f,"max:"),mean:m(f,"sd"===w.boxmean?"mean \xb1 \u03c3:":"mean:"),lf:m(f,"lower fence:"),uf:m(f,"upper fence:")}},E[P]++,L):[{t:{empty:!0}}]};var l={text:"tx",hovertext:"htx"};function t(f,w,v){for(var h in l)A.isArrayOrTypedArray(w[h])&&(Array.isArray(v)?A.isArrayOrTypedArray(w[h][v[0]])&&(f[l[h]]=w[h][v[0]][v[1]]):f[l[h]]=w[h][v])}function o(f,w){return f.v-w.v}function r(f){return f.v}function n(f,w,v){return 0===v?f.q1:Math.min(f.q1,w[Math.min(A.findBin(2.5*f.q1-1.5*f.q3,w,!0)+1,v-1)])}function a(f,w,v){return 0===v?f.q3:Math.max(f.q3,w[Math.max(A.findBin(2.5*f.q3-1.5*f.q1,w),0)])}function s(f){return 4*f.q1-3*f.q3}function c(f){return 4*f.q3-3*f.q1}function p(f,w){return 0===w?0:1.57*(f.q3-f.q1)/Math.sqrt(w)}},37188:function(ie,B,e){"use strict";var C=e(89298),S=e(71828),u=e(99082).getAxisGroup,A=["v","h"];function T(m,l,t,o){var r,n,a,s=l.calcdata,c=l._fullLayout,p=o._id,f=p.charAt(0),w=[],v=0;for(r=0;r<t.length;r++)for(a=s[t[r]],n=0;n<a.length;n++)w.push(o.c2l(a[n].pos,!0)),v+=(a[n].pts2||[]).length;if(w.length){var h=S.distinctVals(w);"category"!==o.type&&"multicategory"!==o.type||(h.minDiff=1);var _=h.minDiff/2;C.minDtick(o,h.minDiff,h.vals[0],!0);var x=c["violin"===m?"_numViolins":"_numBoxes"],b="group"===c[m+"mode"]&&x>1,M=1-c[m+"gap"],d=1-c[m+"groupgap"];for(r=0;r<t.length;r++){var E,k,I,L,P,R,z=(a=s[t[r]])[0].trace,$=a[0].t,N=z.width,W=z.side;if(N)E=k=L=N/2,I=0;else if(E=_,b){var H=u(c,o._id)+z.orientation,Z=Object.keys(((c._alignmentOpts[H]||{})[z.alignmentgroup]||{}).offsetGroups||{}).length,Y=Z||x;k=E*M*d/Y,I=2*E*(((Z?z._offsetIndex:$.num)+.5)/Y-.5)*M,L=E*M/Y}else k=E*M*d,I=0,L=E;$.dPos=E,$.bPos=I,$.bdPos=k,$.wHover=L;var ae,re,Q,K,te,oe,ue=I+k,fe=!!N;if("positive"===W?(P=E*(N?1:.5),ae=ue,R=ae=I):"negative"===W?(P=ae=I,R=E*(N?1:.5),re=ue):(P=R=E,ae=re=ue),(z.boxpoints||z.points)&&v>0){var he=z.pointpos,me=z.jitter,ke=z.marker.size/2,Pe=0;he+me>=0&&((Pe=ue*(he+me))>P?(fe=!0,te=ke,Q=Pe):Pe>ae&&(te=ke,Q=P)),Pe<=P&&(Q=P);var Te=0;he-me<=0&&((Te=-ue*(he-me))>R?(fe=!0,oe=ke,K=Te):Te>re&&(oe=ke,K=R)),Te<=R&&(K=R)}else Q=P,K=R;var be=new Array(a.length);for(n=0;n<a.length;n++)be[n]=a[n].pos;z._extremes[p]=C.findExtremes(o,be,{padded:fe,vpadminus:K,vpadplus:Q,vpadLinearized:!0,ppadminus:{x:oe,y:te}[f],ppadplus:{x:te,y:oe}[f]})}}}ie.exports={crossTraceCalc:function(m,l){for(var t=m.calcdata,o=l.xaxis,r=l.yaxis,n=0;n<A.length;n++){for(var a=A[n],s="h"===a?r:o,c=[],p=0;p<t.length;p++){var f=t[p],v=f[0].trace;!0!==v.visible||"box"!==v.type&&"candlestick"!==v.type||f[0].t.empty||(v.orientation||"v")!==a||v.xaxis!==o._id||v.yaxis!==r._id||c.push(p)}T("box",m,c,s)}},setPositionOffset:T}},36411:function(ie,B,e){"use strict";var C=e(71828),S=e(73972),u=e(7901),A=e(73927),T=e(26125),m=e(4322),l=e(53522);function t(r,n,a,s){function c(W){var H=0;return W&&W.length&&(H+=1,C.isArrayOrTypedArray(W[0])&&W[0].length&&(H+=1)),H}function p(W){return C.validate(r[W],l[W])}var f,w=a("y"),v=a("x");if("box"===n.type){var h=a("q1"),_=a("median"),x=a("q3");n._hasPreCompStats=h&&h.length&&_&&_.length&&x&&x.length,f=Math.min(C.minRowLength(h),C.minRowLength(_),C.minRowLength(x))}var b,M,d=c(w),E=c(v),k=d&&C.minRowLength(w),I=E&&C.minRowLength(v),L=s.calendar,P={autotypenumbers:s.autotypenumbers};if(n._hasPreCompStats)switch(String(E)+String(d)){case"00":var R=p("x0")||p("dx");b=!p("y0")&&!p("dy")||R?"v":"h",M=f;break;case"10":b="v",M=Math.min(f,I);break;case"20":b="h",M=Math.min(f,v.length);break;case"01":b="h",M=Math.min(f,k);break;case"02":b="v",M=Math.min(f,w.length);break;case"12":b="v",M=Math.min(f,I,w.length);break;case"21":b="h",M=Math.min(f,v.length,k);break;case"11":M=0;break;case"22":var z,$=!1;for(z=0;z<v.length;z++)if("category"===m(v[z],L,P)){$=!0;break}if($)b="v",M=Math.min(f,I,w.length);else{for(z=0;z<w.length;z++)if("category"===m(w[z],L,P)){$=!0;break}$?(b="h",M=Math.min(f,v.length,k)):(b="v",M=Math.min(f,I,w.length))}}else d>0?(b="v",M=E>0?Math.min(I,k):Math.min(k)):E>0?(b="h",M=Math.min(I)):M=0;if(M){n._length=M;var N=a("orientation",b);n._hasPreCompStats?"v"===N&&0===E?(a("x0",0),a("dx",1)):"h"===N&&0===d&&(a("y0",0),a("dy",1)):"v"===N&&0===E?a("x0"):"h"===N&&0===d&&a("y0"),S.getComponentMethod("calendars","handleTraceDefaults")(r,n,["x","y"],s)}else n.visible=!1}function o(r,n,a,s){var c=s.prefix,p=C.coerce2(r,n,l,"marker.outliercolor"),f=a("marker.line.outliercolor"),w="outliers";n._hasPreCompStats?w="all":(p||f)&&(w="suspectedoutliers");var v=a(c+"points",w);v?(a("jitter","all"===v?.3:0),a("pointpos","all"===v?-1.5:0),a("marker.symbol"),a("marker.opacity"),a("marker.size"),a("marker.angle"),a("marker.color",n.line.color),a("marker.line.color"),a("marker.line.width"),"suspectedoutliers"===v&&(a("marker.line.outliercolor",n.marker.color),a("marker.line.outlierwidth")),a("selected.marker.color"),a("unselected.marker.color"),a("selected.marker.size"),a("unselected.marker.size"),a("text"),a("hovertext")):delete n.marker;var h=a("hoveron");"all"!==h&&-1===h.indexOf("points")||a("hovertemplate"),C.coerceSelectionMarkerOpacity(n,a)}ie.exports={supplyDefaults:function(r,n,a,s){function c(x,b){return C.coerce(r,n,l,x,b)}if(t(r,n,c,s),!1!==n.visible){A(r,n,s,c),c("xhoverformat"),c("yhoverformat");var p=n._hasPreCompStats;p&&(c("lowerfence"),c("upperfence")),c("line.color",(r.marker||{}).color||a),c("line.width"),c("fillcolor",u.addOpacity(n.line.color,.5));var f=!1;if(p){var w=c("mean"),v=c("sd");w&&w.length&&(f=!0,v&&v.length&&(f="sd"))}c("boxmean",f),c("whiskerwidth"),c("width"),c("quartilemethod");var h=!1;if(p){var _=c("notchspan");_&&_.length&&(h=!0)}else C.validate(r.notchwidth,l.notchwidth)&&(h=!0);c("notched",h)&&c("notchwidth"),o(r,n,c,{prefix:"box"})}},crossTraceDefaults:function(r,n){var s;function c(w){return C.coerce(s._input,s,l,w)}for(var p=0;p<r.length;p++){var f=(s=r[p]).type;"box"!==f&&"violin"!==f||"group"===n[f+"mode"]&&T(s._input,s,n,c)}},handleSampleDefaults:t,handlePointsDefaults:o}},74907:function(ie){"use strict";ie.exports=function(B,e){return e.hoverOnBox&&(B.hoverOnBox=e.hoverOnBox),"xVal"in e&&(B.x=e.xVal),"yVal"in e&&(B.y=e.yVal),e.xa&&(B.xaxis=e.xa),e.ya&&(B.yaxis=e.ya),B}},41868:function(ie,B,e){"use strict";var C=e(89298),S=e(71828),u=e(30211),A=e(7901),T=S.fillText;function m(t,o,r,n){var a,s,c,p,f,w,v,h,_,x,b,M,d,E,k=t.cd,I=t.xa,L=t.ya,P=k[0].trace,R=k[0].t,z="violin"===P.type,$=R.bdPos,N=R.wHover,W=function(Se){return c.c2l(Se.pos)+R.bPos-c.c2l(w)};z&&"both"!==P.side?("positive"===P.side&&(_=function(Se){var Ce=W(Se);return u.inbox(Ce,Ce+N,x)},M=$,d=0),"negative"===P.side&&(_=function(Se){var Ce=W(Se);return u.inbox(Ce-N,Ce,x)},M=0,d=$)):(_=function(Se){var Ce=W(Se);return u.inbox(Ce-N,Ce+N,x)},M=d=$),E=z?function(Se){return u.inbox(Se.span[0]-f,Se.span[1]-f,x)}:function(Se){return u.inbox(Se.min-f,Se.max-f,x)},"h"===P.orientation?(f=o,w=r,v=E,h=_,a="y",c=L,s="x",p=I):(f=r,w=o,v=_,h=E,a="x",c=I,s="y",p=L);var H=Math.min(1,$/Math.abs(c.r2c(c.range[1])-c.r2c(c.range[0])));function U(Se){return(v(Se)+h(Se))/2}x=t.maxHoverDistance-H,b=t.maxSpikeDistance-H;var Z=u.getDistanceFunction(n,v,h,U);if(u.getClosest(k,Z,t),!1===t.index)return[];var Y=k[t.index],ae=P.line.color,re=(P.marker||{}).color;t.color=A.opacity(ae)&&P.line.width?ae:A.opacity(re)&&P.boxpoints?re:P.fillcolor,t[a+"0"]=c.c2p(Y.pos+R.bPos-d,!0),t[a+"1"]=c.c2p(Y.pos+R.bPos+M,!0),t[a+"LabelVal"]=void 0!==Y.orig_p?Y.orig_p:Y.pos;var Q=a+"Spike";t.spikeDistance=U(Y)*b/x,t[Q]=c.c2p(Y.pos,!0);var K=P.boxmean||(P.meanline||{}).visible,te=P.boxpoints||P.points,oe=te&&K?["max","uf","q3","med","mean","q1","lf","min"]:te&&!K?["max","uf","q3","med","q1","lf","min"]:!te&&K?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"];P.orientation===(p.range[1]<p.range[0]?"v":"h")&&oe.reverse();for(var fe=t.spikeDistance,he=t[Q],me=[],ke=0;ke<oe.length;ke++){var Pe=oe[ke];if(Pe in Y){var Te=Y[Pe],be=p.c2p(Te,!0),xe=S.extendFlat({},t);xe.attr=Pe,xe[s+"0"]=xe[s+"1"]=be,xe[s+"LabelVal"]=Te,xe[s+"Label"]=(R.labels?R.labels[Pe]+" ":"")+C.hoverLabelText(p,Te,P[s+"hoverformat"]),xe.hoverOnBox=!0,"mean"===Pe&&"sd"in Y&&"sd"===P.boxmean&&(xe[s+"err"]=Y.sd),xe.hovertemplate=!1,me.push(xe)}}t.name="",t.spikeDistance=void 0,t[Q]=void 0;for(var Ne=0;Ne<me.length;Ne++)"med"!==me[Ne].attr?(me[Ne].name="",me[Ne].spikeDistance=void 0,me[Ne][Q]=void 0):(me[Ne].spikeDistance=fe,me[Ne][Q]=he);return me}function l(t,o,r){for(var n,a,s,c=t.cd,p=t.xa,f=t.ya,w=c[0].trace,v=p.c2p(o),h=f.c2p(r),_=u.quadrature(function(z){var $=Math.max(3,z.mrc||0);return Math.max(Math.abs(p.c2p(z.x)-v)-$,1-3/$)},function(z){var $=Math.max(3,z.mrc||0);return Math.max(Math.abs(f.c2p(z.y)-h)-$,1-3/$)}),x=!1,b=0;b<c.length;b++){a=c[b];for(var M=0;M<(a.pts||[]).length;M++){var d=_(s=a.pts[M]);d<=t.distance&&(t.distance=d,x=[b,M])}}if(!x)return!1;s=(a=c[x[0]]).pts[x[1]];var E=p.c2p(s.x,!0),k=f.c2p(s.y,!0),I=s.mrc||1;n=S.extendFlat({},t,{index:s.i,color:(w.marker||{}).color,name:w.name,x0:E-I,x1:E+I,y0:k-I,y1:k+I,spikeDistance:t.distance,hovertemplate:w.hovertemplate});var L,P=a.orig_p,R=void 0!==P?P:a.pos;return"h"===w.orientation?(L=f,n.xLabelVal=s.x,n.yLabelVal=R):(L=p,n.xLabelVal=R,n.yLabelVal=s.y),n[L._id.charAt(0)+"Spike"]=L.c2p(a.pos,!0),T(s,w,n),n}ie.exports={hoverPoints:function(t,o,r,n){var a,s=t.cd[0].trace.hoveron,c=[];return-1!==s.indexOf("boxes")&&(c=c.concat(m(t,o,r,n))),-1!==s.indexOf("points")&&(a=l(t,o,r)),"closest"===n?a?[a]:c:(a&&c.push(a),c)},hoverOnBoxes:m,hoverOnPoints:l}},83832:function(ie,B,e){"use strict";ie.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(ie){"use strict";ie.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(ie,B,e){"use strict";var C=e(73972),S=e(71828),u=e(40094);function A(T,m,l,t,o){for(var r=o+"Layout",n=!1,a=0;a<l.length;a++)if(C.traceIs(l[a],r)){n=!0;break}n&&(t(o+"mode"),t(o+"gap"),t(o+"groupgap"))}ie.exports={supplyLayoutDefaults:function(T,m,l){A(0,0,l,function(t,o){return S.coerce(T,m,u,t,o)},"box")},_supply:A}},86047:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(91424);function A(l,t,o,r,n){var a,s,c="h"===o.orientation,p=t.val,f=t.pos,w=!!f.rangebreaks,v=r.bPos,h=r.wdPos||0,_=r.bPosPxOffset||0,x=o.whiskerwidth||0,b=o.notched||!1,M=b?1-2*o.notchwidth:1;Array.isArray(r.bdPos)?(a=r.bdPos[0],s=r.bdPos[1]):(a=r.bdPos,s=r.bdPos);var d=l.selectAll("path.box").data("violin"!==o.type||o.box.visible?S.identity:[]);d.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","box"),d.exit().remove(),d.each(function(E){if(E.empty)return"M0,0Z";var k=f.c2l(E.pos+v,!0),I=f.l2p(k-a)+_,L=f.l2p(k+s)+_,P=w?(I+L)/2:f.l2p(k)+_,R=o.whiskerwidth,z=w?I*R+(1-R)*P:f.l2p(k-h)+_,$=w?L*R+(1-R)*P:f.l2p(k+h)+_,N=f.l2p(k-a*M)+_,W=f.l2p(k+s*M)+_,H=p.c2p(E.q1,!0),U=p.c2p(E.q3,!0),Z=S.constrain(p.c2p(E.med,!0),Math.min(H,U)+1,Math.max(H,U)-1),Y=void 0===E.lf||!1===o.boxpoints,ae=p.c2p(Y?E.min:E.lf,!0),re=p.c2p(Y?E.max:E.uf,!0),Q=p.c2p(E.ln,!0),K=p.c2p(E.un,!0);c?C.select(this).attr("d","M"+Z+","+N+"V"+W+"M"+H+","+I+"V"+L+(b?"H"+Q+"L"+Z+","+W+"L"+K+","+L:"")+"H"+U+"V"+I+(b?"H"+K+"L"+Z+","+N+"L"+Q+","+I:"")+"ZM"+H+","+P+"H"+ae+"M"+U+","+P+"H"+re+(0===x?"":"M"+ae+","+z+"V"+$+"M"+re+","+z+"V"+$)):C.select(this).attr("d","M"+N+","+Z+"H"+W+"M"+I+","+H+"H"+L+(b?"V"+Q+"L"+W+","+Z+"L"+L+","+K:"")+"V"+U+"H"+I+(b?"V"+K+"L"+N+","+Z+"L"+I+","+Q:"")+"ZM"+P+","+H+"V"+ae+"M"+P+","+U+"V"+re+(0===x?"":"M"+z+","+ae+"H"+$+"M"+z+","+re+"H"+$))})}function T(l,t,o,r){var n=t.x,a=t.y,s=r.bdPos,c=r.bPos,p=o.boxpoints||o.points;S.seedPseudoRandom();var f=l.selectAll("g.points").data(p?function(v){return v.forEach(function(h){h.t=r,h.trace=o}),v}:[]);f.enter().append("g").attr("class","points"),f.exit().remove();var w=f.selectAll("path").data(function(v){var h,_,x=v.pts2,b=Math.max((v.max-v.min)/10,v.q3-v.q1),M=1e-9*b,d=.01*b,E=[],k=0;if(o.jitter){if(0===b)for(k=1,E=new Array(x.length),h=0;h<x.length;h++)E[h]=1;else for(h=0;h<x.length;h++){var I=Math.max(0,h-5),L=x[I].v,P=Math.min(x.length-1,h+5),R=x[P].v;"all"!==p&&(x[h].v<v.lf?R=Math.min(R,v.lf):L=Math.max(L,v.uf));var z=Math.sqrt(d*(P-I)/(R-L+M))||0;z=S.constrain(Math.abs(z),0,1),E.push(z),k=Math.max(z,k)}_=2*o.jitter/(k||1)}for(h=0;h<x.length;h++){var $=x[h],N=$.v,W=o.jitter?_*E[h]*(S.pseudoRandom()-.5):0,H=v.pos+c+s*(o.pointpos+W);"h"===o.orientation?($.y=H,$.x=N):($.x=H,$.y=N),"suspectedoutliers"===p&&N<v.uo&&N>v.lo&&($.so=!0)}return x});w.enter().append("path").classed("point",!0),w.exit().remove(),w.call(u.translatePoints,n,a)}function m(l,t,o,r){var n,a,s=t.val,c=t.pos,p=!!c.rangebreaks,f=r.bPos,w=r.bPosPxOffset||0,v=o.boxmean||(o.meanline||{}).visible;Array.isArray(r.bdPos)?(n=r.bdPos[0],a=r.bdPos[1]):(n=r.bdPos,a=r.bdPos);var h=l.selectAll("path.mean").data("box"===o.type&&o.boxmean||"violin"===o.type&&o.box.visible&&o.meanline.visible?S.identity:[]);h.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),h.exit().remove(),h.each(function(_){var x=c.c2l(_.pos+f,!0),b=c.l2p(x-n)+w,M=c.l2p(x+a)+w,d=p?(b+M)/2:c.l2p(x)+w,E=s.c2p(_.mean,!0),k=s.c2p(_.mean-_.sd,!0),I=s.c2p(_.mean+_.sd,!0);"h"===o.orientation?C.select(this).attr("d","M"+E+","+b+"V"+M+("sd"===v?"m0,0L"+k+","+d+"L"+E+","+b+"L"+I+","+d+"Z":"")):C.select(this).attr("d","M"+b+","+E+"H"+M+("sd"===v?"m0,0L"+d+","+k+"L"+b+","+E+"L"+d+","+I+"Z":""))})}ie.exports={plot:function(l,t,o,r){var n=l._context.staticPlot,a=t.xaxis,s=t.yaxis;S.makeTraceGroups(r,o,"trace boxes").each(function(c){var p,f,w=C.select(this),v=c[0],h=v.t,_=v.trace;h.wdPos=h.bdPos*_.whiskerwidth,!0!==_.visible||h.empty?w.remove():("h"===_.orientation?(p=s,f=a):(p=a,f=s),A(w,{pos:p,val:f},_,h,n),T(w,{x:a,y:s},_,h),m(w,{pos:p,val:f},_,h))})},plotBoxAndWhiskers:A,plotPoints:T,plotBoxMean:m}},24626:function(ie){"use strict";ie.exports=function(B,e){var C,S,u=B.cd,A=B.xaxis,T=B.yaxis,m=[];if(!1===e)for(C=0;C<u.length;C++)for(S=0;S<(u[C].pts||[]).length;S++)u[C].pts[S].selected=0;else for(C=0;C<u.length;C++)for(S=0;S<(u[C].pts||[]).length;S++){var l=u[C].pts[S],t=A.c2p(l.x),o=T.c2p(l.y);e.contains([t,o],null,l.i,B)?(m.push({pointNumber:l.i,x:A.c2d(l.x),y:T.c2d(l.y)}),l.selected=1):l.selected=0}return m}},58063:function(ie,B,e){"use strict";var C=e(39898),S=e(7901),u=e(91424);ie.exports={style:function(A,T,m){var l=m||C.select(A).selectAll("g.trace.boxes");l.style("opacity",function(t){return t[0].trace.opacity}),l.each(function(t){var o=C.select(this),r=t[0].trace,n=r.line.width;function a(p,f,w,v){p.style("stroke-width",f+"px").call(S.stroke,w).call(S.fill,v)}var s=o.selectAll("path.box");if("candlestick"===r.type)s.each(function(p){if(!p.empty){var f=C.select(this),w=r[p.dir];a(f,w.line.width,w.line.color,w.fillcolor),f.style("opacity",r.selectedpoints&&!p.selected?.3:1)}});else{a(s,n,r.line.color,r.fillcolor),o.selectAll("path.mean").style({"stroke-width":n,"stroke-dasharray":2*n+"px,"+n+"px"}).call(S.stroke,r.line.color);var c=o.selectAll("path.point");u.pointStyle(c,r,A)}})},styleOnSelect:function(A,T,m){var l=T[0].trace,t=m.selectAll("path.point");l.selectedpoints?u.selectedPointStyle(t,l):u.pointStyle(t,l,A)}}},75343:function(ie,B,e){"use strict";var C=e(71828).extendFlat,S=e(12663).axisHoverFormat,u=e(2522),A=e(53522);function T(m){return{line:{color:C({},A.line.color,{dflt:m}),width:A.line.width,editType:"style"},fillcolor:A.fillcolor,editType:"style"}}ie.exports={xperiod:u.xperiod,xperiod0:u.xperiod0,xperiodalignment:u.xperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),x:u.x,open:u.open,high:u.high,low:u.low,close:u.close,line:{width:C({},A.line.width,{}),editType:"style"},increasing:T(u.increasing.line.color.dflt),decreasing:T(u.decreasing.line.color.dflt),text:u.text,hovertext:u.hovertext,whiskerwidth:C({},A.whiskerwidth,{dflt:0}),hoverlabel:u.hoverlabel}},41197:function(ie,B,e){"use strict";var C=e(71828),S=e(89298),u=e(42973),A=e(3485).calcCommon;function T(m,l,t,o){return{min:t,q1:Math.min(m,o),med:o,q3:Math.max(m,o),max:l}}ie.exports=function(m,l){var t=m._fullLayout,o=S.getFromId(m,l.xaxis),r=S.getFromId(m,l.yaxis),n=o.makeCalcdata(l,"x"),a=u(l,o,"x",n).vals,s=A(m,l,n,a,r,T);return s.length?(C.extendFlat(s[0].t,{num:t._numBoxes,dPos:C.distinctVals(a).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,s):[{t:{empty:!0}}]}},1026:function(ie,B,e){"use strict";var C=e(71828),S=e(7901),u=e(14555),A=e(73927),T=e(75343);function m(l,t,o,r){var n=o(r+".line.color");o(r+".line.width",t.line.width),o(r+".fillcolor",S.addOpacity(n,.5))}ie.exports=function(l,t,o,r){function n(a,s){return C.coerce(l,t,T,a,s)}u(l,t,n,r)?(A(l,t,r,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),m(0,t,n,"increasing"),m(0,t,n,"decreasing"),n("text"),n("hovertext"),n("whiskerwidth"),r._requestRangeslider[t.xaxis]=!0):t.visible=!1}},91815:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(ie,B,e){"use strict";var C=e(11500),S=e(44467);ie.exports=function(u,A,T,m,l){var t,o,r,n;m("a")||(m("da"),m("a0")),m("b")||(m("db"),m("b0")),t=u,o=A,r=T,n=l,["aaxis","baxis"].forEach(function(a){var s=a.charAt(0),c=t[a]||{},p=S.newContainer(o,a);C(c,p,{noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:o.font,name:a,data:t[s],calendar:o.calendar,dfltColor:n,bgColor:r.paper_bgcolor,autotypenumbersDflt:r.autotypenumbers,fullLayout:r}),p._categories=p._categories||[],t[a]||"-"===c.type||(t[a]={type:c.type})})}},402:function(ie,B,e){"use strict";var C=e(71828).isArrayOrTypedArray;function S(u,A){if(!C(u)||A>=10)return null;for(var T=1/0,m=-1/0,l=u.length,t=0;t<l;t++){var o=u[t];if(C(o)){var r=S(o,A+1);r&&(T=Math.min(r[0],T),m=Math.max(r[1],m))}else T=Math.min(o,T),m=Math.max(o,m)}return[T,m]}ie.exports=function(u){return S(u,0)}},99798:function(ie,B,e){"use strict";var C=e(41940),S=e(1928),u=e(22399),A=C({editType:"calc"});A.family.dflt='"Open Sans", verdana, arial, sans-serif',A.size.dflt=12,A.color.dflt=u.defaultLine,ie.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:S,baxis:S,font:A,color:{valType:"color",dflt:u.defaultLine,editType:"plot"},transforms:void 0}},4536:function(ie,B,e){"use strict";var C=e(71828).isArrayOrTypedArray;ie.exports=function(S,u,A,T){var m,l,t,o,r,n,a,s,c,p,f,w,v,h=C(A)?"a":"b",_=("a"===h?S.aaxis:S.baxis).smoothing,x="a"===h?S.a2i:S.b2j,b="a"===h?A:T,M="a"===h?T:A,d="a"===h?u.a.length:u.b.length,E="a"===h?u.b.length:u.a.length,k=Math.floor("a"===h?S.b2j(M):S.a2i(M)),I="a"===h?function(ae){return S.evalxy([],ae,k)}:function(ae){return S.evalxy([],k,ae)};_&&(t=Math.max(0,Math.min(E-2,k)),o=k-t,l="a"===h?function(ae,re){return S.dxydi([],ae,t,re,o)}:function(ae,re){return S.dxydj([],t,ae,o,re)});var L=x(b[0]),P=x(b[1]),R=L<P?1:-1,z=1e-8*(P-L),$=R>0?Math.floor:Math.ceil,N=R>0?Math.ceil:Math.floor,W=R>0?Math.min:Math.max,H=R>0?Math.max:Math.min,U=$(L+z),Z=N(P-z),Y=[[a=I(L)]];for(m=U;m*R<Z*R;m+=R)r=[],f=H(L,m),v=(w=W(P,m+R))-f,n=Math.max(0,Math.min(d-2,Math.floor(.5*(f+w)))),s=I(w),_&&(c=l(n,f-n),p=l(n,w-n),r.push([a[0]+c[0]/3*v,a[1]+c[1]/3*v]),r.push([s[0]-p[0]/3*v,s[1]-p[1]/3*v])),r.push(s),Y.push(r),a=s;return Y}},1928:function(ie,B,e){"use strict";var C=e(41940),S=e(22399),u=e(13838),A=e(12663).descriptionWithDates,T=e(30962).overrideAll,m=e(79952).P,l=e(1426).extendFlat;ie.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:C({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:u.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:l({},u.labelalias,{editType:"calc"}),tickfont:C({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:A("tick label")},tickformatstops:T(u.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:S.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:l({},m,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:l({},m,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:S.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:C({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(ie,B,e){"use strict";var C=e(99798),S=e(7901).addOpacity,u=e(73972),A=e(71828),T=e(26218),m=e(96115),l=e(89426),t=e(15258),o=e(21994),r=e(4322);ie.exports=function(n,a,s){var c=s.letter,p=s.font||{},f=C[c+"axis"];function w(R,z){return A.coerce(n,a,f,R,z)}function v(R,z){return A.coerce2(n,a,f,R,z)}s.name&&(a._name=s.name,a._id=s.name),w("autotypenumbers",s.autotypenumbersDflt);var h=w("type");"-"===h&&(s.data&&function(R,z){if("-"===R.type){var $=R._id.charAt(0);R.type=r(z,R[$+"calendar"],{autotypenumbers:R.autotypenumbers})}}(a,s.data),"-"===a.type?a.type="linear":h=n.type=a.type),w("smoothing"),w("cheatertype"),w("showticklabels"),w("labelprefix",c+" = "),w("labelsuffix"),w("showtickprefix"),w("showticksuffix"),w("separatethousands"),w("tickformat"),w("exponentformat"),w("minexponent"),w("showexponent"),w("categoryorder"),w("tickmode"),w("tickvals"),w("ticktext"),w("tick0"),w("dtick"),"array"===a.tickmode&&(w("arraytick0"),w("arraydtick")),w("labelpadding"),a._hovertitle=c,"date"===h&&u.getComponentMethod("calendars","handleDefaults")(n,a,"calendar",s.calendar),o(a,s.fullLayout),a.c2p=A.identity;var _=w("color",s.dfltColor),x=_===n.color?_:p.color;w("title.text")&&(A.coerceFont(w,"title.font",{family:p.family,size:A.bigFont(p.size),color:x}),w("title.offset")),w("tickangle"),w("autorange",!a.isValidRange(n.range))&&w("rangemode"),w("range"),a.cleanRange(),w("fixedrange"),T(n,a,w,h),l(n,a,w,h,s),m(n,a,w,h,s),t(n,a,w,{data:s.data,dataAttr:c});var b=v("gridcolor",S(_,.3)),M=v("gridwidth"),d=v("griddash"),E=w("showgrid");E||(delete a.gridcolor,delete a.gridwidth,delete a.griddash);var k=v("startlinecolor",_),I=v("startlinewidth",M);w("startline",a.showgrid||!!k||!!I)||(delete a.startlinecolor,delete a.startlinewidth);var L=v("endlinecolor",_),P=v("endlinewidth",M);return w("endline",a.showgrid||!!L||!!P)||(delete a.endlinecolor,delete a.endlinewidth),E?(w("minorgridcount"),w("minorgridwidth",M),w("minorgriddash",d),w("minorgridcolor",S(b,.06)),a.minorgridcount||(delete a.minorgridwidth,delete a.minorgriddash,delete a.minorgridcolor)):(delete a.gridcolor,delete a.gridwidth,delete a.griddash),"none"===a.showticklabels&&(delete a.tickfont,delete a.tickangle,delete a.showexponent,delete a.exponentformat,delete a.minexponent,delete a.tickformat,delete a.showticksuffix,delete a.showtickprefix),a.showticksuffix||delete a.ticksuffix,a.showtickprefix||delete a.tickprefix,w("tickmode"),a}},25281:function(ie,B,e){"use strict";var C=e(89298),S=e(71828).isArray1D,u=e(53824),A=e(402),T=e(20347),m=e(83311),l=e(44807),t=e(4742),o=e(72505),r=e(68296),n=e(11435);ie.exports=function(a,s){var c=C.getFromId(a,s.xaxis),p=C.getFromId(a,s.yaxis),f=s.aaxis,w=s.baxis,v=s.x,h=s.y,_=[];v&&S(v)&&_.push("x"),h&&S(h)&&_.push("y"),_.length&&r(s,f,w,"a","b",_);var x=s._a=s._a||s.a,b=s._b=s._b||s.b;v=s._x||s.x,h=s._y||s.y;var M={};s._cheater&&(v=u("index"===f.cheatertype?x.length:x,"index"===w.cheatertype?b.length:b,s.cheaterslope)),s._x=v=t(v),s._y=h=t(h),o(v,x,b),o(h,x,b),n(s),s.setScale();var k=A(v),I=A(h),L=.5*(k[1]-k[0]),P=.5*(k[1]+k[0]),R=.5*(I[1]-I[0]),z=.5*(I[1]+I[0]),$=1.3;return I=[z-R*$,z+R*$],s._extremes[c._id]=C.findExtremes(c,k=[P-L*$,P+L*$],{padded:!0}),s._extremes[p._id]=C.findExtremes(p,I,{padded:!0}),T(s,"a","b"),T(s,"b","a"),m(s,f),m(s,w),M.clipsegments=l(s._xctrl,s._yctrl,f,w),M.x=v,M.y=h,M.a=x,M.b=b,[M]}},44807:function(ie){"use strict";ie.exports=function(B,e,C,S){var u,A,T,m=[],l=!!C.smoothing,t=!!S.smoothing,o=B[0].length-1,r=B.length-1;for(u=0,A=[],T=[];u<=o;u++)A[u]=B[0][u],T[u]=e[0][u];for(m.push({x:A,y:T,bicubic:l}),u=0,A=[],T=[];u<=r;u++)A[u]=B[u][o],T[u]=e[u][o];for(m.push({x:A,y:T,bicubic:t}),u=o,A=[],T=[];u>=0;u--)A[o-u]=B[r][u],T[o-u]=e[r][u];for(m.push({x:A,y:T,bicubic:l}),u=r,A=[],T=[];u>=0;u--)A[r-u]=B[u][0],T[r-u]=e[u][0];return m.push({x:A,y:T,bicubic:t}),m}},20347:function(ie,B,e){"use strict";var C=e(89298),S=e(1426).extendFlat;ie.exports=function(u,A,T){var m,l,t,o,r,n,a,s,c,p,f,w,v,h,_=u["_"+A],x=u[A+"axis"],b=x._gridlines=[],M=x._minorgridlines=[],d=x._boundarylines=[],E=u["_"+T],k=u[T+"axis"];"array"===x.tickmode&&(x.tickvals=_.slice());var I=u._xctrl,L=u._yctrl,P=I[0].length,R=I.length,z=u._a.length,$=u._b.length;C.prepTicks(x),"array"===x.tickmode&&delete x.tickvals;var N=x.smoothing?3:1;function W(U){var Z,Y,ae,re,Q,K,te,oe,ue,fe,he,me,ke=[],Pe=[],Te={};if("b"===A)for(Y=u.b2j(U),ae=Math.floor(Math.max(0,Math.min($-2,Y))),re=Y-ae,Te.length=$,Te.crossLength=z,Te.xy=function(be){return u.evalxy([],be,Y)},Te.dxy=function(be,xe){return u.dxydi([],be,ae,xe,re)},Z=0;Z<z;Z++)K=Math.min(z-2,Z),te=Z-K,oe=u.evalxy([],Z,Y),k.smoothing&&Z>0&&(ue=u.dxydi([],Z-1,ae,0,re),ke.push(Q[0]+ue[0]/3),Pe.push(Q[1]+ue[1]/3),fe=u.dxydi([],Z-1,ae,1,re),ke.push(oe[0]-fe[0]/3),Pe.push(oe[1]-fe[1]/3)),ke.push(oe[0]),Pe.push(oe[1]),Q=oe;else for(Z=u.a2i(U),K=Math.floor(Math.max(0,Math.min(z-2,Z))),te=Z-K,Te.length=z,Te.crossLength=$,Te.xy=function(be){return u.evalxy([],Z,be)},Te.dxy=function(be,xe){return u.dxydj([],K,be,te,xe)},Y=0;Y<$;Y++)ae=Math.min($-2,Y),re=Y-ae,oe=u.evalxy([],Z,Y),k.smoothing&&Y>0&&(he=u.dxydj([],K,Y-1,te,0),ke.push(Q[0]+he[0]/3),Pe.push(Q[1]+he[1]/3),me=u.dxydj([],K,Y-1,te,1),ke.push(oe[0]-me[0]/3),Pe.push(oe[1]-me[1]/3)),ke.push(oe[0]),Pe.push(oe[1]),Q=oe;return Te.axisLetter=A,Te.axis=x,Te.crossAxis=k,Te.value=U,Te.constvar=T,Te.index=s,Te.x=ke,Te.y=Pe,Te.smoothing=k.smoothing,Te}function H(U){var Z,Y,ae,re,Q,K=[],te=[],oe={};if(oe.length=_.length,oe.crossLength=E.length,"b"===A)for(ae=Math.max(0,Math.min($-2,U)),Q=Math.min(1,Math.max(0,U-ae)),oe.xy=function(ue){return u.evalxy([],ue,U)},oe.dxy=function(ue,fe){return u.dxydi([],ue,ae,fe,Q)},Z=0;Z<P;Z++)K[Z]=I[U*N][Z],te[Z]=L[U*N][Z];else for(Y=Math.max(0,Math.min(z-2,U)),re=Math.min(1,Math.max(0,U-Y)),oe.xy=function(ue){return u.evalxy([],U,ue)},oe.dxy=function(ue,fe){return u.dxydj([],Y,ue,re,fe)},Z=0;Z<R;Z++)K[Z]=I[Z][U*N],te[Z]=L[Z][U*N];return oe.axisLetter=A,oe.axis=x,oe.crossAxis=k,oe.value=_[U],oe.constvar=T,oe.index=U,oe.x=K,oe.y=te,oe.smoothing=k.smoothing,oe}if("array"===x.tickmode){for(o=5e-15,n=(r=[Math.floor((_.length-1-x.arraytick0)/x.arraydtick*(1+o)),Math.ceil(-x.arraytick0/x.arraydtick/(1+o))].sort(function(U,Z){return U-Z}))[0]-1,a=r[1]+1,s=n;s<a;s++)(l=x.arraytick0+x.arraydtick*s)<0||l>_.length-1||b.push(S(H(l),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(s=n;s<a;s++)if(t=x.arraytick0+x.arraydtick*s,f=Math.min(t+x.arraydtick,_.length-1),!(t<0||t>_.length-1||f<0||f>_.length-1))for(w=_[t],v=_[f],m=0;m<x.minorgridcount;m++)(h=f-t)<=0||(p=w+(v-w)*(m+1)/(x.minorgridcount+1)*(x.arraydtick/h))<_[0]||p>_[_.length-1]||M.push(S(W(p),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&d.push(S(H(0),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&d.push(S(H(_.length-1),{color:x.endlinecolor,width:x.endlinewidth}))}else{for(o=5e-15,n=(r=[Math.floor((_[_.length-1]-x.tick0)/x.dtick*(1+o)),Math.ceil((_[0]-x.tick0)/x.dtick/(1+o))].sort(function(U,Z){return U-Z}))[0],a=r[1],s=n;s<=a;s++)b.push(S(W(c=x.tick0+x.dtick*s),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(s=n-1;s<a+1;s++)for(c=x.tick0+x.dtick*s,m=0;m<x.minorgridcount;m++)(p=c+x.dtick*(m+1)/(x.minorgridcount+1))<_[0]||p>_[_.length-1]||M.push(S(W(p),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&d.push(S(W(_[0]),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&d.push(S(W(_[_.length-1]),{color:x.endlinecolor,width:x.endlinewidth}))}}},83311:function(ie,B,e){"use strict";var C=e(89298),S=e(1426).extendFlat;ie.exports=function(u,A){var T,m,l,t=A._labels=[],o=A._gridlines;for(T=0;T<o.length;T++)l=o[T],-1!==["start","both"].indexOf(A.showticklabels)&&(m=C.tickText(A,l.value),S(m,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:l.xy(0),dxy:l.dxy(0,0),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:0===T,isLast:T===o.length-1}),t.push(m)),-1!==["end","both"].indexOf(A.showticklabels)&&(m=C.tickText(A,l.value),S(m,{endAnchor:!1,xy:l.xy(l.crossLength-1),dxy:l.dxy(l.crossLength-2,1),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:0===T,isLast:T===o.length-1}),t.push(m))}},42048:function(ie){"use strict";ie.exports=function(B,e,C,S){var u=B[0]-e[0],A=B[1]-e[1],T=C[0]-e[0],m=C[1]-e[1],l=Math.pow(u*u+A*A,.25),t=Math.pow(T*T+m*m,.25),o=(t*t*u-l*l*T)*S,r=(t*t*A-l*l*m)*S,n=t*(l+t)*3,a=l*(l+t)*3;return[[e[0]+(n&&o/n),e[1]+(n&&r/n)],[e[0]-(a&&o/a),e[1]-(a&&r/a)]]}},53824:function(ie,B,e){"use strict";var C=e(71828).isArrayOrTypedArray;ie.exports=function(S,u,A){var T,m,l,t,o,r,n=[],a=C(S)?S.length:S,s=C(u)?u.length:u,c=C(S)?S:null,p=C(u)?u:null;c&&(l=(c.length-1)/(c[c.length-1]-c[0])/(a-1)),p&&(t=(p.length-1)/(p[p.length-1]-p[0])/(s-1));var f=1/0,w=-1/0;for(m=0;m<s;m++)for(n[m]=[],o=p?(p[m]-p[0])*t:m/(s-1),T=0;T<a;T++)r=(c?(c[T]-c[0])*l:T/(a-1))-o*A,f=Math.min(r,f),w=Math.max(r,w),n[m][T]=r;var v=1/(w-f),h=-f*v;for(m=0;m<s;m++)for(T=0;T<a;T++)n[m][T]=v*n[m][T]+h;return n}},45664:function(ie,B,e){"use strict";var C=e(42048),S=e(71828).ensureArray;function u(A,T,m){return[(2*(-.5*m[0]+1.5*T[0])+A[0])/3,(2*(-.5*m[1]+1.5*T[1])+A[1])/3]}ie.exports=function(A,T,m,l,t,o){var r,n,a,s,c,p,f,w,v,h,_=m[0].length,x=m.length,b=t?3*_-2:_,M=o?3*x-2:x;for(A=S(A,M),T=S(T,M),a=0;a<M;a++)A[a]=S(A[a],b),T[a]=S(T[a],b);for(n=0,s=0;n<x;n++,s+=o?3:1)for(c=A[s],p=T[s],f=m[n],w=l[n],r=0,a=0;r<_;r++,a+=t?3:1)c[a]=f[r],p[a]=w[r];if(t)for(n=0,s=0;n<x;n++,s+=o?3:1){for(r=1,a=3;r<_-1;r++,a+=3)v=C([m[n][r-1],l[n][r-1]],[m[n][r],l[n][r]],[m[n][r+1],l[n][r+1]],t),A[s][a-1]=v[0][0],T[s][a-1]=v[0][1],A[s][a+1]=v[1][0],T[s][a+1]=v[1][1];h=u([A[s][0],T[s][0]],[A[s][2],T[s][2]],[A[s][3],T[s][3]]),A[s][1]=h[0],T[s][1]=h[1],h=u([A[s][b-1],T[s][b-1]],[A[s][b-3],T[s][b-3]],[A[s][b-4],T[s][b-4]]),A[s][b-2]=h[0],T[s][b-2]=h[1]}if(o)for(a=0;a<b;a++){for(s=3;s<M-3;s+=3)v=C([A[s-3][a],T[s-3][a]],[A[s][a],T[s][a]],[A[s+3][a],T[s+3][a]],o),A[s-1][a]=v[0][0],T[s-1][a]=v[0][1],A[s+1][a]=v[1][0],T[s+1][a]=v[1][1];h=u([A[0][a],T[0][a]],[A[2][a],T[2][a]],[A[3][a],T[3][a]]),A[1][a]=h[0],T[1][a]=h[1],h=u([A[M-1][a],T[M-1][a]],[A[M-3][a],T[M-3][a]],[A[M-4][a],T[M-4][a]]),A[M-2][a]=h[0],T[M-2][a]=h[1]}if(t&&o)for(s=1;s<M;s+=(s+1)%3==0?2:1){for(a=3;a<b-3;a+=3)v=C([A[s][a-3],T[s][a-3]],[A[s][a],T[s][a]],[A[s][a+3],T[s][a+3]],t),A[s][a-1]=.5*(A[s][a-1]+v[0][0]),T[s][a-1]=.5*(T[s][a-1]+v[0][1]),A[s][a+1]=.5*(A[s][a+1]+v[1][0]),T[s][a+1]=.5*(T[s][a+1]+v[1][1]);h=u([A[s][0],T[s][0]],[A[s][2],T[s][2]],[A[s][3],T[s][3]]),A[s][1]=.5*(A[s][1]+h[0]),T[s][1]=.5*(T[s][1]+h[1]),h=u([A[s][b-1],T[s][b-1]],[A[s][b-3],T[s][b-3]],[A[s][b-4],T[s][b-4]]),A[s][b-2]=.5*(A[s][b-2]+h[0]),T[s][b-2]=.5*(T[s][b-2]+h[1])}return[A,T]}},35509:function(ie){"use strict";ie.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(ie){"use strict";ie.exports=function(B,e,C){return e&&C?function(S,u,A,T,m){var l,n,a;S||(S=[]),u*=3,A*=3;var s=T*T,c=1-T,p=c*c,f=c*T*2,w=-3*p,v=3*(p-f),h=3*(f-s),_=3*s,x=m*m,b=x*m,M=1-m,d=M*M,E=d*M;for(a=0;a<B.length;a++)l=w*(n=B[a])[A][u]+v*n[A][u+1]+h*n[A][u+2]+_*n[A][u+3],S[a]=E*l+3*(d*m*(w*n[A+1][u]+v*n[A+1][u+1]+h*n[A+1][u+2]+_*n[A+1][u+3])+M*x*(w*n[A+2][u]+v*n[A+2][u+1]+h*n[A+2][u+2]+_*n[A+2][u+3]))+b*(w*n[A+3][u]+v*n[A+3][u+1]+h*n[A+3][u+2]+_*n[A+3][u+3]);return S}:e?function(S,u,A,T,m){var l,o,r;S||(S=[]),u*=3;var n=T*T,a=1-T,s=a*a,c=a*T*2,p=-3*s,f=3*(s-c),w=3*(c-n),v=3*n,h=1-m;for(o=0;o<B.length;o++)l=p*(r=B[o])[A][u]+f*r[A][u+1]+w*r[A][u+2]+v*r[A][u+3],S[o]=h*l+m*(p*r[A+1][u]+f*r[A+1][u+1]+w*r[A+1][u+2]+v*r[A+1][u+3]);return S}:C?function(S,u,A,T,m){var l,n,a;S||(S=[]),A*=3;var s=m*m,c=s*m,p=1-m,f=p*p,w=f*p;for(n=0;n<B.length;n++)l=(a=B[n])[A][u+1]-a[A][u],S[n]=w*l+3*(f*m*(a[A+1][u+1]-a[A+1][u])+p*s*(a[A+2][u+1]-a[A+2][u]))+c*(a[A+3][u+1]-a[A+3][u]);return S}:function(S,u,A,T,m){var l,o,r;S||(S=[]);var n=1-m;for(o=0;o<B.length;o++)l=(r=B[o])[A][u+1]-r[A][u],S[o]=n*l+m*(r[A+1][u+1]-r[A+1][u]);return S}}},73057:function(ie){"use strict";ie.exports=function(B,e,C){return e&&C?function(S,u,A,T,m){var l,n,a;S||(S=[]),u*=3,A*=3;var s=T*T,c=s*T,p=1-T,f=p*p,w=f*p,v=m*m,h=1-m,_=h*h,x=h*m*2,b=-3*_,M=3*(_-x),d=3*(x-v),E=3*v;for(a=0;a<B.length;a++)l=b*(n=B[a])[A][u]+M*n[A+1][u]+d*n[A+2][u]+E*n[A+3][u],S[a]=w*l+3*(f*T*(b*n[A][u+1]+M*n[A+1][u+1]+d*n[A+2][u+1]+E*n[A+3][u+1])+p*s*(b*n[A][u+2]+M*n[A+1][u+2]+d*n[A+2][u+2]+E*n[A+3][u+2]))+c*(b*n[A][u+3]+M*n[A+1][u+3]+d*n[A+2][u+3]+E*n[A+3][u+3]);return S}:e?function(S,u,A,T,m){var l,n,a;S||(S=[]),u*=3;var s=m*m,c=s*m,p=1-m,f=p*p,w=f*p;for(n=0;n<B.length;n++)l=(a=B[n])[A+1][u]-a[A][u],S[n]=w*l+3*(f*m*(a[A+1][u+1]-a[A][u+1])+p*s*(a[A+1][u+2]-a[A][u+2]))+c*(a[A+1][u+3]-a[A][u+3]);return S}:C?function(S,u,A,T,m){var l,o,r;S||(S=[]),A*=3;var n=1-T,a=m*m,s=1-m,c=s*s,p=s*m*2,f=-3*c,w=3*(c-p),v=3*(p-a),h=3*a;for(o=0;o<B.length;o++)l=f*(r=B[o])[A][u]+w*r[A+1][u]+v*r[A+2][u]+h*r[A+3][u],S[o]=n*l+T*(f*r[A][u+1]+w*r[A+1][u+1]+v*r[A+2][u+1]+h*r[A+3][u+1]);return S}:function(S,u,A,T,m){var l,o,r;S||(S=[]);var n=1-T;for(o=0;o<B.length;o++)l=(r=B[o])[A+1][u]-r[A][u],S[o]=n*l+T*(r[A+1][u+1]-r[A][u+1]);return S}}},20349:function(ie){"use strict";ie.exports=function(B,e,C,S,u){var A=e-2,T=C-2;return S&&u?function(m,l,t){var o,s,c;m||(m=[]);var p=Math.max(0,Math.min(Math.floor(l),A)),f=Math.max(0,Math.min(Math.floor(t),T)),w=Math.max(0,Math.min(1,l-p)),v=Math.max(0,Math.min(1,t-f));p*=3,f*=3;var h=w*w,_=h*w,x=1-w,b=x*x,M=b*x,d=v*v,E=d*v,k=1-v,I=k*k,L=I*k;for(c=0;c<B.length;c++)o=M*(s=B[c])[f][p]+3*(b*w*s[f][p+1]+x*h*s[f][p+2])+_*s[f][p+3],m[c]=L*o+3*(I*v*(M*s[f+1][p]+3*(b*w*s[f+1][p+1]+x*h*s[f+1][p+2])+_*s[f+1][p+3])+k*d*(M*s[f+2][p]+3*(b*w*s[f+2][p+1]+x*h*s[f+2][p+2])+_*s[f+2][p+3]))+E*(M*s[f+3][p]+3*(b*w*s[f+3][p+1]+x*h*s[f+3][p+2])+_*s[f+3][p+3]);return m}:S?function(m,l,t){m||(m=[]);var o,s,c,p=Math.max(0,Math.min(Math.floor(l),A)),f=Math.max(0,Math.min(Math.floor(t),T)),w=Math.max(0,Math.min(1,l-p)),v=Math.max(0,Math.min(1,t-f));p*=3;var h=w*w,_=h*w,x=1-w,b=x*x,M=b*x,d=1-v;for(s=0;s<B.length;s++)o=d*(c=B[s])[f][p]+v*c[f+1][p],m[s]=M*o+3*(b*w*(d*c[f][p+1]+v*c[f+1][p+1])+x*h*(d*c[f][p+2]+v*c[f+1][p+1]))+_*(d*c[f][p+3]+v*c[f+1][p+1]);return m}:u?function(m,l,t){m||(m=[]);var o,s,c,p=Math.max(0,Math.min(Math.floor(l),A)),f=Math.max(0,Math.min(Math.floor(t),T)),w=Math.max(0,Math.min(1,l-p)),v=Math.max(0,Math.min(1,t-f));f*=3;var h=v*v,_=h*v,x=1-v,b=x*x,M=b*x,d=1-w;for(s=0;s<B.length;s++)o=d*(c=B[s])[f][p]+w*c[f][p+1],m[s]=M*o+3*(b*v*(d*c[f+1][p]+w*c[f+1][p+1])+x*h*(d*c[f+2][p]+w*c[f+2][p+1]))+_*(d*c[f+3][p]+w*c[f+3][p+1]);return m}:function(m,l,t){m||(m=[]);var o,n,a,s=Math.max(0,Math.min(Math.floor(l),A)),c=Math.max(0,Math.min(Math.floor(t),T)),p=Math.max(0,Math.min(1,l-s)),f=Math.max(0,Math.min(1,t-c)),w=1-f,v=1-p;for(n=0;n<B.length;n++)o=v*(a=B[n])[c][s]+p*a[c][s+1],m[n]=w*o+f*(v*a[c+1][s]+p*a[c+1][s+1]);return m}}},92087:function(ie,B,e){"use strict";var C=e(71828),S=e(19237),u=e(13145),A=e(99798),T=e(22399);ie.exports=function(m,l,t,o){function r(a,s){return C.coerce(m,l,A,a,s)}l._clipPathId="clip"+l.uid+"carpet";var n=r("color",T.defaultLine);C.coerceFont(r,"font"),r("carpet"),u(m,l,o,r,n),l.a&&l.b?(l.a.length<3&&(l.aaxis.smoothing=0),l.b.length<3&&(l.baxis.smoothing=0),S(m,l,r)||(l.visible=!1),l._cheater&&r("cheaterslope")):l.visible=!1}},21462:function(ie,B,e){"use strict";ie.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(ie){"use strict";ie.exports=function(B,e){for(var C,S=B._fullData.length,u=0;u<S;u++){var A=B._fullData[u];if(A.index!==e.index&&"carpet"===A.type&&(C||(C=A),A.carpet===e.carpet))return A}return C}},67961:function(ie){"use strict";ie.exports=function(B,e,C){if(0===B.length)return"";var S,u=[],A=C?3:1;for(S=0;S<B.length;S+=A)u.push(B[S]+","+e[S]),C&&S<B.length-A&&(u.push("C"),u.push([B[S+1]+","+e[S+1],B[S+2]+","+e[S+2]+" "].join(" ")));return u.join(C?"":"L")}},27669:function(ie,B,e){"use strict";var C=e(71828).isArrayOrTypedArray;ie.exports=function(S,u,A){var T;for(C(S)?S.length>u.length&&(S=S.slice(0,u.length)):S=[],T=0;T<u.length;T++)S[T]=A(u[T]);return S}},11651:function(ie){"use strict";ie.exports=function(B,e,C,S,u,A){var T=u[0]*B.dpdx(e),m=u[1]*B.dpdy(C),l=1,t=1;if(A){var o=Math.sqrt(u[0]*u[0]+u[1]*u[1]),r=Math.sqrt(A[0]*A[0]+A[1]*A[1]);t=Math.max(0,(u[0]*A[0]+u[1]*A[1])/o/r)}var a=180*Math.atan2(m,T)/Math.PI;return a<-90?(a+=180,l=-l):a>90&&(a-=180,l=-l),{angle:a,flip:l,p:B.c2p(S,e,C),offsetMultplier:t}}},89740:function(ie,B,e){"use strict";var C=e(39898),S=e(91424),u=e(27669),A=e(67961),T=e(11651),m=e(63893),l=e(71828),t=l.strRotate,o=l.strTranslate,r=e(18783);function n(f,w,v,h,_,x,b){var M="const-"+_+"-lines",d=v.selectAll("."+M).data(x);d.enter().append("path").classed(M,!0).style("vector-effect",b?"none":"non-scaling-stroke"),d.each(function(E){var k=E,L=k.y,P=u([],k.x,f.c2p),R=u([],L,w.c2p),z="M"+A(P,R,k.smoothing);C.select(this).attr("d",z).style("stroke-width",k.width).style("stroke",k.color).style("stroke-dasharray",S.dashStyle(k.dash,k.width)).style("fill","none")}),d.exit().remove()}function a(f,w,v,h,_,x,b,M){var d=x.selectAll("text."+M).data(b);d.enter().append("text").classed(M,!0);var E=0,k={};return d.each(function(I,L){var P;if("auto"===I.axis.tickangle)P=T(h,w,v,I.xy,I.dxy);else{var R=(I.axis.tickangle+180)*Math.PI/180;P=T(h,w,v,I.xy,[Math.cos(R),Math.sin(R)])}L||(k={angle:P.angle,flip:P.flip});var z=(I.endAnchor?-1:1)*P.flip,$=C.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(S.font,I.font).text(I.text).call(m.convertToTspans,f),N=S.bBox(this);$.attr("transform",o(P.p[0],P.p[1])+t(P.angle)+o(I.axis.labelpadding*z,.3*N.height)),E=Math.max(E,N.width+I.axis.labelpadding)}),d.exit().remove(),k.maxExtent=E,k}ie.exports=function(f,w,v,h){var _=f._context.staticPlot,x=w.xaxis,b=w.yaxis,M=f._fullLayout._clips;l.makeTraceGroups(h,v,"trace").each(function(d){var E=C.select(this),k=d[0],I=k.trace,L=I.aaxis,P=I.baxis,R=l.ensureSingle(E,"g","minorlayer"),z=l.ensureSingle(E,"g","majorlayer"),$=l.ensureSingle(E,"g","boundarylayer"),N=l.ensureSingle(E,"g","labellayer");E.style("opacity",I.opacity),n(x,b,z,0,"a",L._gridlines,!0),n(x,b,z,0,"b",P._gridlines,!0),n(x,b,R,0,"a",L._minorgridlines,!0),n(x,b,R,0,"b",P._minorgridlines,!0),n(x,b,$,0,"a-boundary",L._boundarylines,_),n(x,b,$,0,"b-boundary",P._boundarylines,_);var U,Z,Y,re,Q,K,te,oe,ue,fe,he,me,ke,Pe,Te,W=a(f,x,b,I,0,N,L._labels,"a-label"),H=a(f,x,b,I,0,N,P._labels,"b-label");U=f,Z=N,Y=I,re=x,Q=b,K=W,te=H,me=l.aggNums(Math.min,null,Y.a),ke=l.aggNums(Math.max,null,Y.a),Pe=l.aggNums(Math.min,null,Y.b),Te=l.aggNums(Math.max,null,Y.b),fe=Y.ab2xy(oe=.5*(me+ke),ue=Pe,!0),he=Y.dxyda_rough(oe,ue),void 0===K.angle&&l.extendFlat(K,T(Y,re,Q,fe,Y.dxydb_rough(oe,ue))),p(U,Z,Y,0,fe,he,Y.aaxis,re,Q,K,"a-title"),fe=Y.ab2xy(oe=me,ue=.5*(Pe+Te),!0),he=Y.dxydb_rough(oe,ue),void 0===te.angle&&l.extendFlat(te,T(Y,re,Q,fe,Y.dxyda_rough(oe,ue))),p(U,Z,Y,0,fe,he,Y.baxis,re,Q,te,"b-title"),function(U,Z,Y,ae,re){var Q,K,te,oe,ue=Y.select("#"+U._clipPathId);ue.size()||(ue=Y.append("clipPath").classed("carpetclip",!0));var fe=l.ensureSingle(ue,"path","carpetboundary"),he=Z.clipsegments,me=[];for(oe=0;oe<he.length;oe++)K=u([],(Q=he[oe]).x,ae.c2p),te=u([],Q.y,re.c2p),me.push(A(K,te,Q.bicubic));var ke="M"+me.join("L")+"Z";ue.attr("id",U._clipPathId),fe.attr("d",ke)}(I,k,M,x,b)})};var s=r.LINE_SPACING,c=(1-r.MID_SHIFT)/s+1;function p(f,w,v,h,_,x,b,M,d,E,k){var I=[];b.title.text&&I.push(b.title.text);var L=w.selectAll("text."+k).data(I),P=E.maxExtent;L.enter().append("text").classed(k,!0),L.each(function(){var R=T(v,M,d,_,x);-1===["start","both"].indexOf(b.showticklabels)&&(P=0);var z=b.title.font.size;P+=z+b.title.offset;var $=(E.angle+(E.flip<0?180:0)-R.angle+450)%360,N=$>90&&$<270,W=C.select(this);W.text(b.title.text).call(m.convertToTspans,f),N&&(P=(-m.lineCount(W)+c)*s*z-P),W.attr("transform",o(R.p[0],R.p[1])+t(R.angle)+o(0,P)).attr("text-anchor","middle").call(S.font,b.title.font)}),L.exit().remove()}},11435:function(ie,B,e){"use strict";var C=e(35509),S=e(65888).findBin,u=e(45664),A=e(20349),T=e(54495),m=e(73057);ie.exports=function(l){var t=l._a,o=l._b,r=t.length,n=o.length,a=l.aaxis,s=l.baxis,c=t[0],p=t[r-1],f=o[0],w=o[n-1],v=t[t.length-1]-t[0],h=o[o.length-1]-o[0],_=v*C.RELATIVE_CULL_TOLERANCE,x=h*C.RELATIVE_CULL_TOLERANCE;c-=_,p+=_,f-=x,w+=x,l.isVisible=function(b,M){return b>c&&b<p&&M>f&&M<w},l.isOccluded=function(b,M){return b<c||b>p||M<f||M>w},l.setScale=function(){var d=u(l._xctrl,l._yctrl,l._x,l._y,a.smoothing,s.smoothing);l._xctrl=d[0],l._yctrl=d[1],l.evalxy=A([l._xctrl,l._yctrl],r,n,a.smoothing,s.smoothing),l.dxydi=T([l._xctrl,l._yctrl],a.smoothing,s.smoothing),l.dxydj=m([l._xctrl,l._yctrl],a.smoothing,s.smoothing)},l.i2a=function(b){var M=Math.max(0,Math.floor(b[0]),r-2),d=b[0]-M;return(1-d)*t[M]+d*t[M+1]},l.j2b=function(b){var M=Math.max(0,Math.floor(b[1]),r-2),d=b[1]-M;return(1-d)*o[M]+d*o[M+1]},l.ij2ab=function(b){return[l.i2a(b[0]),l.j2b(b[1])]},l.a2i=function(b){var M=Math.max(0,Math.min(S(b,t),r-2)),d=t[M];return Math.max(0,Math.min(r-1,M+(b-d)/(t[M+1]-d)))},l.b2j=function(b){var M=Math.max(0,Math.min(S(b,o),n-2)),d=o[M];return Math.max(0,Math.min(n-1,M+(b-d)/(o[M+1]-d)))},l.ab2ij=function(b){return[l.a2i(b[0]),l.b2j(b[1])]},l.i2c=function(b,M){return l.evalxy([],b,M)},l.ab2xy=function(b,M,d){if(!d&&(b<t[0]||b>t[r-1]|M<o[0]||M>o[n-1]))return[!1,!1];var E=l.a2i(b),k=l.b2j(M),I=l.evalxy([],E,k);if(d){var L,P,R,z,$=0,N=0,W=[];b<t[0]?(L=0,P=0,$=(b-t[0])/(t[1]-t[0])):b>t[r-1]?(L=r-2,P=1,$=(b-t[r-1])/(t[r-1]-t[r-2])):P=E-(L=Math.max(0,Math.min(r-2,Math.floor(E)))),M<o[0]?(R=0,z=0,N=(M-o[0])/(o[1]-o[0])):M>o[n-1]?(R=n-2,z=1,N=(M-o[n-1])/(o[n-1]-o[n-2])):z=k-(R=Math.max(0,Math.min(n-2,Math.floor(k)))),$&&(l.dxydi(W,L,R,P,z),I[0]+=W[0]*$,I[1]+=W[1]*$),N&&(l.dxydj(W,L,R,P,z),I[0]+=W[0]*N,I[1]+=W[1]*N)}return I},l.c2p=function(b,M,d){return[M.c2p(b[0]),d.c2p(b[1])]},l.p2x=function(b,M,d){return[M.p2c(b[0]),d.p2c(b[1])]},l.dadi=function(b){var M=Math.max(0,Math.min(t.length-2,b));return t[M+1]-t[M]},l.dbdj=function(b){var M=Math.max(0,Math.min(o.length-2,b));return o[M+1]-o[M]},l.dxyda=function(b,M,d,E){var k=l.dxydi(null,b,M,d,E),I=l.dadi(b,d);return[k[0]/I,k[1]/I]},l.dxydb=function(b,M,d,E){var k=l.dxydj(null,b,M,d,E),I=l.dbdj(M,E);return[k[0]/I,k[1]/I]},l.dxyda_rough=function(b,M,d){var E=v*(d||.1),k=l.ab2xy(b+E,M,!0),I=l.ab2xy(b-E,M,!0);return[.5*(k[0]-I[0])/E,.5*(k[1]-I[1])/E]},l.dxydb_rough=function(b,M,d){var E=h*(d||.1),k=l.ab2xy(b,M+E,!0),I=l.ab2xy(b,M-E,!0);return[.5*(k[0]-I[0])/E,.5*(k[1]-I[1])/E]},l.dpdx=function(b){return b._m},l.dpdy=function(b){return b._m}}},72505:function(ie,B,e){"use strict";var C=e(71828);ie.exports=function(S,u,A){var T,m,l,t=[],o=[],r=S[0].length,n=S.length;var s,c,p,f,w,v,h,_,x,b,U,Z,Y,ae,re,d=0;for(T=0;T<r;T++)for(m=0;m<n;m++)void 0===S[m][T]&&(t.push(T),o.push(m),S[m][T]=(Z=m,Y=void 0,ae=void 0,re=void 0,ae=0,re=0,(U=T)>0&&void 0!==(Y=S[Z][U-1])&&(re++,ae+=Y),U<r-1&&void 0!==(Y=S[Z][U+1])&&(re++,ae+=Y),Z>0&&void 0!==(Y=S[Z-1][U])&&(re++,ae+=Y),Z<n-1&&void 0!==(Y=S[Z+1][U])&&(re++,ae+=Y),ae/Math.max(1,re))),d=Math.max(d,Math.abs(S[m][T]));if(!t.length)return S;var E=0,k=0,I=t.length;do{for(E=0,l=0;l<I;l++){m=o[l];var P,R,z,$,N,W=0,H=0;0===(T=t[l])?(R=u[$=Math.min(r-1,2)],H+=(P=S[m][1])+(P-S[m][$])*(u[0]-(z=u[1]))/(z-R),W++):T===r-1&&(R=u[$=Math.max(0,r-3)],H+=(P=S[m][r-2])+(P-S[m][$])*(u[r-1]-(z=u[r-2]))/(z-R),W++),(0===T||T===r-1)&&m>0&&m<n-1&&(H+=((c=A[m]-A[m-1])*S[m+1][T]+(s=A[m+1]-A[m])*S[m-1][T])/(c+s),W++),0===m?(R=A[N=Math.min(n-1,2)],H+=(P=S[1][T])+(P-S[N][T])*(A[0]-(z=A[1]))/(z-R),W++):m===n-1&&(R=A[N=Math.max(0,n-3)],H+=(P=S[n-2][T])+(P-S[N][T])*(A[n-1]-(z=A[n-2]))/(z-R),W++),(0===m||m===n-1)&&T>0&&T<r-1&&(H+=((c=u[T]-u[T-1])*S[m][T+1]+(s=u[T+1]-u[T])*S[m][T-1])/(c+s),W++),W?H/=W:(_=(w=A[m+1]-A[m])*(v=A[m]-A[m-1])*(w+v),H=((h=(p=u[T+1]-u[T])*(f=u[T]-u[T-1])*(p+f))*(v*S[m+1][T]+w*S[m-1][T])+_*(f*S[m][T+1]+p*S[m][T-1]))/(_*(f+p)+h*(v+w))),E+=(b=(x=H-S[m][T])/d)*b,S[m][T]+=x*(1+(W?0:.85))}E=Math.sqrt(E)}while(k++<100&&E>1e-5);return C.log("Smoother converged to",E,"after",k,"iterations"),S}},19237:function(ie,B,e){"use strict";var C=e(71828).isArray1D;ie.exports=function(S,u,A){var T=A("x"),m=T&&T.length,l=A("y"),t=l&&l.length;if(!m&&!t)return!1;if(u._cheater=!T,m&&!C(T)||t&&!C(l))u._length=null;else{var o=m?T.length:1/0;t&&(o=Math.min(o,l.length)),u.a&&u.a.length&&(o=Math.min(o,u.a.length)),u.b&&u.b.length&&(o=Math.min(o,u.b.length)),u._length=o}return!0}},69568:function(ie,B,e){"use strict";var C=e(5386).fF,S=e(19316),u=e(50693),A=e(9012),T=e(22399).defaultLine,m=e(1426).extendFlat,l=S.marker.line;ie.exports=m({locations:{valType:"data_array",editType:"calc"},locationmode:S.locationmode,z:{valType:"data_array",editType:"calc"},geojson:m({},S.geojson,{}),featureidkey:S.featureidkey,text:m({},S.text,{}),hovertext:m({},S.hovertext,{}),marker:{line:{color:m({},l.color,{dflt:T}),width:m({},l.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:S.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:S.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:m({},A.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:C(),showlegend:m({},A.showlegend,{dflt:!1})},u("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(ie,B,e){"use strict";var C=e(92770),S=e(50606).BADNUM,u=e(78803),A=e(75225),T=e(66279);function m(l){return l&&"string"==typeof l}ie.exports=function(l,t){var o,r=t._length,n=new Array(r);o=t.geojson?function(f){return m(f)||C(f)}:m;for(var a=0;a<r;a++){var s=n[a]={},c=t.locations[a],p=t.z[a];o(c)&&C(p)?(s.loc=c,s.z=p):(s.loc=null,s.z=S),s.index=a}return A(n,t),u(l,t,{vals:t.z,containerStr:"",cLetter:"z"}),T(n,t),n}},61869:function(ie,B,e){"use strict";var C=e(71828),S=e(1586),u=e(69568);ie.exports=function(A,T,m,l){function t(s,c){return C.coerce(A,T,u,s,c)}var o=t("locations"),r=t("z");if(o&&o.length&&C.isArrayOrTypedArray(r)&&r.length){T._length=Math.min(o.length,r.length);var n,a=t("geojson");("string"==typeof a&&""!==a||C.isPlainObject(a))&&(n="geojson-id"),"geojson-id"===t("locationmode",n)&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),S(A,T,l,t,{prefix:"",cLetter:"z"}),C.coerceSelectionMarkerOpacity(T,t)}else T.visible=!1}},92069:function(ie){"use strict";ie.exports=function(B,e,C,S,u){B.location=e.location,B.z=e.z;var A=S[u];return A.fIn&&A.fIn.properties&&(B.properties=A.fIn.properties),B.ct=A.ct,B}},42300:function(ie,B,e){"use strict";var C=e(89298),S=e(69568),u=e(71828).fillText;ie.exports=function(A,T,m){var l,t,o,r,n=A.cd,a=n[0].trace,s=A.subplot,c=[T,m],p=[T+360,m];for(t=0;t<n.length;t++)if(r=!1,(l=n[t])._polygons){for(o=0;o<l._polygons.length;o++)l._polygons[o].contains(c)&&(r=!r),l._polygons[o].contains(p)&&(r=!r);if(r)break}if(r&&l)return A.x0=A.x1=A.xa.c2p(l.ct),A.y0=A.y1=A.ya.c2p(l.ct),A.index=l.index,A.location=l.loc,A.z=l.z,A.zLabel=C.tickText(s.mockAxis,s.mockAxis.c2l(l.z),"hover").text,A.hovertemplate=l.hovertemplate,function(f,w,v){if(!w.hovertemplate){var h=v.hi||w.hoverinfo,_=String(v.loc),x="all"===h?S.hoverinfo.flags:h.split("+"),b=-1!==x.indexOf("name"),M=-1!==x.indexOf("location"),d=-1!==x.indexOf("z"),E=-1!==x.indexOf("text"),k=[];!b&&M?f.nameOverride=_:(b&&(f.nameOverride=w.name),M&&k.push(_)),d&&k.push(f.zLabel),E&&u(v,w,k),f.extraText=k.join("<br>")}}(A,a,l),[A]}},51319:function(ie,B,e){"use strict";ie.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(41327),A=e(90973).getTopojsonFeatures,T=e(71739).findExtremes,m=e(99636).style;ie.exports={calcGeoJSON:function(l,t){for(var o=l[0].trace,r=t[o.geo],n=r._subplot,a=o.locationmode,s=o._length,c="geojson-id"===a?u.extractTraceFeature(l):A(o,n.topojson),p=[],f=[],w=0;w<s;w++){var v=l[w],h="geojson-id"===a?v.fOut:u.locationToFeature(a,v.loc,c);if(h){v.geojson=h,v.ct=h.properties.ct,v._polygons=u.feature2polygons(h);var _=u.computeBbox(h);p.push(_[0],_[2]),f.push(_[1],_[3])}else v.geojson=null}if("geojson"===r.fitbounds&&"geojson-id"===a){var x=u.computeBbox(u.getTraceGeojson(o));p=[x[0],x[2]],f=[x[1],x[3]]}var b={padded:!0};o._extremes.lon=T(r.lonaxis._ax,p,b),o._extremes.lat=T(r.lataxis._ax,f,b)},plot:function(l,t,o){var r=t.layers.backplot.select(".choroplethlayer");S.makeTraceGroups(r,o,"trace choropleth").each(function(n){var a=C.select(this).selectAll("path.choroplethlocation").data(S.identity);a.enter().append("path").classed("choroplethlocation",!0),a.exit().remove(),m(l,n)})}}},81253:function(ie){"use strict";ie.exports=function(B,e){var C,S,u,A,T,m=B.cd,l=B.xaxis,t=B.yaxis,o=[];if(!1===e)for(C=0;C<m.length;C++)m[C].selected=0;else for(C=0;C<m.length;C++)(u=(S=m[C]).ct)&&(A=l.c2p(u),T=t.c2p(u),e.contains([A,T],null,C,B)?(o.push({pointNumber:C,lon:u[0],lat:u[1]}),S.selected=1):S.selected=0);return o}},99636:function(ie,B,e){"use strict";var C=e(39898),S=e(7901),u=e(91424),A=e(21081);function T(m,l){var t=l[0].trace,o=l[0].node3.selectAll(".choroplethlocation"),r=t.marker||{},n=r.line||{},a=A.makeColorScaleFuncFromTrace(t);o.each(function(s){C.select(this).attr("fill",a(s.z)).call(S.stroke,s.mlc||n.color).call(u.dashLine,"",s.mlw||n.width||0).style("opacity",r.opacity)}),u.selectedPointStyle(o,t)}ie.exports={style:function(m,l){l&&T(0,l)},styleOnSelect:function(m,l){var o=l[0].trace;o.selectedpoints?u.selectedPointStyle(l[0].node3.selectAll(".choroplethlocation"),o):T(0,l)}}},64496:function(ie,B,e){"use strict";var C=e(69568),S=e(50693),u=e(5386).fF,A=e(9012),T=e(1426).extendFlat;ie.exports=T({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:T({},C.featureidkey,{}),below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,marker:{line:{color:T({},C.marker.line.color,{editType:"plot"}),width:T({},C.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:T({},C.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:T({},C.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:T({},C.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:C.hoverinfo,hovertemplate:u({},{keys:["properties"]}),showlegend:T({},A.showlegend,{dflt:!1})},S("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=e(21081),A=e(91424),T=e(18214).makeBlank,m=e(41327);function l(t){var o,r=t[0].trace,n=r._opts;if(r.selectedpoints){for(var a=A.makeSelectedPointStyleFns(r),s=0;s<t.length;s++){var c=t[s];c.fOut&&(c.fOut.properties.mo2=a.selectedOpacityFn(c))}o={type:"identity",property:"mo2"}}else o=S.isArrayOrTypedArray(r.marker.opacity)?{type:"identity",property:"mo"}:r.marker.opacity;return S.extendFlat(n.fill.paint,{"fill-opacity":o}),S.extendFlat(n.line.paint,{"line-opacity":o}),n}ie.exports={convert:function(t){var o=t[0].trace,r=!0===o.visible&&0!==o._length,n={layout:{visibility:"none"},paint:{}},a={layout:{visibility:"none"},paint:{}},s=o._opts={fill:n,line:a,geojson:T()};if(!r)return s;var c=m.extractTraceFeature(t);if(!c)return s;var p,f,w,v=u.makeColorScaleFuncFromTrace(o),h=o.marker,_=h.line||{};S.isArrayOrTypedArray(h.opacity)&&(p=function(k){var I=k.mo;return C(I)?+S.constrain(I,0,1):0}),S.isArrayOrTypedArray(_.color)&&(f=function(k){return k.mlc}),S.isArrayOrTypedArray(_.width)&&(w=function(k){return k.mlw});for(var x=0;x<t.length;x++){var b=t[x],M=b.fOut;if(M){var d=M.properties;d.fc=v(b.z),p&&(d.mo=p(b)),f&&(d.mlc=f(b)),w&&(d.mlw=w(b)),b.ct=d.ct,b._polygons=m.feature2polygons(M)}}var E=p?{type:"identity",property:"mo"}:h.opacity;return S.extendFlat(n.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":E}),S.extendFlat(a.paint,{"line-color":f?{type:"identity",property:"mlc"}:_.color,"line-width":w?{type:"identity",property:"mlw"}:_.width,"line-opacity":E}),n.layout.visibility="visible",a.layout.visibility="visible",s.geojson={type:"FeatureCollection",features:c},l(t),s},convertOnSelect:l}},22654:function(ie,B,e){"use strict";var C=e(71828),S=e(1586),u=e(64496);ie.exports=function(A,T,m,l){function t(a,s){return C.coerce(A,T,u,a,s)}var o=t("locations"),r=t("z"),n=t("geojson");C.isArrayOrTypedArray(o)&&o.length&&C.isArrayOrTypedArray(r)&&r.length&&("string"==typeof n&&""!==n||C.isPlainObject(n))?(t("featureidkey"),T._length=Math.min(o.length,r.length),t("below"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),S(A,T,l,t,{prefix:"",cLetter:"z"}),C.coerceSelectionMarkerOpacity(T,t)):T.visible=!1}},57516:function(ie,B,e){"use strict";ie.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(C,S){S&&S[0].trace._glTrace.updateOnSelect(S)},getBelow:function(C,S){for(var u=S.getMapLayers(),A=u.length-2;A>=0;A--){var T=u[A].id;if("string"==typeof T&&0===T.indexOf("water"))for(var m=A+1;m<u.length;m++)if("string"==typeof(T=u[m].id)&&-1===T.indexOf("plotly-"))return T}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(ie,B,e){"use strict";var C=e(82004).convert,S=e(82004).convertOnSelect,u=e(77734).traceLayerPrefix;function A(m,l){this.type="choroplethmapbox",this.subplot=m,this.uid=l,this.sourceId="source-"+l,this.layerList=[["fill",u+l+"-fill"],["line",u+l+"-line"]],this.below=null}var T=A.prototype;T.update=function(m){this._update(C(m)),m[0].trace._glTrace=this},T.updateOnSelect=function(m){this._update(S(m))},T._update=function(m){var l=this.subplot,t=this.layerList,o=l.belowLookup["trace-"+this.uid];l.map.getSource(this.sourceId).setData(m.geojson),o!==this.below&&(this._removeLayers(),this._addLayers(m,o),this.below=o);for(var r=0;r<t.length;r++){var n=t[r],s=n[1],c=m[n[0]];l.setOptions(s,"setLayoutProperty",c.layout),"visible"===c.layout.visibility&&l.setOptions(s,"setPaintProperty",c.paint)}},T._addLayers=function(m,l){for(var t=this.subplot,o=this.layerList,r=this.sourceId,n=0;n<o.length;n++){var a=o[n],s=a[0],c=m[s];t.addLayer({type:s,id:a[1],source:r,layout:c.layout,paint:c.paint},l)}},T._removeLayers=function(){for(var m=this.subplot.map,l=this.layerList,t=l.length-1;t>=0;t--)m.removeLayer(l[t][1])},T.dispose=function(){var m=this.subplot.map;this._removeLayers(),m.removeSource(this.sourceId)},ie.exports=function(m,l){var t=l[0].trace,o=new A(m,t.uid),r=o.sourceId,n=C(l),a=o.below=m.belowLookup["trace-"+t.uid];return m.map.addSource(r,{type:"geojson",data:n.geojson}),o._addLayers(n,a),l[0].trace._glTrace=o,o}},12674:function(ie,B,e){"use strict";var C=e(50693),S=e(12663).axisHoverFormat,u=e(5386).fF,A=e(2418),T=e(9012),m=e(1426).extendFlat,l={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:u({editType:"calc"},{keys:["norm"]}),uhoverformat:S("u",1),vhoverformat:S("v",1),whoverformat:S("w",1),xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z"),showlegend:m({},T.showlegend,{dflt:!1})};m(l,C("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){l[t]=A[t]}),l.hoverinfo=m({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),l.transforms=void 0,ie.exports=l},31371:function(ie,B,e){"use strict";var C=e(78803);ie.exports=function(S,u){for(var A=u.u,T=u.v,m=u.w,l=Math.min(u.x.length,u.y.length,u.z.length,A.length,T.length,m.length),t=-1/0,o=1/0,r=0;r<l;r++){var n=A[r],a=T[r],s=m[r],c=Math.sqrt(n*n+a*a+s*s);t=Math.max(t,c),o=Math.min(o,c)}u._len=l,u._normMax=t,C(S,u,{vals:[o,t],containerStr:"",cLetter:"c"})}},5453:function(ie,B,e){"use strict";var C=e(9330).gl_cone3d,S=e(9330).gl_cone3d.createConeMesh,u=e(71828).simpleMap,A=e(81697).parseColorScale,T=e(21081).extractOpts,m=e(90060);function l(s,c){this.scene=s,this.uid=c,this.mesh=null,this.data=null}var t=l.prototype;t.handlePick=function(s){if(s.object===this.mesh){var c=s.index=s.data.index,v=this.data.u[c],h=this.data.v[c],_=this.data.w[c];s.traceCoordinate=[this.data.x[c],this.data.y[c],this.data.z[c],v,h,_,Math.sqrt(v*v+h*h+_*_)];var x=this.data.hovertext||this.data.text;return Array.isArray(x)&&void 0!==x[c]?s.textLabel=x[c]:x&&(s.textLabel=x),!0}};var o={xaxis:0,yaxis:1,zaxis:2},r={tip:1,tail:0,cm:.25,center:.5},n={tip:1,tail:1,cm:.75,center:.5};function a(s,c){var p=s.fullSceneLayout,f=s.dataScale,w={};function v(b,M){var d=p[M],E=f[o[M]];return u(b,function(k){return d.d2l(k)*E})}w.vectors=m(v(c.u,"xaxis"),v(c.v,"yaxis"),v(c.w,"zaxis"),c._len),w.positions=m(v(c.x,"xaxis"),v(c.y,"yaxis"),v(c.z,"zaxis"),c._len);var h=T(c);w.colormap=A(c),w.vertexIntensityBounds=[h.min/c._normMax,h.max/c._normMax],w.coneOffset=r[c.anchor],w.coneSize="scaled"===c.sizemode?c.sizeref||.5:c.sizeref&&c._normMax?c.sizeref/c._normMax:.5;var _=C(w),x=c.lightposition;return _.lightPosition=[x.x,x.y,x.z],_.ambient=c.lighting.ambient,_.diffuse=c.lighting.diffuse,_.specular=c.lighting.specular,_.roughness=c.lighting.roughness,_.fresnel=c.lighting.fresnel,_.opacity=c.opacity,c._pad=n[c.anchor]*_.vectorScale*_.coneScale*c._normMax,_}t.update=function(s){this.data=s;var c=a(this.scene,s);this.mesh.update(c)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ie.exports=function(s,c){var p=s.glplot.gl,f=a(s,c),w=S(p,f),v=new l(s,c.uid);return v.mesh=w,v.data=c,w._trace=v,s.glplot.add(w),v}},91750:function(ie,B,e){"use strict";var C=e(71828),S=e(1586),u=e(12674);ie.exports=function(A,T,m,l){function t(p,f){return C.coerce(A,T,u,p,f)}var o=t("u"),r=t("v"),n=t("w"),a=t("x"),s=t("y"),c=t("z");o&&o.length&&r&&r.length&&n&&n.length&&a&&a.length&&s&&s.length&&c&&c.length?(t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),S(A,T,l,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),T._length=null):T.visible=!1}},98128:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(C,S){return C.norm=S.traceCoordinate[6],C},meta:{}}},70600:function(ie,B,e){"use strict";var C=e(21606),S=e(82196),u=e(12663),A=u.axisHoverFormat,T=u.descriptionOnlyNumbers,m=e(50693),l=e(79952).P,t=e(41940),o=e(1426).extendFlat,r=e(74808),n=r.COMPARISON_OPS2,a=r.INTERVAL_OPS,s=S.line;ie.exports=o({z:C.z,x:C.x,x0:C.x0,dx:C.dx,y:C.y,y0:C.y0,dy:C.dy,xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:S.xperiod0,yperiod0:S.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,text:C.text,hovertext:C.hovertext,transpose:C.transpose,xtype:C.xtype,ytype:C.ytype,xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z",1),hovertemplate:C.hovertemplate,texttemplate:o({},C.texttemplate,{}),textfont:o({},C.textfont,{}),hoverongaps:C.hoverongaps,connectgaps:o({},C.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:T("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(a),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:o({},s.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:l,smoothing:o({},s.smoothing,{}),editType:"plot"}},m("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(ie,B,e){"use strict";var C=e(21081),S=e(90757),u=e(18670),A=e(53572);ie.exports=function(T,m){var l=S(T,m),t=l[0].z;u(m,t);var o,r=m.contours,n=C.extractOpts(m);if("heatmap"===r.coloring&&n.auto&&!1===m.autocontour){var a=r.start,s=A(r),c=r.size||1,p=Math.floor((s-a)/c)+1;isFinite(c)||(c=1,p=1);var f=a-c/2;o=[f,f+p*c]}else o=t;return C.calc(T,m,{vals:o,cLetter:"z"}),l}},20083:function(ie){"use strict";ie.exports=function(B,e){var C,S=B[0],u=S.z;switch(e.type){case"levels":var A=Math.min(u[0][0],u[0][1]);for(C=0;C<B.length;C++){var T=B[C];T.prefixBoundary=!T.edgepaths.length&&(A>T.level||T.starts.length&&A===T.level)}break;case"constraint":if(S.prefixBoundary=!1,S.edgepaths.length)return;var m=S.x.length,l=S.y.length,t=-1/0,o=1/0;for(C=0;C<l;C++)o=Math.min(o,u[C][0]),o=Math.min(o,u[C][m-1]),t=Math.max(t,u[C][0]),t=Math.max(t,u[C][m-1]);for(C=1;C<m-1;C++)o=Math.min(o,u[0][C]),o=Math.min(o,u[l-1][C]),t=Math.max(t,u[0][C]),t=Math.max(t,u[l-1][C]);var r,n,a=e.value;switch(e._operation){case">":a>t&&(S.prefixBoundary=!0);break;case"<":(a<o||S.starts.length&&a===o)&&(S.prefixBoundary=!0);break;case"[]":r=Math.min(a[0],a[1]),((n=Math.max(a[0],a[1]))<o||r>t||S.starts.length&&n===o)&&(S.prefixBoundary=!0);break;case"][":r=Math.min(a[0],a[1]),n=Math.max(a[0],a[1]),r<o&&n>t&&(S.prefixBoundary=!0)}}}},90654:function(ie,B,e){"use strict";var C=e(21081),S=e(86068),u=e(53572);ie.exports={min:"zmin",max:"zmax",calc:function(A,T,m){var l=T.contours,t=T.line,o=l.size||1,r=l.coloring,n=S(T,{isColorbar:!0});if("heatmap"===r){var a=C.extractOpts(T);m._fillgradient=a.reversescale?C.flipScale(a.colorscale):a.colorscale,m._zrange=[a.min,a.max]}else"fill"===r&&(m._fillcolor=n);m._line={color:"lines"===r?n:t.color,width:!1!==l.showlines?t.width:0,dash:t.dash},m._levels={start:l.start,end:u(l),size:o}}}},36914:function(ie){"use strict";ie.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(ie,B,e){"use strict";var C=e(92770),S=e(14523),u=e(7901),A=u.addOpacity,T=u.opacity,m=e(74808),l=m.CONSTRAINT_REDUCTION,t=m.COMPARISON_OPS2;ie.exports=function(o,r,n,a,s,c){var p,f,w,_,x,b,v=r.contours,h=n("contours.operation");v._operation=l[h],_=n,-1===t.indexOf((x=v).operation)?(_("contours.value",[0,1]),Array.isArray(x.value)?x.value.length>2?x.value=x.value.slice(2):0===x.length?x.value=[0,1]:x.length<2?(b=parseFloat(x.value[0]),x.value=[b,b+1]):x.value=[parseFloat(x.value[0]),parseFloat(x.value[1])]:C(x.value)&&(b=parseFloat(x.value),x.value=[b,b+1])):(_("contours.value",0),C(x.value)||(x.value=Array.isArray(x.value)?parseFloat(x.value[0]):0)),"="===h?p=v.showlines=!0:(p=n("contours.showlines"),w=n("fillcolor",A((o.line||{}).color||s,.5))),p&&(f=n("line.color",w&&T(w)?A(r.fillcolor,1):s),n("line.width",2),n("line.dash")),n("line.smoothing"),S(n,a,f,c)}},64237:function(ie,B,e){"use strict";var C=e(74808),S=e(92770);function u(m,l){var t,o=Array.isArray(l);function r(n){return S(n)?+n:null}return-1!==C.COMPARISON_OPS2.indexOf(m)?t=r(o?l[0]:l):-1!==C.INTERVAL_OPS.indexOf(m)?t=o?[r(l[0]),r(l[1])]:[r(l),r(l)]:-1!==C.SET_OPS.indexOf(m)&&(t=o?l.map(r):[r(l)]),t}function A(m){return function(l){l=u(m,l);var t=Math.min(l[0],l[1]),o=Math.max(l[0],l[1]);return{start:t,end:o,size:o-t}}}function T(m){return function(l){return{start:l=u(m,l),end:1/0,size:1/0}}}ie.exports={"[]":A("[]"),"][":A("]["),">":T(">"),"<":T("<"),"=":T("=")}},67217:function(ie){"use strict";ie.exports=function(B,e,C,S){var u=S("contours.start"),A=S("contours.end"),T=!1===u||!1===A,m=C("contours.size");!(T?e.autocontour=!0:C("autocontour",!1))&&m||C("ncontours")}},84857:function(ie,B,e){"use strict";var C=e(71828);function S(u){return C.extendFlat({},u,{edgepaths:C.extendDeep([],u.edgepaths),paths:C.extendDeep([],u.paths),starts:C.extendDeep([],u.starts)})}ie.exports=function(u,A){var T,m,l,t=function(n){return n.reverse()},o=function(n){return n};switch(A){case"=":case"<":return u;case">":for(1!==u.length&&C.warn("Contour data invalid for the specified inequality operation."),m=u[0],T=0;T<m.edgepaths.length;T++)m.edgepaths[T]=t(m.edgepaths[T]);for(T=0;T<m.paths.length;T++)m.paths[T]=t(m.paths[T]);for(T=0;T<m.starts.length;T++)m.starts[T]=t(m.starts[T]);return u;case"][":var r=t;t=o,o=r;case"[]":for(2!==u.length&&C.warn("Contour data invalid for the specified inequality range operation."),m=S(u[0]),l=S(u[1]),T=0;T<m.edgepaths.length;T++)m.edgepaths[T]=t(m.edgepaths[T]);for(T=0;T<m.paths.length;T++)m.paths[T]=t(m.paths[T]);for(T=0;T<m.starts.length;T++)m.starts[T]=t(m.starts[T]);for(;l.edgepaths.length;)m.edgepaths.push(o(l.edgepaths.shift()));for(;l.paths.length;)m.paths.push(o(l.paths.shift()));for(;l.starts.length;)m.starts.push(o(l.starts.shift()));return[m]}}},13031:function(ie,B,e){"use strict";var C=e(71828),S=e(67684),u=e(73927),A=e(83179),T=e(67217),m=e(8724),l=e(58623),t=e(70600);ie.exports=function(o,r,n,a){function s(p,f){return C.coerce(o,r,t,p,f)}if(S(o,r,s,a)){u(o,r,a,s),s("xhoverformat"),s("yhoverformat"),s("text"),s("hovertext"),s("hoverongaps"),s("hovertemplate");var c="constraint"===s("contours.type");s("connectgaps",C.isArray1D(r.z)),c?A(o,r,s,a,n):(T(o,r,s,function(p){return C.coerce2(o,r,t,p)}),m(o,r,s,a)),r.contours&&"heatmap"===r.contours.coloring&&l(s,a)}else r.visible=!1}},87558:function(ie,B,e){"use strict";var C=e(71828),S=e(64237),u=e(53572);ie.exports=function(A,T,m){for(var l="constraint"===A.type?S[A._operation](A.value):A,t=l.size,o=[],r=u(l),n=m.trace._carpetTrace,a=n?{xaxis:n.aaxis,yaxis:n.baxis,x:m.a,y:m.b}:{xaxis:T.xaxis,yaxis:T.yaxis,x:m.x,y:m.y},s=l.start;s<r;s+=t)if(o.push(C.extendFlat({level:s,crossings:{},starts:[],edgepaths:[],paths:[],z:m.z,smoothing:m.trace.line.smoothing},a)),o.length>1e3){C.warn("Too many contours, clipping at 1000",A);break}return o}},53572:function(ie){"use strict";ie.exports=function(B){return B.end+B.size/1e6}},81696:function(ie,B,e){"use strict";var C=e(71828),S=e(36914);function u(m,l,t,o){return Math.abs(m[0]-l[0])<t&&Math.abs(m[1]-l[1])<o}function A(m,l,t,o,r){var n,ue,he,me,ke,a=l.join(","),s=m.crossings[a],c=(he=l,me=0,ke=0,(ue=s)>20&&t?208===ue||1114===ue?me=0===he[0]?1:-1:ke=0===he[1]?1:-1:-1!==S.BOTTOMSTART.indexOf(ue)?ke=1:-1!==S.LEFTSTART.indexOf(ue)?me=1:-1!==S.TOPSTART.indexOf(ue)?ke=-1:me=-1,[me,ke]),p=[T(m,l,[-c[0],-c[1]])],f=m.z.length,w=m.z[0].length,v=l.slice(),h=c.slice();for(n=0;n<1e4;n++){if(s>20?m.crossings[a]=S.SADDLEREMAINDER[s=S.CHOOSESADDLE[s][(c[0]||c[1])<0?0:1]]:delete m.crossings[a],!(c=S.NEWDELTA[s])){C.log("Found bad marching index:",s,l,m.level);break}if(p.push(T(m,l,c)),l[0]+=c[0],l[1]+=c[1],a=l.join(","),u(p[p.length-1],p[p.length-2],o,r)&&p.pop(),l[0]===v[0]&&l[1]===v[1]&&c[0]===h[0]&&c[1]===h[1]||t&&(c[0]&&(l[0]<0||l[0]>w-2)||c[1]&&(l[1]<0||l[1]>f-2)))break;s=m.crossings[a]}1e4===n&&C.log("Infinite loop in contour?");var x,b,M,d,E,k,I,L,P,R,z,$,N,W,H,U=u(p[0],p[p.length-1],o,r),Z=0,Y=.2*m.smoothing,ae=[],re=0;for(n=1;n<p.length;n++)W=($=p[n])[2]-(N=p[n-1])[2],H=$[3]-N[3],Z+=I=Math.sqrt(W*W+H*H),ae.push(I);var Q=Z/ae.length*Y;function K(ue){return p[ue%p.length]}for(n=p.length-2;n>=re;n--)if((x=ae[n])<Q){for(M=0,b=n-1;b>=re&&x+ae[b]<Q;b--)x+=ae[b];if(U&&n===p.length-2)for(M=0;M<b&&x+ae[M]<Q;M++)x+=ae[M];E=n-b+M+1,k=Math.floor((n+b+M+2)/2),d=U||n!==p.length-2?U||-1!==b?E%2?K(k):[(K(k)[0]+K(k+1)[0])/2,(K(k)[1]+K(k+1)[1])/2]:p[0]:p[p.length-1],p.splice(b+1,n-b+1,d),n=b+1,M&&(re=M),U&&(n===p.length-2?p[M]=p[p.length-1]:0===n&&(p[p.length-1]=p[0]))}for(p.splice(0,re),n=0;n<p.length;n++)p[n].length=2;if(!(p.length<2))if(U)p.pop(),m.paths.push(p);else{t||C.log("Unclosed interior contour?",m.level,v.join(","),p.join("L"));var te=!1;for(L=0;L<m.edgepaths.length;L++)if(R=m.edgepaths[L],!te&&u(R[0],p[p.length-1],o,r)){p.pop(),te=!0;var oe=!1;for(P=0;P<m.edgepaths.length;P++)if(u((z=m.edgepaths[P])[z.length-1],p[0],o,r)){oe=!0,p.shift(),m.edgepaths.splice(L,1),P===L?m.paths.push(p.concat(z)):(P>L&&P--,m.edgepaths[P]=z.concat(p,R));break}oe||(m.edgepaths[L]=p.concat(R))}for(L=0;L<m.edgepaths.length&&!te;L++)u((R=m.edgepaths[L])[R.length-1],p[0],o,r)&&(p.shift(),m.edgepaths[L]=R.concat(p),te=!0);te||m.edgepaths.push(p)}}function T(m,l,t){var o=l[0]+Math.max(t[0],0),r=l[1]+Math.max(t[1],0),n=m.z[r][o],a=m.xaxis,s=m.yaxis;if(t[1]){var c=(m.level-n)/(m.z[r][o+1]-n),p=(1!==c?(1-c)*a.c2l(m.x[o]):0)+(0!==c?c*a.c2l(m.x[o+1]):0);return[a.c2p(a.l2c(p),!0),s.c2p(m.y[r],!0),o+c,r]}var f=(m.level-n)/(m.z[r+1][o]-n),w=(1!==f?(1-f)*s.c2l(m.y[r]):0)+(0!==f?f*s.c2l(m.y[r+1]):0);return[a.c2p(m.x[o],!0),s.c2p(s.l2c(w),!0),o,r+f]}ie.exports=function(m,l,t){var o,r,n,a;for(l=l||.01,t=t||.01,r=0;r<m.length;r++){for(n=m[r],a=0;a<n.starts.length;a++)A(n,n.starts[a],"edge",l,t);for(o=0;Object.keys(n.crossings).length&&o<1e4;)o++,A(n,Object.keys(n.crossings)[0].split(",").map(Number),void 0,l,t);1e4===o&&C.log("Infinite loop in contour?")}}},52421:function(ie,B,e){"use strict";var C=e(7901),S=e(46248);ie.exports=function(u,A,T,m,l){l||(l={}),l.isContour=!0;var t=S(u,A,T,m,l);return t&&t.forEach(function(o){var r=o.trace;"constraint"===r.contours.type&&(r.fillcolor&&C.opacity(r.fillcolor)?o.color=C.addOpacity(r.fillcolor,1):r.contours.showlines&&C.opacity(r.line.color)&&(o.color=C.addOpacity(r.line.color,1)))}),t}},99442:function(ie,B,e){"use strict";ie.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(ie,B,e){"use strict";var C=e(71828);ie.exports=function(S,u,A,T){if(T||(T={}),S("contours.showlabels")){var m=u.font;C.coerceFont(S,"contours.labelfont",{family:m.family,size:m.size,color:A}),S("contours.labelformat")}!1!==T.hasHover&&S("zhoverformat")}},86068:function(ie,B,e){"use strict";var C=e(39898),S=e(21081),u=e(53572);ie.exports=function(A){var T=A.contours,m=T.start,l=u(T),t=T.size||1,o=Math.floor((l-m)/t)+1,r="lines"===T.coloring?0:1,n=S.extractOpts(A);isFinite(t)||(t=1,o=1);var a,s,c=n.reversescale?S.flipScale(n.colorscale):n.colorscale,p=c.length,f=new Array(p),w=new Array(p);if("heatmap"===T.coloring){var v=n.min,h=n.max;for(s=0;s<p;s++)f[s]=(a=c[s])[0]*(h-v)+v,w[s]=a[1];var _=C.extent([v,h,T.start,T.start+t*(o-1)]),x=_[v<h?0:1],b=_[v<h?1:0];x!==v&&(f.splice(0,0,x),w.splice(0,0,w[0])),b!==h&&(f.push(b),w.push(w[w.length-1]))}else for(s=0;s<p;s++)f[s]=((a=c[s])[0]*(o+r-1)-r/2)*t+m,w[s]=a[1];return S.makeColorScaleFunc({domain:f,range:w},{noNumericCheck:!0})}},87678:function(ie,B,e){"use strict";var C=e(36914);function S(u,A){var T=(A[0][0]>u?0:1)+(A[0][1]>u?0:2)+(A[1][1]>u?0:4)+(A[1][0]>u?0:8);return 5===T||10===T?u>(A[0][0]+A[0][1]+A[1][0]+A[1][1])/4?5===T?713:1114:5===T?104:208:15===T?0:T}ie.exports=function(u){var A,T,m,l,t,o,r,n,a,s=u[0].z,c=s.length,p=s[0].length,f=2===c||2===p;for(T=0;T<c-1;T++)for(l=[],0===T&&(l=l.concat(C.BOTTOMSTART)),T===c-2&&(l=l.concat(C.TOPSTART)),A=0;A<p-1;A++)for(m=l.slice(),0===A&&(m=m.concat(C.LEFTSTART)),A===p-2&&(m=m.concat(C.RIGHTSTART)),t=A+","+T,o=[[s[T][A],s[T][A+1]],[s[T+1][A],s[T+1][A+1]]],a=0;a<u.length;a++)(r=S((n=u[a]).level,o))&&(n.crossings[t]=r,-1!==m.indexOf(r)&&(n.starts.push([A,T]),f&&-1!==m.indexOf(r,m.indexOf(r)+1)&&n.starts.push([A,T])))}},29854:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(91424),A=e(21081),T=e(63893),m=e(89298),l=e(21994),t=e(50347),o=e(87678),r=e(81696),n=e(87558),a=e(84857),s=e(20083),c=e(36914),p=c.LABELOPTIMIZER;function f(h,_){var x,b,M,d,E,k,L="",P=0,R=h.edgepaths.map(function(U,Z){return Z}),z=!0;function $(U){return Math.abs(U[1]-_[2][1])<.01}function W(U){return Math.abs(U[0]-_[2][0])<.01}for(;R.length;){for(k=u.smoothopen(h.edgepaths[P],h.smoothing),L+=z?k:k.replace(/^M/,"L"),R.splice(R.indexOf(P),1),x=h.edgepaths[P][h.edgepaths[P].length-1],d=-1,M=0;M<4;M++){if(!x){S.log("Missing end?",P,h);break}for(Math.abs(x[1]-_[0][1])<.01&&!W(x)?b=_[1]:Math.abs(x[0]-_[0][0])<.01?b=_[0]:$(x)?b=_[3]:W(x)&&(b=_[2]),E=0;E<h.edgepaths.length;E++){var H=h.edgepaths[E][0];Math.abs(x[0]-b[0])<.01?Math.abs(x[0]-H[0])<.01&&(H[1]-x[1])*(b[1]-H[1])>=0&&(b=H,d=E):Math.abs(x[1]-b[1])<.01?Math.abs(x[1]-H[1])<.01&&(H[0]-x[0])*(b[0]-H[0])>=0&&(b=H,d=E):S.log("endpt to newendpt is not vert. or horz.",x,b,H)}if(x=b,d>=0)break;L+="L"+b}if(d===h.edgepaths.length){S.log("unclosed perimeter path");break}(z=-1===R.indexOf(P=d))&&(P=R[0],L+="Z")}for(P=0;P<h.paths.length;P++)L+=u.smoothclosed(h.paths[P],h.smoothing);return L}function w(h,_,x,b){var M=_.width/2,d=_.height/2,E=h.x,k=h.y,I=h.theta,L=Math.cos(I)*M,P=Math.sin(I)*M,R=(E>b.center?b.right-E:E-b.left)/(L+Math.abs(Math.sin(I)*d)),z=(k>b.middle?b.bottom-k:k-b.top)/(Math.abs(P)+Math.cos(I)*d);if(R<1||z<1)return 1/0;var $=p.EDGECOST*(1/(R-1)+1/(z-1));$+=p.ANGLECOST*I*I;for(var N=E-L,W=k-P,H=E+L,U=k+P,Z=0;Z<x.length;Z++){var Y=x[Z],ae=Math.cos(Y.theta)*Y.width/2,re=Math.sin(Y.theta)*Y.width/2,Q=2*S.segmentDistance(N,W,H,U,Y.x-ae,Y.y-re,Y.x+ae,Y.y+re)/(_.height+Y.height),K=Y.level===_.level,te=K?p.SAMELEVELDISTANCE:1;if(Q<=te)return 1/0;$+=p.NEIGHBORCOST*(K?p.SAMELEVELFACTOR:1)/(Q-te)}return $}function v(h){var _,x,b=h.trace._emptypoints,M=[],d=h.z.length,E=h.z[0].length,k=[];for(_=0;_<E;_++)k.push(1);for(_=0;_<d;_++)M.push(k.slice());for(_=0;_<b.length;_++)M[(x=b[_])[0]][x[1]]=0;return h.zmask=M,M}B.plot=function(h,_,x,b){var M=_.xaxis,d=_.yaxis;S.makeTraceGroups(b,x,"contour").each(function(E){var k=C.select(this),I=E[0],P=I.x,R=I.y,z=I.trace.contours,$=n(z,_,I),N=S.ensureSingle(k,"g","heatmapcoloring"),W=[];"heatmap"===z.coloring&&(W=[E]),t(h,_,W,N),o($),r($);var K,te,oe,H=M.c2p(P[0],!0),U=M.c2p(P[P.length-1],!0),Z=d.c2p(R[0],!0),Y=d.c2p(R[R.length-1],!0),ae=[[H,Y],[U,Y],[U,Z],[H,Z]],re=$;"constraint"===z.type&&(re=a($,z._operation)),K=ae,te=z,(oe=S.ensureSingle(k,"g","contourbg").selectAll("path").data("fill"===te.coloring?[0]:[])).enter().append("path"),oe.exit().remove(),oe.attr("d","M"+K.join("L")+"Z").style("stroke","none"),function(Q,K,te,oe){var ue="fill"===oe.coloring||"constraint"===oe.type&&"="!==oe._operation,fe="M"+te.join("L")+"Z";ue&&s(K,oe);var he=S.ensureSingle(Q,"g","contourfill").selectAll("path").data(ue?K:[]);he.enter().append("path"),he.exit().remove(),he.each(function(me){var ke=(me.prefixBoundary?fe:"")+f(me,te);ke?C.select(this).attr("d",ke).style("stroke","none"):C.select(this).remove()})}(k,re,ae,z),function(Q,K,te,oe,ue){var fe=te._context.staticPlot,he=S.ensureSingle(Q,"g","contourlines"),me=!1!==ue.showlines,ke=ue.showlabels,Pe=me&&ke,Te=B.createLines(he,me||ke,K,fe),be=B.createLineClip(he,Pe,te,oe.trace.uid),xe=Q.selectAll("g.contourlabels").data(ke?[0]:[]);if(xe.exit().remove(),xe.enter().append("g").classed("contourlabels",!0),ke){var Ne=[],Se=[];S.clearLocationCache();var Ce=B.labelFormatter(te,oe),pe=u.tester.append("text").attr("data-notex",1).call(u.font,ue.labelfont),de=K[0].xaxis,se=K[0].yaxis,we=de._length,Re=se._length,Ee=de.range,Ue=se.range,$e=S.aggNums(Math.min,null,oe.x),ve=S.aggNums(Math.max,null,oe.x),Ie=S.aggNums(Math.min,null,oe.y),De=S.aggNums(Math.max,null,oe.y),ze=Math.max(de.c2p($e,!0),0),Ge=Math.min(de.c2p(ve,!0),we),He=Math.max(se.c2p(De,!0),0),Ke=Math.min(se.c2p(Ie,!0),Re),et={};Ee[0]<Ee[1]?(et.left=ze,et.right=Ge):(et.left=Ge,et.right=ze),Ue[0]<Ue[1]?(et.top=He,et.bottom=Ke):(et.top=Ke,et.bottom=He),et.middle=(et.top+et.bottom)/2,et.center=(et.left+et.right)/2,Ne.push([[et.left,et.top],[et.right,et.top],[et.right,et.bottom],[et.left,et.bottom]]);var st=Math.sqrt(we*we+Re*Re),mt=c.LABELDISTANCE*st/Math.max(1,K.length/c.LABELINCREASE);Te.each(function(at){var kt=B.calcTextOpts(at.level,Ce,pe,te);C.select(this).selectAll("path").each(function(){var St=S.getVisibleSegment(this,et,kt.height/2);if(St&&!(St.len<(kt.width+kt.height)*c.LABELMIN))for(var gt=Math.min(Math.ceil(St.len/mt),c.LABELMAX),dt=0;dt<gt;dt++){var Ct=B.findBestTextLocation(this,St,kt,Se,et);if(!Ct)break;B.addLabelData(Ct,kt,Se,Ne)}})}),pe.remove(),B.drawLabels(xe,Se,te,be,Pe?Ne:null)}ke&&!me&&Te.remove()}(k,$,h,I,z),function(Q,K,te,oe,ue){var fe=oe.trace,me="clip"+fe.uid,ke=te._fullLayout._clips.selectAll("#"+me).data(fe.connectgaps?[]:[0]);if(ke.enter().append("clipPath").classed("contourclip",!0).attr("id",me),ke.exit().remove(),!1===fe.connectgaps){var Pe={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:K.xaxis,yaxis:K.yaxis,x:oe.x,y:oe.y,z:v(oe),smoothing:0};o([Pe]),r([Pe]),s([Pe],{type:"levels"}),S.ensureSingle(ke,"path","").attr("d",(Pe.prefixBoundary?"M"+ue.join("L")+"Z":"")+f(Pe,ue))}else me=null;u.setClipUrl(Q,me,te)}(k,_,h,I,ae)})},B.createLines=function(h,_,x,b){var M=x[0].smoothing,d=h.selectAll("g.contourlevel").data(_?x:[]);if(d.exit().remove(),d.enter().append("g").classed("contourlevel",!0),_){var E=d.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});E.exit().remove(),E.enter().append("path").classed("openline",!0),E.attr("d",function(I){return u.smoothopen(I,M)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke");var k=d.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(I){return u.smoothclosed(I,M)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke")}return d},B.createLineClip=function(h,_,x,b){var M=_?"clipline"+b:null,d=x._fullLayout._clips.selectAll("#"+M).data(_?[0]:[]);return d.exit().remove(),d.enter().append("clipPath").classed("contourlineclip",!0).attr("id",M),u.setClipUrl(h,M,x),d},B.labelFormatter=function(h,_){var x=h._fullLayout,b=_.trace,M=b.contours,d={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(M.labelformat)d.tickformat=M.labelformat,l(d,x);else{var E=A.extractOpts(b);if(E&&E.colorbar&&E.colorbar._axis)d=E.colorbar._axis;else{if("constraint"===M.type){var k=M.value;d.range=Array.isArray(k)?[k[0],k[k.length-1]]:[k,k]}else d.range=[M.start,M.end],d.nticks=(M.end-M.start)/M.size;d.range[0]===d.range[1]&&(d.range[1]+=d.range[0]||1),d.nticks||(d.nticks=1e3),l(d,x),m.prepTicks(d),d._tmin=null,d._tmax=null}}return function(I){return m.tickText(d,I).text}},B.calcTextOpts=function(h,_,x,b){var M=_(h);x.text(M).call(T.convertToTspans,b);var d=x.node(),E=u.bBox(d,!0);return{text:M,width:E.width,height:E.height,fontSize:+d.style["font-size"].replace("px",""),level:h,dy:(E.top+E.bottom)/2}},B.findBestTextLocation=function(h,_,x,b,M){var d,E,k,I,L,P=x.width;_.isClosed?(d=_.min+(E=_.len/p.INITIALSEARCHPOINTS)/2,k=_.max):(d=_.min+(E=(_.len-P)/(p.INITIALSEARCHPOINTS+1))+P/2,k=_.max-(E+P)/2);for(var R=1/0,z=0;z<p.ITERATIONS;z++){for(var $=d;$<k;$+=E){var N=S.getTextLocation(h,_.total,$,P),W=w(N,x,b,M);W<R&&(R=W,L=N,I=$)}if(R>2*p.MAXCOST)break;z&&(E/=2),k=(d=I-E/2)+1.5*E}if(R<=p.MAXCOST)return L},B.addLabelData=function(h,_,x,b){var M=_.fontSize,d=_.width+M/3,E=Math.max(0,_.height-M/3),k=h.x,I=h.y,L=h.theta,P=Math.sin(L),R=Math.cos(L),z=function(N,W){return[k+N*R-W*P,I+N*P+W*R]},$=[z(-d/2,-E/2),z(-d/2,E/2),z(d/2,E/2),z(d/2,-E/2)];x.push({text:_.text,x:k,y:I,dy:_.dy,theta:L,level:_.level,width:d,height:E}),b.push($)},B.drawLabels=function(h,_,x,b,M){var d=h.selectAll("text").data(_,function(I){return I.text+","+I.x+","+I.y+","+I.theta});if(d.exit().remove(),d.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(I){var L=I.x+Math.sin(I.theta)*I.dy,P=I.y-Math.cos(I.theta)*I.dy;C.select(this).text(I.text).attr({x:L,y:P,transform:"rotate("+180*I.theta/Math.PI+" "+L+" "+P+")"}).call(T.convertToTspans,x)}),M){for(var E="",k=0;k<M.length;k++)E+="M"+M[k].join("L")+"Z";S.ensureSingle(b,"path","").attr("d",E)}}},18670:function(ie,B,e){"use strict";var C=e(89298),S=e(71828);function u(A,T,m){var l={type:"linear",range:[A,T]};return C.autoTicks(l,(T-A)/(m||15)),l}ie.exports=function(A,T){var m=A.contours;if(A.autocontour){var l=A.zmin,t=A.zmax;(A.zauto||void 0===l)&&(l=S.aggNums(Math.min,null,T)),(A.zauto||void 0===t)&&(t=S.aggNums(Math.max,null,T));var o=u(l,t,A.ncontours);m.size=o.dtick,m.start=C.tickFirst(o),o.range.reverse(),m.end=C.tickFirst(o),m.start===l&&(m.start+=m.size),m.end===t&&(m.end-=m.size),m.start>m.end&&(m.start=m.end=(m.start+m.end)/2),A._input.contours||(A._input.contours={}),S.extendFlat(A._input.contours,{start:m.start,end:m.end,size:m.size}),A._input.autocontour=!0}else if("constraint"!==m.type){var r,n=m.start,a=m.end,s=A._input.contours;n>a&&(m.start=s.start=a,a=m.end=s.end=n,n=m.start),m.size>0||(r=n===a?1:u(n,a,A.ncontours).dtick,s.size=m.size=r)}}},84426:function(ie,B,e){"use strict";var C=e(39898),S=e(91424),u=e(70035),A=e(86068);ie.exports=function(T){var m=C.select(T).selectAll("g.contour");m.style("opacity",function(l){return l[0].trace.opacity}),m.each(function(l){var t=C.select(this),o=l[0].trace,r=o.contours,n=o.line,a=r.size||1,s=r.start,c="constraint"===r.type,p=!c&&"lines"===r.coloring,f=!c&&"fill"===r.coloring,w=p||f?A(o):null;t.selectAll("g.contourlevel").each(function(_){C.select(this).selectAll("path").call(S.lineGroupStyle,n.width,p?w(_.level):n.color,n.dash)});var v=r.labelfont;if(t.selectAll("g.contourlabels text").each(function(_){S.font(C.select(this),{family:v.family,size:v.size,color:v.color||(p?w(_.level):n.color)})}),c)t.selectAll("g.contourfill path").style("fill",o.fillcolor);else if(f){var h;t.selectAll("g.contourfill path").style("fill",function(_){return void 0===h&&(h=_.level),w(_.level+.5*a)}),void 0===h&&(h=s),t.selectAll("g.contourbg path").style("fill",w(h-.5*a))}}),u(T)}},8724:function(ie,B,e){"use strict";var C=e(1586),S=e(14523);ie.exports=function(u,A,T,m,l){var t,o=T("contours.coloring"),r="";"fill"===o&&(t=T("contours.showlines")),!1!==t&&("lines"!==o&&(r=T("line.color","#000")),T("line.width",.5),T("line.dash")),"none"!==o&&(!0!==u.showlegend&&(A.showlegend=!1),A._dfltShowLegend=!1,C(u,A,m,T,{prefix:"",cLetter:"z"})),T("line.smoothing"),S(T,m,r,l)}},88085:function(ie,B,e){"use strict";var C=e(21606),S=e(70600),u=e(50693),A=e(1426).extendFlat,T=S.contours;ie.exports=A({carpet:{valType:"string",editType:"calc"},z:C.z,a:C.x,a0:C.x0,da:C.dx,b:C.y,b0:C.y0,db:C.dy,text:C.text,hovertext:C.hovertext,transpose:C.transpose,atype:C.xtype,btype:C.ytype,fillcolor:S.fillcolor,autocontour:S.autocontour,ncontours:S.ncontours,contours:{type:T.type,start:T.start,end:T.end,size:T.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:T.showlines,showlabels:T.showlabels,labelfont:T.labelfont,labelformat:T.labelformat,operation:T.operation,value:T.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:S.line.color,width:S.line.width,dash:S.line.dash,smoothing:S.line.smoothing,editType:"plot"},transforms:void 0},u("",{cLetter:"z",autoColorDflt:!1}))},59885:function(ie,B,e){"use strict";var C=e(78803),S=e(71828),u=e(68296),A=e(4742),T=e(824),m=e(43907),l=e(70769),t=e(75005),o=e(22882),r=e(18670);ie.exports=function(n,a){var s=a._carpetTrace=o(n,a);if(s&&s.visible&&"legendonly"!==s.visible){if(!a.a||!a.b){var c=n.data[s.index],p=n.data[a.index];p.a||(p.a=c.a),p.b||(p.b=c.b),t(p,a,a._defaultColor,n._fullLayout)}var f=function(w,v){var h,_,x,b,M,d,E,k=v._carpetTrace,I=k.aaxis,L=k.baxis;I._minDtick=0,L._minDtick=0,S.isArray1D(v.z)&&u(v,I,L,"a","b",["z"]),h=v._a=v._a||v.a,b=v._b=v._b||v.b,h=h?I.makeCalcdata(v,"_a"):[],b=b?L.makeCalcdata(v,"_b"):[],_=v.a0||0,x=v.da||1,M=v.b0||0,d=v.db||1,E=v._z=A(v._z||v.z,v.transpose),v._emptypoints=m(E),T(E,v._emptypoints);var P=S.maxRowLength(E),N={a:l(v,"scaled"===v.xtype?"":h,_,x,P,I),b:l(v,"scaled"===v.ytype?"":b,M,d,E.length,L),z:E};return"levels"===v.contours.type&&"none"!==v.contours.coloring&&C(w,v,{vals:E,containerStr:"",cLetter:"z"}),[N]}(n,a);return r(a,a._z),f}}},75005:function(ie,B,e){"use strict";var C=e(71828),S=e(67684),u=e(88085),A=e(83179),T=e(67217),m=e(8724);ie.exports=function(l,t,o,r){function n(a,s){return C.coerce(l,t,u,a,s)}if(n("carpet"),l.a&&l.b){if(!S(l,t,n,r,"a","b"))return void(t.visible=!1);n("text"),"constraint"===n("contours.type")?A(l,t,n,r,o,{hasHover:!1}):(T(l,t,n,function(a){return C.coerce2(l,t,u,a)}),m(l,t,n,r,{hasHover:!1}))}else t._defaultColor=o,t._length=null}},93740:function(ie,B,e){"use strict";ie.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(ie,B,e){"use strict";var C=e(39898),S=e(27669),u=e(67961),A=e(91424),T=e(71828),m=e(87678),l=e(81696),t=e(29854),o=e(36914),r=e(84857),n=e(87558),a=e(20083),s=e(22882),c=e(4536);function p(v,h,_){var x=v.getPointAtLength(h),b=v.getPointAtLength(_),M=b.x-x.x,d=b.y-x.y,E=Math.sqrt(M*M+d*d);return[M/E,d/E]}function f(v){var h=Math.sqrt(v[0]*v[0]+v[1]*v[1]);return[v[0]/h,v[1]/h]}function w(v,h){var _=Math.abs(v[0]*h[0]+v[1]*h[1]);return Math.sqrt(1-_*_)/_}ie.exports=function(v,h,_,x){var b=h.xaxis,M=h.yaxis;T.makeTraceGroups(x,_,"contour").each(function(d){var E=C.select(this),k=d[0],I=k.trace,L=I._carpetTrace=s(v,I),P=v.calcdata[L.index][0];if(L.visible&&"legendonly"!==L.visible){var R=k.a,z=k.b,$=I.contours,N=n($,h,k),W="constraint"===$.type,H=$._operation,U=W?"="===H?"lines":"fill":$.coloring,Z=[[R[0],z[z.length-1]],[R[R.length-1],z[z.length-1]],[R[R.length-1],z[0]],[R[0],z[0]]];m(N),l(N,1e-8*(R[R.length-1]-R[0]),1e-8*(z[z.length-1]-z[0]));var re,Q,K,te,oe=N;"constraint"===$.type&&(oe=r(N,H)),function(me,ke){var Pe,Te,be,xe,Ne,Se,Ce,pe,de;for(Pe=0;Pe<me.length;Pe++){for(Ne=(xe=me[Pe]).pedgepaths=[],Se=xe.ppaths=[],Te=0;Te<xe.edgepaths.length;Te++){for(de=xe.edgepaths[Te],Ce=[],be=0;be<de.length;be++)Ce[be]=ke(de[be]);Ne.push(Ce)}for(Te=0;Te<xe.paths.length;Te++){for(de=xe.paths[Te],pe=[],be=0;be<de.length;be++)pe[be]=ke(de[be]);Se.push(pe)}}}(N,he);var ue=[];for(te=P.clipsegments.length-1;te>=0;te--)Q=S([],(re=P.clipsegments[te]).x,b.c2p),K=S([],re.y,M.c2p),Q.reverse(),K.reverse(),ue.push(u(Q,K,re.bicubic));var fe="M"+ue.join("L")+"Z";(function(me,ke,Pe,Te,be,xe){var Ne,Se,Ce,pe,de=T.ensureSingle(me,"g","contourbg").selectAll("path").data("fill"!==xe||be?[]:[0]);de.enter().append("path"),de.exit().remove();var se=[];for(pe=0;pe<ke.length;pe++)Se=S([],(Ne=ke[pe]).x,Pe.c2p),Ce=S([],Ne.y,Te.c2p),se.push(u(Se,Ce,Ne.bicubic));de.attr("d","M"+se.join("L")+"Z").style("stroke","none")})(E,P.clipsegments,b,M,W,U),function(me,ke,Pe,Te,be,xe,Ne,Se,Ce,pe,de){var se="fill"===pe;se&&a(be,me.contours);var we=T.ensureSingle(ke,"g","contourfill").selectAll("path").data(se?be:[]);we.enter().append("path"),we.exit().remove(),we.each(function(Re){var Ee=(Re.prefixBoundary?de:"")+function(Ue,$e,ve,Ie,De,ze,Ge,He){var Ke,et,st,mt,at,kt,St,gt="",dt=$e.edgepaths.map(function(vt,je){return je}),Ct=!0,Ot=1e-4*Math.abs(ve[0][0]-ve[2][0]),Pt=1e-4*Math.abs(ve[0][1]-ve[2][1]);function Ht(vt){return Math.abs(vt[1]-ve[0][1])<Pt}function jt(vt){return Math.abs(vt[1]-ve[2][1])<Pt}function nt(vt){return Math.abs(vt[0]-ve[0][0])<Ot}function it(vt){return Math.abs(vt[0]-ve[2][0])<Ot}function Xe(vt,je){var Ve,ut,ct,Tt,Mt="";for(Ht(vt)&&!it(vt)||jt(vt)&&!nt(vt)?(Tt=De.aaxis,ct=c(De,ze,[vt[0],je[0]],.5*(vt[1]+je[1]))):(Tt=De.baxis,ct=c(De,ze,.5*(vt[0]+je[0]),[vt[1],je[1]])),Ve=1;Ve<ct.length;Ve++)for(Mt+=Tt.smoothing?"C":"L",ut=0;ut<ct[Ve].length;ut++){var At=ct[Ve][ut];Mt+=[Ge.c2p(At[0]),He.c2p(At[1])]+" "}return Mt}for(Ke=0,et=null;dt.length;){for(et&&(gt+=Xe(et,$e.edgepaths[Ke][0])),St=A.smoothopen($e.edgepaths[Ke].map(Ie),$e.smoothing),gt+=Ct?St:St.replace(/^M/,"L"),dt.splice(dt.indexOf(Ke),1),et=$e.edgepaths[Ke][$e.edgepaths[Ke].length-1],at=-1,mt=0;mt<4;mt++){if(!et){T.log("Missing end?",Ke,$e);break}for(Ht(et)&&!it(et)?st=ve[1]:nt(et)?st=ve[0]:jt(et)?st=ve[3]:it(et)&&(st=ve[2]),kt=0;kt<$e.edgepaths.length;kt++){var ft=$e.edgepaths[kt][0];Math.abs(et[0]-st[0])<Ot?Math.abs(et[0]-ft[0])<Ot&&(ft[1]-et[1])*(st[1]-ft[1])>=0&&(st=ft,at=kt):Math.abs(et[1]-st[1])<Pt?Math.abs(et[1]-ft[1])<Pt&&(ft[0]-et[0])*(st[0]-ft[0])>=0&&(st=ft,at=kt):T.log("endpt to newendpt is not vert. or horz.",et,st,ft)}if(at>=0)break;gt+=Xe(et,st),et=st}if(at===$e.edgepaths.length){T.log("unclosed perimeter path");break}(Ct=-1===dt.indexOf(Ke=at))&&(Ke=dt[0],gt+=Xe(et,st)+"Z",et=null)}for(Ke=0;Ke<$e.paths.length;Ke++)gt+=A.smoothclosed($e.paths[Ke].map(Ie),$e.smoothing);return gt}(0,Re,xe,Ne,Se,Ce,Pe,Te);Ee?C.select(this).attr("d",Ee).style("stroke","none"):C.select(this).remove()})}(I,E,b,M,oe,Z,he,L,P,U,fe),function(me,ke,Pe,Te,be,xe,Ne){var Se=Pe._context.staticPlot,Ce=T.ensureSingle(me,"g","contourlines"),pe=!1!==be.showlines,de=be.showlabels,se=pe&&de,we=t.createLines(Ce,pe||de,ke,Se),Re=t.createLineClip(Ce,se,Pe,Te.trace.uid),Ee=me.selectAll("g.contourlabels").data(de?[0]:[]);if(Ee.exit().remove(),Ee.enter().append("g").classed("contourlabels",!0),de){var ve=xe.xaxis._length,Ie=xe.yaxis._length,De=[[[0,0],[ve,0],[ve,Ie],[0,Ie]]],ze=[];T.clearLocationCache();var Ge=t.labelFormatter(Pe,Te),He=A.tester.append("text").attr("data-notex",1).call(A.font,be.labelfont),Ke={left:0,right:ve,center:ve/2,top:0,bottom:Ie,middle:Ie/2},et=Math.sqrt(ve*ve+Ie*Ie),st=o.LABELDISTANCE*et/Math.max(1,ke.length/o.LABELINCREASE);we.each(function(mt){var at=t.calcTextOpts(mt.level,Ge,He,Pe);C.select(this).selectAll("path").each(function(kt){var gt=T.getVisibleSegment(this,Ke,at.height/2);if(gt&&(function(Pt,Ht,jt,nt,it,Xe){for(var rt,ft=0;ft<jt.pedgepaths.length;ft++)Ht===jt.pedgepaths[ft]&&(rt=jt.edgepaths[ft]);if(rt){var vt=it.a[0],je=it.a[it.a.length-1],Ve=it.b[0],ut=it.b[it.b.length-1],ct=p(Pt,0,1),Tt=p(Pt,nt.total,nt.total-1),Mt=bt(rt[0],ct),At=nt.total-bt(rt[rt.length-1],Tt);nt.min<Mt&&(nt.min=Mt),nt.max>At&&(nt.max=At),nt.len=nt.max-nt.min}function bt(Rt,xt){var _t,It=0;return(Math.abs(Rt[0]-vt)<.1||Math.abs(Rt[0]-je)<.1)&&(_t=f(it.dxydb_rough(Rt[0],Rt[1],.1)),It=Math.max(It,Xe*w(xt,_t)/2)),(Math.abs(Rt[1]-Ve)<.1||Math.abs(Rt[1]-ut)<.1)&&(_t=f(it.dxyda_rough(Rt[0],Rt[1],.1)),It=Math.max(It,Xe*w(xt,_t)/2)),It}}(this,kt,mt,gt,Ne,at.height),!(gt.len<(at.width+at.height)*o.LABELMIN)))for(var dt=Math.min(Math.ceil(gt.len/st),o.LABELMAX),Ct=0;Ct<dt;Ct++){var Ot=t.findBestTextLocation(this,gt,at,ze,Ke);if(!Ot)break;t.addLabelData(Ot,at,ze,De)}})}),He.remove(),t.drawLabels(Ee,ze,Pe,Re,se?De:null)}de&&!pe&&we.remove()}(E,N,v,k,$,h,L),A.setClipUrl(E,L._clipPathId,v)}function he(me){var ke=L.ab2xy(me[0],me[1],!0);return[b.c2p(ke[0]),M.c2p(ke[1])]}})}},64096:function(ie,B,e){"use strict";var C=e(50693),S=e(5386).fF,u=e(9012),A=e(99181),T=e(1426).extendFlat;ie.exports=T({lon:A.lon,lat:A.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:A.text,hovertext:A.hovertext,hoverinfo:T({},u.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:S(),showlegend:T({},u.showlegend,{dflt:!1})},C("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(ie,B,e){"use strict";var C=e(92770),S=e(71828).isArrayOrTypedArray,u=e(50606).BADNUM,A=e(78803),T=e(71828)._;ie.exports=function(m,l){for(var t=l._length,o=new Array(t),r=l.z,n=S(r)&&r.length,a=0;a<t;a++){var s=o[a]={},c=l.lon[a],p=l.lat[a];if(s.lonlat=C(c)&&C(p)?[+c,+p]:[u,u],n){var f=r[a];s.z=C(f)?f:u}}return A(m,l,{vals:n?r:[0,1],containerStr:"",cLetter:"z"}),t&&(o[0].t={labels:{lat:T(m,"lat:")+" ",lon:T(m,"lon:")+" "}}),o}},52414:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=e(7901),A=e(21081),T=e(50606).BADNUM,m=e(18214).makeBlank;ie.exports=function(l){var t=l[0].trace,o=!0===t.visible&&0!==t._length,r=t._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:m()};if(!o)return r;var n,a=[],s=t.z,c=t.radius,p=S.isArrayOrTypedArray(s)&&s.length,f=S.isArrayOrTypedArray(c);for(n=0;n<l.length;n++){var w=l[n],v=w.lonlat;if(v[0]!==T){var h={};if(p){var _=w.z;h.z=_!==T?_:0}f&&(h.r=C(c[n])&&c[n]>0?+c[n]:0),a.push({type:"Feature",geometry:{type:"Point",coordinates:v},properties:h})}}var x=A.extractOpts(t),b=x.reversescale?A.flipScale(x.colorscale):x.colorscale,M=b[0][1],d=["interpolate",["linear"],["heatmap-density"],0,u.opacity(M)<1?M:u.addOpacity(M,0)];for(n=1;n<b.length;n++)d.push(b[n][0],b[n][1]);return S.extendFlat(r.heatmap.paint,{"heatmap-weight":p?["interpolate",["linear"],["get","z"],x.min,0,x.max,1]:1/(x.max-x.min),"heatmap-color":d,"heatmap-radius":f?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),r.geojson={type:"FeatureCollection",features:a},r.heatmap.layout.visibility="visible",r}},79429:function(ie,B,e){"use strict";var C=e(71828),S=e(1586),u=e(64096);ie.exports=function(A,T,m,l){function t(a,s){return C.coerce(A,T,u,a,s)}var o=t("lon")||[],r=t("lat")||[],n=Math.min(o.length,r.length);n?(T._length=n,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),S(A,T,l,t,{prefix:"",cLetter:"z"})):T.visible=!1}},62474:function(ie){"use strict";ie.exports=function(B,e){return B.lon=e.lon,B.lat=e.lat,B.z=e.z,B}},84684:function(ie,B,e){"use strict";var C=e(89298),S=e(28178).hoverPoints,u=e(28178).getExtraText;ie.exports=function(A,T,m){var l=S(A,T,m);if(l){var t=l[0],o=t.cd,r=o[0].trace,n=o[t.index];if(delete t.color,"z"in n){var a=t.subplot.mockAxis;t.z=n.z,t.zLabel=C.tickText(a,a.c2l(n.z),"hover").text}return t.extraText=u(r,n,o[0].t.labels),[t]}}},93814:function(ie,B,e){"use strict";ie.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(C,S){for(var u=S.getMapLayers(),A=0;A<u.length;A++){var T=u[A],m=T.id;if("symbol"===T.type&&"string"==typeof m&&-1===m.indexOf("plotly-"))return m}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(ie,B,e){"use strict";var C=e(52414),S=e(77734).traceLayerPrefix;function u(T,m){this.type="densitymapbox",this.subplot=T,this.uid=m,this.sourceId="source-"+m,this.layerList=[["heatmap",S+m+"-heatmap"]],this.below=null}var A=u.prototype;A.update=function(T){var m=this.subplot,l=this.layerList,t=C(T),o=m.belowLookup["trace-"+this.uid];m.map.getSource(this.sourceId).setData(t.geojson),o!==this.below&&(this._removeLayers(),this._addLayers(t,o),this.below=o);for(var r=0;r<l.length;r++){var n=l[r],s=n[1],c=t[n[0]];m.setOptions(s,"setLayoutProperty",c.layout),"visible"===c.layout.visibility&&m.setOptions(s,"setPaintProperty",c.paint)}},A._addLayers=function(T,m){for(var l=this.subplot,t=this.layerList,o=this.sourceId,r=0;r<t.length;r++){var n=t[r],a=n[0],s=T[a];l.addLayer({type:a,id:n[1],source:o,layout:s.layout,paint:s.paint},m)}},A._removeLayers=function(){for(var T=this.subplot.map,m=this.layerList,l=m.length-1;l>=0;l--)T.removeLayer(m[l][1])},A.dispose=function(){var T=this.subplot.map;this._removeLayers(),T.removeSource(this.sourceId)},ie.exports=function(T,m){var l=m[0].trace,t=new u(T,l.uid),o=t.sourceId,r=C(m),n=t.below=T.belowLookup["trace-"+l.uid];return T.map.addSource(o,{type:"geojson",data:r.geojson}),t._addLayers(r,n),t}},49789:function(ie,B,e){"use strict";var C=e(71828);ie.exports=function(S,u){for(var A=0;A<S.length;A++)S[A].i=A;C.mergeArray(u.text,S,"tx"),C.mergeArray(u.hovertext,S,"htx");var T=u.marker;if(T){C.mergeArray(T.opacity,S,"mo"),C.mergeArray(T.color,S,"mc");var m=T.line;m&&(C.mergeArray(m.color,S,"mlc"),C.mergeArrayCastPositive(m.width,S,"mlw"))}}},1285:function(ie,B,e){"use strict";var C,S=e(1486),u=e(82196).line,A=e(9012),T=e(12663).axisHoverFormat,m=e(5386).fF,l=e(5386).si,t=e(18517),o=e(1426).extendFlat,r=e(7901);ie.exports={x:S.x,x0:S.x0,dx:S.dx,y:S.y,y0:S.y0,dy:S.dy,xperiod:S.xperiod,yperiod:S.yperiod,xperiod0:S.xperiod0,yperiod0:S.yperiod0,xperiodalignment:S.xperiodalignment,yperiodalignment:S.yperiodalignment,xhoverformat:T("x"),yhoverformat:T("y"),hovertext:S.hovertext,hovertemplate:m({},{keys:t.eventDataKeys}),hoverinfo:o({},A.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:l({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),text:S.text,textposition:S.textposition,insidetextanchor:o({},S.insidetextanchor,{dflt:"middle"}),textangle:o({},S.textangle,{dflt:0}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:S.outsidetextfont,constraintext:S.constraintext,cliponaxis:S.cliponaxis,orientation:o({},S.orientation,{}),offset:o({},S.offset,{arrayOk:!1}),width:o({},S.width,{arrayOk:!1}),marker:(C=o({},S.marker),delete C.pattern,C),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:o({},u.color,{dflt:r.defaultLine}),width:o({},u.width,{dflt:0,editType:"plot"}),dash:u.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:S.offsetgroup,alignmentgroup:S.alignmentgroup}},9532:function(ie,B,e){"use strict";var C=e(89298),S=e(42973),u=e(49789),A=e(66279),T=e(50606).BADNUM;function m(l){return l===T?0:l}ie.exports=function(l,t){var o,r,n,a,s,c,p,f,w=C.getFromId(l,t.xaxis||"x"),v=C.getFromId(l,t.yaxis||"y");"h"===t.orientation?(o=w.makeCalcdata(t,"x"),n=v.makeCalcdata(t,"y"),a=S(t,v,"y",n),s=!!t.yperiodalignment,c="y"):(o=v.makeCalcdata(t,"y"),n=w.makeCalcdata(t,"x"),a=S(t,w,"x",n),s=!!t.xperiodalignment,c="x"),r=a.vals;var h,_=Math.min(r.length,o.length),x=new Array(_);for(t._base=[],p=0;p<_;p++){o[p]<0&&(o[p]=T);var b=!1;o[p]!==T&&p+1<_&&o[p+1]!==T&&(b=!0),f=x[p]={p:r[p],s:o[p],cNext:b},t._base[p]=-.5*f.s,s&&(x[p].orig_p=n[p],x[p][c+"End"]=a.ends[p],x[p][c+"Start"]=a.starts[p]),t.ids&&(f.id=String(t.ids[p])),0===p&&(x[0].vTotal=0),x[0].vTotal+=m(f.s),f.begR=m(f.s)/m(x[0].s)}for(p=0;p<_;p++)(f=x[p]).s!==T&&(f.sumR=f.s/x[0].vTotal,f.difR=void 0!==h?f.s/h:1,h=f.s);return u(x,t),A(x,t),x}},18517:function(ie){"use strict";ie.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(ie,B,e){"use strict";var C=e(11661).setGroupPositions;ie.exports=function(S,u){var A,T,m=S._fullLayout,l=S._fullData,t=S.calcdata,o=u.xaxis,r=u.yaxis,n=[],a=[],s=[];for(T=0;T<l.length;T++){var c=l[T];!0===c.visible&&c.xaxis===o._id&&c.yaxis===r._id&&"funnel"===c.type&&(A=t[T],"h"===c.orientation?s.push(A):a.push(A),n.push(A))}var f={mode:m.funnelmode,norm:m.funnelnorm,gap:m.funnelgap,groupgap:m.funnelgroupgap};for(C(S,o,r,a,f),C(S,r,o,s,f),T=0;T<n.length;T++){A=n[T];for(var w=0;w<A.length;w++)w+1<A.length&&(A[w].nextP0=A[w+1].p0,A[w].nextS0=A[w+1].s0,A[w].nextP1=A[w+1].p1,A[w].nextS1=A[w+1].s1)}}},26199:function(ie,B,e){"use strict";var C=e(71828),S=e(26125),u=e(90769).handleText,A=e(67513),T=e(73927),m=e(1285),l=e(7901);ie.exports={supplyDefaults:function(t,o,r,n){function a(f,w){return C.coerce(t,o,m,f,w)}if(A(t,o,n,a)){T(t,o,n,a),a("xhoverformat"),a("yhoverformat"),a("orientation",o.y&&!o.x?"v":"h"),a("offset"),a("width");var s=a("text");a("hovertext"),a("hovertemplate");var c=a("textposition");u(t,o,n,a,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"===o.textposition||o.texttemplate||a("textinfo",Array.isArray(s)?"text+value":"value");var p=a("marker.color",r);a("marker.line.color",l.defaultLine),a("marker.line.width"),a("connector.visible")&&(a("connector.fillcolor",(w=C.isArrayOrTypedArray(f=p)?"#000":f,l.addOpacity(w,.5*l.opacity(w)))),a("connector.line.width")&&(a("connector.line.color"),a("connector.line.dash")))}else o.visible=!1;var f,w},crossTraceDefaults:function(t,o){var r,n;function a(c){return C.coerce(n._input,n,m,c)}if("group"===o.funnelmode)for(var s=0;s<t.length;s++)r=(n=t[s])._input,S(r,n,o,a)}}},34598:function(ie){"use strict";ie.exports=function(B,e){return B.x="xVal"in e?e.xVal:e.x,B.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(B.percentInitial=e.percentInitial),"percentPrevious"in e&&(B.percentPrevious=e.percentPrevious),"percentTotal"in e&&(B.percentTotal=e.percentTotal),e.xa&&(B.xaxis=e.xa),e.ya&&(B.yaxis=e.ya),B}},63341:function(ie,B,e){"use strict";var C=e(7901).opacity,S=e(95423).hoverOnBars,u=e(71828).formatPercent;ie.exports=function(A,T,m,l,t){var _,x,b,M,d,o=S(A,T,m,l,t);if(o){var r=o.cd,n=r[0].trace,s=r[o.index];o[("h"===n.orientation?"x":"y")+"LabelVal"]=s.s,o.percentInitial=s.begR,o.percentInitialLabel=u(s.begR,1),o.percentPrevious=s.difR,o.percentPreviousLabel=u(s.difR,1),o.percentTotal=s.sumR,o.percentTotalLabel=u(s.sumR,1);var c=s.hi||n.hoverinfo,p=[];if(c&&"none"!==c&&"skip"!==c){var f="all"===c,w=c.split("+"),v=function(h){return f||-1!==w.indexOf(h)};v("percent initial")&&p.push(o.percentInitialLabel+" of initial"),v("percent previous")&&p.push(o.percentPreviousLabel+" of previous"),v("percent total")&&p.push(o.percentTotalLabel+" of total")}return o.extraText=p.join("<br>"),o.color=(x=n.marker,M=(_=s).mlc||x.line.color,d=_.mlw||x.line.width,C(b=_.mc||x.color)?b:C(M)&&d?M:void 0),[o]}}},51759:function(ie,B,e){"use strict";ie.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(ie){"use strict";ie.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(ie,B,e){"use strict";var C=e(71828),S=e(10440);ie.exports=function(u,A,T){var m=!1;function l(r,n){return C.coerce(u,A,S,r,n)}for(var t=0;t<T.length;t++){var o=T[t];if(o.visible&&"funnel"===o.type){m=!0;break}}m&&(l("funnelmode"),l("funnelgap",.2),l("funnelgroupgap"))}},80461:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(91424),A=e(50606).BADNUM,T=e(17295),m=e(72597).clearMinTextSize;function l(t,o,r,n){var a=[],s=[],c=n?o:r,p=n?r:o;return a[0]=c.c2p(t.s0,!0),s[0]=p.c2p(t.p0,!0),a[1]=c.c2p(t.s1,!0),s[1]=p.c2p(t.p1,!0),a[2]=c.c2p(t.nextS0,!0),s[2]=p.c2p(t.nextP0,!0),a[3]=c.c2p(t.nextS1,!0),s[3]=p.c2p(t.nextP1,!0),n?[a,s]:[s,a]}ie.exports=function(t,o,r,n){var s,c,w,v,a=t._fullLayout;m("funnel",a),s=t,w=(c=o).xaxis,v=c.yaxis,S.makeTraceGroups(n,r,"trace bars").each(function(h){var _=C.select(this),x=h[0].trace,b=S.ensureSingle(_,"g","regions");if(x.connector&&x.connector.visible){var M="h"===x.orientation,d=b.selectAll("g.region").data(S.identity);d.enter().append("g").classed("region",!0),d.exit().remove();var E=d.size();d.each(function(k,I){if(I===E-1||k.cNext){var L=l(k,w,v,M),P=L[0],R=L[1],z="";P[0]!==A&&R[0]!==A&&P[1]!==A&&R[1]!==A&&P[2]!==A&&R[2]!==A&&P[3]!==A&&R[3]!==A&&(z+=M?"M"+P[0]+","+R[1]+"L"+P[2]+","+R[2]+"H"+P[3]+"L"+P[1]+","+R[1]+"Z":"M"+P[1]+","+R[1]+"L"+P[2]+","+R[3]+"V"+R[2]+"L"+P[1]+","+R[0]+"Z"),""===z&&(z="M0,0Z"),S.ensureSingle(C.select(this),"path").attr("d",z).call(u.setClipUrl,c.layerClipId,s)}})}else b.remove()}),function(s,c,p,f){var w=c.xaxis,v=c.yaxis;S.makeTraceGroups(f,p,"trace bars").each(function(h){var _=C.select(this),x=h[0].trace,b=S.ensureSingle(_,"g","lines");if(x.connector&&x.connector.visible&&x.connector.line.width){var M="h"===x.orientation,d=b.selectAll("g.line").data(S.identity);d.enter().append("g").classed("line",!0),d.exit().remove();var E=d.size();d.each(function(k,I){if(I===E-1||k.cNext){var L=l(k,w,v,M),P=L[0],R=L[1],z="";void 0!==P[3]&&void 0!==R[3]&&(M?(z+="M"+P[0]+","+R[1]+"L"+P[2]+","+R[2],z+="M"+P[1]+","+R[1]+"L"+P[3]+","+R[2]):(z+="M"+P[1]+","+R[1]+"L"+P[2]+","+R[3],z+="M"+P[1]+","+R[0]+"L"+P[2]+","+R[2])),""===z&&(z="M0,0Z"),S.ensureSingle(C.select(this),"path").attr("d",z).call(u.setClipUrl,c.layerClipId,s)}})}else b.remove()})}(t,o,r,n),T.plot(t,o,r,n,{mode:a.funnelmode,norm:a.funnelmode,gap:a.funnelgap,groupgap:a.funnelgroupgap})}},68266:function(ie,B,e){"use strict";var C=e(39898),S=e(91424),u=e(7901),A=e(37822).DESELECTDIM,T=e(16688),m=e(72597).resizeText,l=T.styleTextPoints;ie.exports={style:function(t,o,r){var n=r||C.select(t).selectAll("g.funnellayer").selectAll("g.trace");m(t,n,"funnel"),n.style("opacity",function(a){return a[0].trace.opacity}),n.each(function(a){var s=C.select(this),c=a[0].trace;s.selectAll(".point > path").each(function(p){if(!p.isBlank){var f=c.marker;C.select(this).call(u.fill,p.mc||f.color).call(u.stroke,p.mlc||f.line.color).call(S.dashLine,f.line.dash,p.mlw||f.line.width).style("opacity",c.selectedpoints&&!p.selected?A:1)}}),l(s,c,t),s.selectAll(".regions").each(function(){C.select(this).selectAll("path").style("stroke-width",0).call(u.fill,c.connector.fillcolor)}),s.selectAll(".lines").each(function(){var p=c.connector.line;S.lineGroupStyle(C.select(this).selectAll("path"),p.width,p.color,p.dash)})})}}},86807:function(ie,B,e){"use strict";var C=e(34e3),S=e(9012),u=e(27670).Y,A=e(5386).fF,T=e(5386).si,m=e(1426).extendFlat;ie.exports={labels:C.labels,label0:C.label0,dlabel:C.dlabel,values:C.values,marker:{colors:C.marker.colors,line:{color:m({},C.marker.line.color,{dflt:null}),width:m({},C.marker.line.width,{dflt:1}),editType:"calc"},pattern:C.marker.pattern,editType:"calc"},text:C.text,hovertext:C.hovertext,scalegroup:m({},C.scalegroup,{}),textinfo:m({},C.textinfo,{flags:["label","text","value","percent"]}),texttemplate:T({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:m({},S.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:A({},{keys:["label","color","value","text","percent"]}),textposition:m({},C.textposition,{values:["inside","none"],dflt:"inside"}),textfont:C.textfont,insidetextfont:C.insidetextfont,title:{text:C.title.text,font:C.title.font,position:m({},C.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:u({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(ie,B,e){"use strict";var C=e(74875);B.name="funnelarea",B.plot=function(S,u,A,T){C.plotBasePlot(B.name,S,u,A,T)},B.clean=function(S,u,A,T){C.cleanBasePlot(B.name,S,u,A,T)}},89574:function(ie,B,e){"use strict";var C=e(32354);ie.exports={calc:function(S,u){return C.calc(S,u)},crossTraceCalc:function(S){C.crossTraceCalc(S,{type:"funnelarea"})}}},86282:function(ie,B,e){"use strict";var C=e(71828),S=e(86807),u=e(27670).c,A=e(90769).handleText,T=e(37434).handleLabelsAndValues,m=e(37434).handleMarkerDefaults;ie.exports=function(l,t,o,r){function n(_,x){return C.coerce(l,t,S,_,x)}var a=n("labels"),s=n("values"),c=T(a,s),p=c.len;if(t._hasLabels=c.hasLabels,t._hasValues=c.hasValues,!t._hasLabels&&t._hasValues&&(n("label0"),n("dlabel")),p){t._length=p,m(l,t,r,n),n("scalegroup");var f,w=n("text"),v=n("texttemplate");if(v||(f=n("textinfo",Array.isArray(w)?"text+percent":"percent")),n("hovertext"),n("hovertemplate"),v||f&&"none"!==f){var h=n("textposition");A(l,t,r,n,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}u(t,r,n),n("title.text")&&(n("title.position"),C.coerceFont(n,"title.font",r.font)),n("aspectratio"),n("baseratio")}else t.visible=!1}},10421:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(ie,B,e){"use strict";var C=e(92774).hiddenlabels;ie.exports={hiddenlabels:C,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(ie,B,e){"use strict";var C=e(71828),S=e(80097);ie.exports=function(u,A){function T(m,l){return C.coerce(u,A,S,m,l)}T("hiddenlabels"),T("funnelareacolorway",A.colorway),T("extendfunnelareacolors")}},79187:function(ie,B,e){"use strict";var C=e(39898),S=e(91424),u=e(71828),A=u.strScale,T=u.strTranslate,m=e(63893),l=e(17295).toMoveInsideBar,t=e(72597),o=t.recordMinTextSize,r=t.clearMinTextSize,n=e(53581),a=e(14575),s=a.attachFxHandlers,c=a.determineInsideTextFont,p=a.layoutAreas,f=a.prerenderTitles,w=a.positionTitleOutside,v=a.formatSliceLabel;function h(_,x){return"l"+(x[0]-_[0])+","+(x[1]-_[1])}ie.exports=function(_,x){var b=_._context.staticPlot,M=_._fullLayout;r("funnelarea",M),f(x,_),p(x,M._size),u.makeTraceGroups(M._funnelarealayer,x,"trace").each(function(d){var E=C.select(this),k=d[0],I=k.trace;(function(L){if(L.length){var P=L[0],R=P.trace,z=R.aspectratio,$=R.baseratio;$>.999&&($=.999);var N,W,H,U=Math.pow($,2),Z=P.vTotal,Y=Z,ae=Z*U/(1-U)/Z,re=[];for(re.push(Ce()),W=L.length-1;W>-1;W--)(H=L[W]).hidden||(ae+=H.v/Y,re.push(Ce()));var K=1/0,te=-1/0;for(W=0;W<re.length;W++)N=re[W],K=Math.min(K,N[1]),te=Math.max(te,N[1]);for(W=0;W<re.length;W++)re[W][1]-=(te+K)/2;var ue=P.r,fe=(te-K)/2,he=ue/re[re.length-1][0],me=ue/fe*z;for(P.r=me*fe,W=0;W<re.length;W++)re[W][0]*=he,re[W][1]*=me;var ke,Pe,Te=[-(N=re[0])[0],N[1]],be=[N[0],N[1]],xe=0;for(W=L.length-1;W>-1;W--)if(!(H=L[W]).hidden){var Ne=re[xe+=1][0],Se=re[xe][1];H.TL=[-Ne,Se],H.TR=[Ne,Se],H.BL=Te,H.BR=be,H.pxmid=[.5*((ke=H.TR)[0]+(Pe=H.BR)[0]),.5*(ke[1]+Pe[1])],Te=H.TL,be=H.TR}}function Ce(){var pe,de={x:pe=Math.sqrt(ae),y:-pe};return[de.x,de.y]}})(d),E.each(function(){var L=C.select(this).selectAll("g.slice").data(d);L.enter().append("g").classed("slice",!0),L.exit().remove(),L.each(function(R,z){if(R.hidden)C.select(this).selectAll("path,g").remove();else{R.pointNumber=R.i,R.curveNumber=I.index;var $=k.cx,N=k.cy,W=C.select(this),H=W.selectAll("path.surface").data([R]);H.enter().append("path").classed("surface",!0).style({"pointer-events":b?"none":"all"}),W.call(s,_,d);var U="M"+($+R.TR[0])+","+(N+R.TR[1])+h(R.TR,R.BR)+h(R.BR,R.BL)+h(R.BL,R.TL)+"Z";H.attr("d",U),v(_,R,k);var Z=n.castOption(I.textposition,R.pts),Y=W.selectAll("g.slicetext").data(R.text&&"none"!==Z?[0]:[]);Y.enter().append("g").classed("slicetext",!0),Y.exit().remove(),Y.each(function(){var ae=u.ensureSingle(C.select(this),"text","",function(he){he.attr("data-notex",1)}),re=u.ensureUniformFontSize(_,c(I,R,M.font));ae.text(R.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(S.font,re).call(m.convertToTspans,_);var Q,K,te,oe=S.bBox(ae.node()),ue=Math.min(R.BL[1],R.BR[1])+N,fe=Math.max(R.TL[1],R.TR[1])+N;K=Math.max(R.TL[0],R.BL[0])+$,te=Math.min(R.TR[0],R.BR[0])+$,(Q=l(K,te,ue,fe,oe,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=re.size,o(I.type,Q,M),d[z].transform=Q,u.setTransormAndDisplay(ae,Q)})}});var P=C.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);P.enter().append("g").classed("titletext",!0),P.exit().remove(),P.each(function(){var R=u.ensureSingle(C.select(this),"text","",function(N){N.attr("data-notex",1)}),z=I.title.text;I._meta&&(z=u.templateString(z,I._meta)),R.text(z).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(S.font,I.title.font).call(m.convertToTspans,_);var $=w(k,M._size);R.attr("transform",T($.x,$.y)+A(Math.min(1,$.scale))+T($.tx,$.ty))})})})}},71858:function(ie,B,e){"use strict";var C=e(39898),S=e(63463),u=e(72597).resizeText;ie.exports=function(A){var T=A._fullLayout._funnelarealayer.selectAll(".trace");u(A,T,"funnelarea"),T.each(function(m){var l=m[0].trace,t=C.select(this);t.style({opacity:l.opacity}),t.selectAll("path.surface").each(function(o){C.select(this).call(S,o,l,A)})})}},21606:function(ie,B,e){"use strict";var C=e(82196),S=e(9012),u=e(41940),A=e(12663).axisHoverFormat,T=e(5386).fF,m=e(5386).si,l=e(50693),t=e(1426).extendFlat;ie.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},C.x,{impliedEdits:{xtype:"array"}}),x0:t({},C.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},C.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},C.y,{impliedEdits:{ytype:"array"}}),y0:t({},C.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},C.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},C.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},C.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},C.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},C.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},C.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},C.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z",1),hovertemplate:T(),texttemplate:m({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:u({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},S.showlegend,{dflt:!1})},{transforms:void 0},l("",{cLetter:"z",autoColorDflt:!1}))},90757:function(ie,B,e){"use strict";var C=e(73972),S=e(71828),u=e(89298),A=e(42973),T=e(17562),m=e(78803),l=e(68296),t=e(4742),o=e(824),r=e(43907),n=e(70769),a=e(50606).BADNUM;function s(c){for(var p=[],f=c.length,w=0;w<f;w++){var v=c[w];v!==a&&p.push(v)}return p}ie.exports=function(c,p){var f,w,v,h,_,x,b,M,d,E,k,I=u.getFromId(c,p.xaxis||"x"),L=u.getFromId(c,p.yaxis||"y"),P=C.traceIs(p,"contour"),R=C.traceIs(p,"histogram"),z=C.traceIs(p,"gl2d"),$=P?"best":p.zsmooth;if(I._minDtick=0,L._minDtick=0,R)h=(k=T(c,p)).orig_x,f=k.x,w=k.x0,v=k.dx,M=k.orig_y,_=k.y,x=k.y0,b=k.dy,d=k.z;else{var N=p.z;S.isArray1D(N)?(l(p,I,L,"x","y",["z"]),f=p._x,_=p._y,N=p._z):(h=p.x?I.makeCalcdata(p,"x"):[],M=p.y?L.makeCalcdata(p,"y"):[],f=A(p,I,"x",h).vals,_=A(p,L,"y",M).vals,p._x=f,p._y=_),w=p.x0,v=p.dx,x=p.y0,b=p.dy,d=t(N,p,I,L)}function W(te){$=p._input.zsmooth=p.zsmooth=!1,S.warn('cannot use zsmooth: "fast": '+te)}function H(te){if(te.length>1){var oe=(te[te.length-1]-te[0])/(te.length-1),ue=Math.abs(oe/100);for(E=0;E<te.length-1;E++)if(Math.abs(te[E+1]-te[E]-oe)>ue)return!1}return!0}(I.rangebreaks||L.rangebreaks)&&(d=function(te,oe,ue){for(var fe=[],he=-1,me=0;me<ue.length;me++)if(oe[me]!==a){fe[++he]=[];for(var ke=0;ke<ue[me].length;ke++)te[ke]!==a&&fe[he].push(ue[me][ke])}return fe}(f,_,d),R||(f=s(f),_=s(_),p._x=f,p._y=_)),R||!P&&!p.connectgaps||(p._emptypoints=r(d),o(d,p._emptypoints)),p._islinear=!1,"log"===I.type||"log"===L.type?"fast"===$&&W("log axis found"):H(f)?H(_)?p._islinear=!0:"fast"===$&&W("y scale is not linear"):"fast"===$&&W("x scale is not linear");var U=S.maxRowLength(d),Z="scaled"===p.xtype?"":f,Y=n(p,Z,w,v,U,I),ae="scaled"===p.ytype?"":_,re=n(p,ae,x,b,d.length,L);z||(p._extremes[I._id]=u.findExtremes(I,Y),p._extremes[L._id]=u.findExtremes(L,re));var Q={x:Y,y:re,z:d,text:p._text||p.text,hovertext:p._hovertext||p.hovertext};if(p.xperiodalignment&&h&&(Q.orig_x=h),p.yperiodalignment&&M&&(Q.orig_y=M),Z&&Z.length===Y.length-1&&(Q.xCenter=Z),ae&&ae.length===re.length-1&&(Q.yCenter=ae),R&&(Q.xRanges=k.xRanges,Q.yRanges=k.yRanges,Q.pts=k.pts),P||m(c,p,{vals:d,cLetter:"z"}),P&&p.contours&&"heatmap"===p.contours.coloring){var K={type:"contour"===p.type?"heatmap":"histogram2d",xcalendar:p.xcalendar,ycalendar:p.ycalendar};Q.xfill=n(K,Z,w,v,U,I),Q.yfill=n(K,ae,x,b,d.length,L)}return[Q]}},4742:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=e(50606).BADNUM;ie.exports=function(A,T,m,l){var t,o,r,n,a,s;function c(_){if(C(_))return+_}if(T&&T.transpose){for(t=0,a=0;a<A.length;a++)t=Math.max(t,A[a].length);if(0===t)return!1;r=function(_){return _.length},n=function(_,x,b){return(_[b]||[])[x]}}else t=A.length,r=function(_,x){return _[x].length},n=function(_,x,b){return(_[x]||[])[b]};function f(_){if(T&&"carpet"!==T.type&&"contourcarpet"!==T.type&&_&&"category"===_.type&&T["_"+_._id.charAt(0)].length){var x=_._id.charAt(0),b={},M=T["_"+x+"CategoryMap"]||T[x];for(a=0;a<M.length;a++)b[M[a]]=a;return function(d){var E=b[_._categories[d]];return E+1?E:u}}return S.identity}var w=f(m),v=f(l);l&&"category"===l.type&&(t=l._categories.length);var _,x,b,h=new Array(t);for(a=0;a<t;a++)for(o=m&&"category"===m.type?m._categories.length:r(A,a),h[a]=new Array(o),s=0;s<o;s++)h[a][s]=c((_=A,x=v(a),b=w(s),x===u||b===u?u:n(_,x,b)));return h}},61243:function(ie){"use strict";ie.exports={min:"zmin",max:"zmax"}},68296:function(ie,B,e){"use strict";var C=e(71828),S=e(50606).BADNUM,u=e(42973);ie.exports=function(A,T,m,l,t,o){var r=A._length,n=T.makeCalcdata(A,l),a=m.makeCalcdata(A,t);n=u(A,T,l,n).vals,a=u(A,m,t,a).vals;var s,c,p,f,w=A.text,v=void 0!==w&&C.isArray1D(w),h=A.hovertext,_=void 0!==h&&C.isArray1D(h),x=C.distinctVals(n),b=x.vals,M=C.distinctVals(a),d=M.vals,E=[],k=d.length,I=b.length;for(s=0;s<o.length;s++)E[s]=C.init2dArray(k,I);v&&(p=C.init2dArray(k,I)),_&&(f=C.init2dArray(k,I));var L=C.init2dArray(k,I);for(s=0;s<r;s++)if(n[s]!==S&&a[s]!==S){var P=C.findBin(n[s]+x.minDiff/2,b),R=C.findBin(a[s]+M.minDiff/2,d);for(c=0;c<o.length;c++)E[c][R][P]=A[o[c]][s],L[R][P]=s;v&&(p[R][P]=w[s]),_&&(f[R][P]=h[s])}for(A["_"+l]=b,A["_"+t]=d,c=0;c<o.length;c++)A["_"+o[c]]=E[c];v&&(A._text=p),_&&(A._hovertext=f),T&&"category"===T.type&&(A["_"+l+"CategoryMap"]=b.map(function($){return T._categories[$]})),m&&"category"===m.type&&(A["_"+t+"CategoryMap"]=d.map(function($){return m._categories[$]})),A._after2before=L}},76382:function(ie,B,e){"use strict";var C=e(71828),S=e(67684),u=e(58623),A=e(73927),T=e(49901),m=e(1586),l=e(21606);ie.exports=function(t,o,r,n){function a(s,c){return C.coerce(t,o,l,s,c)}S(t,o,a,n)?(A(t,o,n,a),a("xhoverformat"),a("yhoverformat"),a("text"),a("hovertext"),a("hovertemplate"),u(a,n),T(t,o,a,n),a("hoverongaps"),a("connectgaps",C.isArray1D(o.z)&&!1!==o.zsmooth),m(t,o,n,a,{prefix:"",cLetter:"z"})):o.visible=!1}},43907:function(ie,B,e){"use strict";var C=e(71828).maxRowLength;ie.exports=function(S){var u,A,T,m,l,t,o,r,n=[],a={},s=[],c=S[0],p=[],f=[0,0,0],w=C(S);for(A=0;A<S.length;A++)for(u=p,p=c,c=S[A+1]||[],T=0;T<w;T++)void 0===p[T]&&((t=(void 0!==p[T-1]?1:0)+(void 0!==p[T+1]?1:0)+(void 0!==u[T]?1:0)+(void 0!==c[T]?1:0))?(0===A&&t++,0===T&&t++,A===S.length-1&&t++,T===p.length-1&&t++,t<4&&(a[[A,T]]=[A,T,t]),n.push([A,T,t])):s.push([A,T]));for(;s.length;){for(o={},r=!1,l=s.length-1;l>=0;l--)(t=((a[[(A=(m=s[l])[0])-1,T=m[1]]]||f)[2]+(a[[A+1,T]]||f)[2]+(a[[A,T-1]]||f)[2]+(a[[A,T+1]]||f)[2])/20)&&(o[m]=[A,T,t],s.splice(l,1),r=!0);if(!r)throw"findEmpties iterated with no new neighbors";for(m in o)a[m]=o[m],n.push(o[m])}return n.sort(function(v,h){return h[2]-v[2]})}},46248:function(ie,B,e){"use strict";var C=e(30211),S=e(71828),u=e(89298),A=e(21081).extractOpts;ie.exports=function(T,m,l,t,o){o||(o={});var r,n,a,s,c=o.isContour,p=T.cd[0],f=p.trace,w=T.xa,v=T.ya,h=p.x,_=p.y,x=p.z,b=p.xCenter,M=p.yCenter,d=p.zmask,E=f.zhoverformat,k=h,I=_;if(!1!==T.index){try{a=Math.round(T.index[1]),s=Math.round(T.index[0])}catch{return void S.error("Error hovering on heatmap, pointNumber must be [row,col], found:",T.index)}if(a<0||a>=x[0].length||s<0||s>x.length)return}else{if(C.inbox(m-h[0],m-h[h.length-1],0)>0||C.inbox(l-_[0],l-_[_.length-1],0)>0)return;if(c){var L;for(k=[2*h[0]-h[1]],L=1;L<h.length;L++)k.push((h[L]+h[L-1])/2);for(k.push([2*h[h.length-1]-h[h.length-2]]),I=[2*_[0]-_[1]],L=1;L<_.length;L++)I.push((_[L]+_[L-1])/2);I.push([2*_[_.length-1]-_[_.length-2]])}a=Math.max(0,Math.min(k.length-2,S.findBin(m,k))),s=Math.max(0,Math.min(I.length-2,S.findBin(l,I)))}var P,R,z=w.c2p(h[a]),$=w.c2p(h[a+1]),N=v.c2p(_[s]),W=v.c2p(_[s+1]);c?($=z,r=(P=p.orig_x||h)[a],W=N,n=(R=p.orig_y||_)[s]):(P=p.orig_x||b||h,R=p.orig_y||M||_,r=b?P[a]:(P[a]+P[a+1])/2,n=M?R[s]:(R[s]+R[s+1])/2,w&&"category"===w.type&&(r=h[a]),v&&"category"===v.type&&(n=_[s]),f.zsmooth&&(z=$=w.c2p(r),N=W=v.c2p(n)));var H=x[s][a];if(d&&!d[s][a]&&(H=void 0),void 0!==H||f.hoverongaps){var U;Array.isArray(p.hovertext)&&Array.isArray(p.hovertext[s])?U=p.hovertext[s][a]:Array.isArray(p.text)&&Array.isArray(p.text[s])&&(U=p.text[s][a]);var Z=A(f),ae=u.tickText({type:"linear",range:[Z.min,Z.max],hoverformat:E,_separators:w._separators,_numFormat:w._numFormat},H,"hover").text;return[S.extendFlat(T,{index:f._after2before?f._after2before[s][a]:[s,a],distance:T.maxHoverDistance,spikeDistance:T.maxSpikeDistance,x0:z,x1:$,y0:N,y1:W,xLabelVal:r,yLabelVal:n,zLabelVal:H,zLabel:ae,text:U})]}}},92165:function(ie,B,e){"use strict";ie.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(ie,B,e){"use strict";var C=e(71828),S=[[-1,0],[1,0],[0,-1],[0,1]];function u(T){return.5-.25*Math.min(1,.5*T)}function A(T,m,l){var t,o,r,n,a,s,c,p,f,w,v,h,_,x=0;for(n=0;n<m.length;n++){for(v=T[o=(t=m[n])[0]][r=t[1]],w=0,f=0,a=0;a<4;a++)(c=T[o+(s=S[a])[0]])&&void 0!==(p=c[r+s[1]])&&(0===w?h=_=p:(h=Math.min(h,p),_=Math.max(_,p)),f++,w+=p);if(0===f)throw"iterateInterp2d order is wrong: no defined neighbors";T[o][r]=w/f,void 0===v?f<4&&(x=1):(T[o][r]=(1+l)*T[o][r]-l*v,_>h&&(x=Math.max(x,Math.abs(T[o][r]-v)/(_-h))))}return x}ie.exports=function(T,m){var l,t=1;for(A(T,m),l=0;l<m.length&&!(m[l][2]<4);l++);for(m=m.slice(l),l=0;l<100&&t>.01;l++)t=A(T,m,u(t));return t>.01&&C.log("interp2d didn't converge quickly",t),T}},58623:function(ie,B,e){"use strict";var C=e(71828);ie.exports=function(S,u){S("texttemplate");var A=C.extendFlat({},u.font,{color:"auto",size:"auto"});C.coerceFont(S,"textfont",A)}},70769:function(ie,B,e){"use strict";var C=e(73972),S=e(71828).isArrayOrTypedArray;ie.exports=function(u,A,T,m,l,t){var o,r,n,a=[],s=C.traceIs(u,"contour"),c=C.traceIs(u,"histogram"),p=C.traceIs(u,"gl2d");if(S(A)&&A.length>1&&!c&&"category"!==t.type){var f=A.length;if(!(f<=l))return A.slice(0,s?l:l+1);if(s||p)a=A.slice(0,l);else if(1===l)a=[A[0]-.5,A[0]+.5];else{for(a=[1.5*A[0]-.5*A[1]],n=1;n<f;n++)a.push(.5*(A[n-1]+A[n]));a.push(1.5*A[f-1]-.5*A[f-2])}if(f<l){var w=a[a.length-1],v=w-a[a.length-2];for(n=f;n<l;n++)a.push(w+=v)}}else{var h=u[t._id.charAt(0)+"calendar"];for(o=c?t.r2c(T,0,h):S(A)&&1===A.length?A[0]:void 0===T?0:("log"===t.type?t.d2c:t.r2c)(T,0,h),r=m||1,n=s||p?0:-.5;n<l;n++)a.push(o+r*n)}return a}},50347:function(ie,B,e){"use strict";var C=e(39898),S=e(84267),u=e(73972),A=e(91424),T=e(89298),m=e(71828),l=e(63893),t=e(8225),o=e(7901),r=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,a=e(77922),s=e(18783).LINE_SPACING,c=e(3883),p=e(32396).STYLE,f="heatmap-label";function w(b){return b.selectAll("g."+f)}function v(b){w(b).remove()}function h(b,M){var d=M.length-2,E=m.constrain(m.findBin(b,M),0,d),k=M[E],L=m.constrain(E+(b-k)/(M[E+1]-k)-.5,0,d),P=Math.round(L),R=Math.abs(L-P);return L&&L!==d&&R?{bin0:P,frac:R,bin1:Math.round(P+R/(L-P))}:{bin0:P,bin1:P,frac:0}}function _(b,M){var d=M.length-1,E=m.constrain(m.findBin(b,M),0,d),k=M[E],I=(b-k)/(M[E+1]-k)||0;return I<=0?{bin0:E,bin1:E,frac:0}:I<.5?{bin0:E,bin1:E+1,frac:I}:{bin0:E+1,bin1:E,frac:1-I}}function x(b,M,d){b[M]=d[0],b[M+1]=d[1],b[M+2]=d[2],b[M+3]=Math.round(255*d[3])}ie.exports=function(b,M,d,E){var k=M.xaxis,I=M.yaxis;m.makeTraceGroups(E,d,"hm").each(function(L){var P,R,z,$,N,W,H,U,Z=C.select(this),Y=L[0],ae=Y.trace,re=ae.xgap||0,Q=ae.ygap||0,K=Y.z,te=Y.x,oe=Y.y,ue=Y.xCenter,fe=Y.yCenter,he=u.traceIs(ae,"contour"),me=he?"best":ae.zsmooth,ke=K.length,Pe=m.maxRowLength(K),Te=!1,be=!1;for(W=0;void 0===P&&W<te.length-1;)P=k.c2p(te[W]),W++;for(W=te.length-1;void 0===R&&W>0;)R=k.c2p(te[W]),W--;for(R<P&&(z=R,R=P,P=z,Te=!0),W=0;void 0===$&&W<oe.length-1;)$=I.c2p(oe[W]),W++;for(W=oe.length-1;void 0===N&&W>0;)N=I.c2p(oe[W]),W--;N<$&&(z=$,$=N,N=z,be=!0),he&&(ue=te,fe=oe,te=Y.xfill,oe=Y.yfill);var xe="default";if(me?xe="best"===me?"smooth":"fast":ae._islinear&&0===re&&0===Q&&c()&&(xe="fast"),"fast"!==xe){var Ne="best"===me?0:.5;P=Math.max(-Ne*k._length,P),R=Math.min((1+Ne)*k._length,R),$=Math.max(-Ne*I._length,$),N=Math.min((1+Ne)*I._length,N)}var Se,Ce,pe=Math.round(R-P),de=Math.round(N-$);if(P>=k._length||R<=0||$>=I._length||N<=0)return Z.selectAll("image").data([]).exit().remove(),void v(Z);"fast"===xe?(Se=Pe,Ce=ke):(Se=pe,Ce=de);var se=document.createElement("canvas");se.width=Se,se.height=Ce;var we,Re,Ee=se.getContext("2d"),Ue=n(ae,{noNumericCheck:!0,returnArray:!0});"fast"===xe?(we=Te?function(Xt){return Pe-1-Xt}:m.identity,Re=be?function(Xt){return ke-1-Xt}:m.identity):(we=function(Xt){return m.constrain(Math.round(k.c2p(te[Xt])-P),0,pe)},Re=function(Xt){return m.constrain(Math.round(I.c2p(oe[Xt])-$),0,de)});var $e,ve,Ie,De,ze=Re(0),Ge=[ze,ze],He=Te?0:1,Ke=be?0:1,et=0,st=0,mt=0,at=0;function kt(Xt,rn){if(void 0!==Xt){var wn=Ue(Xt);return wn[0]=Math.round(wn[0]),wn[1]=Math.round(wn[1]),wn[2]=Math.round(wn[2]),et+=rn,st+=wn[0]*rn,mt+=wn[1]*rn,at+=wn[2]*rn,wn}return[0,0,0,0]}function St(Xt,rn,wn,Cn){var Bn=Xt[wn.bin0];if(void 0===Bn)return kt(void 0,1);var An=Xt[wn.bin1],$n=rn[wn.bin0],Xn=rn[wn.bin1];return kt(Bn+wn.frac*(An-Bn||0)+Cn.frac*(($n-Bn||0)+wn.frac*(void 0===An?void 0===Xn?0:void 0===$n?2*(Xn-Bn):2*(2*Xn-$n-Bn)/3:void 0===Xn?void 0===$n?0:2*(2*Bn-An-$n)/3:void 0===$n?2*(2*Xn-An-Bn)/3:Xn+Bn-An-$n)))}if("default"!==xe){var gt,dt=0;try{gt=new Uint8Array(Se*Ce*4)}catch{gt=new Array(Se*Ce*4)}if("smooth"===xe){var Ct,Ot,Pt,Ht=ue||te,jt=fe||oe,nt=new Array(Ht.length),it=new Array(jt.length),Xe=new Array(pe),rt=ue?_:h,ft=fe?_:h;for(W=0;W<Ht.length;W++)nt[W]=Math.round(k.c2p(Ht[W])-P);for(W=0;W<jt.length;W++)it[W]=Math.round(I.c2p(jt[W])-$);for(W=0;W<pe;W++)Xe[W]=rt(W,nt);for(H=0;H<de;H++)for(Ot=K[(Ct=ft(H,it)).bin0],Pt=K[Ct.bin1],W=0;W<pe;W++,dt+=4)x(gt,dt,De=St(Ot,Pt,Xe[W],Ct))}else for(H=0;H<ke;H++)for(Ie=K[H],Ge=Re(H),W=0;W<Pe;W++)De=kt(Ie[W],1),x(gt,dt=4*(Ge*Pe+we(W)),De);var vt=Ee.createImageData(Se,Ce);try{vt.data.set(gt)}catch{var je=vt.data,Ve=je.length;for(H=0;H<Ve;H++)je[H]=gt[H]}Ee.putImageData(vt,0,0)}else{var ut=Math.floor(re/2),ct=Math.floor(Q/2);for(H=0;H<ke;H++)if(Ie=K[H],Ge.reverse(),Ge[Ke]=Re(H+1),Ge[0]!==Ge[1]&&void 0!==Ge[0]&&void 0!==Ge[1])for($e=[ve=we(0),ve],W=0;W<Pe;W++)$e.reverse(),$e[He]=we(W+1),$e[0]!==$e[1]&&void 0!==$e[0]&&void 0!==$e[1]&&(De=kt(Ie[W],($e[1]-$e[0])*(Ge[1]-Ge[0])),Ee.fillStyle="rgba("+De.join(",")+")",Ee.fillRect($e[0]+ut,Ge[0]+ct,$e[1]-$e[0]-re,Ge[1]-Ge[0]-Q))}st=Math.round(st/et),mt=Math.round(mt/et),at=Math.round(at/et);var Tt=S("rgb("+st+","+mt+","+at+")");b._hmpixcount=(b._hmpixcount||0)+et,b._hmlumcount=(b._hmlumcount||0)+et*Tt.getLuminance();var Mt=Z.selectAll("image").data(L);Mt.enter().append("svg:image").attr({xmlns:a.svg,preserveAspectRatio:"none"}),Mt.attr({height:de,width:pe,x:P,y:$,"xlink:href":se.toDataURL("image/png")}),"fast"!==xe||me||Mt.attr("style",p),v(Z);var At=ae.texttemplate;if(At){var bt=r(ae),Rt={type:"linear",range:[bt.min,bt.max],_separators:k._separators,_numFormat:k._numFormat},xt="histogram2dcontour"===ae.type,_t="contour"===ae.type,It=_t?ke-1:ke,Gt=_t?1:0,Wt=_t?Pe-1:Pe,Zt=[];for(W=_t?1:0;W<It;W++){var cn;if(_t)cn=Y.y[W];else if(xt){if(0===W||W===ke-1)continue;cn=Y.y[W]}else if(Y.yCenter)cn=Y.yCenter[W];else{if(W+1===ke&&void 0===Y.y[W+1])continue;cn=(Y.y[W]+Y.y[W+1])/2}var nn=Math.round(I.c2p(cn));if(!(0>nn||nn>I._length))for(H=Gt;H<Wt;H++){var ln;if(_t)ln=Y.x[H];else if(xt){if(0===H||H===Pe-1)continue;ln=Y.x[H]}else if(Y.xCenter)ln=Y.xCenter[H];else{if(H+1===Pe&&void 0===Y.x[H+1])continue;ln=(Y.x[H]+Y.x[H+1])/2}var Qt=Math.round(k.c2p(ln));if(!(0>Qt||Qt>k._length)){var kn=t({x:ln,y:cn},ae,b._fullLayout);kn.x=ln,kn.y=cn;var Pn=Y.z[W][H];void 0===Pn?(kn.z="",kn.zLabel=""):(kn.z=Pn,kn.zLabel=T.tickText(Rt,Pn,"hover").text);var Tn=Y.text&&Y.text[W]&&Y.text[W][H];void 0!==Tn&&!1!==Tn||(Tn=""),kn.text=Tn;var tn=m.texttemplateString(At,kn,b._fullLayout._d3locale,kn,ae._meta||{});if(tn){var gn=tn.split("<br>"),hn=gn.length,mn=0;for(U=0;U<hn;U++)mn=Math.max(mn,gn[U].length);Zt.push({l:hn,c:mn,t:tn,x:Qt,y:nn,z:Pn})}}}}var En=ae.textfont,vn=En.family,Un=En.size,Hn=b._fullLayout.font.size;if(!Un||"auto"===Un){var On=1/0,Wn=1/0,pr=0,ar=0;for(U=0;U<Zt.length;U++){var Ar=Zt[U];if(pr=Math.max(pr,Ar.l),ar=Math.max(ar,Ar.c),U<Zt.length-1){var hr=Zt[U+1],fr=Math.abs(hr.x-Ar.x),Rr=Math.abs(hr.y-Ar.y);fr&&(On=Math.min(On,fr)),Rr&&(Wn=Math.min(Wn,Rr))}}isFinite(On)&&isFinite(Wn)?(On-=re,Wn-=Q,On/=ar,Wn/=pr,On/=s/2,Wn/=s,Un=Math.min(Math.floor(On),Math.floor(Wn),Hn)):Un=Hn}if(Un<=0||!isFinite(Un))return;w(Z).data(Zt).enter().append("g").classed(f,1).append("text").attr("text-anchor","middle").each(function(Xt){var Cn,rn=C.select(this),wn=En.color;wn&&"auto"!==wn||(wn=o.contrast("rgba("+Ue(Xt.z).join()+")")),rn.attr("data-notex",1).call(l.positionText,(Cn=Xt,Cn.x),function(Cn){return Cn.y-Un*(Cn.l*s/2-1)}(Xt)).call(A.font,vn,Un,wn).text(Xt.t).call(l.convertToTspans,b)})}})}},70035:function(ie,B,e){"use strict";var C=e(39898);ie.exports=function(S){C.select(S).selectAll(".hm image").style("opacity",function(u){return u.trace.opacity})}},49901:function(ie){"use strict";ie.exports=function(B,e,C){!1===C("zsmooth")&&(C("xgap"),C("ygap")),C("zhoverformat")}},67684:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=e(73972);function A(T,m){var l=m(T);return"scaled"===(l?m(T+"type","array"):"scaled")&&(m(T+"0"),m("d"+T)),l}ie.exports=function(T,m,l,t,o,r){var n,a,s=l("z");if(o=o||"x",r=r||"y",void 0===s||!s.length)return 0;if(S.isArray1D(T.z)){n=l(o),a=l(r);var c=S.minRowLength(n),p=S.minRowLength(a);if(0===c||0===p)return 0;m._length=Math.min(c,p,s.length)}else{if(n=A(o,l),a=A(r,l),!function(f){for(var w,v=!0,h=!1,_=!1,x=0;x<f.length;x++){if(!S.isArrayOrTypedArray(w=f[x])){v=!1;break}w.length>0&&(h=!0);for(var b=0;b<w.length;b++)if(C(w[b])){_=!0;break}}return v&&h&&_}(s))return 0;l("transpose"),m._length=null}return"heatmapgl"===T.type||u.getComponentMethod("calendars","handleTraceDefaults")(T,m,[o,r],t),!0}},16063:function(ie,B,e){"use strict";for(var C=e(21606),S=e(50693),u=e(1426).extendFlat,A=e(30962).overrideAll,T=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],m={},l=0;l<T.length;l++){var t=T[l];m[t]=C[t]}m.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},u(m,S("",{cLetter:"z",autoColorDflt:!1})),ie.exports=A(m,"calc","nested")},59560:function(ie,B,e){"use strict";var C=e(9330).gl_heatmap2d,S=e(89298),u=e(78614);function A(m,l){this.scene=m,this.uid=l,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=C(m.glplot,this.options),this.heatmap._trace=this}var T=A.prototype;T.handlePick=function(m){var l=this.options,t=l.shape,o=m.pointId,r=o%t[0],n=Math.floor(o/t[0]);return{trace:this,dataCoord:m.dataCoord,traceCoord:[l.x[r],l.y[n],l.z[o]],textLabel:this.textLabels[o],name:this.name,pointIndex:[n,r],hoverinfo:this.hoverinfo}},T.update=function(m,l){var t=l[0];this.index=m.index,this.name=m.name,this.hoverinfo=m.hoverinfo;var o=t.z;this.options.z=[].concat.apply([],o),this.options.shape=[o[0].length,o.length],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=m.zsmooth;var a=function(w){for(var v=w.colorscale,h=w.zmin,_=w.zmax,x=v.length,b=new Array(x),M=new Array(4*x),d=0;d<x;d++){var E=v[d],k=u(E[1]);b[d]=h+E[0]*(_-h);for(var I=0;I<4;I++)M[4*d+I]=k[I]}return{colorLevels:b,colorValues:M}}(m);this.options.colorLevels=a.colorLevels,this.options.colorValues=a.colorValues,this.textLabels=[].concat.apply([],m.text),this.heatmap.update(this.options);var s,c,p=this.scene.xaxis,f=this.scene.yaxis;!1===m.zsmooth&&(s={ppad:t.x[1]-t.x[0]},c={ppad:t.y[1]-t.y[0]}),m._extremes[p._id]=S.findExtremes(p,t.x,s),m._extremes[f._id]=S.findExtremes(f,t.y,c)},T.dispose=function(){this.heatmap.dispose()},ie.exports=function(m,l,t){var o=new A(m,l.uid);return o.update(l,t),o}},19600:function(ie,B,e){"use strict";var C=e(71828),S=e(67684),u=e(1586),A=e(16063);ie.exports=function(T,m,l,t){function o(r,n){return C.coerce(T,m,A,r,n)}S(T,m,o,t)?(o("text"),o("zsmooth"),u(T,m,t,o,{prefix:"",cLetter:"z"})):m.visible=!1}},3325:function(ie,B,e){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),ie.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(ie,B,e){"use strict";var C=e(1486),S=e(12663).axisHoverFormat,u=e(5386).fF,A=e(5386).si,T=e(41940),m=e(17656),l=e(72406),t=e(1426).extendFlat;ie.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:S("x"),yhoverformat:S("y"),text:t({},C.text,{}),hovertext:t({},C.hovertext,{}),orientation:C.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:m("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:m("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:u({},{keys:l.eventDataKeys}),texttemplate:A({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},C.textposition,{arrayOk:!1}),textfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:C.insidetextanchor,textangle:C.textangle,cliponaxis:C.cliponaxis,constraintext:C.constraintext,marker:C.marker,offsetgroup:C.offsetgroup,alignmentgroup:C.alignmentgroup,selected:C.selected,unselected:C.unselected,_deprecated:{bardir:C._deprecated.bardir}}},42174:function(ie){"use strict";ie.exports=function(B,e){for(var C=B.length,S=0,u=0;u<C;u++)e[u]?(B[u]/=e[u],S+=B[u]):B[u]=null;return S}},17656:function(ie){"use strict";ie.exports=function(B,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(ie,B,e){"use strict";var C=e(92770);ie.exports={count:function(S,u,A){return A[S]++,1},sum:function(S,u,A,T){var m=T[u];return C(m)?(m=Number(m),A[S]+=m,m):0},avg:function(S,u,A,T,m){var l=T[u];return C(l)&&(l=Number(l),A[S]+=l,m[S]++),0},min:function(S,u,A,T){var m=T[u];if(C(m)){if(m=Number(m),!C(A[S]))return A[S]=m,m;if(A[S]>m){var l=m-A[S];return A[S]=m,l}}return 0},max:function(S,u,A,T){var m=T[u];if(C(m)){if(m=Number(m),!C(A[S]))return A[S]=m,m;if(A[S]<m){var l=m-A[S];return A[S]=m,l}}return 0}}},40965:function(ie,B,e){"use strict";var C=e(50606),S=C.ONEAVGYEAR,u=C.ONEAVGMONTH,A=C.ONEDAY,T=C.ONEHOUR,m=C.ONEMIN,l=C.ONESEC,t=e(89298).tickIncrement;function o(s,c,p,f){if(s*c<=0)return 1/0;for(var w=Math.abs(c-s),v="date"===p.type,h=r(w,v),_=0;_<10;_++){var x=r(80*h,v);if(h===x||!n(x,s,c,v,p,f))break;h=x}return h}function r(s,c){return c&&s>l?s>A?s>1.1*S?S:s>1.1*u?u:A:s>T?T:s>m?m:l:Math.pow(10,Math.floor(Math.log(s)/Math.LN10))}function n(s,c,p,f,w,v){if(f&&s>A){var h=a(c,w,v),_=a(p,w,v),x=s===S?0:1;return h[x]!==_[x]}return Math.floor(p/s)-Math.floor(c/s)>.1}function a(s,c,p){var f=c.c2d(s,S,p).split("-");return""===f[0]&&(f.unshift(),f[0]="-"+f[0]),f}ie.exports=function(s,c,p,f,w){var v,h,_=-1.1*c,x=-.1*c,b=s-x,M=p[0],d=p[1],E=Math.min(o(M+x,M+b,f,w),o(d+x,d+b,f,w)),k=Math.min(o(M+_,M+x,f,w),o(d+_,d+x,f,w));if(E>k&&k<Math.abs(d-M)/4e3?(v=E,h=!1):(v=Math.min(E,k),h=!0),"date"===f.type&&v>A){var I=v===S?1:6,L=v===S?"M12":"M1";return function(P,R){var z=f.c2d(P,S,w),$=z.indexOf("-",I);$>0&&(z=z.substr(0,$));var N=f.d2c(z,0,w);if(N<P){var W=t(N,L,!1,w);(N+W)/2<P+s&&(N=W)}return R&&h?t(N,L,!0,w):N}}return function(P,R){var z=v*Math.round(P/v);return z+v/10<P&&z+.9*v<P+s&&(z+=v),R&&h&&(z-=v),z}}},72138:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=e(73972),A=e(89298),T=e(75341),m=e(59575),l=e(36362),t=e(42174),o=e(40965);function r(n,a,s,c,p){var f,w,v,h,_,x,b,M=c+"bins",d=n._fullLayout,k=d._histogramBinOpts[a["_"+c+"bingroup"]],I="overlay"===d.barmode,L=function(be){return s.r2c(be,0,h)},P=function(be){return s.c2r(be,0,h)},R="date"===s.type?function(be){return be||0===be?S.cleanDate(be,null,h):null}:function(be){return C(be)?Number(be):null};function z(be,xe,Ne){xe[be+"Found"]?(xe[be]=R(xe[be]),null===xe[be]&&(xe[be]=Ne[be])):(x[be]=xe[be]=Ne[be],S.nestedProperty(w[0],M+"."+be).set(Ne[be]))}if(a["_"+c+"autoBinFinished"])delete a["_"+c+"autoBinFinished"];else{w=k.traces;var $=[],N=!0,W=!1,H=!1;for(f=0;f<w.length;f++)if((v=w[f]).visible){var U=k.dirs[f];_=v["_"+U+"pos0"]=s.makeCalcdata(v,U),$=S.concat($,_),delete v["_"+c+"autoBinFinished"],!0===a.visible&&(N?N=!1:(delete v._autoBin,v["_"+c+"autoBinFinished"]=1),u.traceIs(v,"2dMap")&&(W=!0),"histogram2dcontour"===v.type&&(H=!0))}var Z=A.autoBin($,s,k.nbins,W,h=w[0][c+"calendar"],k.sizeFound&&k.size),Y=w[0]._autoBin={};if(x=Y[k.dirs[0]]={},H&&(k.size||(Z.start=P(A.tickIncrement(L(Z.start),Z.size,!0,h))),void 0===k.end&&(Z.end=P(A.tickIncrement(L(Z.end),Z.size,!1,h)))),I&&!u.traceIs(a,"2dMap")&&0===Z._dataSpan&&"category"!==s.type&&"multicategory"!==s.type){if(p)return[Z,_,!0];Z=function(be,xe,Ne,Se,Ce){var pe,de,se,we=be._fullLayout,Re=function(st,mt){for(var at=mt.xaxis,kt=mt.yaxis,St=mt.orientation,gt=[],dt=st._fullData,Ct=0;Ct<dt.length;Ct++){var Ot=dt[Ct];"histogram"===Ot.type&&!0===Ot.visible&&Ot.orientation===St&&Ot.xaxis===at&&Ot.yaxis===kt&&gt.push(Ot)}return gt}(be,xe),Ee=!1,Ue=1/0,$e=[xe];for(pe=0;pe<Re.length;pe++)if((de=Re[pe])===xe)Ee=!0;else if(Ee){var ve=r(be,de,Ne,Se,!0),Ie=ve[0],De=ve[2];de["_"+Se+"autoBinFinished"]=1,de["_"+Se+"pos0"]=ve[1],De?$e.push(de):Ue=Math.min(Ue,Ie.size)}else se=we._histogramBinOpts[de["_"+Se+"bingroup"]],Ue=Math.min(Ue,se.size||de[Ce].size);var ze=new Array($e.length);for(pe=0;pe<$e.length;pe++)for(var Ge=$e[pe]["_"+Se+"pos0"],He=0;He<Ge.length;He++)if(void 0!==Ge[He]){ze[pe]=Ge[He];break}for(isFinite(Ue)||(Ue=S.distinctVals(ze).minDiff),pe=0;pe<$e.length;pe++){var Ke=(de=$e[pe])[Se+"calendar"],et={start:Ne.c2r(ze[pe]-Ue/2,0,Ke),end:Ne.c2r(ze[pe]+Ue/2,0,Ke),size:Ue};de._input[Ce]=de[Ce]=et,(se=we._histogramBinOpts[de["_"+Se+"bingroup"]])&&S.extendFlat(se,et)}return xe[Ce]}(n,a,s,c,M)}(b=v.cumulative||{}).enabled&&"include"!==b.currentbin&&("decreasing"===b.direction?Z.start=P(A.tickIncrement(L(Z.start),Z.size,!0,h)):Z.end=P(A.tickIncrement(L(Z.end),Z.size,!1,h))),k.size=Z.size,k.sizeFound||(x.size=Z.size,S.nestedProperty(w[0],M+".size").set(Z.size)),z("start",k,Z),z("end",k,Z)}_=a["_"+c+"pos0"],delete a["_"+c+"pos0"];var ae=a._input[M]||{},re=S.extendFlat({},k),Q=k.start,K=s.r2l(ae.start),te=void 0!==K;if((k.startFound||te)&&K!==s.r2l(Q)){var oe=te?K:S.aggNums(Math.min,null,_),ue={type:"category"===s.type||"multicategory"===s.type?"linear":s.type,r2l:s.r2l,dtick:k.size,tick0:Q,calendar:h,range:[oe,A.tickIncrement(oe,k.size,!1,h)].map(s.l2r)},fe=A.tickFirst(ue);fe>s.r2l(oe)&&(fe=A.tickIncrement(fe,k.size,!0,h)),re.start=s.l2r(fe),te||S.nestedProperty(a,M+".start").set(re.start)}var he=k.end,me=s.r2l(ae.end),ke=void 0!==me;if((k.endFound||ke)&&me!==s.r2l(he)){var Pe=ke?me:S.aggNums(Math.max,null,_);re.end=s.l2r(Pe),ke||S.nestedProperty(a,M+".start").set(re.end)}var Te="autobin"+c;return!1===a._input[Te]&&(a._input[M]=S.extendFlat({},a[M]||{}),delete a._input[Te],delete a[Te]),[re,_]}ie.exports={calc:function(n,a){var s,c,p,f,w=[],v=[],h="h"===a.orientation,_=A.getFromId(n,h?a.yaxis:a.xaxis),x=h?"y":"x",b={x:"y",y:"x"}[x],M=a[x+"calendar"],d=a.cumulative,E=r(n,a,_,x),k=E[0],I=E[1],L="string"==typeof k.size,P=[],R=L?P:k,z=[],$=[],N=[],W=0,H=a.histnorm,U=a.histfunc,Z=-1!==H.indexOf("density");d.enabled&&Z&&(H=H.replace(/ ?density$/,""),Z=!1);var Y,ae="max"===U||"min"===U?null:0,re=m.count,Q=l[H],K=!1,te=function(de){return _.r2c(de,0,M)};for(S.isArrayOrTypedArray(a[b])&&"count"!==U&&(Y=a[b],K="avg"===U,re=m[U]),s=te(k.start),p=te(k.end)+(s-A.tickIncrement(s,k.size,!1,M))/1e6;s<p&&w.length<1e6&&(c=A.tickIncrement(s,k.size,!1,M),w.push((s+c)/2),v.push(ae),N.push([]),P.push(s),Z&&z.push(1/(c-s)),K&&$.push(0),!(c<=s));)s=c;P.push(s),L||"date"!==_.type||(R={start:te(R.start),end:te(R.end),size:R.size}),n._fullLayout._roundFnOpts||(n._fullLayout._roundFnOpts={});var oe=a["_"+x+"bingroup"],ue={leftGap:1/0,rightGap:1/0};oe&&(n._fullLayout._roundFnOpts[oe]||(n._fullLayout._roundFnOpts[oe]=ue),ue=n._fullLayout._roundFnOpts[oe]);var fe,he=v.length,me=!0,ke=ue.leftGap,Pe=ue.rightGap,Te={};for(s=0;s<I.length;s++){var be=I[s];(f=S.findBin(be,R))>=0&&f<he&&(W+=re(f,s,v,Y,$),me&&N[f].length&&be!==I[N[f][0]]&&(me=!1),N[f].push(s),Te[s]=f,ke=Math.min(ke,be-P[f]),Pe=Math.min(Pe,P[f+1]-be))}ue.leftGap=ke,ue.rightGap=Pe,me||(fe=function(de,se){return function(){var we=n._fullLayout._roundFnOpts[oe];return o(we.leftGap,we.rightGap,P,_,M)(de,se)}}),K&&(W=t(v,$)),Q&&Q(v,W,z),d.enabled&&function(de,se,we){var Re,Ee,Ue;function $e(Ie){Ue=de[Ie],de[Ie]/=2}function ve(Ie){de[Ie]=Ue+(Ee=de[Ie])/2,Ue+=Ee}if("half"===we)if("increasing"===se)for($e(0),Re=1;Re<de.length;Re++)ve(Re);else for($e(de.length-1),Re=de.length-2;Re>=0;Re--)ve(Re);else if("increasing"===se){for(Re=1;Re<de.length;Re++)de[Re]+=de[Re-1];"exclude"===we&&(de.unshift(0),de.pop())}else{for(Re=de.length-2;Re>=0;Re--)de[Re]+=de[Re+1];"exclude"===we&&(de.push(0),de.shift())}}(v,d.direction,d.currentbin);var xe=Math.min(w.length,v.length),Ne=[],Se=0,Ce=xe-1;for(s=0;s<xe;s++)if(v[s]){Se=s;break}for(s=xe-1;s>=Se;s--)if(v[s]){Ce=s;break}for(s=Se;s<=Ce;s++)if(C(w[s])&&C(v[s])){var pe={p:w[s],s:v[s],b:0};d.enabled||(pe.pts=N[s],me?pe.ph0=pe.ph1=N[s].length?I[N[s][0]]:w[s]:(a._computePh=!0,pe.ph0=fe(P[s]),pe.ph1=fe(P[s+1],!0))),Ne.push(pe)}return 1===Ne.length&&(Ne[0].width1=A.tickIncrement(Ne[0].p,k.size,!1,M)-Ne[0].p),T(Ne,a),S.isArrayOrTypedArray(a.selectedpoints)&&S.tagSelected(Ne,a,Te),Ne},calcAllAutoBins:r}},72406:function(ie){"use strict";ie.exports={eventDataKeys:["binNumber"]}},82222:function(ie,B,e){"use strict";var C=e(71828),S=e(41675),u=e(73972).traceIs,A=e(26125),T=C.nestedProperty,m=e(99082).getAxisGroup,l=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];ie.exports=function(o,r){var n,a,s,c,p,f,w,v=r._histogramBinOpts={},h=[],_={},x=[];function b(Z,Y){return C.coerce(n._input,n,n._module.attributes,Z,Y)}function M(Z){return"v"===Z.orientation?"x":"y"}function d(Z,Y,ae){var re=Z.uid+"__"+ae;Y||(Y=re);var Q=S.getFromTrace({_fullLayout:r},Z,ae).type,K=Z[ae+"calendar"]||"",te=v[Y],oe=!0;te&&(Q===te.axType&&K===te.calendar?(oe=!1,te.traces.push(Z),te.dirs.push(ae)):(Y=re,Q!==te.axType&&C.warn(["Attempted to group the bins of trace",Z.index,"set on a","type:"+Q,"axis","with bins on","type:"+te.axType,"axis."].join(" ")),K!==te.calendar&&C.warn(["Attempted to group the bins of trace",Z.index,"set with a",K,"calendar","with bins",te.calendar?"on a "+te.calendar+" calendar":"w/o a set calendar"].join(" ")))),oe&&(v[Y]={traces:[Z],dirs:[ae],axType:Q,calendar:Z[ae+"calendar"]||""}),Z["_"+ae+"bingroup"]=Y}for(p=0;p<o.length;p++)u(n=o[p],"histogram")&&(h.push(n),delete n._xautoBinFinished,delete n._yautoBinFinished,u(n,"2dMap")||A(n._input,n,r,b));var E=r._alignmentOpts||{};for(p=0;p<h.length;p++){if(s="",!u(n=h[p],"2dMap")){if(c=M(n),"group"===r.barmode&&n.alignmentgroup){var I=m(r,n[c+"axis"])+n.orientation;(E[I]||{})[n.alignmentgroup]&&(s=I)}s||"overlay"===r.barmode||(s=m(r,n.xaxis)+m(r,n.yaxis)+M(n))}s?(_[s]||(_[s]=[]),_[s].push(n)):x.push(n)}for(s in _)if(1!==(a=_[s]).length){var L=!1;for(a.length&&(n=a[0],L=b("bingroup")),s=L||s,p=0;p<a.length;p++){var P=(n=a[p])._input.bingroup;P&&P!==s&&C.warn(["Trace",n.index,"must match","within bingroup",s+".","Ignoring its bingroup:",P,"setting."].join(" ")),n.bingroup=s,d(n,s,M(n))}}else x.push(a[0]);for(p=0;p<x.length;p++){n=x[p];var R=b("bingroup");if(u(n,"2dMap"))for(w=0;w<2;w++){var z=b((c=t[w])+"bingroup",R?R+"__"+c:null);d(n,z,c)}else d(n,R,M(n))}for(s in v){var $=v[s];for(a=$.traces,f=0;f<l.length;f++){var N,W,H=l[f],U=H.name;if("nbins"!==U||!$.sizeFound){for(p=0;p<a.length;p++){if(void 0!==T((n=a[p])._input,N=H.aStr[c=$.dirs[p]]).get()){$[U]=b(N),$[U+"Found"]=!0;break}(W=(n._autoBin||{})[c]||{})[U]&&T(n,N).set(W[U])}if("start"===U||"end"===U)for(;p<a.length;p++)(n=a[p])["_"+c+"bingroup"]&&b(N,(W=(n._autoBin||{})[c]||{})[U]);"nbins"!==U||$.sizeFound||$.nbinsFound||(n=a[0],$[U]=b(N))}}}}},11385:function(ie,B,e){"use strict";var C=e(73972),S=e(71828),u=e(7901),A=e(90769).handleText,T=e(98340),m=e(7745);ie.exports=function(l,t,o,r){function n(x,b){return S.coerce(l,t,m,x,b)}var a=n("x"),s=n("y");n("cumulative.enabled")&&(n("cumulative.direction"),n("cumulative.currentbin")),n("text");var c=n("textposition");A(l,t,r,n,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),n("hovertext"),n("hovertemplate"),n("xhoverformat"),n("yhoverformat");var p=n("orientation",s&&!a?"h":"v"),f="v"===p?"x":"y",w="v"===p?"y":"x",v=a&&s?Math.min(S.minRowLength(a)&&S.minRowLength(s)):S.minRowLength(t[f]||[]);if(v){t._length=v,C.getComponentMethod("calendars","handleTraceDefaults")(l,t,["x","y"],r),t[w]&&n("histfunc"),n("histnorm"),n("autobin"+f),T(l,t,n,o,r),S.coerceSelectionMarkerOpacity(t,n);var h=(t.marker.line||{}).color,_=C.getComponentMethod("errorbars","supplyDefaults");_(l,t,h||u.defaultLine,{axis:"y"}),_(l,t,h||u.defaultLine,{axis:"x",inherit:"y"})}else t.visible=!1}},84402:function(ie){"use strict";ie.exports=function(B,e,C,S,u){if(B.x="xVal"in e?e.xVal:e.x,B.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(B.z=e.zLabelVal),e.xa&&(B.xaxis=e.xa),e.ya&&(B.yaxis=e.ya),!(C.cumulative||{}).enabled){var A,T=Array.isArray(u)?S[0].pts[u[0]][u[1]]:S[u].pts;if(B.pointNumbers=T,B.binNumber=B.pointNumber,delete B.pointNumber,delete B.pointIndex,C._indexToPoints){A=[];for(var m=0;m<T.length;m++)A=A.concat(C._indexToPoints[T[m]])}else A=T;B.pointIndices=A}return B}},76440:function(ie,B,e){"use strict";var C=e(95423).hoverPoints,S=e(89298).hoverLabelText;ie.exports=function(u,A,T,m,l){var t=C(u,A,T,m,l);if(t){var o=(u=t[0]).cd[u.index],r=u.cd[0].trace;if(!r.cumulative.enabled){var n="h"===r.orientation?"y":"x";u[n+"Label"]=S(u[n+"a"],[o.ph0,o.ph1],r[n+"hoverformat"])}return t}}},36071:function(ie,B,e){"use strict";ie.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(ie){"use strict";ie.exports={percent:function(B,e){for(var C=B.length,S=100/e,u=0;u<C;u++)B[u]*=S},probability:function(B,e){for(var C=B.length,S=0;S<C;S++)B[S]/=e},density:function(B,e,C,S){var u=B.length;S=S||1;for(var A=0;A<u;A++)B[A]*=C[A]*S},"probability density":function(B,e,C,S){var u=B.length;S&&(e/=S);for(var A=0;A<u;A++)B[A]*=C[A]/e}}},35361:function(ie,B,e){"use strict";var C=e(7745),S=e(17656),u=e(21606),A=e(9012),T=e(12663).axisHoverFormat,m=e(5386).fF,l=e(5386).si,t=e(50693),o=e(1426).extendFlat;ie.exports=o({x:C.x,y:C.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:C.histnorm,histfunc:C.histfunc,nbinsx:C.nbinsx,xbins:S("x"),nbinsy:C.nbinsy,ybins:S("y"),autobinx:C.autobinx,autobiny:C.autobiny,bingroup:o({},C.bingroup,{}),xbingroup:o({},C.bingroup,{}),ybingroup:o({},C.bingroup,{}),xgap:u.xgap,ygap:u.ygap,zsmooth:u.zsmooth,xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:m({},{keys:"z"}),texttemplate:l({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:u.textfont,showlegend:o({},A.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(ie,B,e){"use strict";var C=e(71828),S=e(89298),u=e(59575),A=e(36362),T=e(42174),m=e(40965),l=e(72138).calcAllAutoBins;function t(n,a,s,c){var p,f=new Array(n);if(c)for(p=0;p<n;p++)f[p]=1/(a[p+1]-a[p]);else{var w=1/s;for(p=0;p<n;p++)f[p]=w}return f}function o(n,a){return{start:n(a.start),end:n(a.end),size:a.size}}function r(n,a,s,c,p,f){var w,v=n.length-1,h=new Array(v),_=m(s,c,n,p,f);for(w=0;w<v;w++){var x=(a||[])[w];h[w]=void 0===x?[_(n[w]),_(n[w+1],!0)]:[x,x]}return h}ie.exports=function(n,a){var s,c,p,f,w=S.getFromId(n,a.xaxis),v=S.getFromId(n,a.yaxis),h=a.xcalendar,_=a.ycalendar,x=function(kt){return w.r2c(kt,0,h)},b=function(kt){return v.r2c(kt,0,_)},M=l(n,a,w,"x"),d=M[0],E=M[1],k=l(n,a,v,"y"),I=k[0],L=k[1],P=a._length;E.length>P&&E.splice(P,E.length-P),L.length>P&&L.splice(P,L.length-P);var R=[],z=[],$=[],N="string"==typeof d.size,W="string"==typeof I.size,H=[],U=[],Z=N?H:d,Y=W?U:I,ae=0,re=[],Q=[],K=a.histnorm,te=a.histfunc,oe=-1!==K.indexOf("density"),ue="max"===te||"min"===te?null:0,fe=u.count,he=A[K],me=!1,ke=[],Pe=[],Te="z"in a?a.z:"marker"in a&&Array.isArray(a.marker.color)?a.marker.color:"";Te&&"count"!==te&&(me="avg"===te,fe=u[te]);var be=d.size,xe=x(d.start),Ne=x(d.end)+(xe-S.tickIncrement(xe,be,!1,h))/1e6;for(s=xe;s<Ne;s=S.tickIncrement(s,be,!1,h))z.push(ue),H.push(s),me&&$.push(0);H.push(s);var Ce=z.length,pe=(s-xe)/Ce,de=w.c2r(xe+pe/2,0,h),se=I.size,we=b(I.start),Re=b(I.end)+(we-S.tickIncrement(we,se,!1,_))/1e6;for(s=we;s<Re;s=S.tickIncrement(s,se,!1,_)){R.push(z.slice()),U.push(s);var Ee=new Array(Ce);for(c=0;c<Ce;c++)Ee[c]=[];Q.push(Ee),me&&re.push($.slice())}U.push(s);var Ue=R.length,$e=(s-we)/Ue,ve=v.c2r(we+$e/2,0,_);oe&&(ke=t(z.length,Z,pe,N),Pe=t(R.length,Y,$e,W)),N||"date"!==w.type||(Z=o(x,Z)),W||"date"!==v.type||(Y=o(b,Y));var Ie=!0,De=!0,ze=new Array(Ce),Ge=new Array(Ue),He=1/0,Ke=1/0,et=1/0,st=1/0;for(s=0;s<P;s++){var mt=E[s],at=L[s];p=C.findBin(mt,Z),f=C.findBin(at,Y),p>=0&&p<Ce&&f>=0&&f<Ue&&(ae+=fe(p,s,R[f],Te,re[f]),Q[f][p].push(s),Ie&&(void 0===ze[p]?ze[p]=mt:ze[p]!==mt&&(Ie=!1)),De&&(void 0===Ge[f]?Ge[f]=at:Ge[f]!==at&&(De=!1)),He=Math.min(He,mt-H[p]),Ke=Math.min(Ke,H[p+1]-mt),et=Math.min(et,at-U[f]),st=Math.min(st,U[f+1]-at))}if(me)for(f=0;f<Ue;f++)ae+=T(R[f],re[f]);if(he)for(f=0;f<Ue;f++)he(R[f],ae,ke,Pe[f]);return{x:E,xRanges:r(H,Ie&&ze,He,Ke,w,h),x0:de,dx:pe,y:L,yRanges:r(U,De&&Ge,et,st,v,_),y0:ve,dy:$e,z:R,pts:Q}}},93888:function(ie,B,e){"use strict";var C=e(71828),S=e(75238),u=e(49901),A=e(1586),T=e(58623),m=e(35361);ie.exports=function(l,t,o,r){function n(a,s){return C.coerce(l,t,m,a,s)}S(l,t,n,r),!1!==t.visible&&(u(l,t,n,r),A(l,t,r,n,{prefix:"",cLetter:"z"}),n("hovertemplate"),T(n,r),n("xhoverformat"),n("yhoverformat"))}},76128:function(ie,B,e){"use strict";var C=e(46248),S=e(89298).hoverLabelText;ie.exports=function(u,A,T,m,l){var t=C(u,A,T,m,l);if(t){var o=(u=t[0]).index,a=u.cd[0],s=a.trace,c=a.xRanges[o[1]],p=a.yRanges[o[0]];return u.xLabel=S(u.xa,[c[0],c[1]],s.xhoverformat),u.yLabel=S(u.ya,[p[0],p[1]],s.yhoverformat),t}}},43905:function(ie,B,e){"use strict";ie.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(ie,B,e){"use strict";var C=e(73972),S=e(71828);ie.exports=function(u,A,T,m){var l=T("x"),t=T("y"),o=S.minRowLength(l),r=S.minRowLength(t);o&&r?(A._length=Math.min(o,r),C.getComponentMethod("calendars","handleTraceDefaults")(u,A,["x","y"],m),(T("z")||T("marker.color"))&&T("histfunc"),T("histnorm"),T("autobinx"),T("autobiny")):A.visible=!1}},99066:function(ie,B,e){"use strict";var C=e(35361),S=e(70600),u=e(50693),A=e(12663).axisHoverFormat,T=e(1426).extendFlat;ie.exports=T({x:C.x,y:C.y,z:C.z,marker:C.marker,histnorm:C.histnorm,histfunc:C.histfunc,nbinsx:C.nbinsx,xbins:C.xbins,nbinsy:C.nbinsy,ybins:C.ybins,autobinx:C.autobinx,autobiny:C.autobiny,bingroup:C.bingroup,xbingroup:C.xbingroup,ybingroup:C.ybingroup,autocontour:S.autocontour,ncontours:S.ncontours,contours:S.contours,line:{color:S.line.color,width:T({},S.line.width,{dflt:.5}),dash:S.line.dash,smoothing:S.line.smoothing,editType:"plot"},xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z",1),hovertemplate:C.hovertemplate,texttemplate:S.texttemplate,textfont:S.textfont},u("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(ie,B,e){"use strict";var C=e(71828),S=e(75238),u=e(67217),A=e(8724),T=e(58623),m=e(99066);ie.exports=function(l,t,o,r){function n(a,s){return C.coerce(l,t,m,a,s)}S(l,t,n,r),!1!==t.visible&&(u(l,t,n,function(a){return C.coerce2(l,t,m,a)}),A(l,t,n,r),n("xhoverformat"),n("yhoverformat"),n("hovertemplate"),t.contours&&"heatmap"===t.contours.coloring&&T(n,r))}},35902:function(ie,B,e){"use strict";ie.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(ie,B,e){"use strict";var C=e(5386).fF,S=e(5386).si,u=e(50693),A=e(27670).Y,T=e(34e3),m=e(57564),l=e(45802),t=e(43473),o=e(1426).extendFlat,r=e(79952).u;ie.exports={labels:m.labels,parents:m.parents,values:m.values,branchvalues:m.branchvalues,count:m.count,level:m.level,maxdepth:m.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:l.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:o({colors:m.marker.colors,line:m.marker.line,pattern:r,editType:"calc"},u("marker",{colorAttr:"colors",anim:!1})),leaf:m.leaf,pathbar:l.pathbar,text:T.text,textinfo:m.textinfo,texttemplate:S({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:m.hoverinfo,hovertemplate:C({},{keys:t.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:l.outsidetextfont,textposition:l.textposition,sort:T.sort,root:m.root,domain:A({name:"icicle",trace:!0,editType:"calc"})}},96346:function(ie,B,e){"use strict";var C=e(74875);B.name="icicle",B.plot=function(S,u,A,T){C.plotBasePlot(B.name,S,u,A,T)},B.clean=function(S,u,A,T){C.cleanBasePlot(B.name,S,u,A,T)}},46584:function(ie,B,e){"use strict";var C=e(52147);B.y=function(S,u){return C.calc(S,u)},B.T=function(S){return C._runCrossTraceCalc("icicle",S)}},56524:function(ie,B,e){"use strict";var C=e(71828),S=e(46291),u=e(7901),A=e(27670).c,T=e(90769).handleText,m=e(97313).TEXTPAD,l=e(37434).handleMarkerDefaults,t=e(21081),o=t.hasColorscale,r=t.handleDefaults;ie.exports=function(n,a,s,c){function p(b,M){return C.coerce(n,a,S,b,M)}var f=p("labels"),w=p("parents");if(f&&f.length&&w&&w.length){var v=p("values");p(v&&v.length?"branchvalues":"count"),p("level"),p("maxdepth"),p("tiling.orientation"),p("tiling.flip"),p("tiling.pad");var h=p("text");p("texttemplate"),a.texttemplate||p("textinfo",Array.isArray(h)?"text+label":"label"),p("hovertext"),p("hovertemplate");var _=p("pathbar.visible");T(n,a,c,p,"auto",{hasPathbar:_,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),p("textposition"),l(n,a,c,p);var x=a._hasColorscale=o(n,"marker","colors")||(n.marker||{}).coloraxis;x&&r(n,a,c,p,{prefix:"marker.",cLetter:"c"}),p("leaf.opacity",x?1:.7),a._hovered={marker:{line:{width:2,color:u.contrast(c.paper_bgcolor)}}},_&&(p("pathbar.thickness",a.pathbar.textfont.size+2*m),p("pathbar.side"),p("pathbar.edgeshape")),p("sort"),p("root.color"),A(a,c,p),a._length=null}else a.visible=!1}},90666:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(91424),A=e(63893),T=e(21538),m=e(82454).styleOne,l=e(43473),t=e(2791),o=e(83523),r=e(24714).formatSliceLabel,n=!1;ie.exports=function(a,s,c,p,f){var w=f.width,v=f.height,h=f.viewX,_=f.viewY,x=f.pathSlice,b=f.toMoveInsideSlice,M=f.strTransform,d=f.hasTransition,E=f.handleSlicesExit,k=f.makeUpdateSliceInterpolator,I=f.makeUpdateTextInterpolator,L=f.prevEntry,P=a._context.staticPlot,R=a._fullLayout,z=s[0].trace,$=-1!==z.textposition.indexOf("left"),N=-1!==z.textposition.indexOf("right"),W=-1!==z.textposition.indexOf("bottom"),H=T(c,[w,v],{flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,orientation:z.tiling.orientation,pad:{inner:z.tiling.pad},maxDepth:z._maxDepth}).descendants(),U=1/0,Z=-1/0;H.forEach(function(K){var te=K.depth;te>=z._maxDepth?(K.x0=K.x1=(K.x0+K.x1)/2,K.y0=K.y1=(K.y0+K.y1)/2):(U=Math.min(U,te),Z=Math.max(Z,te))}),p=p.data(H,t.getPtId),z._maxVisibleLayers=isFinite(Z)?Z-U+1:0,p.enter().append("g").classed("slice",!0),E(p,n,{},[w,v],x),p.order();var Y=null;if(d&&L){var ae=t.getPtId(L);p.each(function(K){null===Y&&t.getPtId(K)===ae&&(Y={x0:K.x0,x1:K.x1,y0:K.y0,y1:K.y1})})}var re=function(){return Y||{x0:0,x1:w,y0:0,y1:v}},Q=p;return d&&(Q=Q.transition().each("end",function(){var K=C.select(this);t.setSliceCursor(K,a,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Q.each(function(K){K._x0=h(K.x0),K._x1=h(K.x1),K._y0=_(K.y0),K._y1=_(K.y1),K._hoverX=h(K.x1-z.tiling.pad),K._hoverY=_(W?K.y1-z.tiling.pad/2:K.y0+z.tiling.pad/2);var te=C.select(this),oe=S.ensureSingle(te,"path","surface",function(me){me.style("pointer-events",P?"none":"all")});d?oe.transition().attrTween("d",function(me){var ke=k(me,n,re(),[w,v],{orientation:z.tiling.orientation,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1});return function(Pe){return x(ke(Pe))}}):oe.attr("d",x),te.call(o,c,a,s,{styleOne:m,eventDataKeys:l.eventDataKeys,transitionTime:l.CLICK_TRANSITION_TIME,transitionEasing:l.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,a,{isTransitioning:a._transitioning}),oe.call(m,K,z,a,{hovered:!1}),K._text=K.x0===K.x1||K.y0===K.y1?"":r(K,c,z,s,R)||"";var ue=S.ensureSingle(te,"g","slicetext"),fe=S.ensureSingle(ue,"text","",function(me){me.attr("data-notex",1)}),he=S.ensureUniformFontSize(a,t.determineTextFont(z,K,R.font));fe.text(K._text||" ").classed("slicetext",!0).attr("text-anchor",N?"end":$?"start":"middle").call(u.font,he).call(A.convertToTspans,a),K.textBB=u.bBox(fe.node()),K.transform=b(K,{fontSize:he.size}),K.transform.fontSize=he.size,d?fe.transition().attrTween("transform",function(me){var ke=I(me,n,re(),[w,v]);return function(Pe){return M(ke(Pe))}}):fe.attr("transform",M(K))}),Y}},69816:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(ie){"use strict";ie.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(ie,B,e){"use strict";var C=e(71828),S=e(92894);ie.exports=function(u,A){function T(m,l){return C.coerce(u,A,S,m,l)}T("iciclecolorway",A.colorway),T("extendiciclecolors")}},21538:function(ie,B,e){"use strict";var C=e(674),S=e(14102);ie.exports=function(u,A,T){var m=T.flipX,l=T.flipY,t="h"===T.orientation,o=T.maxDepth,r=A[0],n=A[1];o&&(r=(u.height+1)*A[0]/Math.min(u.height+1,o),n=(u.height+1)*A[1]/Math.min(u.height+1,o));var a=C.partition().padding(T.pad.inner).size(t?[A[1],r]:[A[0],n])(u);return(t||m||l)&&S(a,A,{swapXY:t,flipX:m,flipY:l}),a}},85596:function(ie,B,e){"use strict";var C=e(80694),S=e(90666);ie.exports=function(u,A,T,m){return C(u,A,T,m,{type:"icicle",drawDescendants:S})}},82454:function(ie,B,e){"use strict";var C=e(39898),S=e(7901),u=e(71828),A=e(72597).resizeText,T=e(43467);function m(l,t,o,r){var a=!t.children,s=t.data.data.i,c=u.castOption(o,s,"marker.line.color")||S.defaultLine,p=u.castOption(o,s,"marker.line.width")||0;l.call(T,t,o,r).style("stroke-width",p).call(S.stroke,c).style("opacity",a?o.leaf.opacity:null)}ie.exports={style:function(l){var t=l._fullLayout._iciclelayer.selectAll(".trace");A(l,t,"icicle"),t.each(function(o){var r=C.select(this),n=o[0].trace;r.style("opacity",n.opacity),r.selectAll("path.surface").each(function(a){C.select(this).call(m,a,n,l)})})},styleOne:m}},17230:function(ie,B,e){"use strict";for(var C=e(9012),S=e(5386).fF,u=e(1426).extendFlat,A=e(51877).colormodel,T=["rgb","rgba","rgba256","hsl","hsla"],m=[],l=[],t=0;t<T.length;t++){var o=A[T[t]];m.push("For the `"+T[t]+"` colormodel, it is ["+(o.zminDflt||o.min).join(", ")+"]."),l.push("For the `"+T[t]+"` colormodel, it is ["+(o.zmaxDflt||o.max).join(", ")+"].")}ie.exports=u({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:T,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:u({},C.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:S({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(ie,B,e){"use strict";var C=e(71828),S=e(51877),u=e(92770),A=e(89298),T=e(71828).maxRowLength,m=e(67395).A;function l(o,r,n,a){return function(s){return C.constrain((s-o)*r,n,a)}}function t(o,r){return function(n){return C.constrain(n,o,r)}}ie.exports=function(o,r){var n,a;if(r._hasZ)n=r.z.length,a=T(r.z);else if(r._hasSource){var s=m(r.source);n=s.height,a=s.width}var c,p=A.getFromId(o,r.xaxis||"x"),f=A.getFromId(o,r.yaxis||"y"),w=p.d2c(r.x0)-r.dx/2,v=f.d2c(r.y0)-r.dy/2,h=[w,w+a*r.dx],_=[v,v+n*r.dy];if(p&&"log"===p.type)for(c=0;c<a;c++)h.push(w+c*r.dx);if(f&&"log"===f.type)for(c=0;c<n;c++)_.push(v+c*r.dy);return r._extremes[p._id]=A.findExtremes(p,h),r._extremes[f._id]=A.findExtremes(f,_),r._scaler=function(x){var b=S.colormodel[x.colormodel],M=(b.colormodel||x.colormodel).length;x._sArray=[];for(var d=0;d<M;d++)x._sArray.push(b.min[d]!==x.zmin[d]||b.max[d]!==x.zmax[d]?l(x.zmin[d],(b.max[d]-b.min[d])/(x.zmax[d]-x.zmin[d]),b.min[d],b.max[d]):t(b.min[d],b.max[d]));return function(E){for(var k=E.slice(0,M),I=0;I<M;I++){var L=k[I];if(!u(L))return!1;k[I]=x._sArray[I](L)}return k}}(r),[{x0:w,y0:v,z:r.z,w:a,h:n}]}},51877:function(ie){"use strict";ie.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(B){return B.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(B){var e=B.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(B){var e=B.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xb0","%","%",""]}}}},13245:function(ie,B,e){"use strict";var C=e(71828),S=e(17230),u=e(51877),A=e(25095).IMAGE_URL_PREFIX;ie.exports=function(T,m){function l(r,n){return C.coerce(T,m,S,r,n)}l("source"),m.source&&!m.source.match(A)&&delete m.source,m._hasSource=!!m.source;var t,o=l("z");m._hasZ=!(void 0===o||!o.length||!o[0]||!o[0].length),m._hasZ||m._hasSource?(l("x0"),l("y0"),l("dx"),l("dy"),m._hasZ?(l("colormodel","rgb"),l("zmin",(t=u.colormodel[m.colormodel]).zminDflt||t.min),l("zmax",t.zmaxDflt||t.max)):m._hasSource&&(m.colormodel="rgba256",m.zmin=(t=u.colormodel[m.colormodel]).zminDflt,m.zmax=t.zmaxDflt),l("zsmooth"),l("text"),l("hovertext"),l("hovertemplate"),m._length=null):m.visible=!1}},30835:function(ie){"use strict";ie.exports=function(B,e){return"xVal"in e&&(B.x=e.xVal),"yVal"in e&&(B.y=e.yVal),e.xa&&(B.xaxis=e.xa),e.ya&&(B.yaxis=e.ya),B.color=e.color,B.colormodel=e.trace.colormodel,B.z||(B.z=e.color),B}},67395:function(ie,B,e){"use strict";var C=e(33575),S=e(25095).IMAGE_URL_PREFIX,u=e(12856).Buffer;B.A=function(A){var T=A.replace(S,""),m=new u(T,"base64");return C(m)}},28749:function(ie,B,e){"use strict";var C=e(30211),S=e(71828),u=e(51877);ie.exports=function(A,T,m){var l=A.cd[0],t=l.trace,o=A.xa,r=A.ya;if(!(C.inbox(T-l.x0,T-(l.x0+l.w*t.dx),0)>0||C.inbox(m-l.y0,m-(l.y0+l.h*t.dy),0)>0)){var n,a=Math.floor((T-l.x0)/t.dx),s=Math.floor(Math.abs(m-l.y0)/t.dy);if(t._hasZ?n=l.z[s][a]:t._hasSource&&(n=t._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(a,s,1,1).data),n){var c,p=l.hi||t.hoverinfo;if(p){var f=p.split("+");-1!==f.indexOf("all")&&(f=["color"]),-1!==f.indexOf("color")&&(c=!0)}var w,v=u.colormodel[t.colormodel],h=v.colormodel||t.colormodel,_=h.length,x=t._scaler(n),b=v.suffix,M=[];(t.hovertemplate||c)&&(M.push("["+[x[0]+b[0],x[1]+b[1],x[2]+b[2]].join(", ")),4===_&&M.push(", "+x[3]+b[3]),M.push("]"),M=M.join(""),A.extraText=h.toUpperCase()+": "+M),Array.isArray(t.hovertext)&&Array.isArray(t.hovertext[s])?w=t.hovertext[s][a]:Array.isArray(t.text)&&Array.isArray(t.text[s])&&(w=t.text[s][a]);var d=r.c2p(l.y0+(s+.5)*t.dy),E=l.x0+(a+.5)*t.dx,k=l.y0+(s+.5)*t.dy,I="["+n.slice(0,t.colormodel.length).join(", ")+"]";return[S.extendFlat(A,{index:[s,a],x0:o.c2p(l.x0+a*t.dx),x1:o.c2p(l.x0+(a+1)*t.dx),y0:d,y1:d,color:x,xVal:E,xLabelVal:E,yVal:k,yLabelVal:k,zLabelVal:I,text:w,hovertemplateLabels:{zLabel:I,colorLabel:M,"color[0]Label":x[0]+b[0],"color[1]Label":x[1]+b[1],"color[2]Label":x[2]+b[2],"color[3]Label":x[3]+b[3]}})]}}}},94507:function(ie,B,e){"use strict";ie.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=S.strTranslate,A=e(77922),T=e(51877),m=e(3883),l=e(32396).STYLE;ie.exports=function(t,o,r,n){var a=o.xaxis,s=o.yaxis,c=!t._context._exportedPlot&&m();S.makeTraceGroups(n,r,"im").each(function(p){var f=C.select(this),w=p[0],v=w.trace,h=("fast"===v.zsmooth||!1===v.zsmooth&&c)&&!v._hasZ&&v._hasSource&&"linear"===a.type&&"linear"===s.type;v._realImage=h;var _,x,b,M,d,E,k=w.z,I=w.x0,L=w.y0,P=w.w,R=w.h,z=v.dx,$=v.dy;for(E=0;void 0===_&&E<P;)_=a.c2p(I+E*z),E++;for(E=P;void 0===x&&E>0;)x=a.c2p(I+E*z),E--;for(E=0;void 0===M&&E<R;)M=s.c2p(L+E*$),E++;for(E=R;void 0===d&&E>0;)d=s.c2p(L+E*$),E--;x<_&&(b=x,x=_,_=b),d<M&&(b=M,M=d,d=b),h||(_=Math.max(-.5*a._length,_),x=Math.min(1.5*a._length,x),M=Math.max(-.5*s._length,M),d=Math.min(1.5*s._length,d));var N=Math.round(x-_),W=Math.round(d-M);if(N<=0||W<=0)f.selectAll("image").data([]).exit().remove();else{var H=f.selectAll("image").data([p]);H.enter().append("svg:image").attr({xmlns:A.svg,preserveAspectRatio:"none"}),H.exit().remove();var U=!1===v.zsmooth?l:"";if(h){var Z=S.simpleMap(a.range,a.r2l),Y=S.simpleMap(s.range,s.r2l),ae=Z[1]<Z[0],re=Y[1]>Y[0];if(ae||re){var Q=_+N/2,K=M+W/2;U+="transform:"+u(Q+"px",K+"px")+"scale("+(ae?-1:1)+","+(re?-1:1)+")"+u(-Q+"px",-K+"px")+";"}}H.attr("style",U);var te=new Promise(function(ue){if(v._hasZ)ue();else if(v._hasSource)if(v._canvas&&v._canvas.el.width===P&&v._canvas.el.height===R&&v._canvas.source===v.source)ue();else{var fe=document.createElement("canvas");fe.width=P,fe.height=R;var he=fe.getContext("2d",{willReadFrequently:!0});v._image=v._image||new Image;var me=v._image;me.onload=function(){he.drawImage(me,0,0),v._canvas={el:fe,source:v.source},ue()},me.setAttribute("src",v.source)}}).then(function(){var ue;if(v._hasZ)ue=oe(function(me,ke){return k[ke][me]}).toDataURL("image/png");else if(v._hasSource)if(h)ue=v.source;else{var he=v._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,P,R).data;ue=oe(function(me,ke){var Pe=4*(ke*P+me);return[he[Pe],he[Pe+1],he[Pe+2],he[Pe+3]]}).toDataURL("image/png")}H.attr({"xlink:href":ue,height:W,width:N,x:_,y:M})});t._promises.push(te)}function oe(ue){var fe=document.createElement("canvas");fe.width=N,fe.height=W;var he,me=fe.getContext("2d",{willReadFrequently:!0}),ke=function(se){return S.constrain(Math.round(a.c2p(I+se*z)-_),0,N)},Pe=function(se){return S.constrain(Math.round(s.c2p(L+se*$)-M),0,W)},Te=T.colormodel[v.colormodel],be=Te.colormodel||v.colormodel,xe=Te.fmt;for(E=0;E<w.w;E++){var Ne=ke(E),Se=ke(E+1);if(Se!==Ne&&!isNaN(Se)&&!isNaN(Ne))for(var Ce=0;Ce<w.h;Ce++){var pe=Pe(Ce),de=Pe(Ce+1);de===pe||isNaN(de)||isNaN(pe)||!ue(E,Ce)||(he=v._scaler(ue(E,Ce)),me.fillStyle=he?be+"("+xe(he).join(",")+")":"rgba(0,0,0,0)",me.fillRect(Ne,pe,Se-Ne,de-pe))}}return fe}})}},12826:function(ie,B,e){"use strict";var C=e(39898);ie.exports=function(S){C.select(S).selectAll(".im image").style("opacity",function(u){return u[0].trace.opacity})}},54846:function(ie,B,e){"use strict";var C=e(1426).extendFlat,S=e(1426).extendDeep,u=e(30962).overrideAll,A=e(41940),T=e(22399),m=e(27670).Y,l=e(13838),t=e(44467).templatedArray,o=e(22372),r=e(12663).descriptionOnlyNumbers,n=A({editType:"plot",colorEditType:"plot"}),a={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:T.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},s={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},c=t("step",S({},a,{range:s}));ie.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:m({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:C({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:r("value")},font:C({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:r("value")},increasing:{symbol:{valType:"string",dflt:o.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:o.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:o.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:o.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:C({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:S({},a,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:u({range:s,visible:C({},l.visible,{dflt:!0}),tickmode:l.minor.tickmode,nticks:l.nticks,tick0:l.tick0,dtick:l.dtick,tickvals:l.tickvals,ticktext:l.ticktext,ticks:C({},l.ticks,{dflt:"outside"}),ticklen:l.ticklen,tickwidth:l.tickwidth,tickcolor:l.tickcolor,ticklabelstep:l.ticklabelstep,showticklabels:l.showticklabels,labelalias:l.labelalias,tickfont:A({}),tickangle:l.tickangle,tickformat:l.tickformat,tickformatstops:l.tickformatstops,tickprefix:l.tickprefix,showtickprefix:l.showtickprefix,ticksuffix:l.ticksuffix,showticksuffix:l.showticksuffix,separatethousands:l.separatethousands,exponentformat:l.exponentformat,minexponent:l.minexponent,showexponent:l.showexponent,editType:"plot"},"plot"),steps:c,threshold:{line:{color:C({},a.line.color,{}),width:C({},a.line.width,{dflt:1}),editType:"plot"},thickness:C({},a.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(ie,B,e){"use strict";var C=e(74875);B.name="indicator",B.plot=function(S,u,A,T){C.plotBasePlot(B.name,S,u,A,T)},B.clean=function(S,u,A,T){C.cleanBasePlot(B.name,S,u,A,T)}},24667:function(ie){"use strict";ie.exports={calc:function(B,e){var C=[],S=e.value;"number"!=typeof e._lastValue&&(e._lastValue=e.value);var u=e._lastValue,A=u;return e._hasDelta&&"number"==typeof e.delta.reference&&(A=e.delta.reference),C[0]={y:S,lastY:u,delta:S-A,relativeDelta:(S-A)/A},C}}},84577:function(ie){"use strict";ie.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(ie,B,e){"use strict";var C=e(71828),S=e(54846),u=e(27670).c,A=e(44467),T=e(85501),m=e(84577),l=e(26218),t=e(38701),o=e(96115),r=e(89426);function n(a,s){function c(p,f){return C.coerce(a,s,S.gauge.steps,p,f)}c("color"),c("line.color"),c("line.width"),c("range"),c("thickness")}ie.exports={supplyDefaults:function(a,s,c,p){function f(L,P){return C.coerce(a,s,S,L,P)}u(s,p,f),f("mode"),s._hasNumber=-1!==s.mode.indexOf("number"),s._hasDelta=-1!==s.mode.indexOf("delta"),s._hasGauge=-1!==s.mode.indexOf("gauge");var w=f("value");s._range=[0,"number"==typeof w?1.5*w:1];var v,h,_,x,b,M,d=new Array(2);function E(L,P){return C.coerce(_,x,S.gauge,L,P)}function k(L,P){return C.coerce(b,M,S.gauge.axis,L,P)}if(s._hasNumber&&(f("number.valueformat"),f("number.font.color",p.font.color),f("number.font.family",p.font.family),f("number.font.size"),void 0===s.number.font.size&&(s.number.font.size=m.defaultNumberFontSize,d[0]=!0),f("number.prefix"),f("number.suffix"),v=s.number.font.size),s._hasDelta&&(f("delta.font.color",p.font.color),f("delta.font.family",p.font.family),f("delta.font.size"),void 0===s.delta.font.size&&(s.delta.font.size=(s._hasNumber?.5:1)*(v||m.defaultNumberFontSize),d[1]=!0),f("delta.reference",s.value),f("delta.relative"),f("delta.valueformat",s.delta.relative?"2%":""),f("delta.increasing.symbol"),f("delta.increasing.color"),f("delta.decreasing.symbol"),f("delta.decreasing.color"),f("delta.position"),f("delta.prefix"),f("delta.suffix"),h=s.delta.font.size),s._scaleNumbers=(!s._hasNumber||d[0])&&(!s._hasDelta||d[1])||!1,f("title.font.color",p.font.color),f("title.font.family",p.font.family),f("title.font.size",.25*(v||h||m.defaultNumberFontSize)),f("title.text"),s._hasGauge){(_=a.gauge)||(_={}),x=A.newContainer(s,"gauge"),E("shape"),(s._isBullet="bullet"===s.gauge.shape)||f("title.align","center"),(s._isAngular="angular"===s.gauge.shape)||f("align","center"),E("bgcolor",p.paper_bgcolor),E("borderwidth"),E("bordercolor"),E("bar.color"),E("bar.line.color"),E("bar.line.width"),E("bar.thickness",m.valueThickness*("bullet"===s.gauge.shape?.5:1)),T(_,x,{name:"steps",handleItemDefaults:n}),E("threshold.value"),E("threshold.thickness"),E("threshold.line.width"),E("threshold.line.color"),b={},_&&(b=_.axis||{}),M=A.newContainer(x,"axis"),k("visible"),s._range=k("range",s._range);var I={outerTicks:!0};l(b,M,k,"linear"),r(b,M,k,"linear",I),o(b,M,k,"linear",I),t(b,M,k,I)}else f("title.align","center"),f("align","center"),s._isAngular=s._isBullet=!1;s._length=null}}},15154:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(ie,B,e){"use strict";var C=e(39898),S=e(81684).sX,u=e(81684).k4,A=e(71828),T=A.strScale,m=A.strTranslate,l=A.rad2deg,t=e(18783).MID_SHIFT,o=e(91424),r=e(84577),n=e(63893),a=e(89298),s=e(71453),c=e(52830),p=e(13838),f=e(7901),w={left:"start",center:"middle",right:"end"},v={left:0,center:.5,right:1},h=/[yzafpn\xb5mkMGTPEZY]/;function _(k){return k&&k.duration>0}function x(k){k.each(function(I){f.stroke(C.select(this),I.line.color)}).each(function(I){f.fill(C.select(this),I.color)}).style("stroke-width",function(I){return I.line.width})}function b(k,I,L){var P=k._fullLayout,R=A.extendFlat({type:"linear",ticks:"outside",range:L,showline:!0},I),z={type:"linear",_id:"x"+I._id},$={letter:"x",font:P.font,noHover:!0,noTickson:!0};function N(W,H){return A.coerce(R,z,p,W,H)}return s(R,z,N,$,P),c(R,z,N,$),z}function M(k,I,L){return[Math.min(I/k.width,L/k.height),k,I+"x"+L]}function d(k,I,L,P){var R=document.createElementNS("http://www.w3.org/2000/svg","text"),z=C.select(R);return z.text(k).attr("x",0).attr("y",0).attr("text-anchor",L).attr("data-unformatted",k).call(n.convertToTspans,P).call(o.font,I),o.bBox(z.node())}function E(k,I,L,P,R,z){var $="_cache"+I;k[$]&&k[$].key===R||(k[$]={key:R,value:L});var N=A.aggNums(z,null,[k[$].value,P],2);return k[$].value=N,N}ie.exports=function(k,I,L,P){var R,z=k._fullLayout;_(L)&&P&&(R=P()),A.makeTraceGroups(z._indicatorlayer,I,"trace").each(function($){var N,W,H,U,Z,Y=$[0].trace,ae=C.select(this),re=Y._hasGauge,Q=Y._isAngular,K=Y._isBullet,te=Y.domain,oe={w:z._size.w*(te.x[1]-te.x[0]),h:z._size.h*(te.y[1]-te.y[0]),l:z._size.l+z._size.w*te.x[0],r:z._size.r+z._size.w*(1-te.x[1]),t:z._size.t+z._size.h*(1-te.y[1]),b:z._size.b+z._size.h*te.y[0]},ue=oe.l+oe.w/2,fe=oe.t+oe.h/2,he=Math.min(oe.w/2,oe.h),me=r.innerRadius*he,ke=Y.align||"center";if(W=fe,re){if(Q&&(N=ue,W=fe+he/2,H=function(pe){return de=pe,[(se=.9*me)/Math.sqrt(de.width/2*(de.width/2)+de.height*de.height),de,se];var de,se}),K){var Pe=r.bulletPadding,Te=1-r.bulletNumberDomainSize+Pe;N=oe.l+(Te+(1-Te)*v[ke])*oe.w,H=function(pe){return M(pe,(r.bulletNumberDomainSize-Pe)*oe.w,oe.h)}}}else N=oe.l+v[ke]*oe.w,H=function(pe){return M(pe,oe.w,oe.h)};(function(pe,de,se,we){var Re,Ee,Ue,$e=se[0].trace,ve=we.numbersX,Ie=we.numbersY,De=$e.align||"center",ze=w[De],Ge=we.transitionOpts,He=we.onComplete,Ke=A.ensureSingle(de,"g","numbers"),et=[];$e._hasNumber&&et.push("number"),$e._hasDelta&&(et.push("delta"),"left"===$e.delta.position&&et.reverse());var st=Ke.selectAll("text").data(et);function mt(Pt,Ht,jt,nt){if(!Pt.match("s")||jt>=0==nt>=0||Ht(jt).slice(-1).match(h)||Ht(nt).slice(-1).match(h))return Ht;var it=Pt.slice().replace("s","f").replace(/\d+/,function(rt){return parseInt(rt)-1}),Xe=b(pe,{tickformat:it});return function(rt){return Math.abs(rt)<1?a.tickText(Xe,rt).text:Ht(rt)}}st.enter().append("text"),st.attr("text-anchor",function(){return ze}).attr("class",function(Pt){return Pt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),st.exit().remove();var at,kt=$e.mode+$e.align;if($e._hasDelta&&(at=function(){var Pt=b(pe,{tickformat:$e.delta.valueformat},$e._range);Pt.setScale(),a.prepTicks(Pt);var Ht=function(je){return a.tickText(Pt,je).text},jt=$e.delta.suffix,nt=$e.delta.prefix,it=function(je){return $e.delta.relative?je.relativeDelta:je.delta},Xe=function(je,Ve){return 0===je||"number"!=typeof je||isNaN(je)?"-":(je>0?$e.delta.increasing.symbol:$e.delta.decreasing.symbol)+nt+Ve(je)+jt},rt=function(je){return je.delta>=0?$e.delta.increasing.color:$e.delta.decreasing.color};void 0===$e._deltaLastValue&&($e._deltaLastValue=it(se[0]));var ft=Ke.select("text.delta");function vt(){ft.text(Xe(it(se[0]),Ht)).call(f.fill,rt(se[0])).call(n.convertToTspans,pe)}return ft.call(o.font,$e.delta.font).call(f.fill,rt({delta:$e._deltaLastValue})),_(Ge)?ft.transition().duration(Ge.duration).ease(Ge.easing).tween("text",function(){var je=C.select(this),Ve=it(se[0]),ut=$e._deltaLastValue,ct=mt($e.delta.valueformat,Ht,ut,Ve),Tt=u(ut,Ve);return $e._deltaLastValue=Ve,function(Mt){je.text(Xe(Tt(Mt),ct)),je.call(f.fill,rt({delta:Tt(Mt)}))}}).each("end",function(){vt(),He&&He()}).each("interrupt",function(){vt(),He&&He()}):vt(),Ee=d(Xe(it(se[0]),Ht),$e.delta.font,ze,pe),ft}(),kt+=$e.delta.position+$e.delta.font.size+$e.delta.font.family+$e.delta.valueformat,kt+=$e.delta.increasing.symbol+$e.delta.decreasing.symbol,Ue=Ee),$e._hasNumber&&(function(){var Pt=b(pe,{tickformat:$e.number.valueformat},$e._range);Pt.setScale(),a.prepTicks(Pt);var Ht=function(rt){return a.tickText(Pt,rt).text},jt=$e.number.suffix,nt=$e.number.prefix,it=Ke.select("text.number");function Xe(){var rt="number"==typeof se[0].y?nt+Ht(se[0].y)+jt:"-";it.text(rt).call(o.font,$e.number.font).call(n.convertToTspans,pe)}_(Ge)?it.transition().duration(Ge.duration).ease(Ge.easing).each("end",function(){Xe(),He&&He()}).each("interrupt",function(){Xe(),He&&He()}).attrTween("text",function(){var rt=C.select(this),ft=u(se[0].lastY,se[0].y);$e._lastValue=se[0].y;var vt=mt($e.number.valueformat,Ht,se[0].lastY,se[0].y);return function(je){rt.text(nt+vt(ft(je))+jt)}}):Xe(),Re=d(nt+Ht(se[0].y)+jt,$e.number.font,ze,pe)}(),kt+=$e.number.font.size+$e.number.font.family+$e.number.valueformat+$e.number.suffix+$e.number.prefix,Ue=Re),$e._hasDelta&&$e._hasNumber){var St,gt,dt=[(Re.left+Re.right)/2,(Re.top+Re.bottom)/2],Ct=[(Ee.left+Ee.right)/2,(Ee.top+Ee.bottom)/2],Ot=.75*$e.delta.font.size;"left"===$e.delta.position&&(St=E($e,"deltaPos",0,-1*(Re.width*v[$e.align]+Ee.width*(1-v[$e.align])+Ot),kt,Math.min),gt=dt[1]-Ct[1],Ue={width:Re.width+Ee.width+Ot,height:Math.max(Re.height,Ee.height),left:Ee.left+St,right:Re.right,top:Math.min(Re.top,Ee.top+gt),bottom:Math.max(Re.bottom,Ee.bottom+gt)}),"right"===$e.delta.position&&(St=E($e,"deltaPos",0,Re.width*(1-v[$e.align])+Ee.width*v[$e.align]+Ot,kt,Math.max),gt=dt[1]-Ct[1],Ue={width:Re.width+Ee.width+Ot,height:Math.max(Re.height,Ee.height),left:Re.left,right:Ee.right+St,top:Math.min(Re.top,Ee.top+gt),bottom:Math.max(Re.bottom,Ee.bottom+gt)}),"bottom"===$e.delta.position&&(St=null,gt=Ee.height,Ue={width:Math.max(Re.width,Ee.width),height:Re.height+Ee.height,left:Math.min(Re.left,Ee.left),right:Math.max(Re.right,Ee.right),top:Re.bottom-Re.height,bottom:Re.bottom+Ee.height}),"top"===$e.delta.position&&(St=null,gt=Re.top,Ue={width:Math.max(Re.width,Ee.width),height:Re.height+Ee.height,left:Math.min(Re.left,Ee.left),right:Math.max(Re.right,Ee.right),top:Re.bottom-Re.height-Ee.height,bottom:Re.bottom}),at.attr({dx:St,dy:gt})}($e._hasNumber||$e._hasDelta)&&Ke.attr("transform",function(){var Ht,Pt=we.numbersScaler(Ue),jt=E($e,"numbersScale",1,Pt[0],kt+=Pt[2],Math.min);$e._scaleNumbers||(jt=1),$e._numbersTop=jt*Ue.top+(Ht=$e._isAngular?Ie-jt*Ue.bottom:Ie-jt*(Ue.top+Ue.bottom)/2);var nt=Ue[De];"center"===De&&(nt=(Ue.left+Ue.right)/2);var it=ve-jt*nt;return it=E($e,"numbersTranslate",0,it,kt,Math.max),m(it,Ht)+T(jt)})})(k,ae,$,{numbersX:N,numbersY:W,numbersScaler:H,transitionOpts:L,onComplete:R}),re&&(U={range:Y.gauge.axis.range,color:Y.gauge.bgcolor,line:{color:Y.gauge.bordercolor,width:0},thickness:1},Z={range:Y.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:Y.gauge.bordercolor,width:Y.gauge.borderwidth},thickness:1});var be=ae.selectAll("g.angular").data(Q?$:[]);be.exit().remove();var xe=ae.selectAll("g.angularaxis").data(Q?$:[]);xe.exit().remove(),Q&&function(pe,de,se,we){var Re,Ee,Ue,$e,ve=se[0].trace,Ie=we.size,De=we.radius,ze=we.innerRadius,Ge=we.gaugeBg,He=we.gaugeOutline,Ke=[Ie.l+Ie.w/2,Ie.t+Ie.h/2+De/2],et=we.gauge,st=we.layer,mt=we.transitionOpts,at=we.onComplete,kt=Math.PI/2;function St(Mt){var At=ve.gauge.axis.range[0],bt=(Mt-At)/(ve.gauge.axis.range[1]-At)*Math.PI-kt;return bt<-kt?-kt:bt>kt?kt:bt}function gt(Mt){return C.svg.arc().innerRadius((ze+De)/2-Mt/2*(De-ze)).outerRadius((ze+De)/2+Mt/2*(De-ze)).startAngle(-kt)}function dt(Mt){Mt.attr("d",function(At){return gt(At.thickness).startAngle(St(At.range[0])).endAngle(St(At.range[1]))()})}et.enter().append("g").classed("angular",!0),et.attr("transform",m(Ke[0],Ke[1])),st.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),st.selectAll("g.xangularaxistick,path,text").remove(),(Re=b(pe,ve.gauge.axis)).type="linear",Re.range=ve.gauge.axis.range,Re._id="xangularaxis",Re.ticklabeloverflow="allow",Re.setScale();var Ct=function(Mt){return(Re.range[0]-Mt.x)/(Re.range[1]-Re.range[0])*Math.PI+Math.PI},Ot={},Pt=a.makeLabelFns(Re,0).labelStandoff;Ot.xFn=function(Mt){var At=Ct(Mt);return Math.cos(At)*Pt},Ot.yFn=function(Mt){var At=Ct(Mt),bt=Math.sin(At)>0?.2:1;return-Math.sin(At)*(Pt+Mt.fontSize*bt)+Math.abs(Math.cos(At))*(Mt.fontSize*t)},Ot.anchorFn=function(Mt){var At=Ct(Mt),bt=Math.cos(At);return Math.abs(bt)<.1?"middle":bt>0?"start":"end"},Ot.heightFn=function(Mt,At,bt){var Rt=Ct(Mt);return-.5*(1+Math.sin(Rt))*bt};var Ht=function(Mt){return m(Ke[0]+De*Math.cos(Mt),Ke[1]-De*Math.sin(Mt))};Ue=function(Mt){return Ht(Ct(Mt))},Ee=a.calcTicks(Re),$e=a.getTickSigns(Re)[2],Re.visible&&(a.drawTicks(pe,Re,{vals:Ee,layer:st,path:"M"+($e="inside"===Re.ticks?-1:1)*((Re.linewidth||1)/2)+",0h"+$e*Re.ticklen,transFn:function(Mt){var At=Ct(Mt);return Ht(At)+"rotate("+-l(At)+")"}}),a.drawLabels(pe,Re,{vals:Ee,layer:st,transFn:Ue,labelFns:Ot}));var nt=[Ge].concat(ve.gauge.steps),it=et.selectAll("g.bg-arc").data(nt);it.enter().append("g").classed("bg-arc",!0).append("path"),it.select("path").call(dt).call(x),it.exit().remove();var Xe=gt(ve.gauge.bar.thickness),rt=et.selectAll("g.value-arc").data([ve.gauge.bar]);rt.enter().append("g").classed("value-arc",!0).append("path");var ft,vt,je,Ve=rt.select("path");_(mt)?(Ve.transition().duration(mt.duration).ease(mt.easing).each("end",function(){at&&at()}).each("interrupt",function(){at&&at()}).attrTween("d",(ft=Xe,vt=St(se[0].lastY),je=St(se[0].y),function(){var Mt=S(vt,je);return function(At){return ft.endAngle(Mt(At))()}})),ve._lastValue=se[0].y):Ve.attr("d","number"==typeof se[0].y?Xe.endAngle(St(se[0].y)):"M0,0Z"),Ve.call(x),rt.exit().remove(),nt=[];var ut=ve.gauge.threshold.value;(ut||0===ut)&&nt.push({range:[ut,ut],color:ve.gauge.threshold.color,line:{color:ve.gauge.threshold.line.color,width:ve.gauge.threshold.line.width},thickness:ve.gauge.threshold.thickness});var ct=et.selectAll("g.threshold-arc").data(nt);ct.enter().append("g").classed("threshold-arc",!0).append("path"),ct.select("path").call(dt).call(x),ct.exit().remove();var Tt=et.selectAll("g.gauge-outline").data([He]);Tt.enter().append("g").classed("gauge-outline",!0).append("path"),Tt.select("path").call(dt).call(x),Tt.exit().remove()}(k,0,$,{radius:he,innerRadius:me,gauge:be,layer:xe,size:oe,gaugeBg:U,gaugeOutline:Z,transitionOpts:L,onComplete:R});var Ne=ae.selectAll("g.bullet").data(K?$:[]);Ne.exit().remove();var Se=ae.selectAll("g.bulletaxis").data(K?$:[]);Se.exit().remove(),K&&function(pe,de,se,we){var Re,Ee,Ue,$e,ve,Ie=se[0].trace,De=we.gauge,ze=we.layer,Ge=we.gaugeBg,He=we.gaugeOutline,Ke=we.size,et=Ie.domain,st=we.transitionOpts,mt=we.onComplete;De.enter().append("g").classed("bullet",!0),De.attr("transform",m(Ke.l,Ke.t)),ze.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),ze.selectAll("g.xbulletaxistick,path,text").remove();var at=Ke.h,kt=Ie.gauge.bar.thickness*at,St=et.x[0],gt=et.x[0]+(et.x[1]-et.x[0])*(Ie._hasNumber||Ie._hasDelta?1-r.bulletNumberDomainSize:1);function dt(it){it.attr("width",function(Xe){return Math.max(0,Re.c2p(Xe.range[1])-Re.c2p(Xe.range[0]))}).attr("x",function(Xe){return Re.c2p(Xe.range[0])}).attr("y",function(Xe){return.5*(1-Xe.thickness)*at}).attr("height",function(Xe){return Xe.thickness*at})}(Re=b(pe,Ie.gauge.axis))._id="xbulletaxis",Re.domain=[St,gt],Re.setScale(),Ee=a.calcTicks(Re),Ue=a.makeTransTickFn(Re),$e=a.getTickSigns(Re)[2],ve=Ke.t+Ke.h,Re.visible&&(a.drawTicks(pe,Re,{vals:"inside"===Re.ticks?a.clipEnds(Re,Ee):Ee,layer:ze,path:a.makeTickPath(Re,ve,$e),transFn:Ue}),a.drawLabels(pe,Re,{vals:Ee,layer:ze,transFn:Ue,labelFns:a.makeLabelFns(Re,ve)}));var Ct=[Ge].concat(Ie.gauge.steps),Ot=De.selectAll("g.bg-bullet").data(Ct);Ot.enter().append("g").classed("bg-bullet",!0).append("rect"),Ot.select("rect").call(dt).call(x),Ot.exit().remove();var Pt=De.selectAll("g.value-bullet").data([Ie.gauge.bar]);Pt.enter().append("g").classed("value-bullet",!0).append("rect"),Pt.select("rect").attr("height",kt).attr("y",(at-kt)/2).call(x),_(st)?Pt.select("rect").transition().duration(st.duration).ease(st.easing).each("end",function(){mt&&mt()}).each("interrupt",function(){mt&&mt()}).attr("width",Math.max(0,Re.c2p(Math.min(Ie.gauge.axis.range[1],se[0].y)))):Pt.select("rect").attr("width","number"==typeof se[0].y?Math.max(0,Re.c2p(Math.min(Ie.gauge.axis.range[1],se[0].y))):0),Pt.exit().remove();var Ht=se.filter(function(){return Ie.gauge.threshold.value||0===Ie.gauge.threshold.value}),jt=De.selectAll("g.threshold-bullet").data(Ht);jt.enter().append("g").classed("threshold-bullet",!0).append("line"),jt.select("line").attr("x1",Re.c2p(Ie.gauge.threshold.value)).attr("x2",Re.c2p(Ie.gauge.threshold.value)).attr("y1",(1-Ie.gauge.threshold.thickness)/2*at).attr("y2",(1-(1-Ie.gauge.threshold.thickness)/2)*at).call(f.stroke,Ie.gauge.threshold.line.color).style("stroke-width",Ie.gauge.threshold.line.width),jt.exit().remove();var nt=De.selectAll("g.gauge-outline").data([He]);nt.enter().append("g").classed("gauge-outline",!0).append("rect"),nt.select("rect").call(dt).call(x),nt.exit().remove()}(k,0,$,{gauge:Ne,layer:Se,size:oe,gaugeBg:U,gaugeOutline:Z,transitionOpts:L,onComplete:R});var Ce=ae.selectAll("text.title").data($);Ce.exit().remove(),Ce.enter().append("text").classed("title",!0),Ce.attr("text-anchor",function(){return K?w.right:w[Y.title.align]}).text(Y.title.text).call(o.font,Y.title.font).call(n.convertToTspans,k),Ce.attr("transform",function(){var pe,de=oe.l+oe.w*v[Y.title.align],se=r.titlePadding,we=o.bBox(Ce.node());return re?(Q&&(pe=Y.gauge.axis.visible?o.bBox(xe.node()).top-se-we.bottom:oe.t+oe.h/2-he/2-we.bottom-se),K&&(pe=W-(we.top+we.bottom)/2,de=oe.l-r.bulletPadding*oe.w)):pe=Y._numbersTop-se-we.bottom,m(de,pe)})})}},16249:function(ie,B,e){"use strict";var C=e(50693),S=e(12663).axisHoverFormat,u=e(5386).fF,A=e(2418),T=e(9012),m=e(1426).extendFlat,l=e(30962).overrideAll,t=ie.exports=l(m({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:u(),xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z"),valuehoverformat:S("value",1),showlegend:m({},T.showlegend,{dflt:!1})},C("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:A.opacity,lightposition:A.lightposition,lighting:A.lighting,flatshading:A.flatshading,contour:A.contour,hoverinfo:m({},T.hoverinfo)}),"calc","nested");t.flatshading.dflt=!0,t.lighting.facenormalsepsilon.dflt=0,t.x.editType=t.y.editType=t.z.editType=t.value.editType="calc+clearAxisTypes",t.transforms=void 0},56959:function(ie,B,e){"use strict";var C=e(78803),S=e(88489).processGrid,u=e(88489).filter;ie.exports=function(A,T){T._len=Math.min(T.x.length,T.y.length,T.z.length,T.value.length),T._x=u(T.x,T._len),T._y=u(T.y,T._len),T._z=u(T.z,T._len),T._value=u(T.value,T._len);var m=S(T);T._gridFill=m.fill,T._Xs=m.Xs,T._Ys=m.Ys,T._Zs=m.Zs,T._len=m.len;for(var l=1/0,t=-1/0,o=0;o<T._len;o++){var r=T._value[o];l=Math.min(l,r),t=Math.max(t,r)}T._minValues=l,T._maxValues=t,T._vMin=null==T.isomin?l:T.isomin,T._vMax=void 0===T.isomax||null===T.isomin?t:T.isomax,C(A,T,{vals:[T._vMin,T._vMax],containerStr:"",cLetter:"c"})}},22674:function(ie,B,e){"use strict";var C=e(9330).gl_mesh3d,S=e(81697).parseColorScale,u=e(78614),A=e(21081).extractOpts,T=e(90060),m=function(n,a){for(var s=a.length-1;s>0;s--){var c=Math.min(a[s],a[s-1]),p=Math.max(a[s],a[s-1]);if(p>c&&c<n&&n<=p)return{id:s,distRatio:(p-n)/(p-c)}}return{id:0,distRatio:0}};function l(n,a,s){this.scene=n,this.uid=s,this.mesh=a,this.name="",this.data=null,this.showContour=!1}var t=l.prototype;t.handlePick=function(n){if(n.object===this.mesh){var a=n.data.index,c=this.data._meshY[a],p=this.data._meshZ[a],f=this.data._Ys.length,w=this.data._Zs.length,v=m(this.data._meshX[a],this.data._Xs).id,h=m(c,this.data._Ys).id,_=m(p,this.data._Zs).id,x=n.index=_+w*h+w*f*v;n.traceCoordinate=[this.data._meshX[x],this.data._meshY[x],this.data._meshZ[x],this.data._value[x]];var b=this.data.hovertext||this.data.text;return Array.isArray(b)&&void 0!==b[x]?n.textLabel=b[x]:b&&(n.textLabel=b),!0}},t.update=function(n){var a=this.scene,s=a.fullSceneLayout;function c(w,v,h,_){return v.map(function(x){return w.d2l(x,0,_)*h})}this.data=r(n);var p={positions:T(c(s.xaxis,n._meshX,a.dataScale[0],n.xcalendar),c(s.yaxis,n._meshY,a.dataScale[1],n.ycalendar),c(s.zaxis,n._meshZ,a.dataScale[2],n.zcalendar)),cells:T(n._meshI,n._meshJ,n._meshK),lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,contourEnable:n.contour.show,contourColor:u(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},f=A(n);p.vertexIntensity=n._meshIntensity,p.vertexIntensityBounds=[f.min,f.max],p.colormap=S(n),this.mesh.update(p)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var o=["xyz","xzy","yxz","yzx","zxy","zyx"];function r(n){n._meshI=[],n._meshJ=[],n._meshK=[];var a,s,c,p,f,w,v,h=n.surface.show,_=n.spaceframe.show,x=n.surface.fill,b=n.spaceframe.fill,M=!1,d=!1,E=0,k=n._Xs,I=n._Ys,L=n._Zs,P=k.length,R=I.length,z=L.length,$=o.indexOf(n._gridFill.replace(/-/g,"").replace(/\+/g,"")),N=function(De,ze,Ge){switch($){case 5:return Ge+z*ze+z*R*De;case 4:return Ge+z*De+z*P*ze;case 3:return ze+R*Ge+R*z*De;case 2:return ze+R*De+R*P*Ge;case 1:return De+P*Ge+P*z*ze;default:return De+P*ze+P*R*Ge}},W=n._minValues,H=n._maxValues,U=n._vMin,Z=n._vMax;function Y(De,ze,Ge){for(var He=w.length,Ke=s;Ke<He;Ke++)if(De===c[Ke]&&ze===p[Ke]&&Ge===f[Ke])return Ke;return-1}function ae(){s=a}function re(){c=[],p=[],f=[],w=[],a=0,ae()}function Q(De,ze,Ge,He){return c.push(De),p.push(ze),f.push(Ge),w.push(He),++a-1}function K(De,ze,Ge){for(var He=[],Ke=0;Ke<De.length;Ke++)He[Ke]=De[Ke]*(1-Ge)+Ge*ze[Ke];return He}function te(De){v=De}function oe(De,ze){return"all"===De||null===De||De.indexOf(ze)>-1}function ue(De,ze){return null===De?ze:De}function fe(De,ze,Ge){ae();var Ke,et,jt,nt,it,Xe,rt,ft,vt,je,Ve,ut,ct,Tt,Mt,st=[ze],mt=[Ge];if(v>=1)st=[ze],mt=[Ge];else if(v>0){var at=(nt=Ge,je=K(ft=function(At,bt,Rt){for(var xt=[],_t=0;_t<At.length;_t++)xt[_t]=(At[_t]+bt[_t]+Rt[_t])/3;return xt}(it=(jt=ze)[0],Xe=jt[1],rt=jt[2]),it,vt=Math.sqrt(1-v)),{xyzv:[[it,Xe,Ve=K(ft,Xe,vt)],[Ve,je,it],[Xe,rt,ut=K(ft,rt,vt)],[ut,Ve,Xe],[rt,it,je],[je,ut,rt]],abc:[[ct=nt[0],Tt=nt[1],-1],[-1,-1,ct],[Tt,Mt=nt[2],-1],[-1,-1,Tt],[Mt,ct,-1],[-1,-1,Mt]]});st=at.xyzv,mt=at.abc}for(var kt=0;kt<st.length;kt++){ze=st[kt],Ge=mt[kt];for(var St=[],gt=0;gt<3;gt++){var dt=ze[gt][0],Ct=ze[gt][1],Ot=ze[gt][2],Pt=ze[gt][3],Ht=Ge[gt]>-1?Ge[gt]:Y(dt,Ct,Ot);St[gt]=Ht>-1?Ht:Q(dt,Ct,Ot,ue(De,Pt))}Ke=St[1],et=St[2],n._meshI.push(St[0]),n._meshJ.push(Ke),n._meshK.push(et),++E}}function he(De,ze,Ge,He){var Ke=De[3];Ke<Ge&&(Ke=Ge),Ke>He&&(Ke=He);for(var et=(De[3]-Ke)/(De[3]-ze[3]+1e-9),st=[],mt=0;mt<4;mt++)st[mt]=(1-et)*De[mt]+et*ze[mt];return st}function me(De,ze,Ge){return De>=ze&&De<=Ge}function ke(De){var ze=.001*(Z-U);return De>=U-ze&&De<=Z+ze}function Pe(De){for(var ze=[],Ge=0;Ge<4;Ge++){var He=De[Ge];ze.push([n._x[He],n._y[He],n._z[He],n._value[He]])}return ze}var Te=3;function be(De,ze,Ge,He,Ke,et){et||(et=1),Ge=[-1,-1,-1];var st=!1,mt=[me(ze[0][3],He,Ke),me(ze[1][3],He,Ke),me(ze[2][3],He,Ke)];if(!mt[0]&&!mt[1]&&!mt[2])return!1;var at=function(St,gt,dt){return ke(gt[0][3])&&ke(gt[1][3])&&ke(gt[2][3])?(fe(St,gt,dt),!0):et<Te&&be(St,gt,dt,U,Z,++et)};if(mt[0]&&mt[1]&&mt[2])return at(De,ze,Ge)||st;var kt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(St){if(mt[St[0]]&&mt[St[1]]&&!mt[St[2]]){var gt=ze[St[0]],dt=ze[St[1]],Ct=ze[St[2]],Ot=he(Ct,gt,He,Ke),Pt=he(Ct,dt,He,Ke);st=at(De,[Pt,Ot,gt],[-1,-1,Ge[St[0]]])||st,st=at(De,[gt,dt,Pt],[Ge[St[0]],Ge[St[1]],-1])||st,kt=!0}}),kt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(St){if(mt[St[0]]&&!mt[St[1]]&&!mt[St[2]]){var gt=ze[St[0]],Ct=ze[St[2]],Ot=he(ze[St[1]],gt,He,Ke),Pt=he(Ct,gt,He,Ke);st=at(De,[Pt,Ot,gt],[-1,-1,Ge[St[0]]])||st,kt=!0}}),st}function xe(De,ze,Ge,He){var at,kt,St,gt,Ke=!1,et=Pe(ze),st=[me(et[0][3],Ge,He),me(et[1][3],Ge,He),me(et[2][3],Ge,He),me(et[3][3],Ge,He)];if(!(st[0]||st[1]||st[2]||st[3]))return Ke;if(st[0]&&st[1]&&st[2]&&st[3])return d&&(at=De,kt=et,St=ze,(gt=function(dt,Ct,Ot){fe(at,[kt[dt],kt[Ct],kt[Ot]],[St[dt],St[Ct],St[Ot]])})(0,1,2),gt(3,0,1),gt(2,3,0),Ke=void gt(1,2,3)||Ke),Ke;var mt=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(at){if(st[at[0]]&&st[at[1]]&&st[at[2]]&&!st[at[3]]){var kt=et[at[0]],St=et[at[1]],gt=et[at[2]],dt=et[at[3]];if(d)Ke=fe(De,[kt,St,gt],[ze[at[0]],ze[at[1]],ze[at[2]]])||Ke;else{var Ct=he(dt,kt,Ge,He),Ot=he(dt,St,Ge,He),Pt=he(dt,gt,Ge,He);Ke=fe(null,[Ct,Ot,Pt],[-1,-1,-1])||Ke}mt=!0}}),mt||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(at){if(st[at[0]]&&st[at[1]]&&!st[at[2]]&&!st[at[3]]){var kt=et[at[0]],St=et[at[1]],gt=et[at[2]],dt=et[at[3]],Ct=he(gt,kt,Ge,He),Ot=he(gt,St,Ge,He),Pt=he(dt,St,Ge,He),Ht=he(dt,kt,Ge,He);d?(Ke=fe(De,[kt,Ht,Ct],[ze[at[0]],-1,-1])||Ke,Ke=fe(De,[St,Ot,Pt],[ze[at[1]],-1,-1])||Ke):(nt=[Ct,Ot,Pt,Ht],it=[-1,-1,-1,-1],(Xe=function(rt,ft,vt){fe(null,[nt[rt],nt[ft],nt[vt]],[it[rt],it[ft],it[vt]])})(0,1,2),Ke=void Xe(2,3,0)||Ke),mt=!0}var nt,it,Xe}),mt||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(at){if(st[at[0]]&&!st[at[1]]&&!st[at[2]]&&!st[at[3]]){var kt=et[at[0]],gt=et[at[2]],dt=et[at[3]],Ct=he(et[at[1]],kt,Ge,He),Ot=he(gt,kt,Ge,He),Pt=he(dt,kt,Ge,He);d?(Ke=fe(De,[kt,Ct,Ot],[ze[at[0]],-1,-1])||Ke,Ke=fe(De,[kt,Ot,Pt],[ze[at[0]],-1,-1])||Ke,Ke=fe(De,[kt,Pt,Ct],[ze[at[0]],-1,-1])||Ke):Ke=fe(null,[Ct,Ot,Pt],[-1,-1,-1])||Ke,mt=!0}})),Ke}function Ne(De,ze,Ge,He,Ke,et,st,mt,at,kt,St){var gt=!1;return M&&(oe(De,"A")&&(gt=xe(null,[ze,Ge,He,et],kt,St)||gt),oe(De,"B")&&(gt=xe(null,[Ge,He,Ke,at],kt,St)||gt),oe(De,"C")&&(gt=xe(null,[Ge,et,st,at],kt,St)||gt),oe(De,"D")&&(gt=xe(null,[He,et,mt,at],kt,St)||gt),oe(De,"E")&&(gt=xe(null,[Ge,He,et,at],kt,St)||gt)),d&&(gt=xe(De,[Ge,He,et,at],kt,St)||gt),gt}function Se(De,ze,Ge,He,Ke,et,st,mt){return[!0===mt[0]||be(De,Pe([ze,Ge,He]),[ze,Ge,He],et,st),!0===mt[1]||be(De,Pe([He,Ke,ze]),[He,Ke,ze],et,st)]}function Ce(De,ze,Ge,He,Ke,et,st,mt,at){return mt?Se(De,ze,Ge,Ke,He,et,st,at):Se(De,Ge,Ke,He,ze,et,st,at)}function pe(De,ze,Ge,He,Ke,et,st){var mt,at,kt,St,gt=!1,dt=function(){gt=be(De,[mt,at,kt],[-1,-1,-1],Ke,et)||gt,gt=be(De,[kt,St,mt],[-1,-1,-1],Ke,et)||gt},Ct=st[0],Ot=st[1],Pt=st[2];return Ct&&(mt=K(Pe([N(ze,Ge-0,He-0)])[0],Pe([N(ze-1,Ge-0,He-0)])[0],Ct),at=K(Pe([N(ze,Ge-0,He-1)])[0],Pe([N(ze-1,Ge-0,He-1)])[0],Ct),kt=K(Pe([N(ze,Ge-1,He-1)])[0],Pe([N(ze-1,Ge-1,He-1)])[0],Ct),St=K(Pe([N(ze,Ge-1,He-0)])[0],Pe([N(ze-1,Ge-1,He-0)])[0],Ct),dt()),Ot&&(mt=K(Pe([N(ze-0,Ge,He-0)])[0],Pe([N(ze-0,Ge-1,He-0)])[0],Ot),at=K(Pe([N(ze-0,Ge,He-1)])[0],Pe([N(ze-0,Ge-1,He-1)])[0],Ot),kt=K(Pe([N(ze-1,Ge,He-1)])[0],Pe([N(ze-1,Ge-1,He-1)])[0],Ot),St=K(Pe([N(ze-1,Ge,He-0)])[0],Pe([N(ze-1,Ge-1,He-0)])[0],Ot),dt()),Pt&&(mt=K(Pe([N(ze-0,Ge-0,He)])[0],Pe([N(ze-0,Ge-0,He-1)])[0],Pt),at=K(Pe([N(ze-0,Ge-1,He)])[0],Pe([N(ze-0,Ge-1,He-1)])[0],Pt),kt=K(Pe([N(ze-1,Ge-1,He)])[0],Pe([N(ze-1,Ge-1,He-1)])[0],Pt),St=K(Pe([N(ze-1,Ge-0,He)])[0],Pe([N(ze-1,Ge-0,He-1)])[0],Pt),dt()),gt}function de(De,ze,Ge,He,Ke,et,st,mt,at,kt,St,gt){var dt=De;return gt?(M&&"even"===De&&(dt=null),Ne(dt,ze,Ge,He,Ke,et,st,mt,at,kt,St)):(M&&"odd"===De&&(dt=null),Ne(dt,at,mt,st,et,Ke,He,Ge,ze,kt,St))}function se(De,ze,Ge,He,Ke){for(var et=[],st=0,mt=0;mt<ze.length;mt++)for(var at=ze[mt],kt=1;kt<z;kt++)for(var St=1;St<R;St++)et.push(Ce(De,N(at,St-1,kt-1),N(at,St-1,kt),N(at,St,kt-1),N(at,St,kt),Ge,He,(at+St+kt)%2,Ke&&Ke[st]?Ke[st]:[])),st++;return et}function we(De,ze,Ge,He,Ke){for(var et=[],st=0,mt=0;mt<ze.length;mt++)for(var at=ze[mt],kt=1;kt<P;kt++)for(var St=1;St<z;St++)et.push(Ce(De,N(kt-1,at,St-1),N(kt,at,St-1),N(kt-1,at,St),N(kt,at,St),Ge,He,(kt+at+St)%2,Ke&&Ke[st]?Ke[st]:[])),st++;return et}function Re(De,ze,Ge,He,Ke){for(var et=[],st=0,mt=0;mt<ze.length;mt++)for(var at=ze[mt],kt=1;kt<R;kt++)for(var St=1;St<P;St++)et.push(Ce(De,N(St-1,kt-1,at),N(St-1,kt,at),N(St,kt-1,at),N(St,kt,at),Ge,He,(St+kt+at)%2,Ke&&Ke[st]?Ke[st]:[])),st++;return et}function Ee(De,ze,Ge){for(var He=1;He<z;He++)for(var Ke=1;Ke<R;Ke++)for(var et=1;et<P;et++)de(De,N(et-1,Ke-1,He-1),N(et-1,Ke-1,He),N(et-1,Ke,He-1),N(et-1,Ke,He),N(et,Ke-1,He-1),N(et,Ke-1,He),N(et,Ke,He-1),N(et,Ke,He),ze,Ge,(et+Ke+He)%2)}function Ue(De,ze,Ge,He,Ke,et){for(var st=[],at=0;at<ze.length;at++)for(var kt=ze[at],St=1;St<z;St++)for(var gt=1;gt<R;gt++)st.push(pe(De,kt,gt,St,Ge,He,Ke[at]));return st}function $e(De,ze,Ge,He,Ke,et){for(var st=[],at=0;at<ze.length;at++)for(var kt=ze[at],St=1;St<P;St++)for(var gt=1;gt<z;gt++)st.push(pe(De,St,kt,gt,Ge,He,Ke[at]));return st}function ve(De,ze,Ge,He,Ke,et){for(var st=[],at=0;at<ze.length;at++)for(var kt=ze[at],St=1;St<R;St++)for(var gt=1;gt<P;gt++)st.push(pe(De,gt,St,kt,Ge,He,Ke[at]));return st}function Ie(De,ze){for(var Ge=[],He=De;He<ze;He++)Ge.push(He);return Ge}return function(){re(),function(){for(var at=0;at<P;at++)for(var kt=0;kt<R;kt++)for(var St=0;St<z;St++){var gt=N(at,kt,St);Q(n._x[gt],n._y[gt],n._z[gt],n._value[gt])}}();var De=null;if(_&&b&&(te(b),d=!0,Ee(De,U,Z),d=!1),h&&x){te(x);for(var ze=n.surface.pattern,Ge=n.surface.count,He=0;He<Ge;He++){var Ke=1===Ge?.5:He/(Ge-1),et=(1-Ke)*U+Ke*Z,st=Math.abs(et-W)>Math.abs(et-H)?[W,et]:[et,H];M=!0,Ee(ze,st[0],st[1]),M=!1}}var mt=[[Math.min(U,H),Math.max(U,H)],[Math.min(W,Z),Math.max(W,Z)]];["x","y","z"].forEach(function(at){for(var kt=[],St=0;St<mt.length;St++){var gt=0,dt=mt[St][0],Ct=mt[St][1],Ot=n.slices[at];if(Ot.show&&Ot.fill){te(Ot.fill);var Pt=[],Ht=[],jt=[];if(Ot.locations.length)for(var nt=0;nt<Ot.locations.length;nt++){var it=m(Ot.locations[nt],"x"===at?k:"y"===at?I:L);0===it.distRatio?Pt.push(it.id):it.id>0&&(Ht.push(it.id),jt.push("x"===at?[it.distRatio,0,0]:"y"===at?[0,it.distRatio,0]:[0,0,it.distRatio]))}else Pt=Ie(1,"x"===at?P-1:"y"===at?R-1:z-1);Ht.length>0&&(kt[gt]="x"===at?Ue(De,Ht,dt,Ct,jt):"y"===at?$e(De,Ht,dt,Ct,jt):ve(De,Ht,dt,Ct,jt),gt++),Pt.length>0&&(kt[gt]="x"===at?se(De,Pt,dt,Ct,kt[gt]):"y"===at?we(De,Pt,dt,Ct,kt[gt]):Re(De,Pt,dt,Ct,kt[gt]),gt++)}var Xe=n.caps[at];Xe.show&&Xe.fill&&(te(Xe.fill),kt[gt]="x"===at?se(De,[0,P-1],dt,Ct,kt[gt]):"y"===at?we(De,[0,R-1],dt,Ct,kt[gt]):Re(De,[0,z-1],dt,Ct,kt[gt]),gt++)}}),0===E&&re(),n._meshX=c,n._meshY=p,n._meshZ=f,n._meshIntensity=w,n._Xs=k,n._Ys=I,n._Zs=L}(),n}ie.exports={findNearestOnAxis:m,generateIsoMeshes:r,createIsosurfaceTrace:function(n,a){var c=C({gl:n.glplot.gl}),p=new l(n,c,a.uid);return c._trace=p,p.update(a),n.glplot.add(c),p}}},82738:function(ie,B,e){"use strict";var C=e(71828),S=e(73972),u=e(16249),A=e(1586);function T(m,l,t,o,r){var n=r("isomin"),a=r("isomax");null!=a&&null!=n&&n>a&&(l.isomin=null,l.isomax=null);var s=r("x"),c=r("y"),p=r("z"),f=r("value");s&&s.length&&c&&c.length&&p&&p.length&&f&&f.length?(S.getComponentMethod("calendars","handleTraceDefaults")(m,l,["x","y","z"],o),r("valuehoverformat"),["x","y","z"].forEach(function(w){r(w+"hoverformat");var v="caps."+w;r(v+".show")&&r(v+".fill");var h="slices."+w;r(h+".show")&&(r(h+".fill"),r(h+".locations"))}),r("spaceframe.show")&&r("spaceframe.fill"),r("surface.show")&&(r("surface.count"),r("surface.fill"),r("surface.pattern")),r("contour.show")&&(r("contour.color"),r("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){r(w)}),A(m,l,o,r,{prefix:"",cLetter:"c"}),l._length=null):l.visible=!1}ie.exports={supplyDefaults:function(m,l,t,o){T(m,l,0,o,function(r,n){return C.coerce(m,l,u,r,n)})},supplyIsoDefaults:T}},64943:function(ie,B,e){"use strict";ie.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(ie,B,e){"use strict";var C=e(50693),S=e(12663).axisHoverFormat,u=e(5386).fF,A=e(54532),T=e(9012),m=e(1426).extendFlat;ie.exports=m({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:u({editType:"calc"}),xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},C("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:A.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:m({},A.contours.x.show,{}),color:A.contours.x.color,width:A.contours.x.width,editType:"calc"},lightposition:{x:m({},A.lightposition.x,{dflt:1e5}),y:m({},A.lightposition.y,{dflt:1e5}),z:m({},A.lightposition.z,{dflt:0}),editType:"calc"},lighting:m({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},A.lighting),hoverinfo:m({},T.hoverinfo,{editType:"calc"}),showlegend:m({},T.showlegend,{dflt:!1})})},82932:function(ie,B,e){"use strict";var C=e(78803);ie.exports=function(S,u){u.intensity&&C(S,u,{vals:u.intensity,containerStr:"",cLetter:"c"})}},91134:function(ie,B,e){"use strict";var C=e(9330).gl_mesh3d,S=e(9330).delaunay_triangulate,u=e(9330).alpha_shape,A=e(9330).convex_hull,T=e(81697).parseColorScale,m=e(78614),l=e(21081).extractOpts,t=e(90060);function o(p,f,w){this.scene=p,this.uid=w,this.mesh=f,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var r=o.prototype;function n(p){for(var f=[],w=p.length,v=0;v<w;v++)f[v]=m(p[v]);return f}function a(p,f,w,v){for(var h=[],_=f.length,x=0;x<_;x++)h[x]=p.d2l(f[x],0,v)*w;return h}function s(p){for(var f=[],w=p.length,v=0;v<w;v++)f[v]=Math.round(p[v]);return f}function c(p,f){for(var w=p.length,v=0;v<w;v++)if(p[v]<=-.5||p[v]>=f-.5)return!1;return!0}r.handlePick=function(p){if(p.object===this.mesh){var f=p.index=p.data.index;p.traceCoordinate=p.data._cellCenter?p.data.dataCoordinate:[this.data.x[f],this.data.y[f],this.data.z[f]];var w=this.data.hovertext||this.data.text;return Array.isArray(w)&&void 0!==w[f]?p.textLabel=w[f]:w&&(p.textLabel=w),!0}},r.update=function(p){var f=this.scene,w=f.fullSceneLayout;this.data=p;var v,h=p.x.length,_=t(a(w.xaxis,p.x,f.dataScale[0],p.xcalendar),a(w.yaxis,p.y,f.dataScale[1],p.ycalendar),a(w.zaxis,p.z,f.dataScale[2],p.zcalendar));if(p.i&&p.j&&p.k){if(p.i.length!==p.j.length||p.j.length!==p.k.length||!c(p.i,h)||!c(p.j,h)||!c(p.k,h))return;v=t(s(p.i),s(p.j),s(p.k))}else v=0===p.alphahull?A(_):p.alphahull>0?u(p.alphahull,_):function(d,E){for(var k=["x","y","z"].indexOf(d),I=[],L=E.length,P=0;P<L;P++)I[P]=[E[P][(k+1)%3],E[P][(k+2)%3]];return S(I)}(p.delaunayaxis,_);var x={positions:_,cells:v,lightPosition:[p.lightposition.x,p.lightposition.y,p.lightposition.z],ambient:p.lighting.ambient,diffuse:p.lighting.diffuse,specular:p.lighting.specular,roughness:p.lighting.roughness,fresnel:p.lighting.fresnel,vertexNormalsEpsilon:p.lighting.vertexnormalsepsilon,faceNormalsEpsilon:p.lighting.facenormalsepsilon,opacity:p.opacity,contourEnable:p.contour.show,contourColor:m(p.contour.color).slice(0,3),contourWidth:p.contour.width,useFacetNormals:p.flatshading};if(p.intensity){var b=l(p);this.color="#fff";var M=p.intensitymode;x[M+"Intensity"]=p.intensity,x[M+"IntensityBounds"]=[b.min,b.max],x.colormap=T(p)}else p.vertexcolor?(this.color=p.vertexcolor[0],x.vertexColors=n(p.vertexcolor)):p.facecolor?(this.color=p.facecolor[0],x.cellColors=n(p.facecolor)):(this.color=p.color,x.meshColor=m(p.color));this.mesh.update(x)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ie.exports=function(p,f){var v=C({gl:p.glplot.gl}),h=new o(p,v,f.uid);return v._trace=h,h.update(f),p.glplot.add(v),h}},58669:function(ie,B,e){"use strict";var C=e(73972),S=e(71828),u=e(1586),A=e(2418);ie.exports=function(T,m,l,t){function o(n,a){return S.coerce(T,m,A,n,a)}function r(n){var a=n.map(function(s){var c=o(s);return c&&S.isArrayOrTypedArray(c)?c:null});return a.every(function(s){return s&&s.length===a[0].length})&&a}r(["x","y","z"])?(r(["i","j","k"]),(!m.i||m.j&&m.k)&&(!m.j||m.k&&m.i)&&(!m.k||m.i&&m.j)?(C.getComponentMethod("calendars","handleTraceDefaults")(T,m,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(n){o(n)}),o("contour.show")&&(o("contour.color"),o("contour.width")),"intensity"in T?(o("intensity"),o("intensitymode"),u(T,m,t,o,{prefix:"",cLetter:"c"})):(m.showscale=!1,"facecolor"in T?o("facecolor"):"vertexcolor"in T?o("vertexcolor"):o("color",l)),o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),m._length=null):m.visible=!1):m.visible=!1}},21164:function(ie,B,e){"use strict";ie.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(ie,B,e){"use strict";var C=e(71828).extendFlat,S=e(82196),u=e(12663).axisHoverFormat,A=e(79952).P,T=e(77914),m=e(22372),l=m.INCREASING.COLOR,t=m.DECREASING.COLOR,o=S.line;function r(n){return{line:{color:C({},o.color,{dflt:n}),width:o.width,dash:A,editType:"style"},editType:"style"}}ie.exports={xperiod:S.xperiod,xperiod0:S.xperiod0,xperiodalignment:S.xperiodalignment,xhoverformat:u("x"),yhoverformat:u("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:C({},o.width,{}),dash:C({},A,{}),editType:"style"},increasing:r(l),decreasing:r(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:C({},T.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(ie,B,e){"use strict";var C=e(71828),S=C._,u=e(89298),A=e(42973),T=e(50606).BADNUM;function m(t,o,r,n){return{o:t,h:o,l:r,c:n}}function l(t,o,r,n,a,s){for(var c=a.makeCalcdata(o,"open"),p=a.makeCalcdata(o,"high"),f=a.makeCalcdata(o,"low"),w=a.makeCalcdata(o,"close"),v=Array.isArray(o.text),h=Array.isArray(o.hovertext),_=!0,x=null,b=!!o.xperiodalignment,M=[],d=0;d<n.length;d++){var E=n[d],k=c[d],I=p[d],L=f[d],P=w[d];if(E!==T&&k!==T&&I!==T&&L!==T&&P!==T){P===k?null!==x&&P!==x&&(_=P>x):_=P>k,x=P;var R=s(k,I,L,P);R.pos=E,R.yc=(k+P)/2,R.i=d,R.dir=_?"increasing":"decreasing",R.x=R.pos,R.y=[L,I],b&&(R.orig_p=r[d]),v&&(R.tx=o.text[d]),h&&(R.htx=o.hovertext[d]),M.push(R)}else M.push({pos:E,empty:!0})}return o._extremes[a._id]=u.findExtremes(a,C.concat(f,p),{padded:!0}),M.length&&(M[0].t={labels:{open:S(t,"open:")+" ",high:S(t,"high:")+" ",low:S(t,"low:")+" ",close:S(t,"close:")+" "}}),M}ie.exports={calc:function(t,o){var r=u.getFromId(t,o.xaxis),n=u.getFromId(t,o.yaxis),a=function(w,v,h){var _=h._minDiff;if(!_){var x,b=w._fullData,M=[];for(_=1/0,x=0;x<b.length;x++){var d=b[x];if("ohlc"===d.type&&!0===d.visible&&d.xaxis===v._id){M.push(d);var E=v.makeCalcdata(d,"x");d._origX=E;var k=A(h,v,"x",E).vals;d._xcalc=k;var I=C.distinctVals(k).minDiff;I&&isFinite(I)&&(_=Math.min(_,I))}}for(_===1/0&&(_=1),x=0;x<M.length;x++)M[x]._minDiff=_}return _*h.tickwidth}(t,r,o),s=o._minDiff;o._minDiff=null;var c=o._origX;o._origX=null;var p=o._xcalc;o._xcalc=null;var f=l(t,o,c,p,n,m);return o._extremes[r._id]=u.findExtremes(r,p,{vpad:s/2}),f.length?(C.extendFlat(f[0].t,{wHover:s/2,tickLen:a}),f):[{t:{empty:!0}}]},calcCommon:l}},16169:function(ie,B,e){"use strict";var C=e(71828),S=e(14555),u=e(73927),A=e(2522);function T(m,l,t,o){t(o+".line.color"),t(o+".line.width",l.line.width),t(o+".line.dash",l.line.dash)}ie.exports=function(m,l,t,o){function r(n,a){return C.coerce(m,l,A,n,a)}S(m,l,r,o)?(u(m,l,o,r,{x:!0}),r("xhoverformat"),r("yhoverformat"),r("line.width"),r("line.dash"),T(0,l,r,"increasing"),T(0,l,r,"decreasing"),r("text"),r("hovertext"),r("tickwidth"),o._requestRangeslider[l.xaxis]=!0):l.visible=!1}},66449:function(ie,B,e){"use strict";var C=e(89298),S=e(71828),u=e(30211),A=e(7901),T=e(71828).fillText,m=e(22372),l={increasing:m.INCREASING.SYMBOL,decreasing:m.DECREASING.SYMBOL};function t(n,a,s,c){var p,f,w=n.cd,v=n.xa,h=w[0].trace,_=w[0].t,x=h.type,b="ohlc"===x?"l":"min",M="ohlc"===x?"h":"max",d=_.bPos||0,E=function(U){return U.pos+d-a},k=_.bdPos||_.tickLen,I=_.wHover,L=Math.min(1,k/Math.abs(v.r2c(v.range[1])-v.r2c(v.range[0])));function P(U){var Z=E(U);return u.inbox(Z-I,Z+I,p)}function R(U){var Z=U[b],Y=U[M];return Z===Y||u.inbox(Z-s,Y-s,p)}function z(U){return(P(U)+R(U))/2}p=n.maxHoverDistance-L,f=n.maxSpikeDistance-L;var $=u.getDistanceFunction(c,P,R,z);if(u.getClosest(w,$,n),!1===n.index)return null;var N=w[n.index];if(N.empty)return null;var W=h[N.dir],H=W.line.color;return n.color=A.opacity(H)&&W.line.width?H:W.fillcolor,n.x0=v.c2p(N.pos+d-k,!0),n.x1=v.c2p(N.pos+d+k,!0),n.xLabelVal=void 0!==N.orig_p?N.orig_p:N.pos,n.spikeDistance=z(N)*f/p,n.xSpike=v.c2p(N.pos,!0),n}function o(n,a,s,c){var p=n.cd,f=n.ya,w=p[0].trace,v=p[0].t,h=[],_=t(n,a,s,c);if(!_)return[];var x=p[_.index].hi||w.hoverinfo,b=x.split("+");if("all"!==x&&-1===b.indexOf("y"))return[];for(var M=["high","open","close","low"],d={},E=0;E<M.length;E++){var k,I=M[E],L=w[I][_.index],P=f.c2p(L,!0);L in d?(k=d[L]).yLabel+="<br>"+v.labels[I]+C.hoverLabelText(f,L,w.yhoverformat):((k=S.extendFlat({},_)).y0=k.y1=P,k.yLabelVal=L,k.yLabel=v.labels[I]+C.hoverLabelText(f,L,w.yhoverformat),k.name="",h.push(k),d[L]=k)}return h}function r(n,a,s,c){var p=n.cd,f=n.ya,w=p[0].trace,v=p[0].t,h=t(n,a,s,c);if(!h)return[];var _=p[h.index],x=h.index=_.i,b=_.dir;function M(R){return v.labels[R]+C.hoverLabelText(f,w[R][x],w.yhoverformat)}var d=_.hi||w.hoverinfo,E=d.split("+"),k="all"===d,I=k||-1!==E.indexOf("y"),L=k||-1!==E.indexOf("text"),P=I?[M("open"),M("high"),M("low"),M("close")+"  "+l[b]]:[];return L&&T(_,w,P),h.extraText=P.join("<br>"),h.y0=h.y1=f.c2p(_.yc,!0),[h]}ie.exports={hoverPoints:function(n,a,s,c){return n.cd[0].trace.hoverlabel.split?o(n,a,s,c):r(n,a,s,c)},hoverSplit:o,hoverOnPoints:r}},54186:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(ie,B,e){"use strict";var C=e(73972),S=e(71828);ie.exports=function(u,A,T,m){var l=T("x"),t=T("open"),o=T("high"),r=T("low"),n=T("close");if(T("hoverlabel.split"),C.getComponentMethod("calendars","handleTraceDefaults")(u,A,["x"],m),t&&o&&r&&n){var a=Math.min(t.length,o.length,r.length,n.length);return l&&(a=Math.min(a,S.minRowLength(l))),A._length=a,a}}},72314:function(ie,B,e){"use strict";var C=e(39898),S=e(71828);ie.exports=function(u,A,T,m){var l=A.yaxis,t=A.xaxis,o=!!t.rangebreaks;S.makeTraceGroups(m,T,"trace ohlc").each(function(r){var n=C.select(this),a=r[0],s=a.t;if(!0!==a.trace.visible||s.empty)n.remove();else{var c=s.tickLen,p=n.selectAll("path").data(S.identity);p.enter().append("path"),p.exit().remove(),p.attr("d",function(f){if(f.empty)return"M0,0Z";var w=t.c2p(f.pos-c,!0),v=t.c2p(f.pos+c,!0),h=o?(w+v)/2:t.c2p(f.pos,!0);return"M"+w+","+l.c2p(f.o,!0)+"H"+h+"M"+h+","+l.c2p(f.h,!0)+"V"+l.c2p(f.l,!0)+"M"+v+","+l.c2p(f.c,!0)+"H"+h})}})}},67324:function(ie){"use strict";ie.exports=function(B,e){var C,S=B.cd,u=B.xaxis,A=B.yaxis,T=[],m=S[0].t.bPos||0;if(!1===e)for(C=0;C<S.length;C++)S[C].selected=0;else for(C=0;C<S.length;C++){var l=S[C];e.contains([u.c2p(l.pos+m),A.c2p(l.yc)],null,l.i,B)?(T.push({pointNumber:l.i,x:u.c2d(l.pos),y:A.c2d(l.yc)}),l.selected=1):l.selected=0}return T}},53101:function(ie,B,e){"use strict";var C=e(39898),S=e(91424),u=e(7901);ie.exports=function(A,T,m){var l=m||C.select(A).selectAll("g.ohlclayer").selectAll("g.trace");l.style("opacity",function(t){return t[0].trace.opacity}),l.each(function(t){var o=t[0].trace;C.select(this).selectAll("path").each(function(r){if(!r.empty){var n=o[r.dir].line;C.select(this).style("fill","none").call(u.stroke,n.color).call(S.dashLine,n.dash,n.width).style("opacity",o.selectedpoints&&!r.selected?.3:1)}})})}},99506:function(ie,B,e){"use strict";var C=e(1426).extendFlat,S=e(9012),u=e(41940),A=e(50693),T=e(5386).fF,m=e(27670).Y,l=C({editType:"calc"},A("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});ie.exports={domain:m({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:C({},S.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:u({editType:"calc"}),tickfont:u({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:l,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(ie,B,e){"use strict";var C=e(27659).a0,S=e(45784),u="parcats";B.name=u,B.plot=function(A,T,m,l){var t=C(A.calcdata,u);t.length&&S(A,t[0],m,l)},B.clean=function(A,T,m,l){var t=l._has&&l._has("parcats"),o=T._has&&T._has("parcats");t&&!o&&l._paperdiv.selectAll(".parcats").remove()}},28699:function(ie,B,e){"use strict";var C=e(28984).wrap,S=e(52075).hasColorscale,u=e(78803),A=e(75744),T=e(91424),m=e(71828),l=e(92770);function t(n,a,s){n.valueInds.push(a),n.count+=s}function o(n,a,s){return{categoryInds:n,color:a,rawColor:s,valueInds:[],count:0}}function r(n,a,s){n.valueInds.push(a),n.count+=s}ie.exports=function(n,a){var s=m.filterVisible(a.dimensions);if(0===s.length)return[];var c,p,f,w=s.map(function(Y){var ae;if("trace"===Y.categoryorder)ae=null;else if("array"===Y.categoryorder)ae=Y.categoryarray;else{ae=A(Y.values);for(var re=!0,Q=0;Q<ae.length;Q++)if(!l(ae[Q])){re=!1;break}ae.sort(re?m.sorterAsc:void 0),"category descending"===Y.categoryorder&&(ae=ae.reverse())}return function(K,te){te=null==te?[]:te.map(function(Te){return Te});var oe={},ue={},fe=[];te.forEach(function(Te,be){oe[Te]=0,ue[Te]=be});for(var he=0;he<K.length;he++){var me,ke=K[he];void 0===oe[ke]?(oe[ke]=1,me=te.push(ke)-1,ue[ke]=me):(oe[ke]++,me=ue[ke]),fe.push(me)}var Pe=te.map(function(Te){return oe[Te]});return{uniqueValues:te,uniqueCounts:Pe,inds:fe}}(Y.values,ae)});c=m.isArrayOrTypedArray(a.counts)?a.counts:[a.counts],function(Y){var ae;if(function(Q){for(var K=new Array(Q.length),te=0;te<Q.length;te++){if(Q[te]<0||Q[te]>=Q.length||void 0!==K[Q[te]])return!1;K[Q[te]]=!0}return!0}(Y.map(function(Q){return Q.displayindex})))for(ae=0;ae<Y.length;ae++)Y[ae]._displayindex=Y[ae].displayindex;else for(ae=0;ae<Y.length;ae++)Y[ae]._displayindex=ae}(s),s.forEach(function(Y,ae){!function(re,Q){re._categoryarray=Q.uniqueValues,re._ticktext=null==re.ticktext?[]:re.ticktext.slice();for(var K=re._ticktext.length;K<Q.uniqueValues.length;K++)re._ticktext.push(Q.uniqueValues[K])}(Y,w[ae])});var v,h=a.line;h?(S(a,"line")&&u(n,a,{vals:a.line.color,containerStr:"line",cLetter:"c"}),v=T.tryColorscale(h)):v=m.identity;var _,x,b,M,d,E=s[0].values.length,k={},I=w.map(function(Y){return Y.inds});for(f=0,_=0;_<E;_++){var L=[];for(x=0;x<I.length;x++)L.push(I[x][_]);f+=p=c[_%c.length];var P=(b=_,M=void 0,d=void 0,m.isArrayOrTypedArray(h.color)?d=M=h.color[b%h.color.length]:M=h.color,{color:v(M),rawColor:d}),R=L+"-"+P.rawColor;void 0===k[R]&&(k[R]=o(L,P.color,P.rawColor)),r(k[R],_,p)}var z,Y,ae,re,Q,$=s.map(function(Y,ae){return{dimensionInd:ae,containerInd:Y._index,displayInd:Y._displayindex,dimensionLabel:Y.label,count:f,categories:[],dragX:null}});for(_=0;_<E;_++)for(p=c[_%c.length],x=0;x<$.length;x++){var N=$[x].containerInd,W=w[x].inds[_],H=$[x].categories;void 0===H[W]&&(H[W]={dimensionInd:x,categoryInd:z=W,categoryValue:a.dimensions[N]._categoryarray[W],displayInd:z,categoryLabel:a.dimensions[N]._ticktext[W],valueInds:[],count:0,dragY:null}),t(H[W],_,p)}return C((ae=k,re=f,Q=(Y=$).map(function(K){return K.categories.length}).reduce(function(K,te){return Math.max(K,te)}),{dimensions:Y,paths:ae,trace:void 0,maxCats:Q,count:re}))}},14647:function(ie,B,e){"use strict";var C=e(71828),S=e(52075).hasColorscale,u=e(1586),A=e(27670).c,T=e(85501),m=e(99506),l=e(94397);function t(o,r){function n(v,h){return C.coerce(o,r,m.dimensions,v,h)}var a=n("values"),s=n("visible");if(a&&a.length||(s=r.visible=!1),s){n("label"),n("displayindex",r._index);var c,p=o.categoryarray,f=Array.isArray(p)&&p.length>0;f&&(c="array");var w=n("categoryorder",c);"array"===w?(n("categoryarray"),n("ticktext")):(delete o.categoryarray,delete o.ticktext),f||"array"!==w||(r.categoryorder="trace")}}ie.exports=function(o,r,n,a){function s(v,h){return C.coerce(o,r,m,v,h)}var c=T(o,r,{name:"dimensions",handleItemDefaults:t}),p=function(v,h,_,x,b){b("line.shape"),b("line.hovertemplate");var M=b("line.color",x.colorway[0]);if(S(v,"line")&&C.isArrayOrTypedArray(M)){if(M.length)return b("line.colorscale"),u(v,h,x,b,{prefix:"line.",cLetter:"c"}),M.length;h.line.color=_}return 1/0}(o,r,n,a,s);A(r,a,s),Array.isArray(c)&&c.length||(r.visible=!1),l(r,c,"values",p),s("hoveron"),s("hovertemplate"),s("arrangement"),s("bundlecolors"),s("sortpaths"),s("counts");var f={family:a.font.family,size:Math.round(a.font.size),color:a.font.color};C.coerceFont(s,"labelfont",f);var w={family:a.font.family,size:Math.round(a.font.size/1.2),color:a.font.color};C.coerceFont(s,"tickfont",w)}},94873:function(ie,B,e){"use strict";ie.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(ie,B,e){"use strict";var C=e(39898),S=e(81684).k4,u=e(72391),A=e(30211),T=e(71828),m=T.strTranslate,l=e(91424),t=e(84267),o=e(63893);function r(re,Q,K,te){var oe=Q._context.staticPlot,ue=re.map(H.bind(0,Q,K)),fe=te.selectAll("g.parcatslayer").data([null]);fe.enter().append("g").attr("class","parcatslayer").style("pointer-events",oe?"none":"all");var he=fe.selectAll("g.trace.parcats").data(ue,n),me=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(pe){return m(pe.x,pe.y)}),me.append("g").attr("class","paths");var ke=he.select("g.paths").selectAll("path.path").data(function(pe){return pe.paths},n);ke.attr("fill",function(pe){return pe.model.color});var Pe=ke.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(pe){return pe.model.color}).attr("fill-opacity",0);h(Pe),ke.attr("d",function(pe){return pe.svgD}),Pe.empty()||ke.sort(s),ke.exit().remove(),ke.on("mouseover",c).on("mouseout",p).on("click",v),me.append("g").attr("class","dimensions");var Te=he.select("g.dimensions").selectAll("g.dimension").data(function(pe){return pe.dimensions},n);Te.enter().append("g").attr("class","dimension"),Te.attr("transform",function(pe){return m(pe.x,0)}),Te.exit().remove();var be=Te.selectAll("g.category").data(function(pe){return pe.categories},n),xe=be.enter().append("g").attr("class","category");be.attr("transform",function(pe){return m(0,pe.y)}),xe.append("rect").attr("class","catrect").attr("pointer-events","none"),be.select("rect.catrect").attr("fill","none").attr("width",function(pe){return pe.width}).attr("height",function(pe){return pe.height}),x(xe);var Ne=be.selectAll("rect.bandrect").data(function(pe){return pe.bands},n);Ne.each(function(){T.raiseToTop(this)}),Ne.attr("fill",function(pe){return pe.color});var Se=Ne.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(pe){return pe.color}).attr("fill-opacity",0);Ne.attr("fill",function(pe){return pe.color}).attr("width",function(pe){return pe.width}).attr("height",function(pe){return pe.height}).attr("y",function(pe){return pe.y}).attr("cursor",function(pe){return"fixed"===pe.parcatsViewModel.arrangement?"default":"perpendicular"===pe.parcatsViewModel.arrangement?"ns-resize":"move"}),b(Se),Ne.exit().remove(),xe.append("text").attr("class","catlabel").attr("pointer-events","none");var Ce=Q._fullLayout.paper_bgcolor;be.select("text.catlabel").attr("text-anchor",function(pe){return a(pe)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",o.makeTextShadow(Ce)).style("fill","rgb(0, 0, 0)").attr("x",function(pe){return a(pe)?pe.width+5:-5}).attr("y",function(pe){return pe.height/2}).text(function(pe){return pe.model.categoryLabel}).each(function(pe){l.font(C.select(this),pe.parcatsViewModel.categorylabelfont),o.convertToTspans(C.select(this),Q)}),xe.append("text").attr("class","dimlabel"),be.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(pe){return"fixed"===pe.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(pe){return pe.width/2}).attr("y",-5).text(function(pe,de){return 0===de?pe.parcatsViewModel.model.dimensions[pe.model.dimensionInd].dimensionLabel:null}).each(function(pe){l.font(C.select(this),pe.parcatsViewModel.labelfont)}),be.selectAll("rect.bandrect").on("mouseover",I).on("mouseout",L),be.exit().remove(),Te.call(C.behavior.drag().origin(function(pe){return{x:pe.x,y:0}}).on("dragstart",P).on("drag",R).on("dragend",z)),he.each(function(pe){pe.traceSelection=C.select(this),pe.pathSelection=C.select(this).selectAll("g.paths").selectAll("path.path"),pe.dimensionSelection=C.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}function n(re){return re.key}function a(re){return re.model.dimensionInd===re.parcatsViewModel.dimensions[re.parcatsViewModel.dimensions.length-1].model.dimensionInd}function s(re,Q){return re.model.rawColor>Q.model.rawColor?1:re.model.rawColor<Q.model.rawColor?-1:0}function c(re){if(!re.parcatsViewModel.dragDimension&&-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip")){T.raiseToTop(this),_(C.select(this));var Q=f(re),K=w(re);if(re.parcatsViewModel.graphDiv.emit("plotly_hover",{points:Q,event:C.event,constraints:K}),-1===re.parcatsViewModel.hoverinfoItems.indexOf("none")){var te,oe,ue,fe=C.mouse(this)[0],he=re.parcatsViewModel.graphDiv,me=re.parcatsViewModel.trace,ke=he._fullLayout,Pe=ke._paperdiv.node().getBoundingClientRect(),Te=re.parcatsViewModel.graphDiv.getBoundingClientRect();for(ue=0;ue<re.leftXs.length-1;ue++)if(re.leftXs[ue]+re.dimWidths[ue]-2<=fe&&fe<=re.leftXs[ue+1]+2){var be=re.parcatsViewModel.dimensions[ue];te=(be.x+be.width+re.parcatsViewModel.dimensions[ue+1].x)/2,oe=(re.topYs[ue]+re.topYs[ue+1]+re.height)/2;break}var Ne=re.parcatsViewModel.x+te,Se=re.parcatsViewModel.y+oe,Ce=t.mostReadable(re.model.color,["black","white"]),pe=re.model.count,de=pe/re.parcatsViewModel.model.count,se={countLabel:pe,probabilityLabel:de.toFixed(3)},we=[];-1!==re.parcatsViewModel.hoverinfoItems.indexOf("count")&&we.push(["Count:",se.countLabel].join(" ")),-1!==re.parcatsViewModel.hoverinfoItems.indexOf("probability")&&we.push(["P:",se.probabilityLabel].join(" "));var Re=we.join("<br>"),Ee=C.mouse(he)[0];A.loneHover({trace:me,x:Ne-Pe.left+Te.left,y:Se-Pe.top+Te.top,text:Re,color:re.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ce,idealAlign:Ee<Ne?"right":"left",hovertemplate:(me.line||{}).hovertemplate,hovertemplateLabels:se,eventData:[{data:me._input,fullData:me,count:pe,probability:de}]},{container:ke._hoverlayer.node(),outerContainer:ke._paper.node(),gd:he})}}}function p(re){if(!re.parcatsViewModel.dragDimension&&(h(C.select(this)),A.loneUnhover(re.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),re.parcatsViewModel.pathSelection.sort(s),-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var Q=f(re),K=w(re);re.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:Q,event:C.event,constraints:K})}}function f(re){for(var Q=[],K=$(re.parcatsViewModel),te=0;te<re.model.valueInds.length;te++)Q.push({curveNumber:K,pointNumber:re.model.valueInds[te]});return Q}function w(re){for(var Q={},K=re.parcatsViewModel.model.dimensions,te=0;te<K.length;te++){var oe=K[te];Q[oe.containerInd]=oe.categories[re.model.categoryInds[te]].categoryValue}return void 0!==re.model.rawColor&&(Q.color=re.model.rawColor),Q}function v(re){if(-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip")){var Q=f(re),K=w(re);re.parcatsViewModel.graphDiv.emit("plotly_click",{points:Q,event:C.event,constraints:K})}}function h(re){re.attr("fill",function(Q){return Q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function _(re){re.attr("fill-opacity",.8).attr("stroke",function(Q){return t.mostReadable(Q.model.color,["black","white"])}).attr("stroke-width",.3)}function x(re){re.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function b(re){re.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function M(re){var K=re.categoryViewModel.model.dimensionInd,te=re.categoryViewModel.model.categoryInd;return re.parcatsViewModel.pathSelection.filter(function(oe){return oe.model.categoryInds[K]===te&&oe.model.color===re.color})}function d(re,Q,K){var te=C.select(re).datum(),oe=te.categoryViewModel.model,ue=te.parcatsViewModel.graphDiv,fe=C.select(re.parentNode).selectAll("rect.bandrect"),he=[];fe.each(function(ke){M(ke).each(function(Pe){Array.prototype.push.apply(he,f(Pe))})});var me={};me[oe.dimensionInd]=oe.categoryValue,ue.emit(Q,{points:he,event:K,constraints:me})}function E(re,Q,K){var te=C.select(re).datum(),oe=te.categoryViewModel.model,ue=te.parcatsViewModel.graphDiv,fe=M(te),he=[];fe.each(function(ke){Array.prototype.push.apply(he,f(ke))});var me={};me[oe.dimensionInd]=oe.categoryValue,void 0!==te.rawColor&&(me.color=te.rawColor),ue.emit(Q,{points:he,event:K,constraints:me})}function k(re,Q,K){re._fullLayout._calcInverseTransform(re);var te,oe,ue=re._fullLayout._invScaleX,fe=re._fullLayout._invScaleY,he=C.select(K.parentNode).select("rect.catrect"),me=he.node().getBoundingClientRect(),ke=he.datum(),Pe=ke.parcatsViewModel,be=Pe.trace,xe=me.top+me.height/2;Pe.dimensions.length>1&&Pe.model.dimensions[ke.model.dimensionInd].displayInd===Pe.dimensions.length-1?(te=me.left,oe="left"):(te=me.left+me.width,oe="right");var Ne=ke.model.count,Se=ke.model.categoryLabel,Ce=Ne/ke.parcatsViewModel.model.count,pe={countLabel:Ne,categoryLabel:Se,probabilityLabel:Ce.toFixed(3)},de=[];-1!==ke.parcatsViewModel.hoverinfoItems.indexOf("count")&&de.push(["Count:",pe.countLabel].join(" ")),-1!==ke.parcatsViewModel.hoverinfoItems.indexOf("probability")&&de.push(["P("+pe.categoryLabel+"):",pe.probabilityLabel].join(" "));var se=de.join("<br>");return{trace:be,x:ue*(te-Q.left),y:fe*(xe-Q.top),text:se,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:oe,hovertemplate:be.hovertemplate,hovertemplateLabels:pe,eventData:[{data:be._input,fullData:be,count:Ne,category:Se,probability:Ce}]}}function I(re){if(!re.parcatsViewModel.dragDimension&&-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(C.mouse(this)[1]<-1)return;var Q,K=re.parcatsViewModel.graphDiv,te=K._fullLayout,oe=te._paperdiv.node().getBoundingClientRect(),ue=re.parcatsViewModel.hoveron,fe=this;"color"===ue?(_(ke=M(me=C.select(he=fe).datum())),ke.each(function(){T.raiseToTop(this)}),C.select(he.parentNode).selectAll("rect.bandrect").filter(function(Pe){return Pe.color===me.color}).each(function(){T.raiseToTop(this),C.select(this).attr("stroke","black").attr("stroke-width",1.5)}),E(fe,"plotly_hover",C.event)):(function(he){C.select(he.parentNode).selectAll("rect.bandrect").each(function(me){var ke=M(me);_(ke),ke.each(function(){T.raiseToTop(this)})}),C.select(he.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(fe),d(fe,"plotly_hover",C.event)),-1===re.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===ue?Q=k(K,oe,fe):"color"===ue?Q=function(he,me,ke){he._fullLayout._calcInverseTransform(he);var Pe,Te,be=he._fullLayout._invScaleX,xe=he._fullLayout._invScaleY,Ne=ke.getBoundingClientRect(),Se=C.select(ke).datum(),Ce=Se.categoryViewModel,pe=Ce.parcatsViewModel,se=pe.trace,we=Ne.y+Ne.height/2;pe.dimensions.length>1&&pe.model.dimensions[Ce.model.dimensionInd].displayInd===pe.dimensions.length-1?(Pe=Ne.left,Te="left"):(Pe=Ne.left+Ne.width,Te="right");var Re=Ce.model.categoryLabel,Ee=Se.parcatsViewModel.model.count,Ue=0;Se.categoryViewModel.bands.forEach(function(st){st.color===Se.color&&(Ue+=st.count)});var $e=Ce.model.count,ve=0;pe.pathSelection.each(function(st){st.model.color===Se.color&&(ve+=st.model.count)});var Ie=Ue/Ee,De=Ue/ve,ze=Ue/$e,Ge={countLabel:Ee,categoryLabel:Re,probabilityLabel:Ie.toFixed(3)},He=[];-1!==Ce.parcatsViewModel.hoverinfoItems.indexOf("count")&&He.push(["Count:",Ge.countLabel].join(" ")),-1!==Ce.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(He.push("P(color \u2229 "+Re+"): "+Ge.probabilityLabel),He.push("P("+Re+" | color): "+De.toFixed(3)),He.push("P(color | "+Re+"): "+ze.toFixed(3)));var Ke=He.join("<br>"),et=t.mostReadable(Se.color,["black","white"]);return{trace:se,x:be*(Pe-me.left),y:xe*(we-me.top),text:Ke,color:Se.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:et,fontSize:10,idealAlign:Te,hovertemplate:se.hovertemplate,hovertemplateLabels:Ge,eventData:[{data:se._input,fullData:se,category:Re,count:Ee,probability:Ie,categorycount:$e,colorcount:ve,bandcolorcount:Ue}]}}(K,oe,fe):"dimension"===ue&&(Q=function(he,me,ke){var Pe=[];return C.select(ke.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){Pe.push(k(he,me,this))}),Pe}(K,oe,fe)),Q&&A.loneHover(Q,{container:te._hoverlayer.node(),outerContainer:te._paper.node(),gd:K}))}var he,me,ke}function L(re){var Q=re.parcatsViewModel;Q.dragDimension||(h(Q.pathSelection),x(Q.dimensionSelection.selectAll("g.category")),b(Q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),A.loneUnhover(Q.graphDiv._fullLayout._hoverlayer.node()),Q.pathSelection.sort(s),-1!==Q.hoverinfoItems.indexOf("skip"))||("color"===re.parcatsViewModel.hoveron?E(this,"plotly_unhover",C.event):d(this,"plotly_unhover",C.event))}function P(re){"fixed"!==re.parcatsViewModel.arrangement&&(re.dragDimensionDisplayInd=re.model.displayInd,re.initialDragDimensionDisplayInds=re.parcatsViewModel.model.dimensions.map(function(Q){return Q.displayInd}),re.dragHasMoved=!1,re.dragCategoryDisplayInd=null,C.select(this).selectAll("g.category").select("rect.catrect").each(function(Q){var K=C.mouse(this)[0],te=C.mouse(this)[1];-2<=K&&K<=Q.width+2&&-2<=te&&te<=Q.height+2&&(re.dragCategoryDisplayInd=Q.model.displayInd,re.initialDragCategoryDisplayInds=re.model.categories.map(function(oe){return oe.displayInd}),Q.model.dragY=Q.y,T.raiseToTop(this.parentNode),C.select(this.parentNode).selectAll("rect.bandrect").each(function(oe){oe.y<te&&te<=oe.y+oe.height&&(re.potentialClickBand=this)}))}),re.parcatsViewModel.dragDimension=re,A.loneUnhover(re.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function R(re){if("fixed"!==re.parcatsViewModel.arrangement&&(re.dragHasMoved=!0,null!==re.dragDimensionDisplayInd)){var Q=re.dragDimensionDisplayInd,K=Q-1,te=Q+1,oe=re.parcatsViewModel.dimensions[Q];if(null!==re.dragCategoryDisplayInd){var ue=oe.categories[re.dragCategoryDisplayInd];ue.model.dragY+=C.event.dy;var fe=ue.model.dragY,he=ue.model.displayInd,me=oe.categories,ke=me[he-1],Pe=me[he+1];void 0!==ke&&fe<ke.y+ke.height/2&&(ue.model.displayInd=ke.model.displayInd,ke.model.displayInd=he),void 0!==Pe&&fe+ue.height>Pe.y+Pe.height/2&&(ue.model.displayInd=Pe.model.displayInd,Pe.model.displayInd=he),re.dragCategoryDisplayInd=ue.model.displayInd}if(null===re.dragCategoryDisplayInd||"freeform"===re.parcatsViewModel.arrangement){oe.model.dragX=C.event.x;var Te=re.parcatsViewModel.dimensions[K],be=re.parcatsViewModel.dimensions[te];void 0!==Te&&oe.model.dragX<Te.x+Te.width&&(oe.model.displayInd=Te.model.displayInd,Te.model.displayInd=Q),void 0!==be&&oe.model.dragX+oe.width>be.x&&(oe.model.displayInd=be.model.displayInd,be.model.displayInd=re.dragDimensionDisplayInd),re.dragDimensionDisplayInd=oe.model.displayInd}Y(re.parcatsViewModel),Z(re.parcatsViewModel),W(re.parcatsViewModel),N(re.parcatsViewModel)}}function z(re){if("fixed"!==re.parcatsViewModel.arrangement&&null!==re.dragDimensionDisplayInd){C.select(this).selectAll("text").attr("font-weight","normal");var Q={},K=$(re.parcatsViewModel),te=re.parcatsViewModel.model.dimensions.map(function(Pe){return Pe.displayInd}),oe=re.initialDragDimensionDisplayInds.some(function(Pe,Te){return Pe!==te[Te]});oe&&te.forEach(function(Pe,Te){Q["dimensions["+re.parcatsViewModel.model.dimensions[Te].containerInd+"].displayindex"]=Pe});var ue=!1;if(null!==re.dragCategoryDisplayInd){var fe=re.model.categories.map(function(Pe){return Pe.displayInd});if(ue=re.initialDragCategoryDisplayInds.some(function(Pe,Te){return Pe!==fe[Te]})){var he=re.model.categories.slice().sort(function(Pe,Te){return Pe.displayInd-Te.displayInd}),me=he.map(function(Pe){return Pe.categoryValue}),ke=he.map(function(Pe){return Pe.categoryLabel});Q["dimensions["+re.model.containerInd+"].categoryarray"]=[me],Q["dimensions["+re.model.containerInd+"].ticktext"]=[ke],Q["dimensions["+re.model.containerInd+"].categoryorder"]="array"}}-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!re.dragHasMoved&&re.potentialClickBand&&("color"===re.parcatsViewModel.hoveron?E(re.potentialClickBand,"plotly_click",C.event.sourceEvent):d(re.potentialClickBand,"plotly_click",C.event.sourceEvent)),re.model.dragX=null,null!==re.dragCategoryDisplayInd&&(re.parcatsViewModel.dimensions[re.dragDimensionDisplayInd].categories[re.dragCategoryDisplayInd].model.dragY=null,re.dragCategoryDisplayInd=null),re.dragDimensionDisplayInd=null,re.parcatsViewModel.dragDimension=null,re.dragHasMoved=null,re.potentialClickBand=null,Y(re.parcatsViewModel),Z(re.parcatsViewModel),C.transition().duration(300).ease("cubic-in-out").each(function(){W(re.parcatsViewModel,!0),N(re.parcatsViewModel,!0)}).each("end",function(){(oe||ue)&&u.restyle(re.parcatsViewModel.graphDiv,Q,[K])})}}function $(re){for(var Q,K=re.graphDiv._fullData,te=0;te<K.length;te++)if(re.key===K[te].uid){Q=te;break}return Q}function N(re,Q){var K;void 0===Q&&(Q=!1),re.pathSelection.data(function(te){return te.paths},n),(K=re.pathSelection,Q?K.transition():K).attr("d",function(te){return te.svgD})}function W(re,Q){function K(fe){return Q?fe.transition():fe}void 0===Q&&(Q=!1),re.dimensionSelection.data(function(fe){return fe.dimensions},n);var te=re.dimensionSelection.selectAll("g.category").data(function(fe){return fe.categories},n);K(re.dimensionSelection).attr("transform",function(fe){return m(fe.x,0)}),K(te).attr("transform",function(fe){return m(0,fe.y)}),te.select(".dimlabel").text(function(fe,he){return 0===he?fe.parcatsViewModel.model.dimensions[fe.model.dimensionInd].dimensionLabel:null}),te.select(".catlabel").attr("text-anchor",function(fe){return a(fe)?"start":"end"}).attr("x",function(fe){return a(fe)?fe.width+5:-5}).each(function(fe){var he,me;a(fe)?(he=fe.width+5,me="start"):(he=-5,me="end"),C.select(this).selectAll("tspan").attr("x",he).attr("text-anchor",me)});var oe=te.selectAll("rect.bandrect").data(function(fe){return fe.bands},n),ue=oe.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(fe){return fe.color}).attr("fill-opacity",0);oe.attr("fill",function(fe){return fe.color}).attr("width",function(fe){return fe.width}).attr("height",function(fe){return fe.height}).attr("y",function(fe){return fe.y}),b(ue),oe.each(function(){T.raiseToTop(this)}),oe.exit().remove()}function H(re,Q,K){var te,oe=K[0],ue=Q.margin||{l:80,r:80,t:100,b:80},fe=oe.trace,he=fe.domain,me=Q.width,ke=Q.height,Pe=Math.floor(me*(he.x[1]-he.x[0])),Te=Math.floor(ke*(he.y[1]-he.y[0])),be=he.x[0]*me+ue.l,xe=Q.height-he.y[1]*Q.height+ue.t,Ne=fe.line.shape;te="all"===fe.hoverinfo?["count","probability"]:(fe.hoverinfo||"").split("+");var Se={trace:fe,key:fe.uid,model:oe,x:be,y:xe,width:Pe,height:Te,hoveron:fe.hoveron,hoverinfoItems:te,arrangement:fe.arrangement,bundlecolors:fe.bundlecolors,sortpaths:fe.sortpaths,labelfont:fe.labelfont,categorylabelfont:fe.tickfont,pathShape:Ne,dragDimension:null,margin:ue,paths:[],dimensions:[],graphDiv:re,traceSelection:null,pathSelection:null,dimensionSelection:null};return oe.dimensions&&(Y(Se),Z(Se)),Se}function U(re,Q,K,te,oe){var ue,fe,he=[],me=[];for(fe=0;fe<K.length-1;fe++)ue=S(K[fe]+re[fe],re[fe+1]),he.push(ue(oe)),me.push(ue(1-oe));var ke="M "+re[0]+","+Q[0];for(ke+="l"+K[0]+",0 ",fe=1;fe<K.length;fe++)ke+="C"+he[fe-1]+","+Q[fe-1]+" "+me[fe-1]+","+Q[fe]+" "+re[fe]+","+Q[fe],ke+="l"+K[fe]+",0 ";for(ke+="l0,"+te+" ",ke+="l -"+K[K.length-1]+",0 ",fe=K.length-2;fe>=0;fe--)ke+="C"+me[fe]+","+(Q[fe+1]+te)+" "+he[fe]+","+(Q[fe]+te)+" "+(re[fe]+K[fe])+","+(Q[fe]+te),ke+="l-"+K[fe]+",0 ";return ke+"Z"}function Z(re){var Q=re.dimensions,K=re.model,te=Q.map(function(Ge){return Ge.categories.map(function(He){return He.y})}),oe=re.model.dimensions.map(function(Ge){return Ge.categories.map(function(He){return He.displayInd})}),ue=re.model.dimensions.map(function(Ge){return Ge.displayInd}),fe=re.dimensions.map(function(Ge){return Ge.model.dimensionInd}),he=Q.map(function(Ge){return Ge.x}),me=Q.map(function(Ge){return Ge.width}),ke=[];for(var Pe in K.paths)K.paths.hasOwnProperty(Pe)&&ke.push(K.paths[Pe]);function Te(Ge){var He=Ge.categoryInds.map(function(Ke,et){return oe[et][Ke]});return fe.map(function(Ke){return He[Ke]})}ke.sort(function(Ge,He){var Ke=Te(Ge),et=Te(He);return"backward"===re.sortpaths&&(Ke.reverse(),et.reverse()),Ke.push(Ge.valueInds[0]),et.push(He.valueInds[0]),re.bundlecolors&&(Ke.unshift(Ge.rawColor),et.unshift(He.rawColor)),Ke<et?-1:Ke>et?1:0});for(var be=new Array(ke.length),xe=Q[0].model.count,Ne=Q[0].categories.map(function(Ge){return Ge.height}).reduce(function(Ge,He){return Ge+He}),Se=0;Se<ke.length;Se++){var Ce,pe=ke[Se];Ce=xe>0?Ne*(pe.count/xe):0;for(var de,se=new Array(te.length),we=0;we<pe.categoryInds.length;we++){var Ee=oe[we][pe.categoryInds[we]],Ue=ue[we];se[Ue]=te[Ue][Ee],te[Ue][Ee]+=Ce;var $e=re.dimensions[Ue].categories[Ee],ve=$e.bands.length,Ie=$e.bands[ve-1];if(void 0===Ie||pe.rawColor!==Ie.rawColor){var De=void 0===Ie?0:Ie.y+Ie.height;$e.bands.push({key:De,color:pe.color,rawColor:pe.rawColor,height:Ce,width:$e.width,count:pe.count,y:De,categoryViewModel:$e,parcatsViewModel:re})}else{var ze=$e.bands[ve-1];ze.height+=Ce,ze.count+=pe.count}}de=U(he,se,me,Ce,"hspline"===re.pathShape?.5:0),be[Se]={key:pe.valueInds[0],model:pe,height:Ce,leftXs:he,topYs:se,dimWidths:me,svgD:de,parcatsViewModel:re}}re.paths=be}function Y(re){var Q=re.model.dimensions.map(function(fe){return{displayInd:fe.displayInd,dimensionInd:fe.dimensionInd}});Q.sort(function(fe,he){return fe.displayInd-he.displayInd});var K=[];for(var te in Q)K.push(ae(re,re.model.dimensions[Q[te].dimensionInd]));re.dimensions=K}function ae(re,Q){var K,te=re.model.dimensions.length;K=40+(te>1?(re.width-80-16)/(te-1):0)*Q.displayInd;var ue,fe,he,ke,Pe=[],Te=re.model.maxCats,be=Q.categories.length,xe=Q.count,Ne=re.height-8*(Te-1),Se=8*(Te-be)/2,Ce=Q.categories.map(function(pe){return{displayInd:pe.displayInd,categoryInd:pe.categoryInd}});for(Ce.sort(function(pe,de){return pe.displayInd-de.displayInd}),ke=0;ke<be;ke++)he={key:(fe=Q.categories[Ce[ke].categoryInd]).valueInds[0],model:fe,width:16,height:ue=xe>0?fe.count/xe*Ne:0,y:null!==fe.dragY?fe.dragY:Se,bands:[],parcatsViewModel:re},Se=Se+ue+8,Pe.push(he);return{key:Q.dimensionInd,x:null!==Q.dragX?Q.dragX:K,y:0,width:16,model:Q,categories:Pe,parcatsViewModel:re,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}ie.exports=function(re,Q,K,te){r(K,re,te,Q)}},45784:function(ie,B,e){"use strict";var C=e(45460);ie.exports=function(S,u,A,T){var m=S._fullLayout,t=m._size;C(S,m._paper,u,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},A,T)}},73362:function(ie,B,e){"use strict";var C=e(50693),S=e(13838),u=e(41940),A=e(27670).Y,T=e(1426).extendFlat,m=e(44467).templatedArray;ie.exports={domain:A({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:u({editType:"plot"}),tickfont:u({editType:"plot"}),rangefont:u({editType:"plot"}),dimensions:m("dimension",{label:{valType:"string",editType:"plot"},tickvals:T({},S.tickvals,{editType:"plot"}),ticktext:T({},S.ticktext,{editType:"plot"}),tickformat:T({},S.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:T({editType:"calc"},C("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(ie,B,e){"use strict";var C=e(25706),S=e(39898),u=e(28984).keyFun,A=e(28984).repeat,T=e(71828).sorterAsc,m=e(71828).strTranslate,l=C.bar.snapRatio;function t(k,I){return k*(1-l)+I*l}var o=C.bar.snapClose;function r(k,I){return k*(1-o)+I*o}function n(k,I,L,P){if(function(ae,re){for(var Q=0;Q<re.length;Q++)if(ae>=re[Q][0]&&ae<=re[Q][1])return!0;return!1}(L,P))return L;var R=k?-1:1,z=0,$=I.length-1;if(R<0){var N=z;z=$,$=N}for(var W=I[z],H=W,U=z;R*U<R*$;U+=R){var Z=U+R,Y=I[Z];if(R*L<R*r(W,Y))return t(W,H);if(R*L<R*Y||Z===$)return t(Y,W);H=W,W=Y}}function a(k){k.attr("x",-C.bar.captureWidth/2).attr("width",C.bar.captureWidth)}function s(k){k.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function c(k){if(!k.brush.filterSpecified)return"0,"+k.height;for(var I,L,P,R=p(k.brush.filter.getConsolidated(),k.height),z=[0],$=R.length?R[0][0]:null,N=0;N<R.length;N++)L=(I=R[N])[1]-I[0],z.push($),z.push(L),(P=N+1)<R.length&&($=R[P][0]-I[1]);return z.push(k.height),z}function p(k,I){return k.map(function(L){return L.map(function(P){return Math.max(0,P*I)}).sort(T)})}function f(){S.select(document.body).style("cursor",null)}function w(k){k.attr("stroke-dasharray",c)}function v(k,I){var L=S.select(k).selectAll(".highlight, .highlight-shadow");w(I?L.transition().duration(C.bar.snapDuration).each("end",I):L)}function h(k,I){var L,P=k.brush,R=NaN,z={};if(P.filterSpecified){var $=k.height,N=P.filter.getConsolidated(),W=p(N,$),H=NaN,U=NaN,Z=NaN;for(L=0;L<=W.length;L++){var Y=W[L];if(Y&&Y[0]<=I&&I<=Y[1]){H=L;break}if(U=L?L-1:NaN,Y&&Y[0]>I){Z=L;break}}if(R=H,isNaN(R)&&(R=isNaN(U)||isNaN(Z)?isNaN(U)?Z:U:I-W[U][1]<W[Z][0]-I?U:Z),!isNaN(R)){var ae=W[R],re=function(oe,ue){var fe=C.bar.handleHeight;if(!(ue>oe[1]+fe||ue<oe[0]-fe))return ue>=.9*oe[1]+.1*oe[0]?"n":ue<=.9*oe[0]+.1*oe[1]?"s":"ns"}(ae,I);re&&(z.interval=N[R],z.intervalPix=ae,z.region=re)}}if(k.ordinal&&!z.region){var Q=k.unitTickvals,K=k.unitToPaddedPx.invert(I);for(L=0;L<Q.length;L++){var te=[.25*Q[Math.max(L-1,0)]+.75*Q[L],.25*Q[Math.min(L+1,Q.length-1)]+.75*Q[L]];if(K>=te[0]&&K<=te[1]){z.clickableOrdinalRange=te;break}}}return z}function _(k,I){S.event.sourceEvent.stopPropagation();var L=I.height-S.mouse(k)[1]-2*C.verticalPadding,P=I.brush.svgBrush;P.wasDragged=!0,P._dragging=!0,P.newExtent=P.grabbingBar?[L-P.grabPoint,L+P.barLength-P.grabPoint].map(I.unitToPaddedPx.invert):[P.startExtent,I.unitToPaddedPx.invert(L)].sort(T),I.brush.filterSpecified=!0,P.extent=P.stayingIntervals.concat([P.newExtent]),P.brushCallback(I),v(k.parentNode)}function x(k,I){var L=h(I,I.height-S.mouse(k)[1]-2*C.verticalPadding),P="crosshair";L.clickableOrdinalRange?P="pointer":L.region&&(P=L.region+"-resize"),S.select(document.body).style("cursor",P)}function b(k){k.on("mousemove",function(I){S.event.preventDefault(),I.parent.inBrushDrag||x(this,I)}).on("mouseleave",function(I){I.parent.inBrushDrag||f()}).call(S.behavior.drag().on("dragstart",function(I){!function(L,P){S.event.sourceEvent.stopPropagation();var R=P.height-S.mouse(L)[1]-2*C.verticalPadding,z=P.unitToPaddedPx.invert(R),$=P.brush,N=h(P,R),W=N.interval,H=$.svgBrush;if(H.wasDragged=!1,H.grabbingBar="ns"===N.region,H.grabbingBar){var U=W.map(P.unitToPaddedPx);H.grabPoint=R-U[0]-C.verticalPadding,H.barLength=U[1]-U[0]}H.clickableOrdinalRange=N.clickableOrdinalRange,H.stayingIntervals=P.multiselect&&$.filterSpecified?$.filter.getConsolidated():[],W&&(H.stayingIntervals=H.stayingIntervals.filter(function(Z){return Z[0]!==W[0]&&Z[1]!==W[1]})),H.startExtent=N.region?W["s"===N.region?1:0]:z,P.parent.inBrushDrag=!0,H.brushStartCallback()}(this,I)}).on("drag",function(I){_(this,I)}).on("dragend",function(I){!function(L,P){var R=P.brush,z=R.filter,$=R.svgBrush;$._dragging||(x(L,P),_(L,P),P.brush.svgBrush.wasDragged=!1),$._dragging=!1,S.event.sourceEvent.stopPropagation();var N=$.grabbingBar;if($.grabbingBar=!1,$.grabLocation=void 0,P.parent.inBrushDrag=!1,f(),!$.wasDragged)return $.wasDragged=void 0,$.clickableOrdinalRange?R.filterSpecified&&P.multiselect?$.extent.push($.clickableOrdinalRange):($.extent=[$.clickableOrdinalRange],R.filterSpecified=!0):N?($.extent=$.stayingIntervals,0===$.extent.length&&d(R)):d(R),$.brushCallback(P),v(L.parentNode),void $.brushEndCallback(R.filterSpecified?z.getConsolidated():[]);var W=function(){z.set(z.getConsolidated())};if(P.ordinal){var H=P.unitTickvals;H[H.length-1]<H[0]&&H.reverse(),$.newExtent=[n(0,H,$.newExtent[0],$.stayingIntervals),n(1,H,$.newExtent[1],$.stayingIntervals)];var U=$.newExtent[1]>$.newExtent[0];$.extent=$.stayingIntervals.concat(U?[$.newExtent]:[]),$.extent.length||d(R),$.brushCallback(P),U?v(L.parentNode,W):(W(),v(L.parentNode))}else W();$.brushEndCallback(R.filterSpecified?z.getConsolidated():[])}(this,I)}))}function M(k,I){return k[0]-I[0]}function d(k){k.filterSpecified=!1,k.svgBrush.extent=[[-1/0,1/0]]}function E(k){for(var I,L=k.slice(),P=[],R=L.shift();R;){for(I=R.slice();(R=L.shift())&&R[0]<=I[1];)I[1]=Math.max(I[1],R[1]);P.push(I)}return 1===P.length&&P[0][0]>P[0][1]&&(P=[]),P}ie.exports={makeBrush:function(k,I,L,P,R,z){var $,W,H,U,N=(U=[],{set:function(Z){1===(U=Z.map(function(Y){return Y.slice().sort(T)}).sort(M)).length&&U[0][0]===-1/0&&U[0][1]===1/0&&(U=[[0,-1]]),W=E(U),H=U.reduce(function(Y,ae){return[Math.min(Y[0],ae[0]),Math.max(Y[1],ae[1])]},[1/0,-1/0])},get:function(){return U.slice()},getConsolidated:function(){return W},getBounds:function(){return H}});return N.set(L),{filter:N,filterSpecified:I,svgBrush:{extent:[],brushStartCallback:P,brushCallback:($=R,function(W){var H=W.brush,Z=H.svgBrush.extent.map(function(ae){return ae.slice()}).slice();H.filter.set(Z),$()}),brushEndCallback:z}}},ensureAxisBrush:function(k,I,L){var P=k.selectAll("."+C.cn.axisBrush).data(A,u);P.enter().append("g").classed(C.cn.axisBrush,!0),function(R,z,$){var N=$._context.staticPlot,W=R.selectAll(".background").data(A);W.enter().append("rect").classed("background",!0).call(a).call(s).style("pointer-events",N?"none":"auto").attr("transform",m(0,C.verticalPadding)),W.call(b).attr("height",function(Z){return Z.height-C.verticalPadding});var H=R.selectAll(".highlight-shadow").data(A);H.enter().append("line").classed("highlight-shadow",!0).attr("x",-C.bar.width/2).attr("stroke-width",C.bar.width+C.bar.strokeWidth).attr("stroke",z).attr("opacity",C.bar.strokeOpacity).attr("stroke-linecap","butt"),H.attr("y1",function(Z){return Z.height}).call(w);var U=R.selectAll(".highlight").data(A);U.enter().append("line").classed("highlight",!0).attr("x",-C.bar.width/2).attr("stroke-width",C.bar.width-C.bar.strokeWidth).attr("stroke",C.bar.fillColor).attr("opacity",C.bar.fillOpacity).attr("stroke-linecap","butt"),U.attr("y1",function(Z){return Z.height}).call(w)}(P,I,L)},cleanRanges:function(k,I){if(Array.isArray(k[0])?(k=k.map(function(P){return P.sort(T)}),k=I.multiselect?E(k.sort(M)):[k[0]]):k=[k.sort(T)],I.tickvals){var L=I.tickvals.slice().sort(T);if(!(k=k.map(function(P){var R=[n(0,L,P[0],[]),n(1,L,P[1],[])];if(R[1]>R[0])return R}).filter(function(P){return P})).length)return}return k.length>1?k:k[0]}}},71791:function(ie,B,e){"use strict";ie.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(ie,B,e){"use strict";var C=e(39898),S=e(27659).a0,u=e(21341),A=e(77922);B.name="parcoords",B.plot=function(T){var m=S(T.calcdata,"parcoords")[0];m.length&&u(T,m)},B.clean=function(T,m,l,t){var o=t._has&&t._has("parcoords"),r=m._has&&m._has("parcoords");o&&!r&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},B.toSVG=function(T){var m=T._fullLayout._glimages,l=C.select(T).selectAll(".svg-container");l.filter(function(t,o){return o===l.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this,o=t.toDataURL("image/png");m.append("svg:image").attr({xmlns:A.svg,"xlink:href":o,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}),window.setTimeout(function(){C.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(ie,B,e){"use strict";var C=e(71828).isArrayOrTypedArray,S=e(21081),u=e(28984).wrap;ie.exports=function(A,T){var m,l;return S.hasColorscale(T,"line")&&C(T.line.color)?(m=T.line.color,l=S.extractOpts(T.line).colorscale,S.calc(A,T,{vals:m,containerStr:"line",cLetter:"c"})):(m=function(t){for(var o=new Array(t),r=0;r<t;r++)o[r]=.5;return o}(T._length),l=[[0,T.line.color],[1,T.line.color]]),u({lineColor:m,cscale:l})}},25706:function(ie){"use strict";ie.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(ie,B,e){"use strict";var C=e(71828),S=e(52075).hasColorscale,u=e(1586),A=e(27670).c,T=e(85501),m=e(89298),l=e(73362),t=e(57920),o=e(25706).maxDimensionCount,r=e(94397);function n(a,s,c,p){function f(x,b){return C.coerce(a,s,l.dimensions,x,b)}var w=f("values"),v=f("visible");if(w&&w.length||(v=s.visible=!1),v){f("label"),f("tickvals"),f("ticktext"),f("tickformat");var h=f("range");s._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:h},m.setConvert(s._ax,p.layout),f("multiselect");var _=f("constraintrange");_&&(s.constraintrange=t.cleanRanges(_,s))}}ie.exports=function(a,s,c,p){function f(x,b){return C.coerce(a,s,l,x,b)}var w=a.dimensions;Array.isArray(w)&&w.length>o&&(C.log("parcoords traces support up to "+o+" dimensions at the moment"),w.splice(o));var v=T(a,s,{name:"dimensions",layout:p,handleItemDefaults:n}),h=function(x,b,M,d,E){var k=E("line.color",M);if(S(x,"line")&&C.isArrayOrTypedArray(k)){if(k.length)return E("line.colorscale"),u(x,b,d,E,{prefix:"line.",cLetter:"c"}),k.length;b.line.color=M}return 1/0}(a,s,c,p,f);A(s,p,f),Array.isArray(v)&&v.length||(s.visible=!1),r(s,v,"values",h);var _={family:p.font.family,size:Math.round(p.font.size/1.2),color:p.font.color};C.coerceFont(f,"labelfont",_),C.coerceFont(f,"tickfont",_),C.coerceFont(f,"rangefont",_),f("labelangle"),f("labelside"),f("unselected.line.color"),f("unselected.line.opacity")}},1602:function(ie,B,e){"use strict";var C=e(71828).isTypedArray;B.convertTypedArray=function(S){return C(S)?Array.prototype.slice.call(S):S},B.isOrdinal=function(S){return!!S.tickvals},B.isVisible=function(S){return S.visible||!("visible"in S)}},67618:function(ie,B,e){"use strict";var C=e(71791);C.plot=e(21341),ie.exports=C},83398:function(ie,B,e){"use strict";var C=e(56068),S=C(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),u=C(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),A=e(25706).maxDimensionCount,T=e(71828),l=new Uint8Array(4),t=new Uint8Array(4),o={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function r(h,_,x,b,M){var d=h._gl;d.enable(d.SCISSOR_TEST),d.scissor(_,x,b,M),h.clear({color:[0,0,0,0],depth:1})}function n(h,_,x,b,M,d){var E=d.key;x.drawCompleted||(h.read({x:0,y:0,width:1,height:1,data:l}),x.drawCompleted=!0),function k(I){var L=Math.min(b,M-I*b);0===I&&(window.cancelAnimationFrame(x.currentRafs[E]),delete x.currentRafs[E],r(h,d.scissorX,d.scissorY,d.scissorWidth,d.viewBoxSize[1])),x.clearOnly||(d.count=2*L,d.offset=2*I*b,_(d),I*b+L<M&&(x.currentRafs[E]=window.requestAnimationFrame(function(){k(I+1)})),x.drawCompleted=!1)}(0)}function a(h,_){for(var x=new Array(256),b=0;b<256;b++)x[b]=h(b/255).concat(_);return x}function s(h,_){return(h>>>8*_)%256/255}function c(h,_,x){for(var b=new Array(8*_),M=0,d=0;d<_;d++)for(var E=0;E<2;E++)for(var k=0;k<4;k++){var I=4*h+k,L=x[64*d+I];63===I&&0===E&&(L*=-1),b[M++]=L}return b}function p(h){var _="0"+h;return _.substr(_.length-2)}function f(h){return h<A?"p"+p(h+1)+"_"+p(h+4):"colors"}function w(h,_,x,b,M,d,E,k,I,L,P,R,z,$){for(var N=[[],[]],W=0;W<64;W++)N[0][W]=W===M?1:0,N[1][W]=W===d?1:0;var H=h.lines.canvasOverdrag*$,U=h.domain,Z=h.canvasWidth*$,Y=h.canvasHeight*$,ae=h.pad.l*$,re=h.pad.b*$,Q=h.layoutHeight*$,K=h.layoutWidth*$,te=h.deselectedLines.color,oe=h.deselectedLines.opacity;return T.extendFlat({key:P,resolution:[Z,Y],viewBoxPos:[(E*=$)+H,k*=$],viewBoxSize:[I*=$,L*=$],i0:M,i1:d,dim0A:N[0].slice(0,16),dim0B:N[0].slice(16,32),dim0C:N[0].slice(32,48),dim0D:N[0].slice(48,64),dim1A:N[1].slice(0,16),dim1B:N[1].slice(16,32),dim1C:N[1].slice(32,48),dim1D:N[1].slice(48,64),drwLayer:R,contextColor:[te[0]/255,te[1]/255,te[2]/255,"auto"!==oe?te[3]*oe:Math.max(.00392156862745098,Math.pow(1/h.lines.color.length,.3333333333333333))],scissorX:(b===_?0:E+H)+(ae-H)+K*U.x[0],scissorWidth:(b===x?Z-E+H:I+.5)+(b===_?E+H:0),scissorY:k+re+Q*U.y[0],scissorHeight:L,viewportX:ae-H+K*U.x[0],viewportY:re+Q*U.y[0],viewportWidth:Z,viewportHeight:Y},z)}function v(h){var _=2047,x=Math.max(0,Math.floor(h[0]*_),0),b=Math.min(_,Math.ceil(h[1]*_),_);return[Math.min(x,b),Math.max(x,b)]}ie.exports=function(h,_){var x,M,d,E,k=_.context,I=_.pick,L=_.regl,P=L._gl,R=P.getParameter(P.ALIASED_LINE_WIDTH_RANGE),z=Math.max(R[0],Math.min(R[1],_.viewModel.plotGlPixelRatio)),$={currentRafs:{},drawCompleted:!0,clearOnly:!1},N=function(Y){for(var ae={},re=0;re<=A;re+=4)ae[f(re)]=Y.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return ae}(L),W=L.texture(o),H=[];Z(_);var U=L({profile:!1,blend:{enable:k,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!k,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:L.prop("scissorX"),y:L.prop("scissorY"),width:L.prop("scissorWidth"),height:L.prop("scissorHeight")}},viewport:{x:L.prop("viewportX"),y:L.prop("viewportY"),width:L.prop("viewportWidth"),height:L.prop("viewportHeight")},dither:!1,vert:S,frag:u,primitive:"lines",lineWidth:z,attributes:N,uniforms:{resolution:L.prop("resolution"),viewBoxPos:L.prop("viewBoxPos"),viewBoxSize:L.prop("viewBoxSize"),dim0A:L.prop("dim0A"),dim1A:L.prop("dim1A"),dim0B:L.prop("dim0B"),dim1B:L.prop("dim1B"),dim0C:L.prop("dim0C"),dim1C:L.prop("dim1C"),dim0D:L.prop("dim0D"),dim1D:L.prop("dim1D"),loA:L.prop("loA"),hiA:L.prop("hiA"),loB:L.prop("loB"),hiB:L.prop("hiB"),loC:L.prop("loC"),hiC:L.prop("hiC"),loD:L.prop("loD"),hiD:L.prop("hiD"),palette:W,contextColor:L.prop("contextColor"),maskTexture:L.prop("maskTexture"),drwLayer:L.prop("drwLayer"),maskHeight:L.prop("maskHeight")},offset:L.prop("offset"),count:L.prop("count")});function Z(Y){x=Y.model,M=Y.viewModel.dimensions.slice(),d=M[0]?M[0].values.length:0;var ae=x.lines,re=I?ae.color.map(function(K,te){return te/ae.color.length}):ae.color,Q=function(K,te,oe){for(var fe=new Array(K*(A+4)),he=0,me=0;me<K;me++){for(var ke=0;ke<A;ke++)fe[he++]=ke<te.length?te[ke].paddedUnitValues[me]:.5;fe[he++]=s(me,2),fe[he++]=s(me,1),fe[he++]=s(me,0),fe[he++]=Math.max(1e-6,Math.min(.999999,oe[me]))}return fe}(d,M,re);(function(K,te,oe){for(var ue=0;ue<=A;ue+=4)K[f(ue)](c(ue/4,te,oe))})(N,d,Q),k||I||(W=L.texture(T.extendFlat({data:a(x.unitToColor,255)},o)))}return{render:function(Y,ae,re){var Q,K,te,oe=Y.length,ue=1/0,fe=-1/0;for(Q=0;Q<oe;Q++)Y[Q].dim0.canvasX<ue&&(ue=Y[Q].dim0.canvasX,K=Q),Y[Q].dim1.canvasX>fe&&(fe=Y[Q].dim1.canvasX,te=Q);0===oe&&r(L,0,0,x.canvasWidth,x.canvasHeight);var he=function(pe){var de,se,we,Re=[[],[]];for(we=0;we<64;we++){var Ee=!pe&&we<M.length?M[we].brush.filter.getBounds():[-1/0,1/0];Re[0][we]=Ee[0],Re[1][we]=Ee[1]}var Ue=new Array(16384);for(de=0;de<16384;de++)Ue[de]=255;if(!pe)for(de=0;de<M.length;de++){var $e=de%8,ve=(de-$e)/8,Ie=Math.pow(2,$e),De=M[de].brush.filter.get();if(!(De.length<2)){var ze=v(De[0])[1];for(se=1;se<De.length;se++){var Ge=v(De[se]);for(we=ze+1;we<Ge[0];we++)Ue[8*we+ve]&=~Ie;ze=Math.max(ze,Ge[1])}}}var He={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ue};return E?E(He):E=L.texture(He),{maskTexture:E,maskHeight:2048,loA:Re[0].slice(0,16),loB:Re[0].slice(16,32),loC:Re[0].slice(32,48),loD:Re[0].slice(48,64),hiA:Re[1].slice(0,16),hiB:Re[1].slice(16,32),hiC:Re[1].slice(32,48),hiD:Re[1].slice(48,64)}}(k);for(Q=0;Q<oe;Q++){var me=Y[Q],ke=me.dim0.crossfilterDimensionIndex,Pe=me.dim1.crossfilterDimensionIndex,Te=me.canvasX,be=me.canvasY,xe=Te+me.panelSizeX,Ne=me.plotGlPixelRatio;if(ae||!H[ke]||H[ke][0]!==Te||H[ke][1]!==xe){H[ke]=[Te,xe];var Se=w(x,K,te,Q,ke,Pe,Te,be,me.panelSizeX,me.panelSizeY,me.dim0.crossfilterDimensionIndex,k?0:I?2:1,he,Ne);$.clearOnly=re,n(L,U,$,ae?x.lines.blockLineCount:d,d,Se)}}},readPixel:function(Y,ae){return L.read({x:Y,y:ae,width:1,height:1,data:t}),t},readPixels:function(Y,ae,re,Q){var K=new Uint8Array(4*re*Q);return L.read({x:Y,y:ae,width:re,height:Q,data:K}),K},destroy:function(){for(var Y in h.style["pointer-events"]="none",W.destroy(),E&&E.destroy(),N)N[Y].destroy()},update:Z}}},94397:function(ie){"use strict";ie.exports=function(B,e,C,S){var u,A;for(S||(S=1/0),u=0;u<e.length;u++)(A=e[u]).visible&&(S=Math.min(S,A[C].length));for(S===1/0&&(S=0),B._length=S,u=0;u<e.length;u++)(A=e[u]).visible&&(A._length=S);return S}},17171:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=S.numberFormat,A=e(36652),T=e(89298),m=S.strRotate,l=S.strTranslate,t=e(63893),o=e(91424),r=e(21081),n=e(28984),a=n.keyFun,s=n.repeat,c=n.unwrap,p=e(1602),f=e(25706),w=e(57920),v=e(83398);function h(W,H,U){return S.aggNums(W,null,H,U)}function _(W,H){return b(h(Math.min,W,H),h(Math.max,W,H))}function x(W){var H=W.range;return H?b(H[0],H[1]):_(W.values,W._length)}function b(W,H){return!isNaN(W)&&isFinite(W)||(W=0),!isNaN(H)&&isFinite(H)||(H=0),W===H&&(0===W?(W-=1,H+=1):(W*=.9,H*=1.1)),[W,H]}function M(W,H,U,Z,Y){var ae,re,Q=x(U);return Z?C.scale.ordinal().domain(Z.map((ae=u(U.tickformat),re=Y,re?function(K,te){return re[te]??ae(K)}:ae))).range(Z.map(function(K){return W-H+(K-Q[0])/(Q[1]-Q[0])*(2*H-W)})):C.scale.linear().domain(Q).range([W-H,H])}function d(W){if(W.tickvals){var H=x(W);return C.scale.ordinal().domain(W.tickvals).range(W.tickvals.map(function(U){return(U-H[0])/(H[1]-H[0])}))}}function E(W){var H=W.map(function(Y){return Y[0]}),U=W.map(function(Y){var ae=A(Y[1]);return C.rgb("rgb("+ae[0]+","+ae[1]+","+ae[2]+")")}),Z="rgb".split("").map(function(Y){return C.scale.linear().clamp(!0).domain(H).range(U.map((ae=Y,function(re){return re[ae]})));var ae});return function(Y){return Z.map(function(ae){return ae(Y)})}}function k(W){return W.dimensions.some(function(H){return H.brush.filterSpecified})}function I(W,H,U){var Z=c(H),Y=Z.trace,ae=p.convertTypedArray(Z.lineColor),re=Y.line,Q={color:A(Y.unselected.line.color),opacity:Y.unselected.line.opacity},K=r.extractOpts(re),te=K.reversescale?r.flipScale(Z.cscale):Z.cscale,oe=Y.domain,ue=Y.dimensions,fe=W.width,he=Y.labelangle,me=Y.labelside,ke=Y.labelfont,Pe=Y.tickfont,Te=Y.rangefont,be=S.extendDeepNoArrays({},re,{color:ae.map(C.scale.linear().domain(x({values:ae,range:[K.min,K.max],_length:Y._length}))),blockLineCount:f.blockLineCount,canvasOverdrag:f.overdrag*f.canvasPixelRatio}),xe=Math.floor(fe*(oe.x[1]-oe.x[0])),Ne=Math.floor(W.height*(oe.y[1]-oe.y[0])),Se=W.margin||{l:80,r:80,t:100,b:80},Ce=xe,pe=Ne;return{key:U,colCount:ue.filter(p.isVisible).length,dimensions:ue,tickDistance:f.tickDistance,unitToColor:E(te),lines:be,deselectedLines:Q,labelAngle:he,labelSide:me,labelFont:ke,tickFont:Pe,rangeFont:Te,layoutWidth:fe,layoutHeight:W.height,domain:oe,translateX:oe.x[0]*fe,translateY:W.height-oe.y[1]*W.height,pad:Se,canvasWidth:Ce*f.canvasPixelRatio+2*be.canvasOverdrag,canvasHeight:pe*f.canvasPixelRatio,width:Ce,height:pe,canvasPixelRatio:f.canvasPixelRatio}}function L(W,H,U){var fe,he,Z=U.width,Y=U.height,ae=U.dimensions,re=U.canvasPixelRatio,Q=function(fe){return Z*fe/Math.max(1,U.colCount-1)},K=f.verticalPadding/Y,te=(fe=Y,he=f.verticalPadding,C.scale.linear().range([he,fe-he])),oe={key:U.key,xScale:Q,model:U,inBrushDrag:!1},ue={};return oe.dimensions=ae.filter(p.isVisible).map(function(fe,he){var Ee,Ue,me=(Ee=fe,Ue=K,C.scale.linear().domain(x(Ee)).range([Ue,1-Ue])),ke=ue[fe.label];ue[fe.label]=(ke||0)+1;var Pe=fe.label+(ke?"__"+ke:""),Te=fe.constraintrange,be=Te&&Te.length;be&&!Array.isArray(Te[0])&&(Te=[Te]);var xe=be?Te.map(function(Ee){return Ee.map(me)}):[[-1/0,1/0]],Ne=fe.values;Ne.length>fe._length&&(Ne=Ne.slice(0,fe._length));var Se,Ce=fe.tickvals;function pe(Ee,Ue){return{val:Ee,text:Se[Ue]}}function de(Ee,Ue){return Ee.val-Ue.val}if(Array.isArray(Ce)&&Ce.length){Se=fe.ticktext,Array.isArray(Se)&&Se.length?Se.length>Ce.length?Se=Se.slice(0,Ce.length):Ce.length>Se.length&&(Ce=Ce.slice(0,Se.length)):Se=Ce.map(u(fe.tickformat));for(var se=1;se<Ce.length;se++)if(Ce[se]<Ce[se-1]){for(var we=Ce.map(pe).sort(de),Re=0;Re<Ce.length;Re++)Ce[Re]=we[Re].val,Se[Re]=we[Re].text;break}}else Ce=void 0;return Ne=p.convertTypedArray(Ne),{key:Pe,label:fe.label,tickFormat:fe.tickformat,tickvals:Ce,ticktext:Se,ordinal:p.isOrdinal(fe),multiselect:fe.multiselect,xIndex:he,crossfilterDimensionIndex:he,visibleIndex:fe._index,height:Y,values:Ne,paddedUnitValues:Ne.map(me),unitTickvals:Ce&&Ce.map(me),xScale:Q,x:Q(he),canvasX:Q(he)*re,unitToPaddedPx:te,domainScale:M(Y,f.verticalPadding,fe,Ce,Se),ordinalScale:d(fe),parent:oe,model:U,brush:w.makeBrush(W,be,xe,function(){W.linePickActive(!1)},function(){var Ee=oe;Ee.focusLayer&&Ee.focusLayer.render(Ee.panels,!0);var Ue=k(Ee);!W.contextShown()&&Ue?(Ee.contextLayer&&Ee.contextLayer.render(Ee.panels,!0),W.contextShown(!0)):W.contextShown()&&!Ue&&(Ee.contextLayer&&Ee.contextLayer.render(Ee.panels,!0,!0),W.contextShown(!1))},function(Ee){if(oe.focusLayer.render(oe.panels,!0),oe.pickLayer&&oe.pickLayer.render(oe.panels,!0),W.linePickActive(!0),H&&H.filterChanged){var Ue=me.invert,$e=Ee.map(function(ve){return ve.map(Ue).sort(S.sorterAsc)}).sort(function(ve,Ie){return ve[0]-Ie[0]});H.filterChanged(oe.key,fe._index,$e)}})}}),oe}function P(W){W.classed(f.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function R(W,H){var Z=W*Math.PI/180;return{dir:"top"===H?1:-1,dx:Math.sin(Z),dy:Math.cos(Z),degrees:W}}function z(W,H,U){for(var Z=H.panels||(H.panels=[]),Y=W.data(),ae=0;ae<Y.length-1;ae++){var re=Z[ae]||(Z[ae]={}),Q=Y[ae],K=Y[ae+1];re.dim0=Q,re.dim1=K,re.canvasX=Q.canvasX,re.panelSizeX=K.canvasX-Q.canvasX,re.panelSizeY=H.model.canvasHeight,re.y=0,re.canvasY=0,re.plotGlPixelRatio=U}}function $(W,H){return T.tickText(W._ax,H,!1).text}function N(W,H){if(W.ordinal)return"";var U=W.domainScale.domain();return $(W.model.dimensions[W.visibleIndex],U[H?U.length-1:0])}ie.exports=function(W,H,U,Z){var Y=W._context.staticPlot,ae=W._fullLayout,re=ae._toppaper,Q=ae._glcontainer,K=W._context.plotGlPixelRatio,te=W._fullLayout.paper_bgcolor;!function(Ee){for(var Ue=0;Ue<Ee.length;Ue++)for(var $e=0;$e<Ee[Ue].length;$e++)for(var ve=Ee[Ue][$e].trace,Ie=ve.dimensions,De=0;De<Ie.length;De++){var ze=Ie[De].values,Ge=Ie[De]._ax;Ge&&(Ge.range=Ge.range?b(Ge.range[0],Ge.range[1]):_(ze,ve._length),Ge.dtick||(Ge.dtick=.01*(Math.abs(Ge.range[1]-Ge.range[0])||1)),Ge.tickformat=Ie[De].tickformat,T.calcTicks(Ge),Ge.cleanRange())}}(H);var oe,ue,fe=(oe=!0,ue=!1,{linePickActive:function(Ee){return arguments.length?oe=!!Ee:oe},contextShown:function(Ee){return arguments.length?ue=!!Ee:ue}}),he=H.filter(function(Ee){return c(Ee).trace.visible}).map(I.bind(0,U)).map(L.bind(0,fe,Z));Q.each(function(Ee,Ue){return S.extendFlat(Ee,he[Ue])});var me=Q.selectAll(".gl-canvas").each(function(Ee){Ee.viewModel=he[0],Ee.viewModel.plotGlPixelRatio=K,Ee.viewModel.paperColor=te,Ee.model=Ee.viewModel?Ee.viewModel.model:null}),ke=null;me.filter(function(Ee){return Ee.pick}).style("pointer-events",Y?"none":"auto").on("mousemove",function(Ee){if(fe.linePickActive()&&Ee.lineLayer&&Z&&Z.hover){var Ue=C.event,$e=this.width,ve=this.height,Ie=C.mouse(this),De=Ie[0],ze=Ie[1];if(De<0||ze<0||De>=$e||ze>=ve)return;var Ge=Ee.lineLayer.readPixel(De,ve-1-ze),He=0!==Ge[3],Ke=He?Ge[2]+256*(Ge[1]+256*Ge[0]):null,et={x:De,y:ze,clientX:Ue.clientX,clientY:Ue.clientY,dataIndex:Ee.model.key,curveNumber:Ke};Ke!==ke&&(He?Z.hover(et):Z.unhover&&Z.unhover(et),ke=Ke)}}),me.style("opacity",function(Ee){return Ee.pick?0:1}),re.style("background","rgba(255, 255, 255, 0)");var Pe=re.selectAll("."+f.cn.parcoords).data(he,a);Pe.exit().remove(),Pe.enter().append("g").classed(f.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Pe.attr("transform",function(Ee){return l(Ee.model.translateX,Ee.model.translateY)});var Te=Pe.selectAll("."+f.cn.parcoordsControlView).data(s,a);Te.enter().append("g").classed(f.cn.parcoordsControlView,!0),Te.attr("transform",function(Ee){return l(Ee.model.pad.l,Ee.model.pad.t)});var be=Te.selectAll("."+f.cn.yAxis).data(function(Ee){return Ee.dimensions},a);be.enter().append("g").classed(f.cn.yAxis,!0),Te.each(function(Ee){z(be,Ee,K)}),me.each(function(Ee){Ee.viewModel&&(!Ee.lineLayer||Z?Ee.lineLayer=v(this,Ee):Ee.lineLayer.update(Ee),(Ee.key||0===Ee.key)&&(Ee.viewModel[Ee.key]=Ee.lineLayer),Ee.lineLayer.render(Ee.viewModel.panels,!Ee.context||Z))}),be.attr("transform",function(Ee){return l(Ee.xScale(Ee.xIndex),0)}),be.call(C.behavior.drag().origin(function(Ee){return Ee}).on("drag",function(Ee){var Ue=Ee.parent;fe.linePickActive(!1),Ee.x=Math.max(-f.overdrag,Math.min(Ee.model.width+f.overdrag,C.event.x)),Ee.canvasX=Ee.x*Ee.model.canvasPixelRatio,be.sort(function($e,ve){return $e.x-ve.x}).each(function($e,ve){$e.xIndex=ve,$e.x=Ee===$e?$e.x:$e.xScale($e.xIndex),$e.canvasX=$e.x*$e.model.canvasPixelRatio}),z(be,Ue,K),be.filter(function($e){return 0!==Math.abs(Ee.xIndex-$e.xIndex)}).attr("transform",function($e){return l($e.xScale($e.xIndex),0)}),C.select(this).attr("transform",l(Ee.x,0)),be.each(function($e,ve,Ie){Ie===Ee.parent.key&&(Ue.dimensions[ve]=$e)}),Ue.contextLayer&&Ue.contextLayer.render(Ue.panels,!1,!k(Ue)),Ue.focusLayer.render&&Ue.focusLayer.render(Ue.panels)}).on("dragend",function(Ee){var Ue=Ee.parent;Ee.x=Ee.xScale(Ee.xIndex),Ee.canvasX=Ee.x*Ee.model.canvasPixelRatio,z(be,Ue,K),C.select(this).attr("transform",function($e){return l($e.x,0)}),Ue.contextLayer&&Ue.contextLayer.render(Ue.panels,!1,!k(Ue)),Ue.focusLayer&&Ue.focusLayer.render(Ue.panels),Ue.pickLayer&&Ue.pickLayer.render(Ue.panels,!0),fe.linePickActive(!0),Z&&Z.axesMoved&&Z.axesMoved(Ue.key,Ue.dimensions.map(function($e){return $e.crossfilterDimensionIndex}))})),be.exit().remove();var xe=be.selectAll("."+f.cn.axisOverlays).data(s,a);xe.enter().append("g").classed(f.cn.axisOverlays,!0),xe.selectAll("."+f.cn.axis).remove();var Ne=xe.selectAll("."+f.cn.axis).data(s,a);Ne.enter().append("g").classed(f.cn.axis,!0),Ne.each(function(Ee){var Ue=Ee.model.height/Ee.model.tickDistance,$e=Ee.domainScale,ve=$e.domain();C.select(this).call(C.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Ue,Ee.tickFormat).tickValues(Ee.ordinal?ve:null).tickFormat(function(Ie){return p.isOrdinal(Ee)?Ie:$(Ee.model.dimensions[Ee.visibleIndex],Ie)}).scale($e)),o.font(Ne.selectAll("text"),Ee.model.tickFont)}),Ne.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ne.selectAll("text").style("text-shadow",t.makeTextShadow(te)).style("cursor","default");var Se=xe.selectAll("."+f.cn.axisHeading).data(s,a);Se.enter().append("g").classed(f.cn.axisHeading,!0);var Ce=Se.selectAll("."+f.cn.axisTitle).data(s,a);Ce.enter().append("text").classed(f.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",Y?"none":"auto"),Ce.text(function(Ee){return Ee.label}).each(function(Ee){var Ue=C.select(this);o.font(Ue,Ee.model.labelFont),t.convertToTspans(Ue,W)}).attr("transform",function(Ee){var Ue=R(Ee.model.labelAngle,Ee.model.labelSide),$e=f.axisTitleOffset;return(Ue.dir>0?"":l(0,2*$e+Ee.model.height))+m(Ue.degrees)+l(-$e*Ue.dx,-$e*Ue.dy)}).attr("text-anchor",function(Ee){var Ue=R(Ee.model.labelAngle,Ee.model.labelSide);return 2*Math.abs(Ue.dx)>Math.abs(Ue.dy)?Ue.dir*Ue.dx<0?"start":"end":"middle"});var pe=xe.selectAll("."+f.cn.axisExtent).data(s,a);pe.enter().append("g").classed(f.cn.axisExtent,!0);var de=pe.selectAll("."+f.cn.axisExtentTop).data(s,a);de.enter().append("g").classed(f.cn.axisExtentTop,!0),de.attr("transform",l(0,-f.axisExtentOffset));var se=de.selectAll("."+f.cn.axisExtentTopText).data(s,a);se.enter().append("text").classed(f.cn.axisExtentTopText,!0).call(P),se.text(function(Ee){return N(Ee,!0)}).each(function(Ee){o.font(C.select(this),Ee.model.rangeFont)});var we=pe.selectAll("."+f.cn.axisExtentBottom).data(s,a);we.enter().append("g").classed(f.cn.axisExtentBottom,!0),we.attr("transform",function(Ee){return l(0,Ee.model.height+f.axisExtentOffset)});var Re=we.selectAll("."+f.cn.axisExtentBottomText).data(s,a);Re.enter().append("text").classed(f.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(P),Re.text(function(Ee){return N(Ee,!1)}).each(function(Ee){o.font(C.select(this),Ee.model.rangeFont)}),w.ensureAxisBrush(xe,te,W)}},21341:function(ie,B,e){"use strict";var C=e(17171),S=e(79749),u=e(1602).isVisible,A={};function T(m,l,t){var o=l.indexOf(t),r=m.indexOf(o);return-1===r&&(r+=l.length),r}(ie.exports=function(m,l){var t=m._fullLayout;if(S(m,[],A)){var o={},r={},n={},a={},s=t._size;l.forEach(function(c,p){var f=c[0].trace;n[p]=f.index;var w=a[p]=f._fullInput.index;o[p]=m.data[w].dimensions,r[p]=m.data[w].dimensions.slice()}),C(m,l,{width:s.w,height:s.h,margin:{t:s.t,r:s.r,b:s.b,l:s.l}},{filterChanged:function(c,p,f){var w=r[c][p],v=f.map(function(d){return d.slice()}),h="dimensions["+p+"].constraintrange",_=t._tracePreGUI[m._fullData[n[c]]._fullInput.uid];void 0===_[h]&&(_[h]=w.constraintrange||null);var b=m._fullData[n[c]].dimensions[p];v.length?(1===v.length&&(v=v[0]),w.constraintrange=v,b.constraintrange=v.slice(),v=[v]):(delete w.constraintrange,delete b.constraintrange,v=null);var M={};M[h]=v,m.emit("plotly_restyle",[M,[a[c]]])},hover:function(c){m.emit("plotly_hover",c)},unhover:function(c){m.emit("plotly_unhover",c)},axesMoved:function(c,p){var w,v,f=(w=p,v=r[c].filter(u),function(h,_){return T(w,v,h)-T(w,v,_)});o[c].sort(f),r[c].filter(function(w){return!u(w)}).sort(function(w){return r[c].indexOf(w)}).forEach(function(w){o[c].splice(o[c].indexOf(w),1),o[c].splice(r[c].indexOf(w),0,w)}),m.emit("plotly_restyle",[{dimensions:[o[c]]},[a[c]]])}})}}).reglPrecompiled=A},34e3:function(ie,B,e){"use strict";var C=e(9012),S=e(27670).Y,u=e(41940),A=e(22399),T=e(5386).fF,m=e(5386).si,l=e(1426).extendFlat,t=e(79952).u,o=u({editType:"plot",arrayOk:!0,colorEditType:"plot"});ie.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:A.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:l({},C.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:T({},{keys:["label","color","value","percent","text"]}),texttemplate:m({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:l({},o,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:l({},o,{}),outsidetextfont:l({},o,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:l({},o,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:S({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:l({},o,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(ie,B,e){"use strict";var C=e(74875);B.name="pie",B.plot=function(S,u,A,T){C.plotBasePlot(B.name,S,u,A,T)},B.clean=function(S,u,A,T){C.cleanBasePlot(B.name,S,u,A,T)}},32354:function(ie,B,e){"use strict";var C=e(92770),S=e(84267),u=e(7901),A={};function T(l){return function(t,o){return!!t&&!!(t=S(t)).isValid()&&(t=u.addOpacity(t,t.getAlpha()),l[o]||(l[o]=t),t)}}function m(l,t){var o,r=JSON.stringify(l),n=t[r];if(!n){for(n=l.slice(),o=0;o<l.length;o++)n.push(S(l[o]).lighten(20).toHexString());for(o=0;o<l.length;o++)n.push(S(l[o]).darken(20).toHexString());t[r]=n}return n}ie.exports={calc:function(l,t){var o,r,n=[],a=l._fullLayout,s=a.hiddenlabels||[],c=t.labels,p=t.marker.colors||[],f=t.values,w=t._length,v=t._hasValues&&w;if(t.dlabel)for(c=new Array(w),o=0;o<w;o++)c[o]=String(t.label0+o*t.dlabel);var h={},_=T(a["_"+t.type+"colormap"]),x=0,b=!1;for(o=0;o<w;o++){var M,d,E;if(v){if(!C(M=f[o]))continue;M=+M}else M=1;void 0!==(d=c[o])&&""!==d||(d=o);var k=h[d=String(d)];void 0===k?(h[d]=n.length,(E=-1!==s.indexOf(d))||(x+=M),n.push({v:M,label:d,color:_(p[o],d),i:o,pts:[o],hidden:E})):(b=!0,(r=n[k]).v+=M,r.pts.push(o),r.hidden||(x+=M),!1===r.color&&p[o]&&(r.color=_(p[o],d)))}return n=n.filter(function(I){return I.v>=0}),("funnelarea"===t.type?b:t.sort)&&n.sort(function(I,L){return L.v-I.v}),n[0]&&(n[0].vTotal=x),n},crossTraceCalc:function(l,t){var o=(t||{}).type;o||(o="pie");var r=l._fullLayout,n=l.calcdata,a=r[o+"colorway"],s=r["_"+o+"colormap"];r["extend"+o+"colors"]&&(a=m(a,A));for(var c=0,p=0;p<n.length;p++){var f=n[p];if(f[0].trace.type===o)for(var w=0;w<f.length;w++){var v=f[w];!1===v.color&&(s[v.label]?v.color=s[v.label]:(s[v.label]=v.color=a[c%a.length],c++))}}},makePullColorFn:T,generateExtendedColors:m}},37434:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=e(34e3),A=e(27670).c,T=e(90769).handleText,m=e(71828).coercePattern;function l(o,r){var n=Array.isArray(o),a=S.isArrayOrTypedArray(r),s=Math.min(n?o.length:1/0,a?r.length:1/0);if(isFinite(s)||(s=0),s&&a){for(var c,p=0;p<s;p++){var f=r[p];if(C(f)&&f>0){c=!0;break}}c||(s=0)}return{hasLabels:n,hasValues:a,len:s}}function t(o,r,n,a,s){a("marker.line.width")&&a("marker.line.color",s?void 0:n.paper_bgcolor);var c=a("marker.colors");m(a,"marker.pattern",c),o.marker&&!r.marker.pattern.fgcolor&&(r.marker.pattern.fgcolor=o.marker.colors),r.marker.pattern.bgcolor||(r.marker.pattern.bgcolor=n.paper_bgcolor)}ie.exports={handleLabelsAndValues:l,handleMarkerDefaults:t,supplyDefaults:function(o,r,n,a){function s(b,M){return S.coerce(o,r,u,b,M)}var c=l(s("labels"),s("values")),p=c.len;if(r._hasLabels=c.hasLabels,r._hasValues=c.hasValues,!r._hasLabels&&r._hasValues&&(s("label0"),s("dlabel")),p){r._length=p,t(o,r,a,s,!0),s("scalegroup");var f,w=s("text"),v=s("texttemplate");if(v||(f=s("textinfo",Array.isArray(w)?"text+percent":"percent")),s("hovertext"),s("hovertemplate"),v||f&&"none"!==f){var h=s("textposition");T(o,r,a,s,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(h)||"auto"===h||"outside"===h)&&s("automargin"),("inside"===h||"auto"===h||Array.isArray(h))&&s("insidetextorientation")}A(r,a,s);var _=s("hole");if(s("title.text")){var x=s("title.position",_?"middle center":"top center");_||"middle center"!==x||(r.title.position="top center"),S.coerceFont(s,"title.font",a.font)}s("sort"),s("direction"),s("rotation"),s("pull")}else r.visible=!1}}},20007:function(ie,B,e){"use strict";var C=e(23469).appendArrayMultiPointValues;ie.exports=function(S,u){var A={curveNumber:u.index,pointNumbers:S.pts,data:u._input,fullData:u,label:S.label,color:S.color,value:S.v,percent:S.percent,text:S.text,bbox:S.bbox,v:S.v};return 1===S.pts.length&&(A.pointNumber=A.i=S.pts[0]),C(A,u,S.pts),"funnelarea"===u.type&&(delete A.v,delete A.i),A}},22209:function(ie,B,e){"use strict";var C=e(91424),S=e(7901);ie.exports=function(u,A,T,m){var l=T.marker.pattern;l&&l.shape?C.pointStyle(u,T,m,A):S.fill(u,A.color)}},53581:function(ie,B,e){"use strict";var C=e(71828);function S(u){return-1!==u.indexOf("e")?u.replace(/[.]?0+e/,"e"):-1!==u.indexOf(".")?u.replace(/[.]?0+$/,""):u}B.formatPiePercent=function(u,A){var T=S((100*u).toPrecision(3));return C.numSeparate(T,A)+"%"},B.formatPieValue=function(u,A){var T=S(u.toPrecision(10));return C.numSeparate(T,A)},B.getFirstFilled=function(u,A){if(Array.isArray(u))for(var T=0;T<A.length;T++){var m=u[A[T]];if(m||0===m||""===m)return m}},B.castOption=function(u,A){return Array.isArray(u)?B.getFirstFilled(u,A):u||void 0},B.getRotationAngle=function(u){return("auto"===u?0:u)*Math.PI/180}},58810:function(ie,B,e){"use strict";ie.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(ie){"use strict";ie.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(ie,B,e){"use strict";var C=e(71828),S=e(92774);ie.exports=function(u,A){function T(m,l){return C.coerce(u,A,S,m,l)}T("hiddenlabels"),T("piecolorway",A.colorway),T("extendpiecolors")}},14575:function(ie,B,e){"use strict";var C=e(39898),S=e(74875),u=e(30211),A=e(7901),T=e(91424),m=e(71828),l=m.strScale,t=m.strTranslate,o=e(63893),r=e(72597),n=r.recordMinTextSize,a=r.clearMinTextSize,s=e(97313).TEXTPAD,c=e(53581),p=e(20007),f=e(71828).isValidTextValue;function w(H,U,Z){var Y=Z[0],ae=Y.cx,re=Y.cy,Q=Y.trace,K="funnelarea"===Q.type;"_hasHoverLabel"in Q||(Q._hasHoverLabel=!1),"_hasHoverEvent"in Q||(Q._hasHoverEvent=!1),H.on("mouseover",function(te){var oe=U._fullLayout,ue=U._fullData[Q.index];if(!U._dragging&&!1!==oe.hovermode){var fe=ue.hoverinfo;if(Array.isArray(fe)&&(fe=u.castHoverinfo({hoverinfo:[c.castOption(fe,te.pts)],_module:Q._module},oe,0)),"all"===fe&&(fe="label+text+value+percent+name"),ue.hovertemplate||"none"!==fe&&"skip"!==fe&&fe){var he=te.rInscribed||0,me=ae+te.pxmid[0]*(1-he),ke=re+te.pxmid[1]*(1-he),Pe=oe.separators,Te=[];if(fe&&-1!==fe.indexOf("label")&&Te.push(te.label),te.text=c.castOption(ue.hovertext||ue.text,te.pts),fe&&-1!==fe.indexOf("text")){var be=te.text;m.isValidTextValue(be)&&Te.push(be)}te.value=te.v,te.valueLabel=c.formatPieValue(te.v,Pe),fe&&-1!==fe.indexOf("value")&&Te.push(te.valueLabel),te.percent=te.v/Y.vTotal,te.percentLabel=c.formatPiePercent(te.percent,Pe),fe&&-1!==fe.indexOf("percent")&&Te.push(te.percentLabel);var xe=ue.hoverlabel,Ne=xe.font,Se=[];u.loneHover({trace:Q,x0:me-he*Y.r,x1:me+he*Y.r,y:ke,_x0:K?ae+te.TL[0]:me-he*Y.r,_x1:K?ae+te.TR[0]:me+he*Y.r,_y0:K?re+te.TL[1]:ke-he*Y.r,_y1:K?re+te.BL[1]:ke+he*Y.r,text:Te.join("<br>"),name:ue.hovertemplate||-1!==fe.indexOf("name")?ue.name:void 0,idealAlign:te.pxmid[0]<0?"left":"right",color:c.castOption(xe.bgcolor,te.pts)||te.color,borderColor:c.castOption(xe.bordercolor,te.pts),fontFamily:c.castOption(Ne.family,te.pts),fontSize:c.castOption(Ne.size,te.pts),fontColor:c.castOption(Ne.color,te.pts),nameLength:c.castOption(xe.namelength,te.pts),textAlign:c.castOption(xe.align,te.pts),hovertemplate:c.castOption(ue.hovertemplate,te.pts),hovertemplateLabels:te,eventData:[p(te,ue)]},{container:oe._hoverlayer.node(),outerContainer:oe._paper.node(),gd:U,inOut_bbox:Se}),te.bbox=Se[0],Q._hasHoverLabel=!0}Q._hasHoverEvent=!0,U.emit("plotly_hover",{points:[p(te,ue)],event:C.event})}}),H.on("mouseout",function(te){var oe=U._fullLayout,ue=U._fullData[Q.index],fe=C.select(this).datum();Q._hasHoverEvent&&(te.originalEvent=C.event,U.emit("plotly_unhover",{points:[p(fe,ue)],event:C.event}),Q._hasHoverEvent=!1),Q._hasHoverLabel&&(u.loneUnhover(oe._hoverlayer.node()),Q._hasHoverLabel=!1)}),H.on("click",function(te){U._dragging||!1===U._fullLayout.hovermode||(U._hoverdata=[p(te,U._fullData[Q.index])],u.click(U,C.event))})}function v(H,U,Z){var Y=c.castOption(H.insidetextfont.color,U.pts);!Y&&H._input.textfont&&(Y=c.castOption(H._input.textfont.color,U.pts));var ae=c.castOption(H.insidetextfont.family,U.pts)||c.castOption(H.textfont.family,U.pts)||Z.family,re=c.castOption(H.insidetextfont.size,U.pts)||c.castOption(H.textfont.size,U.pts)||Z.size;return{color:Y||A.contrast(U.color),family:ae,size:re}}function h(H,U){for(var Z,Y,ae=0;ae<H.length;ae++)if((Y=(Z=H[ae][0]).trace).title.text){var re=Y.title.text;Y._meta&&(re=m.templateString(re,Y._meta));var Q=T.tester.append("text").attr("data-notex",1).text(re).call(T.font,Y.title.font).call(o.convertToTspans,U),K=T.bBox(Q.node(),!0);Z.titleBox={width:K.width,height:K.height},Q.remove()}}function _(H,U,Z){var Y=Z.r||U.rpx1,ae=U.rInscribed;if(U.startangle===U.stopangle)return{rCenter:1-ae,scale:0,rotate:0,textPosAngle:0};var re,Q=U.ring,K=1===Q&&Math.abs(U.startangle-U.stopangle)===2*Math.PI,te=U.halfangle,oe=U.midangle,ue=Z.trace.insidetextorientation,fe="horizontal"===ue,he="tangential"===ue,me="radial"===ue,ke="auto"===ue,Pe=[];if(!ke){var Te,be=function(de,se){if(Ie=(Ue=U).stopangle,(ve=Ue.startangle)>($e=de)&&$e>Ie||ve<$e&&$e<Ie){var we=Math.abs(de-U.startangle),Re=Math.abs(de-U.stopangle),Ee=we<Re?we:Re;(re="tan"===se?b(H,Y,Q,Ee,0):x(H,Y,Q,Ee,Math.PI/2)).textPosAngle=de,Pe.push(re)}var Ue,$e,ve,Ie};if(fe||he){for(Te=4;Te>=-4;Te-=2)be(Math.PI*Te,"tan");for(Te=4;Te>=-4;Te-=2)be(Math.PI*(Te+1),"tan")}if(fe||me){for(Te=4;Te>=-4;Te-=2)be(Math.PI*(Te+1.5),"rad");for(Te=4;Te>=-4;Te-=2)be(Math.PI*(Te+.5),"rad")}}if(K||ke||fe){var xe=Math.sqrt(H.width*H.width+H.height*H.height);if((re={scale:ae*Y*2/xe,rCenter:1-ae,rotate:0}).textPosAngle=(U.startangle+U.stopangle)/2,re.scale>=1)return re;Pe.push(re)}(ke||me)&&((re=x(H,Y,Q,te,oe)).textPosAngle=(U.startangle+U.stopangle)/2,Pe.push(re)),(ke||he)&&((re=b(H,Y,Q,te,oe)).textPosAngle=(U.startangle+U.stopangle)/2,Pe.push(re));for(var Ne=0,Se=0,Ce=0;Ce<Pe.length;Ce++){var pe=Pe[Ce].scale;if(Se<pe&&(Se=pe,Ne=Ce),!ke&&Se>=1)break}return Pe[Ne]}function x(H,U,Z,Y,ae){U=Math.max(0,U-2*s);var re=H.width/H.height,Q=E(re,Y,U,Z);return{scale:2*Q/H.height,rCenter:M(re,Q/U),rotate:d(ae)}}function b(H,U,Z,Y,ae){U=Math.max(0,U-2*s);var re=H.height/H.width,Q=E(re,Y,U,Z);return{scale:2*Q/H.width,rCenter:M(re,Q/U),rotate:d(ae+Math.PI/2)}}function M(H,U){return Math.cos(U)-H*U}function d(H){return(180/Math.PI*H+720)%180-90}function E(H,U,Z,Y){var ae=H+1/(2*Math.tan(U));return Z*Math.min(1/(Math.sqrt(ae*ae+.5)+ae),Y/(Math.sqrt(H*H+Y/2)+H))}function k(H,U){return H.v!==U.vTotal||U.trace.hole?Math.min(1/(1+1/Math.sin(H.halfangle)),H.ring/2):1}function I(H,U){var Z=U.pxmid[0],Y=U.pxmid[1],ae=H.width/2,re=H.height/2;return Z<0&&(ae*=-1),Y<0&&(re*=-1),{scale:1,rCenter:1,rotate:0,x:ae+Math.abs(re)*(ae>0?1:-1)/2,y:re/(1+Z*Z/(Y*Y)),outside:!0}}function L(H,U){var Z,Y,ae,re=H.trace,Q={x:H.cx,y:H.cy},K={tx:0,ty:0};K.ty+=re.title.font.size,ae=R(re),-1!==re.title.position.indexOf("top")?(Q.y-=(1+ae)*H.r,K.ty-=H.titleBox.height):-1!==re.title.position.indexOf("bottom")&&(Q.y+=(1+ae)*H.r);var te,oe=H.r/(void 0===(te=H.trace.aspectratio)?1:te),ue=U.w*(re.domain.x[1]-re.domain.x[0])/2;return-1!==re.title.position.indexOf("left")?(ue+=oe,Q.x-=(1+ae)*oe,K.tx+=H.titleBox.width/2):-1!==re.title.position.indexOf("center")?ue*=2:-1!==re.title.position.indexOf("right")&&(ue+=oe,Q.x+=(1+ae)*oe,K.tx-=H.titleBox.width/2),Z=ue/H.titleBox.width,Y=P(H,U)/H.titleBox.height,{x:Q.x,y:Q.y,scale:Math.min(Z,Y),tx:K.tx,ty:K.ty}}function P(H,U){var Z=H.trace;return Math.min(H.titleBox.height,U.h*(Z.domain.y[1]-Z.domain.y[0])/2)}function R(H){var U,Z=H.pull;if(!Z)return 0;if(Array.isArray(Z))for(Z=0,U=0;U<H.pull.length;U++)H.pull[U]>Z&&(Z=H.pull[U]);return Z}function z(H,U){for(var Z=[],Y=0;Y<H.length;Y++){var ae=H[Y][0],re=ae.trace,Q=re.domain,K=U.w*(Q.x[1]-Q.x[0]),te=U.h*(Q.y[1]-Q.y[0]);re.title.text&&"middle center"!==re.title.position&&(te-=P(ae,U));var ue=te/2;"funnelarea"!==re.type||re.scalegroup||(ue/=re.aspectratio),ae.r=Math.min(K/2,ue)/(1+R(re)),ae.cx=U.l+U.w*(re.domain.x[1]+re.domain.x[0])/2,ae.cy=U.t+U.h*(1-re.domain.y[0])-te/2,re.title.text&&-1!==re.title.position.indexOf("bottom")&&(ae.cy-=P(ae,U)),re.scalegroup&&-1===Z.indexOf(re.scalegroup)&&Z.push(re.scalegroup)}!function(fe,he){for(var me,ke,Pe,Te=0;Te<he.length;Te++){var be=1/0,xe=he[Te];for(ke=0;ke<fe.length;ke++)if((Pe=(me=fe[ke][0]).trace).scalegroup===xe){var Ne;if("pie"===Pe.type)Ne=me.r*me.r;else if("funnelarea"===Pe.type){var Se,Ce;Pe.aspectratio>1?Ce=(Se=me.r)/Pe.aspectratio:Se=(Ce=me.r)*Pe.aspectratio,Ne=(Se*=(1+Pe.baseratio)/2)*Ce}be=Math.min(be,Ne/me.vTotal)}for(ke=0;ke<fe.length;ke++)if((Pe=(me=fe[ke][0]).trace).scalegroup===xe){var pe=be*me.vTotal;"funnelarea"===Pe.type&&(pe/=(1+Pe.baseratio)/2,pe/=Pe.aspectratio),me.r=Math.sqrt(pe)}}}(H,Z)}function $(H,U){return[H*Math.sin(U),-H*Math.cos(U)]}function N(H,U,Z){var Ne,Y=H._fullLayout,ae=Z.trace,re=ae.texttemplate,Q=ae.textinfo;if(!re&&Q&&"none"!==Q){var K,te=Q.split("+"),oe=function(Ne){return-1!==te.indexOf(Ne)},ue=oe("label"),fe=oe("text"),he=oe("value"),me=oe("percent"),ke=Y.separators;if(K=ue?[U.label]:[],fe){var Pe=c.getFirstFilled(ae.text,U.pts);f(Pe)&&K.push(Pe)}he&&K.push(c.formatPieValue(U.v,ke)),me&&K.push(c.formatPiePercent(U.v/Z.vTotal,ke)),U.text=K.join("<br>")}if(re){var Te=m.castOption(ae,U.i,"texttemplate");if(Te){var be={label:(Ne=U).label,value:Ne.v,valueLabel:c.formatPieValue(Ne.v,Y.separators),percent:Ne.v/Z.vTotal,percentLabel:c.formatPiePercent(Ne.v/Z.vTotal,Y.separators),color:Ne.color,text:Ne.text,customdata:m.castOption(ae,Ne.i,"customdata")},xe=c.getFirstFilled(ae.text,U.pts);(f(xe)||""===xe)&&(be.text=xe),U.text=m.texttemplateString(Te,be,H._fullLayout._d3locale,be,ae._meta||{})}else U.text=""}}function W(H,U){var Z=H.rotate*Math.PI/180,Y=Math.cos(Z),ae=Math.sin(Z),re=(U.left+U.right)/2,Q=(U.top+U.bottom)/2;H.textX=re*Y-Q*ae,H.textY=re*ae+Q*Y,H.noCenter=!0}ie.exports={plot:function(H,U){var Z=H._context.staticPlot,Y=H._fullLayout,ae=Y._size;a("pie",Y),h(U,H),z(U,ae);var re=m.makeTraceGroups(Y._pielayer,U,"trace").each(function(Q){var K=C.select(this),te=Q[0],oe=te.trace;(function(ue){var fe,he,me,ke=ue[0],Pe=ke.r,Te=ke.trace,be=c.getRotationAngle(Te.rotation),xe=2*Math.PI/ke.vTotal,Ne="px0",Se="px1";if("counterclockwise"===Te.direction){for(fe=0;fe<ue.length&&ue[fe].hidden;fe++);if(fe===ue.length)return;be+=xe*ue[fe].v,xe*=-1,Ne="px1",Se="px0"}for(me=$(Pe,be),fe=0;fe<ue.length;fe++)(he=ue[fe]).hidden||(he[Ne]=me,he.startangle=be,he.pxmid=$(Pe,be+=xe*he.v/2),he.midangle=be,me=$(Pe,be+=xe*he.v/2),he.stopangle=be,he[Se]=me,he.largeArc=he.v>ke.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/ke.vTotal,.5),he.ring=1-Te.hole,he.rInscribed=k(he,ke))})(Q),K.attr("stroke-linejoin","round"),K.each(function(){var ue=C.select(this).selectAll("g.slice").data(Q);ue.enter().append("g").classed("slice",!0),ue.exit().remove();var fe=[[[],[]],[[],[]]],he=!1;ue.each(function(Se,Ce){if(Se.hidden)C.select(this).selectAll("path,g").remove();else{Se.pointNumber=Se.i,Se.curveNumber=oe.index,fe[Se.pxmid[1]<0?0:1][Se.pxmid[0]<0?0:1].push(Se);var pe=te.cx,de=te.cy,se=C.select(this),we=se.selectAll("path.surface").data([Se]);if(we.enter().append("path").classed("surface",!0).style({"pointer-events":Z?"none":"all"}),se.call(w,H,Q),oe.pull){var Re=+c.castOption(oe.pull,Se.pts)||0;Re>0&&(pe+=Re*Se.pxmid[0],de+=Re*Se.pxmid[1])}Se.cxFinal=pe,Se.cyFinal=de;var Ee=oe.hole;if(Se.v===te.vTotal){var Ue="M"+(pe+Se.px0[0])+","+(de+Se.px0[1])+ze(Se.px0,Se.pxmid,!0,1)+ze(Se.pxmid,Se.px0,!0,1)+"Z";we.attr("d",Ee?"M"+(pe+Ee*Se.px0[0])+","+(de+Ee*Se.px0[1])+ze(Se.px0,Se.pxmid,!1,Ee)+ze(Se.pxmid,Se.px0,!1,Ee)+"Z"+Ue:Ue)}else{var $e=ze(Se.px0,Se.px1,!0,1);if(Ee){var ve=1-Ee;we.attr("d","M"+(pe+Ee*Se.px1[0])+","+(de+Ee*Se.px1[1])+ze(Se.px1,Se.px0,!1,Ee)+"l"+ve*Se.px0[0]+","+ve*Se.px0[1]+$e+"Z")}else we.attr("d","M"+pe+","+de+"l"+Se.px0[0]+","+Se.px0[1]+$e+"Z")}N(H,Se,te);var Ie=c.castOption(oe.textposition,Se.pts),De=se.selectAll("g.slicetext").data(Se.text&&"none"!==Ie?[0]:[]);De.enter().append("g").classed("slicetext",!0),De.exit().remove(),De.each(function(){var St,gt,dt,Ge=m.ensureSingle(C.select(this),"text","",function(St){St.attr("data-notex",1)}),He=m.ensureUniformFontSize(H,"outside"===Ie?(dt=Y.font,{color:c.castOption((St=oe).outsidetextfont.color,(gt=Se).pts)||c.castOption(St.textfont.color,gt.pts)||dt.color,family:c.castOption(St.outsidetextfont.family,gt.pts)||c.castOption(St.textfont.family,gt.pts)||dt.family,size:c.castOption(St.outsidetextfont.size,gt.pts)||c.castOption(St.textfont.size,gt.pts)||dt.size}):v(oe,Se,Y.font));Ge.text(Se.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(T.font,He).call(o.convertToTspans,H);var Ke,et=T.bBox(Ge.node());if("outside"===Ie)Ke=I(et,Se);else if(Ke=_(et,Se,te),"auto"===Ie&&Ke.scale<1){var st=m.ensureUniformFontSize(H,oe.outsidetextfont);Ge.call(T.font,st),Ke=I(et=T.bBox(Ge.node()),Se)}var mt=Ke.textPosAngle,at=void 0===mt?Se.pxmid:$(te.r,mt);if(Ke.targetX=pe+at[0]*Ke.rCenter+(Ke.x||0),Ke.targetY=de+at[1]*Ke.rCenter+(Ke.y||0),W(Ke,et),Ke.outside){var kt=Ke.targetY;Se.yLabelMin=kt-et.height/2,Se.yLabelMid=kt,Se.yLabelMax=kt+et.height/2,Se.labelExtraX=0,Se.labelExtraY=0,he=!0}Ke.fontSize=He.size,n(oe.type,Ke,Y),Q[Ce].transform=Ke,m.setTransormAndDisplay(Ge,Ke)})}function ze(Ge,He,Ke,et){return"a"+et*te.r+","+et*te.r+" 0 "+Se.largeArc+(Ke?" 1 ":" 0 ")+et*(He[0]-Ge[0])+","+et*(He[1]-Ge[1])}});var Ce,me=C.select(this).selectAll("g.titletext").data(oe.title.text?[0]:[]);if(me.enter().append("g").classed("titletext",!0),me.exit().remove(),me.each(function(){var Se,de,se,Ce=m.ensureSingle(C.select(this),"text","",function(de){de.attr("data-notex",1)}),pe=oe.title.text;oe._meta&&(pe=m.templateString(pe,oe._meta)),Ce.text(pe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(T.font,oe.title.font).call(o.convertToTspans,H),Se="middle center"===oe.title.position?(de=te,se=Math.sqrt(de.titleBox.width*de.titleBox.width+de.titleBox.height*de.titleBox.height),{x:de.cx,y:de.cy,scale:de.trace.hole*de.r*2/se,tx:0,ty:-de.titleBox.height/2+de.trace.title.font.size}):L(te,ae),Ce.attr("transform",t(Se.x,Se.y)+l(Math.min(1,Se.scale))+t(Se.tx,Se.ty))}),he&&function(Se,Ce){var pe,de,se,we,Re,Ee,Ue,$e,ve,Ie,De,ze,Ge;function He(mt,at){return mt.pxmid[1]-at.pxmid[1]}function Ke(mt,at){return at.pxmid[1]-mt.pxmid[1]}function et(mt,at){at||(at={});var kt,St,gt,dt,Ct=at.labelExtraY+(de?at.yLabelMax:at.yLabelMin),Ot=de?mt.yLabelMin:mt.yLabelMax,Pt=de?mt.yLabelMax:mt.yLabelMin,Ht=mt.cyFinal+Re(mt.px0[1],mt.px1[1]),jt=Ct-Ot;if(jt*Ue>0&&(mt.labelExtraY=jt),Array.isArray(Ce.pull))for(St=0;St<Ie.length;St++)(gt=Ie[St])===mt||(c.castOption(Ce.pull,mt.pts)||0)>=(c.castOption(Ce.pull,gt.pts)||0)||((mt.pxmid[1]-gt.pxmid[1])*Ue>0?(jt=gt.cyFinal+Re(gt.px0[1],gt.px1[1])-Ot-mt.labelExtraY)*Ue>0&&(mt.labelExtraY+=jt):(Pt+mt.labelExtraY-Ht)*Ue>0&&(kt=3*Ee*Math.abs(St-Ie.indexOf(mt)),(dt=gt.cxFinal+we(gt.px0[0],gt.px1[0])+kt-(mt.cxFinal+mt.pxmid[0])-mt.labelExtraX)*Ee>0&&(mt.labelExtraX+=dt)))}for(de=0;de<2;de++)for(se=de?He:Ke,Re=de?Math.max:Math.min,Ue=de?1:-1,pe=0;pe<2;pe++){for(we=pe?Math.max:Math.min,Ee=pe?1:-1,($e=Se[de][pe]).sort(se),Ie=(ve=Se[1-de][pe]).concat($e),ze=[],De=0;De<$e.length;De++)void 0!==$e[De].yLabelMid&&ze.push($e[De]);for(Ge=!1,De=0;de&&De<ve.length;De++)if(void 0!==ve[De].yLabelMid){Ge=ve[De];break}for(De=0;De<ze.length;De++){var st=De&&ze[De-1];Ge&&!De&&(st=Ge),et(ze[De],st)}}}(fe,oe),Ce=oe,ue.each(function(pe){var de=C.select(this);if(pe.labelExtraX||pe.labelExtraY){var se=de.select("g.slicetext text");pe.transform.targetX+=pe.labelExtraX,pe.transform.targetY+=pe.labelExtraY,m.setTransormAndDisplay(se,pe.transform);var we=pe.cxFinal+pe.pxmid[0],Re="M"+we+","+(pe.cyFinal+pe.pxmid[1]),Ee=(pe.yLabelMax-pe.yLabelMin)*(pe.pxmid[0]<0?-1:1)/4;if(pe.labelExtraX){var Ue=pe.labelExtraX*pe.pxmid[1]/pe.pxmid[0],$e=pe.yLabelMid+pe.labelExtraY-(pe.cyFinal+pe.pxmid[1]);Math.abs(Ue)>Math.abs($e)?Re+="l"+$e*pe.pxmid[0]/pe.pxmid[1]+","+$e+"H"+(we+pe.labelExtraX+Ee):Re+="l"+pe.labelExtraX+","+Ue+"v"+($e-Ue)+"h"+Ee}else Re+="V"+(pe.yLabelMid+pe.labelExtraY)+"h"+Ee;m.ensureSingle(de,"path","textline").call(A.stroke,Ce.outsidetextfont.color).attr({"stroke-width":Math.min(2,Ce.outsidetextfont.size/8),d:Re,fill:"none"})}else de.select("path.textline").remove()}),he&&oe.automargin){var ke=T.bBox(K.node()),Pe=oe.domain,xe=(ae.w*(Pe.x[1]-Pe.x[0])*.5-te.r)/ae.w,Ne=(ae.h*(Pe.y[1]-Pe.y[0])*.5-te.r)/ae.h;S.autoMargin(H,"pie."+oe.uid+".automargin",{xl:Pe.x[0]-xe,xr:Pe.x[1]+xe,yb:Pe.y[0]-Ne,yt:Pe.y[1]+Ne,l:Math.max(te.cx-te.r-ke.left,0),r:Math.max(ke.right-(te.cx+te.r),0),b:Math.max(ke.bottom-(te.cy+te.r),0),t:Math.max(te.cy-te.r-ke.top,0),pad:5})}})});setTimeout(function(){re.selectAll("tspan").each(function(){var Q=C.select(this);Q.attr("dy")&&Q.attr("dy",Q.attr("dy"))})},0)},formatSliceLabel:N,transformInsideText:_,determineInsideTextFont:v,positionTitleOutside:L,prerenderTitles:h,layoutAreas:z,attachFxHandlers:w,computeTransform:W}},68357:function(ie,B,e){"use strict";var C=e(39898),S=e(63463),u=e(72597).resizeText;ie.exports=function(A){var T=A._fullLayout._pielayer.selectAll(".trace");u(A,T,"pie"),T.each(function(m){var l=m[0].trace,t=C.select(this);t.style({opacity:l.opacity}),t.selectAll("path.surface").each(function(o){C.select(this).call(S,o,l,A)})})}},63463:function(ie,B,e){"use strict";var C=e(7901),S=e(53581).castOption,u=e(22209);ie.exports=function(A,T,m,l){var t=m.marker.line,o=S(t.color,T.pts)||C.defaultLine,r=S(t.width,T.pts)||0;A.call(u,T,m,l).style("stroke-width",r).call(C.stroke,o)}},10959:function(ie,B,e){"use strict";var C=e(82196);ie.exports={x:C.x,y:C.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:C.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(ie,B,e){"use strict";var C=e(9330).gl_pointcloud2d,S=e(78614),u=e(71739).findExtremes,A=e(34603);function T(l,t){this.scene=l,this.uid=t,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=C(l.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var m=T.prototype;m.handlePick=function(l){var t=this.idToIndex[l.pointId];return{trace:this,dataCoord:l.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*t],this.pickXYData[2*t+1]]:[this.pickXData[t],this.pickYData[t]],textLabel:Array.isArray(this.textLabels)?this.textLabels[t]:this.textLabels,color:this.color,name:this.name,pointIndex:t,hoverinfo:this.hoverinfo}},m.update=function(l){this.index=l.index,this.textLabels=l.text,this.name=l.name,this.hoverinfo=l.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(l),this.color=A(l,{})},m.updateFast=function(l){var t,o,r,n,a,s,c=this.xData=this.pickXData=l.x,p=this.yData=this.pickYData=l.y,f=this.pickXYData=l.xy,v=l.indices,h=this.bounds;if(f){if(r=f,t=f.length>>>1,l.xbounds&&l.ybounds)h[0]=l.xbounds[0],h[2]=l.xbounds[1],h[1]=l.ybounds[0],h[3]=l.ybounds[1];else for(s=0;s<t;s++)a=r[2*s+1],(n=r[2*s])<h[0]&&(h[0]=n),n>h[2]&&(h[2]=n),a<h[1]&&(h[1]=a),a>h[3]&&(h[3]=a);if(v)o=v;else for(o=new Int32Array(t),s=0;s<t;s++)o[s]=s}else for(t=c.length,r=new Float32Array(2*t),o=new Int32Array(t),s=0;s<t;s++)n=c[s],a=p[s],o[s]=s,r[2*s]=n,r[2*s+1]=a,n<h[0]&&(h[0]=n),n>h[2]&&(h[2]=n),a<h[1]&&(h[1]=a),a>h[3]&&(h[3]=a);this.idToIndex=o,this.pointcloudOptions.idToIndex=o,this.pointcloudOptions.positions=r;var _=S(l.marker.color),x=S(l.marker.border.color),b=l.opacity*l.marker.opacity;_[3]*=b,this.pointcloudOptions.color=_;var M=l.marker.blend;null===M&&(M=c.length<100||p.length<100),this.pointcloudOptions.blend=M,x[3]*=b,this.pointcloudOptions.borderColor=x;var d=l.marker.sizemin,E=Math.max(l.marker.sizemax,l.marker.sizemin);this.pointcloudOptions.sizeMin=d,this.pointcloudOptions.sizeMax=E,this.pointcloudOptions.areaRatio=l.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var k=this.scene.xaxis,I=this.scene.yaxis,L=E/2||.5;l._extremes[k._id]=u(k,[h[0],h[2]],{ppad:L}),l._extremes[I._id]=u(I,[h[1],h[3]],{ppad:L})},m.dispose=function(){this.pointcloud.dispose()},ie.exports=function(l,t){var o=new T(l,t.uid);return o.update(t),o}},33876:function(ie,B,e){"use strict";var C=e(71828),S=e(10959);ie.exports=function(u,A,T){function m(l,t){return C.coerce(u,A,S,l,t)}m("x"),m("y"),m("xbounds"),m("ybounds"),u.xy&&u.xy instanceof Float32Array&&(A.xy=u.xy),u.indices&&u.indices instanceof Int32Array&&(A.indices=u.indices),m("text"),m("marker.color",T),m("marker.opacity"),m("marker.blend"),m("marker.sizemin"),m("marker.sizemax"),m("marker.border.color",T),m("marker.border.arearatio"),A._length=null}},20593:function(ie,B,e){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),ie.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(ie,B,e){"use strict";var C=e(41940),S=e(9012),u=e(22399),A=e(77914),T=e(27670).Y,m=e(5386).fF,l=e(50693),t=e(44467).templatedArray,o=e(12663).descriptionOnlyNumbers,r=e(1426).extendFlat,n=e(30962).overrideAll;(ie.exports=n({hoverinfo:r({},S.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:A.hoverlabel,domain:T({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:o("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:C({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:u.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:A.hoverlabel,hovertemplate:m({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:u.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:A.hoverlabel,hovertemplate:m({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:r(l().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(ie,B,e){"use strict";var C=e(30962).overrideAll,S=e(27659).a0,u=e(60436),A=e(528),T=e(6964),m=e(28569),l=e(47322).prepSelect,t=e(71828),o=e(73972),r="sankey";function n(a,s){var c=a._fullData[s],p=a._fullLayout,f=p.dragmode,v=c._bgRect;if(v&&"pan"!==f&&"zoom"!==f){T(v,"pan"===p.dragmode?"move":"crosshair");var h={_id:"x",c2p:t.identity,_offset:c._sankey.translateX,_length:c._sankey.width},_={_id:"y",c2p:t.identity,_offset:c._sankey.translateY,_length:c._sankey.height},x={gd:a,element:v.node(),plotinfo:{id:s,xaxis:h,yaxis:_,fillRangeItems:t.noop},subplot:s,xaxes:[h],yaxes:[_],doneFnCompleted:function(b){var M,d=a._fullData[s],E=d.node.groups.slice(),k=[];function I(z){for(var $=d._sankey.graph.nodes,N=0;N<$.length;N++)if($[N].pointNumber===z)return $[N]}for(var L=0;L<b.length;L++){var P=I(b[L].pointNumber);if(P)if(P.group){for(var R=0;R<P.childrenNodes.length;R++)k.push(P.childrenNodes[R].pointNumber);E[P.pointNumber-d.node._count]=!1}else k.push(P.pointNumber)}M=E.filter(Boolean).concat([k]),o.call("_guiRestyle",a,{"node.groups":[M]},s)},prepFn:function(b,M,d){l(b,M,d,x,f)}};m.init(x)}}B.name=r,B.baseLayoutAttrOverrides=C({hoverlabel:A.hoverlabel},"plot","nested"),B.plot=function(a){var s=S(a.calcdata,r)[0];u(a,s),B.updateFx(a)},B.clean=function(a,s,c,p){var f=p._has&&p._has(r),w=s._has&&s._has(r);f&&!w&&(p._paperdiv.selectAll(".sankey").remove(),p._paperdiv.selectAll(".bgsankey").remove())},B.updateFx=function(a){for(var s=0;s<a._fullData.length;s++)n(a,s)}},92930:function(ie,B,e){"use strict";var C=e(68664),S=e(71828),u=e(28984).wrap,A=S.isArrayOrTypedArray,T=S.isIndex,m=e(21081);ie.exports=function(l,t){var o=function(r){var n,a=r.node,s=r.link,c=[],p=A(s.color),f=A(s.customdata),w={},v={},h=s.colorscales.length;for(n=0;n<h;n++){var _=s.colorscales[n],x=m.extractScale(_,{cLetter:"c"}),b=m.makeColorScaleFunc(x);v[_.label]=b}var M=0;for(n=0;n<s.value.length;n++)s.source[n]>M&&(M=s.source[n]),s.target[n]>M&&(M=s.target[n]);var d,E=M+1;r.node._count=E;var k=r.node.groups,I={};for(n=0;n<k.length;n++){var L=k[n];for(d=0;d<L.length;d++){var P=L[d],R=E+n;I.hasOwnProperty(P)?S.warn("Node "+P+" is already part of a group."):I[P]=R}}var z={source:[],target:[]};for(n=0;n<s.value.length;n++){var $=s.value[n],N=s.source[n],W=s.target[n];if($>0&&T(N,E)&&T(W,E)&&(!I.hasOwnProperty(N)||!I.hasOwnProperty(W)||I[N]!==I[W])){I.hasOwnProperty(W)&&(W=I[W]),I.hasOwnProperty(N)&&(N=I[N]),w[N=+N]=w[W=+W]=!0;var H="";s.label&&s.label[n]&&(H=s.label[n]);var U=null;H&&v.hasOwnProperty(H)&&(U=v[H]),c.push({pointNumber:n,label:H,color:p?s.color[n]:s.color,customdata:f?s.customdata[n]:s.customdata,concentrationscale:U,source:N,target:W,value:+$}),z.source.push(N),z.target.push(W)}}var Z=E+k.length,Y=A(a.color),ae=A(a.customdata),re=[];for(n=0;n<Z;n++)w[n]&&re.push({group:n>E-1,childrenNodes:[],pointNumber:n,label:a.label[n],color:Y?a.color[n]:a.color,customdata:ae?a.customdata[n]:a.customdata});var K=!1;return function(te,oe,ue){for(var fe=S.init2dArray(te,0),he=0;he<Math.min(oe.length,ue.length);he++)if(S.isIndex(oe[he],te)&&S.isIndex(ue[he],te)){if(oe[he]===ue[he])return!0;fe[oe[he]].push(ue[he])}return C(fe).components.some(function(me){return me.length>1})}(Z,z.source,z.target)&&(K=!0),{circular:K,links:c,nodes:re,groups:k,groupLookup:I}}(t);return u({circular:o.circular,_nodes:o.nodes,_links:o.links,_groups:o.groups,_groupLookup:o.groupLookup})}},85247:function(ie){"use strict";ie.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(ie,B,e){"use strict";var C=e(71828),S=e(39953),u=e(7901),A=e(84267),T=e(27670).c,m=e(38048),l=e(44467),t=e(85501);function o(r,n){function a(s,c){return C.coerce(r,n,S.link.colorscales,s,c)}a("label"),a("cmin"),a("cmax"),a("colorscale")}ie.exports=function(r,n,a,s){function c(E,k){return C.coerce(r,n,S,E,k)}var p=C.extendDeep(s.hoverlabel,r.hoverlabel),f=r.node,w=l.newContainer(n,"node");function v(E,k){return C.coerce(f,w,S.node,E,k)}v("label"),v("groups"),v("x"),v("y"),v("pad"),v("thickness"),v("line.color"),v("line.width"),v("hoverinfo",r.hoverinfo),m(f,w,v,p),v("hovertemplate");var h=s.colorway;v("color",w.label.map(function(E,k){return u.addOpacity(h[k%h.length],.8)})),v("customdata");var _=r.link||{},x=l.newContainer(n,"link");function b(E,k){return C.coerce(_,x,S.link,E,k)}b("label"),b("arrowlen"),b("source"),b("target"),b("value"),b("line.color"),b("line.width"),b("hoverinfo",r.hoverinfo),m(_,x,b,p),b("hovertemplate");var M,d=A(s.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";b("color",C.repeat(d,x.value.length)),b("customdata"),t(_,x,{name:"colorscales",handleItemDefaults:o}),T(n,s,c),c("orientation"),c("valueformat"),c("valuesuffix"),w.x.length&&w.y.length&&(M="freeform"),c("arrangement",M),C.coerceFont(c,"textfont",C.extendFlat({},s.font)),n._length=null}},29396:function(ie,B,e){"use strict";ie.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=S.numberFormat,A=e(3393),T=e(30211),m=e(7901),l=e(85247).cn,t=S._;function o(_){return""!==_}function r(_,x){return _.filter(function(b){return b.key===x.traceId})}function n(_,x){C.select(_).select("path").style("fill-opacity",x),C.select(_).select("rect").style("fill-opacity",x)}function a(_){C.select(_).select("text.name").style("fill","black")}function s(_){return function(x){return-1!==_.node.sourceLinks.indexOf(x.link)||-1!==_.node.targetLinks.indexOf(x.link)}}function c(_){return function(x){return-1!==x.node.sourceLinks.indexOf(_.link)||-1!==x.node.targetLinks.indexOf(_.link)}}function p(_,x,b){x&&b&&r(b,x).selectAll("."+l.sankeyLink).filter(s(x)).call(w.bind(0,x,b,!1))}function f(_,x,b){x&&b&&r(b,x).selectAll("."+l.sankeyLink).filter(s(x)).call(v.bind(0,x,b,!1))}function w(_,x,b,M){var d=M.datum().link.label;M.style("fill-opacity",function(E){if(!E.link.concentrationscale)return.4}),d&&r(x,_).selectAll("."+l.sankeyLink).filter(function(E){return E.link.label===d}).style("fill-opacity",function(E){if(!E.link.concentrationscale)return.4}),b&&r(x,_).selectAll("."+l.sankeyNode).filter(c(_)).call(p)}function v(_,x,b,M){var d=M.datum().link.label;M.style("fill-opacity",function(E){return E.tinyColorAlpha}),d&&r(x,_).selectAll("."+l.sankeyLink).filter(function(E){return E.link.label===d}).style("fill-opacity",function(E){return E.tinyColorAlpha}),b&&r(x,_).selectAll(l.sankeyNode).filter(c(_)).call(f)}function h(_,x){var M=S.nestedProperty(_.hoverlabel||{},x).get();return!Array.isArray(M)&&M}ie.exports=function(_,x){for(var b=_._fullLayout,M=b._paper,d=b._size,E=0;E<_._fullData.length;E++)if(_._fullData[E].visible&&_._fullData[E].type===l.sankey&&!_._fullData[E]._viewInitial){var k=_._fullData[E].node;_._fullData[E]._viewInitial={node:{groups:k.groups.slice(),x:k.x.slice(),y:k.y.slice()}}}var I=t(_,"source:")+" ",L=t(_,"target:")+" ",P=t(_,"concentration:")+" ",R=t(_,"incoming flow count:")+" ",z=t(_,"outgoing flow count:")+" ";A(_,M,x,{width:d.w,height:d.h,margin:{t:d.t,r:d.r,b:d.b,l:d.l}},{linkEvents:{hover:function($,N,W){!1!==_._fullLayout.hovermode&&(C.select($).call(w.bind(0,N,W,!0)),"skip"!==N.link.trace.link.hoverinfo&&(N.link.fullData=N.link.trace,_.emit("plotly_hover",{event:C.event,points:[N.link]})))},follow:function($,N){if(!1!==_._fullLayout.hovermode){var W=N.link.trace.link;if("none"!==W.hoverinfo&&"skip"!==W.hoverinfo){for(var H=[],U=0,Z=0;Z<N.flow.links.length;Z++){var Y=N.flow.links[Z];if("closest"!==_._fullLayout.hovermode||N.link.pointNumber===Y.pointNumber){N.link.pointNumber===Y.pointNumber&&(U=Z),Y.fullData=Y.trace,W=N.link.trace.link;var ae=Q(Y),re={valueLabel:u(N.valueFormat)(Y.value)+N.valueSuffix};H.push({x:ae[0],y:ae[1],name:re.valueLabel,text:[Y.label||"",I+Y.source.label,L+Y.target.label,Y.concentrationscale?P+u("%0.2f")(Y.flow.labelConcentration):""].filter(o).join("<br>"),color:h(W,"bgcolor")||m.addOpacity(Y.color,1),borderColor:h(W,"bordercolor"),fontFamily:h(W,"font.family"),fontSize:h(W,"font.size"),fontColor:h(W,"font.color"),nameLength:h(W,"namelength"),textAlign:h(W,"align"),idealAlign:C.event.x<ae[0]?"right":"left",hovertemplate:W.hovertemplate,hovertemplateLabels:re,eventData:[Y]})}}T.loneHover(H,{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:_,anchorIndex:U}).each(function(){N.link.concentrationscale||n(this,.65),a(this)})}}function Q(K){var te,oe;K.circular?(te=(K.circularPathData.leftInnerExtent+K.circularPathData.rightInnerExtent)/2,oe=K.circularPathData.verticalFullExtent):(te=(K.source.x1+K.target.x0)/2,oe=(K.y0+K.y1)/2);var ue=[te,oe];return"v"===K.trace.orientation&&ue.reverse(),ue[0]+=N.parent.translateX,ue[1]+=N.parent.translateY,ue}},unhover:function($,N,W){!1!==_._fullLayout.hovermode&&(C.select($).call(v.bind(0,N,W,!0)),"skip"!==N.link.trace.link.hoverinfo&&(N.link.fullData=N.link.trace,_.emit("plotly_unhover",{event:C.event,points:[N.link]})),T.loneUnhover(b._hoverlayer.node()))},select:function($,N){var W=N.link;W.originalEvent=C.event,_._hoverdata=[W],T.click(_,{target:!0})}},nodeEvents:{hover:function($,N,W){!1!==_._fullLayout.hovermode&&(C.select($).call(p,N,W),"skip"!==N.node.trace.node.hoverinfo&&(N.node.fullData=N.node.trace,_.emit("plotly_hover",{event:C.event,points:[N.node]})))},follow:function($,N){if(!1!==_._fullLayout.hovermode){var W=N.node.trace.node;if("none"!==W.hoverinfo&&"skip"!==W.hoverinfo){var H=C.select($).select("."+l.nodeRect),U=_._fullLayout._paperdiv.node().getBoundingClientRect(),Z=H.node().getBoundingClientRect(),Y=Z.left-2-U.left,ae=Z.right+2-U.left,re=Z.top+Z.height/4-U.top,Q={valueLabel:u(N.valueFormat)(N.node.value)+N.valueSuffix};N.node.fullData=N.node.trace,_._fullLayout._calcInverseTransform(_);var K=_._fullLayout._invScaleX,oe=T.loneHover({x0:K*Y,x1:K*ae,y:_._fullLayout._invScaleY*re,name:u(N.valueFormat)(N.node.value)+N.valueSuffix,text:[N.node.label,R+N.node.targetLinks.length,z+N.node.sourceLinks.length].filter(o).join("<br>"),color:h(W,"bgcolor")||N.tinyColorHue,borderColor:h(W,"bordercolor"),fontFamily:h(W,"font.family"),fontSize:h(W,"font.size"),fontColor:h(W,"font.color"),nameLength:h(W,"namelength"),textAlign:h(W,"align"),idealAlign:"left",hovertemplate:W.hovertemplate,hovertemplateLabels:Q,eventData:[N.node]},{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:_});n(oe,.85),a(oe)}}},unhover:function($,N,W){!1!==_._fullLayout.hovermode&&(C.select($).call(f,N,W),"skip"!==N.node.trace.node.hoverinfo&&(N.node.fullData=N.node.trace,_.emit("plotly_unhover",{event:C.event,points:[N.node]})),T.loneUnhover(b._hoverlayer.node()))},select:function($,N,W){var H=N.node;H.originalEvent=C.event,_._hoverdata=[H],C.select($).call(f,N,W),T.click(_,{target:!0})}}})}},3393:function(ie,B,e){"use strict";var C=e(49887),S=e(81684).k4,u=e(39898),A=e(30838),T=e(86781),m=e(85247),l=e(84267),t=e(7901),o=e(91424),r=e(71828),n=r.strTranslate,a=r.strRotate,s=e(28984),c=s.keyFun,p=s.repeat,f=s.unwrap,w=e(63893),v=e(73972),h=e(18783),_=h.CAP_SHIFT,x=h.LINE_SPACING;function b(Z,Y,ae){var re,Q=f(Y),K=Q.trace,te=K.domain,oe="h"===K.orientation,ue=K.node.pad,fe=K.node.thickness,he=Z.width*(te.x[1]-te.x[0]),me=Z.height*(te.y[1]-te.y[0]),ke=Q._nodes,Pe=Q._links,Te=Q.circular;(re=Te?T.sankeyCircular().circularLinkGap(0):A.sankey()).iterations(m.sankeyIterations).size(oe?[he,me]:[me,he]).nodeWidth(fe).nodePadding(ue).nodeId(function(Ee){return Ee.pointNumber}).nodes(ke).links(Pe);var be,xe,Ne,Se=re();for(var Ce in re.nodePadding()<ue&&r.warn("node.pad was reduced to ",re.nodePadding()," to fit within the figure."),Q._groupLookup){var pe,de=parseInt(Q._groupLookup[Ce]);for(be=0;be<Se.nodes.length;be++)if(Se.nodes[be].pointNumber===de){pe=Se.nodes[be];break}if(pe){var se={pointNumber:parseInt(Ce),x0:pe.x0,x1:pe.x1,y0:pe.y0,y1:pe.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Se.nodes.unshift(se),pe.childrenNodes.unshift(se)}}if(function(){for(be=0;be<Se.nodes.length;be++){var Ee,Ue,$e=Se.nodes[be],ve={};for(xe=0;xe<$e.targetLinks.length;xe++)Ee=(Ue=$e.targetLinks[xe]).source.pointNumber+":"+Ue.target.pointNumber,ve.hasOwnProperty(Ee)||(ve[Ee]=[]),ve[Ee].push(Ue);var Ie=Object.keys(ve);for(xe=0;xe<Ie.length;xe++){var De=ve[Ee=Ie[xe]],ze=0,Ge={};for(Ne=0;Ne<De.length;Ne++)Ge[(Ue=De[Ne]).label]||(Ge[Ue.label]=0),Ge[Ue.label]+=Ue.value,ze+=Ue.value;for(Ne=0;Ne<De.length;Ne++)(Ue=De[Ne]).flow={value:ze,labelConcentration:Ge[Ue.label]/ze,concentration:Ue.value/ze,links:De},Ue.concentrationscale&&(Ue.color=l(Ue.concentrationscale(Ue.flow.labelConcentration)))}var He=0;for(xe=0;xe<$e.sourceLinks.length;xe++)He+=$e.sourceLinks[xe].value;for(xe=0;xe<$e.sourceLinks.length;xe++)(Ue=$e.sourceLinks[xe]).concentrationOut=Ue.value/He;var Ke=0;for(xe=0;xe<$e.targetLinks.length;xe++)Ke+=$e.targetLinks[xe].value;for(xe=0;xe<$e.targetLinks.length;xe++)(Ue=$e.targetLinks[xe]).concenrationIn=Ue.value/Ke}}(),K.node.x.length&&K.node.y.length){for(be=0;be<Math.min(K.node.x.length,K.node.y.length,Se.nodes.length);be++)if(K.node.x[be]&&K.node.y[be]){var we=[K.node.x[be]*he,K.node.y[be]*me];Se.nodes[be].x0=we[0]-fe/2,Se.nodes[be].x1=we[0]+fe/2;var Re=Se.nodes[be].y1-Se.nodes[be].y0;Se.nodes[be].y0=we[1]-Re/2,Se.nodes[be].y1=we[1]+Re/2}"snap"===K.arrangement&&function(Ee){var Ue,$e,ve=Ee.map(function(He,Ke){return{x0:He.x0,index:Ke}}).sort(function(He,Ke){return He.x0-Ke.x0}),Ie=[],De=-1,ze=-1/0;for(be=0;be<ve.length;be++){var Ge=Ee[ve[be].index];Ge.x0>ze+fe&&(De+=1,Ue=Ge.x0),ze=Ge.x0,Ie[De]||(Ie[De]=[]),Ie[De].push(Ge),Ge.x0+=$e=Ue-Ge.x0,Ge.x1+=$e}return Ie}(ke=Se.nodes).forEach(function(Ee){var Ue,$e,ve,Ie=0,De=Ee.length;for(Ee.sort(function(ze,Ge){return ze.y0-Ge.y0}),ve=0;ve<De;++ve)(Ue=Ee[ve]).y0>=Ie||($e=Ie-Ue.y0)>1e-6&&(Ue.y0+=$e,Ue.y1+=$e),Ie=Ue.y1+ue}),re.update(Se)}return{circular:Te,key:ae,trace:K,guid:r.randstr(),horizontal:oe,width:he,height:me,nodePad:K.node.pad,nodeLineColor:K.node.line.color,nodeLineWidth:K.node.line.width,linkLineColor:K.link.line.color,linkLineWidth:K.link.line.width,linkArrowLength:K.link.arrowlen,valueFormat:K.valueformat,valueSuffix:K.valuesuffix,textFont:K.textfont,translateX:te.x[0]*Z.width+Z.margin.l,translateY:Z.height-te.y[1]*Z.height+Z.margin.t,dragParallel:oe?me:he,dragPerpendicular:oe?he:me,arrangement:K.arrangement,sankey:re,graph:Se,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function M(Z,Y,ae){var re=l(Y.color),Q=Y.source.label+"|"+Y.target.label+"__"+ae;return Y.trace=Z.trace,Y.curveNumber=Z.trace.index,{circular:Z.circular,key:Q,traceId:Z.key,pointNumber:Y.pointNumber,link:Y,tinyColorHue:t.tinyRGB(re),tinyColorAlpha:re.getAlpha(),linkPath:d,linkLineColor:Z.linkLineColor,linkLineWidth:Z.linkLineWidth,linkArrowLength:Z.linkArrowLength,valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,parent:Z,interactionState:Z.interactionState,flow:Y.flow}}function d(){return function(Z){var xe,Ne,Se,Ce,Y=Z.linkArrowLength;if(Z.link.circular)return Ne=Y,Se=(xe=Z.link).width/2,Ce=xe.circularPathData,"top"===xe.circularLinkType?"M "+(Ce.targetX-Ne)+" "+(Ce.targetY+Se)+" L"+(Ce.rightInnerExtent-Ne)+" "+(Ce.targetY+Se)+"A"+(Ce.rightLargeArcRadius+Se)+" "+(Ce.rightSmallArcRadius+Se)+" 0 0 1 "+(Ce.rightFullExtent-Se-Ne)+" "+(Ce.targetY-Ce.rightSmallArcRadius)+"L"+(Ce.rightFullExtent-Se-Ne)+" "+Ce.verticalRightInnerExtent+"A"+(Ce.rightLargeArcRadius+Se)+" "+(Ce.rightLargeArcRadius+Se)+" 0 0 1 "+(Ce.rightInnerExtent-Ne)+" "+(Ce.verticalFullExtent-Se)+"L"+Ce.leftInnerExtent+" "+(Ce.verticalFullExtent-Se)+"A"+(Ce.leftLargeArcRadius+Se)+" "+(Ce.leftLargeArcRadius+Se)+" 0 0 1 "+(Ce.leftFullExtent+Se)+" "+Ce.verticalLeftInnerExtent+"L"+(Ce.leftFullExtent+Se)+" "+(Ce.sourceY-Ce.leftSmallArcRadius)+"A"+(Ce.leftLargeArcRadius+Se)+" "+(Ce.leftSmallArcRadius+Se)+" 0 0 1 "+Ce.leftInnerExtent+" "+(Ce.sourceY+Se)+"L"+Ce.sourceX+" "+(Ce.sourceY+Se)+"L"+Ce.sourceX+" "+(Ce.sourceY-Se)+"L"+Ce.leftInnerExtent+" "+(Ce.sourceY-Se)+"A"+(Ce.leftLargeArcRadius-Se)+" "+(Ce.leftSmallArcRadius-Se)+" 0 0 0 "+(Ce.leftFullExtent-Se)+" "+(Ce.sourceY-Ce.leftSmallArcRadius)+"L"+(Ce.leftFullExtent-Se)+" "+Ce.verticalLeftInnerExtent+"A"+(Ce.leftLargeArcRadius-Se)+" "+(Ce.leftLargeArcRadius-Se)+" 0 0 0 "+Ce.leftInnerExtent+" "+(Ce.verticalFullExtent+Se)+"L"+(Ce.rightInnerExtent-Ne)+" "+(Ce.verticalFullExtent+Se)+"A"+(Ce.rightLargeArcRadius-Se)+" "+(Ce.rightLargeArcRadius-Se)+" 0 0 0 "+(Ce.rightFullExtent+Se-Ne)+" "+Ce.verticalRightInnerExtent+"L"+(Ce.rightFullExtent+Se-Ne)+" "+(Ce.targetY-Ce.rightSmallArcRadius)+"A"+(Ce.rightLargeArcRadius-Se)+" "+(Ce.rightSmallArcRadius-Se)+" 0 0 0 "+(Ce.rightInnerExtent-Ne)+" "+(Ce.targetY-Se)+"L"+(Ce.targetX-Ne)+" "+(Ce.targetY-Se)+(Ne>0?"L"+Ce.targetX+" "+Ce.targetY:"")+"Z":"M "+(Ce.targetX-Ne)+" "+(Ce.targetY-Se)+" L"+(Ce.rightInnerExtent-Ne)+" "+(Ce.targetY-Se)+"A"+(Ce.rightLargeArcRadius+Se)+" "+(Ce.rightSmallArcRadius+Se)+" 0 0 0 "+(Ce.rightFullExtent-Se-Ne)+" "+(Ce.targetY+Ce.rightSmallArcRadius)+"L"+(Ce.rightFullExtent-Se-Ne)+" "+Ce.verticalRightInnerExtent+"A"+(Ce.rightLargeArcRadius+Se)+" "+(Ce.rightLargeArcRadius+Se)+" 0 0 0 "+(Ce.rightInnerExtent-Ne)+" "+(Ce.verticalFullExtent+Se)+"L"+Ce.leftInnerExtent+" "+(Ce.verticalFullExtent+Se)+"A"+(Ce.leftLargeArcRadius+Se)+" "+(Ce.leftLargeArcRadius+Se)+" 0 0 0 "+(Ce.leftFullExtent+Se)+" "+Ce.verticalLeftInnerExtent+"L"+(Ce.leftFullExtent+Se)+" "+(Ce.sourceY+Ce.leftSmallArcRadius)+"A"+(Ce.leftLargeArcRadius+Se)+" "+(Ce.leftSmallArcRadius+Se)+" 0 0 0 "+Ce.leftInnerExtent+" "+(Ce.sourceY-Se)+"L"+Ce.sourceX+" "+(Ce.sourceY-Se)+"L"+Ce.sourceX+" "+(Ce.sourceY+Se)+"L"+Ce.leftInnerExtent+" "+(Ce.sourceY+Se)+"A"+(Ce.leftLargeArcRadius-Se)+" "+(Ce.leftSmallArcRadius-Se)+" 0 0 1 "+(Ce.leftFullExtent-Se)+" "+(Ce.sourceY+Ce.leftSmallArcRadius)+"L"+(Ce.leftFullExtent-Se)+" "+Ce.verticalLeftInnerExtent+"A"+(Ce.leftLargeArcRadius-Se)+" "+(Ce.leftLargeArcRadius-Se)+" 0 0 1 "+Ce.leftInnerExtent+" "+(Ce.verticalFullExtent-Se)+"L"+(Ce.rightInnerExtent-Ne)+" "+(Ce.verticalFullExtent-Se)+"A"+(Ce.rightLargeArcRadius-Se)+" "+(Ce.rightLargeArcRadius-Se)+" 0 0 1 "+(Ce.rightFullExtent+Se-Ne)+" "+Ce.verticalRightInnerExtent+"L"+(Ce.rightFullExtent+Se-Ne)+" "+(Ce.targetY+Ce.rightSmallArcRadius)+"A"+(Ce.rightLargeArcRadius-Se)+" "+(Ce.rightSmallArcRadius-Se)+" 0 0 1 "+(Ce.rightInnerExtent-Ne)+" "+(Ce.targetY+Se)+"L"+(Ce.targetX-Ne)+" "+(Ce.targetY+Se)+(Ne>0?"L"+Ce.targetX+" "+Ce.targetY:"")+"Z";var ae=Math.abs((Z.link.target.x0-Z.link.source.x1)/2);Y>ae&&(Y=ae);var re=Z.link.source.x1,Q=Z.link.target.x0-Y,K=S(re,Q),te=K(.5),oe=K(.5),ue=Z.link.y0-Z.link.width/2,fe=Z.link.y0+Z.link.width/2,he=Z.link.y1-Z.link.width/2,me=Z.link.y1+Z.link.width/2,be=Y>0?"L"+(Q+Y)+","+(he+Z.link.width/2):"";return"M"+re+","+ue+"C"+te+","+ue+" "+oe+","+he+" "+Q+","+he+(be+="L"+Q+","+me)+"C"+oe+","+me+" "+te+","+fe+" "+re+","+fe+"Z"}}function E(Z,Y){var ae=l(Y.color),re=m.nodePadAcross,Q=Z.nodePad/2;Y.dx=Y.x1-Y.x0,Y.dy=Y.y1-Y.y0;var K=Y.dx,te=Math.max(.5,Y.dy),oe="node_"+Y.pointNumber;return Y.group&&(oe=r.randstr()),Y.trace=Z.trace,Y.curveNumber=Z.trace.index,{index:Y.pointNumber,key:oe,partOfGroup:Y.partOfGroup||!1,group:Y.group,traceId:Z.key,trace:Z.trace,node:Y,nodePad:Z.nodePad,nodeLineColor:Z.nodeLineColor,nodeLineWidth:Z.nodeLineWidth,textFont:Z.textFont,size:Z.horizontal?Z.height:Z.width,visibleWidth:Math.ceil(K),visibleHeight:te,zoneX:-re,zoneY:-Q,zoneWidth:K+2*re,zoneHeight:te+2*Q,labelY:Z.horizontal?Y.dy/2+1:Y.dx/2+1,left:1===Y.originalLayer,sizeAcross:Z.width,forceLayouts:Z.forceLayouts,horizontal:Z.horizontal,darkBackground:ae.getBrightness()<=128,tinyColorHue:t.tinyRGB(ae),tinyColorAlpha:ae.getAlpha(),valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,graph:Z.graph,arrangement:Z.arrangement,uniqueNodeLabelPathId:[Z.guid,Z.key,oe].join("_"),interactionState:Z.interactionState,figure:Z}}function k(Z){Z.attr("transform",function(Y){return n(Y.node.x0.toFixed(3),Y.node.y0.toFixed(3))})}function I(Z){Z.call(k)}function L(Z,Y){Z.call(I),Y.attr("d",d())}function P(Z){Z.attr("width",function(Y){return Y.node.x1-Y.node.x0}).attr("height",function(Y){return Y.visibleHeight})}function R(Z){return Z.link.width>1||Z.linkLineWidth>0}function z(Z){return n(Z.translateX,Z.translateY)+(Z.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function $(Z,Y,ae){Z.on(".basic",null).on("mouseover.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(ae.hover(this,re,Y),re.interactionState.hovered=[this,re])}).on("mousemove.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(ae.follow(this,re),re.interactionState.hovered=[this,re])}).on("mouseout.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(ae.unhover(this,re,Y),re.interactionState.hovered=!1)}).on("click.basic",function(re){re.interactionState.hovered&&(ae.unhover(this,re,Y),re.interactionState.hovered=!1),re.interactionState.dragInProgress||re.partOfGroup||ae.select(this,re,Y)})}function N(Z,Y,ae,re){var Q=u.behavior.drag().origin(function(K){return{x:K.node.x0+K.visibleWidth/2,y:K.node.y0+K.visibleHeight/2}}).on("dragstart",function(K){if("fixed"!==K.arrangement&&(r.ensureSingle(re._fullLayout._infolayer,"g","dragcover",function(oe){re._fullLayout._dragCover=oe}),r.raiseToTop(this),K.interactionState.dragInProgress=K.node,H(K.node),K.interactionState.hovered&&(ae.nodeEvents.unhover.apply(0,K.interactionState.hovered),K.interactionState.hovered=!1),"snap"===K.arrangement)){var te=K.traceId+"|"+K.key;K.forceLayouts[te]?K.forceLayouts[te].alpha(1):function(oe,ue,fe,he){!function(ke){for(var Pe=0;Pe<ke.length;Pe++)ke[Pe].y=(ke[Pe].y0+ke[Pe].y1)/2,ke[Pe].x=(ke[Pe].x0+ke[Pe].x1)/2}(fe.graph.nodes);var Pe,Te,be,me=fe.graph.nodes.filter(function(ke){return ke.originalX===fe.node.originalX}).filter(function(ke){return!ke.partOfGroup});fe.forceLayouts[ue]=C.forceSimulation(me).alphaDecay(0).force("collide",C.forceCollide().radius(function(ke){return ke.dy/2+fe.nodePad/2}).strength(1).iterations(m.forceIterations)).force("constrain",(Pe=ue,Te=me,be=fe,function(){for(var xe=0,Ne=0;Ne<Te.length;Ne++){var Se=Te[Ne];Se===be.interactionState.dragInProgress?(Se.x=Se.lastDraggedX,Se.y=Se.lastDraggedY):(Se.vx=(Se.originalX-Se.x)/m.forceTicksPerFrame,Se.y=Math.min(be.size-Se.dy/2,Math.max(Se.dy/2,Se.y))),xe=Math.max(xe,Math.abs(Se.vx),Math.abs(Se.vy))}!be.interactionState.dragInProgress&&xe<.1&&be.forceLayouts[Pe].alpha()>0&&be.forceLayouts[Pe].alpha(0)})).stop()}(0,te,K),oe=Z,ue=Y,fe=K,he=te,me=re,window.requestAnimationFrame(function ke(){var Pe;for(Pe=0;Pe<m.forceTicksPerFrame;Pe++)fe.forceLayouts[he].tick();if(function(be){for(var xe=0;xe<be.length;xe++)be[xe].y0=be[xe].y-be[xe].dy/2,be[xe].y1=be[xe].y0+be[xe].dy,be[xe].x0=be[xe].x-be[xe].dx/2,be[xe].x1=be[xe].x0+be[xe].dx}(fe.graph.nodes),fe.sankey.update(fe.graph),L(oe.filter(U(fe)),ue),fe.forceLayouts[he].alpha()>0)window.requestAnimationFrame(ke);else{var Te=fe.node.originalX;fe.node.x0=Te-fe.visibleWidth/2,fe.node.x1=Te+fe.visibleWidth/2,W(fe,me)}})}var oe,ue,fe,he,me}).on("drag",function(K){if("fixed"!==K.arrangement){var te=u.event.x,oe=u.event.y;"snap"===K.arrangement?(K.node.x0=te-K.visibleWidth/2,K.node.x1=te+K.visibleWidth/2,K.node.y0=oe-K.visibleHeight/2,K.node.y1=oe+K.visibleHeight/2):("freeform"===K.arrangement&&(K.node.x0=te-K.visibleWidth/2,K.node.x1=te+K.visibleWidth/2),oe=Math.max(0,Math.min(K.size-K.visibleHeight/2,oe)),K.node.y0=oe-K.visibleHeight/2,K.node.y1=oe+K.visibleHeight/2),H(K.node),"snap"!==K.arrangement&&(K.sankey.update(K.graph),L(Z.filter(U(K)),Y))}}).on("dragend",function(K){if("fixed"!==K.arrangement){K.interactionState.dragInProgress=!1;for(var te=0;te<K.node.childrenNodes.length;te++)K.node.childrenNodes[te].x=K.node.x,K.node.childrenNodes[te].y=K.node.y;"snap"!==K.arrangement&&W(K,re)}});Z.on(".drag",null).call(Q)}function W(Z,Y){for(var ae=[],re=[],Q=0;Q<Z.graph.nodes.length;Q++){var te=(Z.graph.nodes[Q].y0+Z.graph.nodes[Q].y1)/2;ae.push((Z.graph.nodes[Q].x0+Z.graph.nodes[Q].x1)/2/Z.figure.width),re.push(te/Z.figure.height)}v.call("_guiRestyle",Y,{"node.x":[ae],"node.y":[re]},Z.trace.index).then(function(){Y._fullLayout._dragCover&&Y._fullLayout._dragCover.remove()})}function H(Z){Z.lastDraggedX=Z.x0+Z.dx/2,Z.lastDraggedY=Z.y0+Z.dy/2}function U(Z){return function(Y){return Y.node.originalX===Z.node.originalX}}ie.exports=function(Z,Y,ae,re,Q){var K=Z._context.staticPlot,te=!1;r.ensureSingle(Z._fullLayout._infolayer,"g","first-render",function(){te=!0});var oe=Z._fullLayout._dragCover,ue=ae.filter(function(xe){return f(xe).trace.visible}).map(b.bind(null,re)),fe=Y.selectAll("."+m.cn.sankey).data(ue,c);fe.exit().remove(),fe.enter().append("g").classed(m.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",K?"none":"auto").attr("transform",z),fe.each(function(xe,Ne){Z._fullData[Ne]._sankey=xe;var Se="bgsankey-"+xe.trace.uid+"-"+Ne;r.ensureSingle(Z._fullLayout._draggers,"rect",Se),Z._fullData[Ne]._bgRect=u.select("."+Se),Z._fullData[Ne]._bgRect.style("pointer-events",K?"none":"all").attr("width",xe.width).attr("height",xe.height).attr("x",xe.translateX).attr("y",xe.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),fe.transition().ease(m.ease).duration(m.duration).attr("transform",z);var he=fe.selectAll("."+m.cn.sankeyLinks).data(p,c);he.enter().append("g").classed(m.cn.sankeyLinks,!0).style("fill","none");var me=he.selectAll("."+m.cn.sankeyLink).data(function(xe){return xe.graph.links.filter(function(Ne){return Ne.value}).map(M.bind(null,xe))},c);me.enter().append("path").classed(m.cn.sankeyLink,!0).call($,fe,Q.linkEvents),me.style("stroke",function(xe){return R(xe)?t.tinyRGB(l(xe.linkLineColor)):xe.tinyColorHue}).style("stroke-opacity",function(xe){return R(xe)?t.opacity(xe.linkLineColor):xe.tinyColorAlpha}).style("fill",function(xe){return xe.tinyColorHue}).style("fill-opacity",function(xe){return xe.tinyColorAlpha}).style("stroke-width",function(xe){return R(xe)?xe.linkLineWidth:1}).attr("d",d()),me.style("opacity",function(){return Z._context.staticPlot||te||oe?1:0}).transition().ease(m.ease).duration(m.duration).style("opacity",1),me.exit().transition().ease(m.ease).duration(m.duration).style("opacity",0).remove();var ke=fe.selectAll("."+m.cn.sankeyNodeSet).data(p,c);ke.enter().append("g").classed(m.cn.sankeyNodeSet,!0),ke.style("cursor",function(xe){switch(xe.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Pe=ke.selectAll("."+m.cn.sankeyNode).data(function(xe){var Ne=xe.graph.nodes;return function(Se){var Ce,pe=[];for(Ce=0;Ce<Se.length;Ce++)Se[Ce].originalX=(Se[Ce].x0+Se[Ce].x1)/2,Se[Ce].originalY=(Se[Ce].y0+Se[Ce].y1)/2,-1===pe.indexOf(Se[Ce].originalX)&&pe.push(Se[Ce].originalX);for(pe.sort(function(de,se){return de-se}),Ce=0;Ce<Se.length;Ce++)Se[Ce].originalLayerIndex=pe.indexOf(Se[Ce].originalX),Se[Ce].originalLayer=Se[Ce].originalLayerIndex/(pe.length-1)}(Ne),Ne.map(E.bind(null,xe))},c);Pe.enter().append("g").classed(m.cn.sankeyNode,!0).call(k).style("opacity",function(xe){return!Z._context.staticPlot&&!te||xe.partOfGroup?0:1}),Pe.call($,fe,Q.nodeEvents).call(N,me,Q,Z),Pe.transition().ease(m.ease).duration(m.duration).call(k).style("opacity",function(xe){return xe.partOfGroup?0:1}),Pe.exit().transition().ease(m.ease).duration(m.duration).style("opacity",0).remove();var Te=Pe.selectAll("."+m.cn.nodeRect).data(p);Te.enter().append("rect").classed(m.cn.nodeRect,!0).call(P),Te.style("stroke-width",function(xe){return xe.nodeLineWidth}).style("stroke",function(xe){return t.tinyRGB(l(xe.nodeLineColor))}).style("stroke-opacity",function(xe){return t.opacity(xe.nodeLineColor)}).style("fill",function(xe){return xe.tinyColorHue}).style("fill-opacity",function(xe){return xe.tinyColorAlpha}),Te.transition().ease(m.ease).duration(m.duration).call(P);var be=Pe.selectAll("."+m.cn.nodeLabel).data(p);be.enter().append("text").classed(m.cn.nodeLabel,!0).style("cursor","default"),be.attr("data-notex",1).text(function(xe){return xe.node.label}).each(function(xe){var Ne=u.select(this);o.font(Ne,xe.textFont),w.convertToTspans(Ne,Z)}).style("text-shadow",w.makeTextShadow(Z._fullLayout.paper_bgcolor)).attr("text-anchor",function(xe){return xe.horizontal&&xe.left?"end":"start"}).attr("transform",function(xe){var Ne=u.select(this),Se=w.lineCount(Ne),pe=xe.nodeLineWidth/2+3,de=((xe.horizontal?xe.visibleHeight:xe.visibleWidth)-xe.textFont.size*((Se-1)*x-_))/2;xe.horizontal&&(xe.left?pe=-pe:pe+=xe.visibleWidth);var se=xe.horizontal?"":"scale(-1,1)"+a(90);return n(xe.horizontal?pe:de,xe.horizontal?de:pe)+se}),be.transition().ease(m.ease).duration(m.duration)}},84564:function(ie){"use strict";ie.exports=function(B,e){for(var C=[],S=B.cd[0].trace,u=S._sankey.graph.nodes,A=0;A<u.length;A++){var T=u[A];if(!T.partOfGroup){var m=[(T.x0+T.x1)/2,(T.y0+T.y1)/2];"v"===S.orientation&&m.reverse(),e&&e.contains(m,!1,A,B)&&C.push({pointNumber:T.pointNumber})}}return C}},75225:function(ie,B,e){"use strict";var C=e(71828);ie.exports=function(S,u){for(var A=0;A<S.length;A++)S[A].i=A;C.mergeArray(u.text,S,"tx"),C.mergeArray(u.texttemplate,S,"txt"),C.mergeArray(u.hovertext,S,"htx"),C.mergeArray(u.customdata,S,"data"),C.mergeArray(u.textposition,S,"tp"),u.textfont&&(C.mergeArrayCastPositive(u.textfont.size,S,"ts"),C.mergeArray(u.textfont.color,S,"tc"),C.mergeArray(u.textfont.family,S,"tf"));var T=u.marker;if(T){C.mergeArrayCastPositive(T.size,S,"ms"),C.mergeArrayCastPositive(T.opacity,S,"mo"),C.mergeArray(T.symbol,S,"mx"),C.mergeArray(T.angle,S,"ma"),C.mergeArray(T.standoff,S,"mf"),C.mergeArray(T.color,S,"mc");var m=T.line;T.line&&(C.mergeArray(m.color,S,"mlc"),C.mergeArrayCastPositive(m.width,S,"mlw"));var l=T.gradient;l&&"none"!==l.type&&(C.mergeArray(l.type,S,"mgt"),C.mergeArray(l.color,S,"mgc"))}}},82196:function(ie,B,e){"use strict";var C=e(12663).axisHoverFormat,S=e(5386).si,u=e(5386).fF,A=e(50693),T=e(41940),m=e(79952).P,l=e(79952).u,t=e(91424),o=e(47581),r=e(1426).extendFlat;ie.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:C("x"),yhoverformat:C("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:S({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:u({},{keys:o.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:r({},m,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:l,marker:r({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:r({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},A("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},A("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:T({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=e(89298),A=e(42973),T=e(50606).BADNUM,m=e(34098),l=e(36922),t=e(75225),o=e(66279);function r(p,f,w,v,h,_,x){var b=f._length,M=p._fullLayout,d=w._id,E=v._id,k=M._firstScatter[s(f)]===f.uid,I=(c(f,M,w,v)||{}).orientation,L=f.fill;w._minDtick=0,v._minDtick=0;var P={padded:!0},R={padded:!0};x&&(P.ppad=R.ppad=x);var z=b<2||h[0]!==h[b-1]||_[0]!==_[b-1];z&&("tozerox"===L||"tonextx"===L&&(k||"h"===I))?P.tozero=!0:(f.error_y||{}).visible||"tonexty"!==L&&"tozeroy"!==L&&(m.hasMarkers(f)||m.hasText(f))||(P.padded=!1,P.ppad=0),z&&("tozeroy"===L||"tonexty"===L&&(k||"v"===I))?R.tozero=!0:"tonextx"!==L&&"tozerox"!==L||(R.padded=!1),d&&(f._extremes[d]=u.findExtremes(w,h,P)),E&&(f._extremes[E]=u.findExtremes(v,_,R))}function n(p,f){if(m.hasMarkers(p)){var w,v=p.marker,h=1.6*(p.marker.sizeref||1);if(w="area"===p.marker.sizemode?function(d){return Math.max(Math.sqrt((d||0)/h),3)}:function(d){return Math.max((d||0)/h,3)},S.isArrayOrTypedArray(v.size)){var _={type:"linear"};u.setConvert(_);for(var x=_.makeCalcdata(p.marker,"size"),b=new Array(f),M=0;M<f;M++)b[M]=w(x[M]);return b}return w(v.size)}}function a(p,f){var w=s(f),v=p._firstScatter;v[w]||(v[w]=f.uid)}function s(p){var f=p.stackgroup;return p.xaxis+p.yaxis+p.type+(f?"-"+f:"")}function c(p,f,w,v){var h=p.stackgroup;if(h){var _=f._scatterStackOpts[w._id+v._id][h],x="v"===_.orientation?v:w;return"linear"===x.type||"log"===x.type?_:void 0}}ie.exports={calc:function(p,f){var w,v,h,_,x,b,M=p._fullLayout,d=f._xA=u.getFromId(p,f.xaxis||"x","x"),E=f._yA=u.getFromId(p,f.yaxis||"y","y"),k=d.makeCalcdata(f,"x"),I=E.makeCalcdata(f,"y"),L=A(f,d,"x",k),P=A(f,E,"y",I),R=L.vals,z=P.vals,$=f._length,N=new Array($),W=f.ids,H=c(f,M,d,E),U=!1;a(M,f);var Z,Y="x",ae="y";H?(S.pushUnique(H.traceIndices,f._expandedIndex),(w="v"===H.orientation)?(ae="s",Z="x"):(Y="s",Z="y"),x="interpolate"===H.stackgaps):r(p,f,d,E,R,z,n(f,$));var re=!!f.xperiodalignment,Q=!!f.yperiodalignment;for(v=0;v<$;v++){var K=N[v]={},te=C(R[v]),oe=C(z[v]);te&&oe?(K[Y]=R[v],K[ae]=z[v],re&&(K.orig_x=k[v],K.xEnd=L.ends[v],K.xStart=L.starts[v]),Q&&(K.orig_y=I[v],K.yEnd=P.ends[v],K.yStart=P.starts[v])):H&&(w?te:oe)?(K[Z]=w?R[v]:z[v],K.gap=!0,x?(K.s=T,U=!0):K.s=0):K[Y]=K[ae]=T,W&&(K.id=String(W[v]))}if(t(N,f),l(p,f),o(N,f),H){for(v=0;v<N.length;)N[v][Z]===T?N.splice(v,1):v++;if(S.sort(N,function(me,ke){return me[Z]-ke[Z]||me.i-ke.i}),U){for(v=0;v<N.length-1&&N[v].gap;)v++;for((b=N[v].s)||(b=N[v].s=0),h=0;h<v;h++)N[h].s=b;for(_=N.length-1;_>v&&N[_].gap;)_--;for(b=N[_].s,h=N.length-1;h>_;h--)N[h].s=b;for(;v<_;)if(N[++v].gap){for(h=v+1;N[h].gap;)h++;for(var ue=N[v-1][Z],fe=N[v-1].s,he=(N[h].s-fe)/(N[h][Z]-ue);v<h;)N[v].s=fe+(N[v][Z]-ue)*he,v++}}}return N},calcMarkerSize:n,calcAxisExpansion:r,setFirstScatter:a,getStackOpts:c}},66279:function(ie,B,e){"use strict";var C=e(71828);ie.exports=function(S,u){C.isArrayOrTypedArray(u.selectedpoints)&&C.tagSelected(S,u)}},36922:function(ie,B,e){"use strict";var C=e(52075).hasColorscale,S=e(78803),u=e(34098);ie.exports=function(A,T){u.hasLines(T)&&C(T,"line")&&S(A,T,{vals:T.line.color,containerStr:"line",cLetter:"c"}),u.hasMarkers(T)&&(C(T,"marker")&&S(A,T,{vals:T.marker.color,containerStr:"marker",cLetter:"c"}),C(T,"marker.line")&&S(A,T,{vals:T.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(ie){"use strict";ie.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(ie,B,e){"use strict";var C=e(47761),S=e(11661).setGroupPositions;function u(A,T,m,l,t,o,r){t[l]=!0;var s,c,f,w,v,n={i:null,gap:!0,s:0};if(n[r]=m,A.splice(T,0,n),T&&m===A[T-1][r]){var a=A[T-1];n.s=a.s,n.i=a.i,n.gap=a.gap}else o&&(n.s=(f=r,w=(s=A)[(c=T)-1],(v=s[c+1])?w?w.s+(v.s-w.s)*(m-w[f])/(v[f]-w[f]):v.s:w.s));T||(A[0].t=A[1].t,A[0].trace=A[1].trace,delete A[1].t,delete A[1].trace)}ie.exports=function(A,T){"group"===A._fullLayout.scattermode&&function(Z,Y){for(var ae=Y.xaxis,re=Y.yaxis,Q=Z._fullLayout,K=Z._fullData,te=Z.calcdata,oe=[],ue=[],fe=0;fe<K.length;fe++){var he=K[fe];!0===he.visible&&"scatter"===he.type&&he.xaxis===ae._id&&he.yaxis===re._id&&("h"===he.orientation?oe.push(te[fe]):"v"===he.orientation&&ue.push(te[fe]))}var me={mode:Q.scattermode,gap:Q.scattergap};S(Z,ae,re,ue,me),S(Z,re,ae,oe,me)}(A,T);var m=T.xaxis,l=T.yaxis,o=A._fullLayout._scatterStackOpts[m._id+l._id];if(o){var r,n,a,s,c,p,f,w,v,h,_,x,b,M,d,E=A.calcdata;for(var k in o){var I=(h=o[k]).traceIndices;if(I.length){for(_="interpolate"===h.stackgaps,x=h.groupnorm,"v"===h.orientation?(b="x",M="y"):(b="y",M="x"),d=new Array(I.length),r=0;r<d.length;r++)d[r]=!1;p=E[I[0]];var L=new Array(p.length);for(r=0;r<p.length;r++)L[r]=p[r][b];for(r=1;r<I.length;r++){for(c=E[I[r]],n=a=0;n<c.length;n++){for(f=c[n][b];f>L[a]&&a<L.length;a++)u(c,n,L[a],r,d,_,b),n++;if(f!==L[a]){for(s=0;s<r;s++)u(E[I[s]],a,f,s,d,_,b);L.splice(a,0,f)}a++}for(;a<L.length;a++)u(c,n,L[a],r,d,_,b),n++}var P=L.length;for(n=0;n<p.length;n++){for(w=p[n][M]=p[n].s,r=1;r<I.length;r++)(c=E[I[r]])[0].trace._rawLength=c[0].trace._length,c[0].trace._length=P,c[n][M]=w+=c[n].s;if(x)for(v=("fraction"===x?w:w/100)||1,r=0;r<I.length;r++){var R=E[I[r]][n];R[M]/=v,R.sNorm=R.s/v}}for(r=0;r<I.length;r++){var z=(c=E[I[r]])[0].trace,$=C.calcMarkerSize(z,z._rawLength),N=Array.isArray($);if($&&d[r]||N){var W=$;for($=new Array(P),n=0;n<P;n++)$[n]=c[n].gap?0:N?W[c[n].i]:W}var H=new Array(P),U=new Array(P);for(n=0;n<P;n++)H[n]=c[n].x,U[n]=c[n].y;C.calcAxisExpansion(A,z,m,l,H,U,$),c[0].t.orientation=h.orientation}}}}}},34936:function(ie,B,e){"use strict";var C=e(71828),S=e(26125),u=e(82196);ie.exports=function(A,T){var l,t;function o(c){return C.coerce(l._input,l,u,c)}if("group"===T.scattermode)for(t=0;t<A.length;t++)"scatter"===(l=A[t]).type&&S(l._input,l,T,o);for(t=0;t<A.length;t++){var r=A[t];if("scatter"===r.type){var n=r.fill;if("none"!==n&&"toself"!==n&&(r.opacity=void 0,"tonexty"===n||"tonextx"===n))for(var a=t-1;a>=0;a--){var s=A[a];if("scatter"===s.type&&s.xaxis===r.xaxis&&s.yaxis===r.yaxis){s.opacity=void 0;break}}}}}},17438:function(ie,B,e){"use strict";var C=e(71828),S=e(73972),u=e(82196),A=e(47581),T=e(34098),m=e(67513),l=e(73927),t=e(565),o=e(49508),r=e(11058),n=e(94039),a=e(82410),s=e(28908),c=e(71828).coercePattern;ie.exports=function(p,f,w,v){function h(I,L){return C.coerce(p,f,u,I,L)}var _=m(p,f,v,h);if(_||(f.visible=!1),f.visible){l(p,f,v,h),h("xhoverformat"),h("yhoverformat");var x=t(p,f,v,h);"group"===v.scattermode&&void 0===f.orientation&&h("orientation","v");var b=!x&&_<A.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("mode",b),T.hasLines(f)&&(r(p,f,w,v,h,{backoff:!0}),n(p,f,h),h("connectgaps"),h("line.simplify")),T.hasMarkers(f)&&o(p,f,w,v,h,{gradient:!0}),T.hasText(f)&&(h("texttemplate"),a(p,f,v,h));var M=[];(T.hasMarkers(f)||T.hasText(f))&&(h("cliponaxis"),h("marker.maxdisplayed"),M.push("points")),h("fill",x?x.fillDflt:"none"),"none"!==f.fill&&(s(p,f,w,h),T.hasLines(f)||n(p,f,h),c(h,"fillpattern",f.fillcolor,!1));var d=(f.line||{}).color,E=(f.marker||{}).color;"tonext"!==f.fill&&"toself"!==f.fill||M.push("fills"),h("hoveron",M.join("+")||"points"),"fills"!==f.hoveron&&h("hovertemplate");var k=S.getComponentMethod("errorbars","supplyDefaults");k(p,f,d||E||w,{axis:"y"}),k(p,f,d||E||w,{axis:"x",inherit:"y"}),C.coerceSelectionMarkerOpacity(f,h)}}},28908:function(ie,B,e){"use strict";var C=e(7901),S=e(71828).isArrayOrTypedArray;ie.exports=function(u,A,T,m){var l=!1;if(A.marker){var t=A.marker.color,o=(A.marker.line||{}).color;t&&!S(t)?l=t:o&&!S(o)&&(l=o)}m("fillcolor",C.addOpacity((A.line||{}).color||l||T,.5))}},8225:function(ie,B,e){"use strict";var C=e(89298);ie.exports=function(S,u,A){var T={},m={_fullLayout:A},l=C.getFromTrace(m,u,"x"),t=C.getFromTrace(m,u,"y"),o=S.orig_x;void 0===o&&(o=S.x);var r=S.orig_y;return void 0===r&&(r=S.y),T.xLabel=C.tickText(l,l.c2l(o),!0).text,T.yLabel=C.tickText(t,t.c2l(r),!0).text,T}},34603:function(ie,B,e){"use strict";var C=e(7901),S=e(34098);ie.exports=function(u,A){var T,m;if("lines"===u.mode)return(T=u.line.color)&&C.opacity(T)?T:u.fillcolor;if("none"===u.mode)return u.fill?u.fillcolor:"";var l=A.mcc||(u.marker||{}).color,t=A.mlcc||((u.marker||{}).line||{}).color;return(m=l&&C.opacity(l)?l:t&&C.opacity(t)&&(A.mlw||((u.marker||{}).line||{}).width)?t:"")?C.opacity(m)<.3?C.addOpacity(m,.3):m:(T=(u.line||{}).color)&&C.opacity(T)&&S.hasLines(u)&&u.line.width?T:u.fillcolor}},26125:function(ie,B,e){"use strict";var C=e(99082).getAxisGroup;ie.exports=function(S,u,A,T){var m=u.orientation,t=C(A,u[{v:"x",h:"y"}[m]+"axis"])+m,o=A._alignmentOpts||{},r=T("alignmentgroup"),n=o[t];n||(n=o[t]={});var a=n[r];a?a.traces.push(u):a=n[r]={traces:[u],alignmentIndex:Object.keys(n).length,offsetGroups:{}};var s=T("offsetgroup"),c=a.offsetGroups,p=c[s];s&&(p||(p=c[s]={offsetIndex:Object.keys(c).length}),u._offsetIndex=p.offsetIndex)}},33720:function(ie,B,e){"use strict";var C=e(71828),S=e(30211),u=e(73972),A=e(34603),T=e(7901),m=C.fillText;ie.exports=function(l,t,o,r){var n=l.cd,a=n[0].trace,s=l.xa,c=l.ya,p=s.c2p(t),f=c.c2p(o),w=[p,f],v=a.hoveron||"",h=-1!==a.mode.indexOf("markers")?3:.5,_=!!a.xperiodalignment,x=!!a.yperiodalignment;if(-1!==v.indexOf("points")){var b=function(Pe){var Te=Math.max(h,Pe.mrc||0),be=s.c2p(Pe.x)-p,xe=c.c2p(Pe.y)-f;return Math.max(Math.sqrt(be*be+xe*xe)-Te,1-h/Te)},M=S.getDistanceFunction(r,function(Pe){if(_){var Te=s.c2p(Pe.xStart),be=s.c2p(Pe.xEnd);return p>=Math.min(Te,be)&&p<=Math.max(Te,be)?0:1/0}var xe=Math.max(3,Pe.mrc||0),Ne=1-1/xe,Se=Math.abs(s.c2p(Pe.x)-p);return Se<xe?Ne*Se/xe:Se-xe+Ne},function(Pe){if(x){var Te=c.c2p(Pe.yStart),be=c.c2p(Pe.yEnd);return f>=Math.min(Te,be)&&f<=Math.max(Te,be)?0:1/0}var xe=Math.max(3,Pe.mrc||0),Ne=1-1/xe,Se=Math.abs(c.c2p(Pe.y)-f);return Se<xe?Ne*Se/xe:Se-xe+Ne},b);if(S.getClosest(n,M,l),!1!==l.index){var d=n[l.index],E=s.c2p(d.x,!0),k=c.c2p(d.y,!0),I=d.mrc||1;l.index=d.i;var L=n[0].t.orientation,P=L&&(d.sNorm||d.s),R="h"===L?P:void 0!==d.orig_x?d.orig_x:d.x,z="v"===L?P:void 0!==d.orig_y?d.orig_y:d.y;return C.extendFlat(l,{color:A(a,d),x0:E-I,x1:E+I,xLabelVal:R,y0:k-I,y1:k+I,yLabelVal:z,spikeDistance:b(d),hovertemplate:a.hovertemplate}),m(d,a,l),u.getComponentMethod("errorbars","hoverInfo")(d,a,l),[l]}}if(-1!==v.indexOf("fills")&&a._polygons){var $,N,W,H,U,Z,ae,re,Q=a._polygons,K=[],te=!1,oe=1/0,ue=-1/0,fe=1/0,he=-1/0;for($=0;$<Q.length;$++)(W=Q[$]).contains(w)&&(te=!te,K.push(W),fe=Math.min(fe,W.ymin),he=Math.max(he,W.ymax));if(te){var me=((fe=Math.max(fe,0))+(he=Math.min(he,c._length)))/2;for($=0;$<K.length;$++)for(H=K[$].pts,N=1;N<H.length;N++)(ae=H[N-1][1])>me!=(re=H[N][1])>=me&&(Z=H[N-1][0],re-ae&&(U=Z+(H[N][0]-Z)*(me-ae)/(re-ae),oe=Math.min(oe,U),ue=Math.max(ue,U)));oe=Math.max(oe,0),ue=Math.min(ue,s._length);var ke=T.defaultLine;return T.opacity(a.fillcolor)?ke=a.fillcolor:T.opacity((a.line||{}).color)&&(ke=a.line.color),C.extendFlat(l,{distance:l.maxHoverDistance,x0:oe,x1:ue,y0:me,y1:me,color:ke,hovertemplate:!1}),delete l.index,l.text=a.text&&!Array.isArray(a.text)?String(a.text):a.name,[l]}}}},67368:function(ie,B,e){"use strict";var C=e(34098);ie.exports={hasLines:C.hasLines,hasMarkers:C.hasMarkers,hasText:C.hasText,isBubble:C.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(ie){"use strict";ie.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(ie,B,e){"use strict";var C=e(71828),S=e(21479);ie.exports=function(u,A){"group"===A.scattermode&&C.coerce(u,A,S,"scattergap","group"===A.barmode?A.bargap:.2)}},11058:function(ie,B,e){"use strict";var C=e(71828).isArrayOrTypedArray,S=e(52075).hasColorscale,u=e(1586);ie.exports=function(A,T,m,l,t,o){o||(o={});var r=(A.marker||{}).color;t("line.color",m),S(A,"line")?u(A,T,l,t,{prefix:"line.",cLetter:"c"}):t("line.color",!C(r)&&r||m),t("line.width"),o.noDash||t("line.dash"),o.backoff&&t("line.backoff")}},34621:function(ie,B,e){"use strict";var C=e(91424),S=e(50606),u=S.BADNUM,A=S.LOG_CLIP,T=A+.5,m=A-.5,l=e(71828),t=l.segmentsIntersect,o=l.constrain,r=e(47581);ie.exports=function(n,a){var s,c,p,f,w,v,h,_,x,b,M,d,E,k,I,L,P,R,z=a.trace||{},$=a.xaxis,N=a.yaxis,W="log"===$.type,H="log"===N.type,U=$._length,Z=N._length,Y=a.backoff,ae=z.marker,re=a.connectGaps,Q=a.baseTolerance,K=a.shape,te="linear"===K,oe=z.fill&&"none"!==z.fill,ue=[],fe=r.minTolerance,he=n.length,me=new Array(he),ke=0;function Pe(jt){var nt=n[jt];if(!nt)return!1;var it=a.linearized?$.l2p(nt.x):$.c2p(nt.x),Xe=a.linearized?N.l2p(nt.y):N.c2p(nt.y);if(it===u){if(W&&(it=$.c2p(nt.x,!0)),it===u)return!1;H&&Xe===u&&(it*=Math.abs($._m*Z*($._m>0?T:m)/(N._m*U*(N._m>0?T:m)))),it*=1e3}if(Xe===u){if(H&&(Xe=N.c2p(nt.y,!0)),Xe===u)return!1;Xe*=1e3}return[it,Xe]}function Te(jt,nt,it,Xe){var rt=it-jt,ft=Xe-nt,vt=.5-jt,je=.5-nt,Ve=rt*rt+ft*ft,ut=rt*vt+ft*je;if(ut>0&&ut<Ve){var ct=vt*ft-je*rt;if(ct*ct<Ve)return!0}}function be(jt,nt){var it=jt[0]/U,Xe=jt[1]/Z,rt=Math.max(0,-it,it-1,-Xe,Xe-1);return rt&&void 0!==P&&Te(it,Xe,P,R)&&(rt=0),rt&&nt&&Te(it,Xe,nt[0]/U,nt[1]/Z)&&(rt=0),(1+r.toleranceGrowth*rt)*Q}function xe(jt,nt){var it=jt[0]-nt[0],Xe=jt[1]-nt[1];return Math.sqrt(it*it+Xe*Xe)}var Ne,Se,Ce,pe,de,se,we,Re=r.maxScreensAway,Ee=-U*Re,Ue=U*(1+Re),$e=-Z*Re,ve=Z*(1+Re),Ie=[[Ee,$e,Ue,$e],[Ue,$e,Ue,ve],[Ue,ve,Ee,ve],[Ee,ve,Ee,$e]];function De(jt){if(jt[0]<Ee||jt[0]>Ue||jt[1]<$e||jt[1]>ve)return[o(jt[0],Ee,Ue),o(jt[1],$e,ve)]}function ze(jt,nt){return jt[0]===nt[0]&&(jt[0]===Ee||jt[0]===Ue)||jt[1]===nt[1]&&(jt[1]===$e||jt[1]===ve)||void 0}function Ge(jt,nt,it){return function(Xe,rt){var ft=De(Xe),vt=De(rt),je=[];if(ft&&vt&&ze(ft,vt))return je;ft&&je.push(ft),vt&&je.push(vt);var Ve=2*l.constrain((Xe[jt]+rt[jt])/2,nt,it)-((ft||Xe)[jt]+(vt||rt)[jt]);return Ve&&((ft&&vt?Ve>0==ft[jt]>vt[jt]?ft:vt:ft||vt)[jt]+=Ve),je}}function He(jt){var nt=jt[0],it=jt[1],Xe=nt===me[ke-1][0],rt=it===me[ke-1][1];if(!Xe||!rt)if(ke>1){var ft=nt===me[ke-2][0],vt=it===me[ke-2][1];Xe&&(nt===Ee||nt===Ue)&&ft?vt?ke--:me[ke-1]=jt:rt&&(it===$e||it===ve)&&vt?ft?ke--:me[ke-1]=jt:me[ke++]=jt}else me[ke++]=jt}function Ke(jt){me[ke-1][0]!==jt[0]&&me[ke-1][1]!==jt[1]&&He([Ce,pe]),He(jt),de=null,Ce=pe=0}"linear"===K||"spline"===K?we=function(jt,nt){for(var it=[],Xe=0,rt=0;rt<4;rt++){var ft=Ie[rt],vt=t(jt[0],jt[1],nt[0],nt[1],ft[0],ft[1],ft[2],ft[3]);vt&&(!Xe||Math.abs(vt.x-it[0][0])>1||Math.abs(vt.y-it[0][1])>1)&&(vt=[vt.x,vt.y],Xe&&xe(vt,jt)<xe(it[0],jt)?it.unshift(vt):it.push(vt),Xe++)}return it}:"hv"===K||"vh"===K?we=function(jt,nt){var it=[],Xe=De(jt),rt=De(nt);return Xe&&rt&&ze(Xe,rt)||(Xe&&it.push(Xe),rt&&it.push(rt)),it}:"hvh"===K?we=Ge(0,Ee,Ue):"vhv"===K&&(we=Ge(1,$e,ve));var et=l.isArrayOrTypedArray(ae);function st(jt){if(jt&&Y&&(jt.i=s,jt.d=n,jt.trace=z,jt.marker=et?ae[jt.i]:ae,jt.backoff=Y),P=jt[0]/U,R=jt[1]/Z,Se=jt[1]<$e?$e:jt[1]>ve?ve:0,(Ne=jt[0]<Ee?Ee:jt[0]>Ue?Ue:0)||Se){if(ke)if(de){var nt=we(de,jt);nt.length>1&&(Ke(nt[0]),me[ke++]=nt[1])}else se=we(me[ke-1],jt)[0],me[ke++]=se;else me[ke++]=[Ne||jt[0],Se||jt[1]];var it=me[ke-1];Ne&&Se&&(it[0]!==Ne||it[1]!==Se)?(de&&(Ce!==Ne&&pe!==Se?He(Ce&&pe?(ft=(rt=jt)[0]-(Xe=de)[0],vt=(rt[1]-Xe[1])/ft,(Xe[1]*rt[0]-rt[1]*Xe[0])/ft>0?[vt>0?Ee:Ue,ve]:[vt>0?Ue:Ee,$e]):[Ce||Ne,pe||Se]):Ce&&pe&&He([Ce,pe])),He([Ne,Se])):Ce-Ne&&pe-Se&&He([Ne||Ce,Se||pe]),de=jt,Ce=Ne,pe=Se}else de&&Ke(we(de,jt)[0]),me[ke++]=jt;var Xe,rt,ft,vt}for(s=0;s<he;s++)if(c=Pe(s)){for(ke=0,de=null,st(c),s++;s<he;s++){if(!(f=Pe(s))){if(re)continue;break}if(te&&a.simplify){var mt=Pe(s+1);if(b=xe(f,c),oe&&(0===ke||ke===he-1)||!(b<be(f,mt)*fe)){for(_=[(f[0]-c[0])/b,(f[1]-c[1])/b],w=c,M=b,d=k=I=0,h=!1,p=f,s++;s<n.length;s++){if(v=mt,mt=Pe(s+1),!v){if(re)continue;break}if(L=(x=[v[0]-c[0],v[1]-c[1]])[0]*_[1]-x[1]*_[0],k=Math.min(k,L),(I=Math.max(I,L))-k>be(v,mt))break;p=v,(E=x[0]*_[0]+x[1]*_[1])>M?(M=E,f=v,h=!1):E<d&&(d=E,w=v,h=!0)}if(h?(st(f),p!==w&&st(w)):(w!==c&&st(w),p!==f&&st(f)),st(p),s>=n.length||!v)break;st(v),c=v}}else st(f)}de&&He([Ce||de[0],pe||de[1]]),ue.push(me.slice(0,ke))}var at=K.slice(K.length-1);if(Y&&"h"!==at&&"v"!==at){for(var kt=!1,St=-1,gt=[],dt=0;dt<ue.length;dt++)for(var Ct=0;Ct<ue[dt].length-1;Ct++){var Ot=ue[dt][Ct],Pt=ue[dt][Ct+1],Ht=C.applyBackoff(Pt,Ot);Ht[0]===Pt[0]&&Ht[1]===Pt[1]||(kt=!0),gt[St+1]||(gt[++St]=[Ot,[Ht[0],Ht[1]]])}return kt?gt:ue}return ue}},94039:function(ie){"use strict";ie.exports=function(B,e,C){"spline"===C("line.shape")&&C("line.smoothing")}},68687:function(ie){"use strict";var B={tonextx:1,tonexty:1,tonext:1};ie.exports=function(e,C,S){var u,A,T,m,l,t={},o=!1,r=-1,n=0,a=-1;for(A=0;A<S.length;A++)(T=(u=S[A][0].trace).stackgroup||"")?T in t?l=t[T]:(l=t[T]=n,n++):u.fill in B&&a>=0?l=a:(l=a=n,n++),l<r&&(o=!0),u._groupIndex=r=l;var s=S.slice();o&&s.sort(function(p,f){var w=p[0].trace,v=f[0].trace;return w._groupIndex-v._groupIndex||w.index-v.index});var c={};for(A=0;A<s.length;A++)T=(u=s[A][0].trace).stackgroup||"",!0===u.visible?(u._nexttrace=null,u.fill in B&&(u._prevtrace=(m=c[T])||null,m&&(m._nexttrace=u)),u._ownfill=u.fill&&("tozero"===u.fill.substr(0,6)||"toself"===u.fill||"to"===u.fill.substr(0,2)&&!u._prevtrace),c[T]=u):u._prevtrace=u._nexttrace=u._ownfill=null;return s}},39984:function(ie,B,e){"use strict";var C=e(92770);ie.exports=function(S,u){u||(u=2);var A=S.marker,T=A.sizeref||1,m=A.sizemin||0,l="area"===A.sizemode?function(t){return Math.sqrt(t/T)}:function(t){return t/T};return function(t){var o=l(t/u);return C(o)&&o>0?Math.max(o,m):0}}},4898:function(ie){"use strict";ie.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(ie,B,e){"use strict";var C=e(7901),S=e(52075).hasColorscale,u=e(1586),A=e(34098);ie.exports=function(T,m,l,t,o,r){var n=A.isBubble(T),a=(T.line||{}).color;r=r||{},a&&(l=a),o("marker.symbol"),o("marker.opacity",n?.7:1),o("marker.size"),r.noAngle||(o("marker.angle"),r.noAngleRef||o("marker.angleref"),r.noStandOff||o("marker.standoff")),o("marker.color",l),S(T,"marker")&&u(T,m,t,o,{prefix:"marker.",cLetter:"c"}),r.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),r.noLine||(o("marker.line.color",a&&!Array.isArray(a)&&m.marker.color!==a?a:n?C.background:C.defaultLine),S(T,"marker.line")&&u(T,m,t,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",n?1:0)),n&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),r.gradient&&"none"!==o("marker.gradient.type")&&o("marker.gradient.color")}},73927:function(ie,B,e){"use strict";var C=e(71828).dateTick0,S=e(50606).ONEWEEK;function u(A,T){return C(T,A%S==0?1:0)}ie.exports=function(A,T,m,l,t){if(t||(t={x:!0,y:!0}),t.x){var o=l("xperiod");o&&(l("xperiod0",u(o,T.xcalendar)),l("xperiodalignment"))}if(t.y){var r=l("yperiod");r&&(l("yperiod0",u(r,T.ycalendar)),l("yperiodalignment"))}}},32663:function(ie,B,e){"use strict";var C=e(39898),S=e(73972),u=e(71828),A=u.ensureSingle,T=u.identity,m=e(91424),l=e(34098),t=e(34621),o=e(68687),r=e(61082).tester;function n(a,s,c,p,f,w,v){var h,_=a._context.staticPlot;!function(we,Re,Ee,Ue,$e){var ve=Ee.xaxis,Ie=Ee.yaxis,De=C.extent(u.simpleMap(ve.range,ve.r2c)),ze=C.extent(u.simpleMap(Ie.range,Ie.r2c)),Ge=Ue[0].trace;if(l.hasMarkers(Ge)){var He=Ge.marker.maxdisplayed;if(0!==He){var Ke=Ue.filter(function(at){return at.x>=De[0]&&at.x<=De[1]&&at.y>=ze[0]&&at.y<=ze[1]}),et=Math.ceil(Ke.length/He),st=0;$e.forEach(function(at,kt){var St=at[0].trace;l.hasMarkers(St)&&St.marker.maxdisplayed>0&&kt<Re&&st++});var mt=Math.round(st*et/3+Math.floor(st/3)*et/7.1);Ue.forEach(function(at){delete at.vis}),Ke.forEach(function(at,kt){0===Math.round((kt+mt)%et)&&(at.vis=!0)})}}}(0,s,c,p,f);var x=!!v&&v.duration>0;function b(we){return x?we.transition():we}var M=c.xaxis,d=c.yaxis,E=p[0].trace,k=E.line,I=C.select(w),L=A(I,"g","errorbars"),P=A(I,"g","lines"),R=A(I,"g","points"),z=A(I,"g","text");if(S.getComponentMethod("errorbars","plot")(a,L,c,v),!0===E.visible){var $,N;b(I).style("opacity",E.opacity);var W=E.fill.charAt(E.fill.length-1);"x"!==W&&"y"!==W&&(W=""),p[0][c.isRangePlot?"nodeRangePlot3":"node3"]=I;var H,U,Z="",Y=[],ae=E._prevtrace;ae&&(Z=ae._prevRevpath||"",N=ae._nextFill,Y=ae._polygons);var re,Q,K,te,oe,ue,fe,he="",me="",ke=[],Pe=u.noop;if($=E._ownFill,l.hasLines(E)||"none"!==E.fill){for(N&&N.datum(p),-1!==["hv","vh","hvh","vhv"].indexOf(k.shape)?(re=m.steps(k.shape),Q=m.steps(k.shape.split("").reverse().join(""))):re=Q="spline"===k.shape?function(we){var Re=we[we.length-1];return we.length>1&&we[0][0]===Re[0]&&we[0][1]===Re[1]?m.smoothclosed(we.slice(1),k.smoothing):m.smoothopen(we,k.smoothing)}:function(we){return"M"+we.join("L")},K=function(we){return Q(we.reverse())},ke=t(p,{xaxis:M,yaxis:d,trace:E,connectGaps:E.connectgaps,baseTolerance:Math.max(k.width||1,3)/4,shape:k.shape,backoff:k.backoff,simplify:k.simplify,fill:E.fill}),fe=E._polygons=new Array(ke.length),h=0;h<ke.length;h++)E._polygons[h]=r(ke[h]);ke.length&&(te=ke[0][0],ue=(oe=ke[ke.length-1])[oe.length-1]),Pe=function(we){return function(Re){if(H=re(Re),U=K(Re),he?W?(he+="L"+H.substr(1),me=U+"L"+me.substr(1)):(he+="Z"+H,me=U+"Z"+me):(he=H,me=U),l.hasLines(E)){var Ee=C.select(this);if(Ee.datum(p),we)b(Ee.style("opacity",0).attr("d",H).call(m.lineGroupStyle)).style("opacity",1);else{var Ue=b(Ee);Ue.attr("d",H),m.singleLineStyle(p,Ue)}}}}}var Te=P.selectAll(".js-line").data(ke);b(Te.exit()).style("opacity",0).remove(),Te.each(Pe(!1)),Te.enter().append("path").classed("js-line",!0).style("vector-effect",_?"none":"non-scaling-stroke").call(m.lineGroupStyle).each(Pe(!0)),m.setClipUrl(Te,c.layerClipId,a),ke.length?($?($.datum(p),te&&ue&&(W?("y"===W?te[1]=ue[1]=d.c2p(0,!0):"x"===W&&(te[0]=ue[0]=M.c2p(0,!0)),b($).attr("d","M"+ue+"L"+te+"L"+he.substr(1)).call(m.singleFillStyle,a)):b($).attr("d",he+"Z").call(m.singleFillStyle,a))):N&&("tonext"===E.fill.substr(0,6)&&he&&Z?("tonext"===E.fill?b(N).attr("d",he+"Z"+Z+"Z").call(m.singleFillStyle,a):b(N).attr("d",he+"L"+Z.substr(1)+"Z").call(m.singleFillStyle,a),E._polygons=E._polygons.concat(Y)):(xe(N),E._polygons=null)),E._prevRevpath=me,E._prevPolygons=fe):($?xe($):N&&xe(N),E._polygons=E._prevRevpath=E._prevPolygons=null),R.datum(p),z.datum(p),function(we,Re,Ee){var Ue,$e=Ee[0].trace,ve=l.hasMarkers($e),Ie=l.hasText($e),De=function de(we){if(we.ids)return pe}($e),ze=se,Ge=se;if(ve||Ie){var He=T,Ke=$e.stackgroup,et=Ke&&"infer zero"===a._fullLayout._scatterStackOpts[M._id+d._id][Ke].stackgaps;$e.marker.maxdisplayed||$e._needsCull?He=et?Se:Ne:Ke&&!et&&(He=Ce),ve&&(ze=He),Ie&&(Ge=He)}var st,mt=(Ue=we.selectAll("path.point").data(ze,De)).enter().append("path").classed("point",!0);x&&mt.call(m.pointStyle,$e,a).call(m.translatePoints,M,d).style("opacity",0).transition().style("opacity",1),Ue.order(),ve&&(st=m.makePointStyleFns($e)),Ue.each(function(at){var kt=C.select(this),St=b(kt);m.translatePoint(at,St,M,d)?(m.singlePointStyle(at,St,$e,st,a),c.layerClipId&&m.hideOutsideRangePoint(at,St,M,d,$e.xcalendar,$e.ycalendar),$e.customdata&&kt.classed("plotly-customdata",null!=at.data)):St.remove()}),x?Ue.exit().transition().style("opacity",0).remove():Ue.exit().remove(),(Ue=Re.selectAll("g").data(Ge,De)).enter().append("g").classed("textpoint",!0).append("text"),Ue.order(),Ue.each(function(at){var kt=C.select(this),St=b(kt.select("text"));m.translatePoint(at,St,M,d)?c.layerClipId&&m.hideOutsideRangePoint(at,kt,M,d,$e.xcalendar,$e.ycalendar):kt.remove()}),Ue.selectAll("text").call(m.textPointStyle,$e,a).each(function(at){var kt=M.c2p(at.x),St=d.c2p(at.y);C.select(this).selectAll("tspan.line").each(function(){b(C.select(this)).attr({x:kt,y:St})})}),Ue.exit().remove()}(R,z,p);var be=!1===E.cliponaxis?null:c.layerClipId;m.setClipUrl(R,be,a),m.setClipUrl(z,be,a)}function xe(we){b(we).attr("d","M0,0Z")}function Ne(we){return we.filter(function(Re){return!Re.gap&&Re.vis})}function Se(we){return we.filter(function(Re){return Re.vis})}function Ce(we){return we.filter(function(Re){return!Re.gap})}function pe(we){return we.id}function se(){return!1}}ie.exports=function(a,s,c,p,f,w){var v,h,M,E,_=!f,x=!!f&&f.duration>0,b=o(a,s,c);(v=p.selectAll("g.trace").data(b,function(M){return M[0].trace.uid})).enter().append("g").attr("class",function(M){return"trace scatter trace"+M[0].trace.uid}).style("stroke-miterlimit",2),v.order(),M=a,E=s,v.each(function(k){var I=A(C.select(this),"g","fills");m.setClipUrl(I,E.layerClipId,M);var L=k[0].trace,P=[];L._ownfill&&P.push("_ownFill"),L._nexttrace&&P.push("_nextFill");var R=I.selectAll("g").data(P,T);R.enter().append("g"),R.exit().each(function(z){L[z]=null}).remove(),R.order().each(function(z){L[z]=A(C.select(this),"path","js-fill")})}),x?(w&&(h=w()),C.transition().duration(f.duration).ease(f.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()}).each(function(){p.selectAll("g.trace").each(function(M,d){n(a,d,s,M,b,this,f)})})):v.each(function(M,d){n(a,d,s,M,b,this,f)}),_&&v.exit().remove(),p.selectAll("path:not([d])").remove()}},98002:function(ie,B,e){"use strict";var C=e(34098);ie.exports=function(S,u){var A,T,m,l,t=S.cd,o=S.xaxis,r=S.yaxis,n=[],a=t[0].trace;if(!C.hasMarkers(a)&&!C.hasText(a))return[];if(!1===u)for(A=0;A<t.length;A++)t[A].selected=0;else for(A=0;A<t.length;A++)m=o.c2p((T=t[A]).x),l=r.c2p(T.y),null!==T.i&&u.contains([m,l],!1,A,S)?(n.push({pointNumber:T.i,x:o.c2d(T.x),y:r.c2d(T.y)}),T.selected=1):T.selected=0;return n}},565:function(ie){"use strict";var B=["orientation","groupnorm","stackgaps"];ie.exports=function(e,C,S,u){var A=S._scatterStackOpts,T=u("stackgroup");if(T){var m=C.xaxis+C.yaxis,l=A[m];l||(l=A[m]={});var t=l[T],o=!1;t?t.traces.push(C):(t=l[T]={traceIndices:[],traces:[C]},o=!0);for(var r={orientation:C.x&&!C.y?"h":"v"},n=0;n<B.length;n++){var a=B[n],s=a+"Found";if(!t[s]){var c=void 0!==e[a],p="orientation"===a;if((c||o)&&(t[a]=u(a,r[a]),p&&(t.fillDflt="h"===t[a]?"tonextx":"tonexty"),c&&(t[s]=!0,!o&&(delete t.traces[0][a],p))))for(var f=0;f<t.traces.length-1;f++){var w=t.traces[f];w._input.fill!==w.fill&&(w.fill=t.fillDflt)}}}return t}}},16296:function(ie,B,e){"use strict";var C=e(39898),S=e(91424),u=e(73972);function A(m,l,t){S.pointStyle(m.selectAll("path.point"),l,t)}function T(m,l,t){S.textPointStyle(m.selectAll("text"),l,t)}ie.exports={style:function(m){var l=C.select(m).selectAll("g.trace.scatter");l.style("opacity",function(t){return t[0].trace.opacity}),l.selectAll("g.points").each(function(t){A(C.select(this),t.trace||t[0].trace,m)}),l.selectAll("g.text").each(function(t){T(C.select(this),t.trace||t[0].trace,m)}),l.selectAll("g.trace path.js-line").call(S.lineGroupStyle),l.selectAll("g.trace path.js-fill").call(S.fillGroupStyle,m),u.getComponentMethod("errorbars","style")(l)},stylePoints:A,styleText:T,styleOnSelect:function(m,l,t){var o=l[0].trace;o.selectedpoints?(S.selectedPointStyle(t.selectAll("path.point"),o),S.selectedTextStyle(t.selectAll("text"),o)):(A(t,o,m),T(t,o,m))}}},34098:function(ie,B,e){"use strict";var C=e(71828);ie.exports={hasLines:function(S){return S.visible&&S.mode&&-1!==S.mode.indexOf("lines")},hasMarkers:function(S){return S.visible&&(S.mode&&-1!==S.mode.indexOf("markers")||"splom"===S.type)},hasText:function(S){return S.visible&&S.mode&&-1!==S.mode.indexOf("text")},isBubble:function(S){return C.isPlainObject(S.marker)&&C.isArrayOrTypedArray(S.marker.size)}}},82410:function(ie,B,e){"use strict";var C=e(71828);ie.exports=function(S,u,A,T,m){m=m||{},T("textposition"),C.coerceFont(T,"textfont",A.font),m.noSelect||(T("selected.textfont.color"),T("unselected.textfont.color"))}},67513:function(ie,B,e){"use strict";var C=e(71828),S=e(73972);ie.exports=function(u,A,T,m){var l,t=m("x"),o=m("y");if(S.getComponentMethod("calendars","handleTraceDefaults")(u,A,["x","y"],T),t){var r=C.minRowLength(t);o?l=Math.min(r,C.minRowLength(o)):(l=r,m("y0"),m("dy"))}else{if(!o)return 0;l=C.minRowLength(o),m("x0"),m("dx")}return A._length=l,l}},44542:function(ie,B,e){"use strict";var C=e(82196),S=e(50693),u=e(12663).axisHoverFormat,A=e(5386).fF,T=e(5386).si,m=e(9012),l=e(29659),t=e(87381),o=e(1426).extendFlat,r=e(30962).overrideAll,n=e(78607),s=C.marker,c=s.line,p=o({width:C.line.width,dash:{valType:"enumerated",values:n(l),dflt:"solid"}},S("line")),f=ie.exports=r({x:C.x,y:C.y,z:{valType:"data_array"},text:o({},C.text,{}),texttemplate:T({},{}),hovertext:o({},C.hovertext,{}),hovertemplate:A(),xhoverformat:u("x"),yhoverformat:u("y"),zhoverformat:u("z"),mode:o({},C.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:C.connectgaps,line:p,marker:o({symbol:{valType:"enumerated",values:n(t),dflt:"circle",arrayOk:!0},size:o({},s.size,{dflt:8}),sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:o({},s.opacity,{arrayOk:!1}),colorbar:s.colorbar,line:o({width:o({},c.width,{arrayOk:!1})},S("marker.line"))},S("marker")),textposition:o({},C.textposition,{dflt:"top center"}),textfont:{color:C.textfont.color,size:C.textfont.size,family:o({},C.textfont.family,{arrayOk:!1})},opacity:m.opacity,hoverinfo:o({},m.hoverinfo)},"calc","nested");f.x.editType=f.y.editType=f.z.editType="calc+clearAxisTypes"},36563:function(ie,B,e){"use strict";var C=e(75225),S=e(36922);ie.exports=function(u,A){var T=[{x:!1,y:!1,trace:A,t:{}}];return C(T,A),S(u,A),T}},67336:function(ie,B,e){"use strict";var C=e(73972);function S(u,A,T,m){if(!A||!A.visible)return null;for(var l=C.getComponentMethod("errorbars","makeComputeError")(A),t=new Array(u.length),o=0;o<u.length;o++){var r=l(+u[o],o);if("log"===m.type){var n=m.c2l(u[o]),a=u[o]-r[0],s=u[o]+r[1];if(t[o]=[(m.c2l(a,!0)-n)*T,(m.c2l(s,!0)-n)*T],a>0){var c=m.c2l(a);m._lowerLogErrorBound||(m._lowerLogErrorBound=c),m._lowerErrorBound=Math.min(m._lowerLogErrorBound,c)}}else t[o]=[-r[0]*T,r[1]*T]}return t}ie.exports=function(u,A,T){var m=[S(u.x,u.error_x,A[0],T.xaxis),S(u.y,u.error_y,A[1],T.yaxis),S(u.z,u.error_z,A[2],T.zaxis)],l=function(s){for(var c=0;c<s.length;c++)if(s[c])return s[c].length;return 0}(m);if(0===l)return null;for(var t=new Array(l),o=0;o<l;o++){for(var r=[[0,0,0],[0,0,0]],n=0;n<3;n++)if(m[n])for(var a=0;a<2;a++)r[a][n]=m[n][o][a];t[o]=r}return t}},58925:function(ie,B,e){"use strict";var C=e(9330).gl_line3d,S=e(9330).gl_scatter3d,u=e(9330).gl_error3d,A=e(9330).gl_mesh3d,T=e(9330).delaunay_triangulate,m=e(71828),l=e(78614),t=e(81697).formatColor,o=e(39984),r=e(29659),n=e(87381),a=e(89298),s=e(23469).appendArrayPointValue,c=e(67336);function p(d,E){this.scene=d,this.uid=E,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var f=p.prototype;function w(d){return null==d?0:d.indexOf("left")>-1?-1:d.indexOf("right")>-1?1:0}function v(d){return null==d?0:d.indexOf("top")>-1?-1:d.indexOf("bottom")>-1?1:0}function h(d,E){return E(4*d)}function _(d){return n[d]}function x(d,E,k,I,L){var P=null;if(m.isArrayOrTypedArray(d)){P=[];for(var R=0;R<E;R++)P[R]=void 0===d[R]?I:k(d[R],L)}else P=k(d,m.identity);return P}function b(d){if(m.isArrayOrTypedArray(d)){var E=d[0];return m.isArrayOrTypedArray(E)&&(d=E),"rgb("+d.slice(0,3).map(function(k){return Math.round(255*k)})+")"}return null}function M(d){return m.isArrayOrTypedArray(d)?4===d.length&&"number"==typeof d[0]?b(d):d.map(b):null}f.handlePick=function(d){if(d.object&&(d.object===this.linePlot||d.object===this.delaunayMesh||d.object===this.textMarkers||d.object===this.scatterPlot)){var E=d.index=d.data.index;return d.object.highlight&&d.object.highlight(null),this.scatterPlot&&(d.object=this.scatterPlot,this.scatterPlot.highlight(d.data)),d.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[E]||0===this.textLabels[E])&&(d.textLabel=this.textLabels[E]):d.textLabel=this.textLabels),d.traceCoordinate=[this.data.x[E],this.data.y[E],this.data.z[E]],!0}},f.update=function(d){var E,k,I,L,P=this.scene.glplot.gl,R=r.solid;this.data=d;var z=function(W,H){var U,Z,Y,ae,re,Q,K=[],te=W.fullSceneLayout,oe=W.dataScale,ue=te.xaxis,fe=te.yaxis,he=te.zaxis,me=H.marker,ke=H.line,Pe=H.x||[],Te=H.y||[],be=H.z||[],xe=Pe.length,Ne=H.xcalendar,Se=H.ycalendar,Ce=H.zcalendar;for(re=0;re<xe;re++)U=ue.d2l(Pe[re],0,Ne)*oe[0],Z=fe.d2l(Te[re],0,Se)*oe[1],Y=he.d2l(be[re],0,Ce)*oe[2],K[re]=[U,Z,Y];if(Array.isArray(H.text))Q=H.text;else if(void 0!==H.text)for(Q=new Array(xe),re=0;re<xe;re++)Q[re]=H.text;function pe(Ke,et){var st=te[Ke];return a.tickText(st,st.d2l(et),!0).text}var de=H.texttemplate;if(de){var se=W.fullLayout._d3locale,we=Array.isArray(de),Re=we?Math.min(de.length,xe):xe,Ee=we?function(Ke){return de[Ke]}:function(){return de};for(Q=new Array(Re),re=0;re<Re;re++){var Ue={x:Pe[re],y:Te[re],z:be[re]},$e={xLabel:pe("xaxis",Pe[re]),yLabel:pe("yaxis",Te[re]),zLabel:pe("zaxis",be[re])},ve={};s(ve,H,re);var Ie=H._meta||{};Q[re]=m.texttemplateString(Ee(re),$e,se,ve,Ue,Ie)}}if(ae={position:K,mode:H.mode,text:Q},"line"in H&&(ae.lineColor=t(ke,1,xe),ae.lineWidth=ke.width,ae.lineDashes=ke.dash),"marker"in H){var De=o(H);ae.scatterColor=t(me,1,xe),ae.scatterSize=x(me.size,xe,h,20,De),ae.scatterMarker=x(me.symbol,xe,_,"\u25cf"),ae.scatterLineWidth=me.line.width,ae.scatterLineColor=t(me.line,1,xe),ae.scatterAngle=0}"textposition"in H&&(ae.textOffset=function(Ke){var et=[0,0];if(Array.isArray(Ke))for(var st=0;st<Ke.length;st++)et[st]=[0,0],Ke[st]&&(et[st][0]=w(Ke[st]),et[st][1]=v(Ke[st]));else et[0]=w(Ke),et[1]=v(Ke);return et}(H.textposition),ae.textColor=t(H.textfont,1,xe),ae.textSize=x(H.textfont.size,xe,m.identity,12),ae.textFont=H.textfont.family,ae.textAngle=0);var ze=["x","y","z"];for(ae.project=[!1,!1,!1],ae.projectScale=[1,1,1],ae.projectOpacity=[1,1,1],re=0;re<3;++re){var Ge=H.projection[ze[re]];(ae.project[re]=Ge.show)&&(ae.projectOpacity[re]=Ge.opacity,ae.projectScale[re]=Ge.scale)}ae.errorBounds=c(H,oe,te);var He=function(Ke){for(var et=[0,0,0],st=[[0,0,0],[0,0,0],[0,0,0]],mt=[1,1,1],at=0;at<3;at++){var kt=Ke[at];kt&&!1!==kt.copy_zstyle&&!1!==Ke[2].visible&&(kt=Ke[2]),kt&&kt.visible&&(et[at]=kt.width/2,st[at]=l(kt.color),mt[at]=kt.thickness)}return{capSize:et,color:st,lineWidth:mt}}([H.error_x,H.error_y,H.error_z]);return ae.errorColor=He.color,ae.errorLineWidth=He.lineWidth,ae.errorCapSize=He.capSize,ae.delaunayAxis=H.surfaceaxis,ae.delaunayColor=l(H.surfacecolor),ae}(this.scene,d);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in r&&(R=r[z.lineDashes]),this.color=M(z.scatterColor)||M(z.lineColor),this.dataPoints=z.position,E={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:R[0],dashScale:R[1],opacity:d.opacity,connectGaps:d.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(E):(this.linePlot=C(E),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var $=d.opacity;if(d.marker&&void 0!==d.marker.opacity&&($*=d.marker.opacity),k={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:$,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(k):(this.scatterPlot=S(k),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),L={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:d.opacity},this.textLabels=d.hovertext||d.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(L):(this.textMarkers=S(L),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),I={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:d.opacity},this.errorBars?z.errorBounds?this.errorBars.update(I):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=u(I),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var N=function(W,H,U){var Z,Y=(U+1)%3,ae=(U+2)%3,re=[],Q=[];for(Z=0;Z<W.length;++Z){var K=W[Z];!isNaN(K[Y])&&isFinite(K[Y])&&!isNaN(K[ae])&&isFinite(K[ae])&&(re.push([K[Y],K[ae]]),Q.push(Z))}var te=T(re);for(Z=0;Z<te.length;++Z)for(var oe=te[Z],ue=0;ue<oe.length;++ue)oe[ue]=Q[oe[ue]];return{positions:W,cells:te,meshColor:H}}(z.position,z.delaunayColor,z.delaunayAxis);N.opacity=d.opacity,this.delaunayMesh?this.delaunayMesh.update(N):(N.gl=P,this.delaunayMesh=A(N),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},f.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},ie.exports=function(d,E){var k=new p(d,E.uid);return k.update(E),k}},21428:function(ie,B,e){"use strict";var C=e(73972),S=e(71828),u=e(34098),A=e(49508),T=e(11058),m=e(82410),l=e(44542);ie.exports=function(t,o,r,n){function a(_,x){return S.coerce(t,o,l,_,x)}var _,x,b,M,d,E,k,I;if(_=t,x=o,M=n,d=0,E=(b=a)("x"),k=b("y"),I=b("z"),C.getComponentMethod("calendars","handleTraceDefaults")(_,x,["x","y","z"],M),E&&k&&I&&(d=Math.min(E.length,k.length,I.length),x._length=x._xlength=x._ylength=x._zlength=d),d){a("text"),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),a("mode"),u.hasLines(o)&&(a("connectgaps"),T(t,o,r,n,a)),u.hasMarkers(o)&&A(t,o,r,n,a,{noSelect:!0,noAngle:!0}),u.hasText(o)&&(a("texttemplate"),m(t,o,n,a,{noSelect:!0}));var c=(o.line||{}).color,p=(o.marker||{}).color;a("surfaceaxis")>=0&&a("surfacecolor",c||p);for(var f=["x","y","z"],w=0;w<3;++w){var v="projection."+f[w];a(v+".show")&&(a(v+".opacity"),a(v+".scale"))}var h=C.getComponentMethod("errorbars","supplyDefaults");h(t,o,c||p||r,{axis:"z"}),h(t,o,c||p||r,{axis:"y",inherit:"z"}),h(t,o,c||p||r,{axis:"x",inherit:"z"})}else o.visible=!1}},13551:function(ie,B,e){"use strict";ie.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(ie,B,e){"use strict";var C=e(82196),S=e(9012),u=e(5386).fF,A=e(5386).si,T=e(50693),m=e(1426).extendFlat,l=C.marker,t=C.line,o=l.line;ie.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:m({},C.mode,{dflt:"markers"}),text:m({},C.text,{}),texttemplate:A({editType:"plot"},{keys:["a","b","text"]}),hovertext:m({},C.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:m({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:C.connectgaps,fill:m({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,marker:m({symbol:l.symbol,opacity:l.opacity,maxdisplayed:l.maxdisplayed,angle:l.angle,angleref:l.angleref,standoff:l.standoff,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,line:m({width:o.width,editType:"calc"},T("marker.line")),gradient:l.gradient,editType:"calc"},T("marker")),textfont:C.textfont,textposition:C.textposition,selected:C.selected,unselected:C.unselected,hoverinfo:m({},S.hoverinfo,{flags:["a","b","text","name"]}),hoveron:C.hoveron,hovertemplate:u()}},34618:function(ie,B,e){"use strict";var C=e(92770),S=e(36922),u=e(75225),A=e(66279),T=e(47761).calcMarkerSize,m=e(22882);ie.exports=function(l,t){var o=t._carpetTrace=m(l,t);if(o&&o.visible&&"legendonly"!==o.visible){var r;t.xaxis=o.xaxis,t.yaxis=o.yaxis;var n,a,s=t._length,c=new Array(s),p=!1;for(r=0;r<s;r++)if(a=t.b[r],C(n=t.a[r])&&C(a)){var f=o.ab2xy(+n,+a,!0),w=o.isVisible(+n,+a);w||(p=!0),c[r]={x:f[0],y:f[1],a:n,b:a,vis:w}}else c[r]={x:!1,y:!1};return t._needsCull=p,c[0].carpet=o,c[0].trace=t,T(t,s),S(l,t),u(c,t),A(c,t),c}}},98965:function(ie,B,e){"use strict";var C=e(71828),S=e(47581),u=e(34098),A=e(49508),T=e(11058),m=e(94039),l=e(82410),t=e(28908),o=e(97001);ie.exports=function(r,n,a,s){function c(h,_){return C.coerce(r,n,o,h,_)}c("carpet"),n.xaxis="x",n.yaxis="y";var p=c("a"),f=c("b"),w=Math.min(p.length,f.length);if(w){n._length=w,c("text"),c("texttemplate"),c("hovertext"),c("mode",w<S.PTS_LINESONLY?"lines+markers":"lines"),u.hasLines(n)&&(T(r,n,a,s,c,{backoff:!0}),m(r,n,c),c("connectgaps")),u.hasMarkers(n)&&A(r,n,a,s,c,{gradient:!0}),u.hasText(n)&&l(r,n,s,c);var v=[];(u.hasMarkers(n)||u.hasText(n))&&(c("marker.maxdisplayed"),v.push("points")),c("fill"),"none"!==n.fill&&(t(r,n,a,c),u.hasLines(n)||m(r,n,c)),"tonext"!==n.fill&&"toself"!==n.fill||v.push("fills"),"fills"!==c("hoveron",v.join("+")||"points")&&c("hovertemplate"),C.coerceSelectionMarkerOpacity(n,c)}else n.visible=!1}},16165:function(ie){"use strict";ie.exports=function(B,e,C,S,u){var A=S[u];return B.a=A.a,B.b=A.b,B.y=A.y,B}},48953:function(ie){"use strict";ie.exports=function(B,e){var C={},S=e._carpet,u=S.ab2ij([B.a,B.b]),A=Math.floor(u[0]),T=u[0]-A,m=Math.floor(u[1]),t=S.evalxy([],A,m,T,u[1]-m);return C.yLabel=t[1].toFixed(3),C}},22931:function(ie,B,e){"use strict";var C=e(33720),S=e(71828).fillText;ie.exports=function(u,A,T,m){var l=C(u,A,T,m);if(l&&!1!==l[0].index){var t=l[0];if(void 0===t.index){var r=u.xa._length,n=r*(1-t.y0/u.ya._length)/2,a=r-n;return t.x0=Math.max(Math.min(t.x0,a),n),t.x1=Math.max(Math.min(t.x1,a),n),l}var s=t.cd[t.index];t.a=s.a,t.b=s.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var c=t.trace,p=c._carpet,f=c._module.formatLabels(s,c);t.yLabel=f.yLabel,delete t.text;var w=[];if(!c.hovertemplate){var v=(s.hi||c.hoverinfo).split("+");-1!==v.indexOf("all")&&(v=["a","b","text"]),-1!==v.indexOf("a")&&h(p.aaxis,s.a),-1!==v.indexOf("b")&&h(p.baxis,s.b),w.push("y: "+t.yLabel),-1!==v.indexOf("text")&&S(s,c,w),t.extraText=w.join("<br>")}return l}function h(_,x){var b;b=_.labelprefix&&_.labelprefix.length>0?_.labelprefix.replace(/ = $/,""):_._hovertitle,w.push(b+": "+x.toFixed(3)+_.labelsuffix)}}},46858:function(ie,B,e){"use strict";ie.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(ie,B,e){"use strict";var C=e(32663),S=e(89298),u=e(91424);ie.exports=function(A,T,m,l){var t,o,r,n=m[0][0].carpet,a=S.getFromId(A,n.xaxis||"x"),s=S.getFromId(A,n.yaxis||"y"),c={xaxis:a,yaxis:s,plot:T.plot};for(t=0;t<m.length;t++)(o=m[t][0].trace)._xA=a,o._yA=s;for(C(A,c,m,l),t=0;t<m.length;t++)r=l.selectAll("g.trace"+(o=m[t][0].trace).uid+" .js-line"),u.setClipUrl(r,m[t][0].carpet._clipPathId,A)}},19316:function(ie,B,e){"use strict";var C=e(5386).fF,S=e(5386).si,u=e(82196),A=e(9012),T=e(50693),m=e(79952).P,l=e(1426).extendFlat,t=e(30962).overrideAll,o=u.marker,r=u.line,n=o.line;ie.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:l({},u.mode,{dflt:"markers"}),text:l({},u.text,{}),texttemplate:S({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:l({},u.hovertext,{}),textfont:u.textfont,textposition:u.textposition,line:{color:r.color,width:r.width,dash:m},connectgaps:u.connectgaps,marker:l({symbol:o.symbol,opacity:o.opacity,angle:o.angle,angleref:l({},o.angleref,{values:["previous","up","north"]}),standoff:o.standoff,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,colorbar:o.colorbar,line:l({width:n.width},T("marker.line")),gradient:o.gradient},T("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:u.fillcolor,selected:u.selected,unselected:u.unselected,hoverinfo:l({},A.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:C()},"calc","nested")},84622:function(ie,B,e){"use strict";var C=e(92770),S=e(50606).BADNUM,u=e(36922),A=e(75225),T=e(66279),m=e(71828)._;function l(t){return t&&"string"==typeof t}ie.exports=function(t,o){var r,n=Array.isArray(o.locations),a=n?o.locations.length:o._length,s=new Array(a);r=o.geojson?function(h){return l(h)||C(h)}:l;for(var c=0;c<a;c++){var p=s[c]={};if(n){var f=o.locations[c];p.loc=r(f)?f:null}else{var w=o.lon[c],v=o.lat[c];p.lonlat=C(w)&&C(v)?[+w,+v]:[S,S]}}return A(s,o),u(t,o),T(s,o),a&&(s[0].t={labels:{lat:m(t,"lat:")+" ",lon:m(t,"lon:")+" "}}),s}},10659:function(ie,B,e){"use strict";var C=e(71828),S=e(34098),u=e(49508),A=e(11058),T=e(82410),m=e(28908),l=e(19316);ie.exports=function(t,o,r,n){function a(h,_){return C.coerce(t,o,l,h,_)}var s,c=a("locations");if(c&&c.length){var p,f=a("geojson");("string"==typeof f&&""!==f||C.isPlainObject(f))&&(p="geojson-id"),"geojson-id"===a("locationmode",p)&&a("featureidkey"),s=c.length}else{var w=a("lon")||[],v=a("lat")||[];s=Math.min(w.length,v.length)}s?(o._length=s,a("text"),a("hovertext"),a("hovertemplate"),a("mode"),S.hasLines(o)&&(A(t,o,r,n,a),a("connectgaps")),S.hasMarkers(o)&&u(t,o,r,n,a,{gradient:!0}),S.hasText(o)&&(a("texttemplate"),T(t,o,n,a)),a("fill"),"none"!==o.fill&&m(t,o,r,a),C.coerceSelectionMarkerOpacity(o,a)):o.visible=!1}},84084:function(ie){"use strict";ie.exports=function(B,e,C,S,u){B.lon=e.lon,B.lat=e.lat,B.location=e.loc?e.loc:null;var A=S[u];return A.fIn&&A.fIn.properties&&(B.properties=A.fIn.properties),B}},82719:function(ie,B,e){"use strict";var C=e(89298);ie.exports=function(S,u,A){var T={},m=A[u.geo]._subplot.mockAxis,l=S.lonlat;return T.lonLabel=C.tickText(m,m.c2l(l[0]),!0).text,T.latLabel=C.tickText(m,m.c2l(l[1]),!0).text,T}},14977:function(ie,B,e){"use strict";var C=e(30211),S=e(50606).BADNUM,u=e(34603),A=e(71828).fillText,T=e(19316);ie.exports=function(m,l,t){var o=m.cd,r=o[0].trace,n=m.xa,a=m.ya,s=m.subplot,c=s.projection.isLonLatOverEdges,p=s.project;if(C.getClosest(o,function(b){var M=b.lonlat;if(M[0]===S||c(M))return 1/0;var d=p(M),E=p([l,t]),k=Math.abs(d[0]-E[0]),I=Math.abs(d[1]-E[1]),L=Math.max(3,b.mrc||0);return Math.max(Math.sqrt(k*k+I*I)-L,1-3/L)},m),!1!==m.index){var f=o[m.index],w=f.lonlat,v=[n.c2p(w),a.c2p(w)],h=f.mrc||1;m.x0=v[0]-h,m.x1=v[0]+h,m.y0=v[1]-h,m.y1=v[1]+h,m.loc=f.loc,m.lon=w[0],m.lat=w[1];var _={};_[r.geo]={_subplot:s};var x=r._module.formatLabels(f,r,_);return m.lonLabel=x.lonLabel,m.latLabel=x.latLabel,m.color=u(r,f),m.extraText=function(b,M,d,E){if(!b.hovertemplate){var k=M.hi||b.hoverinfo,I="all"===k?T.hoverinfo.flags:k.split("+"),L=-1!==I.indexOf("location")&&Array.isArray(b.locations),P=-1!==I.indexOf("lon"),R=-1!==I.indexOf("lat"),z=-1!==I.indexOf("text"),$=[];return L?$.push(M.loc):P&&R?$.push("("+N(d.latLabel)+", "+N(d.lonLabel)+")"):P?$.push(E.lon+N(d.lonLabel)):R&&$.push(E.lat+N(d.latLabel)),z&&A(M,b,$),$.join("<br>")}function N(W){return W+"\xb0"}}(r,f,m,o[0].t.labels),m.hovertemplate=r.hovertemplate,[m]}}},17988:function(ie,B,e){"use strict";ie.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(90973).getTopojsonFeatures,A=e(18214),T=e(41327),m=e(71739).findExtremes,l=e(50606).BADNUM,t=e(47761).calcMarkerSize,o=e(34098),r=e(33095);ie.exports={calcGeoJSON:function(n,a){var s,c,p=n[0].trace,f=a[p.geo],w=f._subplot,v=p._length;if(Array.isArray(p.locations)){var h=p.locationmode,_="geojson-id"===h?T.extractTraceFeature(n):u(p,w.topojson);for(s=0;s<v;s++){c=n[s];var x="geojson-id"===h?c.fOut:T.locationToFeature(h,c.loc,_);c.lonlat=x?x.properties.ct:[l,l]}}var b,M,d={padded:!0};if("geojson"===f.fitbounds&&"geojson-id"===p.locationmode){var E=T.computeBbox(T.getTraceGeojson(p));b=[E[0],E[2]],M=[E[1],E[3]]}else{for(b=new Array(v),M=new Array(v),s=0;s<v;s++)b[s]=(c=n[s]).lonlat[0],M[s]=c.lonlat[1];d.ppad=t(p,v)}p._extremes.lon=m(f.lonaxis._ax,b,d),p._extremes.lat=m(f.lataxis._ax,M,d)},plot:function(n,a,s){var c=a.layers.frontplot.select(".scatterlayer"),p=S.makeTraceGroups(c,s,"trace scattergeo");function f(w,v){w.lonlat[0]===l&&C.select(v).remove()}p.selectAll("*").remove(),p.each(function(w){var v=C.select(this),h=w[0].trace;if(o.hasLines(h)||"none"!==h.fill){var _=A.calcTraceToLineCoords(w),x="none"!==h.fill?A.makePolygon(_):A.makeLine(_);v.selectAll("path.js-line").data([{geojson:x,trace:h}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}o.hasMarkers(h)&&v.selectAll("path.point").data(S.identity).enter().append("path").classed("point",!0).each(function(b){f(b,this)}),o.hasText(h)&&v.selectAll("g").data(S.identity).enter().append("g").append("text").each(function(b){f(b,this)}),r(n,w)})}}},20548:function(ie,B,e){"use strict";var C=e(34098),S=e(50606).BADNUM;ie.exports=function(u,A){var T,m,l,t,o,r=u.cd,n=u.xaxis,a=u.yaxis,s=[],c=r[0].trace;if(!C.hasMarkers(c)&&!C.hasText(c))return[];if(!1===A)for(o=0;o<r.length;o++)r[o].selected=0;else for(o=0;o<r.length;o++)(m=(T=r[o]).lonlat)[0]!==S&&(l=n.c2p(m),t=a.c2p(m),A.contains([l,t],null,o,u)?(s.push({pointNumber:o,lon:m[0],lat:m[1]}),T.selected=1):T.selected=0);return s}},33095:function(ie,B,e){"use strict";var C=e(39898),S=e(91424),u=e(7901),A=e(16296),T=A.stylePoints,m=A.styleText;ie.exports=function(l,t){var o,r,n,a;t&&(o=l,n=(r=t)[0].trace,(a=r[0].node3).style("opacity",r[0].trace.opacity),T(a,n,o),m(a,n,o),a.selectAll("path.js-line").style("fill","none").each(function(s){var c=C.select(this),p=s.trace,f=p.line||{};c.call(u.stroke,f.color).call(S.dashLine,f.dash||"",f.width||0),"none"!==p.fill&&c.call(u.fill,p.fillcolor)}))}},42341:function(ie,B,e){"use strict";var C=e(9012),S=e(82196),u=e(12663).axisHoverFormat,A=e(50693),T=e(78607),m=e(1426).extendFlat,l=e(30962).overrideAll,t=e(78232).DASHES,o=S.line,r=S.marker,n=r.line,a=ie.exports=l({x:S.x,x0:S.x0,dx:S.dx,y:S.y,y0:S.y0,dy:S.dy,xperiod:S.xperiod,yperiod:S.yperiod,xperiod0:S.xperiod0,yperiod0:S.yperiod0,xperiodalignment:S.xperiodalignment,yperiodalignment:S.yperiodalignment,xhoverformat:u("x"),yhoverformat:u("y"),text:S.text,hovertext:S.hovertext,textposition:S.textposition,textfont:S.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:o.color,width:o.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:T(t),dflt:"solid"}},marker:m({},A("marker"),{symbol:r.symbol,angle:r.angle,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:m({},A("marker.line"),{width:n.width})}),connectgaps:S.connectgaps,fill:m({},S.fill,{dflt:"none"}),fillcolor:S.fillcolor,selected:{marker:S.selected.marker,textfont:S.selected.textfont},unselected:{marker:S.unselected.marker,textfont:S.unselected.textfont},opacity:C.opacity},"calc","nested");a.x.editType=a.y.editType=a.x0.editType=a.y0.editType="calc+clearAxisTypes",a.hovertemplate=S.hovertemplate,a.texttemplate=S.texttemplate},72156:function(ie,B,e){"use strict";var C=e(20794);ie.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:C.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(ie,B,e){"use strict";var C=e(88294),S=e(71828),u=e(41675),A=e(71739).findExtremes,T=e(42973),m=e(47761),l=m.calcMarkerSize,t=m.calcAxisExpansion,o=m.setFirstScatter,r=e(36922),n=e(19635),a=e(38967),s=e(50606).BADNUM,c=e(78232).TOO_MANY_POINTS;function p(f,w,v){var h=f._extremes[w._id],_=A(w,v._bnds,{padded:!0});h.min=h.min.concat(_.min),h.max=h.max.concat(_.max)}ie.exports=function(f,w){var v,h=f._fullLayout,_=w._xA=u.getFromId(f,w.xaxis,"x"),x=w._yA=u.getFromId(f,w.yaxis,"y"),b=h._plots[w.xaxis+w.yaxis],M=w._length,d=M>=c,E=2*M,k={},I=_.makeCalcdata(w,"x"),L=x.makeCalcdata(w,"y"),P=T(w,_,"x",I),R=T(w,x,"y",L),z=P.vals,$=R.vals;w._x=z,w._y=$,w.xperiodalignment&&(w._origX=I,w._xStarts=P.starts,w._xEnds=P.ends),w.yperiodalignment&&(w._origY=L,w._yStarts=R.starts,w._yEnds=R.ends);var N=new Array(E),W=new Array(M);for(v=0;v<M;v++)N[2*v]=z[v]===s?NaN:z[v],N[2*v+1]=$[v]===s?NaN:$[v],W[v]=v;if("log"===_.type)for(v=0;v<E;v+=2)N[v]=_.c2l(N[v]);if("log"===x.type)for(v=1;v<E;v+=2)N[v]=x.c2l(N[v]);d&&"log"!==_.type&&"log"!==x.type?k.tree=C(N):k.ids=W,r(f,w);var H,U=function(Y,ae,re,Q,K,te){var oe=n.style(Y,re);if(oe.marker&&(oe.marker.positions=Q),oe.line&&Q.length>1&&S.extendFlat(oe.line,n.linePositions(Y,re,Q)),oe.errorX||oe.errorY){var ue=n.errorBarPositions(Y,re,Q,K,te);oe.errorX&&S.extendFlat(oe.errorX,ue.x),oe.errorY&&S.extendFlat(oe.errorY,ue.y)}return oe.text&&(S.extendFlat(oe.text,{positions:Q},n.textPosition(Y,re,oe.text,oe.marker)),S.extendFlat(oe.textSel,{positions:Q},n.textPosition(Y,re,oe.text,oe.markerSel)),S.extendFlat(oe.textUnsel,{positions:Q},n.textPosition(Y,re,oe.text,oe.markerUnsel))),oe}(f,0,w,N,z,$),Z=a(f,b);return o(h,w),d?U.marker&&(H=U.marker.sizeAvg||Math.max(U.marker.size,3)):H=l(w,M),t(f,w,_,x,z,$,H),U.errorX&&p(w,_,U.errorX),U.errorY&&p(w,x,U.errorY),U.fill&&!Z.fill2d&&(Z.fill2d=!0),U.marker&&!Z.scatter2d&&(Z.scatter2d=!0),U.line&&!Z.line2d&&(Z.line2d=!0),!U.errorX&&!U.errorY||Z.error2d||(Z.error2d=!0),U.text&&!Z.glText&&(Z.glText=!0),U.marker&&(U.marker.snap=M),Z.lineOptions.push(U.line),Z.errorXOptions.push(U.errorX),Z.errorYOptions.push(U.errorY),Z.fillOptions.push(U.fill),Z.markerOptions.push(U.marker),Z.markerSelectedOptions.push(U.markerSel),Z.markerUnselectedOptions.push(U.markerUnsel),Z.textOptions.push(U.text),Z.textSelectedOptions.push(U.textSel),Z.textUnselectedOptions.push(U.textUnsel),Z.selectBatch.push([]),Z.unselectBatch.push([]),k._scene=Z,k.index=Z.count,k.x=z,k.y=$,k.positions=N,Z.count++,[{x:!1,y:!1,t:k,trace:w}]}},78232:function(ie){"use strict";ie.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(ie,B,e){"use strict";var C=e(92770),S=e(82019),u=e(25075),A=e(73972),T=e(71828),m=e(91424),l=e(41675),t=e(81697).formatColor,o=e(34098),r=e(39984),n=e(68645),a=e(78232),s=e(37822).DESELECTDIM,c={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},p=e(23469).appendArrayPointValue;function f(I,L){var P,R=I._fullLayout,z=L._length,$=L.textfont,N=L.textposition,W=Array.isArray(N)?N:[N],H=$.color,U=$.size,Z=$.family,Y={},ae=I._context.plotGlPixelRatio,re=L.texttemplate;if(re){Y.text=[];var Q=R._d3locale,K=Array.isArray(re),te=K?Math.min(re.length,z):z,oe=K?function(Te){return re[Te]}:function(){return re};for(P=0;P<te;P++){var ue={i:P},fe=L._module.formatLabels(ue,L,R),he={};p(he,L,P);var me=L._meta||{};Y.text.push(T.texttemplateString(oe(P),fe,Q,he,ue,me))}}else Y.text=Array.isArray(L.text)&&L.text.length<z?L.text.slice():L.text;if(Array.isArray(Y.text))for(P=Y.text.length;P<z;P++)Y.text[P]="";for(Y.opacity=L.opacity,Y.font={},Y.align=[],Y.baseline=[],P=0;P<W.length;P++){var ke=W[P].split(/\s+/);switch(ke[1]){case"left":Y.align.push("right");break;case"right":Y.align.push("left");break;default:Y.align.push(ke[1])}switch(ke[0]){case"top":Y.baseline.push("bottom");break;case"bottom":Y.baseline.push("top");break;default:Y.baseline.push(ke[0])}}if(Array.isArray(H))for(Y.color=new Array(z),P=0;P<z;P++)Y.color[P]=H[P];else Y.color=H;if(T.isArrayOrTypedArray(U)||Array.isArray(Z))for(Y.font=new Array(z),P=0;P<z;P++){var Pe=Y.font[P]={};Pe.size=(T.isTypedArray(U)?U[P]:Array.isArray(U)?C(U[P])?U[P]:0:U)*ae,Pe.family=Array.isArray(Z)?Z[P]:Z}else Y.font={size:U*ae,family:Z};return Y}function w(I,L){var P,R,z=L._length,$=L.marker,N={},W=T.isArrayOrTypedArray($.symbol),H=T.isArrayOrTypedArray($.angle),U=T.isArrayOrTypedArray($.color),Z=T.isArrayOrTypedArray($.line.color),Y=T.isArrayOrTypedArray($.opacity),ae=T.isArrayOrTypedArray($.size),re=T.isArrayOrTypedArray($.line.width);if(W||(R=n.isOpenSymbol($.symbol)),W||U||Z||Y||H){N.symbols=new Array(z),N.angles=new Array(z),N.colors=new Array(z),N.borderColors=new Array(z);var Q=$.symbol,K=$.angle,te=t($,$.opacity,z),oe=t($.line,$.opacity,z);if(!Array.isArray(oe[0])){var ue=oe;for(oe=Array(z),P=0;P<z;P++)oe[P]=ue}if(!Array.isArray(te[0])){var fe=te;for(te=Array(z),P=0;P<z;P++)te[P]=fe}if(!Array.isArray(Q)){var he=Q;for(Q=Array(z),P=0;P<z;P++)Q[P]=he}if(!Array.isArray(K)){var me=K;for(K=Array(z),P=0;P<z;P++)K[P]=me}for(N.symbols=Q,N.angles=K,N.colors=te,N.borderColors=oe,P=0;P<z;P++)W&&(R=n.isOpenSymbol($.symbol[P])),R&&(oe[P]=te[P].slice(),te[P]=te[P].slice(),te[P][3]=0);for(N.opacity=L.opacity,N.markers=new Array(z),P=0;P<z;P++)N.markers[P]=k({mx:N.symbols[P],ma:N.angles[P]},L)}else R?(N.color=u($.color,"uint8"),N.color[3]=0,N.borderColor=u($.color,"uint8")):(N.color=u($.color,"uint8"),N.borderColor=u($.line.color,"uint8")),N.opacity=L.opacity*$.opacity,N.marker=k({mx:$.symbol,ma:$.angle},L);var ke,Pe=r(L,1);if(ae||re){var Te,be=N.sizes=new Array(z),xe=N.borderSizes=new Array(z),Ne=0;if(ae){for(P=0;P<z;P++)be[P]=Pe($.size[P]),Ne+=be[P];Te=Ne/z}else for(ke=Pe($.size),P=0;P<z;P++)be[P]=ke;if(re)for(P=0;P<z;P++)xe[P]=$.line.width[P];else for(ke=$.line.width,P=0;P<z;P++)xe[P]=ke;N.sizeAvg=Te}else N.size=Pe($&&$.size||10),N.borderSizes=Pe($.line.width);return N}function v(I,L,P){var z={};return P&&(P.marker&&P.marker.symbol?z=w(0,T.extendFlat({},L.marker,P.marker)):P.marker&&(P.marker.size&&(z.size=P.marker.size),P.marker.color&&(z.colors=P.marker.color),void 0!==P.marker.opacity&&(z.opacity=P.marker.opacity))),z}function h(I,L,P){var R={};if(!P)return R;if(P.textfont){var z={opacity:1,text:L.text,texttemplate:L.texttemplate,textposition:L.textposition,textfont:T.extendFlat({},L.textfont)};P.textfont&&T.extendFlat(z.textfont,P.textfont),R=f(I,z)}return R}function _(I,L,P){var R={capSize:2*L.width*P,lineWidth:L.thickness*P,color:L.color};return L.copy_ystyle&&(R=I.error_y),R}var x=a.SYMBOL_SDF_SIZE,b=a.SYMBOL_SIZE,M=a.SYMBOL_STROKE,d={},E=m.symbolFuncs[0](.05*b);function k(I,L){var P,R,z=I.mx;if("circle"===z)return null;var $=m.symbolNumber(z),N=m.symbolFuncs[$%100],W=!!m.symbolNoDot[$%100],H=!!m.symbolNoFill[$%100],U=n.isDotSymbol(z);if(I.ma&&(z+="_"+I.ma),d[z])return d[z];var Z=m.getMarkerAngle(I,L);return P=U&&!W?N(1.1*b,Z)+E:N(b,Z),R=S(P,{w:x,h:x,viewBox:[-b,-b,b,b],stroke:H?M:-M}),d[z]=R,R||null}ie.exports={style:function(I,L){var P,R={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},z=I._context.plotGlPixelRatio;if(!0!==L.visible)return R;if(o.hasText(L)&&(R.text=f(I,L),R.textSel=h(I,L,L.selected),R.textUnsel=h(I,L,L.unselected)),o.hasMarkers(L)&&(R.marker=w(0,L),R.markerSel=v(0,L,L.selected),R.markerUnsel=v(0,L,L.unselected),!L.unselected&&T.isArrayOrTypedArray(L.marker.opacity))){var $=L.marker.opacity;for(R.markerUnsel.opacity=new Array($.length),P=0;P<$.length;P++)R.markerUnsel.opacity[P]=s*$[P]}if(o.hasLines(L)){R.line={overlay:!0,thickness:L.line.width*z,color:L.line.color,opacity:L.opacity};var N=(a.DASHES[L.line.dash]||[1]).slice();for(P=0;P<N.length;++P)N[P]*=L.line.width*z;R.line.dashes=N}return L.error_x&&L.error_x.visible&&(R.errorX=_(L,L.error_x,z)),L.error_y&&L.error_y.visible&&(R.errorY=_(L,L.error_y,z)),L.fill&&"none"!==L.fill&&(R.fill={closed:!0,fill:L.fillcolor,thickness:0}),R},markerStyle:w,markerSelection:v,linePositions:function(I,L,P){var R,z,$=P.length,N=$/2;if(o.hasLines(L)&&N)if("hv"===L.line.shape){for(R=[],z=0;z<N-1;z++)isNaN(P[2*z])||isNaN(P[2*z+1])?R.push(NaN,NaN,NaN,NaN):(R.push(P[2*z],P[2*z+1]),isNaN(P[2*z+2])||isNaN(P[2*z+3])?R.push(NaN,NaN):R.push(P[2*z+2],P[2*z+1]));R.push(P[$-2],P[$-1])}else if("hvh"===L.line.shape){for(R=[],z=0;z<N-1;z++)if(isNaN(P[2*z])||isNaN(P[2*z+1])||isNaN(P[2*z+2])||isNaN(P[2*z+3]))isNaN(P[2*z])||isNaN(P[2*z+1])?R.push(NaN,NaN):R.push(P[2*z],P[2*z+1]),R.push(NaN,NaN);else{var W=(P[2*z]+P[2*z+2])/2;R.push(P[2*z],P[2*z+1],W,P[2*z+1],W,P[2*z+3])}R.push(P[$-2],P[$-1])}else if("vhv"===L.line.shape){for(R=[],z=0;z<N-1;z++)if(isNaN(P[2*z])||isNaN(P[2*z+1])||isNaN(P[2*z+2])||isNaN(P[2*z+3]))isNaN(P[2*z])||isNaN(P[2*z+1])?R.push(NaN,NaN):R.push(P[2*z],P[2*z+1]),R.push(NaN,NaN);else{var H=(P[2*z+1]+P[2*z+3])/2;R.push(P[2*z],P[2*z+1],P[2*z],H,P[2*z+2],H)}R.push(P[$-2],P[$-1])}else if("vh"===L.line.shape){for(R=[],z=0;z<N-1;z++)isNaN(P[2*z])||isNaN(P[2*z+1])?R.push(NaN,NaN,NaN,NaN):(R.push(P[2*z],P[2*z+1]),isNaN(P[2*z+2])||isNaN(P[2*z+3])?R.push(NaN,NaN):R.push(P[2*z],P[2*z+3]));R.push(P[$-2],P[$-1])}else R=P;var U=!1;for(z=0;z<R.length;z++)if(isNaN(R[z])){U=!0;break}var Z=U||R.length>a.TOO_MANY_POINTS||o.hasMarkers(L)?"rect":"round";if(U&&L.connectgaps){var Y=R[0],ae=R[1];for(z=0;z<R.length;z+=2)isNaN(R[z])||isNaN(R[z+1])?(R[z]=Y,R[z+1]=ae):(Y=R[z],ae=R[z+1])}return{join:Z,positions:R}},errorBarPositions:function(I,L,P,R,z){var $=A.getComponentMethod("errorbars","makeComputeError"),N=l.getFromId(I,L.xaxis,"x"),W=l.getFromId(I,L.yaxis,"y"),H=P.length/2,U={};function Z(Y,ae){var re=ae._id.charAt(0),Q=L["error_"+re];if(Q&&Q.visible&&("linear"===ae.type||"log"===ae.type)){for(var K=$(Q),te={x:0,y:1}[re],oe={x:[0,1,2,3],y:[2,3,0,1]}[re],ue=new Float64Array(4*H),fe=1/0,he=-1/0,me=0,ke=0;me<H;me++,ke+=4){var Pe=Y[me];if(C(Pe)){var Te=P[2*me+te],be=K(Pe,me),xe=be[0],Ne=be[1];if(C(xe)&&C(Ne)){var Ce=Pe+Ne;ue[ke+oe[0]]=Te-ae.c2l(Pe-xe),ue[ke+oe[1]]=ae.c2l(Ce)-Te,ue[ke+oe[2]]=0,ue[ke+oe[3]]=0,fe=Math.min(fe,Pe-xe),he=Math.max(he,Pe+Ne)}}}U[re]={positions:P,errors:ue,_bnds:[fe,he]}}}return Z(R,N),Z(z,W),U},textPosition:function(I,L,P,R){var z,$=L._length,N={};if(o.hasMarkers(L)){var W=P.font,H=P.align,U=P.baseline;for(N.offset=new Array($),z=0;z<$;z++){var Z=R.sizes?R.sizes[z]:R.size,Y=Array.isArray(W)?W[z].size:W.size,ae=Array.isArray(H)?H.length>1?H[z]:H[0]:H,re=Array.isArray(U)?U.length>1?U[z]:U[0]:U,K=c[re],te=Z?Z/.8+1:0;N.offset[z]=[c[ae]*te/Y,(-K*te-.5*K)/Y]}}return N}}},47148:function(ie,B,e){"use strict";var C=e(71828),S=e(73972),u=e(68645),A=e(42341),T=e(47581),m=e(34098),l=e(67513),t=e(73927),o=e(49508),r=e(11058),n=e(28908),a=e(82410);ie.exports=function(s,c,p,f){function w(E,k){return C.coerce(s,c,A,E,k)}var v=!!s.marker&&u.isOpenSymbol(s.marker.symbol),h=m.isBubble(s),_=l(s,c,f,w);if(_){t(s,c,f,w),w("xhoverformat"),w("yhoverformat");var x=_<T.PTS_LINESONLY?"lines+markers":"lines";w("text"),w("hovertext"),w("hovertemplate"),w("mode",x),m.hasLines(c)&&(w("connectgaps"),r(s,c,p,f,w),w("line.shape")),m.hasMarkers(c)&&(o(s,c,p,f,w,{noAngleRef:!0,noStandOff:!0}),w("marker.line.width",v||h?1:0)),m.hasText(c)&&(w("texttemplate"),a(s,c,f,w));var b=(c.line||{}).color,M=(c.marker||{}).color;w("fill"),"none"!==c.fill&&n(s,c,p,w);var d=S.getComponentMethod("errorbars","supplyDefaults");d(s,c,b||M||p,{axis:"y"}),d(s,c,b||M||p,{axis:"x",inherit:"y"}),C.coerceSelectionMarkerOpacity(c,w)}else c.visible=!1}},5345:function(ie,B,e){"use strict";var C=e(71828),S=e(7901),u=e(37822).DESELECTDIM;ie.exports={styleTextSelection:function(A){var T,m,l=A[0],t=l.trace,o=l.t,r=o._scene,n=o.index,a=r.selectBatch[n],s=r.unselectBatch[n],c=r.textOptions[n],p=r.textSelectedOptions[n]||{},f=r.textUnselectedOptions[n]||{},w=C.extendFlat({},c);if(a.length||s.length){var v=p.color,h=f.color,_=c.color,x=Array.isArray(_);for(w.color=new Array(t._length),T=0;T<a.length;T++)w.color[m=a[T]]=v||(x?_[m]:_);for(T=0;T<s.length;T++){m=s[T];var b=x?_[m]:_;w.color[m]=h||(v?b:S.addOpacity(b,u))}}r.glText[n].update(w)}}},68101:function(ie,B,e){"use strict";var C=e(8225);ie.exports=function(S,u,A){var T=S.i;return"x"in S||(S.x=u._x[T]),"y"in S||(S.y=u._y[T]),C(S,u,A)}},68645:function(ie,B,e){"use strict";var C=e(78232);B.isOpenSymbol=function(S){return"string"==typeof S?C.OPEN_RE.test(S):S%200>100},B.isDotSymbol=function(S){return"string"==typeof S?C.DOT_RE.test(S):S>200}},20794:function(ie,B,e){"use strict";var C=e(73972),S=e(71828),u=e(34603);function A(T,m,l,t){var o=T.xa,r=T.ya,n=T.distance,a=T.dxy,s=T.index,c={pointNumber:s,x:m[s],y:l[s]};c.tx=Array.isArray(t.text)?t.text[s]:t.text,c.htx=Array.isArray(t.hovertext)?t.hovertext[s]:t.hovertext,c.data=Array.isArray(t.customdata)?t.customdata[s]:t.customdata,c.tp=Array.isArray(t.textposition)?t.textposition[s]:t.textposition;var p=t.textfont;p&&(c.ts=S.isArrayOrTypedArray(p.size)?p.size[s]:p.size,c.tc=Array.isArray(p.color)?p.color[s]:p.color,c.tf=Array.isArray(p.family)?p.family[s]:p.family);var f=t.marker;f&&(c.ms=S.isArrayOrTypedArray(f.size)?f.size[s]:f.size,c.mo=S.isArrayOrTypedArray(f.opacity)?f.opacity[s]:f.opacity,c.mx=S.isArrayOrTypedArray(f.symbol)?f.symbol[s]:f.symbol,c.ma=S.isArrayOrTypedArray(f.angle)?f.angle[s]:f.angle,c.mc=S.isArrayOrTypedArray(f.color)?f.color[s]:f.color);var w=f&&f.line;w&&(c.mlc=Array.isArray(w.color)?w.color[s]:w.color,c.mlw=S.isArrayOrTypedArray(w.width)?w.width[s]:w.width);var v=f&&f.gradient;v&&"none"!==v.type&&(c.mgt=Array.isArray(v.type)?v.type[s]:v.type,c.mgc=Array.isArray(v.color)?v.color[s]:v.color);var h=o.c2p(c.x,!0),_=r.c2p(c.y,!0),x=c.mrc||1,b=t.hoverlabel;b&&(c.hbg=Array.isArray(b.bgcolor)?b.bgcolor[s]:b.bgcolor,c.hbc=Array.isArray(b.bordercolor)?b.bordercolor[s]:b.bordercolor,c.hts=S.isArrayOrTypedArray(b.font.size)?b.font.size[s]:b.font.size,c.htc=Array.isArray(b.font.color)?b.font.color[s]:b.font.color,c.htf=Array.isArray(b.font.family)?b.font.family[s]:b.font.family,c.hnl=S.isArrayOrTypedArray(b.namelength)?b.namelength[s]:b.namelength);var M=t.hoverinfo;M&&(c.hi=Array.isArray(M)?M[s]:M);var d=t.hovertemplate;d&&(c.ht=Array.isArray(d)?d[s]:d);var E={};E[T.index]=c;var k=t._origX,I=t._origY,L=S.extendFlat({},T,{color:u(t,c),x0:h-x,x1:h+x,xLabelVal:k?k[s]:c.x,y0:_-x,y1:_+x,yLabelVal:I?I[s]:c.y,cd:E,distance:n,spikeDistance:a,hovertemplate:c.ht});return c.htx?L.text=c.htx:c.tx?L.text=c.tx:t.text&&(L.text=t.text),S.fillText(c,t,L),C.getComponentMethod("errorbars","hoverInfo")(c,t,L),L}ie.exports={hoverPoints:function(T,m,l,t){var o,r,n,a,s,c,p,f,w,v,h=T.cd,_=h[0].t,x=h[0].trace,b=T.xa,M=T.ya,d=_.x,E=_.y,k=b.c2p(m),I=M.c2p(l),L=T.distance;if(_.tree){var P=b.p2c(k-L),R=b.p2c(k+L),z=M.p2c(I-L),$=M.p2c(I+L);o="x"===t?_.tree.range(Math.min(P,R),Math.min(M._rl[0],M._rl[1]),Math.max(P,R),Math.max(M._rl[0],M._rl[1])):_.tree.range(Math.min(P,R),Math.min(z,$),Math.max(P,R),Math.max(z,$))}else o=_.ids;var N=L;if("x"===t){var W=!!x.xperiodalignment,H=!!x.yperiodalignment;for(c=0;c<o.length;c++){if(a=d[r=o[c]],p=Math.abs(b.c2p(a)-k),W){var U=b.c2p(x._xStarts[r]),Z=b.c2p(x._xEnds[r]);p=k>=Math.min(U,Z)&&k<=Math.max(U,Z)?0:1/0}if(p<N){if(N=p,f=M.c2p(s=E[r])-I,H){var Y=M.c2p(x._yStarts[r]),ae=M.c2p(x._yEnds[r]);f=I>=Math.min(Y,ae)&&I<=Math.max(Y,ae)?0:1/0}v=Math.sqrt(p*p+f*f),n=o[c]}}}else for(c=o.length-1;c>-1;c--)a=d[r=o[c]],s=E[r],p=b.c2p(a)-k,f=M.c2p(s)-I,(w=Math.sqrt(p*p+f*f))<N&&(N=v=w,n=r);return T.index=n,T.distance=N,T.dxy=v,void 0===n?[T]:[A(T,d,E,x)]},calcHover:A}},68868:function(ie,B,e){"use strict";var C=e(72156);C.plot=e(26787),ie.exports=C},26787:function(ie,B,e){"use strict";var C=e(11870),S=e(46075),u=e(3593),A=e(42505),T=e(71828),m=e(64505).selectMode,l=e(79749),t=e(34098),o=e(68687),r=e(5345).styleTextSelection,n={};function a(s,c,p,f){var w=s._size,d=w.w*f,E=w.h*f;return[w.l*f+c.domain[0]*d,w.b*f+p.domain[0]*E,s.width*f-w.r*f-(1-c.domain[1])*d,s.height*f-w.t*f-(1-p.domain[1])*E]}(ie.exports=function(s,c,p){if(p.length){var f,w,v=s._fullLayout,h=c._scene,_=c.xaxis,x=c.yaxis;if(h)if(l(s,["ANGLE_instanced_arrays","OES_element_index_uint"],n)){var b=h.count,M=v._glcanvas.data()[0].regl;if(o(s,c,p),h.dirty){if(!0===h.error2d&&(h.error2d=u(M)),!0===h.line2d&&(h.line2d=S(M)),!0===h.scatter2d&&(h.scatter2d=C(M)),!0===h.fill2d&&(h.fill2d=S(M)),!0===h.glText)for(h.glText=new Array(b),f=0;f<b;f++)h.glText[f]=new A(M);if(h.glText){if(b>h.glText.length){var d=b-h.glText.length;for(f=0;f<d;f++)h.glText.push(new A(M))}else b<h.glText.length&&h.glText.splice(b,h.glText.length-b).forEach(function(ue){ue.destroy()});for(f=0;f<b;f++)h.glText[f].update(h.textOptions[f])}if(h.line2d&&(h.line2d.update(h.lineOptions),h.lineOptions=h.lineOptions.map(function(ue){if(ue&&ue.positions){for(var fe=ue.positions,he=0;he<fe.length&&(isNaN(fe[he])||isNaN(fe[he+1]));)he+=2;for(var me=fe.length-2;me>he&&(isNaN(fe[me])||isNaN(fe[me+1]));)me-=2;ue.positions=fe.slice(he,me+2)}return ue}),h.line2d.update(h.lineOptions)),h.error2d){var k=(h.errorXOptions||[]).concat(h.errorYOptions||[]);h.error2d.update(k)}h.scatter2d&&h.scatter2d.update(h.markerOptions),h.fillOrder=T.repeat(null,b),h.fill2d&&(h.fillOptions=h.fillOptions.map(function(ue,fe){var he=p[fe];if(ue&&he&&he[0]&&he[0].trace){var me,ke,Pe=he[0],Te=Pe.trace,be=Pe.t,xe=h.lineOptions[fe],Ne=[];Te._ownfill&&Ne.push(fe),Te._nexttrace&&Ne.push(fe+1),Ne.length&&(h.fillOrder[fe]=Ne);var Se,Ce,pe=[],de=xe&&xe.positions||be.positions;if("tozeroy"===Te.fill){for(Se=0;Se<de.length&&isNaN(de[Se+1]);)Se+=2;for(Ce=de.length-2;Ce>Se&&isNaN(de[Ce+1]);)Ce-=2;0!==de[Se+1]&&(pe=[de[Se],0]),pe=pe.concat(de.slice(Se,Ce+2)),0!==de[Ce+1]&&(pe=pe.concat([de[Ce],0]))}else if("tozerox"===Te.fill){for(Se=0;Se<de.length&&isNaN(de[Se]);)Se+=2;for(Ce=de.length-2;Ce>Se&&isNaN(de[Ce]);)Ce-=2;0!==de[Se]&&(pe=[0,de[Se+1]]),pe=pe.concat(de.slice(Se,Ce+2)),0!==de[Ce]&&(pe=pe.concat([0,de[Ce+1]]))}else if("toself"===Te.fill||"tonext"===Te.fill){for(pe=[],me=0,ue.splitNull=!0,ke=0;ke<de.length;ke+=2)(isNaN(de[ke])||isNaN(de[ke+1]))&&((pe=pe.concat(de.slice(me,ke))).push(de[me],de[me+1]),pe.push(null,null),me=ke+2);pe=pe.concat(de.slice(me)),me&&pe.push(de[me],de[me+1])}else{var se=Te._nexttrace;if(se){var we=h.lineOptions[fe+1];if(we){var Re=we.positions;if("tonexty"===Te.fill){for(pe=de.slice(),fe=Math.floor(Re.length/2);fe--;){var Ee=Re[2*fe],Ue=Re[2*fe+1];isNaN(Ee)||isNaN(Ue)||pe.push(Ee,Ue)}ue.fill=se.fillcolor}}}}if(Te._prevtrace&&"tonext"===Te._prevtrace.fill){var $e=h.lineOptions[fe-1].positions,ve=pe.length/2,Ie=[me=ve];for(ke=0;ke<$e.length;ke+=2)(isNaN($e[ke])||isNaN($e[ke+1]))&&(Ie.push(ke/2+ve+1),me=ke+2);pe=pe.concat($e),ue.hole=Ie}return ue.fillmode=Te.fill,ue.opacity=Te.opacity,ue.positions=pe,ue}}),h.fill2d.update(h.fillOptions))}var L=m(v.dragmode),P=v.clickmode.indexOf("select")>-1;for(f=0;f<b;f++){var R=p[f][0],z=R.trace,$=R.t,N=$.index,W=z._length,H=$.x,U=$.y;if(z.selectedpoints||L||P){if(L||(L=!0),z.selectedpoints){var Z=h.selectBatch[N]=T.selIndices2selPoints(z),Y={};for(w=0;w<Z.length;w++)Y[Z[w]]=1;var ae=[];for(w=0;w<W;w++)Y[w]||ae.push(w);h.unselectBatch[N]=ae}var re=$.xpx=new Array(W),Q=$.ypx=new Array(W);for(w=0;w<W;w++)re[w]=_.c2p(H[w]),Q[w]=x.c2p(U[w])}else $.xpx=$.ypx=null}if(L){if(h.select2d||(h.select2d=C(v._glcanvas.data()[1].regl)),h.scatter2d){var K=new Array(b);for(f=0;f<b;f++)K[f]=h.selectBatch[f].length||h.unselectBatch[f].length?h.markerUnselectedOptions[f]:{};h.scatter2d.update(K)}h.select2d&&(h.select2d.update(h.markerOptions),h.select2d.update(h.markerSelectedOptions)),h.glText&&p.forEach(function(ue){t.hasText(((ue||[])[0]||{}).trace||{})&&r(ue)})}else h.scatter2d&&h.scatter2d.update(h.markerOptions);var te={viewport:a(v,_,x,s._context.plotGlPixelRatio),range:[(_._rl||_.range)[0],(x._rl||x.range)[0],(_._rl||_.range)[1],(x._rl||x.range)[1]]},oe=T.repeat(te,h.count);h.fill2d&&h.fill2d.update(oe),h.line2d&&h.line2d.update(oe),h.error2d&&h.error2d.update(oe.concat(oe)),h.scatter2d&&h.scatter2d.update(oe),h.select2d&&h.select2d.update(oe),h.glText&&h.glText.forEach(function(ue){ue.update(te)})}else h.init()}}).reglPrecompiled=n},38967:function(ie,B,e){"use strict";var C=e(71828);ie.exports=function(S,u){var A=u._scene,T={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},m={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return u._scene||((A=u._scene={}).init=function(){C.extendFlat(A,m,T)},A.init(),A.update=function(l){var t=C.repeat(l,A.count);if(A.fill2d&&A.fill2d.update(t),A.scatter2d&&A.scatter2d.update(t),A.line2d&&A.line2d.update(t),A.error2d&&A.error2d.update(t.concat(t)),A.select2d&&A.select2d.update(t),A.glText)for(var o=0;o<A.count;o++)A.glText[o].update(l)},A.draw=function(){for(var l=A.count,t=A.fill2d,o=A.error2d,r=A.line2d,n=A.scatter2d,a=A.glText,s=A.select2d,c=A.selectBatch,p=A.unselectBatch,f=0;f<l;f++){if(t&&A.fillOrder[f]&&t.draw(A.fillOrder[f]),r&&A.lineOptions[f]&&r.draw(f),o&&(A.errorXOptions[f]&&o.draw(f),A.errorYOptions[f]&&o.draw(f+l)),n&&A.markerOptions[f])if(p[f].length){var w=C.repeat([],A.count);w[f]=p[f],n.draw(w)}else c[f].length||n.draw(f);a[f]&&A.textOptions[f]&&a[f].render()}s&&s.draw(c),A.dirty=!1},A.destroy=function(){A.fill2d&&A.fill2d.destroy&&A.fill2d.destroy(),A.scatter2d&&A.scatter2d.destroy&&A.scatter2d.destroy(),A.error2d&&A.error2d.destroy&&A.error2d.destroy(),A.line2d&&A.line2d.destroy&&A.line2d.destroy(),A.select2d&&A.select2d.destroy&&A.select2d.destroy(),A.glText&&A.glText.forEach(function(l){l.destroy&&l.destroy()}),A.lineOptions=null,A.fillOptions=null,A.markerOptions=null,A.markerSelectedOptions=null,A.markerUnselectedOptions=null,A.errorXOptions=null,A.errorYOptions=null,A.textOptions=null,A.textSelectedOptions=null,A.textUnselectedOptions=null,A.selectBatch=null,A.unselectBatch=null,u._scene=null}),A.dirty||C.extendFlat(A,T),A}},58147:function(ie,B,e){"use strict";var C=e(34098),S=e(5345).styleTextSelection;ie.exports=function(u,A){var T=u.cd,m=u.xaxis,l=u.yaxis,t=[],o=T[0].trace,r=T[0].t,n=o._length,a=r.x,s=r.y,c=r._scene,p=r.index;if(!c)return t;var f=C.hasText(o),w=C.hasMarkers(o);if(!0!==o.visible||!w&&!f)return t;var h=[],_=[];if(!1!==A&&!A.degenerate)for(var x=0;x<n;x++)A.contains([r.xpx[x],r.ypx[x]],!1,x,u)?(h.push(x),t.push({pointNumber:x,x:m.c2d(a[x]),y:l.c2d(s[x])})):_.push(x);if(w){var b=c.scatter2d;if(h.length||_.length){if(!c.selectBatch[p].length&&!c.unselectBatch[p].length){var M=new Array(c.count);M[p]=c.markerUnselectedOptions[p],b.update.apply(b,M)}}else{var d=new Array(c.count);d[p]=c.markerOptions[p],b.update.apply(b,d)}}return c.selectBatch[p]=h,c.unselectBatch[p]=_,f&&S(T),t}},99181:function(ie,B,e){"use strict";var C=e(5386).fF,S=e(5386).si,u=e(19316),A=e(82196),T=e(23585),m=e(9012),l=e(50693),t=e(1426).extendFlat,o=e(30962).overrideAll,r=e(23585),n=u.line,a=u.marker;ie.exports=o({lon:u.lon,lat:u.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},r.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},a.opacity,{dflt:1})},mode:t({},A.mode,{dflt:"markers"}),text:t({},A.text,{}),texttemplate:S({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},A.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:A.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:a.opacity,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode},l("marker")),fill:u.fill,fillcolor:A.fillcolor,textfont:T.layers.symbol.textfont,textposition:T.layers.symbol.textposition,below:{valType:"string"},selected:{marker:A.selected.marker},unselected:{marker:A.unselected.marker},hoverinfo:t({},m.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:C()},"calc","nested")},15790:function(ie,B,e){"use strict";var C=e(92770),S=e(71828),u=e(50606).BADNUM,A=e(18214),T=e(21081),m=e(91424),l=e(39984),t=e(34098),o=e(13056),r=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,a=e(63893).BR_TAG_ALL;function s(v){return{type:v,geojson:A.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function c(v,h){return S.isArrayOrTypedArray(v)?h?function(_){return C(v[_])?+v[_]:0}:function(_){return v[_]}:v?function(){return v}:p}function p(){return""}function f(v){return v[0]===u}function w(v,h){var _;if(S.isArrayOrTypedArray(v)&&S.isArrayOrTypedArray(h)){_=["step",["get","point_count"],v[0]];for(var x=1;x<v.length;x++)_.push(h[x-1],v[x])}else _=v;return _}ie.exports=function(v,h){var _,x=h[0].trace,b=!0===x.visible&&0!==x._length,M="none"!==x.fill,d=t.hasLines(x),E=t.hasMarkers(x),k=t.hasText(x),I=E&&"circle"===x.marker.symbol,L=E&&"circle"!==x.marker.symbol,P=x.cluster&&x.cluster.enabled,R=s("fill"),z=s("line"),$=s("circle"),N=s("symbol"),W={fill:R,line:z,circle:$,symbol:N};if(!b)return W;if((M||d)&&(_=A.calcTraceToLineCoords(h)),M&&(R.geojson=A.makePolygon(_),R.layout.visibility="visible",S.extendFlat(R.paint,{"fill-color":x.fillcolor})),d&&(z.geojson=A.makeLine(_),z.layout.visibility="visible",S.extendFlat(z.paint,{"line-width":x.line.width,"line-color":x.line.color,"line-opacity":x.opacity})),I){var H=function(Y){var ae,re,Q,K,te=Y[0].trace,oe=te.marker,ue=te.selectedpoints,fe=S.isArrayOrTypedArray(oe.color),he=S.isArrayOrTypedArray(oe.size),me=S.isArrayOrTypedArray(oe.opacity);function ke(pe){return te.opacity*pe}fe&&(re=T.hasColorscale(te,"marker")?T.makeColorScaleFuncFromTrace(oe):S.identity),he&&(Q=l(te)),me&&(K=function(pe){return ke(C(pe)?+S.constrain(pe,0,1):0)});var Pe,Te,be=[];for(ae=0;ae<Y.length;ae++){var xe=Y[ae],Ne=xe.lonlat;if(!f(Ne)){var Se={};re&&(Se.mcc=xe.mcc=re(xe.mc)),Q&&(Se.mrc=xe.mrc=Q(xe.ms)),K&&(Se.mo=K(xe.mo)),ue&&(Se.selected=xe.selected||0),be.push({type:"Feature",id:ae+1,geometry:{type:"Point",coordinates:Ne},properties:Se})}}if(ue)for(Pe=m.makeSelectedPointStyleFns(te),ae=0;ae<be.length;ae++){var Ce=be[ae].properties;Pe.selectedOpacityFn&&(Ce.mo=ke(Pe.selectedOpacityFn(Ce))),Pe.selectedColorFn&&(Ce.mcc=Pe.selectedColorFn(Ce)),Pe.selectedSizeFn&&(Ce.mrc=Pe.selectedSizeFn(Ce))}return{geojson:{type:"FeatureCollection",features:be},mcc:fe||Pe&&Pe.selectedColorFn?{type:"identity",property:"mcc"}:oe.color,mrc:he||Pe&&Pe.selectedSizeFn?{type:"identity",property:"mrc"}:(Te=oe.size,Te/2),mo:me||Pe&&Pe.selectedOpacityFn?{type:"identity",property:"mo"}:ke(oe.opacity)}}(h);$.geojson=H.geojson,$.layout.visibility="visible",P&&($.filter=["!",["has","point_count"]],W.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":w(x.cluster.color,x.cluster.step),"circle-radius":w(x.cluster.size,x.cluster.step),"circle-opacity":w(x.cluster.opacity,x.cluster.step)}},W.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),S.extendFlat($.paint,{"circle-color":H.mcc,"circle-radius":H.mrc,"circle-opacity":H.mo})}if(I&&P&&($.filter=["!",["has","point_count"]]),(L||k)&&(N.geojson=function(Y,ae){for(var re=ae._fullLayout,Q=Y[0].trace,K=Q.marker||{},te=K.symbol,oe=K.angle,ue="circle"!==te?c(te):p,fe="auto"!==oe?c(oe,!0):p,he=t.hasText(Q)?c(Q.text):p,me=[],ke=0;ke<Y.length;ke++){var Pe=Y[ke];if(!f(Pe.lonlat)){var Te,be=Q.texttemplate;if(be){var xe=Array.isArray(be)?be[ke]||"":be,Ne=Q._module.formatLabels(Pe,Q,re),Se={};r(Se,Q,Pe.i),Te=S.texttemplateString(xe,Ne,re._d3locale,Se,Pe,Q._meta||{})}else Te=he(ke);Te&&(Te=Te.replace(n,"").replace(a,"\n")),me.push({type:"Feature",geometry:{type:"Point",coordinates:Pe.lonlat},properties:{symbol:ue(ke),angle:fe(ke),text:Te}})}}return{type:"FeatureCollection",features:me}}(h,v),S.extendFlat(N.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),L&&(S.extendFlat(N.layout,{"icon-size":x.marker.size/10}),"angle"in x.marker&&"auto"!==x.marker.angle&&S.extendFlat(N.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),N.layout["icon-allow-overlap"]=x.marker.allowoverlap,S.extendFlat(N.paint,{"icon-opacity":x.opacity*x.marker.opacity,"icon-color":x.marker.color})),k)){var Z=o(x.textposition,(x.marker||{}).size);S.extendFlat(N.layout,{"text-size":x.textfont.size,"text-anchor":Z.anchor,"text-offset":Z.offset}),S.extendFlat(N.paint,{"text-color":x.textfont.color,"text-opacity":x.opacity})}return W}},76645:function(ie,B,e){"use strict";var C=e(71828),S=e(34098),u=e(49508),A=e(11058),T=e(82410),m=e(28908),l=e(99181);ie.exports=function(t,o,r,n){function a(x,b){return C.coerce(t,o,l,x,b)}function s(x,b){return C.coerce2(t,o,l,x,b)}var b,M,d,E,k;if(b=o,d=(M=a)("lon")||[],E=M("lat")||[],k=Math.min(d.length,E.length),b._length=k,k){if(a("text"),a("texttemplate"),a("hovertext"),a("hovertemplate"),a("mode"),a("below"),S.hasLines(o)&&(A(t,o,r,n,a,{noDash:!0}),a("connectgaps")),S.hasMarkers(o)){u(t,o,r,n,a,{noLine:!0,noAngle:!0}),a("marker.allowoverlap"),a("marker.angle");var p=o.marker;"circle"!==p.symbol&&(C.isArrayOrTypedArray(p.size)&&(p.size=p.size[0]),C.isArrayOrTypedArray(p.color)&&(p.color=p.color[0]))}var f=s("cluster.maxzoom"),w=s("cluster.step"),v=s("cluster.color",o.marker&&o.marker.color||r),h=s("cluster.size"),_=s("cluster.opacity");a("cluster.enabled",!1!==f||!1!==w||!1!==v||!1!==h||!1!==_),S.hasText(o)&&T(t,o,n,a,{noSelect:!0}),a("fill"),"none"!==o.fill&&m(t,o,r,a),C.coerceSelectionMarkerOpacity(o,a)}else o.visible=!1}},53353:function(ie){"use strict";ie.exports=function(B,e){return B.lon=e.lon,B.lat=e.lat,B}},15636:function(ie,B,e){"use strict";var C=e(89298);ie.exports=function(S,u,A){var T={},m=A[u.subplot]._subplot.mockAxis,l=S.lonlat;return T.lonLabel=C.tickText(m,m.c2l(l[0]),!0).text,T.latLabel=C.tickText(m,m.c2l(l[1]),!0).text,T}},28178:function(ie,B,e){"use strict";var C=e(30211),S=e(71828),u=e(34603),A=S.fillText,T=e(50606).BADNUM,m=e(77734).traceLayerPrefix;function l(t,o,r){if(!t.hovertemplate){var n=(o.hi||t.hoverinfo).split("+"),a=-1!==n.indexOf("all"),s=-1!==n.indexOf("lon"),c=-1!==n.indexOf("lat"),p=o.lonlat,f=[];return a||s&&c?f.push("("+w(p[1])+", "+w(p[0])+")"):s?f.push(r.lon+w(p[0])):c&&f.push(r.lat+w(p[1])),(a||-1!==n.indexOf("text"))&&A(o,t,f),f.join("<br>")}function w(v){return v+"\xb0"}}ie.exports={hoverPoints:function(t,o,r){var n=t.cd,a=n[0].trace,s=t.xa,c=t.ya,p=t.subplot,f=[],v=a.cluster&&a.cluster.enabled;if(v){var h=p.map.queryRenderedFeatures(null,{layers:[m+a.uid+"-circle"]});f=h.map(function(R){return R.id})}var _=360*(o>=0?Math.floor((o+180)/360):Math.ceil((o-180)/360)),x=o-_;if(C.getClosest(n,function(R){var z=R.lonlat;if(z[0]===T||v&&-1===f.indexOf(R.i+1))return 1/0;var $=S.modHalf(z[0],360),N=z[1],W=p.project([$,N]),H=W.x-s.c2p([x,N]),U=W.y-c.c2p([$,r]),Z=Math.max(3,R.mrc||0);return Math.max(Math.sqrt(H*H+U*U)-Z,1-3/Z)},t),!1!==t.index){var b=n[t.index],M=b.lonlat,d=[S.modHalf(M[0],360)+_,M[1]],E=s.c2p(d),k=c.c2p(d),I=b.mrc||1;t.x0=E-I,t.x1=E+I,t.y0=k-I,t.y1=k+I;var L={};L[a.subplot]={_subplot:p};var P=a._module.formatLabels(b,a,L);return t.lonLabel=P.lonLabel,t.latLabel=P.latLabel,t.color=u(a,b),t.extraText=l(a,b,n[0].t.labels),t.hovertemplate=a.hovertemplate,[t]}},getExtraText:l}},20467:function(ie,B,e){"use strict";ie.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(C,S){S&&S[0].trace._glTrace.update(S)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(ie,B,e){"use strict";var C=e(71828),S=e(15790),u=e(77734).traceLayerPrefix,A={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function T(l,t,o,r){this.type="scattermapbox",this.subplot=l,this.uid=t,this.clusterEnabled=o,this.isHidden=r,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:u+t+"-fill",line:u+t+"-line",circle:u+t+"-circle",symbol:u+t+"-symbol",cluster:u+t+"-cluster",clusterCount:u+t+"-cluster-count"},this.below=null}var m=T.prototype;m.addSource=function(l,t,o){var r={type:"geojson",data:t.geojson};o&&o.enabled&&C.extendFlat(r,{cluster:!0,clusterMaxZoom:o.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[l]);n?n.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[l],r)},m.setSourceData=function(l,t){this.subplot.map.getSource(this.sourceIds[l]).setData(t.geojson)},m.addLayer=function(l,t,o){var r={type:t.type,id:this.layerIds[l],source:this.sourceIds[l],layout:t.layout,paint:t.paint};t.filter&&(r.filter=t.filter);for(var n,a=this.layerIds[l],s=this.subplot.getMapLayers(),c=0;c<s.length;c++)if(s[c].id===a){n=!0;break}n?(this.subplot.setOptions(a,"setLayoutProperty",r.layout),"visible"===r.layout.visibility&&this.subplot.setOptions(a,"setPaintProperty",r.paint)):this.subplot.addLayer(r,o)},m.update=function(l){var t=l[0].trace,o=this.subplot,r=o.map,n=S(o.gd,l),a=o.belowLookup["trace-"+this.uid],s=!(!t.cluster||!t.cluster.enabled),c=!!this.clusterEnabled,p=this;function f(x){c?function(b){for(var M=A.cluster,d=M.length-1;d>=0;d--)r.removeLayer(p.layerIds[M[d]]);b||r.removeSource(p.sourceIds.circle)}(x):function(b){for(var M=A.nonCluster,d=M.length-1;d>=0;d--){var E=M[d];r.removeLayer(p.layerIds[E]),b||r.removeSource(p.sourceIds[E])}}(x)}function w(x){s?function(b){b||p.addSource("circle",n.circle,t.cluster);for(var M=A.cluster,d=0;d<M.length;d++){var E=M[d];p.addLayer(E,n[E],a)}}(x):function(b){for(var M=A.nonCluster,d=0;d<M.length;d++){var E=M[d],k=n[E];b||p.addSource(E,k),p.addLayer(E,k,a)}}(x)}var h=this.isHidden,_=!0!==t.visible;_?h||f():h?_||w():c!==s?(f(),w()):(this.below!==a&&(f(!0),w(!0)),function v(){for(var x=s?A.cluster:A.nonCluster,b=0;b<x.length;b++){var M=x[b],d=n[M];d&&(o.setOptions(p.layerIds[M],"setLayoutProperty",d.layout),"visible"===d.layout.visibility&&("cluster"!==M&&p.setSourceData(M,d),o.setOptions(p.layerIds[M],"setPaintProperty",d.paint)))}}()),this.clusterEnabled=s,this.isHidden=_,this.below=a,l[0].trace._glTrace=this},m.dispose=function(){for(var l=this.subplot.map,t=this.clusterEnabled?A.cluster:A.nonCluster,o=t.length-1;o>=0;o--){var r=t[o];l.removeLayer(this.layerIds[r]),l.removeSource(this.sourceIds[r])}},ie.exports=function(l,t){var o,r,n,a=t[0].trace,s=a.cluster&&a.cluster.enabled,p=new T(l,a.uid,s,!0!==a.visible),f=S(l.gd,t),w=p.below=l.belowLookup["trace-"+a.uid];if(s)for(p.addSource("circle",f.circle,a.cluster),o=0;o<A.cluster.length;o++)n=f[r=A.cluster[o]],p.addLayer(r,n,w);else for(o=0;o<A.nonCluster.length;o++)n=f[r=A.nonCluster[o]],p.addSource(r,n,a.cluster),p.addLayer(r,n,w);return t[0].trace._glTrace=p,p}},86387:function(ie,B,e){"use strict";var C=e(71828),S=e(34098),u=e(50606).BADNUM;ie.exports=function(A,T){var m,l=A.cd,t=A.xaxis,o=A.yaxis,r=[];if(!S.hasMarkers(l[0].trace))return[];if(!1===T)for(m=0;m<l.length;m++)l[m].selected=0;else for(m=0;m<l.length;m++){var a=l[m],s=a.lonlat;if(s[0]!==u){var c=[C.modHalf(s[0],360),s[1]],p=[t.c2p(c),o.c2p(c)];T.contains(p,null,m,A)?(r.push({pointNumber:m,lon:s[0],lat:s[1]}),a.selected=1):a.selected=0}}return r}},81245:function(ie,B,e){"use strict";var C=e(5386).fF,S=e(5386).si,u=e(1426).extendFlat,A=e(82196),T=e(9012),m=A.line;ie.exports={mode:A.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:A.text,texttemplate:S({editType:"plot"},{keys:["r","theta","text"]}),hovertext:A.hovertext,line:{color:m.color,width:m.width,dash:m.dash,backoff:m.backoff,shape:u({},m.shape,{values:["linear","spline"]}),smoothing:m.smoothing,editType:"calc"},connectgaps:A.connectgaps,marker:A.marker,cliponaxis:u({},A.cliponaxis,{dflt:!1}),textposition:A.textposition,textfont:A.textfont,fill:u({},A.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:A.fillcolor,hoverinfo:u({},T.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:A.hoveron,hovertemplate:C(),selected:A.selected,unselected:A.unselected}},26442:function(ie,B,e){"use strict";var C=e(92770),S=e(50606).BADNUM,u=e(89298),A=e(36922),T=e(75225),m=e(66279),l=e(47761).calcMarkerSize;ie.exports=function(t,o){for(var r=t._fullLayout,n=o.subplot,a=r[n].radialaxis,s=r[n].angularaxis,c=a.makeCalcdata(o,"r"),p=s.makeCalcdata(o,"theta"),f=o._length,w=new Array(f),v=0;v<f;v++){var h=c[v],_=p[v],x=w[v]={};C(h)&&C(_)?(x.r=h,x.theta=_):x.r=S}var b=l(o,f);return o._extremes.x=u.findExtremes(a,c,{ppad:b}),A(t,o),T(w,o),m(w,o),w}},22184:function(ie,B,e){"use strict";var C=e(71828),S=e(34098),u=e(49508),A=e(11058),T=e(94039),m=e(82410),l=e(28908),t=e(47581).PTS_LINESONLY,o=e(81245);function r(n,a,s,c){var p,f=c("r"),w=c("theta");if(f)w?p=Math.min(f.length,w.length):(p=f.length,c("theta0"),c("dtheta"));else{if(!w)return 0;p=a.theta.length,c("r0"),c("dr")}return a._length=p,p}ie.exports={handleRThetaDefaults:r,supplyDefaults:function(n,a,s,c){function p(v,h){return C.coerce(n,a,o,v,h)}var f=r(0,a,0,p);if(f){p("thetaunit"),p("mode",f<t?"lines+markers":"lines"),p("text"),p("hovertext"),"fills"!==a.hoveron&&p("hovertemplate"),S.hasLines(a)&&(A(n,a,s,c,p,{backoff:!0}),T(n,a,p),p("connectgaps")),S.hasMarkers(a)&&u(n,a,s,c,p,{gradient:!0}),S.hasText(a)&&(p("texttemplate"),m(n,a,c,p));var w=[];(S.hasMarkers(a)||S.hasText(a))&&(p("cliponaxis"),p("marker.maxdisplayed"),w.push("points")),p("fill"),"none"!==a.fill&&(l(n,a,s,p),S.hasLines(a)||T(n,a,p)),"tonext"!==a.fill&&"toself"!==a.fill||w.push("fills"),p("hoveron",w.join("+")||"points"),C.coerceSelectionMarkerOpacity(a,p)}else a.visible=!1}}},98608:function(ie,B,e){"use strict";var C=e(71828),S=e(89298);ie.exports=function(u,A,T){var m,l,t={},o=T[A.subplot]._subplot;o?(m=o.radialAxis,l=o.angularAxis):(m=(o=T[A.subplot]).radialaxis,l=o.angularaxis);var r=m.c2l(u.r);t.rLabel=S.tickText(m,r,!0).text;var n="degrees"===l.thetaunit?C.rad2deg(u.theta):u.theta;return t.thetaLabel=S.tickText(l,n,!0).text,t}},59150:function(ie,B,e){"use strict";var C=e(33720);function S(u,A,T,m){var l=T.radialAxis,t=T.angularAxis;l._hovertitle="r",t._hovertitle="\u03b8";var o={};o[A.subplot]={_subplot:T};var r=A._module.formatLabels(u,A,o);m.rLabel=r.rLabel,m.thetaLabel=r.thetaLabel;var a=[];function s(p,f){a.push(p._hovertitle+": "+f)}if(!A.hovertemplate){var c=(u.hi||A.hoverinfo).split("+");-1!==c.indexOf("all")&&(c=["r","theta","text"]),-1!==c.indexOf("r")&&s(l,m.rLabel),-1!==c.indexOf("theta")&&s(t,m.thetaLabel),-1!==c.indexOf("text")&&m.text&&(a.push(m.text),delete m.text),m.extraText=a.join("<br>")}}ie.exports={hoverPoints:function(u,A,T,m){var l=C(u,A,T,m);if(l&&!1!==l[0].index){var t=l[0];if(void 0===t.index)return l;var o=u.subplot,r=t.cd[t.index],n=t.trace;if(o.isPtInside(r))return t.xLabelVal=void 0,t.yLabelVal=void 0,S(r,n,o,t),t.hovertemplate=n.hovertemplate,l}},makeHoverPointText:S}},91271:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(ie,B,e){"use strict";var C=e(32663),S=e(50606).BADNUM;ie.exports=function(u,A,T){for(var m=A.layers.frontplot.select("g.scatterlayer"),l=A.xaxis,t=A.yaxis,o={xaxis:l,yaxis:t,plot:A.framework,layerClipId:A._hasClipOnAxisFalse?A.clipIds.forTraces:null},r=A.radialAxis,n=A.angularAxis,a=0;a<T.length;a++)for(var s=T[a],c=0;c<s.length;c++){0===c&&(s[0].trace._xA=l,s[0].trace._yA=t);var p=s[c],f=p.r;if(f===S)p.x=p.y=S;else{var w=r.c2g(f),v=n.c2g(p.theta);p.x=w*Math.cos(v),p.y=w*Math.sin(v)}}C(u,o,T,m)}},53286:function(ie,B,e){"use strict";var C=e(81245),S=e(42341),u=e(5386).si;ie.exports={mode:C.mode,r:C.r,theta:C.theta,r0:C.r0,dr:C.dr,theta0:C.theta0,dtheta:C.dtheta,thetaunit:C.thetaunit,text:C.text,texttemplate:u({editType:"plot"},{keys:["r","theta","text"]}),hovertext:C.hovertext,hovertemplate:C.hovertemplate,line:S.line,connectgaps:S.connectgaps,marker:S.marker,fill:S.fill,fillcolor:S.fillcolor,textposition:S.textposition,textfont:S.textfont,hoverinfo:C.hoverinfo,selected:C.selected,unselected:C.unselected}},65746:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(ie,B,e){"use strict";var C=e(36922),S=e(47761).calcMarkerSize,u=e(19635),A=e(89298),T=e(78232).TOO_MANY_POINTS;ie.exports=function(m,l){var t=m._fullLayout,o=l.subplot,r=t[o].radialaxis,n=t[o].angularaxis,a=l._r=r.makeCalcdata(l,"r"),s=l._theta=n.makeCalcdata(l,"theta"),c=l._length,p={};c<a.length&&(a=a.slice(0,c)),c<s.length&&(s=s.slice(0,c)),p.r=a,p.theta=s,C(m,l);var f,w=p.opts=u.style(m,l);return c<T?f=S(l,c):w.marker&&(f=2*(w.marker.sizeAvg||Math.max(w.marker.size,3))),l._extremes.x=A.findExtremes(r,a,{ppad:f}),[{x:!1,y:!1,t:p,trace:l}]}},75485:function(ie,B,e){"use strict";var C=e(71828),S=e(34098),u=e(22184).handleRThetaDefaults,A=e(49508),T=e(11058),m=e(82410),l=e(28908),t=e(47581).PTS_LINESONLY,o=e(53286);ie.exports=function(r,n,a,s){function c(f,w){return C.coerce(r,n,o,f,w)}var p=u(r,n,s,c);p?(c("thetaunit"),c("mode",p<t?"lines+markers":"lines"),c("text"),c("hovertext"),"fills"!==n.hoveron&&c("hovertemplate"),S.hasLines(n)&&(T(r,n,a,s,c),c("connectgaps")),S.hasMarkers(n)&&A(r,n,a,s,c,{noAngleRef:!0,noStandOff:!0}),S.hasText(n)&&(c("texttemplate"),m(r,n,s,c)),c("fill"),"none"!==n.fill&&l(r,n,a,c),C.coerceSelectionMarkerOpacity(n,c)):n.visible=!1}},46255:function(ie,B,e){"use strict";var C=e(98608);ie.exports=function(S,u,A){var T=S.i;return"r"in S||(S.r=u._r[T]),"theta"in S||(S.theta=u._theta[T]),C(S,u,A)}},29347:function(ie,B,e){"use strict";var C=e(20794),S=e(59150).makeHoverPointText;ie.exports={hoverPoints:function(u,A,T,m){var l=u.cd[0].t,t=l.r,o=l.theta,r=C.hoverPoints(u,A,T,m);if(r&&!1!==r[0].index){var n=r[0];if(void 0===n.index)return r;var a=u.subplot,s=n.cd[n.index],c=n.trace;if(s.r=t[n.index],s.theta=o[n.index],a.isPtInside(s))return n.xLabelVal=void 0,n.yLabelVal=void 0,S(s,c,a,n),r}}}},21461:function(ie,B,e){"use strict";var C=e(65746);C.plot=e(49741),ie.exports=C},49741:function(ie,B,e){"use strict";var C=e(88294),S=e(92770),u=e(26787),A=e(38967),T=e(19635),m=e(71828),l=e(78232).TOO_MANY_POINTS;ie.exports=function(t,o,r){if(r.length){var n=o.radialAxis,a=o.angularAxis,s=A(t,o);return r.forEach(function(c){if(c&&c[0]&&c[0].trace){var p,f=c[0],w=f.trace,v=f.t,h=w._length,_=v.r,x=v.theta,b=v.opts,M=_.slice(),d=x.slice();for(p=0;p<_.length;p++)o.isPtInside({r:_[p],theta:x[p]})||(M[p]=NaN,d[p]=NaN);var E=new Array(2*h),k=Array(h),I=Array(h);for(p=0;p<h;p++){var L,P,R=M[p];if(S(R)){var z=n.c2g(R),$=a.c2g(d[p],w.thetaunit);L=z*Math.cos($),P=z*Math.sin($)}else L=P=NaN;k[p]=E[2*p]=L,I[p]=E[2*p+1]=P}v.tree=C(E),b.marker&&h>=l&&(b.marker.cluster=v.tree),b.marker&&(b.markerSel.positions=b.markerUnsel.positions=b.marker.positions=E),b.line&&E.length>1&&m.extendFlat(b.line,T.linePositions(t,w,E)),b.text&&(m.extendFlat(b.text,{positions:E},T.textPosition(t,w,b.text,b.marker)),m.extendFlat(b.textSel,{positions:E},T.textPosition(t,w,b.text,b.markerSel)),m.extendFlat(b.textUnsel,{positions:E},T.textPosition(t,w,b.text,b.markerUnsel))),b.fill&&!s.fill2d&&(s.fill2d=!0),b.marker&&!s.scatter2d&&(s.scatter2d=!0),b.line&&!s.line2d&&(s.line2d=!0),b.text&&!s.glText&&(s.glText=!0),s.lineOptions.push(b.line),s.fillOptions.push(b.fill),s.markerOptions.push(b.marker),s.markerSelectedOptions.push(b.markerSel),s.markerUnselectedOptions.push(b.markerUnsel),s.textOptions.push(b.text),s.textSelectedOptions.push(b.textSel),s.textUnselectedOptions.push(b.textUnsel),s.selectBatch.push([]),s.unselectBatch.push([]),v.x=k,v.y=I,v.rawx=k,v.rawy=I,v.r=_,v.theta=x,v.positions=E,v._scene=s,v.index=s.count,s.count++}}),u(t,o,r)}},ie.exports.reglPrecompiled={}},48300:function(ie,B,e){"use strict";var C=e(5386).fF,S=e(5386).si,u=e(1426).extendFlat,A=e(82196),T=e(9012),m=A.line;ie.exports={mode:A.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:A.text,texttemplate:S({editType:"plot"},{keys:["real","imag","text"]}),hovertext:A.hovertext,line:{color:m.color,width:m.width,dash:m.dash,backoff:m.backoff,shape:u({},m.shape,{values:["linear","spline"]}),smoothing:m.smoothing,editType:"calc"},connectgaps:A.connectgaps,marker:A.marker,cliponaxis:u({},A.cliponaxis,{dflt:!1}),textposition:A.textposition,textfont:A.textfont,fill:u({},A.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:A.fillcolor,hoverinfo:u({},T.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:A.hoveron,hovertemplate:C(),selected:A.selected,unselected:A.unselected}},30621:function(ie,B,e){"use strict";var C=e(92770),S=e(50606).BADNUM,u=e(36922),A=e(75225),T=e(66279),m=e(47761).calcMarkerSize;ie.exports=function(l,t){for(var o=l._fullLayout,r=t.subplot,a=o[r].imaginaryaxis,s=o[r].realaxis.makeCalcdata(t,"real"),c=a.makeCalcdata(t,"imag"),p=t._length,f=new Array(p),w=0;w<p;w++){var v=s[w],h=c[w],_=f[w]={};C(v)&&C(h)?(_.real=v,_.imag=h):_.real=S}return m(t,p),u(l,t),A(f,t),T(f,t),f}},65269:function(ie,B,e){"use strict";var C=e(71828),S=e(34098),u=e(49508),A=e(11058),T=e(94039),m=e(82410),l=e(28908),t=e(47581).PTS_LINESONLY,o=e(48300);ie.exports=function(r,n,a,s){function c(w,v){return C.coerce(r,n,o,w,v)}var v,_,x,b,M,p=(v=n,b=(_=c)("real"),M=_("imag"),b&&M&&(x=Math.min(b.length,M.length)),v._length=x,x);if(p){c("mode",p<t?"lines+markers":"lines"),c("text"),c("hovertext"),"fills"!==n.hoveron&&c("hovertemplate"),S.hasLines(n)&&(A(r,n,a,s,c,{backoff:!0}),T(r,n,c),c("connectgaps")),S.hasMarkers(n)&&u(r,n,a,s,c,{gradient:!0}),S.hasText(n)&&(c("texttemplate"),m(r,n,s,c));var f=[];(S.hasMarkers(n)||S.hasText(n))&&(c("cliponaxis"),c("marker.maxdisplayed"),f.push("points")),c("fill"),"none"!==n.fill&&(l(r,n,a,c),S.hasLines(n)||T(r,n,c)),"tonext"!==n.fill&&"toself"!==n.fill||f.push("fills"),c("hoveron",f.join("+")||"points"),C.coerceSelectionMarkerOpacity(n,c)}else n.visible=!1}},62047:function(ie,B,e){"use strict";var C=e(89298);ie.exports=function(S,u,A){var T={},m=A[u.subplot]._subplot;return T.realLabel=C.tickText(m.radialAxis,S.real,!0).text,T.imagLabel=C.tickText(m.angularAxis,S.imag,!0).text,T}},11350:function(ie,B,e){"use strict";var C=e(33720);function S(u,A,T,m){var l=T.radialAxis,t=T.angularAxis;l._hovertitle="real",t._hovertitle="imag";var o={};o[A.subplot]={_subplot:T};var r=A._module.formatLabels(u,A,o);m.realLabel=r.realLabel,m.imagLabel=r.imagLabel;var a=[];function s(p,f){a.push(p._hovertitle+": "+f)}if(!A.hovertemplate){var c=(u.hi||A.hoverinfo).split("+");-1!==c.indexOf("all")&&(c=["real","imag","text"]),-1!==c.indexOf("real")&&s(l,m.realLabel),-1!==c.indexOf("imag")&&s(t,m.imagLabel),-1!==c.indexOf("text")&&m.text&&(a.push(m.text),delete m.text),m.extraText=a.join("<br>")}}ie.exports={hoverPoints:function(u,A,T,m){var l=C(u,A,T,m);if(l&&!1!==l[0].index){var t=l[0];if(void 0===t.index)return l;var o=u.subplot,r=t.cd[t.index],n=t.trace;if(o.isPtInside(r))return t.xLabelVal=void 0,t.yLabelVal=void 0,S(r,n,o,t),t.hovertemplate=n.hovertemplate,l}},makeHoverPointText:S}},85956:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(ie,B,e){"use strict";var C=e(32663),S=e(50606).BADNUM,u=e(23893).smith;ie.exports=function(A,T,m){for(var l=T.layers.frontplot.select("g.scatterlayer"),t=T.xaxis,o=T.yaxis,r={xaxis:t,yaxis:o,plot:T.framework,layerClipId:T._hasClipOnAxisFalse?T.clipIds.forTraces:null},n=0;n<m.length;n++)for(var a=m[n],s=0;s<a.length;s++){0===s&&(a[0].trace._xA=t,a[0].trace._yA=o);var c=a[s],p=c.real;if(p===S)c.x=c.y=S;else{var f=u([p,c.imag]);c.x=f[0],c.y=f[1]}}C(A,r,m,l)}},50413:function(ie,B,e){"use strict";var C=e(5386).fF,S=e(5386).si,u=e(82196),A=e(9012),T=e(50693),m=e(79952).P,l=e(1426).extendFlat,t=u.marker,o=u.line,r=t.line;ie.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:l({},u.mode,{dflt:"markers"}),text:l({},u.text,{}),texttemplate:S({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:l({},u.hovertext,{}),line:{color:o.color,width:o.width,dash:m,backoff:o.backoff,shape:l({},o.shape,{values:["linear","spline"]}),smoothing:o.smoothing,editType:"calc"},connectgaps:u.connectgaps,cliponaxis:u.cliponaxis,fill:l({},u.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:u.fillcolor,marker:l({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:l({width:r.width,editType:"calc"},T("marker.line")),gradient:t.gradient,editType:"calc"},T("marker")),textfont:u.textfont,textposition:u.textposition,selected:u.selected,unselected:u.unselected,hoverinfo:l({},A.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:u.hoveron,hovertemplate:C()}},54337:function(ie,B,e){"use strict";var C=e(92770),S=e(36922),u=e(75225),A=e(66279),T=e(47761).calcMarkerSize,m=["a","b","c"],l={a:["b","c"],b:["a","c"],c:["a","b"]};ie.exports=function(t,o){var r,n,a,s,c,p,f=t._fullLayout[o.subplot].sum,w=o.sum||f,v={a:o.a,b:o.b,c:o.c};for(r=0;r<m.length;r++)if(!v[a=m[r]]){for(c=v[l[a][0]],p=v[l[a][1]],s=new Array(c.length),n=0;n<c.length;n++)s[n]=w-c[n]-p[n];v[a]=s}var h,_,x,b,E=o._length,k=new Array(E);for(r=0;r<E;r++)_=v.b[r],x=v.c[r],C(h=v.a[r])&&C(_)&&C(x)?(1!=(b=f/((h=+h)+(_=+_)+(x=+x)))&&(h*=b,_*=b,x*=b),k[r]={x:x-_,y:h,a:h,b:_,c:x}):k[r]={x:!1,y:!1};return T(o,E),S(t,o),u(k,o),A(k,o),k}},46008:function(ie,B,e){"use strict";var C=e(71828),S=e(47581),u=e(34098),A=e(49508),T=e(11058),m=e(94039),l=e(82410),t=e(28908),o=e(50413);ie.exports=function(r,n,a,s){function c(_,x){return C.coerce(r,n,o,_,x)}var p,f=c("a"),w=c("b"),v=c("c");if(f?(p=f.length,w?(p=Math.min(p,w.length),v&&(p=Math.min(p,v.length))):p=v?Math.min(p,v.length):0):w&&v&&(p=Math.min(w.length,v.length)),p){n._length=p,c("sum"),c("text"),c("hovertext"),"fills"!==n.hoveron&&c("hovertemplate"),c("mode",p<S.PTS_LINESONLY?"lines+markers":"lines"),u.hasLines(n)&&(T(r,n,a,s,c,{backoff:!0}),m(r,n,c),c("connectgaps")),u.hasMarkers(n)&&A(r,n,a,s,c,{gradient:!0}),u.hasText(n)&&(c("texttemplate"),l(r,n,s,c));var h=[];(u.hasMarkers(n)||u.hasText(n))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),"none"!==n.fill&&(t(r,n,a,c),u.hasLines(n)||m(r,n,c)),"tonext"!==n.fill&&"toself"!==n.fill||h.push("fills"),c("hoveron",h.join("+")||"points"),C.coerceSelectionMarkerOpacity(n,c)}else n.visible=!1}},4524:function(ie){"use strict";ie.exports=function(B,e,C,S,u){if(e.xa&&(B.xaxis=e.xa),e.ya&&(B.yaxis=e.ya),S[u]){var A=S[u];B.a=A.a,B.b=A.b,B.c=A.c}else B.a=e.a,B.b=e.b,B.c=e.c;return B}},93645:function(ie,B,e){"use strict";var C=e(89298);ie.exports=function(S,u,A){var T={},m=A[u.subplot]._subplot;return T.aLabel=C.tickText(m.aaxis,S.a,!0).text,T.bLabel=C.tickText(m.baxis,S.b,!0).text,T.cLabel=C.tickText(m.caxis,S.c,!0).text,T}},47250:function(ie,B,e){"use strict";var C=e(33720);ie.exports=function(S,u,A,T){var m=C(S,u,A,T);if(m&&!1!==m[0].index){var l=m[0];if(void 0===l.index){var o=S.xa._length,r=o*(1-l.y0/S.ya._length)/2,n=o-r;return l.x0=Math.max(Math.min(l.x0,n),r),l.x1=Math.max(Math.min(l.x1,n),r),m}var a=l.cd[l.index],s=l.trace,c=l.subplot;l.a=a.a,l.b=a.b,l.c=a.c,l.xLabelVal=void 0,l.yLabelVal=void 0;var p={};p[s.subplot]={_subplot:c};var f=s._module.formatLabels(a,s,p);l.aLabel=f.aLabel,l.bLabel=f.bLabel,l.cLabel=f.cLabel;var v=[];if(!s.hovertemplate){var h=(a.hi||s.hoverinfo).split("+");-1!==h.indexOf("all")&&(h=["a","b","c"]),-1!==h.indexOf("a")&&_(c.aaxis,l.aLabel),-1!==h.indexOf("b")&&_(c.baxis,l.bLabel),-1!==h.indexOf("c")&&_(c.caxis,l.cLabel)}return l.extraText=v.join("<br>"),l.hovertemplate=s.hovertemplate,m}function _(x,b){v.push(x._hovertitle+": "+b)}}},52979:function(ie,B,e){"use strict";ie.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(ie,B,e){"use strict";var C=e(32663);ie.exports=function(S,u,A){var T=u.plotContainer;T.select(".scatterlayer").selectAll("*").remove();for(var m=u.xaxis,l=u.yaxis,t={xaxis:m,yaxis:l,plot:T,layerClipId:u._hasClipOnAxisFalse?u.clipIdRelative:null},o=u.layers.frontplot.select("g.scatterlayer"),r=0;r<A.length;r++){var n=A[r];n.length&&(n[0].trace._xA=m,n[0].trace._yA=l)}C(S,t,A,o)}},46880:function(ie,B,e){"use strict";var C=e(82196),S=e(50693),u=e(12663).axisHoverFormat,A=e(5386).fF,T=e(42341),m=e(85555).idRegex,l=e(44467).templatedArray,t=e(1426).extendFlat,o=C.marker,r=o.line,n=t(S("marker.line",{editTypeOverride:"calc"}),{width:t({},r.width,{editType:"calc"}),editType:"calc"}),a=t(S("marker"),{symbol:o.symbol,angle:o.angle,size:t({},o.size,{editType:"markerSize"}),sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,opacity:o.opacity,colorbar:o.colorbar,line:n,editType:"calc"});function s(c){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:m[c],editType:"plot"}}}a.color.editType=a.cmin.editType=a.cmax.editType="style",ie.exports={dimensions:l("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},T.text,{}),hovertext:t({},T.hovertext,{}),hovertemplate:A(),xhoverformat:u("x"),yhoverformat:u("y"),marker:a,xaxes:s("x"),yaxes:s("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:T.selected.marker,editType:"calc"},unselected:{marker:T.unselected.marker,editType:"calc"},opacity:T.opacity}},65017:function(ie,B,e){"use strict";var C=e(73972),S=e(83312);ie.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},C.register(S)},16947:function(ie,B,e){"use strict";var C=e(46075),S=e(73972),u=e(79749),A=e(27659).a0,T=e(93612),m=e(41675).getFromId,l=e(89298).shouldShowZeroLine,t="splom",o={};function r(a,s,c){for(var f=s._visibleDims,w=c.viewOpts.ranges=new Array(c.matrixOptions.data.length),v=0;v<f.length;v++){var h=f[v],_=w[v]=new Array(4),x=m(a,s._diag[h][0]);x&&(_[0]=x.r2l(x.range[0]),_[2]=x.r2l(x.range[1]));var b=m(a,s._diag[h][1]);b&&(_[1]=b.r2l(b.range[0]),_[3]=b.r2l(b.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:w},{ranges:w}):c.matrix.update({ranges:w})}function n(a){var s=a._fullLayout,c=s._glcanvas.data()[0].regl,p=s._splomGrid;p||(p=s._splomGrid=C(c)),p.update(function(f){var w,v=f._context.plotGlPixelRatio,h=f._fullLayout,_=h._size,x=[0,0,h.width*v,h.height*v],b={};function M(Y,ae,re,Q,K,te){re*=v,Q*=v,K*=v,te*=v;var oe=ae[Y+"color"],ue=ae[Y+"width"],fe=String(oe+ue);fe in b?b[fe].data.push(NaN,NaN,re,Q,K,te):b[fe]={data:[re,Q,K,te],join:"rect",thickness:ue*v,color:oe,viewport:x,range:x,overlay:!1}}for(w in h._splomSubplots){var d,E,k=h._plots[w],I=k.xaxis,L=k.yaxis,P=I._gridVals,R=L._gridVals,z=I._offset,$=I._length,N=L._length,W=_.b+L.domain[0]*_.h,H=-L._m,U=-H*L.r2l(L.range[0],L.calendar);if(I.showgrid)for(w=0;w<P.length;w++)d=z+I.l2p(P[w].x),M("grid",I,d,W,d,W+N);if(L.showgrid)for(w=0;w<R.length;w++)M("grid",L,z,E=W+U+H*R[w].x,z+$,E);l(f,I,L)&&(d=z+I.l2p(0),M("zeroline",I,d,W,d,W+N)),l(f,L,I)&&M("zeroline",L,z,E=W+U+0,z+$,E)}var Z=[];for(w in b)Z.push(b[w]);return Z}(a))}ie.exports={name:t,attr:T.attr,attrRegex:T.attrRegex,layoutAttributes:T.layoutAttributes,supplyLayoutDefaults:T.supplyLayoutDefaults,drawFramework:T.drawFramework,plot:function(a){var s=a._fullLayout,c=S.getModule(t),p=A(a.calcdata,c)[0];u(a,["ANGLE_instanced_arrays","OES_element_index_uint"],o)&&(s._hasOnlyLargeSploms&&n(a),c.plot(a,{},p))},drag:function(a){var s=a.calcdata,c=a._fullLayout;c._hasOnlyLargeSploms&&n(a);for(var p=0;p<s.length;p++){var f=s[p][0].trace,w=c._splomScenes[f.uid];"splom"===f.type&&w&&w.matrix&&r(a,f,w)}},updateGrid:n,clean:function(a,s,c,p){var f,w={};if(p._splomScenes){for(f=0;f<a.length;f++){var v=a[f];"splom"===v.type&&(w[v.uid]=1)}for(f=0;f<c.length;f++){var h=c[f];if(!w[h.uid]){var _=p._splomScenes[h.uid];_&&_.destroy&&_.destroy(),p._splomScenes[h.uid]=null,delete p._splomScenes[h.uid]}}}0===Object.keys(p._splomScenes||{}).length&&delete p._splomScenes,p._splomGrid&&!s._hasOnlyLargeSploms&&p._hasOnlyLargeSploms&&(p._splomGrid.destroy(),p._splomGrid=null,delete p._splomGrid),T.clean(a,s,c,p)},updateFx:T.updateFx,toSVG:T.toSVG,reglPrecompiled:o}},87625:function(ie,B,e){"use strict";var C=e(71828),S=e(41675),u=e(47761).calcMarkerSize,A=e(47761).calcAxisExpansion,T=e(36922),m=e(19635).markerSelection,l=e(19635).markerStyle,t=e(10164),o=e(50606).BADNUM,r=e(78232).TOO_MANY_POINTS;ie.exports=function(n,a){var s,c,p,f,w,v,h=a.dimensions,_=a._length,x={},b=x.cdata=[],M=x.data=[],d=a._visibleDims=[];function E(I,L){for(var P=I.makeCalcdata({v:L.values,vcalendar:a.calendar},"v"),R=0;R<P.length;R++)P[R]=P[R]===o?NaN:P[R];b.push(P),M.push("log"===I.type?C.simpleMap(P,I.c2l):P)}for(s=0;s<h.length;s++)if((p=h[s]).visible){if(f=S.getFromId(n,a._diag[s][0]),w=S.getFromId(n,a._diag[s][1]),f&&w&&f.type!==w.type){C.log("Skipping splom dimension "+s+" with conflicting axis types");continue}f?(E(f,p),w&&"category"===w.type&&(w._categories=f._categories.slice())):E(w,p),d.push(s)}for(T(n,a),C.extendFlat(x,l(n,a)),v=b.length*_>r?x.sizeAvg||Math.max(x.size,3):u(a,_),c=0;c<d.length;c++)p=h[s=d[c]],f=S.getFromId(n,a._diag[s][0])||{},w=S.getFromId(n,a._diag[s][1])||{},A(n,a,f,w,b[c],b[c],v);var k=t(n,a);return k.matrix||(k.matrix=!0),k.matrixOptions=x,k.selectedOptions=m(n,a,a.selected),k.unselectedOptions=m(n,a,a.unselected),[{x:!1,y:!1,t:{},trace:a}]}},25784:function(ie,B,e){"use strict";var C=e(71828),S=e(85501),u=e(46880),A=e(34098),T=e(49508),m=e(94397),l=e(68645).isOpenSymbol;function t(o,r){function n(s,c){return C.coerce(o,r,u.dimensions,s,c)}n("label");var a=n("values");a&&a.length?n("visible"):r.visible=!1,n("axis.type"),n("axis.matches")}ie.exports=function(o,r,n,a){function s(_,x){return C.coerce(o,r,u,_,x)}var c=S(o,r,{name:"dimensions",handleItemDefaults:t}),p=s("diagonal.visible"),f=s("showupperhalf"),w=s("showlowerhalf");if(m(r,c,"values")&&(p||f||w)){s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),T(o,r,n,a,s,{noAngleRef:!0,noStandOff:!0});var v=l(r.marker.symbol),h=A.isBubble(r);s("marker.line.width",v||h?1:0),function(_,x,b,M){var d,E,k=x.dimensions,I=k.length,L=x.showupperhalf,P=x.showlowerhalf,R=x.diagonal.visible,z=new Array(I),$=new Array(I);for(d=0;d<I;d++){var N=d?d+1:"";z[d]="x"+N,$[d]="y"+N}var W=M("xaxes",z),H=M("yaxes",$),U=x._diag=new Array(I);x._xaxes={},x._yaxes={};var Z=[],Y=[];function ae(me,ke,Pe,Te){if(me){var be=me.charAt(0),xe=b._splomAxes[be];if(x["_"+be+"axes"][me]=1,Te.push(me),!(me in xe)){var Ne=xe[me]={};Pe&&(Ne.label=Pe.label||"",Pe.visible&&Pe.axis&&(Pe.axis.type&&(Ne.type=Pe.axis.type),Pe.axis.matches&&(Ne.matches=ke)))}}}var re=!R&&!P,Q=!R&&!L;for(x._axesDim={},d=0;d<I;d++){var K=k[d],te=0===d,oe=d===I-1,ue=te&&re||oe&&Q?void 0:W[d],fe=te&&Q||oe&&re?void 0:H[d];ae(ue,fe,K,Z),ae(fe,ue,K,Y),U[d]=[ue,fe],x._axesDim[ue]=d,x._axesDim[fe]=d}for(d=0;d<Z.length;d++)for(E=0;E<Y.length;E++){var he=Z[d]+Y[E];d>E&&L||d<E&&P?b._splomSubplots[he]=1:d!==E||!R&&P&&L||(b._splomSubplots[he]=1)}(!P||!R&&L&&P)&&(b._splomGridDflt.xside="bottom",b._splomGridDflt.yside="left")}(0,r,a,s),C.coerceSelectionMarkerOpacity(r,s)}else r.visible=!1}},28801:function(ie,B,e){"use strict";var C=e(71828),S=e(36922),u=e(19635).markerStyle;ie.exports=function(A,T){var m=T.trace,l=A._fullLayout._splomScenes[m.uid];if(l){S(A,m),C.extendFlat(l.matrixOptions,u(A,m));var t=C.extendFlat({},l.matrixOptions,l.viewOpts);l.matrix.update(t,null)}}},35948:function(ie,B){"use strict";B.getDimIndex=function(e,C){for(var S=C._id,u={x:0,y:1}[S.charAt(0)],A=e._visibleDims,T=0;T<A.length;T++)if(e._diag[A[T]][u]===S)return T;return!1}},8567:function(ie,B,e){"use strict";var C=e(35948),S=e(20794).calcHover;ie.exports={hoverPoints:function(u,A,T){var m=u.cd[0].trace,l=u.scene.matrixOptions.cdata,t=u.xa,o=u.ya,r=t.c2p(A),n=o.c2p(T),a=u.distance,s=C.getDimIndex(m,t),c=C.getDimIndex(m,o);if(!1===s||!1===c)return[u];for(var p,f,w=l[s],v=l[c],h=a,_=0;_<w.length;_++){var b=v[_],M=t.c2p(w[_])-r,d=o.c2p(b)-n,E=Math.sqrt(M*M+d*d);E<h&&(h=f=E,p=_)}return u.index=p,u.distance=h,u.dxy=f,void 0===p?[u]:[S(u,w,v,m)]}}},6419:function(ie,B,e){"use strict";var C=e(65017);C.basePlotModule=e(16947),ie.exports=C},79410:function(ie,B,e){"use strict";var C=e(60487),S=e(71828),u=e(41675),A=e(64505).selectMode;function T(m,l){var t,o,r,n,a,s=m._fullLayout,c=s._size,p=l.trace,f=l.t,w=s._splomScenes[p.uid],v=w.matrixOptions,h=v.cdata,_=s._glcanvas.data()[0].regl,x=s.dragmode;if(0!==h.length){v.lower=p.showupperhalf,v.upper=p.showlowerhalf,v.diagonal=p.diagonal.visible;var b=p._visibleDims,M=h.length,d=w.viewOpts={};for(d.ranges=new Array(M),d.domains=new Array(M),a=0;a<b.length;a++){r=b[a];var E=d.ranges[a]=new Array(4),k=d.domains[a]=new Array(4);(t=u.getFromId(m,p._diag[r][0]))&&(E[0]=t._rl[0],E[2]=t._rl[1],k[0]=t.domain[0],k[2]=t.domain[1]),(o=u.getFromId(m,p._diag[r][1]))&&(E[1]=o._rl[0],E[3]=o._rl[1],k[1]=o.domain[0],k[3]=o.domain[1])}var I=m._context.plotGlPixelRatio,L=c.l*I,P=c.b*I;d.viewport=[L,P,c.w*I+L,c.h*I+P],!0===w.matrix&&(w.matrix=C(_));var $=s.clickmode.indexOf("select")>-1,N=!0;if(A(x)||p.selectedpoints||$){var W=p._length;if(p.selectedpoints){w.selectBatch=p.selectedpoints;var H=p.selectedpoints,U={};for(r=0;r<H.length;r++)U[H[r]]=!0;var Z=[];for(r=0;r<W;r++)U[r]||Z.push(r);w.unselectBatch=Z}var Y=f.xpx=new Array(M),ae=f.ypx=new Array(M);for(a=0;a<b.length;a++){if(t=u.getFromId(m,p._diag[r=b[a]][0]))for(Y[a]=new Array(W),n=0;n<W;n++)Y[a][n]=t.c2p(h[a][n]);if(o=u.getFromId(m,p._diag[r][1]))for(ae[a]=new Array(W),n=0;n<W;n++)ae[a][n]=o.c2p(h[a][n])}if(w.selectBatch.length||w.unselectBatch.length){var re=S.extendFlat({},v,w.unselectedOptions,d),Q=S.extendFlat({},v,w.selectedOptions,d);w.matrix.update(re,Q),N=!1}}else f.xpx=f.ypx=null;if(N){var K=S.extendFlat({},v,d);w.matrix.update(K,null)}}}ie.exports=function(m,l,t){if(t.length)for(var o=0;o<t.length;o++)T(m,t[o][0])}},10164:function(ie,B,e){"use strict";var C=e(71828);ie.exports=function(S,u){var A=S._fullLayout,T=u.uid,m=A._splomScenes;m||(m=A._splomScenes={});var l={dirty:!0,selectBatch:[],unselectBatch:[]},t=m[u.uid];return t||((t=m[T]=C.extendFlat({},l,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){t.matrix&&t.matrix.draw&&(t.selectBatch.length||t.unselectBatch.length?t.matrix.draw(t.unselectBatch,t.selectBatch):t.matrix.draw()),t.dirty=!1},t.destroy=function(){t.matrix&&t.matrix.destroy&&t.matrix.destroy(),t.matrixOptions=null,t.selectBatch=null,t.unselectBatch=null,t=null}),t.dirty||C.extendFlat(t,l),t}},8689:function(ie,B,e){"use strict";var C=e(71828),S=C.pushUnique,u=e(34098),A=e(35948);ie.exports=function(T,m){var l=T.cd,t=l[0].trace,o=l[0].t,r=T.scene,n=r.matrixOptions.cdata,a=T.xaxis,s=T.yaxis,c=[];if(!r)return c;var p=!u.hasMarkers(t)&&!u.hasText(t);if(!0!==t.visible||p)return c;var f=A.getDimIndex(t,a),w=A.getDimIndex(t,s);if(!1===f||!1===w)return c;var v=o.xpx[f],h=o.ypx[w],_=n[f],x=n[w],b=(T.scene.selectBatch||[]).slice(),M=[];if(!1!==m&&!m.degenerate)for(var d=0;d<_.length;d++)m.contains([v[d],h[d]],null,d,T)?(c.push({pointNumber:d,x:_[d],y:x[d]}),S(b,d)):-1!==b.indexOf(d)?S(b,d):M.push(d);var E=r.matrixOptions;return b.length||M.length?r.selectBatch.length||r.unselectBatch.length||r.matrix.update(r.unselectedOptions,C.extendFlat({},E,r.selectedOptions,r.viewOpts)):r.matrix.update(E,null),r.selectBatch=b,r.unselectBatch=M,c}},21850:function(ie,B,e){"use strict";var C=e(50693),S=e(12663).axisHoverFormat,u=e(5386).fF,A=e(2418),T=e(9012),m=e(1426).extendFlat,l={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:u({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:S("u",1),vhoverformat:S("v",1),whoverformat:S("w",1),xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z"),showlegend:m({},T.showlegend,{dflt:!1})};m(l,C("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){l[t]=A[t]}),l.hoverinfo=m({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),l.transforms=void 0,ie.exports=l},88489:function(ie,B,e){"use strict";var C=e(71828),S=e(78803);function u(m){var l,t,o,r,n,a,s,c,p,f,w,v,h=m._x,_=m._y,x=m._z,b=m._len,M=-1/0,d=1/0,E=-1/0,k=1/0,I=-1/0,L=1/0,P="";for(b&&(s=h[0],p=_[0],w=x[0]),b>1&&(c=h[b-1],f=_[b-1],v=x[b-1]),l=0;l<b;l++)M=Math.max(M,h[l]),d=Math.min(d,h[l]),E=Math.max(E,_[l]),k=Math.min(k,_[l]),I=Math.max(I,x[l]),L=Math.min(L,x[l]),r||h[l]===s||(r=!0,P+="x"),n||_[l]===p||(n=!0,P+="y"),a||x[l]===w||(a=!0,P+="z");r||(P+="x"),n||(P+="y"),a||(P+="z");var R=A(m._x),z=A(m._y),$=A(m._z);P=(P=(P=P.replace("x",(s>c?"-":"+")+"x")).replace("y",(p>f?"-":"+")+"y")).replace("z",(w>v?"-":"+")+"z");var N=function(){b=0,R=[],z=[],$=[]};(!b||b<R.length*z.length*$.length)&&N();var W=function(be){return"x"===be?h:"y"===be?_:x},H=function(be){return"x"===be?R:"y"===be?z:$},U=function(be){return be[b-1]<be[0]?-1:1},Z=W(P[1]),Y=W(P[3]),ae=W(P[5]),re=H(P[1]).length,Q=H(P[3]).length,K=H(P[5]).length,te=!1,oe=function(be,xe,Ne){return re*(Q*be+xe)+Ne},ue=U(W(P[1])),fe=U(W(P[3])),he=U(W(P[5]));for(l=0;l<K-1;l++){for(t=0;t<Q-1;t++){for(o=0;o<re-1;o++){var me=oe(l,t,o),ke=oe(l,t,o+1),Pe=oe(l,t+1,o),Te=oe(l+1,t,o);if(Z[me]*ue<Z[ke]*ue&&Y[me]*fe<Y[Pe]*fe&&ae[me]*he<ae[Te]*he||(te=!0),te)break}if(te)break}if(te)break}return te&&(C.warn("Encountered arbitrary coordinates! Unable to input data grid."),N()),{xMin:d,yMin:k,zMin:L,xMax:M,yMax:E,zMax:I,Xs:R,Ys:z,Zs:$,len:b,fill:P}}function A(m){return C.distinctVals(m).vals}function T(m,l){if(void 0===l&&(l=m.length),C.isTypedArray(m))return m.subarray(0,l);for(var t=[],o=0;o<l;o++)t[o]=+m[o];return t}ie.exports={calc:function(m,l){l._len=Math.min(l.u.length,l.v.length,l.w.length,l.x.length,l.y.length,l.z.length),l._u=T(l.u,l._len),l._v=T(l.v,l._len),l._w=T(l.w,l._len),l._x=T(l.x,l._len),l._y=T(l.y,l._len),l._z=T(l.z,l._len);var t=u(l);l._gridFill=t.fill,l._Xs=t.Xs,l._Ys=t.Ys,l._Zs=t.Zs,l._len=t.len;var o,r,n,a=0;l.starts&&(o=T(l.starts.x||[]),r=T(l.starts.y||[]),n=T(l.starts.z||[]),a=Math.min(o.length,r.length,n.length)),l._startsX=o||[],l._startsY=r||[],l._startsZ=n||[];var s,c=0,p=1/0;for(s=0;s<l._len;s++){var f=l._u[s],w=l._v[s],v=l._w[s],h=Math.sqrt(f*f+w*w+v*v);c=Math.max(c,h),p=Math.min(p,h)}for(S(m,l,{vals:[p,c],containerStr:"",cLetter:"c"}),s=0;s<a;s++){var _=o[s];t.xMax=Math.max(t.xMax,_),t.xMin=Math.min(t.xMin,_);var x=r[s];t.yMax=Math.max(t.yMax,x),t.yMin=Math.min(t.yMin,x);var b=n[s];t.zMax=Math.max(t.zMax,b),t.zMin=Math.min(t.zMin,b)}l._slen=a,l._normMax=c,l._xbnds=[t.xMin,t.xMax],l._ybnds=[t.yMin,t.yMax],l._zbnds=[t.zMin,t.zMax]},filter:T,processGrid:u}},90154:function(ie,B,e){"use strict";var C=e(9330).gl_streamtube3d,S=C.createTubeMesh,u=e(71828),A=e(81697).parseColorScale,T=e(21081).extractOpts,m=e(90060),l={xaxis:0,yaxis:1,zaxis:2};function t(s,c){this.scene=s,this.uid=c,this.mesh=null,this.data=null}var o=t.prototype;function r(s){var c=s.length;return c>2?s.slice(1,c-1):2===c?[(s[0]+s[1])/2]:s}function n(s){var c=s.length;return 1===c?[.5,.5]:[s[1]-s[0],s[c-1]-s[c-2]]}function a(s,c){var p=s.fullSceneLayout,f=s.dataScale,w=c._len,v={};function h(re,Q){var K=p[Q],te=f[l[Q]];return u.simpleMap(re,function(oe){return K.d2l(oe)*te})}if(v.vectors=m(h(c._u,"xaxis"),h(c._v,"yaxis"),h(c._w,"zaxis"),w),!w)return{positions:[],cells:[]};var _=h(c._Xs,"xaxis"),x=h(c._Ys,"yaxis"),b=h(c._Zs,"zaxis");if(v.meshgrid=[_,x,b],v.gridFill=c._gridFill,c._slen)v.startingPositions=m(h(c._startsX,"xaxis"),h(c._startsY,"yaxis"),h(c._startsZ,"zaxis"));else{for(var M=x[0],d=r(_),E=r(b),k=new Array(d.length*E.length),I=0,L=0;L<d.length;L++)for(var P=0;P<E.length;P++)k[I++]=[d[L],M,E[P]];v.startingPositions=k}v.colormap=A(c),v.tubeSize=c.sizeref,v.maxLength=c.maxdisplayed;var R=h(c._xbnds,"xaxis"),z=h(c._ybnds,"yaxis"),$=h(c._zbnds,"zaxis"),N=n(_),W=n(x),H=n(b),Z=C(v,[[R[0]-N[0],z[0]-W[0],$[0]-H[0]],[R[1]+N[1],z[1]+W[1],$[1]+H[1]]]),Y=T(c);Z.vertexIntensityBounds=[Y.min/c._normMax,Y.max/c._normMax];var ae=c.lightposition;return Z.lightPosition=[ae.x,ae.y,ae.z],Z.ambient=c.lighting.ambient,Z.diffuse=c.lighting.diffuse,Z.specular=c.lighting.specular,Z.roughness=c.lighting.roughness,Z.fresnel=c.lighting.fresnel,Z.opacity=c.opacity,c._pad=Z.tubeScale*c.sizeref*2,Z}o.handlePick=function(s){var c=this.scene.fullSceneLayout,p=this.scene.dataScale;function f(h,_){var b=p[l[_]];return c[_].l2c(h)/b}if(s.object===this.mesh){var w=s.data.position,v=s.data.velocity;return s.traceCoordinate=[f(w[0],"xaxis"),f(w[1],"yaxis"),f(w[2],"zaxis"),f(v[0],"xaxis"),f(v[1],"yaxis"),f(v[2],"zaxis"),s.data.intensity*this.data._normMax,s.data.divergence],s.textLabel=this.data.hovertext||this.data.text,!0}},o.update=function(s){this.data=s;var c=a(this.scene,s);this.mesh.update(c)},o.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ie.exports=function(s,c){var p=s.glplot.gl,f=a(s,c),w=S(p,f),v=new t(s,c.uid);return v.mesh=w,v.data=c,w._trace=v,s.glplot.add(w),v}},22459:function(ie,B,e){"use strict";var C=e(71828),S=e(1586),u=e(21850);ie.exports=function(A,T,m,l){function t(p,f){return C.coerce(A,T,u,p,f)}var o=t("u"),r=t("v"),n=t("w"),a=t("x"),s=t("y"),c=t("z");o&&o.length&&r&&r.length&&n&&n.length&&a&&a.length&&s&&s.length&&c&&c.length?(t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),S(A,T,l,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),T._length=null):T.visible=!1}},61510:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(C,S){return C.tubex=C.x,C.tubey=C.y,C.tubez=C.z,C.tubeu=S.traceCoordinate[3],C.tubev=S.traceCoordinate[4],C.tubew=S.traceCoordinate[5],C.norm=S.traceCoordinate[6],C.divergence=S.traceCoordinate[7],delete C.x,delete C.y,delete C.z,C},meta:{}}},57564:function(ie,B,e){"use strict";var C=e(9012),S=e(5386).fF,u=e(5386).si,A=e(50693),T=e(27670).Y,m=e(34e3),l=e(7055),t=e(1426).extendFlat,o=e(79952).u;ie.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},m.marker.line.color,{dflt:null}),width:t({},m.marker.line.width,{dflt:1}),editType:"calc"},pattern:o,editType:"calc"},A("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:m.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:u({editType:"plot"},{keys:l.eventDataKeys.concat(["label","value"])}),hovertext:m.hovertext,hoverinfo:t({},C.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:S({},{keys:l.eventDataKeys}),textfont:m.textfont,insidetextorientation:m.insidetextorientation,insidetextfont:m.insidetextfont,outsidetextfont:t({},m.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:m.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:T({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(ie,B,e){"use strict";var C=e(74875);B.name="sunburst",B.plot=function(S,u,A,T){C.plotBasePlot(B.name,S,u,A,T)},B.clean=function(S,u,A,T){C.cleanBasePlot(B.name,S,u,A,T)}},52147:function(ie,B,e){"use strict";var C=e(674),S=e(92770),u=e(71828),A=e(21081).makeColorScaleFuncFromTrace,T=e(32354).makePullColorFn,m=e(32354).generateExtendedColors,l=e(21081).calc,t=e(50606).ALMOST_EQUAL,o={},r={},n={};function a(s,c,p){var f=0,w=s.children;if(w){for(var v=w.length,h=0;h<v;h++)f+=a(w[h],c,p);p.branches&&f++}else p.leaves&&f++;return s.value=s.data.data.value=f,c._values||(c._values=[]),c._values[s.data.data.i]=f,f}B.calc=function(s,c){var p,f,w,v,h,_,x=s._fullLayout,b=c.ids,M=u.isArrayOrTypedArray(b),d=c.labels,E=c.parents,k=c.values,I=u.isArrayOrTypedArray(k),L=[],P={},R={},z=function(he){return he||"number"==typeof he},$=function(he){return!I||S(k[he])&&k[he]>=0};M?(p=Math.min(b.length,E.length),f=function(he){return z(b[he])&&$(he)},w=function(he){return String(b[he])}):(p=Math.min(d.length,E.length),f=function(he){return z(d[he])&&$(he)},w=function(he){return String(d[he])}),I&&(p=Math.min(p,k.length));for(var N=0;N<p;N++)if(f(N)){var W=w(N),H=z(E[N])?String(E[N]):"",U={i:N,id:W,pid:H,label:z(d[N])?String(d[N]):""};I&&(U.v=+k[N]),L.push(U),h=W,P[v=H]?P[v].push(h):P[v]=[h],R[h]=1}if(P[""]){if(P[""].length>1){for(var Z=u.randstr(),Y=0;Y<L.length;Y++)""===L[Y].pid&&(L[Y].pid=Z);L.unshift({hasMultipleRoots:!0,id:Z,pid:"",label:""})}}else{var ae,re=[];for(ae in P)R[ae]||re.push(ae);if(1!==re.length)return u.warn(["Multiple implied roots, cannot build",c.type,"hierarchy of",c.name+".","These roots include:",re.join(", ")].join(" "));L.unshift({hasImpliedRoot:!0,id:ae=re[0],pid:"",label:ae})}try{_=C.stratify().id(function(he){return he.id}).parentId(function(he){return he.pid})(L)}catch(he){return u.warn(["Failed to build",c.type,"hierarchy of",c.name+".","Error:",he.message].join(" "))}var Q=C.hierarchy(_),K=!1;if(I)switch(c.branchvalues){case"remainder":Q.sum(function(he){return he.data.v});break;case"total":Q.each(function(he){var me=he.data.data,ke=me.v;if(he.children){var Pe=he.children.reduce(function(Te,be){return Te+be.data.data.v},0);if((me.hasImpliedRoot||me.hasMultipleRoots)&&(ke=Pe),ke<Pe*t)return K=!0,u.warn(["Total value for node",he.data.data.id,"of",c.name,"is smaller than the sum of its children.","\nparent value =",ke,"\nchildren sum =",Pe].join(" "))}he.value=ke})}else a(Q,c,{branches:-1!==c.count.indexOf("branches"),leaves:-1!==c.count.indexOf("leaves")});if(!K){var te,oe;c.sort&&Q.sort(function(he,me){return me.value-he.value});var ue=c.marker.colors||[];return c._hasColorscale?(!!ue.length||(ue=I?c.values:c._values),l(s,c,{vals:ue,containerStr:"marker",cLetter:"c"}),oe=A(c.marker)):te=T(x["_"+c.type+"colormap"]),Q.each(function(he){var me=he.data.data;me.color=c._hasColorscale?oe(ue[me.i]):te(ue[me.i],me.id)}),L[0].hierarchy=Q,L}},B._runCrossTraceCalc=function(s,c){var p=c._fullLayout,f=c.calcdata,w=p[s+"colorway"],v=p["_"+s+"colormap"];p["extend"+s+"colors"]&&(w=m(w,"icicle"===s?n:"treemap"===s?r:o));var h,_=0;function x(d){var E=d.data.data,k=E.id;!1===E.color&&(v[k]?E.color=v[k]:d.parent?d.parent.parent?E.color=d.parent.data.data.color:(v[k]=E.color=w[_%w.length],_++):E.color=h)}for(var b=0;b<f.length;b++){var M=f[b][0];M.trace.type===s&&M.hierarchy&&(h=M.trace.root.color,M.hierarchy.each(x))}},B.crossTraceCalc=function(s){return B._runCrossTraceCalc("sunburst",s)}},7055:function(ie){"use strict";ie.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(ie,B,e){"use strict";var C=e(71828),S=e(57564),u=e(27670).c,A=e(90769).handleText,T=e(37434).handleMarkerDefaults,m=e(21081),l=m.hasColorscale,t=m.handleDefaults;ie.exports=function(o,r,n,a){function s(h,_){return C.coerce(o,r,S,h,_)}var c=s("labels"),p=s("parents");if(c&&c.length&&p&&p.length){var f=s("values");s(f&&f.length?"branchvalues":"count"),s("level"),s("maxdepth"),T(o,r,a,s);var w=r._hasColorscale=l(o,"marker","colors")||(o.marker||{}).coloraxis;w&&t(o,r,a,s,{prefix:"marker.",cLetter:"c"}),s("leaf.opacity",w?1:.7);var v=s("text");s("texttemplate"),r.texttemplate||s("textinfo",Array.isArray(v)?"text+label":"label"),s("hovertext"),s("hovertemplate"),A(o,r,a,s,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),s("insidetextorientation"),s("sort"),s("rotation"),s("root.color"),u(r,a,s),r._length=null}else r.visible=!1}},43467:function(ie,B,e){"use strict";var C=e(91424),S=e(7901);ie.exports=function(u,A,T,m,l){var t=A.data.data,r=l||t.color;if(t.i>=0){A.i=t.i;var n=T.marker;n.pattern&&n.colors&&n.pattern.shape||(n.color=r,A.color=r),C.pointStyle(u,T,m,A)}else S.fill(u,r)}},83523:function(ie,B,e){"use strict";var C=e(39898),S=e(73972),u=e(23469).appendArrayPointValue,A=e(30211),T=e(71828),m=e(11086),l=e(2791),t=e(53581).formatPieValue;function o(r,n,a){for(var s=r.data.data,c={curveNumber:n.index,pointNumber:s.i,data:n._input,fullData:n},p=0;p<a.length;p++){var f=a[p];f in r&&(c[f]=r[f])}return"parentString"in r&&!l.isHierarchyRoot(r)&&(c.parent=r.parentString),u(c,n,s.i),c}ie.exports=function(r,n,a,s,c){var p=s[0],f=p.trace,w=p.hierarchy,v="sunburst"===f.type,h="treemap"===f.type||"icicle"===f.type;"_hasHoverLabel"in f||(f._hasHoverLabel=!1),"_hasHoverEvent"in f||(f._hasHoverEvent=!1),r.on("mouseover",function(_){var x=a._fullLayout;if(!a._dragging&&!1!==x.hovermode){var b,M=a._fullData[f.index],d=_.data.data,E=d.i,k=l.isHierarchyRoot(_),I=l.getParent(w,_),L=l.getValue(_),P=function(ue){return T.castOption(M,E,ue)},R=P("hovertemplate"),z=A.castHoverinfo(M,x,E),$=x.separators;if(R||z&&"none"!==z&&"skip"!==z){var N,W;v&&(N=p.cx+_.pxmid[0]*(1-_.rInscribed),W=p.cy+_.pxmid[1]*(1-_.rInscribed)),h&&(N=_._hoverX,W=_._hoverY);var H,U={},Z=[],Y=[],ae=function(ue){return-1!==Z.indexOf(ue)};z&&(Z="all"===z?M._module.attributes.hoverinfo.flags:z.split("+")),U.label=d.label,ae("label")&&U.label&&Y.push(U.label),d.hasOwnProperty("v")&&(U.value=d.v,U.valueLabel=t(U.value,$),ae("value")&&Y.push(U.valueLabel)),U.currentPath=_.currentPath=l.getPath(_.data),ae("current path")&&!k&&Y.push(U.currentPath);var re=[],Q=function(){-1===re.indexOf(H)&&(Y.push(H),re.push(H))};U.percentParent=_.percentParent=L/l.getValue(I),U.parent=_.parentString=l.getPtLabel(I),ae("percent parent")&&(H=l.formatPercent(U.percentParent,$)+" of "+U.parent,Q()),U.percentEntry=_.percentEntry=L/l.getValue(n),U.entry=_.entry=l.getPtLabel(n),!ae("percent entry")||k||_.onPathbar||(H=l.formatPercent(U.percentEntry,$)+" of "+U.entry,Q()),U.percentRoot=_.percentRoot=L/l.getValue(w),U.root=_.root=l.getPtLabel(w),ae("percent root")&&!k&&(H=l.formatPercent(U.percentRoot,$)+" of "+U.root,Q()),U.text=P("hovertext")||P("text"),ae("text")&&T.isValidTextValue(H=U.text)&&Y.push(H),b=[o(_,M,c.eventDataKeys)];var K={trace:M,y:W,_x0:_._x0,_x1:_._x1,_y0:_._y0,_y1:_._y1,text:Y.join("<br>"),name:R||ae("name")?M.name:void 0,color:P("hoverlabel.bgcolor")||d.color,borderColor:P("hoverlabel.bordercolor"),fontFamily:P("hoverlabel.font.family"),fontSize:P("hoverlabel.font.size"),fontColor:P("hoverlabel.font.color"),nameLength:P("hoverlabel.namelength"),textAlign:P("hoverlabel.align"),hovertemplate:R,hovertemplateLabels:U,eventData:b};v&&(K.x0=N-_.rInscribed*_.rpx1,K.x1=N+_.rInscribed*_.rpx1,K.idealAlign=_.pxmid[0]<0?"left":"right"),h&&(K.x=N,K.idealAlign=N<0?"left":"right");var te=[];A.loneHover(K,{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:a,inOut_bbox:te}),b[0].bbox=te[0],f._hasHoverLabel=!0}if(h){var oe=r.select("path.surface");c.styleOne(oe,_,M,a,{hovered:!0})}f._hasHoverEvent=!0,a.emit("plotly_hover",{points:b||[o(_,M,c.eventDataKeys)],event:C.event})}}),r.on("mouseout",function(_){var x=a._fullLayout,b=a._fullData[f.index],M=C.select(this).datum();if(f._hasHoverEvent&&(_.originalEvent=C.event,a.emit("plotly_unhover",{points:[o(M,b,c.eventDataKeys)],event:C.event}),f._hasHoverEvent=!1),f._hasHoverLabel&&(A.loneUnhover(x._hoverlayer.node()),f._hasHoverLabel=!1),h){var d=r.select("path.surface");c.styleOne(d,M,b,a,{hovered:!1})}}),r.on("click",function(_){var x=a._fullLayout,b=a._fullData[f.index],M=v&&(l.isHierarchyRoot(_)||l.isLeaf(_)),d=l.getPtId(_),E=l.isEntry(_)?l.findEntryWithChild(w,d):l.findEntryWithLevel(w,d),k=l.getPtId(E),I={points:[o(_,b,c.eventDataKeys)],event:C.event};M||(I.nextLevel=k);var L=m.triggerHandler(a,"plotly_"+f.type+"click",I);if(!1!==L&&x.hovermode&&(a._hoverdata=[o(_,b,c.eventDataKeys)],A.click(a,C.event)),!M&&!1!==L&&!a._dragging&&!a._transitioning){S.call("_storeDirectGUIEdit",b,x._tracePreGUI[b.uid],{level:b.level});var P={data:[{level:k}],traces:[f.index]},R={frame:{redraw:!1,duration:c.transitionTime},transition:{duration:c.transitionTime,easing:c.transitionEasing},mode:"immediate",fromcurrent:!0};A.loneUnhover(x._hoverlayer.node()),S.call("animate",a,P,R)}})}},2791:function(ie,B,e){"use strict";var C=e(71828),S=e(7901),u=e(6964),A=e(53581);function T(m){return m.data.data.pid}B.findEntryWithLevel=function(m,l){var t;return l&&m.eachAfter(function(o){if(B.getPtId(o)===l)return t=o.copy()}),t||m},B.findEntryWithChild=function(m,l){var t;return m.eachAfter(function(o){for(var r=o.children||[],n=0;n<r.length;n++)if(B.getPtId(r[n])===l)return t=o.copy()}),t||m},B.isEntry=function(m){return!m.parent},B.isLeaf=function(m){return!m.children},B.getPtId=function(m){return m.data.data.id},B.getPtLabel=function(m){return m.data.data.label},B.getValue=function(m){return m.value},B.isHierarchyRoot=function(m){return""===T(m)},B.setSliceCursor=function(m,l,t){var o=t.isTransitioning;if(!o){var r=m.datum();o=t.hideOnRoot&&B.isHierarchyRoot(r)||t.hideOnLeaves&&B.isLeaf(r)}u(m,o?null:"pointer")},B.getInsideTextFontKey=function(m,l,t,o,r){var a=t.data.data.i;return C.castOption(l,a,((r||{}).onPathbar?"pathbar.textfont":"insidetextfont")+"."+m)||C.castOption(l,a,"textfont."+m)||o.size},B.getOutsideTextFontKey=function(m,l,t,o){var r=t.data.data.i;return C.castOption(l,r,"outsidetextfont."+m)||C.castOption(l,r,"textfont."+m)||o.size},B.isOutsideText=function(m,l){return!m._hasColorscale&&B.isHierarchyRoot(l)},B.determineTextFont=function(m,l,t,o){return B.isOutsideText(m,l)?{color:B.getOutsideTextFontKey("color",r=m,n=l,a=t),family:B.getOutsideTextFontKey("family",r,n,a),size:B.getOutsideTextFontKey("size",r,n,a)}:function(r,n,a,s){var p=n.data.data,f=p.i,w=C.castOption(r,f,((s||{}).onPathbar?"pathbar.textfont":"insidetextfont")+".color");return!w&&r._input.textfont&&(w=C.castOption(r._input,f,"textfont.color")),{color:w||S.contrast(p.color),family:B.getInsideTextFontKey("family",r,n,a,s),size:B.getInsideTextFontKey("size",r,n,a,s)}}(m,l,t,o);var r,n,a},B.hasTransition=function(m){return!!(m&&m.duration>0)},B.getMaxDepth=function(m){return m.maxdepth>=0?m.maxdepth:1/0},B.isHeader=function(m,l){return!(B.isLeaf(m)||m.depth===l._maxDepth-1)},B.getParent=function(m,l){return B.findEntryWithLevel(m,T(l))},B.listPath=function(m,l){var t=m.parent;if(!t)return[];var o=l?[t.data[l]]:[t];return B.listPath(t,l).concat(o)},B.getPath=function(m){return B.listPath(m,"label").join("/")+"/"},B.formatValue=A.formatPieValue,B.formatPercent=function(m,l){var t=C.formatPercent(m,0);return"0%"===t&&(t=A.formatPiePercent(m,l)),t}},87619:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(ie){"use strict";ie.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(ie,B,e){"use strict";var C=e(71828),S=e(2654);ie.exports=function(u,A){function T(m,l){return C.coerce(u,A,S,m,l)}T("sunburstcolorway",A.colorway),T("extendsunburstcolors")}},24714:function(ie,B,e){"use strict";var C=e(39898),S=e(674),u=e(81684).sX,A=e(91424),T=e(71828),m=e(63893),l=e(72597),t=l.recordMinTextSize,o=l.clearMinTextSize,r=e(14575),n=e(53581).getRotationAngle,a=r.computeTransform,s=r.transformInsideText,c=e(29969).styleOne,p=e(16688).resizeText,f=e(83523),w=e(7055),v=e(2791);function h(x,b,M,d){var E=x._context.staticPlot,k=x._fullLayout,I=!k.uniformtext.mode&&v.hasTransition(d),L=C.select(M).selectAll("g.slice"),P=b[0],R=P.trace,$=v.findEntryWithLevel(P.hierarchy,R.level),N=v.getMaxDepth(R),W=k._size,H=R.domain,Z=W.h*(H.y[1]-H.y[0]),Y=.5*Math.min(W.w*(H.x[1]-H.x[0]),Z),ae=P.cx=W.l+W.w*(H.x[1]+H.x[0])/2,re=P.cy=W.t+W.h*(1-H.y[0])-Z/2;if(!$)return L.remove();var Q=null,K={};I&&L.each(function(de){K[v.getPtId(de)]={rpx0:de.rpx0,rpx1:de.rpx1,x0:de.x0,x1:de.x1,transform:de.transform},!Q&&v.isEntry(de)&&(Q=de)});var de,te=(de=$,S.partition().size([2*Math.PI,de.height+1])(de)).descendants(),oe=$.height+1,ue=0,fe=N;P.hasMultipleRoots&&v.isHierarchyRoot($)&&(te=te.slice(1),oe-=1,ue=1,fe+=1),te=te.filter(function(de){return de.y1<=fe});var he=n(R.rotation);he&&te.forEach(function(de){de.x0+=he,de.x1+=he});var me=Math.min(oe,N),ke=function(de){return(de-ue)/me*Y},Pe=function(de,se){return[de*Math.cos(se),-de*Math.sin(se)]},Te=function(de){return T.pathAnnulus(de.rpx0,de.rpx1,de.x0,de.x1,ae,re)},be=function(de){return ae+_(de)[0]*(de.transform.rCenter||0)+(de.transform.x||0)},xe=function(de){return re+_(de)[1]*(de.transform.rCenter||0)+(de.transform.y||0)};(L=L.data(te,v.getPtId)).enter().append("g").classed("slice",!0),I?L.exit().transition().each(function(){var de=C.select(this);de.select("path.surface").transition().attrTween("d",function(se){var we=function(Re){var Ee,Ue=v.getPtId(Re),$e=K[Ue],ve=K[v.getPtId($)];if(ve){var Ie=(Re.x1>ve.x1?2*Math.PI:0)+he;Ee=Re.rpx1<ve.rpx1?{x0:Re.x0,x1:Re.x1,rpx0:0,rpx1:0}:{x0:Ie,x1:Ie,rpx0:Re.rpx0,rpx1:Re.rpx1}}else{var De,ze=v.getPtId(Re.parent);L.each(function(st){if(v.getPtId(st)===ze)return De=st});var Ge,He=De.children;He.forEach(function(st,mt){if(v.getPtId(st)===Ue)return Ge=mt});var Ke=He.length,et=u(De.x0,De.x1);Ee={rpx0:Y,rpx1:Y,x0:et(Ge/Ke),x1:et((Ge+1)/Ke)}}return u($e,Ee)}(se);return function(Re){return Te(we(Re))}}),de.select("g.slicetext").attr("opacity",0)}).remove():L.exit().remove(),L.order();var Ne=null;if(I&&Q){var Se=v.getPtId(Q);L.each(function(de){null===Ne&&v.getPtId(de)===Se&&(Ne=de.x1)})}var Ce=L;function pe(de){var se=de.parent,we=K[v.getPtId(se)],Re={};if(we){var Ee=se.children,Ue=Ee.indexOf(de),$e=Ee.length,ve=u(we.x0,we.x1);Re.x0=ve(Ue/$e),Re.x1=ve(Ue/$e)}else Re.x0=Re.x1=0;return Re}I&&(Ce=Ce.transition().each("end",function(){var de=C.select(this);v.setSliceCursor(de,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Ce.each(function(de){var Ie,se=C.select(this),we=T.ensureSingle(se,"path","surface",function(Ie){Ie.style("pointer-events",E?"none":"all")});de.rpx0=ke(de.y0),de.rpx1=ke(de.y1),de.xmid=(de.x0+de.x1)/2,de.pxmid=Pe(de.rpx1,de.xmid),de.midangle=-(de.xmid-Math.PI/2),de.startangle=-(de.x0-Math.PI/2),de.stopangle=-(de.x1-Math.PI/2),de.halfangle=.5*Math.min(T.angleDelta(de.x0,de.x1)||Math.PI,Math.PI),de.ring=1-de.rpx0/de.rpx1,de.rInscribed=0===(Ie=de).rpx0&&T.isFullCircle([Ie.x0,Ie.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(Ie.halfangle)),Ie.ring/2)),I?we.transition().attrTween("d",function(Ie){var De=function(ze){var Ge,He=K[v.getPtId(ze)],Ke={x0:ze.x0,x1:ze.x1,rpx0:ze.rpx0,rpx1:ze.rpx1};if(He)Ge=He;else if(Q)if(ze.parent)if(Ne){var et=(ze.x1>Ne?2*Math.PI:0)+he;Ge={x0:et,x1:et}}else T.extendFlat(Ge={rpx0:Y,rpx1:Y},pe(ze));else Ge={rpx0:0,rpx1:0};else Ge={x0:he,x1:he};return u(Ge,Ke)}(Ie);return function(ze){return Te(De(ze))}}):we.attr("d",Te),se.call(f,$,x,b,{eventDataKeys:w.eventDataKeys,transitionTime:w.CLICK_TRANSITION_TIME,transitionEasing:w.CLICK_TRANSITION_EASING}).call(v.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),we.call(c,de,R,x);var Re=T.ensureSingle(se,"g","slicetext"),Ee=T.ensureSingle(Re,"text","",function(Ie){Ie.attr("data-notex",1)}),Ue=T.ensureUniformFontSize(x,v.determineTextFont(R,de,k.font));Ee.text(B.formatSliceLabel(de,$,R,b,k)).classed("slicetext",!0).attr("text-anchor","middle").call(A.font,Ue).call(m.convertToTspans,x);var $e=A.bBox(Ee.node());de.transform=s($e,de,P),de.transform.targetX=be(de),de.transform.targetY=xe(de);var ve=function(Ie,De){var ze=Ie.transform;return a(ze,De),ze.fontSize=Ue.size,t(R.type,ze,k),T.getTextTransform(ze)};I?Ee.transition().attrTween("transform",function(Ie){var De=function(ze){var Ge,He=K[v.getPtId(ze)],Ke=ze.transform;if(He)Ge=He;else if(Ge={rpx1:ze.rpx1,transform:{textPosAngle:Ke.textPosAngle,scale:0,rotate:Ke.rotate,rCenter:Ke.rCenter,x:Ke.x,y:Ke.y}},Q)if(ze.parent)if(Ne){var et=ze.x1>Ne?2*Math.PI:0;Ge.x0=Ge.x1=et}else T.extendFlat(Ge,pe(ze));else Ge.x0=Ge.x1=he;else Ge.x0=Ge.x1=he;var st=u(Ge.transform.textPosAngle,ze.transform.textPosAngle),mt=u(Ge.rpx1,ze.rpx1),at=u(Ge.x0,ze.x0),kt=u(Ge.x1,ze.x1),St=u(Ge.transform.scale,Ke.scale),gt=u(Ge.transform.rotate,Ke.rotate),dt=0===Ke.rCenter?3:0===Ge.transform.rCenter?1/3:1,Ct=u(Ge.transform.rCenter,Ke.rCenter);return function(Ot){var Pt=mt(Ot),Ht=at(Ot),jt=kt(Ot),nt=Ct(Math.pow(Ot,dt)),it={pxmid:Pe(Pt,(Ht+jt)/2),rpx1:Pt,transform:{textPosAngle:st(Ot),rCenter:nt,x:Ke.x,y:Ke.y}};return t(R.type,Ke,k),{transform:{targetX:be(it),targetY:xe(it),scale:St(Ot),rotate:gt(Ot),rCenter:nt}}}}(Ie);return function(ze){return ve(De(ze),$e)}}):Ee.attr("transform",ve(de,$e))})}function _(x){return M=x.transform.textPosAngle,[(b=x.rpx1)*Math.sin(M),-b*Math.cos(M)];var b,M}B.plot=function(x,b,M,d){var E,k,I=x._fullLayout,L=I._sunburstlayer,P=!M,R=!I.uniformtext.mode&&v.hasTransition(M);o("sunburst",I),(E=L.selectAll("g.trace.sunburst").data(b,function(z){return z[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),E.order(),R?(d&&(k=d()),C.transition().duration(M.duration).ease(M.easing).each("end",function(){k&&k()}).each("interrupt",function(){k&&k()}).each(function(){L.selectAll("g.trace").each(function(z){h(x,z,this,M)})})):(E.each(function(z){h(x,z,this,M)}),I.uniformtext.mode&&p(x,I._sunburstlayer.selectAll(".trace"),"sunburst")),P&&E.exit().remove()},B.formatSliceLabel=function(x,b,M,d,E){var k=M.texttemplate,I=M.textinfo;if(!(k||I&&"none"!==I))return"";var L=E.separators,R=x.data.data,z=d[0].hierarchy,$=v.isHierarchyRoot(x),N=v.getParent(z,x),W=v.getValue(x);if(!k){var H,U=I.split("+"),Z=function(fe){return-1!==U.indexOf(fe)},Y=[];if(Z("label")&&R.label&&Y.push(R.label),R.hasOwnProperty("v")&&Z("value")&&Y.push(v.formatValue(R.v,L)),!$){Z("current path")&&Y.push(v.getPath(x.data));var ae=0;Z("percent parent")&&ae++,Z("percent entry")&&ae++,Z("percent root")&&ae++;var re=ae>1;if(ae){var Q,K=function(fe){H=v.formatPercent(Q,L),re&&(H+=" of "+fe),Y.push(H)};Z("percent parent")&&!$&&(Q=W/v.getValue(N),K("parent")),Z("percent entry")&&(Q=W/v.getValue(b),K("entry")),Z("percent root")&&(Q=W/v.getValue(z),K("root"))}}return Z("text")&&(H=T.castOption(M,R.i,"text"),T.isValidTextValue(H)&&Y.push(H)),Y.join("<br>")}var te=T.castOption(M,R.i,"texttemplate");if(!te)return"";var oe={};R.label&&(oe.label=R.label),R.hasOwnProperty("v")&&(oe.value=R.v,oe.valueLabel=v.formatValue(R.v,L)),oe.currentPath=v.getPath(x.data),$||(oe.percentParent=W/v.getValue(N),oe.percentParentLabel=v.formatPercent(oe.percentParent,L),oe.parent=v.getPtLabel(N)),oe.percentEntry=W/v.getValue(b),oe.percentEntryLabel=v.formatPercent(oe.percentEntry,L),oe.entry=v.getPtLabel(b),oe.percentRoot=W/v.getValue(z),oe.percentRootLabel=v.formatPercent(oe.percentRoot,L),oe.root=v.getPtLabel(z),R.hasOwnProperty("color")&&(oe.color=R.color);var ue=T.castOption(M,R.i,"text");return(T.isValidTextValue(ue)||""===ue)&&(oe.text=ue),oe.customdata=T.castOption(M,R.i,"customdata"),T.texttemplateString(te,oe,E._d3locale,oe,M._meta||{})}},29969:function(ie,B,e){"use strict";var C=e(39898),S=e(7901),u=e(71828),A=e(72597).resizeText,T=e(43467);function m(l,t,o,r){var a=!t.children,s=t.data.data.i,c=u.castOption(o,s,"marker.line.color")||S.defaultLine,p=u.castOption(o,s,"marker.line.width")||0;l.call(T,t,o,r).style("stroke-width",p).call(S.stroke,c).style("opacity",a?o.leaf.opacity:null)}ie.exports={style:function(l){var t=l._fullLayout._sunburstlayer.selectAll(".trace");A(l,t,"sunburst"),t.each(function(o){var r=C.select(this),n=o[0].trace;r.style("opacity",n.opacity),r.selectAll("path.surface").each(function(a){C.select(this).call(m,a,n,l)})})},styleOne:m}},54532:function(ie,B,e){"use strict";var C=e(7901),S=e(50693),u=e(12663).axisHoverFormat,A=e(5386).fF,T=e(9012),m=e(1426).extendFlat,l=e(30962).overrideAll;function t(r){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:C.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:C.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var o=ie.exports=l(m({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:A(),xhoverformat:u("x"),yhoverformat:u("y"),zhoverformat:u("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},S("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:m({},S.zauto,{}),zmin:m({},S.zmin,{}),zmax:m({},S.zmax,{})},hoverinfo:m({},T.hoverinfo),showlegend:m({},T.showlegend,{dflt:!1})}),"calc","nested");o.x.editType=o.y.editType=o.z.editType="calc+clearAxisTypes",o.transforms=void 0},18396:function(ie,B,e){"use strict";var C=e(78803);ie.exports=function(S,u){C(S,u,u.surfacecolor?{vals:u.surfacecolor,containerStr:"",cLetter:"c"}:{vals:u.z,containerStr:"",cLetter:"c"})}},43768:function(ie,B,e){"use strict";var C=e(9330).gl_surface3d,S=e(9330).ndarray,u=e(9330).ndarray_linear_interpolate.d2,A=e(824),T=e(43907),m=e(71828).isArrayOrTypedArray,l=e(81697).parseColorScale,t=e(78614),o=e(21081).extractOpts;function r(M,d,E){this.scene=M,this.uid=E,this.surface=d,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=r.prototype;n.getXat=function(M,d,E,k){var I=m(this.data.x)?m(this.data.x[0])?this.data.x[d][M]:this.data.x[M]:M;return void 0===E?I:k.d2l(I,0,E)},n.getYat=function(M,d,E,k){var I=m(this.data.y)?m(this.data.y[0])?this.data.y[d][M]:this.data.y[d]:d;return void 0===E?I:k.d2l(I,0,E)},n.getZat=function(M,d,E,k){var I=this.data.z[d][M];return null===I&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[d][M]),void 0===E?I:k.d2l(I,0,E)},n.handlePick=function(M){if(M.object===this.surface){var E=(M.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round((M.data.index[0]-1)/this.dataScaleX-1),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(E),this.data._ylength-1),0);M.index=[k,I],M.traceCoordinate=[this.getXat(k,I),this.getYat(k,I),this.getZat(k,I)],M.dataCoordinate=[this.getXat(k,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var L=0;L<3;L++)null!=M.dataCoordinate[L]&&(M.dataCoordinate[L]*=this.scene.dataScale[L]);var P=this.data.hovertext||this.data.text;return M.textLabel=Array.isArray(P)&&P[I]&&void 0!==P[I][k]?P[I][k]:P||"",M.data.dataCoordinate=M.dataCoordinate.slice(),this.surface.highlight(M.data),this.scene.glplot.spikes.position=M.dataCoordinate,!0}};var a=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function s(M,d){if(M<d)return 0;for(var E=0;0===Math.floor(M%d);)M/=d,E++;return E}function c(M){for(var d=[],E=0;E<a.length;E++)d.push(s(M,a[E]));return d}function p(M){for(var d=c(M),E=M,k=0;k<a.length;k++)if(d[k]>0){E=a[k];break}return E}function f(M,d){if(!(M<1||d<1)){for(var E=c(M),k=c(d),I=1,L=0;L<a.length;L++)I*=Math.pow(a[L],Math.max(E[L],k[L]));return I}}n.calcXnums=function(M){var d,E=[];for(d=1;d<M;d++){var k=this.getXat(d-1,0),I=this.getXat(d,0);E[d-1]=I!==k&&null!=k&&null!=I?Math.abs(I-k):0}var L=0;for(d=1;d<M;d++)L+=E[d-1];for(d=1;d<M;d++)E[d-1]=0===E[d-1]?1:Math.round(L/E[d-1]);return E},n.calcYnums=function(M){var d,E=[];for(d=1;d<M;d++){var k=this.getYat(0,d-1),I=this.getYat(0,d);E[d-1]=I!==k&&null!=k&&null!=I?Math.abs(I-k):0}var L=0;for(d=1;d<M;d++)L+=E[d-1];for(d=1;d<M;d++)E[d-1]=0===E[d-1]?1:Math.round(L/E[d-1]);return E};var w=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],v=w[9],h=w[13];function _(M,d,E){var k=E[8]+E[2]*d[0]+E[5]*d[1];return M[0]=(E[6]+E[0]*d[0]+E[3]*d[1])/k,M[1]=(E[7]+E[1]*d[0]+E[4]*d[1])/k,M}function x(M,d,E){return function(k,I,L,P){for(var R=[0,0],z=k.shape[0],$=k.shape[1],N=0;N<z;N++)for(var W=0;W<$;W++)L(R,[N,W],P),k.set(N,W,u(I,R[0],R[1]))}(M,d,_,E),M}function b(M,d){for(var E=!1,k=0;k<M.length;k++)if(d===M[k]){E=!0;break}!1===E&&M.push(d)}n.estimateScale=function(M,d){for(var E=1+function(I){if(0!==I.length){for(var L=1,P=0;P<I.length;P++)L=f(L,I[P]);return L}}(0===d?this.calcXnums(M):this.calcYnums(M));E<v;)E*=2;for(;E>h;)E--,E/=p(E),++E<v&&(E=h);var k=Math.round(E/M);return k>1?k:1},n.refineCoords=function(M){for(var d=this.dataScaleX,E=this.dataScaleY,k=M[0].shape[0],I=M[0].shape[1],L=0|Math.floor(M[0].shape[0]*d+1),P=0|Math.floor(M[0].shape[1]*E+1),R=1+k+1,z=1+I+1,$=S(new Float32Array(R*z),[R,z]),N=[1/d,0,0,0,1/E,0,0,0,1],W=0;W<M.length;++W){this.surface.padField($,M[W]);var H=S(new Float32Array(L*P),[L,P]);x(H,$,N),M[W]=H}},n.setContourLevels=function(){var M,d,k=[[],[],[]],I=[!1,!1,!1],L=!1;for(M=0;M<3;++M)if(this.showContour[M]&&(L=!0,this.contourSize[M]>0&&null!==this.contourStart[M]&&null!==this.contourEnd[M]&&this.contourEnd[M]>this.contourStart[M]))for(I[M]=!0,d=this.contourStart[M];d<this.contourEnd[M];d+=this.contourSize[M])b(k[M],d*this.scene.dataScale[M]);if(L){var P=[[],[],[]];for(M=0;M<3;++M)this.showContour[M]&&(P[M]=I[M]?k[M]:this.scene.contourLevels[M]);this.surface.update({levels:P})}},n.update=function(M){var d,E,k,I,L=this.scene,P=L.fullSceneLayout,R=this.surface,z=l(M),$=L.dataScale,N=M.z[0].length,W=M._ylength,H=L.contourLevels;this.data=M;var U=[];for(d=0;d<3;d++)for(U[d]=[],E=0;E<N;E++)U[d][E]=[];for(E=0;E<N;E++)for(k=0;k<W;k++)U[0][E][k]=this.getXat(E,k,M.xcalendar,P.xaxis),U[1][E][k]=this.getYat(E,k,M.ycalendar,P.yaxis),U[2][E][k]=this.getZat(E,k,M.zcalendar,P.zaxis);if(M.connectgaps)for(M._emptypoints=T(U[2]),A(U[2],M._emptypoints),M._interpolatedZ=[],E=0;E<N;E++)for(M._interpolatedZ[E]=[],k=0;k<W;k++)M._interpolatedZ[E][k]=U[2][E][k];for(d=0;d<3;d++)for(E=0;E<N;E++)for(k=0;k<W;k++)null==(I=U[d][E][k])?U[d][E][k]=NaN:I=U[d][E][k]*=$[d];for(d=0;d<3;d++)for(E=0;E<N;E++)for(k=0;k<W;k++)null!=(I=U[d][E][k])&&(this.minValues[d]>I&&(this.minValues[d]=I),this.maxValues[d]<I&&(this.maxValues[d]=I));for(d=0;d<3;d++)this.objectOffset[d]=.5*(this.minValues[d]+this.maxValues[d]);for(d=0;d<3;d++)for(E=0;E<N;E++)for(k=0;k<W;k++)null!=(I=U[d][E][k])&&(U[d][E][k]-=this.objectOffset[d]);var Z=[S(new Float32Array(N*W),[N,W]),S(new Float32Array(N*W),[N,W]),S(new Float32Array(N*W),[N,W])];for(d=0;d<3;d++)for(E=0;E<N;E++)for(k=0;k<W;k++)Z[d].set(E,k,U[d][E][k]);U=[];var Y={colormap:z,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!M.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:M.opacityscale,opacity:M.opacity},ae=o(M);if(Y.intensityBounds=[ae.min,ae.max],M.surfacecolor){var re=S(new Float32Array(N*W),[N,W]);for(E=0;E<N;E++)for(k=0;k<W;k++)re.set(E,k,M.surfacecolor[k][E]);Z.push(re)}else Y.intensityBounds[0]*=$[2],Y.intensityBounds[1]*=$[2];(h<Z[0].shape[0]||h<Z[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(Z[0].shape[0],0),this.dataScaleY=this.estimateScale(Z[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(Z)),M.surfacecolor&&(Y.intensity=Z.pop());var oe,ue,fe,Q=[!0,!0,!0],K=["x","y","z"];for(d=0;d<3;++d){var te=M.contours[K[d]];Q[d]=te.highlight,Y.showContour[d]=te.show||te.highlight,Y.showContour[d]&&(Y.contourProject[d]=[te.project.x,te.project.y,te.project.z],te.show?(this.showContour[d]=!0,Y.levels[d]=H[d],R.highlightColor[d]=Y.contourColor[d]=t(te.color),R.highlightTint[d]=Y.contourTint[d]=te.usecolormap?0:1,Y.contourWidth[d]=te.width,this.contourStart[d]=te.start,this.contourEnd[d]=te.end,this.contourSize[d]=te.size):(this.showContour[d]=!1,this.contourStart[d]=null,this.contourEnd[d]=null,this.contourSize[d]=0),te.highlight&&(Y.dynamicColor[d]=t(te.highlightcolor),Y.dynamicWidth[d]=te.highlightwidth))}(ue=(oe=z)[0].rgb)[0]===(fe=oe[oe.length-1].rgb)[0]&&ue[1]===fe[1]&&ue[2]===fe[2]&&ue[3]===fe[3]&&(Y.vertexColor=!0),Y.objectOffset=this.objectOffset,Y.coords=Z,R.update(Y),R.visible=M.visible,R.enableDynamic=Q,R.enableHighlight=Q,R.snapToData=!0,"lighting"in M&&(R.ambientLight=M.lighting.ambient,R.diffuseLight=M.lighting.diffuse,R.specularLight=M.lighting.specular,R.roughness=M.lighting.roughness,R.fresnel=M.lighting.fresnel),"lightposition"in M&&(R.lightPosition=[M.lightposition.x,M.lightposition.y,M.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},ie.exports=function(M,d){var k=C({gl:M.glplot.gl}),I=new r(M,k,d.uid);return k._trace=I,I.update(d),M.glplot.add(k),I}},91831:function(ie,B,e){"use strict";var C=e(73972),S=e(71828),u=e(1586),A=e(54532);function T(l,t,o,r){var n=r("opacityscale");"max"===n?t.opacityscale=[[0,.1],[1,1]]:"min"===n?t.opacityscale=[[0,1],[1,.1]]:"extremes"===n?t.opacityscale=function(a,s){for(var c=[],p=0;p<32;p++){var f=p/31,w=.1+.9*(1-Math.pow(Math.sin(1*f*Math.PI),2));c.push([f,Math.max(0,Math.min(1,w))])}return c}():function(a){var s=0;if(!Array.isArray(a)||a.length<2||!a[0]||!a[a.length-1]||0!=+a[0][0]||1!=+a[a.length-1][0])return!1;for(var c=0;c<a.length;c++){var p=a[c];if(2!==p.length||+p[0]<s)return!1;s=+p[0]}return!0}(n)||(t.opacityscale=void 0)}function m(l,t,o){t in l&&!(o in l)&&(l[o]=l[t])}ie.exports={supplyDefaults:function(l,t,o,r){var n,a;function s(b,M){return S.coerce(l,t,A,b,M)}var c=s("x"),p=s("y"),f=s("z");if(!f||!f.length||c&&c.length<1||p&&p.length<1)t.visible=!1;else{t._xlength=Array.isArray(c)&&S.isArrayOrTypedArray(c[0])?f.length:f[0].length,t._ylength=f.length,C.getComponentMethod("calendars","handleTraceDefaults")(l,t,["x","y","z"],r),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(b){s(b)});var w=s("surfacecolor"),v=["x","y","z"];for(n=0;n<3;++n){var h="contours."+v[n],_=s(h+".show"),x=s(h+".highlight");if(_||x)for(a=0;a<3;++a)s(h+".project."+v[a]);_&&(s(h+".color"),s(h+".width"),s(h+".usecolormap")),x&&(s(h+".highlightcolor"),s(h+".highlightwidth")),s(h+".start"),s(h+".end"),s(h+".size")}w||(m(l,"zmin","cmin"),m(l,"zmax","cmax"),m(l,"zauto","cauto")),u(l,t,r,s,{prefix:"",cLetter:"c"}),T(0,t,0,s),t._length=null}},opacityscaleDefaults:T}},93601:function(ie,B,e){"use strict";ie.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(ie,B,e){"use strict";var C=e(50215),S=e(1426).extendFlat,u=e(30962).overrideAll,A=e(41940),T=e(27670).Y,m=e(12663).descriptionOnlyNumbers;(ie.exports=u({domain:T({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:m("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:S({},C.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:S({},A({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:m("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:S({},C.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:S({},A({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(ie,B,e){"use strict";var C=e(27659).a0,S=e(36736),u="table";B.name=u,B.plot=function(A){var T=C(A.calcdata,u)[0];T.length&&S(A,T)},B.clean=function(A,T,m,l){var t=l._has&&l._has(u),o=T._has&&T._has(u);t&&!o&&l._paperdiv.selectAll(".table").remove()}},76333:function(ie,B,e){"use strict";var C=e(28984).wrap;ie.exports=function(){return C({})}},49850:function(ie){"use strict";ie.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(ie,B,e){"use strict";var C=e(49850),S=e(1426).extendFlat,u=e(92770);function A(n){if(Array.isArray(n)){for(var a=0,s=0;s<n.length;s++)a=Math.max(a,A(n[s]));return a}return n}function T(n,a){return n+a}function m(n){var a,s=n.slice(),c=1/0,p=0;for(a=0;a<s.length;a++)Array.isArray(s[a])||(s[a]=[s[a]]),c=Math.min(c,s[a].length),p=Math.max(p,s[a].length);if(c!==p)for(a=0;a<s.length;a++){var f=p-s[a].length;f&&(s[a]=s[a].concat(l(f)))}return s}function l(n){for(var a=new Array(n),s=0;s<n;s++)a[s]="";return a}function t(n){return n.calcdata.columns.reduce(function(a,s){return s.xIndex<n.xIndex?a+s.columnWidth:a},0)}function o(n,a){return Object.keys(n).map(function(s){return S({},n[s],{auxiliaryBlocks:a})})}function r(n,a){for(var s,c={},p=0,f=0,w={firstRowIndex:null,lastRowIndex:null,rows:[]},v=0,h=0,_=0;_<n.length;_++)w.rows.push({rowIndex:_,rowHeight:s=n[_]}),((f+=s)>=a||_===n.length-1)&&(c[p]=w,w.key=h++,w.firstRowIndex=v,w.lastRowIndex=_,w={firstRowIndex:null,lastRowIndex:null,rows:[]},p+=f,v=_+1,f=0);return c}ie.exports=function(n,a){var s=m(a.cells.values),c=function($){return $.slice(a.header.values.length,$.length)},p=m(a.header.values);p.length&&!p[0].length&&(p[0]=[""],p=m(p));var f=p.concat(c(s).map(function(){return l((p[0]||[""]).length)})),w=a.domain,v=Math.floor(n._fullLayout._size.w*(w.x[1]-w.x[0])),h=Math.floor(n._fullLayout._size.h*(w.y[1]-w.y[0])),_=a.header.values.length?f[0].map(function(){return a.header.height}):[C.emptyHeaderHeight],x=s.length?s[0].map(function(){return a.cells.height}):[],b=_.reduce(T,0),M=r(x,h-b+C.uplift),d=o(r(_,b),[]),E=o(M,d),k={},I=a._fullInput.columnorder.concat(c(s.map(function($,N){return N}))),L=f.map(function($,N){var W=Array.isArray(a.columnwidth)?a.columnwidth[Math.min(N,a.columnwidth.length-1)]:a.columnwidth;return u(W)?Number(W):1}),P=L.reduce(T,0);L=L.map(function($){return $/P*v});var R=Math.max(A(a.header.line.width),A(a.cells.line.width)),z={key:a.uid+n._context.staticPlot,translateX:w.x[0]*n._fullLayout._size.w,translateY:n._fullLayout._size.h*(1-w.y[1]),size:n._fullLayout._size,width:v,maxLineWidth:R,height:h,columnOrder:I,groupHeight:h,rowBlocks:E,headerRowBlocks:d,scrollY:0,cells:S({},a.cells,{values:s}),headerCells:S({},a.header,{values:f}),gdColumns:f.map(function($){return $[0]}),gdColumnsOriginalOrder:f.map(function($){return $[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:f.map(function($,N){return k[$]=(k[$]||0)+1,{key:$+"__"+k[$],label:$,specIndex:N,xIndex:I[N],xScale:t,x:void 0,calcdata:void 0,columnWidth:L[N]}})};return z.columns.forEach(function($){$.calcdata=z,$.x=t($)}),z}},56269:function(ie,B,e){"use strict";var C=e(1426).extendFlat;B.splitToPanels=function(S){var u=[0,0],A=C({},S,{key:"header",type:"header",page:0,prevPages:u,currentRepaint:[null,null],dragHandle:!0,values:S.calcdata.headerCells.values[S.specIndex],rowBlocks:S.calcdata.headerRowBlocks,calcdata:C({},S.calcdata,{cells:S.calcdata.headerCells})});return[C({},S,{key:"cells1",type:"cells",page:0,prevPages:u,currentRepaint:[null,null],dragHandle:!1,values:S.calcdata.cells.values[S.specIndex],rowBlocks:S.calcdata.rowBlocks}),C({},S,{key:"cells2",type:"cells",page:1,prevPages:u,currentRepaint:[null,null],dragHandle:!1,values:S.calcdata.cells.values[S.specIndex],rowBlocks:S.calcdata.rowBlocks}),A]},B.splitToCells=function(S){var A,T,m,u=[m=(T=(A=S).rowBlocks[A.page])?T.rows[0].rowIndex:0,T?m+T.rows.length:0];return(S.values||[]).slice(u[0],u[1]).map(function(A,T){return{keyWithinBlock:T+("string"==typeof A&&A.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:u[0]+T,column:S,calcdata:S.calcdata,page:S.page,rowBlocks:S.rowBlocks,value:A}})}},39754:function(ie,B,e){"use strict";var C=e(71828),S=e(44464),u=e(27670).c;ie.exports=function(A,T,m,l){function t(o,r){return C.coerce(A,T,S,o,r)}u(T,l,t),t("columnwidth"),t("header.values"),t("header.format"),t("header.align"),t("header.prefix"),t("header.suffix"),t("header.height"),t("header.line.width"),t("header.line.color"),t("header.fill.color"),C.coerceFont(t,"header.font",C.extendFlat({},l.font)),function(o,r){for(var a=o.header.values.length,s=(o.columnorder||[]).slice(0,a),c=s.slice().sort(function(w,v){return w-v}),p=s.map(function(w){return c.indexOf(w)}),f=p.length;f<a;f++)p.push(f);r("columnorder",p)}(T,t),t("cells.values"),t("cells.format"),t("cells.align"),t("cells.prefix"),t("cells.suffix"),t("cells.height"),t("cells.line.width"),t("cells.line.color"),t("cells.fill.color"),C.coerceFont(t,"cells.font",C.extendFlat({},l.font)),T._length=null}},96595:function(ie,B,e){"use strict";ie.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(ie,B,e){"use strict";var C=e(49850),S=e(39898),u=e(71828).numberFormat,A=e(28984),T=e(91424),m=e(63893),l=e(71828).raiseToTop,t=e(71828).strTranslate,o=e(71828).cancelTransition,r=e(51018),n=e(56269),a=e(7901);function s(Z){return Math.ceil(Z.calcdata.maxLineWidth/2)}function c(Z,Y){return"clip"+Z._fullLayout._uid+"_scrollAreaBottomClip_"+Y.key}function p(Z,Y){return"clip"+Z._fullLayout._uid+"_columnBoundaryClippath_"+Y.calcdata.key+"_"+Y.specIndex}function f(Z){return[].concat.apply([],Z.map(function(Y){return Y})).map(function(Y){return Y.__data__})}function w(Z,Y,ae){var re=Z.selectAll("."+C.cn.scrollbarKit).data(A.repeat,A.keyFun);re.enter().append("g").classed(C.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),re.each(function(ue){var me,fe=ue.scrollbarState;fe.totalHeight=N(me=ue.rowBlocks,me.length-1)+(me.length?W(me[me.length-1],1/0):1),fe.scrollableAreaHeight=ue.groupHeight-E(ue),fe.currentlyVisibleHeight=Math.min(fe.totalHeight,fe.scrollableAreaHeight),fe.ratio=fe.currentlyVisibleHeight/fe.totalHeight,fe.barLength=Math.max(fe.ratio*fe.currentlyVisibleHeight,C.goldenRatio*C.scrollbarWidth),fe.barWiggleRoom=fe.currentlyVisibleHeight-fe.barLength,fe.wiggleRoom=Math.max(0,fe.totalHeight-fe.scrollableAreaHeight),fe.topY=0===fe.barWiggleRoom?0:ue.scrollY/fe.wiggleRoom*fe.barWiggleRoom,fe.bottomY=fe.topY+fe.barLength,fe.dragMultiplier=fe.wiggleRoom/fe.barWiggleRoom}).attr("transform",function(ue){return t(ue.width+C.scrollbarWidth/2+C.scrollbarOffset,E(ue))});var Q=re.selectAll("."+C.cn.scrollbar).data(A.repeat,A.keyFun);Q.enter().append("g").classed(C.cn.scrollbar,!0);var K=Q.selectAll("."+C.cn.scrollbarSlider).data(A.repeat,A.keyFun);K.enter().append("g").classed(C.cn.scrollbarSlider,!0),K.attr("transform",function(ue){return t(0,ue.scrollbarState.topY||0)});var te=K.selectAll("."+C.cn.scrollbarGlyph).data(A.repeat,A.keyFun);te.enter().append("line").classed(C.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",C.scrollbarWidth).attr("stroke-linecap","round").attr("y1",C.scrollbarWidth/2),te.attr("y2",function(ue){return ue.scrollbarState.barLength-C.scrollbarWidth/2}).attr("stroke-opacity",function(ue){return ue.columnDragInProgress||!ue.scrollbarState.barWiggleRoom||ae?0:.4}),te.transition().delay(0).duration(0),te.transition().delay(C.scrollbarHideDelay).duration(C.scrollbarHideDuration).attr("stroke-opacity",0);var oe=Q.selectAll("."+C.cn.scrollbarCaptureZone).data(A.repeat,A.keyFun);oe.enter().append("line").classed(C.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",C.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ue){var fe=S.event.y,he=this.getBoundingClientRect(),me=ue.scrollbarState,ke=fe-he.top,Pe=S.scale.linear().domain([0,me.scrollableAreaHeight]).range([0,me.totalHeight]).clamp(!0);me.topY<=ke&&ke<=me.bottomY||I(Y,Z,null,Pe(ke-me.barLength/2))(ue)}).call(S.behavior.drag().origin(function(ue){return S.event.stopPropagation(),ue.scrollbarState.scrollbarScrollInProgress=!0,ue}).on("drag",I(Y,Z)).on("dragend",function(){})),oe.attr("y2",function(ue){return ue.scrollbarState.scrollableAreaHeight}),Y._context.staticPlot&&(te.remove(),oe.remove())}function v(Z,Y,ae,re){var he,K=function(fe){var he=fe.selectAll("."+C.cn.columnCell).data(n.splitToCells,function(me){return me.keyWithinBlock});return he.enter().append("g").classed(C.cn.columnCell,!0),he.exit().remove(),he}(((he=ae.selectAll("."+C.cn.columnCells).data(A.repeat,A.keyFun)).enter().append("g").classed(C.cn.columnCells,!0),he.exit().remove(),he));K.each(function(he,me){var ke=he.calcdata.cells.font,Pe=he.column.specIndex,Te={size:x(ke.size,Pe,me),color:x(ke.color,Pe,me),family:x(ke.family,Pe,me)};he.rowNumber=he.key,he.align=x(he.calcdata.cells.align,Pe,me),he.cellBorderWidth=x(he.calcdata.cells.line.width,Pe,me),he.font=Te});var te=function(fe){var he=fe.selectAll("."+C.cn.cellRect).data(A.repeat,function(me){return me.keyWithinBlock});return he.enter().append("rect").classed(C.cn.cellRect,!0),he}(K);!function(fe){fe.attr("width",function(he){return he.column.columnWidth}).attr("stroke-width",function(he){return he.cellBorderWidth}).each(function(he){var me=S.select(this);a.stroke(me,x(he.calcdata.cells.line.color,he.column.specIndex,he.rowNumber)),a.fill(me,x(he.calcdata.cells.fill.color,he.column.specIndex,he.rowNumber))})}(te);var oe=function(fe){var he=fe.selectAll("."+C.cn.cellTextHolder).data(A.repeat,function(me){return me.keyWithinBlock});return he.enter().append("g").classed(C.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),he}(K),ue=function(fe){var he=fe.selectAll("."+C.cn.cellText).data(A.repeat,function(me){return me.keyWithinBlock});return he.enter().append("text").classed(C.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){S.event.stopPropagation()}),he}(oe);(function(fe){fe.each(function(he){T.font(S.select(this),he.font)})})(ue),h(ue,Y,re,Z),$(K)}function h(Z,Y,ae,re){Z.text(function(Q){var K=Q.column.specIndex,te=Q.rowNumber,oe=Q.value,ue="string"==typeof oe,fe=ue&&oe.match(/<br>/i),he=!ue||fe;Q.mayHaveMarkup=ue&&oe.match(/[<&>]/);var me,ke="string"==typeof(me=oe)&&me.match(C.latexCheck);Q.latex=ke;var Pe,Te,be=ke?"":x(Q.calcdata.cells.prefix,K,te)||"",xe=ke?"":x(Q.calcdata.cells.suffix,K,te)||"",Ne=ke?null:x(Q.calcdata.cells.format,K,te)||null,Se=be+(Ne?u(Ne)(Q.value):Q.value)+xe;if(Q.wrappingNeeded=!Q.wrapped&&!he&&!ke&&(Pe=_(Se)),Q.cellHeightMayIncrease=fe||ke||Q.mayHaveMarkup||(void 0===Pe?_(Se):Pe),Q.needsConvertToTspans=Q.mayHaveMarkup||Q.wrappingNeeded||Q.latex,Q.wrappingNeeded){var Ce=(" "===C.wrapSplitCharacter?Se.replace(/<a href=/gi,"<a_href="):Se).split(C.wrapSplitCharacter),pe=" "===C.wrapSplitCharacter?Ce.map(function(de){return de.replace(/<a_href=/gi,"<a href=")}):Ce;Q.fragments=pe.map(function(de){return{text:de,width:null}}),Q.fragments.push({fragment:C.wrapSpacer,width:null}),Te=pe.join(C.lineBreaker)+C.lineBreaker+C.wrapSpacer}else delete Q.fragments,Te=Se;return Te}).attr("dy",function(Q){return Q.needsConvertToTspans?0:"0.75em"}).each(function(Q){var K=this,te=S.select(K);Q.needsConvertToTspans?m.convertToTspans(te,re,(Q.wrappingNeeded?P:R)(ae,K,Y,re,Q)):S.select(K.parentNode).attr("transform",function(ue){return t(z(ue),C.cellPad)}).attr("text-anchor",function(ue){return{left:"start",center:"middle",right:"end"}[ue.align]})})}function _(Z){return-1!==Z.indexOf(C.wrapSplitCharacter)}function x(Z,Y,ae){if(Array.isArray(Z)){var re=Z[Math.min(Y,Z.length-1)];return Array.isArray(re)?re[Math.min(ae,re.length-1)]:re}return Z}function b(Z,Y,ae){Z.transition().ease(C.releaseTransitionEase).duration(C.releaseTransitionDuration).attr("transform",t(Y.x,ae))}function M(Z){return"cells"===Z.type}function d(Z){return"header"===Z.type}function E(Z){return(Z.rowBlocks.length?Z.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(Y,ae){return Y+W(ae,1/0)},0)}function k(Z,Y,ae){var re=f(Y)[0];if(void 0!==re){var Q=re.rowBlocks,K=re.calcdata,te=N(Q,Q.length),oe=re.calcdata.groupHeight-E(re),ue=K.scrollY=Math.max(0,Math.min(te-oe,K.scrollY)),fe=function(he,me,ke){for(var Pe=[],Te=0,be=0;be<he.length;be++){for(var xe=he[be],Ne=xe.rows,Se=0,Ce=0;Ce<Ne.length;Ce++)Se+=Ne[Ce].rowHeight;xe.allRowsHeight=Se,me<Te+Se&&me+ke>Te&&Pe.push(be),Te+=Se}return Pe}(Q,ue,oe);1===fe.length&&(fe[0]===Q.length-1?fe.unshift(fe[0]-1):fe.push(fe[0]+1)),fe[0]%2&&fe.reverse(),Y.each(function(he,me){he.page=fe[me],he.scrollY=ue}),Y.attr("transform",function(he){var me=N(he.rowBlocks,he.page)-he.scrollY;return t(0,me)}),Z&&(L(Z,ae,Y,fe,re.prevPages,re,0),L(Z,ae,Y,fe,re.prevPages,re,1),w(ae,Z))}}function I(Z,Y,ae,re){return function(Q){var K=Q.calcdata?Q.calcdata:Q,te=Y.filter(function(he){return K.key===he.key}),ue=K.scrollY;K.scrollY=void 0===re?K.scrollY+(ae||K.scrollbarState.dragMultiplier)*S.event.dy:re;var fe=te.selectAll("."+C.cn.yColumn).selectAll("."+C.cn.columnBlock).filter(M);return k(Z,fe,te),K.scrollY===ue}}function L(Z,Y,ae,re,Q,K,te){re[te]!==Q[te]&&(clearTimeout(K.currentRepaint[te]),K.currentRepaint[te]=setTimeout(function(){var oe=ae.filter(function(ue,fe){return fe===te&&re[fe]!==Q[fe]});v(Z,Y,oe,ae),Q[te]=re[te]}))}function P(Z,Y,ae,re){return function(){var Q=S.select(Y.parentNode);Q.each(function(K){var te=K.fragments;Q.selectAll("tspan.line").each(function(Te,be){te[be].width=this.getComputedTextLength()});var oe,ue,fe=te[te.length-1].width,he=te.slice(0,-1),me=[],ke=0,Pe=K.column.columnWidth-2*C.cellPad;for(K.value="";he.length;)ke+(ue=(oe=he.shift()).width+fe)>Pe&&(K.value+=me.join(C.wrapSpacer)+C.lineBreaker,me=[],ke=0),me.push(oe.text),ke+=ue;ke&&(K.value+=me.join(C.wrapSpacer)),K.wrapped=!0}),Q.selectAll("tspan.line").remove(),h(Q.select("."+C.cn.cellText),ae,Z,re),S.select(Y.parentNode.parentNode).call($)}}function R(Z,Y,ae,re,Q){return function(){if(!Q.settledY){var K=S.select(Y.parentNode),te=U(Q),oe=Q.key-te.firstRowIndex,ue=te.rows[oe].rowHeight,fe=Q.cellHeightMayIncrease?Y.parentNode.getBoundingClientRect().height+2*C.cellPad:ue,he=Math.max(fe,ue);he-te.rows[oe].rowHeight&&(te.rows[oe].rowHeight=he,Z.selectAll("."+C.cn.columnCell).call($),k(null,Z.filter(M),0),w(ae,re,!0)),K.attr("transform",function(){var ke=this.parentNode.getBoundingClientRect(),Pe=S.select(this.parentNode).select("."+C.cn.cellRect).node().getBoundingClientRect(),Te=this.transform.baseVal.consolidate(),be=Pe.top-ke.top+(Te?Te.matrix.f:C.cellPad);return t(z(Q,S.select(this.parentNode).select("."+C.cn.cellTextHolder).node().getBoundingClientRect().width),be)}),Q.settledY=!0}}}function z(Z,Y){switch(Z.align){case"left":default:return C.cellPad;case"right":return Z.column.columnWidth-(Y||0)-C.cellPad;case"center":return(Z.column.columnWidth-(Y||0))/2}}function $(Z){Z.attr("transform",function(Y){var ae=Y.rowBlocks[0].auxiliaryBlocks.reduce(function(Q,K){return Q+W(K,1/0)},0),re=W(U(Y),Y.key);return t(0,re+ae)}).selectAll("."+C.cn.cellRect).attr("height",function(Y){return(ae=U(Y),re=Y.key,ae.rows[re-ae.firstRowIndex]).rowHeight;var ae,re})}function N(Z,Y){for(var ae=0,re=Y-1;re>=0;re--)ae+=H(Z[re]);return ae}function W(Z,Y){for(var ae=0,re=0;re<Z.rows.length&&Z.rows[re].rowIndex<Y;re++)ae+=Z.rows[re].rowHeight;return ae}function H(Z){var Y=Z.allRowsHeight;if(void 0!==Y)return Y;for(var ae=0,re=0;re<Z.rows.length;re++)ae+=Z.rows[re].rowHeight;return Z.allRowsHeight=ae,ae}function U(Z){return Z.rowBlocks[Z.page]}ie.exports=function(Z,Y){var ae=!Z._context.staticPlot,re=Z._fullLayout._paper.selectAll("."+C.cn.table).data(Y.map(function(xe){var Ne=A.unwrap(xe).trace;return r(Z,Ne)}),A.keyFun);re.exit().remove(),re.enter().append("g").classed(C.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),re.attr("width",function(xe){return xe.width+xe.size.l+xe.size.r}).attr("height",function(xe){return xe.height+xe.size.t+xe.size.b}).attr("transform",function(xe){return t(xe.translateX,xe.translateY)});var Q=re.selectAll("."+C.cn.tableControlView).data(A.repeat,A.keyFun),K=Q.enter().append("g").classed(C.cn.tableControlView,!0).style("box-sizing","content-box");if(ae){var te="onwheel"in document?"wheel":"mousewheel";K.on("mousemove",function(xe){Q.filter(function(Ne){return xe===Ne}).call(w,Z)}).on(te,function(xe){xe.scrollbarState.wheeling||(xe.scrollbarState.wheeling=!0,I(Z,Q,null,xe.scrollY+S.event.deltaY)(xe)||(S.event.stopPropagation(),S.event.preventDefault()),xe.scrollbarState.wheeling=!1)}).call(w,Z,!0)}Q.attr("transform",function(xe){return t(xe.size.l,xe.size.t)});var oe=Q.selectAll("."+C.cn.scrollBackground).data(A.repeat,A.keyFun);oe.enter().append("rect").classed(C.cn.scrollBackground,!0).attr("fill","none"),oe.attr("width",function(xe){return xe.width}).attr("height",function(xe){return xe.height}),Q.each(function(xe){T.setClipUrl(S.select(this),c(Z,xe),Z)});var ue=Q.selectAll("."+C.cn.yColumn).data(function(xe){return xe.columns},A.keyFun);ue.enter().append("g").classed(C.cn.yColumn,!0),ue.exit().remove(),ue.attr("transform",function(xe){return t(xe.x,0)}),ae&&ue.call(S.behavior.drag().origin(function(xe){return b(S.select(this),xe,-C.uplift),l(this),xe.calcdata.columnDragInProgress=!0,w(Q.filter(function(Ne){return xe.calcdata.key===Ne.key}),Z),xe}).on("drag",function(xe){var Ne=S.select(this),Se=function(Ce){return(xe===Ce?S.event.x:Ce.x)+Ce.columnWidth/2};xe.x=Math.max(-C.overdrag,Math.min(xe.calcdata.width+C.overdrag-xe.columnWidth,S.event.x)),f(ue).filter(function(Ce){return Ce.calcdata.key===xe.calcdata.key}).sort(function(Ce,pe){return Se(Ce)-Se(pe)}).forEach(function(Ce,pe){Ce.xIndex=pe,Ce.x=xe===Ce?Ce.x:Ce.xScale(Ce)}),ue.filter(function(Ce){return xe!==Ce}).transition().ease(C.transitionEase).duration(C.transitionDuration).attr("transform",function(Ce){return t(Ce.x,0)}),Ne.call(o).attr("transform",t(xe.x,-C.uplift))}).on("dragend",function(xe){var Ce,pe,de,se,Ne=S.select(this),Se=xe.calcdata;xe.x=xe.xScale(xe),xe.calcdata.columnDragInProgress=!1,b(Ne,xe,0),Ce=Z,pe=Se,de=Se.columns.map(function(Ce){return Ce.xIndex}),se=pe.gdColumnsOriginalOrder,pe.gdColumns.sort(function(we,Re){return de[se.indexOf(we)]-de[se.indexOf(Re)]}),pe.columnorder=de,Ce.emit("plotly_restyle")})),ue.each(function(xe){T.setClipUrl(S.select(this),p(Z,xe),Z)});var fe=ue.selectAll("."+C.cn.columnBlock).data(n.splitToPanels,A.keyFun);fe.enter().append("g").classed(C.cn.columnBlock,!0).attr("id",function(xe){return xe.key}),fe.style("cursor",function(xe){return xe.dragHandle?"ew-resize":xe.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var he=fe.filter(d),me=fe.filter(M);ae&&me.call(S.behavior.drag().origin(function(xe){return S.event.stopPropagation(),xe}).on("drag",I(Z,Q,-1)).on("dragend",function(){})),v(Z,Q,he,fe),v(Z,Q,me,fe);var ke=Q.selectAll("."+C.cn.scrollAreaClip).data(A.repeat,A.keyFun);ke.enter().append("clipPath").classed(C.cn.scrollAreaClip,!0).attr("id",function(xe){return c(Z,xe)});var Pe=ke.selectAll("."+C.cn.scrollAreaClipRect).data(A.repeat,A.keyFun);Pe.enter().append("rect").classed(C.cn.scrollAreaClipRect,!0).attr("x",-C.overdrag).attr("y",-C.uplift).attr("fill","none"),Pe.attr("width",function(xe){return xe.width+2*C.overdrag}).attr("height",function(xe){return xe.height+C.uplift}),ue.selectAll("."+C.cn.columnBoundary).data(A.repeat,A.keyFun).enter().append("g").classed(C.cn.columnBoundary,!0);var Te=ue.selectAll("."+C.cn.columnBoundaryClippath).data(A.repeat,A.keyFun);Te.enter().append("clipPath").classed(C.cn.columnBoundaryClippath,!0),Te.attr("id",function(xe){return p(Z,xe)});var be=Te.selectAll("."+C.cn.columnBoundaryRect).data(A.repeat,A.keyFun);be.enter().append("rect").classed(C.cn.columnBoundaryRect,!0).attr("fill","none"),be.attr("width",function(xe){return xe.columnWidth+2*s(xe)}).attr("height",function(xe){return xe.calcdata.height+2*s(xe)+C.uplift}).attr("x",function(xe){return-s(xe)}).attr("y",function(xe){return-s(xe)}),k(null,me,Q)}},45802:function(ie,B,e){"use strict";var C=e(5386).fF,S=e(5386).si,u=e(50693),A=e(27670).Y,T=e(34e3),m=e(57564),l=e(43473),t=e(1426).extendFlat,o=e(79952).u;ie.exports={labels:m.labels,parents:m.parents,values:m.values,branchvalues:m.branchvalues,count:m.count,level:m.level,maxdepth:m.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:m.marker.colors,pattern:o,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:m.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},u("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},T.textfont,{}),editType:"calc"},text:T.text,textinfo:m.textinfo,texttemplate:S({editType:"plot"},{keys:l.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:m.hoverinfo,hovertemplate:C({},{keys:l.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:t({},T.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:T.sort,root:m.root,domain:A({name:"treemap",trace:!0,editType:"calc"})}},78018:function(ie,B,e){"use strict";var C=e(74875);B.name="treemap",B.plot=function(S,u,A,T){C.plotBasePlot(B.name,S,u,A,T)},B.clean=function(S,u,A,T){C.cleanBasePlot(B.name,S,u,A,T)}},65039:function(ie,B,e){"use strict";var C=e(52147);B.y=function(S,u){return C.calc(S,u)},B.T=function(S){return C._runCrossTraceCalc("treemap",S)}},43473:function(ie){"use strict";ie.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(ie,B,e){"use strict";var C=e(71828),S=e(45802),u=e(7901),A=e(27670).c,T=e(90769).handleText,m=e(97313).TEXTPAD,l=e(37434).handleMarkerDefaults,t=e(21081),o=t.hasColorscale,r=t.handleDefaults;ie.exports=function(n,a,s,c){function p(M,d){return C.coerce(n,a,S,M,d)}var f=p("labels"),w=p("parents");if(f&&f.length&&w&&w.length){var v=p("values");p(v&&v.length?"branchvalues":"count"),p("level"),p("maxdepth"),"squarify"===p("tiling.packing")&&p("tiling.squarifyratio"),p("tiling.flip"),p("tiling.pad");var h=p("text");p("texttemplate"),a.texttemplate||p("textinfo",Array.isArray(h)?"text+label":"label"),p("hovertext"),p("hovertemplate");var _=p("pathbar.visible");T(n,a,c,p,"auto",{hasPathbar:_,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),p("textposition");var x=-1!==a.textposition.indexOf("bottom");l(n,a,c,p),(a._hasColorscale=o(n,"marker","colors")||(n.marker||{}).coloraxis)?r(n,a,c,p,{prefix:"marker.",cLetter:"c"}):p("marker.depthfade",!(a.marker.colors||[]).length);var b=2*a.textfont.size;p("marker.pad.t",x?b/4:b),p("marker.pad.l",b/4),p("marker.pad.r",b/4),p("marker.pad.b",x?b:b/4),p("marker.cornerradius"),a._hovered={marker:{line:{width:2,color:u.contrast(c.paper_bgcolor)}}},_&&(p("pathbar.thickness",a.pathbar.textfont.size+2*m),p("pathbar.side"),p("pathbar.edgeshape")),p("sort"),p("root.color"),A(a,c,p),a._length=null}else a.visible=!1}},80694:function(ie,B,e){"use strict";var C=e(39898),S=e(2791),u=e(72597).clearMinTextSize,A=e(16688).resizeText,T=e(46650);ie.exports=function(m,l,t,o,r){var n,a,s=r.type,c=r.drawDescendants,p=m._fullLayout,f=p["_"+s+"layer"],w=!t;u(s,p),(n=f.selectAll("g.trace."+s).data(l,function(v){return v[0].trace.uid})).enter().append("g").classed("trace",!0).classed(s,!0),n.order(),!p.uniformtext.mode&&S.hasTransition(t)?(o&&(a=o()),C.transition().duration(t.duration).ease(t.easing).each("end",function(){a&&a()}).each("interrupt",function(){a&&a()}).each(function(){f.selectAll("g.trace").each(function(v){T(m,v,this,t,c)})})):(n.each(function(v){T(m,v,this,t,c)}),p.uniformtext.mode&&A(m,f.selectAll(".trace"),s)),w&&n.exit().remove()}},66209:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(91424),A=e(63893),T=e(37210),m=e(96362).styleOne,l=e(43473),t=e(2791),o=e(83523),r=!0;ie.exports=function(n,a,s,c,p){var f=p.barDifY,w=p.width,v=p.height,h=p.viewX,_=p.viewY,x=p.pathSlice,b=p.toMoveInsideSlice,M=p.strTransform,d=p.hasTransition,E=p.handleSlicesExit,k=p.makeUpdateSliceInterpolator,I=p.makeUpdateTextInterpolator,L={},P=n._context.staticPlot,R=n._fullLayout,z=a[0],$=z.trace,N=z.hierarchy,W=w/$._entryDepth,H=t.listPath(s.data,"id"),U=T(N.copy(),[w,v],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(U=U.filter(function(Y){var ae=H.indexOf(Y.data.id);return-1!==ae&&(Y.x0=W*ae,Y.x1=W*(ae+1),Y.y0=f,Y.y1=f+v,Y.onPathbar=!0,!0)})).reverse(),(c=c.data(U,t.getPtId)).enter().append("g").classed("pathbar",!0),E(c,r,L,[w,v],x),c.order();var Z=c;d&&(Z=Z.transition().each("end",function(){var Y=C.select(this);t.setSliceCursor(Y,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function(Y){Y._x0=h(Y.x0),Y._x1=h(Y.x1),Y._y0=_(Y.y0),Y._y1=_(Y.y1),Y._hoverX=h(Y.x1-Math.min(w,v)/2),Y._hoverY=_(Y.y1-v/2);var ae=C.select(this),re=S.ensureSingle(ae,"path","surface",function(oe){oe.style("pointer-events",P?"none":"all")});d?re.transition().attrTween("d",function(oe){var ue=k(oe,r,L,[w,v]);return function(fe){return x(ue(fe))}}):re.attr("d",x),ae.call(o,s,n,a,{styleOne:m,eventDataKeys:l.eventDataKeys,transitionTime:l.CLICK_TRANSITION_TIME,transitionEasing:l.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:n._transitioning}),re.call(m,Y,$,n,{hovered:!1}),Y._text=(t.getPtLabel(Y)||"").split("<br>").join(" ")||"";var Q=S.ensureSingle(ae,"g","slicetext"),K=S.ensureSingle(Q,"text","",function(oe){oe.attr("data-notex",1)}),te=S.ensureUniformFontSize(n,t.determineTextFont($,Y,R.font,{onPathbar:!0}));K.text(Y._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(u.font,te).call(A.convertToTspans,n),Y.textBB=u.bBox(K.node()),Y.transform=b(Y,{fontSize:te.size,onPathbar:!0}),Y.transform.fontSize=te.size,d?K.transition().attrTween("transform",function(oe){var ue=I(oe,r,L,[w,v]);return function(fe){return M(ue(fe))}}):K.attr("transform",M(Y))})}},52583:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(91424),A=e(63893),T=e(37210),m=e(96362).styleOne,l=e(43473),t=e(2791),o=e(83523),r=e(24714).formatSliceLabel,n=!1;ie.exports=function(a,s,c,p,f){var w=f.width,v=f.height,h=f.viewX,_=f.viewY,x=f.pathSlice,b=f.toMoveInsideSlice,M=f.strTransform,d=f.hasTransition,E=f.handleSlicesExit,k=f.makeUpdateSliceInterpolator,I=f.makeUpdateTextInterpolator,L=f.prevEntry,P=a._context.staticPlot,R=a._fullLayout,z=s[0].trace,$=-1!==z.textposition.indexOf("left"),N=-1!==z.textposition.indexOf("right"),W=-1!==z.textposition.indexOf("bottom"),H=!W&&!z.marker.pad.t||W&&!z.marker.pad.b,U=T(c,[w,v],{packing:z.tiling.packing,squarifyratio:z.tiling.squarifyratio,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,pad:{inner:z.tiling.pad,top:z.marker.pad.t,left:z.marker.pad.l,right:z.marker.pad.r,bottom:z.marker.pad.b}}).descendants(),Z=1/0,Y=-1/0;U.forEach(function(te){var oe=te.depth;oe>=z._maxDepth?(te.x0=te.x1=(te.x0+te.x1)/2,te.y0=te.y1=(te.y0+te.y1)/2):(Z=Math.min(Z,oe),Y=Math.max(Y,oe))}),p=p.data(U,t.getPtId),z._maxVisibleLayers=isFinite(Y)?Y-Z+1:0,p.enter().append("g").classed("slice",!0),E(p,n,{},[w,v],x),p.order();var ae=null;if(d&&L){var re=t.getPtId(L);p.each(function(te){null===ae&&t.getPtId(te)===re&&(ae={x0:te.x0,x1:te.x1,y0:te.y0,y1:te.y1})})}var Q=function(){return ae||{x0:0,x1:w,y0:0,y1:v}},K=p;return d&&(K=K.transition().each("end",function(){var te=C.select(this);t.setSliceCursor(te,a,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),K.each(function(te){var oe=t.isHeader(te,z);te._x0=h(te.x0),te._x1=h(te.x1),te._y0=_(te.y0),te._y1=_(te.y1),te._hoverX=h(te.x1-z.marker.pad.r),te._hoverY=_(W?te.y1-z.marker.pad.b/2:te.y0+z.marker.pad.t/2);var ue=C.select(this),fe=S.ensureSingle(ue,"path","surface",function(Pe){Pe.style("pointer-events",P?"none":"all")});d?fe.transition().attrTween("d",function(Pe){var Te=k(Pe,n,Q(),[w,v]);return function(be){return x(Te(be))}}):fe.attr("d",x),ue.call(o,c,a,s,{styleOne:m,eventDataKeys:l.eventDataKeys,transitionTime:l.CLICK_TRANSITION_TIME,transitionEasing:l.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,a,{isTransitioning:a._transitioning}),fe.call(m,te,z,a,{hovered:!1}),te._text=te.x0===te.x1||te.y0===te.y1?"":oe?H?"":t.getPtLabel(te)||"":r(te,c,z,s,R)||"";var he=S.ensureSingle(ue,"g","slicetext"),me=S.ensureSingle(he,"text","",function(Pe){Pe.attr("data-notex",1)}),ke=S.ensureUniformFontSize(a,t.determineTextFont(z,te,R.font));me.text(te._text||" ").classed("slicetext",!0).attr("text-anchor",N?"end":$||oe?"start":"middle").call(u.font,ke).call(A.convertToTspans,a),te.textBB=u.bBox(me.node()),te.transform=b(te,{fontSize:ke.size,isHeader:oe}),te.transform.fontSize=ke.size,d?me.transition().attrTween("transform",function(Pe){var Te=I(Pe,n,Q(),[w,v]);return function(be){return M(Te(be))}}):me.attr("transform",M(te))}),ae}},14102:function(ie){"use strict";ie.exports=function B(e,C,S){var u;S.swapXY&&(u=e.x0,e.x0=e.y0,e.y0=u,u=e.x1,e.x1=e.y1,e.y1=u),S.flipX&&(u=e.x0,e.x0=C[0]-e.x1,e.x1=C[0]-u),S.flipY&&(u=e.y0,e.y0=C[1]-e.y1,e.y1=C[1]-u);var A=e.children;if(A)for(var T=0;T<A.length;T++)B(A[T],C,S)}},70954:function(ie,B,e){"use strict";ie.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(ie){"use strict";ie.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(ie,B,e){"use strict";var C=e(71828),S=e(55479);ie.exports=function(u,A){function T(m,l){return C.coerce(u,A,S,m,l)}T("treemapcolorway",A.colorway),T("extendtreemapcolors")}},37210:function(ie,B,e){"use strict";var C=e(674),S=e(14102);ie.exports=function(u,A,T){var m,l=T.flipX,t=T.flipY,o="dice-slice"===T.packing,r=T.pad[t?"bottom":"top"],n=T.pad[l?"right":"left"],a=T.pad[l?"left":"right"],s=T.pad[t?"top":"bottom"];o&&(m=n,n=r,r=m,m=a,a=s,s=m);var c=C.treemap().tile(function(p,f){switch(p){case"squarify":return C.treemapSquarify.ratio(f);case"binary":return C.treemapBinary;case"dice":return C.treemapDice;case"slice":return C.treemapSlice;default:return C.treemapSliceDice}}(T.packing,T.squarifyratio)).paddingInner(T.pad.inner).paddingLeft(n).paddingRight(a).paddingTop(r).paddingBottom(s).size(o?[A[1],A[0]]:A)(u);return(o||l||t)&&S(c,A,{swapXY:o,flipX:l,flipY:t}),c}},5893:function(ie,B,e){"use strict";var C=e(80694),S=e(52583);ie.exports=function(u,A,T,m){return C(u,A,T,m,{type:"treemap",drawDescendants:S})}},46650:function(ie,B,e){"use strict";var C=e(39898),S=e(81684).sX,u=e(2791),A=e(71828),T=e(97313).TEXTPAD,m=e(17295).toMoveInsideBar,l=e(72597).recordMinTextSize,t=e(43473),o=e(66209);function r(n){return u.isHierarchyRoot(n)?"":u.getPtId(n)}ie.exports=function(n,a,s,c,p){var f=n._fullLayout,w=a[0],v=w.trace,h="icicle"===v.type,_=w.hierarchy,x=u.findEntryWithLevel(_,v.level),b=C.select(s),M=b.selectAll("g.pathbar"),d=b.selectAll("g.slice");if(!x)return M.remove(),void d.remove();var E=u.isHierarchyRoot(x),k=!f.uniformtext.mode&&u.hasTransition(c),I=u.getMaxDepth(v),L=f._size,P=v.domain,R=L.w*(P.x[1]-P.x[0]),z=L.h*(P.y[1]-P.y[0]),$=R,N=v.pathbar.thickness,W=v.marker.line.width+t.gapWithPathbar,H=v.pathbar.visible?v.pathbar.side.indexOf("bottom")>-1?z+W:-(N+W):0,U={x0:$,x1:$,y0:H,y1:H+N},Z=function(De,ze,Ge){var He=v.tiling.pad,Ke=function(at){return at-He<=ze.x0},et=function(at){return at+He>=ze.x1},st=function(at){return at-He<=ze.y0},mt=function(at){return at+He>=ze.y1};return De.x0===ze.x0&&De.x1===ze.x1&&De.y0===ze.y0&&De.y1===ze.y1?{x0:De.x0,x1:De.x1,y0:De.y0,y1:De.y1}:{x0:Ke(De.x0-He)?0:et(De.x0-He)?Ge[0]:De.x0,x1:Ke(De.x1+He)?0:et(De.x1+He)?Ge[0]:De.x1,y0:st(De.y0-He)?0:mt(De.y0-He)?Ge[1]:De.y0,y1:st(De.y1+He)?0:mt(De.y1+He)?Ge[1]:De.y1}},Y=null,ae={},re={},Q=null,K=function(De,ze){return ze?ae[r(De)]:re[r(De)]};w.hasMultipleRoots&&E&&I++,v._maxDepth=I,v._backgroundColor=f.paper_bgcolor,v._entryDepth=x.data.depth,v._atRootLevel=E;var te=-R/2+L.l+L.w*(P.x[1]+P.x[0])/2,oe=-z/2+L.t+L.h*(1-(P.y[1]+P.y[0])/2),ue=function(De){return te+De},fe=function(De){return oe+De},he=fe(0),me=ue(0),ke=function(De){return me+De},Pe=function(De){return he+De};function Te(De,ze){return De+","+ze}var be=ke(0),xe=function(De){De.x=Math.max(be,De.x)},Ne=v.pathbar.edgeshape,Se=v[h?"tiling":"marker"].pad,Ce=function(De){return-1!==v.textposition.indexOf(De)},pe=Ce("top"),de=Ce("left"),se=Ce("right"),we=Ce("bottom"),Re=function(De,ze){var Ge=De.x0,He=De.x1,Ke=De.y0,et=De.y1,st=De.textBB,mt=pe||ze.isHeader&&!we?"start":we?"end":"middle",at=Ce("right"),kt=Ce("left")||ze.onPathbar?-1:at?1:0;if(ze.isHeader){if((Ge+=(h?Se:Se.l)-T)>=(He-=(h?Se:Se.r)-T)){var St=(Ge+He)/2;Ge=St,He=St}var gt;we?Ke<(gt=et-(h?Se:Se.b))&&gt<et&&(Ke=gt):Ke<(gt=Ke+(h?Se:Se.t))&&gt<et&&(et=gt)}var dt=m(Ge,He,Ke,et,st,{isHorizontal:!1,constrained:!0,angle:0,anchor:mt,leftToRight:kt});return dt.fontSize=ze.fontSize,dt.targetX=ue(dt.targetX),dt.targetY=fe(dt.targetY),isNaN(dt.targetX)||isNaN(dt.targetY)?{}:(Ge!==He&&Ke!==et&&l(v.type,dt,f),{scale:dt.scale,rotate:dt.rotate,textX:dt.textX,textY:dt.textY,anchorX:dt.anchorX,anchorY:dt.anchorY,targetX:dt.targetX,targetY:dt.targetY})},Ee=function(De,ze){for(var Ge,He=0,Ke=De;!Ge&&He<I;)He++,(Ke=Ke.parent)?Ge=K(Ke,ze):He=I;return Ge||{}},Ue=function(De,ze,Ge,He,Ke){var et,st=K(De,ze);if(st)et=st;else if(ze)et=U;else if(Y)if(De.parent){var mt=Q||Ge;mt&&!ze?et=Z(De,mt,He):A.extendFlat(et={},Ee(De,ze))}else et=A.extendFlat({},De),h&&("h"===Ke.orientation?Ke.flipX?et.x0=De.x1:et.x1=0:Ke.flipY?et.y0=De.y1:et.y1=0);else et={};return S(et,{x0:De.x0,x1:De.x1,y0:De.y0,y1:De.y1})},$e=function(De,ze,Ge,He){var at,St,gt,Ke=K(De,ze),et={},st=(at=De,St=Ge,gt=He,ze?ae[r(_)]||U:at.data.depth-x.data.depth<I?Z(at,re[v.level]||St,gt):{});A.extendFlat(et,{transform:Re({x0:st.x0,x1:st.x1,y0:st.y0,y1:st.y1,textBB:De.textBB,_text:De._text},{isHeader:u.isHeader(De,v)})}),Ke?et=Ke:De.parent&&A.extendFlat(et,Ee(De,ze));var mt=De.transform;return De.x0!==De.x1&&De.y0!==De.y1&&l(v.type,mt,f),S(et,{transform:{scale:mt.scale,rotate:mt.rotate,textX:mt.textX,textY:mt.textY,anchorX:mt.anchorX,anchorY:mt.anchorY,targetX:mt.targetX,targetY:mt.targetY}})},ve=function(De,ze,Ge,He,Ke){var et=He[0],st=He[1];k?De.exit().transition().each(function(){var mt=C.select(this);mt.select("path.surface").transition().attrTween("d",function(at){var kt=function(St,gt,dt,Ct){var Ot,Pt=K(St,gt);if(gt)Ot=U;else{var Ht=K(x,gt);Ot=Ht?Z(St,Ht,Ct):{}}return S(Pt,Ot)}(at,ze,0,[et,st]);return function(St){return Ke(kt(St))}}),mt.select("g.slicetext").attr("opacity",0)}).remove():De.exit().remove()},Ie=function(De){var ze=De.transform;return De.x0!==De.x1&&De.y0!==De.y1&&l(v.type,ze,f),A.getTextTransform({textX:ze.textX,textY:ze.textY,anchorX:ze.anchorX,anchorY:ze.anchorY,targetX:ze.targetX,targetY:ze.targetY,scale:ze.scale,rotate:ze.rotate})};k&&(M.each(function(De){ae[r(De)]={x0:De.x0,x1:De.x1,y0:De.y0,y1:De.y1},De.transform&&(ae[r(De)].transform={textX:De.transform.textX,textY:De.transform.textY,anchorX:De.transform.anchorX,anchorY:De.transform.anchorY,targetX:De.transform.targetX,targetY:De.transform.targetY,scale:De.transform.scale,rotate:De.transform.rotate})}),d.each(function(De){re[r(De)]={x0:De.x0,x1:De.x1,y0:De.y0,y1:De.y1},De.transform&&(re[r(De)].transform={textX:De.transform.textX,textY:De.transform.textY,anchorX:De.transform.anchorX,anchorY:De.transform.anchorY,targetX:De.transform.targetX,targetY:De.transform.targetY,scale:De.transform.scale,rotate:De.transform.rotate}),!Y&&u.isEntry(De)&&(Y=De)})),Q=p(n,a,x,d,{width:R,height:z,viewX:ue,viewY:fe,pathSlice:function(De){var ze=ue(De.x0),Ge=ue(De.x1),He=fe(De.y0),Ke=fe(De.y1),et=Ge-ze,st=Ke-He;if(!et||!st)return"";var at=Math.min(v.marker.cornerradius||0,et/2,st/2);at&&De.data&&De.data.data&&De.data.data.label&&(pe&&(at=Math.min(at,Se.t)),de&&(at=Math.min(at,Se.l)),se&&(at=Math.min(at,Se.r)),we&&(at=Math.min(at,Se.b)));var kt=function(St,gt){return at?"a"+Te(at,at)+" 0 0 1 "+Te(St,gt):""};return"M"+Te(ze,He+at)+kt(at,-at)+"L"+Te(Ge-at,He)+kt(at,at)+"L"+Te(Ge,Ke-at)+kt(-at,at)+"L"+Te(ze+at,Ke)+kt(-at,-at)+"Z"},toMoveInsideSlice:Re,prevEntry:Y,makeUpdateSliceInterpolator:Ue,makeUpdateTextInterpolator:$e,handleSlicesExit:ve,hasTransition:k,strTransform:Ie}),v.pathbar.visible?o(n,a,x,M,{barDifY:H,width:$,height:N,viewX:ke,viewY:Pe,pathSlice:function(De){var ze=ke(Math.max(Math.min(De.x0,De.x0),0)),Ge=ke(Math.min(Math.max(De.x1,De.x1),$)),He=Pe(De.y0),Ke=Pe(De.y1),et=N/2,st={},mt={};st.x=ze,mt.x=Ge,st.y=mt.y=(He+Ke)/2;var at={x:ze,y:He},kt={x:Ge,y:He},St={x:Ge,y:Ke},gt={x:ze,y:Ke};return">"===Ne?(at.x-=et,kt.x-=et,St.x-=et,gt.x-=et):"/"===Ne?(St.x-=et,gt.x-=et,st.x-=et/2,mt.x-=et/2):"\\"===Ne?(at.x-=et,kt.x-=et,st.x-=et/2,mt.x-=et/2):"<"===Ne&&(st.x-=et,mt.x-=et),xe(at),xe(gt),xe(st),xe(kt),xe(St),xe(mt),"M"+Te(at.x,at.y)+"L"+Te(kt.x,kt.y)+"L"+Te(mt.x,mt.y)+"L"+Te(St.x,St.y)+"L"+Te(gt.x,gt.y)+"L"+Te(st.x,st.y)+"Z"},toMoveInsideSlice:Re,makeUpdateSliceInterpolator:Ue,makeUpdateTextInterpolator:$e,handleSlicesExit:ve,hasTransition:k,strTransform:Ie}):M.remove()}},96362:function(ie,B,e){"use strict";var C=e(39898),S=e(7901),u=e(71828),A=e(2791),T=e(72597).resizeText,m=e(43467);function l(t,o,r,n,a){var s,c,p=(a||{}).hovered,f=o.data.data,w=f.i,v=f.color,h=A.isHierarchyRoot(o),_=1;if(p)s=r._hovered.marker.line.color,c=r._hovered.marker.line.width;else if(h&&v===r.root.color)_=100,s="rgba(0,0,0,0)",c=0;else if(s=u.castOption(r,w,"marker.line.color")||S.defaultLine,c=u.castOption(r,w,"marker.line.width")||0,!r._hasColorscale&&!o.onPathbar){var x=r.marker.depthfade;if(x){var b,M=S.combine(S.addOpacity(r._backgroundColor,.75),v);if(!0===x){var d=A.getMaxDepth(r);b=isFinite(d)?A.isLeaf(o)?0:r._maxVisibleLayers-(o.data.depth-r._entryDepth):o.data.height+1}else b=o.data.depth-r._entryDepth,r._atRootLevel||b++;if(b>0)for(var E=0;E<b;E++)v=S.combine(S.addOpacity(M,.5*E/b),v)}}t.call(m,o,r,n,v).style("stroke-width",c).call(S.stroke,s).style("opacity",_)}ie.exports={style:function(t){var o=t._fullLayout._treemaplayer.selectAll(".trace");T(t,o,"treemap"),o.each(function(r){var n=C.select(this),a=r[0].trace;n.style("opacity",a.opacity),n.selectAll("path.surface").each(function(s){C.select(this).call(l,s,a,t,{hovered:!1})})})},styleOne:l}},68875:function(ie,B,e){"use strict";var C=e(53522),S=e(1426).extendFlat,u=e(12663).axisHoverFormat;ie.exports={y:C.y,x:C.x,x0:C.x0,y0:C.y0,xhoverformat:u("x"),yhoverformat:u("y"),name:S({},C.name,{}),orientation:S({},C.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:C.fillcolor,points:S({},C.boxpoints,{}),jitter:S({},C.jitter,{}),pointpos:S({},C.pointpos,{}),width:S({},C.width,{}),marker:C.marker,text:C.text,hovertext:C.hovertext,hovertemplate:C.hovertemplate,quartilemethod:C.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:C.offsetgroup,alignmentgroup:C.alignmentgroup,selected:C.selected,unselected:C.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(ie,B,e){"use strict";var C=e(71828),S=e(89298),u=e(48518),A=e(60168),T=e(50606).BADNUM;function m(t,o,r){var n=o.max-o.min;if(!n)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,n/1e4);var c,a=r.length,s=C.stdev(r,a-1,o.mean);return Math.max((c=a,1.059*Math.min(s,(o.q3-o.q1)/1.349)*Math.pow(c,-.2)),n/100)}function l(t,o,r,n){var a,s=t.spanmode,c=t.span||[],f=[o.min-2*n,o.max+2*n];function w(h){var _=c[h],x="multicategory"===r.type?r.r2c(_):r.d2c(_,0,t[o.valLetter+"calendar"]);return x===T?f[h]:x}var v={type:"linear",range:a="soft"===s?f:"hard"===s?[o.min,o.max]:[w(0),w(1)]};return S.setConvert(v),v.cleanRange(),a}ie.exports=function(t,o){var r=u(t,o);if(r[0].t.empty)return r;for(var n=t._fullLayout,a=S.getFromId(t,o["h"===o.orientation?"xaxis":"yaxis"]),s=1/0,c=-1/0,p=0,f=0,w=0;w<r.length;w++){var v=r[w],h=v.pts.map(A.extractVal),_=v.bandwidth=m(o,v,h),x=v.span=l(o,v,a,_);if(v.min===v.max&&0===_)x=v.span=[v.min,v.max],v.density=[{v:1,t:x[0]}],v.bandwidth=_,p=Math.max(p,1);else{var b=x[1]-x[0],M=Math.ceil(b/(_/3)),d=b/M;if(!isFinite(d)||!isFinite(M))return C.error("Something went wrong with computing the violin span"),r[0].t.empty=!0,r;var E=A.makeKDE(v,o,h);v.density=new Array(M);for(var k=0,I=x[0];I<x[1]+d/2;k++,I+=d){var L=E(I);v.density[k]={v:L,t:I},p=Math.max(p,L)}}f=Math.max(f,h.length),s=Math.min(s,x[0]),c=Math.max(c,x[1])}var P=S.findExtremes(a,[s,c],{padded:!0});if(o._extremes[a._id]=P,o.width)r[0].t.maxKDE=p;else{var R=n._violinScaleGroupStats,z=o.scalegroup,$=R[z];$?($.maxKDE=Math.max($.maxKDE,p),$.maxCount=Math.max($.maxCount,f)):R[z]={maxKDE:p,maxCount:f}}return r[0].t.labels.kde=C._(t,"kde:"),r}},86403:function(ie,B,e){"use strict";var C=e(37188).setPositionOffset,S=["v","h"];ie.exports=function(u,A){for(var T=u.calcdata,m=A.xaxis,l=A.yaxis,t=0;t<S.length;t++){for(var o=S[t],r="h"===o?l:m,n=[],a=0;a<T.length;a++){var s=T[a],p=s[0].trace;!0!==p.visible||"violin"!==p.type||s[0].t.empty||p.orientation!==o||p.xaxis!==m._id||p.yaxis!==l._id||n.push(a)}C("violin",u,n,r)}}},15899:function(ie,B,e){"use strict";var C=e(71828),S=e(7901),u=e(36411),A=e(68875);ie.exports=function(T,m,l,t){function o(b,M){return C.coerce(T,m,A,b,M)}function r(b,M){return C.coerce2(T,m,A,b,M)}if(u.handleSampleDefaults(T,m,o,t),!1!==m.visible){o("bandwidth"),o("side"),o("width")||(o("scalegroup",m.name),o("scalemode"));var n,a=o("span");Array.isArray(a)&&(n="manual"),o("spanmode",n);var s=o("line.color",(T.marker||{}).color||l),c=o("line.width"),p=o("fillcolor",S.addOpacity(m.line.color,.5));u.handlePointsDefaults(T,m,o,{prefix:""});var f=r("box.width"),w=r("box.fillcolor",p),v=r("box.line.color",s),h=r("box.line.width",c);o("box.visible",!!(f||w||v||h))||(m.box={visible:!1});var _=r("meanline.color",s),x=r("meanline.width",c);o("meanline.visible",!(!_&&!x))||(m.meanline={visible:!1}),o("quartilemethod")}}},60168:function(ie,B,e){"use strict";var C=e(71828),S=function(u){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*u*u)};B.makeKDE=function(u,A,T){var m=T.length,l=S,t=u.bandwidth,o=1/(m*t);return function(r){for(var n=0,a=0;a<m;a++)n+=l((r-T[a])/t);return o*n}},B.getPositionOnKdePath=function(u,A,T){var m,l;"h"===A.orientation?(m="y",l="x"):(m="x",l="y");var t=C.findPointOnPath(u.path,T,l,{pathLength:u.pathLength}),o=u.posCenterPx,r=t[m];return[r,"both"===A.side?2*o-r:o]},B.getKdeValue=function(u,A,T){var m=u.pts.map(B.extractVal);return B.makeKDE(u,A,m)(T)/u.posDensityScale},B.extractVal=function(u){return u.v}},57634:function(ie,B,e){"use strict";var C=e(7901),S=e(71828),u=e(89298),A=e(41868),T=e(60168);ie.exports=function(m,l,t,o,r){r||(r={});var n,a,s=r.hoverLayer,c=m.cd,p=c[0].trace,f=p.hoveron,w=-1!==f.indexOf("violins"),v=-1!==f.indexOf("kde"),h=[];if(w||v){var _=A.hoverOnBoxes(m,l,t,o);if(v&&_.length>0){var x,b,M,d,E,k=m.xa,I=m.ya;"h"===p.orientation?(E=l,x="y",M=I,b="x",d=k):(E=t,x="x",M=k,b="y",d=I);var L=c[m.index];if(E>=L.span[0]&&E<=L.span[1]){var P=S.extendFlat({},m),R=d.c2p(E,!0),z=T.getKdeValue(L,p,E),$=T.getPositionOnKdePath(L,p,R),N=M._offset,W=M._length;P[x+"0"]=$[0],P[x+"1"]=$[1],P[b+"0"]=P[b+"1"]=R,P[b+"Label"]=b+": "+u.hoverLabelText(d,E,p[b+"hoverformat"])+", "+c[0].t.labels.kde+" "+z.toFixed(3);for(var H=0,U=0;U<_.length;U++)if("med"===_[U].attr){H=U;break}P.spikeDistance=_[H].spikeDistance;var Z=x+"Spike";P[Z]=_[H][Z],_[H].spikeDistance=void 0,_[H][Z]=void 0,P.hovertemplate=!1,h.push(P),(a={})[x+"1"]=S.constrain(N+$[0],N,N+W),a[x+"2"]=S.constrain(N+$[1],N,N+W),a[b+"1"]=a[b+"2"]=d._offset+R}}w&&(h=h.concat(_))}-1!==f.indexOf("points")&&(n=A.hoverOnPoints(m,l,t));var Y=s.selectAll(".violinline-"+p.uid).data(a?[0]:[]);return Y.enter().append("line").classed("violinline-"+p.uid,!0).attr("stroke-width",1.5),Y.exit().remove(),Y.attr(a).call(C.stroke,m.color),"closest"===o?n?[n]:h:(n&&h.push(n),h)}},47462:function(ie,B,e){"use strict";ie.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(ie,B,e){"use strict";var C=e(40094),S=e(71828).extendFlat;ie.exports={violinmode:S({},C.boxmode,{}),violingap:S({},C.boxgap,{}),violingroupgap:S({},C.boxgroupgap,{})}},33598:function(ie,B,e){"use strict";var C=e(71828),S=e(9228),u=e(4199);ie.exports=function(A,T,m){u._supply(A,T,m,function(l,t){return C.coerce(A,T,S,l,t)},"violin")}},28443:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(91424),A=e(86047),T=e(34621),m=e(60168);ie.exports=function(l,t,o,r){var n=l._context.staticPlot,a=l._fullLayout,s=t.xaxis,c=t.yaxis;function p(f,w){var v=T(f,{xaxis:s,yaxis:c,trace:w,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return u.smoothopen(v[0],1)}S.makeTraceGroups(r,o,"trace violins").each(function(f){var w=C.select(this),v=f[0],h=v.t,_=v.trace;if(!0!==_.visible||h.empty)w.remove();else{var x=h.bPos,b=h.bdPos,M=t[h.valLetter+"axis"],d=t[h.posLetter+"axis"],E="both"===_.side,k=E||"positive"===_.side,I=E||"negative"===_.side,L=w.selectAll("path.violin").data(S.identity);L.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","violin"),L.exit().remove(),L.each(function(U){var Z,Y,ae,re,Q,K,te,oe,ue=C.select(this),fe=U.density,he=fe.length,me=d.c2l(U.pos+x,!0),ke=d.l2p(me);if(_.width)Z=h.maxKDE/b;else{var Pe=a._violinScaleGroupStats[_.scalegroup];Z="count"===_.scalemode?Pe.maxKDE/b*(Pe.maxCount/U.pts.length):Pe.maxKDE/b}if(k){for(te=new Array(he),Q=0;Q<he;Q++)(oe=te[Q]={})[h.posLetter]=me+fe[Q].v/Z,oe[h.valLetter]=M.c2l(fe[Q].t,!0);Y=p(te,_)}if(I){for(te=new Array(he),K=0,Q=he-1;K<he;K++,Q--)(oe=te[K]={})[h.posLetter]=me-fe[Q].v/Z,oe[h.valLetter]=M.c2l(fe[Q].t,!0);ae=p(te,_)}if(E)re=Y+"L"+ae.substr(1)+"Z";else{var Te=[ke,M.c2p(fe[0].t)],be=[ke,M.c2p(fe[he-1].t)];"h"===_.orientation&&(Te.reverse(),be.reverse()),re=k?"M"+Te+"L"+Y.substr(1)+"L"+be:"M"+be+"L"+ae.substr(1)+"L"+Te}ue.attr("d",re),U.posCenterPx=ke,U.posDensityScale=Z*b,U.path=ue.node(),U.pathLength=U.path.getTotalLength()/(E?2:1)});var P,R,z,$=_.box,N=$.width,W=($.line||{}).width;E?(P=b*N,R=0):k?(P=[0,b*N/2],R=W*{x:1,y:-1}[h.posLetter]):(P=[b*N/2,0],R=W*{x:-1,y:1}[h.posLetter]),A.plotBoxAndWhiskers(w,{pos:d,val:M},_,{bPos:x,bdPos:P,bPosPxOffset:R}),A.plotBoxMean(w,{pos:d,val:M},_,{bPos:x,bdPos:P,bPosPxOffset:R}),!_.box.visible&&_.meanline.visible&&(z=S.identity);var H=w.selectAll("path.meanline").data(z||[]);H.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",n?"none":"non-scaling-stroke"),H.exit().remove(),H.each(function(U){var Z=M.c2p(U.mean,!0),Y=m.getPositionOnKdePath(U,_,Z);C.select(this).attr("d","h"===_.orientation?"M"+Z+","+Y[0]+"V"+Y[1]:"M"+Y[0]+","+Z+"H"+Y[1])}),A.plotPoints(w,{x:s,y:c},_,h)}})}},31847:function(ie,B,e){"use strict";var C=e(39898),S=e(7901),u=e(16296).stylePoints;ie.exports=function(A){var T=C.select(A).selectAll("g.trace.violins");T.style("opacity",function(m){return m[0].trace.opacity}),T.each(function(m){var l=m[0].trace,t=C.select(this),o=l.box||{},r=o.line||{},n=l.meanline||{},a=n.width;t.selectAll("path.violin").style("stroke-width",l.line.width+"px").call(S.stroke,l.line.color).call(S.fill,l.fillcolor),t.selectAll("path.box").style("stroke-width",r.width+"px").call(S.stroke,r.color).call(S.fill,o.fillcolor);var s={"stroke-width":a+"px","stroke-dasharray":2*a+"px,"+a+"px"};t.selectAll("path.mean").style(s).call(S.stroke,n.color),t.selectAll("path.meanline").style(s).call(S.stroke,n.color),u(t,l,A)})}},16336:function(ie,B,e){"use strict";var C=e(50693),S=e(16249),u=e(54532),A=e(9012),T=e(1426).extendFlat,m=e(30962).overrideAll,l=ie.exports=m(T({x:S.x,y:S.y,z:S.z,value:S.value,isomin:S.isomin,isomax:S.isomax,surface:S.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:S.slices,caps:S.caps,text:S.text,hovertext:S.hovertext,xhoverformat:S.xhoverformat,yhoverformat:S.yhoverformat,zhoverformat:S.zhoverformat,valuehoverformat:S.valuehoverformat,hovertemplate:S.hovertemplate},C("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:S.colorbar,opacity:S.opacity,opacityscale:u.opacityscale,lightposition:S.lightposition,lighting:S.lighting,flatshading:S.flatshading,contour:S.contour,hoverinfo:T({},A.hoverinfo),showlegend:T({},A.showlegend,{dflt:!1})}),"calc","nested");l.x.editType=l.y.editType=l.z.editType=l.value.editType="calc+clearAxisTypes",l.transforms=void 0},64809:function(ie,B,e){"use strict";var C=e(9330).gl_mesh3d,S=e(81697).parseColorScale,u=e(78614),A=e(21081).extractOpts,T=e(90060),m=e(22674).findNearestOnAxis,l=e(22674).generateIsoMeshes;function t(r,n,a){this.scene=r,this.uid=a,this.mesh=n,this.name="",this.data=null,this.showContour=!1}var o=t.prototype;o.handlePick=function(r){if(r.object===this.mesh){var n=r.data.index,s=this.data._meshY[n],c=this.data._meshZ[n],p=this.data._Ys.length,f=this.data._Zs.length,w=m(this.data._meshX[n],this.data._Xs).id,v=m(s,this.data._Ys).id,h=m(c,this.data._Zs).id,_=r.index=h+f*v+f*p*w;r.traceCoordinate=[this.data._meshX[_],this.data._meshY[_],this.data._meshZ[_],this.data._value[_]];var x=this.data.hovertext||this.data.text;return Array.isArray(x)&&void 0!==x[_]?r.textLabel=x[_]:x&&(r.textLabel=x),!0}},o.update=function(r){var n=this.scene,a=n.fullSceneLayout;function s(f,w,v,h){return w.map(function(_){return f.d2l(_,0,h)*v})}this.data=l(r);var c={positions:T(s(a.xaxis,r._meshX,n.dataScale[0],r.xcalendar),s(a.yaxis,r._meshY,n.dataScale[1],r.ycalendar),s(a.zaxis,r._meshZ,n.dataScale[2],r.zcalendar)),cells:T(r._meshI,r._meshJ,r._meshK),lightPosition:[r.lightposition.x,r.lightposition.y,r.lightposition.z],ambient:r.lighting.ambient,diffuse:r.lighting.diffuse,specular:r.lighting.specular,roughness:r.lighting.roughness,fresnel:r.lighting.fresnel,vertexNormalsEpsilon:r.lighting.vertexnormalsepsilon,faceNormalsEpsilon:r.lighting.facenormalsepsilon,opacity:r.opacity,opacityscale:r.opacityscale,contourEnable:r.contour.show,contourColor:u(r.contour.color).slice(0,3),contourWidth:r.contour.width,useFacetNormals:r.flatshading},p=A(r);c.vertexIntensity=r._meshIntensity,c.vertexIntensityBounds=[p.min,p.max],c.colormap=S(r),this.mesh.update(c)},o.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ie.exports=function(r,n){var s=C({gl:r.glplot.gl}),c=new t(r,s,n.uid);return s._trace=c,c.update(n),r.glplot.add(s),c}},47651:function(ie,B,e){"use strict";var C=e(71828),S=e(16336),u=e(82738).supplyIsoDefaults,A=e(91831).opacityscaleDefaults;ie.exports=function(T,m,l,t){function o(r,n){return C.coerce(T,m,S,r,n)}u(T,m,l,t,o),A(T,m,t,o)}},17659:function(ie,B,e){"use strict";ie.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(ie,B,e){"use strict";var C=e(1486),S=e(82196).line,u=e(9012),A=e(12663).axisHoverFormat,T=e(5386).fF,m=e(5386).si,l=e(48334),t=e(1426).extendFlat,o=e(7901);function r(n){return{marker:{color:t({},C.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},C.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},C.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}ie.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:C.x,x0:C.x0,dx:C.dx,y:C.y,y0:C.y0,dy:C.dy,xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,xhoverformat:A("x"),yhoverformat:A("y"),hovertext:C.hovertext,hovertemplate:T({},{keys:l.eventDataKeys}),hoverinfo:t({},u.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:m({editType:"plot"},{keys:l.eventDataKeys.concat(["label"])}),text:C.text,textposition:C.textposition,insidetextanchor:C.insidetextanchor,textangle:C.textangle,textfont:C.textfont,insidetextfont:C.insidetextfont,outsidetextfont:C.outsidetextfont,constraintext:C.constraintext,cliponaxis:C.cliponaxis,orientation:C.orientation,offset:C.offset,width:C.width,increasing:r(),decreasing:r(),totals:r(),connector:{line:{color:t({},S.color,{dflt:o.defaultLine}),width:t({},S.width,{editType:"plot"}),dash:S.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:C.offsetgroup,alignmentgroup:C.alignmentgroup}},52752:function(ie,B,e){"use strict";var C=e(89298),S=e(42973),u=e(71828).mergeArray,A=e(66279),T=e(50606).BADNUM;function m(t){return"a"===t||"absolute"===t}function l(t){return"t"===t||"total"===t}ie.exports=function(t,o){var r,n,a,s,c,p,f=C.getFromId(t,o.xaxis||"x"),w=C.getFromId(t,o.yaxis||"y");"h"===o.orientation?(r=f.makeCalcdata(o,"x"),a=w.makeCalcdata(o,"y"),s=S(o,w,"y",a),c=!!o.yperiodalignment,p="y"):(r=w.makeCalcdata(o,"y"),a=f.makeCalcdata(o,"x"),s=S(o,f,"x",a),c=!!o.xperiodalignment,p="x"),n=s.vals;for(var v,h=Math.min(n.length,r.length),_=new Array(h),x=0,b=!1,M=0;M<h;M++){var d=r[M]||0,E=!1;(r[M]!==T||l(o.measure[M])||m(o.measure[M]))&&M+1<h&&(r[M+1]!==T||l(o.measure[M+1])||m(o.measure[M+1]))&&(E=!0);var k=_[M]={i:M,p:n[M],s:d,rawS:d,cNext:E};m(o.measure[M])?(x=k.s,k.isSum=!0,k.dir="totals",k.s=x):l(o.measure[M])?(k.isSum=!0,k.dir="totals",k.s=x):(k.isSum=!1,k.dir=k.rawS<0?"decreasing":"increasing",k.s=x+(v=k.s),x+=v),"totals"===k.dir&&(b=!0),c&&(_[M].orig_p=a[M],_[M][p+"End"]=s.ends[M],_[M][p+"Start"]=s.starts[M]),o.ids&&(k.id=String(o.ids[M])),k.v=(o.base||0)+x}return _.length&&(_[0].hasTotals=b),u(o.text,_,"tx"),u(o.hovertext,_,"htx"),A(_,o),_}},48334:function(ie){"use strict";ie.exports={eventDataKeys:["initial","delta","final"]}},70766:function(ie,B,e){"use strict";var C=e(11661).setGroupPositions;ie.exports=function(S,u){var A,T,m=S._fullLayout,l=S._fullData,t=S.calcdata,o=u.xaxis,r=u.yaxis,n=[],a=[],s=[];for(T=0;T<l.length;T++){var c=l[T];!0===c.visible&&c.xaxis===o._id&&c.yaxis===r._id&&"waterfall"===c.type&&(A=t[T],"h"===c.orientation?s.push(A):a.push(A),n.push(A))}var p={mode:m.waterfallmode,norm:m.waterfallnorm,gap:m.waterfallgap,groupgap:m.waterfallgroupgap};for(C(S,o,r,a,p),C(S,r,o,s,p),T=0;T<n.length;T++){A=n[T];for(var f=0;f<A.length;f++){var w=A[f];!1===w.isSum&&(w.s0+=0===f?0:A[f-1].s),f+1<A.length&&(A[f].nextP0=A[f+1].p0,A[f].nextS0=A[f+1].s0)}}}},83266:function(ie,B,e){"use strict";var C=e(71828),S=e(26125),u=e(90769).handleText,A=e(67513),T=e(73927),m=e(43037),l=e(7901),t=e(22372),o=t.INCREASING.COLOR,r=t.DECREASING.COLOR;function n(a,s,c){a(s+".marker.color",c),a(s+".marker.line.color",l.defaultLine),a(s+".marker.line.width")}ie.exports={supplyDefaults:function(a,s,c,p){function f(v,h){return C.coerce(a,s,m,v,h)}if(A(a,s,p,f)){T(a,s,p,f),f("xhoverformat"),f("yhoverformat"),f("measure"),f("orientation",s.x&&!s.y?"h":"v"),f("base"),f("offset"),f("width"),f("text"),f("hovertext"),f("hovertemplate");var w=f("textposition");u(a,s,p,f,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==s.textposition&&(f("texttemplate"),s.texttemplate||f("textinfo")),n(f,"increasing",o),n(f,"decreasing",r),n(f,"totals","#4499FF"),f("connector.visible")&&(f("connector.mode"),f("connector.line.width")&&(f("connector.line.color"),f("connector.line.dash")))}else s.visible=!1},crossTraceDefaults:function(a,s){var c,p;function f(v){return C.coerce(p._input,p,m,v)}if("group"===s.waterfallmode)for(var w=0;w<a.length;w++)c=(p=a[w])._input,S(c,p,s,f)}}},58593:function(ie){"use strict";ie.exports=function(B,e){return B.x="xVal"in e?e.xVal:e.x,B.y="yVal"in e?e.yVal:e.y,"initial"in e&&(B.initial=e.initial),"delta"in e&&(B.delta=e.delta),"final"in e&&(B.final=e.final),e.xa&&(B.xaxis=e.xa),e.ya&&(B.yaxis=e.ya),B}},61326:function(ie,B,e){"use strict";var C=e(89298).hoverLabelText,S=e(7901).opacity,u=e(95423).hoverOnBars,A=e(22372),T=A.INCREASING.SYMBOL,m=A.DECREASING.SYMBOL;ie.exports=function(l,t,o,r,n){var P,R,z,$,a=u(l,t,o,r,n);if(a){var s=a.cd,c=s[0].trace,p="h"===c.orientation,f=p?"x":"y",w=p?l.xa:l.ya,v=s[a.index],h=v.isSum?v.b+v.s:v.rawS;a.initial=v.b+v.s-h,a.delta=h,a.final=a.initial+a.delta;var _=k(Math.abs(a.delta));a.deltaLabel=h<0?"("+_+")":_,a.finalLabel=k(a.final),a.initialLabel=k(a.initial);var x=v.hi||c.hoverinfo,b=[];if(x&&"none"!==x&&"skip"!==x){var M="all"===x,d=x.split("+"),E=function(I){return M||-1!==d.indexOf(I)};v.isSum||(!E("final")||E(p?"x":"y")||b.push(a.finalLabel),E("delta")&&b.push(h<0?a.deltaLabel+" "+m:a.deltaLabel+" "+T),E("initial")&&b.push("Initial: "+a.initialLabel))}return b.length&&(a.extraText=b.join("<br>")),a.color=(z=(P=c[v.dir].marker).line.color,$=P.line.width,S(R=P.color)?R:S(z)&&$?z:void 0),[a]}function k(I){return C(w,I,c[f+"hoverformat"])}}},19990:function(ie,B,e){"use strict";ie.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(ie){"use strict";ie.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(ie,B,e){"use strict";var C=e(71828),S=e(13494);ie.exports=function(u,A,T){var m=!1;function l(r,n){return C.coerce(u,A,S,r,n)}for(var t=0;t<T.length;t++){var o=T[t];if(o.visible&&"waterfall"===o.type){m=!0;break}}m&&(l("waterfallmode"),l("waterfallgap",.2),l("waterfallgroupgap"))}},30436:function(ie,B,e){"use strict";var C=e(39898),S=e(71828),u=e(91424),A=e(50606).BADNUM,T=e(17295),m=e(72597).clearMinTextSize;ie.exports=function(l,t,o,r){var a,s,f,w,n=l._fullLayout;m("waterfall",n),T.plot(l,t,o,r,{mode:n.waterfallmode,norm:n.waterfallmode,gap:n.waterfallgap,groupgap:n.waterfallgroupgap}),a=l,f=(s=t).xaxis,w=s.yaxis,S.makeTraceGroups(r,o,"trace bars").each(function(v){var h=C.select(this),_=v[0].trace,x=S.ensureSingle(h,"g","lines");if(_.connector&&_.connector.visible){var b="h"===_.orientation,M=_.connector.mode,d=x.selectAll("g.line").data(S.identity);d.enter().append("g").classed("line",!0),d.exit().remove();var E=d.size();d.each(function(k,I){if(I===E-1||k.cNext){var L=(N=f,W=w,Z=[],ae=(H=b)?W:N,(U=[])[0]=(Y=H?N:W).c2p(($=k).s0,!0),Z[0]=ae.c2p($.p0,!0),U[1]=Y.c2p($.s1,!0),Z[1]=ae.c2p($.p1,!0),U[2]=Y.c2p($.nextS0,!0),Z[2]=ae.c2p($.nextP0,!0),H?[U,Z]:[Z,U]),P=L[0],R=L[1],z="";P[0]!==A&&R[0]!==A&&P[1]!==A&&R[1]!==A&&("spanning"===M&&!k.isSum&&I>0&&(z+=b?"M"+P[0]+","+R[1]+"V"+R[0]:"M"+P[1]+","+R[0]+"H"+P[0]),"between"!==M&&(k.isSum||I<E-1)&&(z+=b?"M"+P[1]+","+R[0]+"V"+R[1]:"M"+P[0]+","+R[1]+"H"+P[1]),P[2]!==A&&R[2]!==A&&(z+=b?"M"+P[1]+","+R[1]+"V"+R[2]:"M"+P[1]+","+R[1]+"H"+P[2])),""===z&&(z="M0,0Z"),S.ensureSingle(C.select(this),"path").attr("d",z).call(u.setClipUrl,s.layerClipId,a)}var $,N,W,H,U,Z,Y,ae})}else x.remove()})}},55750:function(ie,B,e){"use strict";var C=e(39898),S=e(91424),u=e(7901),A=e(37822).DESELECTDIM,T=e(16688),m=e(72597).resizeText,l=T.styleTextPoints;ie.exports={style:function(t,o,r){var n=r||C.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");m(t,n,"waterfall"),n.style("opacity",function(a){return a[0].trace.opacity}),n.each(function(a){var s=C.select(this),c=a[0].trace;s.selectAll(".point > path").each(function(p){if(!p.isBlank){var f=c[p.dir].marker;C.select(this).call(u.fill,f.color).call(u.stroke,f.line.color).call(S.dashLine,f.line.dash,f.line.width).style("opacity",c.selectedpoints&&!p.selected?A:1)}}),l(s,c,t),s.selectAll(".lines").each(function(){var p=c.connector.line;S.lineGroupStyle(C.select(this).selectAll("path"),p.width,p.color,p.dash)})})}}},82887:function(ie,B,e){"use strict";var C=e(89298),S=e(71828),u=e(86281),A=e(79344).p,T=e(50606).BADNUM;B.moduleType="transform",B.name="aggregate";var m=B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},l=m.aggregations;function t(a,s,c,p){if(p.enabled){for(var f=p.target,w=S.nestedProperty(s,f),v=w.get(),h=function(b,M){var E=M.d2c,k=M.c2d;switch(b.func){case"count":return o;case"first":return r;case"last":return n;case"sum":return function(I,L){for(var P=0,R=0;R<L.length;R++){var z=E(I[L[R]]);z!==T&&(P+=z)}return k(P)};case"avg":return function(I,L){for(var P=0,R=0,z=0;z<L.length;z++){var $=E(I[L[z]]);$!==T&&(P+=$,R++)}return R?k(P/R):T};case"min":return function(I,L){for(var P=1/0,R=0;R<L.length;R++){var z=E(I[L[R]]);z!==T&&(P=Math.min(P,z))}return P===1/0?T:k(P)};case"max":return function(I,L){for(var P=-1/0,R=0;R<L.length;R++){var z=E(I[L[R]]);z!==T&&(P=Math.max(P,z))}return P===-1/0?T:k(P)};case"range":return function(I,L){for(var P=1/0,R=-1/0,z=0;z<L.length;z++){var $=E(I[L[z]]);$!==T&&(P=Math.min(P,$),R=Math.max(R,$))}return R===-1/0||P===1/0?T:k(R-P)};case"change":return function(I,L){var P=E(I[L[0]]),R=E(I[L[L.length-1]]);return P===T||R===T?T:k(R-P)};case"median":return function(I,L){for(var P=[],R=0;R<L.length;R++){var z=E(I[L[R]]);z!==T&&P.push(z)}if(!P.length)return T;P.sort(S.sorterAsc);var $=(P.length-1)/2;return k((P[Math.floor($)]+P[Math.ceil($)])/2)};case"mode":return function(I,L){for(var P={},R=0,z=T,$=0;$<L.length;$++){var N=E(I[L[$]]);if(N!==T){var W=P[N]=(P[N]||0)+1;W>R&&(R=W,z=N)}}return R?k(z):T};case"rms":return function(I,L){for(var P=0,R=0,z=0;z<L.length;z++){var $=E(I[L[z]]);$!==T&&(P+=$*$,R++)}return R?k(Math.sqrt(P/R)):T};case"stddev":return function(I,L){var P,R=0,z=0,$=1,N=T;for(P=0;P<L.length&&N===T;P++)N=E(I[L[P]]);if(N===T)return T;for(;P<L.length;P++){var W=E(I[L[P]]);if(W!==T){var H=W-N;R+=H,z+=H*H,$++}}var U="sample"===b.funcmode?$-1:$;return U?Math.sqrt((z-R*R/$)/U):0}}}(p,C.getDataConversions(a,s,f,v)),_=new Array(c.length),x=0;x<c.length;x++)_[x]=h(v,c[x]);w.set(_),"count"===p.func&&S.pushUnique(s._arrayAttrs,f)}}function o(a,s){return s.length}function r(a,s){return a[s[0]]}function n(a,s){return a[s[s.length-1]]}B.supplyDefaults=function(a,s){var c,p={};function f(k,I){return S.coerce(a,p,m,k,I)}if(!f("enabled"))return p;var w=u.findArrayAttributes(s),v={};for(c=0;c<w.length;c++)v[w[c]]=1;var h=f("groups");if(!Array.isArray(h)){if(!v[h])return p.enabled=!1,p;v[h]=0}var _,x=a.aggregations||[],b=p.aggregations=new Array(x.length);function M(k,I){return S.coerce(x[c],_,l,k,I)}for(c=0;c<x.length;c++){_={_index:c};var d=M("target"),E=M("func");M("enabled")&&d&&(v[d]||"count"===E&&void 0===v[d])?("stddev"===E&&M("funcmode"),v[d]=0,b[c]=_):b[c]={enabled:!1,_index:c}}for(c=0;c<w.length;c++)v[w[c]]&&b.push({target:w[c],func:l.func.dflt,enabled:!0,_index:-1});return p},B.calcTransform=function(a,s,c){if(c.enabled){var p=c.groups,f=S.getTargetArray(s,{target:p});if(f){var w,v,h,x={},b={},M=[],d=A(s.transforms,c),E=f.length;for(s._length&&(E=Math.min(E,s._length)),w=0;w<E;w++)void 0===(h=x[v=f[w]])?(x[v]=M.length,M.push([w]),b[x[v]]=d(w)):(M[h].push(w),b[x[v]]=(b[x[v]]||[]).concat(d(w)));c._indexToPoints=b;var k=c.aggregations;for(w=0;w<k.length;w++)t(a,s,M,k[w]);"string"==typeof p&&t(a,s,M,{target:p,func:"first",enabled:!0}),s._length=M.length}}}},14382:function(ie,B,e){"use strict";var C=e(71828),S=e(73972),u=e(89298),A=e(79344).p,T=e(74808),m=T.COMPARISON_OPS,l=T.INTERVAL_OPS,t=T.SET_OPS;B.moduleType="transform",B.name="filter",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(m).concat(l).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},B.supplyDefaults=function(o){var r={};function n(c,p){return C.coerce(o,r,B.attributes,c,p)}if(n("enabled")){var a=n("target");if(C.isArrayOrTypedArray(a)&&0===a.length)return r.enabled=!1,r;n("preservegaps"),n("operation"),n("value");var s=S.getComponentMethod("calendars","handleDefaults");s(o,r,"valuecalendar",null),s(o,r,"targetcalendar",null)}return r},B.calcTransform=function(o,r,n){if(n.enabled){var a=C.getTargetArray(r,n);if(a){var s=n.target,c=a.length;r._length&&(c=Math.min(c,r._length));var p=n.targetcalendar,f=r._arrayAttrs,w=n.preservegaps;if("string"==typeof s){var v=C.nestedProperty(r,s+"calendar").get();v&&(p=v)}var h,_,x=function(L,P,R){var z=L.operation,$=L.value,N=Array.isArray($);function W(Y){return-1!==Y.indexOf(z)}var H,U=function(Y){return P(Y,0,L.valuecalendar)},Z=function(Y){return P(Y,0,R)};switch(W(m)?H=U(N?$[0]:$):W(l)?H=N?[U($[0]),U($[1])]:[U($),U($)]:W(t)&&(H=N?$.map(U):[U($)]),z){case"=":return function(Y){return Z(Y)===H};case"!=":return function(Y){return Z(Y)!==H};case"<":return function(Y){return Z(Y)<H};case"<=":return function(Y){return Z(Y)<=H};case">":return function(Y){return Z(Y)>H};case">=":return function(Y){return Z(Y)>=H};case"[]":return function(Y){var ae=Z(Y);return ae>=H[0]&&ae<=H[1]};case"()":return function(Y){var ae=Z(Y);return ae>H[0]&&ae<H[1]};case"[)":return function(Y){var ae=Z(Y);return ae>=H[0]&&ae<H[1]};case"(]":return function(Y){var ae=Z(Y);return ae>H[0]&&ae<=H[1]};case"][":return function(Y){var ae=Z(Y);return ae<=H[0]||ae>=H[1]};case")(":return function(Y){var ae=Z(Y);return ae<H[0]||ae>H[1]};case"](":return function(Y){var ae=Z(Y);return ae<=H[0]||ae>H[1]};case")[":return function(Y){var ae=Z(Y);return ae<H[0]||ae>=H[1]};case"{}":return function(Y){return-1!==H.indexOf(Z(Y))};case"}{":return function(Y){return-1===H.indexOf(Z(Y))}}}(n,u.getDataToCoordFunc(o,r,s,a),p),b={},M={},d=0;w?(h=function(L){b[L.astr]=C.extendDeep([],L.get()),L.set(new Array(c))},_=function(L,P){var R=b[L.astr][P];L.get()[P]=R}):(h=function(L){b[L.astr]=C.extendDeep([],L.get()),L.set([])},_=function(L,P){var R=b[L.astr][P];L.get().push(R)}),I(h);for(var E=A(r.transforms,n),k=0;k<c;k++)x(a[k])?(I(_,k),M[d++]=E(k)):w&&d++;n._indexToPoints=M,r._length=d}}function I(L,P){for(var R=0;R<f.length;R++)L(C.nestedProperty(r,f[R]),P)}}},43102:function(ie,B,e){"use strict";var C=e(71828),S=e(86281),u=e(74875),A=e(79344).p;function T(m,l){var t,o,r,n,a,s,c,p,f,w,v=l.transform,h=l.transformIndex,_=m.transforms[h].groups,x=A(m.transforms,v);if(!C.isArrayOrTypedArray(_)||0===_.length)return[m];var b=C.filterUnique(_),M=new Array(b.length),d=_.length,E=S.findArrayAttributes(m),k=v.styles||[],I={};for(t=0;t<k.length;t++)I[k[t].target]=k[t].value;v.styles&&(w=C.keyedContainer(v,"styles","target","value.name"));var L={},P={};for(t=0;t<b.length;t++){L[s=b[t]]=t,P[s]=0,(c=M[t]=C.extendDeepNoArrays({},m))._group=s,c.transforms[h]._indexToPoints={};var R=null;for(w&&(R=w.get(s)),c.name=R||""===R?R:C.templateString(v.nameformat,{trace:m.name,group:s}),p=c.transforms,c.transforms=[],o=0;o<p.length;o++)c.transforms[o]=C.extendDeepNoArrays({},p[o]);for(o=0;o<E.length;o++)C.nestedProperty(c,E[o]).set([])}for(r=0;r<E.length;r++){for(n=E[r],o=0,f=[];o<b.length;o++)f[o]=C.nestedProperty(M[o],n).get();for(a=C.nestedProperty(m,n).get(),o=0;o<d;o++)f[L[_[o]]].push(a[o])}for(o=0;o<d;o++)(c=M[L[_[o]]]).transforms[h]._indexToPoints[P[_[o]]]=x(o),P[_[o]]++;for(t=0;t<b.length;t++)s=b[t],u.clearExpandedTraceDefaultColors(c=M[t]),c=C.extendDeepNoArrays(c,I[s]||{});return M}B.moduleType="transform",B.name="groupby",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},B.supplyDefaults=function(m,l,t){var o,r={};function n(f,w){return C.coerce(m,r,B.attributes,f,w)}if(!n("enabled"))return r;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var a=m.styles,s=r.styles=[];if(a)for(o=0;o<a.length;o++){var c=s[o]={};C.coerce(a[o],s[o],B.attributes.styles,"target");var p=C.coerce(a[o],s[o],B.attributes.styles,"value");C.isPlainObject(p)?c.value=C.extendDeep({},p):p&&delete c.value}return r},B.transform=function(m,l){var t,o,r,n=[];for(o=0;o<m.length;o++)for(t=T(m[o],l),r=0;r<t.length;r++)n.push(t[r]);return n}},79344:function(ie,B){"use strict";B.p=function(e,C){for(var S,u,A=0;A<e.length&&(S=e[A])!==C;A++)S._indexToPoints&&!1!==S.enabled&&(u=S._indexToPoints);return u?function(m){return u[m]}:function(m){return[m]}}},32275:function(ie,B,e){"use strict";var C=e(71828),S=e(89298),u=e(79344).p,A=e(50606).BADNUM;B.moduleType="transform",B.name="sort",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},B.supplyDefaults=function(T){var m={};function l(t,o){return C.coerce(T,m,B.attributes,t,o)}return l("enabled")&&(l("target"),l("order")),m},B.calcTransform=function(T,m,l){if(l.enabled){var t=C.getTargetArray(m,l);if(t){var o=l.target,r=t.length;m._length&&(r=Math.min(r,m._length));var n,a,s=m._arrayAttrs,c=function(_,x,b,M){var d,E=new Array(M),k=new Array(M);for(d=0;d<M;d++)E[d]={v:x[d],i:d};for(E.sort(function(I,L){switch(I.order){case"ascending":return function(P,R){var z=L(P.v),$=L(R.v);return z===A?1:$===A?-1:z-$};case"descending":return function(P,R){var z=L(P.v),$=L(R.v);return z===A?1:$===A?-1:$-z}}}(_,b)),d=0;d<M;d++)k[d]=E[d].i;return k}(l,t,S.getDataToCoordFunc(T,m,o,t),r),p=u(m.transforms,l),f={};for(n=0;n<s.length;n++){var w=C.nestedProperty(m,s[n]),v=w.get(),h=new Array(r);for(a=0;a<r;a++)h[a]=v[c[a]];w.set(h)}for(a=0;a<r;a++)f[a]=p(c[a]);l._indexToPoints=f,m._length=r}}}},11506:function(ie,B){"use strict";B.version="2.24.2"},9330:function(ie,B,e){var C,S=e(90386);C=function(){return function(){var u={7386:function(m,l,t){m.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(m,l,t){"use strict";function r(ve,Ie){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(De,ze){return De.__proto__=ze,De})(ve,Ie)}function n(ve){if(void 0===ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ve}function a(ve){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ie){return Ie.__proto__||Object.getPrototypeOf(Ie)})(ve)}function s(ve){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ie){return typeof Ie}:function(Ie){return Ie&&"function"==typeof Symbol&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie})(ve)}var c=t(3910),p=t(3187),f="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;l.lW=h,l.h2=50;var w=2147483647;function v(ve){if(ve>w)throw new RangeError('The value "'+ve+'" is invalid for option "size"');var Ie=new Uint8Array(ve);return Object.setPrototypeOf(Ie,h.prototype),Ie}function h(ve,Ie,De){if("number"==typeof ve){if("string"==typeof Ie)throw new TypeError('The "string" argument must be of type string. Received type number');return b(ve)}return _(ve,Ie,De)}function _(ve,Ie,De){if("string"==typeof ve)return function(He,Ke){if("string"==typeof Ke&&""!==Ke||(Ke="utf8"),!h.isEncoding(Ke))throw new TypeError("Unknown encoding: "+Ke);var et=0|k(He,Ke),st=v(et),mt=st.write(He,Ke);return mt!==et&&(st=st.slice(0,mt)),st}(ve,Ie);if(ArrayBuffer.isView(ve))return function(He){if(we(He,Uint8Array)){var Ke=new Uint8Array(He);return d(Ke.buffer,Ke.byteOffset,Ke.byteLength)}return M(He)}(ve);if(null==ve)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(ve));if(we(ve,ArrayBuffer)||ve&&we(ve.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(ve,SharedArrayBuffer)||ve&&we(ve.buffer,SharedArrayBuffer)))return d(ve,Ie,De);if("number"==typeof ve)throw new TypeError('The "value" argument must not be of type number. Received type number');var ze=ve.valueOf&&ve.valueOf();if(null!=ze&&ze!==ve)return h.from(ze,Ie,De);var Ge=function(He){if(h.isBuffer(He)){var Ke=0|E(He.length),et=v(Ke);return 0===et.length||He.copy(et,0,0,Ke),et}return void 0!==He.length?"number"!=typeof He.length||Re(He.length)?v(0):M(He):"Buffer"===He.type&&Array.isArray(He.data)?M(He.data):void 0}(ve);if(Ge)return Ge;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ve[Symbol.toPrimitive])return h.from(ve[Symbol.toPrimitive]("string"),Ie,De);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(ve))}function x(ve){if("number"!=typeof ve)throw new TypeError('"size" argument must be of type number');if(ve<0)throw new RangeError('The value "'+ve+'" is invalid for option "size"')}function b(ve){return x(ve),v(ve<0?0:0|E(ve))}function M(ve){for(var Ie=ve.length<0?0:0|E(ve.length),De=v(Ie),ze=0;ze<Ie;ze+=1)De[ze]=255&ve[ze];return De}function d(ve,Ie,De){if(Ie<0||ve.byteLength<Ie)throw new RangeError('"offset" is outside of buffer bounds');if(ve.byteLength<Ie+(De||0))throw new RangeError('"length" is outside of buffer bounds');var ze;return ze=void 0===Ie&&void 0===De?new Uint8Array(ve):void 0===De?new Uint8Array(ve,Ie):new Uint8Array(ve,Ie,De),Object.setPrototypeOf(ze,h.prototype),ze}function E(ve){if(ve>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|ve}function k(ve,Ie){if(h.isBuffer(ve))return ve.length;if(ArrayBuffer.isView(ve)||we(ve,ArrayBuffer))return ve.byteLength;if("string"!=typeof ve)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+s(ve));var De=ve.length,ze=arguments.length>2&&!0===arguments[2];if(!ze&&0===De)return 0;for(var Ge=!1;;)switch(Ie){case"ascii":case"latin1":case"binary":return De;case"utf8":case"utf-8":return pe(ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*De;case"hex":return De>>>1;case"base64":return de(ve).length;default:if(Ge)return ze?-1:pe(ve).length;Ie=(""+Ie).toLowerCase(),Ge=!0}}function I(ve,Ie,De){var ze=!1;if((void 0===Ie||Ie<0)&&(Ie=0),Ie>this.length||((void 0===De||De>this.length)&&(De=this.length),De<=0)||(De>>>=0)<=(Ie>>>=0))return"";for(ve||(ve="utf8");;)switch(ve){case"hex":return Q(this,Ie,De);case"utf8":case"utf-8":return Z(this,Ie,De);case"ascii":return ae(this,Ie,De);case"latin1":case"binary":return re(this,Ie,De);case"base64":return U(this,Ie,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,Ie,De);default:if(ze)throw new TypeError("Unknown encoding: "+ve);ve=(ve+"").toLowerCase(),ze=!0}}function L(ve,Ie,De){var ze=ve[Ie];ve[Ie]=ve[De],ve[De]=ze}function P(ve,Ie,De,ze,Ge){if(0===ve.length)return-1;if("string"==typeof De?(ze=De,De=0):De>2147483647?De=2147483647:De<-2147483648&&(De=-2147483648),Re(De=+De)&&(De=Ge?0:ve.length-1),De<0&&(De=ve.length+De),De>=ve.length){if(Ge)return-1;De=ve.length-1}else if(De<0){if(!Ge)return-1;De=0}if("string"==typeof Ie&&(Ie=h.from(Ie,ze)),h.isBuffer(Ie))return 0===Ie.length?-1:R(ve,Ie,De,ze,Ge);if("number"==typeof Ie)return Ie&=255,"function"==typeof Uint8Array.prototype.indexOf?Ge?Uint8Array.prototype.indexOf.call(ve,Ie,De):Uint8Array.prototype.lastIndexOf.call(ve,Ie,De):R(ve,[Ie],De,ze,Ge);throw new TypeError("val must be string, number or Buffer")}function R(ve,Ie,De,ze,Ge){var He,Ke=1,et=ve.length,st=Ie.length;if(void 0!==ze&&("ucs2"===(ze=String(ze).toLowerCase())||"ucs-2"===ze||"utf16le"===ze||"utf-16le"===ze)){if(ve.length<2||Ie.length<2)return-1;Ke=2,et/=2,st/=2,De/=2}function mt(gt,dt){return 1===Ke?gt[dt]:gt.readUInt16BE(dt*Ke)}if(Ge){var at=-1;for(He=De;He<et;He++)if(mt(ve,He)===mt(Ie,-1===at?0:He-at)){if(-1===at&&(at=He),He-at+1===st)return at*Ke}else-1!==at&&(He-=He-at),at=-1}else for(De+st>et&&(De=et-st),He=De;He>=0;He--){for(var kt=!0,St=0;St<st;St++)if(mt(ve,He+St)!==mt(Ie,St)){kt=!1;break}if(kt)return He}return-1}function z(ve,Ie,De,ze){De=Number(De)||0;var Ge=ve.length-De;ze?(ze=Number(ze))>Ge&&(ze=Ge):ze=Ge;var He,Ke=Ie.length;for(ze>Ke/2&&(ze=Ke/2),He=0;He<ze;++He){var et=parseInt(Ie.substr(2*He,2),16);if(Re(et))return He;ve[De+He]=et}return He}function $(ve,Ie,De,ze){return se(pe(Ie,ve.length-De),ve,De,ze)}function N(ve,Ie,De,ze){return se(function(Ge){for(var He=[],Ke=0;Ke<Ge.length;++Ke)He.push(255&Ge.charCodeAt(Ke));return He}(Ie),ve,De,ze)}function W(ve,Ie,De,ze){return se(de(Ie),ve,De,ze)}function H(ve,Ie,De,ze){return se(function(Ge,He){for(var Ke,et,mt=[],at=0;at<Ge.length&&!((He-=2)<0);++at)et=(Ke=Ge.charCodeAt(at))>>8,mt.push(Ke%256),mt.push(et);return mt}(Ie,ve.length-De),ve,De,ze)}function U(ve,Ie,De){return c.fromByteArray(0===Ie&&De===ve.length?ve:ve.slice(Ie,De))}function Z(ve,Ie,De){De=Math.min(ve.length,De);for(var ze=[],Ge=Ie;Ge<De;){var He=ve[Ge],Ke=null,et=He>239?4:He>223?3:He>191?2:1;if(Ge+et<=De){var st=void 0,mt=void 0,at=void 0,kt=void 0;switch(et){case 1:He<128&&(Ke=He);break;case 2:128==(192&(st=ve[Ge+1]))&&(kt=(31&He)<<6|63&st)>127&&(Ke=kt);break;case 3:mt=ve[Ge+2],128==(192&(st=ve[Ge+1]))&&128==(192&mt)&&(kt=(15&He)<<12|(63&st)<<6|63&mt)>2047&&(kt<55296||kt>57343)&&(Ke=kt);break;case 4:mt=ve[Ge+2],at=ve[Ge+3],128==(192&(st=ve[Ge+1]))&&128==(192&mt)&&128==(192&at)&&(kt=(15&He)<<18|(63&st)<<12|(63&mt)<<6|63&at)>65535&&kt<1114112&&(Ke=kt)}}null===Ke?(Ke=65533,et=1):Ke>65535&&(ze.push((Ke-=65536)>>>10&1023|55296),Ke=56320|1023&Ke),ze.push(Ke),Ge+=et}return function(St){var gt=St.length;if(gt<=Y)return String.fromCharCode.apply(String,St);for(var dt="",Ct=0;Ct<gt;)dt+=String.fromCharCode.apply(String,St.slice(Ct,Ct+=Y));return dt}(ze)}(h.TYPED_ARRAY_SUPPORT=function(){try{var ve=new Uint8Array(1),Ie={foo:function(){return 42}};return Object.setPrototypeOf(Ie,Uint8Array.prototype),Object.setPrototypeOf(ve,Ie),42===ve.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(ve,Ie,De){return _(ve,Ie,De)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(ve,Ie,De){return Ge=Ie,He=De,x(ze=ve),ze<=0?v(ze):void 0!==Ge?"string"==typeof He?v(ze).fill(Ge,He):v(ze).fill(Ge):v(ze);var ze,Ge,He},h.allocUnsafe=function(ve){return b(ve)},h.allocUnsafeSlow=function(ve){return b(ve)},h.isBuffer=function(ve){return null!=ve&&!0===ve._isBuffer&&ve!==h.prototype},h.compare=function(ve,Ie){if(we(ve,Uint8Array)&&(ve=h.from(ve,ve.offset,ve.byteLength)),we(Ie,Uint8Array)&&(Ie=h.from(Ie,Ie.offset,Ie.byteLength)),!h.isBuffer(ve)||!h.isBuffer(Ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ve===Ie)return 0;for(var De=ve.length,ze=Ie.length,Ge=0,He=Math.min(De,ze);Ge<He;++Ge)if(ve[Ge]!==Ie[Ge]){De=ve[Ge],ze=Ie[Ge];break}return De<ze?-1:ze<De?1:0},h.isEncoding=function(ve){switch(String(ve).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(ve,Ie){if(!Array.isArray(ve))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ve.length)return h.alloc(0);var De;if(void 0===Ie)for(Ie=0,De=0;De<ve.length;++De)Ie+=ve[De].length;var ze=h.allocUnsafe(Ie),Ge=0;for(De=0;De<ve.length;++De){var He=ve[De];if(we(He,Uint8Array))Ge+He.length>ze.length?(h.isBuffer(He)||(He=h.from(He)),He.copy(ze,Ge)):Uint8Array.prototype.set.call(ze,He,Ge);else{if(!h.isBuffer(He))throw new TypeError('"list" argument must be an Array of Buffers');He.copy(ze,Ge)}Ge+=He.length}return ze},h.byteLength=k,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var ve=this.length;if(ve%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ie=0;Ie<ve;Ie+=2)L(this,Ie,Ie+1);return this},h.prototype.swap32=function(){var ve=this.length;if(ve%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ie=0;Ie<ve;Ie+=4)L(this,Ie,Ie+3),L(this,Ie+1,Ie+2);return this},h.prototype.swap64=function(){var ve=this.length;if(ve%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ie=0;Ie<ve;Ie+=8)L(this,Ie,Ie+7),L(this,Ie+1,Ie+6),L(this,Ie+2,Ie+5),L(this,Ie+3,Ie+4);return this},h.prototype.toString=function(){var ve=this.length;return 0===ve?"":0===arguments.length?Z(this,0,ve):I.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(ve){if(!h.isBuffer(ve))throw new TypeError("Argument must be a Buffer");return this===ve||0===h.compare(this,ve)},h.prototype.inspect=function(){var ve="",Ie=l.h2;return ve=this.toString("hex",0,Ie).replace(/(.{2})/g,"$1 ").trim(),this.length>Ie&&(ve+=" ... "),"<Buffer "+ve+">"},f&&(h.prototype[f]=h.prototype.inspect),h.prototype.compare=function(ve,Ie,De,ze,Ge){if(we(ve,Uint8Array)&&(ve=h.from(ve,ve.offset,ve.byteLength)),!h.isBuffer(ve))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+s(ve));if(void 0===Ie&&(Ie=0),void 0===De&&(De=ve?ve.length:0),void 0===ze&&(ze=0),void 0===Ge&&(Ge=this.length),Ie<0||De>ve.length||ze<0||Ge>this.length)throw new RangeError("out of range index");if(ze>=Ge&&Ie>=De)return 0;if(ze>=Ge)return-1;if(Ie>=De)return 1;if(this===ve)return 0;for(var He=(Ge>>>=0)-(ze>>>=0),Ke=(De>>>=0)-(Ie>>>=0),et=Math.min(He,Ke),st=this.slice(ze,Ge),mt=ve.slice(Ie,De),at=0;at<et;++at)if(st[at]!==mt[at]){He=st[at],Ke=mt[at];break}return He<Ke?-1:Ke<He?1:0},h.prototype.includes=function(ve,Ie,De){return-1!==this.indexOf(ve,Ie,De)},h.prototype.indexOf=function(ve,Ie,De){return P(this,ve,Ie,De,!0)},h.prototype.lastIndexOf=function(ve,Ie,De){return P(this,ve,Ie,De,!1)},h.prototype.write=function(ve,Ie,De,ze){if(void 0===Ie)ze="utf8",De=this.length,Ie=0;else if(void 0===De&&"string"==typeof Ie)ze=Ie,De=this.length,Ie=0;else{if(!isFinite(Ie))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Ie>>>=0,isFinite(De)?(De>>>=0,void 0===ze&&(ze="utf8")):(ze=De,De=void 0)}var Ge=this.length-Ie;if((void 0===De||De>Ge)&&(De=Ge),ve.length>0&&(De<0||Ie<0)||Ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");ze||(ze="utf8");for(var He=!1;;)switch(ze){case"hex":return z(this,ve,Ie,De);case"utf8":case"utf-8":return $(this,ve,Ie,De);case"ascii":case"latin1":case"binary":return N(this,ve,Ie,De);case"base64":return W(this,ve,Ie,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,ve,Ie,De);default:if(He)throw new TypeError("Unknown encoding: "+ze);ze=(""+ze).toLowerCase(),He=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;function ae(ve,Ie,De){var ze="";De=Math.min(ve.length,De);for(var Ge=Ie;Ge<De;++Ge)ze+=String.fromCharCode(127&ve[Ge]);return ze}function re(ve,Ie,De){var ze="";De=Math.min(ve.length,De);for(var Ge=Ie;Ge<De;++Ge)ze+=String.fromCharCode(ve[Ge]);return ze}function Q(ve,Ie,De){var ze=ve.length;(!Ie||Ie<0)&&(Ie=0),(!De||De<0||De>ze)&&(De=ze);for(var Ge="",He=Ie;He<De;++He)Ge+=Ee[ve[He]];return Ge}function K(ve,Ie,De){for(var ze=ve.slice(Ie,De),Ge="",He=0;He<ze.length-1;He+=2)Ge+=String.fromCharCode(ze[He]+256*ze[He+1]);return Ge}function te(ve,Ie,De){if(ve%1!=0||ve<0)throw new RangeError("offset is not uint");if(ve+Ie>De)throw new RangeError("Trying to access beyond buffer length")}function oe(ve,Ie,De,ze,Ge,He){if(!h.isBuffer(ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ie>Ge||Ie<He)throw new RangeError('"value" argument is out of bounds');if(De+ze>ve.length)throw new RangeError("Index out of range")}function ue(ve,Ie,De,ze,Ge){xe(Ie,ze,Ge,ve,De,7);var He=Number(Ie&BigInt(4294967295));ve[De++]=He,ve[De++]=He>>=8,ve[De++]=He>>=8,ve[De++]=He>>=8;var Ke=Number(Ie>>BigInt(32)&BigInt(4294967295));return ve[De++]=Ke,ve[De++]=Ke>>=8,ve[De++]=Ke>>=8,ve[De++]=Ke>>=8,De}function fe(ve,Ie,De,ze,Ge){xe(Ie,ze,Ge,ve,De,7);var He=Number(Ie&BigInt(4294967295));ve[De+7]=He,ve[De+6]=He>>=8,ve[De+5]=He>>=8,ve[De+4]=He>>=8;var Ke=Number(Ie>>BigInt(32)&BigInt(4294967295));return ve[De+3]=Ke,ve[De+2]=Ke>>=8,ve[De+1]=Ke>>=8,ve[De]=Ke>>=8,De+8}function he(ve,Ie,De,ze,Ge,He){if(De+ze>ve.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("Index out of range")}function me(ve,Ie,De,ze,Ge){return Ie=+Ie,De>>>=0,Ge||he(ve,0,De,4),p.write(ve,Ie,De,ze,23,4),De+4}function ke(ve,Ie,De,ze,Ge){return Ie=+Ie,De>>>=0,Ge||he(ve,0,De,8),p.write(ve,Ie,De,ze,52,8),De+8}h.prototype.slice=function(ve,Ie){var De=this.length;(ve=~~ve)<0?(ve+=De)<0&&(ve=0):ve>De&&(ve=De),(Ie=void 0===Ie?De:~~Ie)<0?(Ie+=De)<0&&(Ie=0):Ie>De&&(Ie=De),Ie<ve&&(Ie=ve);var ze=this.subarray(ve,Ie);return Object.setPrototypeOf(ze,h.prototype),ze},h.prototype.readUintLE=h.prototype.readUIntLE=function(ve,Ie,De){ve>>>=0,Ie>>>=0,De||te(ve,Ie,this.length);for(var ze=this[ve],Ge=1,He=0;++He<Ie&&(Ge*=256);)ze+=this[ve+He]*Ge;return ze},h.prototype.readUintBE=h.prototype.readUIntBE=function(ve,Ie,De){ve>>>=0,Ie>>>=0,De||te(ve,Ie,this.length);for(var ze=this[ve+--Ie],Ge=1;Ie>0&&(Ge*=256);)ze+=this[ve+--Ie]*Ge;return ze},h.prototype.readUint8=h.prototype.readUInt8=function(ve,Ie){return ve>>>=0,Ie||te(ve,1,this.length),this[ve]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(ve,Ie){return ve>>>=0,Ie||te(ve,2,this.length),this[ve]|this[ve+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(ve,Ie){return ve>>>=0,Ie||te(ve,2,this.length),this[ve]<<8|this[ve+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(ve,Ie){return ve>>>=0,Ie||te(ve,4,this.length),(this[ve]|this[ve+1]<<8|this[ve+2]<<16)+16777216*this[ve+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(ve,Ie){return ve>>>=0,Ie||te(ve,4,this.length),16777216*this[ve]+(this[ve+1]<<16|this[ve+2]<<8|this[ve+3])},h.prototype.readBigUInt64LE=Ue(function(ve){Ne(ve>>>=0,"offset");var Ie=this[ve],De=this[ve+7];void 0!==Ie&&void 0!==De||Se(ve,this.length-8);var ze=Ie+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,24),Ge=this[++ve]+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+De*Math.pow(2,24);return BigInt(ze)+(BigInt(Ge)<<BigInt(32))}),h.prototype.readBigUInt64BE=Ue(function(ve){Ne(ve>>>=0,"offset");var Ie=this[ve],De=this[ve+7];void 0!==Ie&&void 0!==De||Se(ve,this.length-8);var ze=Ie*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+this[++ve],Ge=this[++ve]*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+De;return(BigInt(ze)<<BigInt(32))+BigInt(Ge)}),h.prototype.readIntLE=function(ve,Ie,De){ve>>>=0,Ie>>>=0,De||te(ve,Ie,this.length);for(var ze=this[ve],Ge=1,He=0;++He<Ie&&(Ge*=256);)ze+=this[ve+He]*Ge;return ze>=(Ge*=128)&&(ze-=Math.pow(2,8*Ie)),ze},h.prototype.readIntBE=function(ve,Ie,De){ve>>>=0,Ie>>>=0,De||te(ve,Ie,this.length);for(var ze=Ie,Ge=1,He=this[ve+--ze];ze>0&&(Ge*=256);)He+=this[ve+--ze]*Ge;return He>=(Ge*=128)&&(He-=Math.pow(2,8*Ie)),He},h.prototype.readInt8=function(ve,Ie){return ve>>>=0,Ie||te(ve,1,this.length),128&this[ve]?-1*(255-this[ve]+1):this[ve]},h.prototype.readInt16LE=function(ve,Ie){ve>>>=0,Ie||te(ve,2,this.length);var De=this[ve]|this[ve+1]<<8;return 32768&De?4294901760|De:De},h.prototype.readInt16BE=function(ve,Ie){ve>>>=0,Ie||te(ve,2,this.length);var De=this[ve+1]|this[ve]<<8;return 32768&De?4294901760|De:De},h.prototype.readInt32LE=function(ve,Ie){return ve>>>=0,Ie||te(ve,4,this.length),this[ve]|this[ve+1]<<8|this[ve+2]<<16|this[ve+3]<<24},h.prototype.readInt32BE=function(ve,Ie){return ve>>>=0,Ie||te(ve,4,this.length),this[ve]<<24|this[ve+1]<<16|this[ve+2]<<8|this[ve+3]},h.prototype.readBigInt64LE=Ue(function(ve){Ne(ve>>>=0,"offset");var Ie=this[ve],De=this[ve+7];void 0!==Ie&&void 0!==De||Se(ve,this.length-8);var ze=this[ve+4]+this[ve+5]*Math.pow(2,8)+this[ve+6]*Math.pow(2,16)+(De<<24);return(BigInt(ze)<<BigInt(32))+BigInt(Ie+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,24))}),h.prototype.readBigInt64BE=Ue(function(ve){Ne(ve>>>=0,"offset");var Ie=this[ve],De=this[ve+7];void 0!==Ie&&void 0!==De||Se(ve,this.length-8);var ze=(Ie<<24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+this[++ve];return(BigInt(ze)<<BigInt(32))+BigInt(this[++ve]*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+De)}),h.prototype.readFloatLE=function(ve,Ie){return ve>>>=0,Ie||te(ve,4,this.length),p.read(this,ve,!0,23,4)},h.prototype.readFloatBE=function(ve,Ie){return ve>>>=0,Ie||te(ve,4,this.length),p.read(this,ve,!1,23,4)},h.prototype.readDoubleLE=function(ve,Ie){return ve>>>=0,Ie||te(ve,8,this.length),p.read(this,ve,!0,52,8)},h.prototype.readDoubleBE=function(ve,Ie){return ve>>>=0,Ie||te(ve,8,this.length),p.read(this,ve,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(ve,Ie,De,ze){ve=+ve,Ie>>>=0,De>>>=0,ze||oe(this,ve,Ie,De,Math.pow(2,8*De)-1,0);var Ge=1,He=0;for(this[Ie]=255&ve;++He<De&&(Ge*=256);)this[Ie+He]=ve/Ge&255;return Ie+De},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(ve,Ie,De,ze){ve=+ve,Ie>>>=0,De>>>=0,ze||oe(this,ve,Ie,De,Math.pow(2,8*De)-1,0);var Ge=De-1,He=1;for(this[Ie+Ge]=255&ve;--Ge>=0&&(He*=256);)this[Ie+Ge]=ve/He&255;return Ie+De},h.prototype.writeUint8=h.prototype.writeUInt8=function(ve,Ie,De){return ve=+ve,Ie>>>=0,De||oe(this,ve,Ie,1,255,0),this[Ie]=255&ve,Ie+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(ve,Ie,De){return ve=+ve,Ie>>>=0,De||oe(this,ve,Ie,2,65535,0),this[Ie]=255&ve,this[Ie+1]=ve>>>8,Ie+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(ve,Ie,De){return ve=+ve,Ie>>>=0,De||oe(this,ve,Ie,2,65535,0),this[Ie]=ve>>>8,this[Ie+1]=255&ve,Ie+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(ve,Ie,De){return ve=+ve,Ie>>>=0,De||oe(this,ve,Ie,4,4294967295,0),this[Ie+3]=ve>>>24,this[Ie+2]=ve>>>16,this[Ie+1]=ve>>>8,this[Ie]=255&ve,Ie+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(ve,Ie,De){return ve=+ve,Ie>>>=0,De||oe(this,ve,Ie,4,4294967295,0),this[Ie]=ve>>>24,this[Ie+1]=ve>>>16,this[Ie+2]=ve>>>8,this[Ie+3]=255&ve,Ie+4},h.prototype.writeBigUInt64LE=Ue(function(ve){return ue(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Ue(function(ve){return fe(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(ve,Ie,De,ze){if(ve=+ve,Ie>>>=0,!ze){var Ge=Math.pow(2,8*De-1);oe(this,ve,Ie,De,Ge-1,-Ge)}var He=0,Ke=1,et=0;for(this[Ie]=255&ve;++He<De&&(Ke*=256);)ve<0&&0===et&&0!==this[Ie+He-1]&&(et=1),this[Ie+He]=(ve/Ke>>0)-et&255;return Ie+De},h.prototype.writeIntBE=function(ve,Ie,De,ze){if(ve=+ve,Ie>>>=0,!ze){var Ge=Math.pow(2,8*De-1);oe(this,ve,Ie,De,Ge-1,-Ge)}var He=De-1,Ke=1,et=0;for(this[Ie+He]=255&ve;--He>=0&&(Ke*=256);)ve<0&&0===et&&0!==this[Ie+He+1]&&(et=1),this[Ie+He]=(ve/Ke>>0)-et&255;return Ie+De},h.prototype.writeInt8=function(ve,Ie,De){return ve=+ve,Ie>>>=0,De||oe(this,ve,Ie,1,127,-128),ve<0&&(ve=255+ve+1),this[Ie]=255&ve,Ie+1},h.prototype.writeInt16LE=function(ve,Ie,De){return ve=+ve,Ie>>>=0,De||oe(this,ve,Ie,2,32767,-32768),this[Ie]=255&ve,this[Ie+1]=ve>>>8,Ie+2},h.prototype.writeInt16BE=function(ve,Ie,De){return ve=+ve,Ie>>>=0,De||oe(this,ve,Ie,2,32767,-32768),this[Ie]=ve>>>8,this[Ie+1]=255&ve,Ie+2},h.prototype.writeInt32LE=function(ve,Ie,De){return ve=+ve,Ie>>>=0,De||oe(this,ve,Ie,4,2147483647,-2147483648),this[Ie]=255&ve,this[Ie+1]=ve>>>8,this[Ie+2]=ve>>>16,this[Ie+3]=ve>>>24,Ie+4},h.prototype.writeInt32BE=function(ve,Ie,De){return ve=+ve,Ie>>>=0,De||oe(this,ve,Ie,4,2147483647,-2147483648),ve<0&&(ve=4294967295+ve+1),this[Ie]=ve>>>24,this[Ie+1]=ve>>>16,this[Ie+2]=ve>>>8,this[Ie+3]=255&ve,Ie+4},h.prototype.writeBigInt64LE=Ue(function(ve){return ue(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Ue(function(ve){return fe(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(ve,Ie,De){return me(this,ve,Ie,!0,De)},h.prototype.writeFloatBE=function(ve,Ie,De){return me(this,ve,Ie,!1,De)},h.prototype.writeDoubleLE=function(ve,Ie,De){return ke(this,ve,Ie,!0,De)},h.prototype.writeDoubleBE=function(ve,Ie,De){return ke(this,ve,Ie,!1,De)},h.prototype.copy=function(ve,Ie,De,ze){if(!h.isBuffer(ve))throw new TypeError("argument should be a Buffer");if(De||(De=0),ze||0===ze||(ze=this.length),Ie>=ve.length&&(Ie=ve.length),Ie||(Ie=0),ze>0&&ze<De&&(ze=De),ze===De||0===ve.length||0===this.length)return 0;if(Ie<0)throw new RangeError("targetStart out of bounds");if(De<0||De>=this.length)throw new RangeError("Index out of range");if(ze<0)throw new RangeError("sourceEnd out of bounds");ze>this.length&&(ze=this.length),ve.length-Ie<ze-De&&(ze=ve.length-Ie+De);var Ge=ze-De;return this===ve&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Ie,De,ze):Uint8Array.prototype.set.call(ve,this.subarray(De,ze),Ie),Ge},h.prototype.fill=function(ve,Ie,De,ze){if("string"==typeof ve){if("string"==typeof Ie?(ze=Ie,Ie=0,De=this.length):"string"==typeof De&&(ze=De,De=this.length),void 0!==ze&&"string"!=typeof ze)throw new TypeError("encoding must be a string");if("string"==typeof ze&&!h.isEncoding(ze))throw new TypeError("Unknown encoding: "+ze);if(1===ve.length){var Ge=ve.charCodeAt(0);("utf8"===ze&&Ge<128||"latin1"===ze)&&(ve=Ge)}}else"number"==typeof ve?ve&=255:"boolean"==typeof ve&&(ve=Number(ve));if(Ie<0||this.length<Ie||this.length<De)throw new RangeError("Out of range index");if(De<=Ie)return this;var He;if(Ie>>>=0,De=void 0===De?this.length:De>>>0,ve||(ve=0),"number"==typeof ve)for(He=Ie;He<De;++He)this[He]=ve;else{var Ke=h.isBuffer(ve)?ve:h.from(ve,ze),et=Ke.length;if(0===et)throw new TypeError('The value "'+ve+'" is invalid for argument "value"');for(He=0;He<De-Ie;++He)this[He+Ie]=Ke[He%et]}return this};var Pe={};function Te(ve,Ie,De){Pe[ve]=function(ze){!function(at,kt){if("function"!=typeof kt&&null!==kt)throw new TypeError("Super expression must either be null or a function");at.prototype=Object.create(kt&&kt.prototype,{constructor:{value:at,writable:!0,configurable:!0}}),Object.defineProperty(at,"prototype",{writable:!1}),kt&&r(at,kt)}(mt,ze);var Ge,He,Ke,et,st=(Ke=mt,et=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var at,kt=a(Ke);if(et){var St=a(this).constructor;at=Reflect.construct(kt,arguments,St)}else at=kt.apply(this,arguments);return function(gt,dt){if(dt&&("object"===s(dt)||"function"==typeof dt))return dt;if(void 0!==dt)throw new TypeError("Derived constructors may only return object or undefined");return n(gt)}(this,at)});function mt(){var at;return function(kt,St){if(!(kt instanceof St))throw new TypeError("Cannot call a class as a function")}(this,mt),at=st.call(this),Object.defineProperty(n(at),"message",{value:Ie.apply(n(at),arguments),writable:!0,configurable:!0}),at.name="".concat(at.name," [").concat(ve,"]"),delete at.name,at}return Ge=mt,(He=[{key:"code",get:function(){return ve},set:function(at){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:at,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ve,"]: ").concat(this.message)}}])&&function o(ve,Ie){for(var De=0;De<Ie.length;De++){var ze=Ie[De];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(ve,ze.key,ze)}}(Ge.prototype,He),Object.defineProperty(Ge,"prototype",{writable:!1}),mt}(De)}function be(ve){for(var Ie="",De=ve.length,ze="-"===ve[0]?1:0;De>=ze+4;De-=3)Ie="_".concat(ve.slice(De-3,De)).concat(Ie);return"".concat(ve.slice(0,De)).concat(Ie)}function xe(ve,Ie,De,ze,Ge,He){if(ve>De||ve<Ie){var Ke,et="bigint"==typeof Ie?"n":"";throw Ke=He>3?0===Ie||Ie===BigInt(0)?">= 0".concat(et," and < 2").concat(et," ** ").concat(8*(He+1)).concat(et):">= -(2".concat(et," ** ").concat(8*(He+1)-1).concat(et,") and < 2 ** ")+"".concat(8*(He+1)-1).concat(et):">= ".concat(Ie).concat(et," and <= ").concat(De).concat(et),new Pe.ERR_OUT_OF_RANGE("value",Ke,ve)}var st,mt,at;st=ze,at=He,Ne(mt=Ge,"offset"),void 0!==st[mt]&&void 0!==st[mt+at]||Se(mt,st.length-(at+1))}function Ne(ve,Ie){if("number"!=typeof ve)throw new Pe.ERR_INVALID_ARG_TYPE(Ie,"number",ve)}function Se(ve,Ie,De){throw Math.floor(ve)!==ve?(Ne(ve,De),new Pe.ERR_OUT_OF_RANGE(De||"offset","an integer",ve)):Ie<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE(De||"offset",">= ".concat(De?1:0," and <= ").concat(Ie),ve)}Te("ERR_BUFFER_OUT_OF_BOUNDS",function(ve){return ve?"".concat(ve," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function(ve,Ie){return'The "'.concat(ve,'" argument must be of type number. Received type ').concat(s(Ie))},TypeError),Te("ERR_OUT_OF_RANGE",function(ve,Ie,De){var ze='The value of "'.concat(ve,'" is out of range.'),Ge=De;return Number.isInteger(De)&&Math.abs(De)>Math.pow(2,32)?Ge=be(String(De)):"bigint"==typeof De&&(Ge=String(De),(De>Math.pow(BigInt(2),BigInt(32))||De<-Math.pow(BigInt(2),BigInt(32)))&&(Ge=be(Ge)),Ge+="n"),ze+" It must be ".concat(Ie,". Received ").concat(Ge)},RangeError);var Ce=/[^+/0-9A-Za-z-_]/g;function pe(ve,Ie){var De;Ie=Ie||1/0;for(var ze=ve.length,Ge=null,He=[],Ke=0;Ke<ze;++Ke){if((De=ve.charCodeAt(Ke))>55295&&De<57344){if(!Ge){if(De>56319){(Ie-=3)>-1&&He.push(239,191,189);continue}if(Ke+1===ze){(Ie-=3)>-1&&He.push(239,191,189);continue}Ge=De;continue}if(De<56320){(Ie-=3)>-1&&He.push(239,191,189),Ge=De;continue}De=65536+(Ge-55296<<10|De-56320)}else Ge&&(Ie-=3)>-1&&He.push(239,191,189);if(Ge=null,De<128){if((Ie-=1)<0)break;He.push(De)}else if(De<2048){if((Ie-=2)<0)break;He.push(De>>6|192,63&De|128)}else if(De<65536){if((Ie-=3)<0)break;He.push(De>>12|224,De>>6&63|128,63&De|128)}else{if(!(De<1114112))throw new Error("Invalid code point");if((Ie-=4)<0)break;He.push(De>>18|240,De>>12&63|128,De>>6&63|128,63&De|128)}}return He}function de(ve){return c.toByteArray(function(Ie){if((Ie=(Ie=Ie.split("=")[0]).trim().replace(Ce,"")).length<2)return"";for(;Ie.length%4!=0;)Ie+="=";return Ie}(ve))}function se(ve,Ie,De,ze){var Ge;for(Ge=0;Ge<ze&&!(Ge+De>=Ie.length||Ge>=ve.length);++Ge)Ie[Ge+De]=ve[Ge];return Ge}function we(ve,Ie){return ve instanceof Ie||null!=ve&&null!=ve.constructor&&null!=ve.constructor.name&&ve.constructor.name===Ie.name}function Re(ve){return ve!=ve}var Ee=function(){for(var ve="0123456789abcdef",Ie=new Array(256),De=0;De<16;++De)for(var ze=16*De,Ge=0;Ge<16;++Ge)Ie[ze+Ge]=ve[De]+ve[Ge];return Ie}();function Ue(ve){return typeof BigInt>"u"?$e:ve}function $e(){throw new Error("BigInt not supported")}},2321:function(m){"use strict";m.exports=r,m.exports.isMobile=r,m.exports.default=r;var l=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,o=/android|ipad|playbook|silk/i;function r(n){n||(n={});var a=n.ua;if(a||typeof navigator>"u"||(a=navigator.userAgent),a&&a.headers&&"string"==typeof a.headers["user-agent"]&&(a=a.headers["user-agent"]),"string"!=typeof a)return!1;var s=l.test(a)&&!t.test(a)||!!n.tablet&&o.test(a);return!s&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==a.indexOf("Macintosh")&&-1!==a.indexOf("Safari")&&(s=!0),s}},3910:function(m,l){"use strict";l.byteLength=function(p){var f=s(p),v=f[1];return 3*(f[0]+v)/4-v},l.toByteArray=function(p){var f,w,k,v=s(p),h=v[0],_=v[1],x=new r(3*(h+(k=_))/4-k),b=0,M=_>0?h-4:h;for(w=0;w<M;w+=4)f=o[p.charCodeAt(w)]<<18|o[p.charCodeAt(w+1)]<<12|o[p.charCodeAt(w+2)]<<6|o[p.charCodeAt(w+3)],x[b++]=f>>16&255,x[b++]=f>>8&255,x[b++]=255&f;return 2===_&&(f=o[p.charCodeAt(w)]<<2|o[p.charCodeAt(w+1)]>>4,x[b++]=255&f),1===_&&(f=o[p.charCodeAt(w)]<<10|o[p.charCodeAt(w+1)]<<4|o[p.charCodeAt(w+2)]>>2,x[b++]=f>>8&255,x[b++]=255&f),x},l.fromByteArray=function(p){for(var f,w=p.length,v=w%3,h=[],_=16383,x=0,b=w-v;x<b;x+=_)h.push(c(p,x,x+_>b?b:x+_));return 1===v?h.push(t[(f=p[w-1])>>2]+t[f<<4&63]+"=="):2===v&&h.push(t[(f=(p[w-2]<<8)+p[w-1])>>10]+t[f>>4&63]+t[f<<2&63]+"="),h.join("")};for(var t=[],o=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)t[a]=n[a],o[n.charCodeAt(a)]=a;function s(p){var f=p.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=p.indexOf("=");return-1===w&&(w=f),[w,w===f?0:4-w%4]}function c(p,f,w){for(var h,_=[],x=f;x<w;x+=3)_.push(t[(h=(p[x]<<16&16711680)+(p[x+1]<<8&65280)+(255&p[x+2]))>>18&63]+t[h>>12&63]+t[h>>6&63]+t[63&h]);return _.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},3187:function(m,l){l.read=function(t,o,r,n,a){var s,c,p=8*a-n-1,f=(1<<p)-1,w=f>>1,v=-7,h=r?a-1:0,_=r?-1:1,x=t[o+h];for(h+=_,s=x&(1<<-v)-1,x>>=-v,v+=p;v>0;s=256*s+t[o+h],h+=_,v-=8);for(c=s&(1<<-v)-1,s>>=-v,v+=n;v>0;c=256*c+t[o+h],h+=_,v-=8);if(0===s)s=1-w;else{if(s===f)return c?NaN:1/0*(x?-1:1);c+=Math.pow(2,n),s-=w}return(x?-1:1)*c*Math.pow(2,s-n)},l.write=function(t,o,r,n,a,s){var c,p,f,w=8*s-a-1,v=(1<<w)-1,h=v>>1,_=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:s-1,b=n?1:-1,M=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(p=isNaN(o)?1:0,c=v):(c=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-c))<1&&(c--,f*=2),(o+=c+h>=1?_/f:_*Math.pow(2,1-h))*f>=2&&(c++,f/=2),c+h>=v?(p=0,c=v):c+h>=1?(p=(o*f-1)*Math.pow(2,a),c+=h):(p=o*Math.pow(2,h-1)*Math.pow(2,a),c=0));a>=8;t[r+x]=255&p,x+=b,p/=256,a-=8);for(c=c<<a|p,w+=a;w>0;t[r+x]=255&c,x+=b,c/=256,w-=8);t[r+x-b]|=128*M}},1152:function(m,l,t){"use strict";m.exports=function(c){var p=(c=c||{}).eye||[0,0,1],f=c.center||[0,0,0],w=c.up||[0,1,0],v=c.distanceLimits||[0,1/0],h=c.mode||"turntable",_=o(),x=r(),b=n();return _.setDistanceLimits(v[0],v[1]),_.lookAt(0,p,f,w),x.setDistanceLimits(v[0],v[1]),x.lookAt(0,p,f,w),b.setDistanceLimits(v[0],v[1]),b.lookAt(0,p,f,w),new a({turntable:_,orbit:x,matrix:b},h)};var o=t(3440),r=t(7774),n=t(9298);function a(c,p){this._controllerNames=Object.keys(c),this._controllerList=this._controllerNames.map(function(f){return c[f]}),this._mode=p,this._active=c[p],this._active||(this._mode="turntable",this._active=c.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=a.prototype;s.flush=function(c){for(var p=this._controllerList,f=0;f<p.length;++f)p[f].flush(c)},s.idle=function(c){for(var p=this._controllerList,f=0;f<p.length;++f)p[f].idle(c)},s.lookAt=function(c,p,f,w){for(var v=this._controllerList,h=0;h<v.length;++h)v[h].lookAt(c,p,f,w)},s.rotate=function(c,p,f,w){for(var v=this._controllerList,h=0;h<v.length;++h)v[h].rotate(c,p,f,w)},s.pan=function(c,p,f,w){for(var v=this._controllerList,h=0;h<v.length;++h)v[h].pan(c,p,f,w)},s.translate=function(c,p,f,w){for(var v=this._controllerList,h=0;h<v.length;++h)v[h].translate(c,p,f,w)},s.setMatrix=function(c,p){for(var f=this._controllerList,w=0;w<f.length;++w)f[w].setMatrix(c,p)},s.setDistanceLimits=function(c,p){for(var f=this._controllerList,w=0;w<f.length;++w)f[w].setDistanceLimits(c,p)},s.setDistance=function(c,p){for(var f=this._controllerList,w=0;w<f.length;++w)f[w].setDistance(c,p)},s.recalcMatrix=function(c){this._active.recalcMatrix(c)},s.getDistance=function(c){return this._active.getDistance(c)},s.getDistanceLimits=function(c){return this._active.getDistanceLimits(c)},s.lastT=function(){return this._active.lastT()},s.setMode=function(c){if(c!==this._mode){var p=this._controllerNames.indexOf(c);if(!(p<0)){var f=this._active,w=this._controllerList[p],v=Math.max(f.lastT(),w.lastT());f.recalcMatrix(v),w.setMatrix(v,f.computedMatrix),this._active=w,this._mode=c,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},8126:function(m,l,t){"use strict";var o=typeof WeakMap>"u"?t(5346):WeakMap,r=t(5827),n=t(2944),a=new o;m.exports=function(s){var c=a.get(s),p=c&&(c._triangleBuffer.handle||c._triangleBuffer.buffer);if(!p||!s.isBuffer(p)){var f=r(s,new Float32Array([-1,-1,-1,4,4,-1]));(c=n(s,[{buffer:f,type:s.FLOAT,size:2}]))._triangleBuffer=f,a.set(s,c)}c.bind(),s.drawArrays(s.TRIANGLES,0,3),c.unbind()}},8008:function(m,l,t){var o=t(4930);m.exports=function(r,n,a){n="number"==typeof n?n:1,a=a||": ";var s=r.split(/\r?\n/),c=String(s.length+n-1).length;return s.map(function(p,f){var w=f+n,v=String(w).length;return o(w,c-v)+a+p}).join("\n")}},2153:function(m,l,t){"use strict";m.exports=function(n){var a=n.length;if(0===a)return[];if(1===a)return[0];for(var s=n[0].length,c=[n[0]],p=[0],f=1;f<a;++f)if(c.push(n[f]),r(c,s)){if(p.push(f),p.length===s+1)return p}else c.pop();return p};var o=t(417);function r(n,a){for(var s=new Array(a+1),c=0;c<n.length;++c)s[c]=n[c];for(c=0;c<=n.length;++c){for(var p=n.length;p<=a;++p){for(var f=new Array(a),w=0;w<a;++w)f[w]=Math.pow(p+1-c,w);s[p]=f}if(o.apply(void 0,s))return!0}return!1}},4653:function(m,l,t){"use strict";m.exports=function(n,a){return o(a).filter(function(s){for(var c=new Array(s.length),p=0;p<s.length;++p)c[p]=a[s[p]];return r(c)*n<1})};var o=t(4419),r=t(1778)},2350:function(m,l,t){m.exports=function(n,a){return r(o(n,a))};var o=t(4653),r=t(8691)},7896:function(m){m.exports=function(l){return atob(l)}},957:function(m,l,t){"use strict";m.exports=function(n,a){for(var s=a.length,c=new Array(s+1),p=0;p<s;++p){for(var f=new Array(s+1),w=0;w<=s;++w)f[w]=n[w][p];c[p]=f}for(c[s]=new Array(s+1),p=0;p<=s;++p)c[s][p]=1;var v=new Array(s+1);for(p=0;p<s;++p)v[p]=a[p];v[s]=1;var h=o(c,v),_=r(h[s+1]);0===_&&(_=1);var x=new Array(s+1);for(p=0;p<=s;++p)x[p]=r(h[p])/_;return x};var o=t(6606);function r(n){for(var a=0,s=0;s<n.length;++s)a+=n[s];return a}},1539:function(m,l,t){"use strict";var o=t(8524);m.exports=function(r,n){return o(r[0].mul(n[1]).add(n[0].mul(r[1])),r[1].mul(n[1]))}},8846:function(m){"use strict";m.exports=function(l,t){return l[0].mul(t[1]).cmp(t[0].mul(l[1]))}},9189:function(m,l,t){"use strict";var o=t(8524);m.exports=function(r,n){return o(r[0].mul(n[1]),r[1].mul(n[0]))}},5125:function(m,l,t){"use strict";var o=t(234),r=t(3218),n=t(5514),a=t(2813),s=t(8524),c=t(9189);m.exports=function p(f,w){if(o(f))return w?c(f,p(w)):[f[0].clone(),f[1].clone()];var v,h,_=0;if(r(f))v=f.clone();else if("string"==typeof f)v=a(f);else{if(0===f)return[n(0),n(1)];if(f===Math.floor(f))v=n(f);else{for(;f!==Math.floor(f);)f*=Math.pow(2,256),_-=256;v=n(f)}}if(o(w))v.mul(w[1]),h=w[0].clone();else if(r(w))h=w.clone();else if("string"==typeof w)h=a(w);else if(w)if(w===Math.floor(w))h=n(w);else{for(;w!==Math.floor(w);)w*=Math.pow(2,256),_+=256;h=n(w)}else h=n(1);return _>0?v=v.ushln(_):_<0&&(h=h.ushln(-_)),s(v,h)}},234:function(m,l,t){"use strict";var o=t(3218);m.exports=function(r){return Array.isArray(r)&&2===r.length&&o(r[0])&&o(r[1])}},4275:function(m,l,t){"use strict";var o=t(1928);m.exports=function(r){return r.cmp(new o(0))}},9958:function(m,l,t){"use strict";var o=t(4275);m.exports=function(r){var n=r.length,a=r.words,s=0;if(1===n)s=a[0];else if(2===n)s=a[0]+67108864*a[1];else for(var c=0;c<n;c++)s+=a[c]*Math.pow(67108864,c);return o(r)*s}},1112:function(m,l,t){"use strict";var o=t(8362),r=t(2288).countTrailingZeros;m.exports=function(n){var a=r(o.lo(n));if(a<32)return a;var s=r(o.hi(n));return s>20?52:s+32}},3218:function(m,l,t){"use strict";t(1928),m.exports=function(o){return o&&"object"==typeof o&&!!o.words}},5514:function(m,l,t){"use strict";var o=t(1928),r=t(8362);m.exports=function(n){var a=r.exponent(n);return a<52?new o(n):new o(n*Math.pow(2,52-a)).ushln(a-52)}},8524:function(m,l,t){"use strict";var o=t(5514),r=t(4275);m.exports=function(n,a){var s=r(n),c=r(a);if(0===s)return[o(0),o(1)];if(0===c)return[o(0),o(0)];c<0&&(n=n.neg(),a=a.neg());var p=n.gcd(a);return p.cmpn(1)?[n.div(p),a.div(p)]:[n,a]}},2813:function(m,l,t){"use strict";var o=t(1928);m.exports=function(r){return new o(r)}},3962:function(m,l,t){"use strict";var o=t(8524);m.exports=function(r,n){return o(r[0].mul(n[0]),r[1].mul(n[1]))}},4951:function(m,l,t){"use strict";var o=t(4275);m.exports=function(r){return o(r[0])*o(r[1])}},4354:function(m,l,t){"use strict";var o=t(8524);m.exports=function(r,n){return o(r[0].mul(n[1]).sub(r[1].mul(n[0])),r[1].mul(n[1]))}},7999:function(m,l,t){"use strict";var o=t(9958),r=t(1112);m.exports=function(n){var a=n[0],s=n[1];if(0===a.cmpn(0))return 0;var c=a.abs().divmod(s.abs()),f=o(c.div),w=c.mod,v=a.negative!==s.negative?-1:1;if(0===w.cmpn(0))return v*f;if(f){var h=r(f)+4;return v*(f+(x=o(w.ushln(h).divRound(s)))*Math.pow(2,-h))}var _=s.bitLength()-w.bitLength()+53,x=o(w.ushln(_).divRound(s));return _<1023?v*x*Math.pow(2,-_):v*(x*=Math.pow(2,-1023))*Math.pow(2,1023-_)}},5070:function(m){"use strict";function l(s,c,p,f,w){for(var v=w+1;f<=w;){var h=f+w>>>1,_=s[h];(void 0!==p?p(_,c):_-c)>=0?(v=h,w=h-1):f=h+1}return v}function t(s,c,p,f,w){for(var v=w+1;f<=w;){var h=f+w>>>1,_=s[h];(void 0!==p?p(_,c):_-c)>0?(v=h,w=h-1):f=h+1}return v}function o(s,c,p,f,w){for(var v=f-1;f<=w;){var h=f+w>>>1,_=s[h];(void 0!==p?p(_,c):_-c)<0?(v=h,f=h+1):w=h-1}return v}function r(s,c,p,f,w){for(var v=f-1;f<=w;){var h=f+w>>>1,_=s[h];(void 0!==p?p(_,c):_-c)<=0?(v=h,f=h+1):w=h-1}return v}function n(s,c,p,f,w){for(;f<=w;){var v=f+w>>>1,h=s[v],_=void 0!==p?p(h,c):h-c;if(0===_)return v;_<=0?f=v+1:w=v-1}return-1}function a(s,c,p,f,w,v){return"function"==typeof p?v(s,c,p,void 0===f?0:0|f,void 0===w?s.length-1:0|w):v(s,c,void 0,void 0===p?0:0|p,void 0===f?s.length-1:0|f)}m.exports={ge:function(s,c,p,f,w){return a(s,c,p,f,w,l)},gt:function(s,c,p,f,w){return a(s,c,p,f,w,t)},lt:function(s,c,p,f,w){return a(s,c,p,f,w,o)},le:function(s,c,p,f,w){return a(s,c,p,f,w,r)},eq:function(s,c,p,f,w){return a(s,c,p,f,w,n)}}},2288:function(m,l){"use strict";function t(r){var n=32;return(r&=-r)&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}l.INT_BITS=32,l.INT_MAX=2147483647,l.INT_MIN=-2147483648,l.sign=function(r){return(r>0)-(r<0)},l.abs=function(r){var n=r>>31;return(r^n)-n},l.min=function(r,n){return n^(r^n)&-(r<n)},l.max=function(r,n){return r^(r^n)&-(r<n)},l.isPow2=function(r){return!(r&r-1||!r)},l.log2=function(r){var n,a;return n=(r>65535)<<4,n|=a=((r>>>=n)>255)<<3,n|=a=((r>>>=a)>15)<<2,(n|=a=((r>>>=a)>3)<<1)|(r>>>=a)>>1},l.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},l.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},l.countTrailingZeros=t,l.nextPow2=function(r){return r+=0===r,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,1+((r|=r>>>8)|r>>>16)},l.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},l.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var o=new Array(256);(function(r){for(var n=0;n<256;++n){var a=n,s=n,c=7;for(a>>>=1;a;a>>>=1)s<<=1,s|=1&a,--c;r[n]=s<<c&255}})(o),l.reverse=function(r){return o[255&r]<<24|o[r>>>8&255]<<16|o[r>>>16&255]<<8|o[r>>>24&255]},l.interleave2=function(r,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},l.deinterleave2=function(r,n){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>n&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},l.interleave3=function(r,n,a){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<2},l.deinterleave3=function(r,n){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>n&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},l.nextCombination=function(r){var n=r|r-1;return n+1|(~n&-~n)-1>>>t(r)+1}},1928:function(m,l,t){!function(o,r){"use strict";function n(N,W){if(!N)throw new Error(W||"Assertion failed")}function a(N,W){N.super_=W;var H=function(){};H.prototype=W.prototype,N.prototype=new H,N.prototype.constructor=N}function s(N,W,H){if(s.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,null!==N&&("le"!==W&&"be"!==W||(H=W,W=10),this._init(N||0,W||10,H||"be"))}var c;"object"==typeof o?o.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{c=typeof window<"u"&&void 0!==window.Buffer?window.Buffer:t(6601).Buffer}catch{}function p(N,W){var H=N.charCodeAt(W);return H>=65&&H<=70?H-55:H>=97&&H<=102?H-87:H-48&15}function f(N,W,H){var U=p(N,H);return H-1>=W&&(U|=p(N,H-1)<<4),U}function w(N,W,H,U){for(var Z=0,Y=Math.min(N.length,H),ae=W;ae<Y;ae++){var re=N.charCodeAt(ae)-48;Z*=U,Z+=re>=49?re-49+10:re>=17?re-17+10:re}return Z}s.isBN=function(N){return N instanceof s||null!==N&&"object"==typeof N&&N.constructor.wordSize===s.wordSize&&Array.isArray(N.words)},s.max=function(N,W){return N.cmp(W)>0?N:W},s.min=function(N,W){return N.cmp(W)<0?N:W},s.prototype._init=function(N,W,H){if("number"==typeof N)return this._initNumber(N,W,H);if("object"==typeof N)return this._initArray(N,W,H);"hex"===W&&(W=16),n(W===(0|W)&&W>=2&&W<=36);var U=0;"-"===(N=N.toString().replace(/\s+/g,""))[0]&&(U++,this.negative=1),U<N.length&&(16===W?this._parseHex(N,U,H):(this._parseBase(N,W,U),"le"===H&&this._initArray(this.toArray(),W,H)))},s.prototype._initNumber=function(N,W,H){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(n(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),"le"===H&&this._initArray(this.toArray(),W,H)},s.prototype._initArray=function(N,W,H){if(n("number"==typeof N.length),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var Z,Y,ae=0;if("be"===H)for(U=N.length-1,Z=0;U>=0;U-=3)this.words[Z]|=(Y=N[U]|N[U-1]<<8|N[U-2]<<16)<<ae&67108863,this.words[Z+1]=Y>>>26-ae&67108863,(ae+=24)>=26&&(ae-=26,Z++);else if("le"===H)for(U=0,Z=0;U<N.length;U+=3)this.words[Z]|=(Y=N[U]|N[U+1]<<8|N[U+2]<<16)<<ae&67108863,this.words[Z+1]=Y>>>26-ae&67108863,(ae+=24)>=26&&(ae-=26,Z++);return this.strip()},s.prototype._parseHex=function(N,W,H){this.length=Math.ceil((N.length-W)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var Z,Y=0,ae=0;if("be"===H)for(U=N.length-1;U>=W;U-=2)Z=f(N,W,U)<<Y,this.words[ae]|=67108863&Z,Y>=18?(Y-=18,this.words[ae+=1]|=Z>>>26):Y+=8;else for(U=(N.length-W)%2==0?W+1:W;U<N.length;U+=2)Z=f(N,W,U)<<Y,this.words[ae]|=67108863&Z,Y>=18?(Y-=18,this.words[ae+=1]|=Z>>>26):Y+=8;this.strip()},s.prototype._parseBase=function(N,W,H){this.words=[0],this.length=1;for(var U=0,Z=1;Z<=67108863;Z*=W)U++;U--,Z=Z/W|0;for(var Y=N.length-H,ae=Y%U,re=Math.min(Y,Y-ae)+H,Q=0,K=H;K<re;K+=U)Q=w(N,K,K+U,W),this.imuln(Z),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(0!==ae){var te=1;for(Q=w(N,K,N.length,W),K=0;K<ae;K++)te*=W;this.imuln(te),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this.strip()},s.prototype.copy=function(N){N.words=new Array(this.length);for(var W=0;W<this.length;W++)N.words[W]=this.words[W];N.length=this.length,N.negative=this.negative,N.red=this.red},s.prototype.clone=function(){var N=new s(null);return this.copy(N),N},s.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(N,W,H){H.negative=W.negative^N.negative;var U=N.length+W.length|0;H.length=U,U=U-1|0;var Z=0|N.words[0],Y=0|W.words[0],ae=Z*Y,Q=ae/67108864|0;H.words[0]=67108863&ae;for(var K=1;K<U;K++){for(var te=Q>>>26,oe=67108863&Q,ue=Math.min(K,W.length-1),fe=Math.max(0,K-N.length+1);fe<=ue;fe++)te+=(ae=(Z=0|N.words[K-fe|0])*(Y=0|W.words[fe])+oe)/67108864|0,oe=67108863&ae;H.words[K]=0|oe,Q=0|te}return 0!==Q?H.words[K]=0|Q:H.length--,H.strip()}s.prototype.toString=function(N,W){var H;if(W=0|W||1,16===(N=N||10)||"hex"===N){H="";for(var U=0,Z=0,Y=0;Y<this.length;Y++){var ae=this.words[Y],re=(16777215&(ae<<U|Z)).toString(16);H=0!=(Z=ae>>>24-U&16777215)||Y!==this.length-1?v[6-re.length]+re+H:re+H,(U+=2)>=26&&(U-=26,Y--)}for(0!==Z&&(H=Z.toString(16)+H);H.length%W!=0;)H="0"+H;return 0!==this.negative&&(H="-"+H),H}if(N===(0|N)&&N>=2&&N<=36){var Q=h[N],K=_[N];H="";var te=this.clone();for(te.negative=0;!te.isZero();){var oe=te.modn(K).toString(N);H=(te=te.idivn(K)).isZero()?oe+H:v[Q-oe.length]+oe+H}for(this.isZero()&&(H="0"+H);H.length%W!=0;)H="0"+H;return 0!==this.negative&&(H="-"+H),H}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var N=this.words[0];return 2===this.length?N+=67108864*this.words[1]:3===this.length&&1===this.words[2]?N+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-N:N},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(N,W){return n(void 0!==c),this.toArrayLike(c,N,W)},s.prototype.toArray=function(N,W){return this.toArrayLike(Array,N,W)},s.prototype.toArrayLike=function(N,W,H){var U=this.byteLength(),Z=H||Math.max(1,U);n(U<=Z,"byte array longer than desired length"),n(Z>0,"Requested array length <= 0"),this.strip();var Y,ae,re="le"===W,Q=new N(Z),K=this.clone();if(re){for(ae=0;!K.isZero();ae++)Y=K.andln(255),K.iushrn(8),Q[ae]=Y;for(;ae<Z;ae++)Q[ae]=0}else{for(ae=0;ae<Z-U;ae++)Q[ae]=0;for(ae=0;!K.isZero();ae++)Y=K.andln(255),K.iushrn(8),Q[Z-ae-1]=Y}return Q},s.prototype._countBits=Math.clz32?function(N){return 32-Math.clz32(N)}:function(N){var W=N,H=0;return W>=4096&&(H+=13,W>>>=13),W>=64&&(H+=7,W>>>=7),W>=8&&(H+=4,W>>>=4),W>=2&&(H+=2,W>>>=2),H+W},s.prototype._zeroBits=function(N){if(0===N)return 26;var W=N,H=0;return!(8191&W)&&(H+=13,W>>>=13),!(127&W)&&(H+=7,W>>>=7),!(15&W)&&(H+=4,W>>>=4),!(3&W)&&(H+=2,W>>>=2),!(1&W)&&H++,H},s.prototype.bitLength=function(){var W=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+W},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,W=0;W<this.length;W++){var H=this._zeroBits(this.words[W]);if(N+=H,26!==H)break}return N},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(N){return 0!==this.negative?this.abs().inotn(N).iaddn(1):this.clone()},s.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var W=0;W<N.length;W++)this.words[W]=this.words[W]|N.words[W];return this.strip()},s.prototype.ior=function(N){return n(0==(this.negative|N.negative)),this.iuor(N)},s.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},s.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},s.prototype.iuand=function(N){var W;W=this.length>N.length?N:this;for(var H=0;H<W.length;H++)this.words[H]=this.words[H]&N.words[H];return this.length=W.length,this.strip()},s.prototype.iand=function(N){return n(0==(this.negative|N.negative)),this.iuand(N)},s.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},s.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},s.prototype.iuxor=function(N){var W,H;this.length>N.length?(W=this,H=N):(W=N,H=this);for(var U=0;U<H.length;U++)this.words[U]=W.words[U]^H.words[U];if(this!==W)for(;U<W.length;U++)this.words[U]=W.words[U];return this.length=W.length,this.strip()},s.prototype.ixor=function(N){return n(0==(this.negative|N.negative)),this.iuxor(N)},s.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},s.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},s.prototype.inotn=function(N){n("number"==typeof N&&N>=0);var W=0|Math.ceil(N/26),H=N%26;this._expand(W),H>0&&W--;for(var U=0;U<W;U++)this.words[U]=67108863&~this.words[U];return H>0&&(this.words[U]=~this.words[U]&67108863>>26-H),this.strip()},s.prototype.notn=function(N){return this.clone().inotn(N)},s.prototype.setn=function(N,W){n("number"==typeof N&&N>=0);var H=N/26|0,U=N%26;return this._expand(H+1),this.words[H]=W?this.words[H]|1<<U:this.words[H]&~(1<<U),this.strip()},s.prototype.iadd=function(N){var W,H,U;if(0!==this.negative&&0===N.negative)return this.negative=0,W=this.isub(N),this.negative^=1,this._normSign();if(0===this.negative&&0!==N.negative)return N.negative=0,W=this.isub(N),N.negative=1,W._normSign();this.length>N.length?(H=this,U=N):(H=N,U=this);for(var Z=0,Y=0;Y<U.length;Y++)this.words[Y]=67108863&(W=(0|H.words[Y])+(0|U.words[Y])+Z),Z=W>>>26;for(;0!==Z&&Y<H.length;Y++)this.words[Y]=67108863&(W=(0|H.words[Y])+Z),Z=W>>>26;if(this.length=H.length,0!==Z)this.words[this.length]=Z,this.length++;else if(H!==this)for(;Y<H.length;Y++)this.words[Y]=H.words[Y];return this},s.prototype.add=function(N){var W;return 0!==N.negative&&0===this.negative?(N.negative=0,W=this.sub(N),N.negative^=1,W):0===N.negative&&0!==this.negative?(this.negative=0,W=N.sub(this),this.negative=1,W):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},s.prototype.isub=function(N){if(0!==N.negative){N.negative=0;var W=this.iadd(N);return N.negative=1,W._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var H,U,Z=this.cmp(N);if(0===Z)return this.negative=0,this.length=1,this.words[0]=0,this;Z>0?(H=this,U=N):(H=N,U=this);for(var Y=0,ae=0;ae<U.length;ae++)Y=(W=(0|H.words[ae])-(0|U.words[ae])+Y)>>26,this.words[ae]=67108863&W;for(;0!==Y&&ae<H.length;ae++)Y=(W=(0|H.words[ae])+Y)>>26,this.words[ae]=67108863&W;if(0===Y&&ae<H.length&&H!==this)for(;ae<H.length;ae++)this.words[ae]=H.words[ae];return this.length=Math.max(this.length,ae),H!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(N){return this.clone().isub(N)};var b=function(N,W,H){var U,Z,Y,ae=N.words,re=W.words,Q=H.words,K=0,te=0|ae[0],oe=8191&te,ue=te>>>13,fe=0|ae[1],he=8191&fe,me=fe>>>13,ke=0|ae[2],Pe=8191&ke,Te=ke>>>13,be=0|ae[3],xe=8191&be,Ne=be>>>13,Se=0|ae[4],Ce=8191&Se,pe=Se>>>13,de=0|ae[5],se=8191&de,we=de>>>13,Re=0|ae[6],Ee=8191&Re,Ue=Re>>>13,$e=0|ae[7],ve=8191&$e,Ie=$e>>>13,De=0|ae[8],ze=8191&De,Ge=De>>>13,He=0|ae[9],Ke=8191&He,et=He>>>13,st=0|re[0],mt=8191&st,at=st>>>13,kt=0|re[1],St=8191&kt,gt=kt>>>13,dt=0|re[2],Ct=8191&dt,Ot=dt>>>13,Pt=0|re[3],Ht=8191&Pt,jt=Pt>>>13,nt=0|re[4],it=8191&nt,Xe=nt>>>13,rt=0|re[5],ft=8191&rt,vt=rt>>>13,je=0|re[6],Ve=8191&je,ut=je>>>13,ct=0|re[7],Tt=8191&ct,Mt=ct>>>13,At=0|re[8],bt=8191&At,Rt=At>>>13,xt=0|re[9],_t=8191&xt,It=xt>>>13;H.negative=N.negative^W.negative,H.length=19;var Gt=(K+(U=Math.imul(oe,mt))|0)+((8191&(Z=(Z=Math.imul(oe,at))+Math.imul(ue,mt)|0))<<13)|0;K=((Y=Math.imul(ue,at))+(Z>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,U=Math.imul(he,mt),Z=(Z=Math.imul(he,at))+Math.imul(me,mt)|0,Y=Math.imul(me,at);var Wt=(K+(U=U+Math.imul(oe,St)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,gt)|0)+Math.imul(ue,St)|0))<<13)|0;K=((Y=Y+Math.imul(ue,gt)|0)+(Z>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,U=Math.imul(Pe,mt),Z=(Z=Math.imul(Pe,at))+Math.imul(Te,mt)|0,Y=Math.imul(Te,at),U=U+Math.imul(he,St)|0,Z=(Z=Z+Math.imul(he,gt)|0)+Math.imul(me,St)|0,Y=Y+Math.imul(me,gt)|0;var Zt=(K+(U=U+Math.imul(oe,Ct)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,Ot)|0)+Math.imul(ue,Ct)|0))<<13)|0;K=((Y=Y+Math.imul(ue,Ot)|0)+(Z>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,U=Math.imul(xe,mt),Z=(Z=Math.imul(xe,at))+Math.imul(Ne,mt)|0,Y=Math.imul(Ne,at),U=U+Math.imul(Pe,St)|0,Z=(Z=Z+Math.imul(Pe,gt)|0)+Math.imul(Te,St)|0,Y=Y+Math.imul(Te,gt)|0,U=U+Math.imul(he,Ct)|0,Z=(Z=Z+Math.imul(he,Ot)|0)+Math.imul(me,Ct)|0,Y=Y+Math.imul(me,Ot)|0;var cn=(K+(U=U+Math.imul(oe,Ht)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,jt)|0)+Math.imul(ue,Ht)|0))<<13)|0;K=((Y=Y+Math.imul(ue,jt)|0)+(Z>>>13)|0)+(cn>>>26)|0,cn&=67108863,U=Math.imul(Ce,mt),Z=(Z=Math.imul(Ce,at))+Math.imul(pe,mt)|0,Y=Math.imul(pe,at),U=U+Math.imul(xe,St)|0,Z=(Z=Z+Math.imul(xe,gt)|0)+Math.imul(Ne,St)|0,Y=Y+Math.imul(Ne,gt)|0,U=U+Math.imul(Pe,Ct)|0,Z=(Z=Z+Math.imul(Pe,Ot)|0)+Math.imul(Te,Ct)|0,Y=Y+Math.imul(Te,Ot)|0,U=U+Math.imul(he,Ht)|0,Z=(Z=Z+Math.imul(he,jt)|0)+Math.imul(me,Ht)|0,Y=Y+Math.imul(me,jt)|0;var nn=(K+(U=U+Math.imul(oe,it)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,Xe)|0)+Math.imul(ue,it)|0))<<13)|0;K=((Y=Y+Math.imul(ue,Xe)|0)+(Z>>>13)|0)+(nn>>>26)|0,nn&=67108863,U=Math.imul(se,mt),Z=(Z=Math.imul(se,at))+Math.imul(we,mt)|0,Y=Math.imul(we,at),U=U+Math.imul(Ce,St)|0,Z=(Z=Z+Math.imul(Ce,gt)|0)+Math.imul(pe,St)|0,Y=Y+Math.imul(pe,gt)|0,U=U+Math.imul(xe,Ct)|0,Z=(Z=Z+Math.imul(xe,Ot)|0)+Math.imul(Ne,Ct)|0,Y=Y+Math.imul(Ne,Ot)|0,U=U+Math.imul(Pe,Ht)|0,Z=(Z=Z+Math.imul(Pe,jt)|0)+Math.imul(Te,Ht)|0,Y=Y+Math.imul(Te,jt)|0,U=U+Math.imul(he,it)|0,Z=(Z=Z+Math.imul(he,Xe)|0)+Math.imul(me,it)|0,Y=Y+Math.imul(me,Xe)|0;var ln=(K+(U=U+Math.imul(oe,ft)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,vt)|0)+Math.imul(ue,ft)|0))<<13)|0;K=((Y=Y+Math.imul(ue,vt)|0)+(Z>>>13)|0)+(ln>>>26)|0,ln&=67108863,U=Math.imul(Ee,mt),Z=(Z=Math.imul(Ee,at))+Math.imul(Ue,mt)|0,Y=Math.imul(Ue,at),U=U+Math.imul(se,St)|0,Z=(Z=Z+Math.imul(se,gt)|0)+Math.imul(we,St)|0,Y=Y+Math.imul(we,gt)|0,U=U+Math.imul(Ce,Ct)|0,Z=(Z=Z+Math.imul(Ce,Ot)|0)+Math.imul(pe,Ct)|0,Y=Y+Math.imul(pe,Ot)|0,U=U+Math.imul(xe,Ht)|0,Z=(Z=Z+Math.imul(xe,jt)|0)+Math.imul(Ne,Ht)|0,Y=Y+Math.imul(Ne,jt)|0,U=U+Math.imul(Pe,it)|0,Z=(Z=Z+Math.imul(Pe,Xe)|0)+Math.imul(Te,it)|0,Y=Y+Math.imul(Te,Xe)|0,U=U+Math.imul(he,ft)|0,Z=(Z=Z+Math.imul(he,vt)|0)+Math.imul(me,ft)|0,Y=Y+Math.imul(me,vt)|0;var Qt=(K+(U=U+Math.imul(oe,Ve)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,ut)|0)+Math.imul(ue,Ve)|0))<<13)|0;K=((Y=Y+Math.imul(ue,ut)|0)+(Z>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,U=Math.imul(ve,mt),Z=(Z=Math.imul(ve,at))+Math.imul(Ie,mt)|0,Y=Math.imul(Ie,at),U=U+Math.imul(Ee,St)|0,Z=(Z=Z+Math.imul(Ee,gt)|0)+Math.imul(Ue,St)|0,Y=Y+Math.imul(Ue,gt)|0,U=U+Math.imul(se,Ct)|0,Z=(Z=Z+Math.imul(se,Ot)|0)+Math.imul(we,Ct)|0,Y=Y+Math.imul(we,Ot)|0,U=U+Math.imul(Ce,Ht)|0,Z=(Z=Z+Math.imul(Ce,jt)|0)+Math.imul(pe,Ht)|0,Y=Y+Math.imul(pe,jt)|0,U=U+Math.imul(xe,it)|0,Z=(Z=Z+Math.imul(xe,Xe)|0)+Math.imul(Ne,it)|0,Y=Y+Math.imul(Ne,Xe)|0,U=U+Math.imul(Pe,ft)|0,Z=(Z=Z+Math.imul(Pe,vt)|0)+Math.imul(Te,ft)|0,Y=Y+Math.imul(Te,vt)|0,U=U+Math.imul(he,Ve)|0,Z=(Z=Z+Math.imul(he,ut)|0)+Math.imul(me,Ve)|0,Y=Y+Math.imul(me,ut)|0;var kn=(K+(U=U+Math.imul(oe,Tt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,Mt)|0)+Math.imul(ue,Tt)|0))<<13)|0;K=((Y=Y+Math.imul(ue,Mt)|0)+(Z>>>13)|0)+(kn>>>26)|0,kn&=67108863,U=Math.imul(ze,mt),Z=(Z=Math.imul(ze,at))+Math.imul(Ge,mt)|0,Y=Math.imul(Ge,at),U=U+Math.imul(ve,St)|0,Z=(Z=Z+Math.imul(ve,gt)|0)+Math.imul(Ie,St)|0,Y=Y+Math.imul(Ie,gt)|0,U=U+Math.imul(Ee,Ct)|0,Z=(Z=Z+Math.imul(Ee,Ot)|0)+Math.imul(Ue,Ct)|0,Y=Y+Math.imul(Ue,Ot)|0,U=U+Math.imul(se,Ht)|0,Z=(Z=Z+Math.imul(se,jt)|0)+Math.imul(we,Ht)|0,Y=Y+Math.imul(we,jt)|0,U=U+Math.imul(Ce,it)|0,Z=(Z=Z+Math.imul(Ce,Xe)|0)+Math.imul(pe,it)|0,Y=Y+Math.imul(pe,Xe)|0,U=U+Math.imul(xe,ft)|0,Z=(Z=Z+Math.imul(xe,vt)|0)+Math.imul(Ne,ft)|0,Y=Y+Math.imul(Ne,vt)|0,U=U+Math.imul(Pe,Ve)|0,Z=(Z=Z+Math.imul(Pe,ut)|0)+Math.imul(Te,Ve)|0,Y=Y+Math.imul(Te,ut)|0,U=U+Math.imul(he,Tt)|0,Z=(Z=Z+Math.imul(he,Mt)|0)+Math.imul(me,Tt)|0,Y=Y+Math.imul(me,Mt)|0;var Pn=(K+(U=U+Math.imul(oe,bt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,Rt)|0)+Math.imul(ue,bt)|0))<<13)|0;K=((Y=Y+Math.imul(ue,Rt)|0)+(Z>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,U=Math.imul(Ke,mt),Z=(Z=Math.imul(Ke,at))+Math.imul(et,mt)|0,Y=Math.imul(et,at),U=U+Math.imul(ze,St)|0,Z=(Z=Z+Math.imul(ze,gt)|0)+Math.imul(Ge,St)|0,Y=Y+Math.imul(Ge,gt)|0,U=U+Math.imul(ve,Ct)|0,Z=(Z=Z+Math.imul(ve,Ot)|0)+Math.imul(Ie,Ct)|0,Y=Y+Math.imul(Ie,Ot)|0,U=U+Math.imul(Ee,Ht)|0,Z=(Z=Z+Math.imul(Ee,jt)|0)+Math.imul(Ue,Ht)|0,Y=Y+Math.imul(Ue,jt)|0,U=U+Math.imul(se,it)|0,Z=(Z=Z+Math.imul(se,Xe)|0)+Math.imul(we,it)|0,Y=Y+Math.imul(we,Xe)|0,U=U+Math.imul(Ce,ft)|0,Z=(Z=Z+Math.imul(Ce,vt)|0)+Math.imul(pe,ft)|0,Y=Y+Math.imul(pe,vt)|0,U=U+Math.imul(xe,Ve)|0,Z=(Z=Z+Math.imul(xe,ut)|0)+Math.imul(Ne,Ve)|0,Y=Y+Math.imul(Ne,ut)|0,U=U+Math.imul(Pe,Tt)|0,Z=(Z=Z+Math.imul(Pe,Mt)|0)+Math.imul(Te,Tt)|0,Y=Y+Math.imul(Te,Mt)|0,U=U+Math.imul(he,bt)|0,Z=(Z=Z+Math.imul(he,Rt)|0)+Math.imul(me,bt)|0,Y=Y+Math.imul(me,Rt)|0;var Tn=(K+(U=U+Math.imul(oe,_t)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,It)|0)+Math.imul(ue,_t)|0))<<13)|0;K=((Y=Y+Math.imul(ue,It)|0)+(Z>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,U=Math.imul(Ke,St),Z=(Z=Math.imul(Ke,gt))+Math.imul(et,St)|0,Y=Math.imul(et,gt),U=U+Math.imul(ze,Ct)|0,Z=(Z=Z+Math.imul(ze,Ot)|0)+Math.imul(Ge,Ct)|0,Y=Y+Math.imul(Ge,Ot)|0,U=U+Math.imul(ve,Ht)|0,Z=(Z=Z+Math.imul(ve,jt)|0)+Math.imul(Ie,Ht)|0,Y=Y+Math.imul(Ie,jt)|0,U=U+Math.imul(Ee,it)|0,Z=(Z=Z+Math.imul(Ee,Xe)|0)+Math.imul(Ue,it)|0,Y=Y+Math.imul(Ue,Xe)|0,U=U+Math.imul(se,ft)|0,Z=(Z=Z+Math.imul(se,vt)|0)+Math.imul(we,ft)|0,Y=Y+Math.imul(we,vt)|0,U=U+Math.imul(Ce,Ve)|0,Z=(Z=Z+Math.imul(Ce,ut)|0)+Math.imul(pe,Ve)|0,Y=Y+Math.imul(pe,ut)|0,U=U+Math.imul(xe,Tt)|0,Z=(Z=Z+Math.imul(xe,Mt)|0)+Math.imul(Ne,Tt)|0,Y=Y+Math.imul(Ne,Mt)|0,U=U+Math.imul(Pe,bt)|0,Z=(Z=Z+Math.imul(Pe,Rt)|0)+Math.imul(Te,bt)|0,Y=Y+Math.imul(Te,Rt)|0;var tn=(K+(U=U+Math.imul(he,_t)|0)|0)+((8191&(Z=(Z=Z+Math.imul(he,It)|0)+Math.imul(me,_t)|0))<<13)|0;K=((Y=Y+Math.imul(me,It)|0)+(Z>>>13)|0)+(tn>>>26)|0,tn&=67108863,U=Math.imul(Ke,Ct),Z=(Z=Math.imul(Ke,Ot))+Math.imul(et,Ct)|0,Y=Math.imul(et,Ot),U=U+Math.imul(ze,Ht)|0,Z=(Z=Z+Math.imul(ze,jt)|0)+Math.imul(Ge,Ht)|0,Y=Y+Math.imul(Ge,jt)|0,U=U+Math.imul(ve,it)|0,Z=(Z=Z+Math.imul(ve,Xe)|0)+Math.imul(Ie,it)|0,Y=Y+Math.imul(Ie,Xe)|0,U=U+Math.imul(Ee,ft)|0,Z=(Z=Z+Math.imul(Ee,vt)|0)+Math.imul(Ue,ft)|0,Y=Y+Math.imul(Ue,vt)|0,U=U+Math.imul(se,Ve)|0,Z=(Z=Z+Math.imul(se,ut)|0)+Math.imul(we,Ve)|0,Y=Y+Math.imul(we,ut)|0,U=U+Math.imul(Ce,Tt)|0,Z=(Z=Z+Math.imul(Ce,Mt)|0)+Math.imul(pe,Tt)|0,Y=Y+Math.imul(pe,Mt)|0,U=U+Math.imul(xe,bt)|0,Z=(Z=Z+Math.imul(xe,Rt)|0)+Math.imul(Ne,bt)|0,Y=Y+Math.imul(Ne,Rt)|0;var gn=(K+(U=U+Math.imul(Pe,_t)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Pe,It)|0)+Math.imul(Te,_t)|0))<<13)|0;K=((Y=Y+Math.imul(Te,It)|0)+(Z>>>13)|0)+(gn>>>26)|0,gn&=67108863,U=Math.imul(Ke,Ht),Z=(Z=Math.imul(Ke,jt))+Math.imul(et,Ht)|0,Y=Math.imul(et,jt),U=U+Math.imul(ze,it)|0,Z=(Z=Z+Math.imul(ze,Xe)|0)+Math.imul(Ge,it)|0,Y=Y+Math.imul(Ge,Xe)|0,U=U+Math.imul(ve,ft)|0,Z=(Z=Z+Math.imul(ve,vt)|0)+Math.imul(Ie,ft)|0,Y=Y+Math.imul(Ie,vt)|0,U=U+Math.imul(Ee,Ve)|0,Z=(Z=Z+Math.imul(Ee,ut)|0)+Math.imul(Ue,Ve)|0,Y=Y+Math.imul(Ue,ut)|0,U=U+Math.imul(se,Tt)|0,Z=(Z=Z+Math.imul(se,Mt)|0)+Math.imul(we,Tt)|0,Y=Y+Math.imul(we,Mt)|0,U=U+Math.imul(Ce,bt)|0,Z=(Z=Z+Math.imul(Ce,Rt)|0)+Math.imul(pe,bt)|0,Y=Y+Math.imul(pe,Rt)|0;var hn=(K+(U=U+Math.imul(xe,_t)|0)|0)+((8191&(Z=(Z=Z+Math.imul(xe,It)|0)+Math.imul(Ne,_t)|0))<<13)|0;K=((Y=Y+Math.imul(Ne,It)|0)+(Z>>>13)|0)+(hn>>>26)|0,hn&=67108863,U=Math.imul(Ke,it),Z=(Z=Math.imul(Ke,Xe))+Math.imul(et,it)|0,Y=Math.imul(et,Xe),U=U+Math.imul(ze,ft)|0,Z=(Z=Z+Math.imul(ze,vt)|0)+Math.imul(Ge,ft)|0,Y=Y+Math.imul(Ge,vt)|0,U=U+Math.imul(ve,Ve)|0,Z=(Z=Z+Math.imul(ve,ut)|0)+Math.imul(Ie,Ve)|0,Y=Y+Math.imul(Ie,ut)|0,U=U+Math.imul(Ee,Tt)|0,Z=(Z=Z+Math.imul(Ee,Mt)|0)+Math.imul(Ue,Tt)|0,Y=Y+Math.imul(Ue,Mt)|0,U=U+Math.imul(se,bt)|0,Z=(Z=Z+Math.imul(se,Rt)|0)+Math.imul(we,bt)|0,Y=Y+Math.imul(we,Rt)|0;var mn=(K+(U=U+Math.imul(Ce,_t)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Ce,It)|0)+Math.imul(pe,_t)|0))<<13)|0;K=((Y=Y+Math.imul(pe,It)|0)+(Z>>>13)|0)+(mn>>>26)|0,mn&=67108863,U=Math.imul(Ke,ft),Z=(Z=Math.imul(Ke,vt))+Math.imul(et,ft)|0,Y=Math.imul(et,vt),U=U+Math.imul(ze,Ve)|0,Z=(Z=Z+Math.imul(ze,ut)|0)+Math.imul(Ge,Ve)|0,Y=Y+Math.imul(Ge,ut)|0,U=U+Math.imul(ve,Tt)|0,Z=(Z=Z+Math.imul(ve,Mt)|0)+Math.imul(Ie,Tt)|0,Y=Y+Math.imul(Ie,Mt)|0,U=U+Math.imul(Ee,bt)|0,Z=(Z=Z+Math.imul(Ee,Rt)|0)+Math.imul(Ue,bt)|0,Y=Y+Math.imul(Ue,Rt)|0;var En=(K+(U=U+Math.imul(se,_t)|0)|0)+((8191&(Z=(Z=Z+Math.imul(se,It)|0)+Math.imul(we,_t)|0))<<13)|0;K=((Y=Y+Math.imul(we,It)|0)+(Z>>>13)|0)+(En>>>26)|0,En&=67108863,U=Math.imul(Ke,Ve),Z=(Z=Math.imul(Ke,ut))+Math.imul(et,Ve)|0,Y=Math.imul(et,ut),U=U+Math.imul(ze,Tt)|0,Z=(Z=Z+Math.imul(ze,Mt)|0)+Math.imul(Ge,Tt)|0,Y=Y+Math.imul(Ge,Mt)|0,U=U+Math.imul(ve,bt)|0,Z=(Z=Z+Math.imul(ve,Rt)|0)+Math.imul(Ie,bt)|0,Y=Y+Math.imul(Ie,Rt)|0;var vn=(K+(U=U+Math.imul(Ee,_t)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Ee,It)|0)+Math.imul(Ue,_t)|0))<<13)|0;K=((Y=Y+Math.imul(Ue,It)|0)+(Z>>>13)|0)+(vn>>>26)|0,vn&=67108863,U=Math.imul(Ke,Tt),Z=(Z=Math.imul(Ke,Mt))+Math.imul(et,Tt)|0,Y=Math.imul(et,Mt),U=U+Math.imul(ze,bt)|0,Z=(Z=Z+Math.imul(ze,Rt)|0)+Math.imul(Ge,bt)|0,Y=Y+Math.imul(Ge,Rt)|0;var Un=(K+(U=U+Math.imul(ve,_t)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ve,It)|0)+Math.imul(Ie,_t)|0))<<13)|0;K=((Y=Y+Math.imul(Ie,It)|0)+(Z>>>13)|0)+(Un>>>26)|0,Un&=67108863,U=Math.imul(Ke,bt),Z=(Z=Math.imul(Ke,Rt))+Math.imul(et,bt)|0,Y=Math.imul(et,Rt);var Hn=(K+(U=U+Math.imul(ze,_t)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ze,It)|0)+Math.imul(Ge,_t)|0))<<13)|0;K=((Y=Y+Math.imul(Ge,It)|0)+(Z>>>13)|0)+(Hn>>>26)|0,Hn&=67108863;var On=(K+(U=Math.imul(Ke,_t))|0)+((8191&(Z=(Z=Math.imul(Ke,It))+Math.imul(et,_t)|0))<<13)|0;return K=((Y=Math.imul(et,It))+(Z>>>13)|0)+(On>>>26)|0,On&=67108863,Q[0]=Gt,Q[1]=Wt,Q[2]=Zt,Q[3]=cn,Q[4]=nn,Q[5]=ln,Q[6]=Qt,Q[7]=kn,Q[8]=Pn,Q[9]=Tn,Q[10]=tn,Q[11]=gn,Q[12]=hn,Q[13]=mn,Q[14]=En,Q[15]=vn,Q[16]=Un,Q[17]=Hn,Q[18]=On,0!==K&&(Q[19]=K,H.length++),H};function M(N,W,H){return(new d).mulp(N,W,H)}function d(N,W){this.x=N,this.y=W}Math.imul||(b=x),s.prototype.mulTo=function(N,W){var U=this.length+N.length;return 10===this.length&&10===N.length?b(this,N,W):U<63?x(this,N,W):U<1024?function(Z,Y,ae){ae.negative=Y.negative^Z.negative,ae.length=Z.length+Y.length;for(var re=0,Q=0,K=0;K<ae.length-1;K++){var te=Q;Q=0;for(var oe=67108863&re,ue=Math.min(K,Y.length-1),fe=Math.max(0,K-Z.length+1);fe<=ue;fe++){var me=(0|Z.words[K-fe])*(0|Y.words[fe]),ke=67108863&me;oe=67108863&(ke=ke+oe|0),Q+=(te=(te=te+(me/67108864|0)|0)+(ke>>>26)|0)>>>26,te&=67108863}ae.words[K]=oe,re=te,te=Q}return 0!==re?ae.words[K]=re:ae.length--,ae.strip()}(this,N,W):M(this,N,W)},d.prototype.makeRBT=function(N){for(var W=new Array(N),H=s.prototype._countBits(N)-1,U=0;U<N;U++)W[U]=this.revBin(U,H,N);return W},d.prototype.revBin=function(N,W,H){if(0===N||N===H-1)return N;for(var U=0,Z=0;Z<W;Z++)U|=(1&N)<<W-Z-1,N>>=1;return U},d.prototype.permute=function(N,W,H,U,Z,Y){for(var ae=0;ae<Y;ae++)U[ae]=W[N[ae]],Z[ae]=H[N[ae]]},d.prototype.transform=function(N,W,H,U,Z,Y){this.permute(Y,N,W,H,U,Z);for(var ae=1;ae<Z;ae<<=1)for(var re=ae<<1,Q=Math.cos(2*Math.PI/re),K=Math.sin(2*Math.PI/re),te=0;te<Z;te+=re)for(var oe=Q,ue=K,fe=0;fe<ae;fe++){var he=H[te+fe],me=U[te+fe],ke=H[te+fe+ae],Pe=U[te+fe+ae],Te=oe*ke-ue*Pe;Pe=oe*Pe+ue*ke,H[te+fe]=he+(ke=Te),U[te+fe]=me+Pe,H[te+fe+ae]=he-ke,U[te+fe+ae]=me-Pe,fe!==re&&(Te=Q*oe-K*ue,ue=Q*ue+K*oe,oe=Te)}},d.prototype.guessLen13b=function(N,W){var H=1|Math.max(W,N),U=1&H,Z=0;for(H=H/2|0;H;H>>>=1)Z++;return 1<<Z+1+U},d.prototype.conjugate=function(N,W,H){if(!(H<=1))for(var U=0;U<H/2;U++){var Z=N[U];N[U]=N[H-U-1],N[H-U-1]=Z,Z=W[U],W[U]=-W[H-U-1],W[H-U-1]=-Z}},d.prototype.normalize13b=function(N,W){for(var H=0,U=0;U<W/2;U++){var Z=8192*Math.round(N[2*U+1]/W)+Math.round(N[2*U]/W)+H;N[U]=67108863&Z,H=Z<67108864?0:Z/67108864|0}return N},d.prototype.convert13b=function(N,W,H,U){for(var Z=0,Y=0;Y<W;Y++)H[2*Y]=8191&(Z+=0|N[Y]),H[2*Y+1]=8191&(Z>>>=13),Z>>>=13;for(Y=2*W;Y<U;++Y)H[Y]=0;n(0===Z),n(0==(-8192&Z))},d.prototype.stub=function(N){for(var W=new Array(N),H=0;H<N;H++)W[H]=0;return W},d.prototype.mulp=function(N,W,H){var U=2*this.guessLen13b(N.length,W.length),Z=this.makeRBT(U),Y=this.stub(U),ae=new Array(U),re=new Array(U),Q=new Array(U),K=new Array(U),te=new Array(U),oe=new Array(U),ue=H.words;ue.length=U,this.convert13b(N.words,N.length,ae,U),this.convert13b(W.words,W.length,K,U),this.transform(ae,Y,re,Q,U,Z),this.transform(K,Y,te,oe,U,Z);for(var fe=0;fe<U;fe++){var he=re[fe]*te[fe]-Q[fe]*oe[fe];Q[fe]=re[fe]*oe[fe]+Q[fe]*te[fe],re[fe]=he}return this.conjugate(re,Q,U),this.transform(re,Q,ue,Y,U,Z),this.conjugate(ue,Y,U),this.normalize13b(ue,U),H.negative=N.negative^W.negative,H.length=N.length+W.length,H.strip()},s.prototype.mul=function(N){var W=new s(null);return W.words=new Array(this.length+N.length),this.mulTo(N,W)},s.prototype.mulf=function(N){var W=new s(null);return W.words=new Array(this.length+N.length),M(this,N,W)},s.prototype.imul=function(N){return this.clone().mulTo(N,this)},s.prototype.imuln=function(N){n("number"==typeof N),n(N<67108864);for(var W=0,H=0;H<this.length;H++){var U=(0|this.words[H])*N,Z=(67108863&U)+(67108863&W);W>>=26,W+=U/67108864|0,W+=Z>>>26,this.words[H]=67108863&Z}return 0!==W&&(this.words[H]=W,this.length++),this},s.prototype.muln=function(N){return this.clone().imuln(N)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(N){var W=function(Y){for(var ae=new Array(Y.bitLength()),re=0;re<ae.length;re++){var K=re%26;ae[re]=(Y.words[re/26|0]&1<<K)>>>K}return ae}(N);if(0===W.length)return new s(1);for(var H=this,U=0;U<W.length&&0===W[U];U++,H=H.sqr());if(++U<W.length)for(var Z=H.sqr();U<W.length;U++,Z=Z.sqr())0!==W[U]&&(H=H.mul(Z));return H},s.prototype.iushln=function(N){n("number"==typeof N&&N>=0);var W,H=N%26,U=(N-H)/26,Z=67108863>>>26-H<<26-H;if(0!==H){var Y=0;for(W=0;W<this.length;W++){var ae=this.words[W]&Z;this.words[W]=(0|this.words[W])-ae<<H|Y,Y=ae>>>26-H}Y&&(this.words[W]=Y,this.length++)}if(0!==U){for(W=this.length-1;W>=0;W--)this.words[W+U]=this.words[W];for(W=0;W<U;W++)this.words[W]=0;this.length+=U}return this.strip()},s.prototype.ishln=function(N){return n(0===this.negative),this.iushln(N)},s.prototype.iushrn=function(N,W,H){var U;n("number"==typeof N&&N>=0),U=W?(W-W%26)/26:0;var Z=N%26,Y=Math.min((N-Z)/26,this.length),ae=67108863^67108863>>>Z<<Z,re=H;if(U-=Y,U=Math.max(0,U),re){for(var Q=0;Q<Y;Q++)re.words[Q]=this.words[Q];re.length=Y}if(0!==Y)if(this.length>Y)for(this.length-=Y,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+Y];else this.words[0]=0,this.length=1;var K=0;for(Q=this.length-1;Q>=0&&(0!==K||Q>=U);Q--){var te=0|this.words[Q];this.words[Q]=K<<26-Z|te>>>Z,K=te&ae}return re&&0!==K&&(re.words[re.length++]=K),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(N,W,H){return n(0===this.negative),this.iushrn(N,W,H)},s.prototype.shln=function(N){return this.clone().ishln(N)},s.prototype.ushln=function(N){return this.clone().iushln(N)},s.prototype.shrn=function(N){return this.clone().ishrn(N)},s.prototype.ushrn=function(N){return this.clone().iushrn(N)},s.prototype.testn=function(N){n("number"==typeof N&&N>=0);var W=N%26,H=(N-W)/26;return!(this.length<=H||!(this.words[H]&1<<W))},s.prototype.imaskn=function(N){n("number"==typeof N&&N>=0);var W=N%26,H=(N-W)/26;return n(0===this.negative,"imaskn works only with positive numbers"),this.length<=H?this:(0!==W&&H++,this.length=Math.min(H,this.length),0!==W&&(this.words[this.length-1]&=67108863^67108863>>>W<<W),this.strip())},s.prototype.maskn=function(N){return this.clone().imaskn(N)},s.prototype.iaddn=function(N){return n("number"==typeof N),n(N<67108864),N<0?this.isubn(-N):0!==this.negative?1===this.length&&(0|this.words[0])<N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},s.prototype._iaddn=function(N){this.words[0]+=N;for(var W=0;W<this.length&&this.words[W]>=67108864;W++)this.words[W]-=67108864,W===this.length-1?this.words[W+1]=1:this.words[W+1]++;return this.length=Math.max(this.length,W+1),this},s.prototype.isubn=function(N){if(n("number"==typeof N),n(N<67108864),N<0)return this.iaddn(-N);if(0!==this.negative)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var W=0;W<this.length&&this.words[W]<0;W++)this.words[W]+=67108864,this.words[W+1]-=1;return this.strip()},s.prototype.addn=function(N){return this.clone().iaddn(N)},s.prototype.subn=function(N){return this.clone().isubn(N)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(N,W,H){var U,Z;this._expand(N.length+H);var ae=0;for(U=0;U<N.length;U++){Z=(0|this.words[U+H])+ae;var re=(0|N.words[U])*W;ae=((Z-=67108863&re)>>26)-(re/67108864|0),this.words[U+H]=67108863&Z}for(;U<this.length-H;U++)ae=(Z=(0|this.words[U+H])+ae)>>26,this.words[U+H]=67108863&Z;if(0===ae)return this.strip();for(n(-1===ae),ae=0,U=0;U<this.length;U++)ae=(Z=-(0|this.words[U])+ae)>>26,this.words[U]=67108863&Z;return this.negative=1,this.strip()},s.prototype._wordDiv=function(N,W){var H,U=this.clone(),Z=N,Y=0|Z.words[Z.length-1];0!=(H=26-this._countBits(Y))&&(Z=Z.ushln(H),U.iushln(H),Y=0|Z.words[Z.length-1]);var ae,re=U.length-Z.length;if("mod"!==W){(ae=new s(null)).length=re+1,ae.words=new Array(ae.length);for(var Q=0;Q<ae.length;Q++)ae.words[Q]=0}var K=U.clone()._ishlnsubmul(Z,1,re);0===K.negative&&(U=K,ae&&(ae.words[re]=1));for(var te=re-1;te>=0;te--){var oe=67108864*(0|U.words[Z.length+te])+(0|U.words[Z.length+te-1]);for(oe=Math.min(oe/Y|0,67108863),U._ishlnsubmul(Z,oe,te);0!==U.negative;)oe--,U.negative=0,U._ishlnsubmul(Z,1,te),U.isZero()||(U.negative^=1);ae&&(ae.words[te]=oe)}return ae&&ae.strip(),U.strip(),"div"!==W&&0!==H&&U.iushrn(H),{div:ae||null,mod:U}},s.prototype.divmod=function(N,W,H){return n(!N.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===N.negative?(Y=this.neg().divmod(N,W),"mod"!==W&&(U=Y.div.neg()),"div"!==W&&(Z=Y.mod.neg(),H&&0!==Z.negative&&Z.iadd(N)),{div:U,mod:Z}):0===this.negative&&0!==N.negative?(Y=this.divmod(N.neg(),W),"mod"!==W&&(U=Y.div.neg()),{div:U,mod:Y.mod}):this.negative&N.negative?(Y=this.neg().divmod(N.neg(),W),"div"!==W&&(Z=Y.mod.neg(),H&&0!==Z.negative&&Z.isub(N)),{div:Y.div,mod:Z}):N.length>this.length||this.cmp(N)<0?{div:new s(0),mod:this}:1===N.length?"div"===W?{div:this.divn(N.words[0]),mod:null}:"mod"===W?{div:null,mod:new s(this.modn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new s(this.modn(N.words[0]))}:this._wordDiv(N,W);var U,Z,Y},s.prototype.div=function(N){return this.divmod(N,"div",!1).div},s.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},s.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},s.prototype.divRound=function(N){var W=this.divmod(N);if(W.mod.isZero())return W.div;var H=0!==W.div.negative?W.mod.isub(N):W.mod,U=N.ushrn(1),Z=N.andln(1),Y=H.cmp(U);return Y<0||1===Z&&0===Y?W.div:0!==W.div.negative?W.div.isubn(1):W.div.iaddn(1)},s.prototype.modn=function(N){n(N<=67108863);for(var W=67108864%N,H=0,U=this.length-1;U>=0;U--)H=(W*H+(0|this.words[U]))%N;return H},s.prototype.idivn=function(N){n(N<=67108863);for(var W=0,H=this.length-1;H>=0;H--){var U=(0|this.words[H])+67108864*W;this.words[H]=U/N|0,W=U%N}return this.strip()},s.prototype.divn=function(N){return this.clone().idivn(N)},s.prototype.egcd=function(N){n(0===N.negative),n(!N.isZero());var W=this,H=N.clone();W=0!==W.negative?W.umod(N):W.clone();for(var U=new s(1),Z=new s(0),Y=new s(0),ae=new s(1),re=0;W.isEven()&&H.isEven();)W.iushrn(1),H.iushrn(1),++re;for(var Q=H.clone(),K=W.clone();!W.isZero();){for(var te=0,oe=1;!(W.words[0]&oe)&&te<26;++te,oe<<=1);if(te>0)for(W.iushrn(te);te-- >0;)(U.isOdd()||Z.isOdd())&&(U.iadd(Q),Z.isub(K)),U.iushrn(1),Z.iushrn(1);for(var ue=0,fe=1;!(H.words[0]&fe)&&ue<26;++ue,fe<<=1);if(ue>0)for(H.iushrn(ue);ue-- >0;)(Y.isOdd()||ae.isOdd())&&(Y.iadd(Q),ae.isub(K)),Y.iushrn(1),ae.iushrn(1);W.cmp(H)>=0?(W.isub(H),U.isub(Y),Z.isub(ae)):(H.isub(W),Y.isub(U),ae.isub(Z))}return{a:Y,b:ae,gcd:H.iushln(re)}},s.prototype._invmp=function(N){n(0===N.negative),n(!N.isZero());var W=this,H=N.clone();W=0!==W.negative?W.umod(N):W.clone();for(var U,Z=new s(1),Y=new s(0),ae=H.clone();W.cmpn(1)>0&&H.cmpn(1)>0;){for(var re=0,Q=1;!(W.words[0]&Q)&&re<26;++re,Q<<=1);if(re>0)for(W.iushrn(re);re-- >0;)Z.isOdd()&&Z.iadd(ae),Z.iushrn(1);for(var K=0,te=1;!(H.words[0]&te)&&K<26;++K,te<<=1);if(K>0)for(H.iushrn(K);K-- >0;)Y.isOdd()&&Y.iadd(ae),Y.iushrn(1);W.cmp(H)>=0?(W.isub(H),Z.isub(Y)):(H.isub(W),Y.isub(Z))}return(U=0===W.cmpn(1)?Z:Y).cmpn(0)<0&&U.iadd(N),U},s.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var W=this.clone(),H=N.clone();W.negative=0,H.negative=0;for(var U=0;W.isEven()&&H.isEven();U++)W.iushrn(1),H.iushrn(1);for(;;){for(;W.isEven();)W.iushrn(1);for(;H.isEven();)H.iushrn(1);var Z=W.cmp(H);if(Z<0){var Y=W;W=H,H=Y}else if(0===Z||0===H.cmpn(1))break;W.isub(H)}return H.iushln(U)},s.prototype.invm=function(N){return this.egcd(N).a.umod(N)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(N){return this.words[0]&N},s.prototype.bincn=function(N){n("number"==typeof N);var W=N%26,H=(N-W)/26,U=1<<W;if(this.length<=H)return this._expand(H+1),this.words[H]|=U,this;for(var Z=U,Y=H;0!==Z&&Y<this.length;Y++){var ae=0|this.words[Y];Z=(ae+=Z)>>>26,this.words[Y]=ae&=67108863}return 0!==Z&&(this.words[Y]=Z,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(N){var W,H=N<0;if(0!==this.negative&&!H)return-1;if(0===this.negative&&H)return 1;if(this.strip(),this.length>1)W=1;else{H&&(N=-N),n(N<=67108863,"Number is too big");var U=0|this.words[0];W=U===N?0:U<N?-1:1}return 0!==this.negative?0|-W:W},s.prototype.cmp=function(N){if(0!==this.negative&&0===N.negative)return-1;if(0===this.negative&&0!==N.negative)return 1;var W=this.ucmp(N);return 0!==this.negative?0|-W:W},s.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var W=0,H=this.length-1;H>=0;H--){var U=0|this.words[H],Z=0|N.words[H];if(U!==Z){U<Z?W=-1:U>Z&&(W=1);break}}return W},s.prototype.gtn=function(N){return 1===this.cmpn(N)},s.prototype.gt=function(N){return 1===this.cmp(N)},s.prototype.gten=function(N){return this.cmpn(N)>=0},s.prototype.gte=function(N){return this.cmp(N)>=0},s.prototype.ltn=function(N){return-1===this.cmpn(N)},s.prototype.lt=function(N){return-1===this.cmp(N)},s.prototype.lten=function(N){return this.cmpn(N)<=0},s.prototype.lte=function(N){return this.cmp(N)<=0},s.prototype.eqn=function(N){return 0===this.cmpn(N)},s.prototype.eq=function(N){return 0===this.cmp(N)},s.red=function(N){return new z(N)},s.prototype.toRed=function(N){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),N.convertTo(this)._forceRed(N)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(N){return this.red=N,this},s.prototype.forceRed=function(N){return n(!this.red,"Already a number in reduction context"),this._forceRed(N)},s.prototype.redAdd=function(N){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},s.prototype.redIAdd=function(N){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},s.prototype.redSub=function(N){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},s.prototype.redISub=function(N){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},s.prototype.redShl=function(N){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},s.prototype.redMul=function(N){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},s.prototype.redIMul=function(N){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(N){return n(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var E={k256:null,p224:null,p192:null,p25519:null};function k(N,W){this.name=N,this.p=new s(W,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(N){if("string"==typeof N){var W=s._prime(N);this.m=W.p,this.prime=W}else n(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function $(N){z.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var N=new s(null);return N.words=new Array(Math.ceil(this.n/13)),N},k.prototype.ireduce=function(N){var W,H=N;do{this.split(H,this.tmp),W=(H=(H=this.imulK(H)).iadd(this.tmp)).bitLength()}while(W>this.n);var U=W<this.n?-1:H.ucmp(this.p);return 0===U?(H.words[0]=0,H.length=1):U>0?H.isub(this.p):void 0!==H.strip?H.strip():H._strip(),H},k.prototype.split=function(N,W){N.iushrn(this.n,0,W)},k.prototype.imulK=function(N){return N.imul(this.k)},a(I,k),I.prototype.split=function(N,W){for(var H=4194303,U=Math.min(N.length,9),Z=0;Z<U;Z++)W.words[Z]=N.words[Z];if(W.length=U,N.length<=9)return N.words[0]=0,void(N.length=1);var Y=N.words[9];for(W.words[W.length++]=Y&H,Z=10;Z<N.length;Z++){var ae=0|N.words[Z];N.words[Z-10]=(ae&H)<<4|Y>>>22,Y=ae}N.words[Z-10]=Y>>>=22,N.length-=0===Y&&N.length>10?10:9},I.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var W=0,H=0;H<N.length;H++){var U=0|N.words[H];N.words[H]=67108863&(W+=977*U),W=64*U+(W/67108864|0)}return 0===N.words[N.length-1]&&(N.length--,0===N.words[N.length-1]&&N.length--),N},a(L,k),a(P,k),a(R,k),R.prototype.imulK=function(N){for(var W=0,H=0;H<N.length;H++){var U=19*(0|N.words[H])+W,Z=67108863&U;U>>>=26,N.words[H]=Z,W=U}return 0!==W&&(N.words[N.length++]=W),N},s._prime=function(N){if(E[N])return E[N];var W;if("k256"===N)W=new I;else if("p224"===N)W=new L;else if("p192"===N)W=new P;else{if("p25519"!==N)throw new Error("Unknown prime "+N);W=new R}return E[N]=W,W},z.prototype._verify1=function(N){n(0===N.negative,"red works only with positives"),n(N.red,"red works only with red numbers")},z.prototype._verify2=function(N,W){n(0==(N.negative|W.negative),"red works only with positives"),n(N.red&&N.red===W.red,"red works only with red numbers")},z.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):N.umod(this.m)._forceRed(this)},z.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},z.prototype.add=function(N,W){this._verify2(N,W);var H=N.add(W);return H.cmp(this.m)>=0&&H.isub(this.m),H._forceRed(this)},z.prototype.iadd=function(N,W){this._verify2(N,W);var H=N.iadd(W);return H.cmp(this.m)>=0&&H.isub(this.m),H},z.prototype.sub=function(N,W){this._verify2(N,W);var H=N.sub(W);return H.cmpn(0)<0&&H.iadd(this.m),H._forceRed(this)},z.prototype.isub=function(N,W){this._verify2(N,W);var H=N.isub(W);return H.cmpn(0)<0&&H.iadd(this.m),H},z.prototype.shl=function(N,W){return this._verify1(N),this.imod(N.ushln(W))},z.prototype.imul=function(N,W){return this._verify2(N,W),this.imod(N.imul(W))},z.prototype.mul=function(N,W){return this._verify2(N,W),this.imod(N.mul(W))},z.prototype.isqr=function(N){return this.imul(N,N.clone())},z.prototype.sqr=function(N){return this.mul(N,N)},z.prototype.sqrt=function(N){if(N.isZero())return N.clone();var W=this.m.andln(3);if(n(W%2==1),3===W){var H=this.m.add(new s(1)).iushrn(2);return this.pow(N,H)}for(var U=this.m.subn(1),Z=0;!U.isZero()&&0===U.andln(1);)Z++,U.iushrn(1);n(!U.isZero());var Y=new s(1).toRed(this),ae=Y.redNeg(),re=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new s(2*Q*Q).toRed(this);0!==this.pow(Q,re).cmp(ae);)Q.redIAdd(ae);for(var K=this.pow(Q,U),te=this.pow(N,U.addn(1).iushrn(1)),oe=this.pow(N,U),ue=Z;0!==oe.cmp(Y);){for(var fe=oe,he=0;0!==fe.cmp(Y);he++)fe=fe.redSqr();n(he<ue);var me=this.pow(K,new s(1).iushln(ue-he-1));te=te.redMul(me),K=me.redSqr(),oe=oe.redMul(K),ue=he}return te},z.prototype.invm=function(N){var W=N._invmp(this.m);return 0!==W.negative?(W.negative=0,this.imod(W).redNeg()):this.imod(W)},z.prototype.pow=function(N,W){if(W.isZero())return new s(1).toRed(this);if(0===W.cmpn(1))return N.clone();var H=new Array(16);H[0]=new s(1).toRed(this),H[1]=N;for(var U=2;U<H.length;U++)H[U]=this.mul(H[U-1],N);var Z=H[0],Y=0,ae=0,re=W.bitLength()%26;for(0===re&&(re=26),U=W.length-1;U>=0;U--){for(var Q=W.words[U],K=re-1;K>=0;K--){var te=Q>>K&1;Z!==H[0]&&(Z=this.sqr(Z)),0!==te||0!==Y?(Y<<=1,Y|=te,(4==++ae||0===U&&0===K)&&(Z=this.mul(Z,H[Y]),ae=0,Y=0)):ae=0}re=26}return Z},z.prototype.convertTo=function(N){var W=N.umod(this.m);return W===N?W.clone():W},z.prototype.convertFrom=function(N){var W=N.clone();return W.red=null,W},s.mont=function(N){return new $(N)},a($,z),$.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},$.prototype.convertFrom=function(N){var W=this.imod(N.mul(this.rinv));return W.red=null,W},$.prototype.imul=function(N,W){if(N.isZero()||W.isZero())return N.words[0]=0,N.length=1,N;var H=N.imul(W),U=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=H.isub(U).iushrn(this.shift),Y=Z;return Z.cmp(this.m)>=0?Y=Z.isub(this.m):Z.cmpn(0)<0&&(Y=Z.iadd(this.m)),Y._forceRed(this)},$.prototype.mul=function(N,W){if(N.isZero()||W.isZero())return new s(0)._forceRed(this);var H=N.mul(W),U=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=H.isub(U).iushrn(this.shift),Y=Z;return Z.cmp(this.m)>=0?Y=Z.isub(this.m):Z.cmpn(0)<0&&(Y=Z.iadd(this.m)),Y._forceRed(this)},$.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}}(m=t.nmd(m),this)},2692:function(m){"use strict";m.exports=function(l){var t,o,r,n=l.length,a=0;for(t=0;t<n;++t)a+=l[t].length;var s=new Array(a),c=0;for(t=0;t<n;++t){var p=l[t],f=p.length;for(o=0;o<f;++o){var w=s[c++]=new Array(f-1),v=0;for(r=0;r<f;++r)r!==o&&(w[v++]=p[r]);if(1&o){var h=w[1];w[1]=w[0],w[0]=h}}}return s}},2569:function(m,l,t){"use strict";m.exports=function(w,v,h){switch(arguments.length){case 1:return o=[],p(_=w,_,f,!0),o;case 2:return"function"==typeof v?p(w,w,v,!0):(o=[],p(w,v,f,!1),o);case 3:return p(w,v,h,!1);default:throw new Error("box-intersect: Invalid arguments")}var _};var o,r=t(5306),n=t(1390),a=t(2337);function s(w,v){for(var h=0;h<w;++h)if(!(v[h]<=v[h+w]))return!0;return!1}function c(w,v,h,_){for(var x=0,b=0,M=0,d=w.length;M<d;++M){var E=w[M];if(!s(v,E)){for(var k=0;k<2*v;++k)h[x++]=E[k];_[b++]=M}}return b}function p(w,v,h,_){var x=w.length,b=v.length;if(!(x<=0||b<=0)){var M=w[0].length>>>1;if(!(M<=0)){var d,E=r.mallocDouble(2*M*x),k=r.mallocInt32(x);if((x=c(w,M,E,k))>0){if(1===M&&_)n.init(x),d=n.sweepComplete(M,h,0,x,E,k,0,x,E,k);else{var I=r.mallocDouble(2*M*b),L=r.mallocInt32(b);(b=c(v,M,I,L))>0&&(n.init(x+b),d=1===M?n.sweepBipartite(M,h,0,x,E,k,0,b,I,L):a(M,h,_,x,E,k,b,I,L),r.free(I),r.free(L))}r.free(E),r.free(k)}return d}}}function f(w,v){o.push([w,v])}},7333:function(m,l){"use strict";function t(o){return o?function(r,n,a,s,c,p,f,w,v,h,_){return c-s>v-w?function(x,b,M,d,E,k,I,L,P,R,z){for(var $=2*x,N=d,W=$*d;N<E;++N,W+=$){var H=k[b+W],U=k[b+W+x],Z=I[N];e:for(var Y=L,ae=$*L;Y<P;++Y,ae+=$){var K=z[Y];if(!(R[b+ae+x]<H||U<R[b+ae])){for(var te=b+1;te<x;++te)if(k[te+x+W]<R[te+ae]||R[te+x+ae]<k[te+W])continue e;var me=M(Z,K);if(void 0!==me)return me}}}}(r,n,a,s,c,p,f,w,v,h,_):function(x,b,M,d,E,k,I,L,P,R,z){for(var $=2*x,N=L,W=$*L;N<P;++N,W+=$){var H=R[b+W],U=R[b+W+x],Z=z[N];e:for(var Y=d,ae=$*d;Y<E;++Y,ae+=$){var K=I[Y];if(!(U<k[b+ae]||k[b+ae+x]<H)){for(var te=b+1;te<x;++te)if(k[te+x+ae]<R[te+W]||R[te+x+W]<k[te+ae])continue e;var me=M(K,Z);if(void 0!==me)return me}}}}(r,n,a,s,c,p,f,w,v,h,_)}:function(r,n,a,s,c,p,f,w,v,h,_,x){return p-c>h-v?s?function(b,M,d,E,k,I,L,P,R,z,$){for(var N=2*b,W=E,H=N*E;W<k;++W,H+=N){var U=I[M+H],Z=I[M+H+b],Y=L[W];e:for(var ae=P,re=N*P;ae<R;++ae,re+=N){var Q=z[M+re],K=$[ae];if(!(Q<=U||Z<Q)){for(var te=M+1;te<b;++te)if(I[te+b+H]<z[te+re]||z[te+b+re]<I[te+H])continue e;var me=d(K,Y);if(void 0!==me)return me}}}}(r,n,a,c,p,f,w,v,h,_,x):function(b,M,d,E,k,I,L,P,R,z,$){for(var N=2*b,W=E,H=N*E;W<k;++W,H+=N){var U=I[M+H],Z=I[M+H+b],Y=L[W];e:for(var ae=P,re=N*P;ae<R;++ae,re+=N){var Q=z[M+re],K=$[ae];if(!(Q<U||Z<Q)){for(var te=M+1;te<b;++te)if(I[te+b+H]<z[te+re]||z[te+b+re]<I[te+H])continue e;var me=d(Y,K);if(void 0!==me)return me}}}}(r,n,a,c,p,f,w,v,h,_,x):s?function(b,M,d,E,k,I,L,P,R,z,$){for(var N=2*b,W=P,H=N*P;W<R;++W,H+=N){var U=z[M+H],Z=$[W];e:for(var Y=E,ae=N*E;Y<k;++Y,ae+=N){var K=L[Y];if(!(U<=I[M+ae]||I[M+ae+b]<U)){for(var te=M+1;te<b;++te)if(I[te+b+ae]<z[te+H]||z[te+b+H]<I[te+ae])continue e;var me=d(Z,K);if(void 0!==me)return me}}}}(r,n,a,c,p,f,w,v,h,_,x):function(b,M,d,E,k,I,L,P,R,z,$){for(var N=2*b,W=P,H=N*P;W<R;++W,H+=N){var U=z[M+H],Z=$[W];e:for(var Y=E,ae=N*E;Y<k;++Y,ae+=N){var K=L[Y];if(!(U<I[M+ae]||I[M+ae+b]<U)){for(var te=M+1;te<b;++te)if(I[te+b+ae]<z[te+H]||z[te+b+H]<I[te+ae])continue e;var me=d(K,Z);if(void 0!==me)return me}}}}(r,n,a,c,p,f,w,v,h,_,x)}}l.partial=t(!1),l.full=t(!0)},2337:function(m,l,t){"use strict";m.exports=function(N,W,H,U,Z,Y,ae,re,Q){!function(Ge,He){var Ke=8*r.log2(He+1)*(Ge+1)|0,et=r.nextPow2(k*Ke);L.length<et&&(o.free(L),L=o.mallocInt32(et));var st=r.nextPow2(I*Ke);P.length<st&&(o.free(P),P=o.mallocDouble(st))}(N,U+ae);var K,te=0,oe=2*N;for(R(te++,0,0,U,0,ae,H?16:0,-1/0,1/0),H||R(te++,0,0,ae,0,U,1,-1/0,1/0);te>0;){var ue=(te-=1)*k,fe=L[ue],he=L[ue+1],me=L[ue+2],ke=L[ue+3],Pe=L[ue+4],Te=L[ue+5],be=te*I,xe=P[be],Ne=P[be+1],Se=1&Te,Ce=!!(16&Te),pe=Z,de=Y,se=re,we=Q;if(Se&&(pe=re,de=Q,se=Z,we=Y),!(2&Te&&he>=(me=b(N,fe,he,me,pe,de,Ne))||4&Te&&(he=M(N,fe,he,me,pe,de,xe))>=me)){var Re=me-he,Ee=Pe-ke;if(Ce){if(N*Re*(Re+Ee)<h){if(void 0!==(K=c.scanComplete(N,fe,W,he,me,pe,de,ke,Pe,se,we)))return K;continue}}else{if(N*Math.min(Re,Ee)<w){if(void 0!==(K=a(N,fe,W,Se,he,me,pe,de,ke,Pe,se,we)))return K;continue}if(N*Re*Ee<v){if(void 0!==(K=c.scanBipartite(N,fe,W,Se,he,me,pe,de,ke,Pe,se,we)))return K;continue}}var Ue=_(N,fe,he,me,pe,de,xe,Ne);if(he<Ue)if(N*(Ue-he)<w){if(void 0!==(K=s(N,fe+1,W,he,Ue,pe,de,ke,Pe,se,we)))return K}else if(fe===N-2){if(void 0!==(K=Se?c.sweepBipartite(N,W,ke,Pe,se,we,he,Ue,pe,de):c.sweepBipartite(N,W,he,Ue,pe,de,ke,Pe,se,we)))return K}else R(te++,fe+1,he,Ue,ke,Pe,Se,-1/0,1/0),R(te++,fe+1,ke,Pe,he,Ue,1^Se,-1/0,1/0);if(Ue<me){var $e=p(N,fe,ke,Pe,se,we),ve=se[oe*$e+fe],Ie=x(N,fe,$e,Pe,se,we,ve);if(Ie<Pe&&R(te++,fe,Ue,me,Ie,Pe,(4|Se)+(Ce?16:0),ve,Ne),ke<$e&&R(te++,fe,Ue,me,ke,$e,(2|Se)+(Ce?16:0),xe,ve),$e+1===Ie){if(void 0!==(K=Ce?$(N,fe,W,Ue,me,pe,de,$e,se,we[$e]):z(N,fe,W,Se,Ue,me,pe,de,$e,se,we[$e])))return K}else if($e<Ie){var De;if(Ce){if(Ue<(De=d(N,fe,Ue,me,pe,de,ve))){var ze=x(N,fe,Ue,De,pe,de,ve);if(fe===N-2){if(Ue<ze&&void 0!==(K=c.sweepComplete(N,W,Ue,ze,pe,de,$e,Ie,se,we))||ze<De&&void 0!==(K=c.sweepBipartite(N,W,ze,De,pe,de,$e,Ie,se,we)))return K}else Ue<ze&&R(te++,fe+1,Ue,ze,$e,Ie,16,-1/0,1/0),ze<De&&(R(te++,fe+1,ze,De,$e,Ie,0,-1/0,1/0),R(te++,fe+1,$e,Ie,ze,De,1,-1/0,1/0))}}else Ue<(De=Se?E(N,fe,Ue,me,pe,de,ve):d(N,fe,Ue,me,pe,de,ve))&&(fe===N-2?K=Se?c.sweepBipartite(N,W,$e,Ie,se,we,Ue,De,pe,de):c.sweepBipartite(N,W,Ue,De,pe,de,$e,Ie,se,we):(R(te++,fe+1,Ue,De,$e,Ie,Se,-1/0,1/0),R(te++,fe+1,$e,Ie,Ue,De,1^Se,-1/0,1/0)))}}}}};var o=t(5306),r=t(2288),n=t(7333),a=n.partial,s=n.full,c=t(1390),p=t(2464),f=t(122),w=128,v=1<<22,h=1<<22,_=f("!(lo>=p0)&&!(p1>=hi)"),x=f("lo===p0"),b=f("lo<p0"),M=f("hi<=p0"),d=f("lo<=p0&&p0<=hi"),E=f("lo<p0&&p0<=hi"),k=6,I=2,L=o.mallocInt32(1024),P=o.mallocDouble(1024);function R(N,W,H,U,Z,Y,ae,re,Q){var K=k*N;L[K]=W,L[K+1]=H,L[K+2]=U,L[K+3]=Z,L[K+4]=Y,L[K+5]=ae;var te=I*N;P[te]=re,P[te+1]=Q}function z(N,W,H,U,Z,Y,ae,re,Q,K,te){var oe=2*N,ue=Q*oe,fe=K[ue+W];e:for(var he=Z,me=Z*oe;he<Y;++he,me+=oe){var ke=ae[me+W],Pe=ae[me+W+N];if(!(fe<ke||Pe<fe||U&&fe===ke)){for(var Te,be=re[he],xe=W+1;xe<N;++xe)if(ke=ae[me+xe],(Pe=ae[me+xe+N])<K[ue+xe]||K[ue+xe+N]<ke)continue e;if(void 0!==(Te=U?H(te,be):H(be,te)))return Te}}}function $(N,W,H,U,Z,Y,ae,re,Q,K){var te=2*N,oe=re*te,ue=Q[oe+W];e:for(var fe=U,he=U*te;fe<Z;++fe,he+=te){var me=ae[fe];if(me!==K){var ke=Y[he+W],Pe=Y[he+W+N];if(!(ue<ke||Pe<ue)){for(var Te=W+1;Te<N;++Te)if(ke=Y[he+Te],(Pe=Y[he+Te+N])<Q[oe+Te]||Q[oe+Te+N]<ke)continue e;var Ne=H(me,K);if(void 0!==Ne)return Ne}}}}},2464:function(m,l,t){"use strict";m.exports=function(a,s,c,p,f,w){if(p<=c+1)return c;for(var v=c,h=p,_=p+c>>>1,x=2*a,b=_,M=f[x*_+s];v<h;){if(h-v<r){n(a,s,v,h,f,w),M=f[x*_+s];break}var d=h-v,E=Math.random()*d+v|0,k=f[x*E+s],I=Math.random()*d+v|0,L=f[x*I+s],P=Math.random()*d+v|0,R=f[x*P+s];k<=L?R>=L?(b=I,M=L):k>=R?(b=E,M=k):(b=P,M=R):L>=R?(b=I,M=L):R>=k?(b=E,M=k):(b=P,M=R);for(var z=x*(h-1),$=x*b,N=0;N<x;++N,++z,++$){var W=f[z];f[z]=f[$],f[$]=W}var H=w[h-1];for(w[h-1]=w[b],w[b]=H,z=x*(h-1),$=x*(b=o(a,s,v,h-1,f,w,M)),N=0;N<x;++N,++z,++$)W=f[z],f[z]=f[$],f[$]=W;if(H=w[h-1],w[h-1]=w[b],w[b]=H,_<b){for(h=b-1;v<h&&f[x*(h-1)+s]===M;)h-=1;h+=1}else{if(!(b<_))break;for(v=b+1;v<h&&f[x*v+s]===M;)v+=1}}return o(a,s,c,_,f,w,f[x*_+s])};var o=t(122)("lo<p0"),r=8;function n(a,s,c,p,f,w){for(var v=2*a,h=v*(c+1)+s,_=c+1;_<p;++_,h+=v)for(var x=f[h],b=_,M=v*(_-1);b>c&&f[M+s]>x;--b,M-=v){for(var d=M,E=M+v,k=0;k<v;++k,++d,++E){var I=f[d];f[d]=f[E],f[E]=I}var L=w[b];w[b]=w[b-1],w[b-1]=L}}},122:function(m){"use strict";m.exports=function(t){return l[t]};var l={"lo===p0":function(t,o,r,n,a,s,c){for(var p=2*t,f=p*r,w=f,v=r,h=o,_=r;n>_;++_,f+=p)if(a[f+h]===c)if(v===_)v+=1,w+=p;else{for(var x=0;p>x;++x){var b=a[f+x];a[f+x]=a[w],a[w++]=b}var M=s[_];s[_]=s[v],s[v++]=M}return v},"lo<p0":function(t,o,r,n,a,s,c){for(var p=2*t,f=p*r,w=f,v=r,h=o,_=r;n>_;++_,f+=p)if(a[f+h]<c)if(v===_)v+=1,w+=p;else{for(var x=0;p>x;++x){var b=a[f+x];a[f+x]=a[w],a[w++]=b}var M=s[_];s[_]=s[v],s[v++]=M}return v},"lo<=p0":function(t,o,r,n,a,s,c){for(var p=2*t,f=p*r,w=f,v=r,h=t+o,_=r;n>_;++_,f+=p)if(a[f+h]<=c)if(v===_)v+=1,w+=p;else{for(var x=0;p>x;++x){var b=a[f+x];a[f+x]=a[w],a[w++]=b}var M=s[_];s[_]=s[v],s[v++]=M}return v},"hi<=p0":function(t,o,r,n,a,s,c){for(var p=2*t,f=p*r,w=f,v=r,h=t+o,_=r;n>_;++_,f+=p)if(a[f+h]<=c)if(v===_)v+=1,w+=p;else{for(var x=0;p>x;++x){var b=a[f+x];a[f+x]=a[w],a[w++]=b}var M=s[_];s[_]=s[v],s[v++]=M}return v},"lo<p0&&p0<=hi":function(t,o,r,n,a,s,c){for(var p=2*t,f=p*r,w=f,v=r,h=o,_=t+o,x=r;n>x;++x,f+=p)if(a[f+h]<c&&c<=a[f+_])if(v===x)v+=1,w+=p;else{for(var d=0;p>d;++d){var E=a[f+d];a[f+d]=a[w],a[w++]=E}var k=s[x];s[x]=s[v],s[v++]=k}return v},"lo<=p0&&p0<=hi":function(t,o,r,n,a,s,c){for(var p=2*t,f=p*r,w=f,v=r,h=o,_=t+o,x=r;n>x;++x,f+=p)if(a[f+h]<=c&&c<=a[f+_])if(v===x)v+=1,w+=p;else{for(var d=0;p>d;++d){var E=a[f+d];a[f+d]=a[w],a[w++]=E}var k=s[x];s[x]=s[v],s[v++]=k}return v},"!(lo>=p0)&&!(p1>=hi)":function(t,o,r,n,a,s,c,p){for(var f=2*t,w=f*r,v=w,h=r,_=o,x=t+o,b=r;n>b;++b,w+=f)if(!(a[w+_]>=c||p>=a[w+x]))if(h===b)h+=1,v+=f;else{for(var E=0;f>E;++E){var k=a[w+E];a[w+E]=a[v],a[v++]=k}var I=s[b];s[b]=s[h],s[h++]=I}return h}}},309:function(m){"use strict";m.exports=function(f,w){w<=4*l?t(0,w-1,f):p(0,w-1,f)};var l=32;function t(f,w,v){for(var h=2*(f+1),_=f+1;_<=w;++_){for(var x=v[h++],b=v[h++],M=_,d=h-2;M-- >f;){var E=v[d-2],k=v[d-1];if(E<x||E===x&&k<b)break;v[d]=E,v[d+1]=k,d-=2}v[d]=x,v[d+1]=b}}function o(f,w,v){var h=v[f*=2],_=v[f+1];v[f]=v[w*=2],v[f+1]=v[w+1],v[w]=h,v[w+1]=_}function r(f,w,v){v[f*=2]=v[w*=2],v[f+1]=v[w+1]}function n(f,w,v,h){v*=2;var _=h[f*=2],x=h[f+1];h[f]=h[w*=2],h[f+1]=h[w+1],h[w]=h[v],h[w+1]=h[v+1],h[v]=_,h[v+1]=x}function a(f,w,v,h,_){_[f*=2]=_[w*=2],_[w]=v,_[f+1]=_[w+1],_[w+1]=h}function s(f,w,v){var h=v[f*=2],_=v[w*=2];return!(h<_)&&(h!==_||v[f+1]>v[w+1])}function c(f,w,v,h){var _=h[f*=2];return _<w||_===w&&h[f+1]<v}function p(f,w,v){var h=(w-f+1)/6|0,_=f+h,x=w-h,b=f+w>>1,M=b-h,d=b+h,E=_,k=M,I=b,L=d,P=x,R=f+1,z=w-1,$=0;s(E,k,v)&&($=E,E=k,k=$),s(L,P,v)&&($=L,L=P,P=$),s(E,I,v)&&($=E,E=I,I=$),s(k,I,v)&&($=k,k=I,I=$),s(E,L,v)&&($=E,E=L,L=$),s(I,L,v)&&($=I,I=L,L=$),s(k,P,v)&&($=k,k=P,P=$),s(k,I,v)&&($=k,k=I,I=$),s(L,P,v)&&($=L,L=P,P=$);for(var N=v[2*k],W=v[2*k+1],H=v[2*L],U=v[2*L+1],Z=2*E,Y=2*I,ae=2*P,re=2*_,Q=2*b,K=2*x,te=0;te<2;++te){var ue=v[Y+te],fe=v[ae+te];v[re+te]=v[Z+te],v[Q+te]=ue,v[K+te]=fe}r(M,f,v),r(d,w,v);for(var he=R;he<=z;++he)if(c(he,N,W,v))he!==R&&o(he,R,v),++R;else if(!c(he,H,U,v))for(;;){if(c(z,H,U,v)){c(z,N,W,v)?(n(he,R,z,v),++R,--z):(o(he,z,v),--z);break}if(--z<he)break}a(f,R-1,N,W,v),a(w,z+1,H,U,v),R-2-f<=l?t(f,R-2,v):p(f,R-2,v),w-(z+2)<=l?t(z+2,w,v):p(z+2,w,v),z-R<=l?t(R,z,v):p(R,z,v)}},1390:function(m,l,t){"use strict";m.exports={init:function(M){var d=r.nextPow2(M);c.length<d&&(o.free(c),c=o.mallocInt32(d)),p.length<d&&(o.free(p),p=o.mallocInt32(d)),f.length<d&&(o.free(f),f=o.mallocInt32(d)),w.length<d&&(o.free(w),w=o.mallocInt32(d)),v.length<d&&(o.free(v),v=o.mallocInt32(d)),h.length<d&&(o.free(h),h=o.mallocInt32(d));var E=8*d;_.length<E&&(o.free(_),_=o.mallocDouble(E))},sweepBipartite:function(M,d,E,k,I,L,P,R,z,$){for(var N=0,W=2*M,H=M-1,U=W-1,Z=E;Z<k;++Z){var Y=L[Z],ae=W*Z;_[N++]=I[ae+H],_[N++]=-(Y+1),_[N++]=I[ae+U],_[N++]=Y}for(Z=P;Z<R;++Z){Y=$[Z]+a;var re=W*Z;_[N++]=z[re+H],_[N++]=-Y,_[N++]=z[re+U],_[N++]=Y}var Q=N>>>1;n(_,Q);var K=0,te=0;for(Z=0;Z<Q;++Z){var oe=0|_[2*Z+1];if(oe>=a)x(f,w,te--,oe=oe-a|0);else if(oe>=0)x(c,p,K--,oe);else if(oe<=-a){oe=-oe-a|0;for(var ue=0;ue<K;++ue)if(void 0!==(fe=d(c[ue],oe)))return fe;b(f,w,te++,oe)}else{for(oe=-oe-1|0,ue=0;ue<te;++ue){var fe;if(void 0!==(fe=d(oe,f[ue])))return fe}b(c,p,K++,oe)}}},sweepComplete:function(M,d,E,k,I,L,P,R,z,$){for(var N=0,W=2*M,H=M-1,U=W-1,Z=E;Z<k;++Z){var Y=L[Z]+1<<1,ae=W*Z;_[N++]=I[ae+H],_[N++]=-Y,_[N++]=I[ae+U],_[N++]=Y}for(Z=P;Z<R;++Z){Y=$[Z]+1<<1;var re=W*Z;_[N++]=z[re+H],_[N++]=1|-Y,_[N++]=z[re+U],_[N++]=1|Y}var Q=N>>>1;n(_,Q);var K=0,te=0,oe=0;for(Z=0;Z<Q;++Z){var ue=0|_[2*Z+1],fe=1&ue;if(Z<Q-1&&ue>>1==_[2*Z+3]>>1&&(fe=2,Z+=1),ue<0){for(var he=-(ue>>1)-1,me=0;me<oe;++me)if(void 0!==(ke=d(v[me],he)))return ke;if(0!==fe)for(me=0;me<K;++me)if(void 0!==(ke=d(c[me],he)))return ke;if(1!==fe)for(me=0;me<te;++me){var ke;if(void 0!==(ke=d(f[me],he)))return ke}0===fe?b(c,p,K++,he):1===fe?b(f,w,te++,he):2===fe&&b(v,h,oe++,he)}else he=(ue>>1)-1,0===fe?x(c,p,K--,he):1===fe?x(f,w,te--,he):2===fe&&x(v,h,oe--,he)}},scanBipartite:function(M,d,E,k,I,L,P,R,z,$,N,W){var H=0,U=2*M,Z=d,Y=d+M,ae=1,re=1;k?re=a:ae=a;for(var Q=I;Q<L;++Q){var K=Q+ae,te=U*Q;_[H++]=P[te+Z],_[H++]=-K,_[H++]=P[te+Y],_[H++]=K}for(Q=z;Q<$;++Q)K=Q+re,_[H++]=N[U*Q+Z],_[H++]=-K;var ue=H>>>1;n(_,ue);var fe=0;for(Q=0;Q<ue;++Q){var he=0|_[2*Q+1];if(he<0){var me=!1;if((K=-he)>=a?(me=!k,K-=a):(me=!!k,K-=1),me)b(c,p,fe++,K);else{var ke=W[K],Pe=U*K,Te=N[Pe+d+1],be=N[Pe+d+1+M];e:for(var xe=0;xe<fe;++xe){var Ne=c[xe],Se=U*Ne;if(!(be<P[Se+d+1]||P[Se+d+1+M]<Te)){for(var Ce=d+2;Ce<M;++Ce)if(N[Pe+Ce+M]<P[Se+Ce]||P[Se+Ce+M]<N[Pe+Ce])continue e;var pe,de=R[Ne];if(void 0!==(pe=k?E(ke,de):E(de,ke)))return pe}}}}else x(c,p,fe--,he-ae)}},scanComplete:function(M,d,E,k,I,L,P,R,z,$,N){for(var W=0,H=2*M,U=d,Z=d+M,Y=k;Y<I;++Y){var ae=Y+a,re=H*Y;_[W++]=L[re+U],_[W++]=-ae,_[W++]=L[re+Z],_[W++]=ae}for(Y=R;Y<z;++Y)ae=Y+1,_[W++]=$[H*Y+U],_[W++]=-ae;var K=W>>>1;n(_,K);var te=0;for(Y=0;Y<K;++Y){var oe=0|_[2*Y+1];if(oe<0)if((ae=-oe)>=a)c[te++]=ae-a;else{var ue=N[ae-=1],fe=H*ae,he=$[fe+d+1],me=$[fe+d+1+M];e:for(var ke=0;ke<te;++ke){var Pe=c[ke],Te=P[Pe];if(Te===ue)break;var be=H*Pe;if(!(me<L[be+d+1]||L[be+d+1+M]<he)){for(var xe=d+2;xe<M;++xe)if($[fe+xe+M]<L[be+xe]||L[be+xe+M]<$[fe+xe])continue e;var Ne=E(Te,ue);if(void 0!==Ne)return Ne}}}else{for(ae=oe-a,ke=te-1;ke>=0;--ke)if(c[ke]===ae){for(xe=ke+1;xe<te;++xe)c[xe-1]=c[xe];break}--te}}}};var o=t(5306),r=t(2288),n=t(309),a=1<<28,s=1024,c=o.mallocInt32(s),p=o.mallocInt32(s),f=o.mallocInt32(s),w=o.mallocInt32(s),v=o.mallocInt32(s),h=o.mallocInt32(s),_=o.mallocDouble(8192);function x(M,d,E,k){var I=d[k],L=M[E-1];M[I]=L,d[L]=I}function b(M,d,E,k){M[E]=k,d[k]=E}},7761:function(m,l,t){"use strict";var o=t(9971),r=t(743),n=t(2161),a=t(7098);function s(f){return[Math.min(f[0],f[1]),Math.max(f[0],f[1])]}function c(f,w){return f[0]-w[0]||f[1]-w[1]}function p(f,w,v){return w in f?f[w]:v}m.exports=function(f,w,v){Array.isArray(w)?(v=v||{},w=w||[]):(v=w||{},w=[]);var h=!!p(v,"delaunay",!0),_=!!p(v,"interior",!0),x=!!p(v,"exterior",!0),b=!!p(v,"infinity",!1);if(!_&&!x||0===f.length)return[];var M=o(f,w);if(h||_!==x||b){for(var d=r(f.length,w.map(s).sort(c)),E=0;E<M.length;++E){var k=M[E];d.addTriangle(k[0],k[1],k[2])}return h&&n(f,d),x?_?b?a(d,0,b):d.cells():a(d,1,b):a(d,-1)}return M}},2161:function(m,l,t){"use strict";var o=t(2227)[4];function r(n,a,s,c,p,f){var w=a.opposite(c,p);if(!(w<0)){if(p<c){var v=c;c=p,p=v,v=f,f=w,w=v}a.isConstraint(c,p)||o(n[c],n[p],n[f],n[w])<0&&s.push(c,p)}}t(5070),m.exports=function(n,a){for(var s=[],c=n.length,p=a.stars,f=0;f<c;++f)for(var w=p[f],v=1;v<w.length;v+=2)if(!((b=w[v])<f||a.isConstraint(f,b))){for(var h=w[v-1],_=-1,x=1;x<w.length;x+=2)if(w[x-1]===b){_=w[x];break}_<0||o(n[f],n[b],n[h],n[_])<0&&s.push(f,b)}for(;s.length>0;){for(var b=s.pop(),M=(h=-1,_=-1,w=p[f=s.pop()],1);M<w.length;M+=2){var d=w[M-1],E=w[M];d===b?_=E:E===b&&(h=d)}h<0||_<0||o(n[f],n[b],n[h],n[_])>=0||(a.flip(f,b),r(n,a,s,h,f,_),r(n,a,s,f,_,h),r(n,a,s,_,b,h),r(n,a,s,b,h,_))}}},7098:function(m,l,t){"use strict";var o,r=t(5070);function n(s,c,p,f,w,v,h){this.cells=s,this.neighbor=c,this.flags=f,this.constraint=p,this.active=w,this.next=v,this.boundary=h}function a(s,c){return s[0]-c[0]||s[1]-c[1]||s[2]-c[2]}m.exports=function(s,c,p){var f=function(P,R){for(var z=P.cells(),$=z.length,N=0;N<$;++N){var W=(oe=z[N])[0],H=oe[1],U=oe[2];H<U?H<W&&(oe[0]=H,oe[1]=U,oe[2]=W):U<W&&(oe[0]=U,oe[1]=W,oe[2]=H)}z.sort(a);var Z=new Array($);for(N=0;N<Z.length;++N)Z[N]=0;var Y=[],ae=[],re=new Array(3*$),Q=new Array(3*$),K=null;R&&(K=[]);var te=new n(z,re,Q,Z,Y,ae,K);for(N=0;N<$;++N)for(var oe=z[N],ue=0;ue<3;++ue){var fe=re[3*N+ue]=te.locate(H=oe[(ue+1)%3],W=oe[ue],P.opposite(H,W)),he=Q[3*N+ue]=P.isConstraint(W,H);fe<0&&(he?ae.push(N):(Y.push(N),Z[N]=1),R&&K.push([H,W,-1]))}return te}(s,p);if(0===c)return p?f.cells.concat(f.boundary):f.cells;for(var w=1,v=f.active,h=f.next,_=f.flags,x=f.cells,b=f.constraint,M=f.neighbor;v.length>0||h.length>0;){for(;v.length>0;){var d=v.pop();if(_[d]!==-w){_[d]=w;for(var E=0;E<3;++E){var k=M[3*d+E];k>=0&&0===_[k]&&(b[3*d+E]?h.push(k):(v.push(k),_[k]=w))}}}var I=h;h=v,v=I,h.length=0,w=-w}var L=function(P,R,z){for(var $=0,N=0;N<P.length;++N)R[N]===z&&(P[$++]=P[N]);return P.length=$,P}(x,_,c);return p?L.concat(f.boundary):L},n.prototype.locate=(o=[0,0,0],function(s,c,p){var f=s,w=c,v=p;return c<p?c<s&&(f=c,w=p,v=s):p<s&&(f=p,w=s,v=c),f<0?-1:(o[0]=f,o[1]=w,o[2]=v,r.eq(this.cells,o,a))})},9971:function(m,l,t){"use strict";var o=t(5070),r=t(417)[3];function n(h,_,x,b,M){this.a=h,this.b=_,this.idx=x,this.lowerIds=b,this.upperIds=M}function a(h,_,x,b){this.a=h,this.b=_,this.type=x,this.idx=b}function s(h,_){var x=h.a[0]-_.a[0]||h.a[1]-_.a[1]||h.type-_.type;return x||(0!==h.type&&(x=r(h.a,h.b,_.b))?x:h.idx-_.idx)}function c(h,_){return r(h.a,h.b,_)}function p(h,_,x,b,M){for(var d=o.lt(_,b,c),E=o.gt(_,b,c),k=d;k<E;++k){for(var I=_[k],L=I.lowerIds,P=L.length;P>1&&r(x[L[P-2]],x[L[P-1]],b)>0;)h.push([L[P-1],L[P-2],M]),P-=1;L.length=P,L.push(M);var R=I.upperIds;for(P=R.length;P>1&&r(x[R[P-2]],x[R[P-1]],b)<0;)h.push([R[P-2],R[P-1],M]),P-=1;R.length=P,R.push(M)}}function f(h,_){var x;return(x=h.a[0]<_.a[0]?r(h.a,h.b,_.a):r(_.b,_.a,h.a))?x:(x=_.b[0]<h.b[0]?r(h.a,h.b,_.b):r(_.b,_.a,h.b))||h.idx-_.idx}function w(h,_,x){var b=o.le(h,x,f),M=h[b],d=M.upperIds,E=d[d.length-1];M.upperIds=[E],h.splice(b+1,0,new n(x.a,x.b,x.idx,[E],d))}function v(h,_,x){var b=x.a;x.a=x.b,x.b=b;var M=o.eq(h,x,f);h[M-1].upperIds=h[M].upperIds,h.splice(M,1)}m.exports=function(h,_){for(var x=h.length,b=_.length,M=[],d=0;d<x;++d)M.push(new a(h[d],null,0,d));for(d=0;d<b;++d){var E=_[d],k=h[E[0]],I=h[E[1]];k[0]<I[0]?M.push(new a(k,I,2,d),new a(I,k,1,d)):k[0]>I[0]&&M.push(new a(I,k,2,d),new a(k,I,1,d))}M.sort(s);for(var L=M[0].a[0]-(1+Math.abs(M[0].a[0]))*Math.pow(2,-52),P=[new n([L,1],[L,0],-1,[],[],[],[])],R=[],z=(d=0,M.length);d<z;++d){var $=M[d],N=$.type;0===N?p(R,P,h,$.a,$.idx):2===N?w(P,0,$):v(P,0,$)}return R}},743:function(m,l,t){"use strict";var o=t(5070);function r(s,c){this.stars=s,this.edges=c}m.exports=function(s,c){for(var p=new Array(s),f=0;f<s;++f)p[f]=[];return new r(p,c)};var n=r.prototype;function a(s,c,p){for(var f=1,w=s.length;f<w;f+=2)if(s[f-1]===c&&s[f]===p)return s[f-1]=s[w-2],s[f]=s[w-1],void(s.length=w-2)}n.isConstraint=function(){var s=[0,0];function c(p,f){return p[0]-f[0]||p[1]-f[1]}return function(p,f){return s[0]=Math.min(p,f),s[1]=Math.max(p,f),o.eq(this.edges,s,c)>=0}}(),n.removeTriangle=function(s,c,p){var f=this.stars;a(f[s],c,p),a(f[c],p,s),a(f[p],s,c)},n.addTriangle=function(s,c,p){var f=this.stars;f[s].push(c,p),f[c].push(p,s),f[p].push(s,c)},n.opposite=function(s,c){for(var p=this.stars[c],f=1,w=p.length;f<w;f+=2)if(p[f]===s)return p[f-1];return-1},n.flip=function(s,c){var p=this.opposite(s,c),f=this.opposite(c,s);this.removeTriangle(s,c,p),this.removeTriangle(c,s,f),this.addTriangle(s,f,p),this.addTriangle(c,p,f)},n.edges=function(){for(var s=this.stars,c=[],p=0,f=s.length;p<f;++p)for(var w=s[p],v=0,h=w.length;v<h;v+=2)c.push([w[v],w[v+1]]);return c},n.cells=function(){for(var s=this.stars,c=[],p=0,f=s.length;p<f;++p)for(var w=s[p],v=0,h=w.length;v<h;v+=2){var _=w[v],x=w[v+1];p<Math.min(_,x)&&c.push([p,_,x])}return c}},9887:function(m){"use strict";m.exports=function(l){for(var t=1,o=1;o<l.length;++o)for(var r=0;r<o;++r)if(l[o]<l[r])t=-t;else if(l[r]===l[o])return 0;return t}},9243:function(m,l,t){"use strict";var o=t(3094),r=t(6606);function n(c,p){for(var f=0,w=c.length,v=0;v<w;++v)f+=c[v]*p[v];return f}function a(c){var p=c.length;if(0===p)return[];var f=o([c.length+1,c.length+1],1),w=o([c.length+1],1);f[p][p]=0;for(var v=0;v<p;++v){for(var h=0;h<=v;++h)f[h][v]=f[v][h]=2*n(c[v],c[h]);w[v]=n(c[v],c[v])}var _=r(f,w),x=0,b=_[p+1];for(v=0;v<b.length;++v)x+=b[v];var M=new Array(p);for(v=0;v<p;++v){b=_[v];var d=0;for(h=0;h<b.length;++h)d+=b[h];M[v]=d/x}return M}function s(c){if(0===c.length)return[];for(var p=c[0].length,f=o([p]),w=a(c),v=0;v<c.length;++v)for(var h=0;h<p;++h)f[h]+=c[v][h]*w[v];return f}s.barycenetric=a,m.exports=s},1778:function(m,l,t){m.exports=function(r){for(var n=o(r),a=0,s=0;s<r.length;++s)for(var c=r[s],p=0;p<n.length;++p)a+=Math.pow(c[p]-n[p],2);return Math.sqrt(a/r.length)};var o=t(9243)},197:function(m,l,t){"use strict";m.exports=function(E,k,I){var L,N,H,U;if(I){L=k;for(var P=new Array(k.length),R=0;R<k.length;++R){var z=k[R];P[R]=[z[0],z[1],I[R]]}k=P}for(var $=(H=!!I,void 0,M(k,U=_(N=E,[],h(N)),H),!!U);d(E,k,!!I);)$=!0;if(I&&$)for(L.length=0,I.length=0,R=0;R<k.length;++R)L.push([(z=k[R])[0],z[1]]),I.push(z[2]);return $};var o=t(1731),r=t(2569),n=t(4434),a=t(5125),s=t(8846),c=t(7999),p=t(2826),f=t(8551),w=t(5528);function v(E){var k=c(E);return[f(k,-1/0),f(k,1/0)]}function h(E){for(var k=new Array(E.length),I=0;I<E.length;++I){var L=E[I];k[I]=[f(L[0],-1/0),f(L[1],-1/0),f(L[0],1/0),f(L[1],1/0)]}return k}function _(E,k,I){for(var L=k.length,P=new o(L),R=[],z=0;z<k.length;++z){var $=k[z],N=v($[0]),W=v($[1]);R.push([f(N[0],-1/0),f(W[0],-1/0),f(N[1],1/0),f(W[1],1/0)])}r(R,function(ae,re){P.link(ae,re)});var H=!0,U=new Array(L);for(z=0;z<L;++z)(Y=P.find(z))!==z&&(H=!1,E[Y]=[Math.min(E[z][0],E[Y][0]),Math.min(E[z][1],E[Y][1])]);if(H)return null;var Z=0;for(z=0;z<L;++z){var Y;(Y=P.find(z))===z?(U[z]=Z,E[Z++]=E[z]):U[z]=-1}for(E.length=Z,z=0;z<L;++z)U[z]<0&&(U[z]=U[P.find(z)]);return U}function x(E,k){return E[0]-k[0]||E[1]-k[1]}function b(E,k){return E[0]-k[0]||E[1]-k[1]||(E[2]<k[2]?-1:E[2]>k[2]?1:0)}function M(E,k,I){if(0!==E.length){if(k)for(var L=0;L<E.length;++L){var P=k[(z=E[L])[0]],R=k[z[1]];z[0]=Math.min(P,R),z[1]=Math.max(P,R)}else for(L=0;L<E.length;++L){var z;P=(z=E[L])[0],R=z[1],z[0]=Math.min(P,R),z[1]=Math.max(P,R)}E.sort(I?b:x);var $=1;for(L=1;L<E.length;++L){var N=E[L-1],W=E[L];(W[0]!==N[0]||W[1]!==N[1]||I&&W[2]!==N[2])&&(E[$++]=W)}E.length=$}}function d(E,k,I){var N,W,U,L=function(N,W){for(var H=new Array(W.length),U=0;U<W.length;++U){var Z=W[U],Y=N[Z[0]],ae=N[Z[1]];H[U]=[f(Math.min(Y[0],ae[0]),-1/0),f(Math.min(Y[1],ae[1]),-1/0),f(Math.max(Y[0],ae[0]),1/0),f(Math.max(Y[1],ae[1]),1/0)]}return H}(E,k),P=(N=E,W=k,U=[],r(L,function(Z,Y){var ae=W[Z],re=W[Y];ae[0]!==re[0]&&ae[0]!==re[1]&&ae[1]!==re[0]&&ae[1]!==re[1]&&n(N[ae[0]],N[ae[1]],N[re[0]],N[re[1]])&&U.push([Z,Y])}),U),R=function(N,W,H,U){var Z=[];return r(H,U,function(Y,ae){var re=W[Y];if(re[0]!==ae&&re[1]!==ae){var Q=N[ae];n(N[re[0]],N[re[1]],Q,Q)&&Z.push([Y,ae])}}),Z}(E,k,L,h(E)),z=function(N,W,H,U,Z){var Y,ae,re=N.map(function(pe){return[a(pe[0]),a(pe[1])]});for(Y=0;Y<H.length;++Y){var Q=H[Y],K=Q[1],te=W[ae=Q[0]],oe=W[K],ue=w(p(N[te[0]]),p(N[te[1]]),p(N[oe[0]]),p(N[oe[1]]));if(ue){var fe=N.length;N.push([c(ue[0]),c(ue[1])]),re.push(ue),U.push([ae,fe],[K,fe])}}for(U.sort(function(pe,de){if(pe[0]!==de[0])return pe[0]-de[0];var se=re[pe[1]],we=re[de[1]];return s(se[0],we[0])||s(se[1],we[1])}),Y=U.length-1;Y>=0;--Y){var he=W[ae=(Se=U[Y])[0]],me=he[0],ke=he[1],Pe=N[me],Te=N[ke];if((Pe[0]-Te[0]||Pe[1]-Te[1])<0){var be=me;me=ke,ke=be}he[0]=me;var xe,Ne=he[1]=Se[1];for(Z&&(xe=he[2]);Y>0&&U[Y-1][0]===ae;){var Se,Ce=(Se=U[--Y])[1];W.push(Z?[Ne,Ce,xe]:[Ne,Ce]),Ne=Ce}W.push(Z?[Ne,ke,xe]:[Ne,ke])}return re}(E,k,P,R,I),$=_(E,z);return M(k,$,I),!!$||P.length>0||R.length>0}},5528:function(m,l,t){"use strict";m.exports=function(w,v,h,_){var x=s(v,w),b=s(_,h),M=f(x,b);if(0===a(M))return null;var d=f(b,s(w,h)),E=r(d,M),k=p(x,E);return c(w,k)};var o=t(3962),r=t(9189),n=t(4354),a=t(4951),s=t(6695),c=t(7584),p=t(4469);function f(w,v){return n(o(w[0],v[1]),o(w[1],v[0]))}},5692:function(m){m.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(m,l,t){"use strict";var o=t(5692),r=t(3578);function n(c){return[c[0]/255,c[1]/255,c[2]/255,c[3]]}function a(c){for(var p,f="#",w=0;w<3;++w)f+=("00"+(p=(p=c[w]).toString(16))).substr(p.length);return f}function s(c){return"rgba("+c.join(",")+")"}m.exports=function(c){var p,f,w,v,h,_,x,b,M,d;if(c||(c={}),b=(c.nshades||72)-1,x=c.format||"hex",(_=c.colormap)||(_="jet"),"string"==typeof _){if(_=_.toLowerCase(),!o[_])throw Error(_+" not a supported colorscale");h=o[_]}else{if(!Array.isArray(_))throw Error("unsupported colormap option",_);h=_.slice()}if(h.length>b+1)throw new Error(_+" map requires nshades to be at least size "+h.length);M=Array.isArray(c.alpha)?2!==c.alpha.length?[1,1]:c.alpha.slice():"number"==typeof c.alpha?[c.alpha,c.alpha]:[1,1],p=h.map(function(P){return Math.round(P.index*b)}),M[0]=Math.min(Math.max(M[0],0),1),M[1]=Math.min(Math.max(M[1],0),1);var E=h.map(function(P,R){var z=h[R].index,$=h[R].rgb.slice();return 4===$.length&&$[3]>=0&&$[3]<=1||($[3]=M[0]+(M[1]-M[0])*z),$}),k=[];for(d=0;d<p.length-1;++d){v=p[d+1]-p[d],f=E[d],w=E[d+1];for(var I=0;I<v;I++){var L=I/v;k.push([Math.round(r(f[0],w[0],L)),Math.round(r(f[1],w[1],L)),Math.round(r(f[2],w[2],L)),r(f[3],w[3],L)])}}return k.push(h[h.length-1].rgb.concat(M[1])),"hex"===x?k=k.map(a):"rgbaString"===x?k=k.map(s):"float"===x&&(k=k.map(n)),k}},9398:function(m,l,t){"use strict";m.exports=function(p,f,w,v){var h=o(f,w,v);if(0===h){var _=r(o(p,f,w)),x=r(o(p,f,v));if(_===x){if(0===_){var b=c(p,f,w);return b===c(p,f,v)?0:b?1:-1}return 0}return 0===x?_>0||c(p,f,v)?-1:1:0===_?x>0||c(p,f,w)?1:-1:r(x-_)}var M=o(p,f,w);return M>0?h>0&&o(p,f,v)>0?1:-1:M<0?h>0||o(p,f,v)>0?1:-1:o(p,f,v)>0||c(p,f,w)?1:-1};var o=t(417),r=t(7538),n=t(87),a=t(2019),s=t(9662);function c(p,f,w){var v=n(p[0],-f[0]),h=n(p[1],-f[1]),_=n(w[0],-f[0]),x=n(w[1],-f[1]),b=s(a(v,_),a(h,x));return b[b.length-1]>=0}},7538:function(m){"use strict";m.exports=function(l){return l<0?-1:l>0?1:0}},9209:function(m){m.exports=function(o,r){var n=o.length,a=o.length-r.length;if(a)return a;switch(n){case 0:return 0;case 1:return o[0]-r[0];case 2:return o[0]+o[1]-r[0]-r[1]||l(o[0],o[1])-l(r[0],r[1]);case 3:var s=o[0]+o[1],c=r[0]+r[1];if(a=s+o[2]-(c+r[2]))return a;var p=l(o[0],o[1]),f=l(r[0],r[1]);return l(p,o[2])-l(f,r[2])||l(p+o[2],s)-l(f+r[2],c);case 4:var w=o[0],v=o[1],h=o[2],_=o[3],x=r[0],b=r[1],M=r[2],d=r[3];return w+v+h+_-(x+b+M+d)||l(w,v,h,_)-l(x,b,M,d,x)||l(w+v,w+h,w+_,v+h,v+_,h+_)-l(x+b,x+M,x+d,b+M,b+d,M+d)||l(w+v+h,w+v+_,w+h+_,v+h+_)-l(x+b+M,x+b+d,x+M+d,b+M+d);default:for(var E=o.slice().sort(t),k=r.slice().sort(t),I=0;I<n;++I)if(a=E[I]-k[I])return a;return 0}};var l=Math.min;function t(o,r){return o-r}},1284:function(m,l,t){"use strict";var o=t(9209),r=t(9887);m.exports=function(n,a){return o(n,a)||r(n)-r(a)}},5537:function(m,l,t){"use strict";var o=t(8950),r=t(8722),n=t(3332);m.exports=function(a){var s=a.length;if(0===s)return[];if(1===s)return[[0]];var c=a[0].length;return 0===c?[]:1===c?o(a):2===c?r(a):n(a,c)}},8950:function(m){"use strict";m.exports=function(l){for(var t=0,o=0,r=1;r<l.length;++r)l[r][0]<l[t][0]&&(t=r),l[r][0]>l[o][0]&&(o=r);return t<o?[[t],[o]]:t>o?[[o],[t]]:[[t]]}},8722:function(m,l,t){"use strict";m.exports=function(r){var n=o(r),a=n.length;if(a<=2)return[];for(var s=new Array(a),c=n[a-1],p=0;p<a;++p){var f=n[p];s[p]=[c,f],c=f}return s};var o=t(3266)},3332:function(m,l,t){"use strict";m.exports=function(n,a){try{return o(n,!0)}catch{var s=r(n);if(s.length<=a)return[];var c=function(f,w){for(var v=f.length,h=new Array(v),_=0;_<w.length;++_)h[_]=f[w[_]];var x=w.length;for(_=0;_<v;++_)w.indexOf(_)<0&&(h[x++]=f[_]);return h}(n,s);return function(f,w){for(var v=f.length,h=w.length,_=0;_<v;++_)for(var x=f[_],b=0;b<x.length;++b){var M=x[b];if(M<h)x[b]=w[M];else{M-=h;for(var d=0;d<h;++d)M>=w[d]&&(M+=1);x[b]=M}}return f}(o(c,!0),s)}};var o=t(2183),r=t(2153)},9680:function(m){"use strict";m.exports=function(l,t,o,r,n,a){var s=n-1,c=n*n,p=s*s,f=(1+2*n)*p,w=n*p,v=c*(3-2*n),h=c*s;if(l.length){a||(a=new Array(l.length));for(var _=l.length-1;_>=0;--_)a[_]=f*l[_]+w*t[_]+v*o[_]+h*r[_];return a}return f*l+w*t+v*o+h*r},m.exports.derivative=function(l,t,o,r,n,a){var s=6*n*n-6*n,c=3*n*n-4*n+1,p=-6*n*n+6*n,f=3*n*n-2*n;if(l.length){a||(a=new Array(l.length));for(var w=l.length-1;w>=0;--w)a[w]=s*l[w]+c*t[w]+p*o[w]+f*r[w];return a}return s*l+c*t+p*o[w]+f*r}},4419:function(m,l,t){"use strict";var o=t(2183),r=t(1215);function n(s,c){this.point=s,this.index=c}function a(s,c){for(var p=s.point,f=c.point,w=p.length,v=0;v<w;++v){var h=f[v]-p[v];if(h)return h}return 0}m.exports=function(s,c){var p=s.length;if(0===p)return[];var f=s[0].length;if(f<1)return[];if(1===f)return function(z,$,N){if(1===z)return N?[[-1,0]]:[];var W=$.map(function(ae,re){return[ae[0],re]});W.sort(function(ae,re){return ae[0]-re[0]});for(var H=new Array(z-1),U=1;U<z;++U)H[U-1]=[W[U-1][1],W[U][1]];return N&&H.push([-1,H[0][1]],[H[z-1][1],-1]),H}(p,s,c);for(var w=new Array(p),v=1,h=0;h<p;++h){for(var _=s[h],x=new Array(f+1),b=0,M=0;M<f;++M){var d=_[M];x[M]=d,b+=d*d}x[f]=b,w[h]=new n(x,h),v=Math.max(b,v)}r(w,a),p=w.length;var E=new Array(p+f+1),k=new Array(p+f+1),I=(f+1)*(f+1)*v,L=new Array(f+1);for(h=0;h<=f;++h)L[h]=0;for(L[f]=I,E[0]=L.slice(),k[0]=-1,h=0;h<=f;++h)(x=L.slice())[h]=1,E[h+1]=x,k[h+1]=-1;for(h=0;h<p;++h){var P=w[h];E[h+f+1]=P.point,k[h+f+1]=P.index}var R=o(E,!1);if(R=R.filter(c?function(z){for(var $=0,N=0;N<=f;++N){var W=k[z[N]];if(W<0&&++$>=2)return!1;z[N]=W}return!0}:function(z){for(var $=0;$<=f;++$){var N=k[z[$]];if(N<0)return!1;z[$]=N}return!0}),1&f)for(h=0;h<R.length;++h)x=(P=R[h])[0],P[0]=P[1],P[1]=x;return R}},8362:function(m){var l=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),o=new Uint32Array(t.buffer);t[0]=1,l=!0,1072693248===o[1]?(m.exports=function(n){return t[0]=n,[o[0],o[1]]},m.exports.pack=function(n,a){return o[0]=n,o[1]=a,t[0]},m.exports.lo=function(n){return t[0]=n,o[0]},m.exports.hi=function(n){return t[0]=n,o[1]}):1072693248===o[0]?(m.exports=function(n){return t[0]=n,[o[1],o[0]]},m.exports.pack=function(n,a){return o[1]=n,o[0]=a,t[0]},m.exports.lo=function(n){return t[0]=n,o[1]},m.exports.hi=function(n){return t[0]=n,o[0]}):l=!1}if(!l){var r=new Buffer(8);m.exports=function(n){return r.writeDoubleLE(n,0,!0),[r.readUInt32LE(0,!0),r.readUInt32LE(4,!0)]},m.exports.pack=function(n,a){return r.writeUInt32LE(n,0,!0),r.writeUInt32LE(a,4,!0),r.readDoubleLE(0,!0)},m.exports.lo=function(n){return r.writeDoubleLE(n,0,!0),r.readUInt32LE(0,!0)},m.exports.hi=function(n){return r.writeDoubleLE(n,0,!0),r.readUInt32LE(4,!0)}}m.exports.sign=function(n){return m.exports.hi(n)>>>31},m.exports.exponent=function(n){return(m.exports.hi(n)<<1>>>21)-1023},m.exports.fraction=function(n){var a=m.exports.lo(n),s=m.exports.hi(n),c=1048575&s;return 2146435072&s&&(c+=1048576),[a,c]},m.exports.denormalized=function(n){return!(2146435072&m.exports.hi(n))}},3094:function(m){"use strict";function l(t,o,r){var n=0|t[r];if(n<=0)return[];var a,s=new Array(n);if(r===t.length-1)for(a=0;a<n;++a)s[a]=o;else for(a=0;a<n;++a)s[a]=l(t,o,r+1);return s}m.exports=function(t,o){switch(void 0===o&&(o=0),typeof t){case"number":if(t>0)return function(r,n){var a,s;for(a=new Array(r),s=0;s<r;++s)a[s]=n;return a}(0|t,o);break;case"object":if("number"==typeof t.length)return l(t,o,0)}return[]}},8348:function(m,l,t){"use strict";m.exports=function(r,n){var a=r.length;if("number"!=typeof n){n=0;for(var s=0;s<a;++s){var c=r[s];n=Math.max(n,c[0],c[1])}n=1+(0|n)}n|=0;var p=new Array(n);for(s=0;s<n;++s)p[s]=[];for(s=0;s<a;++s)p[(c=r[s])[0]].push(c[1]),p[c[1]].push(c[0]);for(var f=0;f<n;++f)o(p[f],function(w,v){return w-v});return p};var o=t(1215)},5795:function(m){"use strict";m.exports=function(l,t,o){var r=t||0,n=o||1;return[[l[12]+l[0],l[13]+l[1],l[14]+l[2],l[15]+l[3]],[l[12]-l[0],l[13]-l[1],l[14]-l[2],l[15]-l[3]],[l[12]+l[4],l[13]+l[5],l[14]+l[6],l[15]+l[7]],[l[12]-l[4],l[13]-l[5],l[14]-l[6],l[15]-l[7]],[r*l[12]+l[8],r*l[13]+l[9],r*l[14]+l[10],r*l[15]+l[11]],[n*l[12]-l[8],n*l[13]-l[9],n*l[14]-l[10],n*l[15]-l[11]]]}},8444:function(m,l,t){"use strict";m.exports=function(p,f,w){switch(arguments.length){case 0:return new a([0],[0],0);case 1:return"number"==typeof p?new a(v=c(p),v,0):new a(p,c(p.length),0);case 2:var v;if("number"==typeof f)return new a(p,v=c(p.length),+f);w=0;case 3:if(p.length!==f.length)throw new Error("state and velocity lengths must match");return new a(p,f,w)}};var o=t(9680),r=t(5070);function n(p,f,w){return Math.min(f,Math.max(p,w))}function a(p,f,w){this.dimension=p.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var v=0;v<this.dimension;++v)this.bounds[0][v]=-1/0,this.bounds[1][v]=1/0;this._state=p.slice().reverse(),this._velocity=f.slice().reverse(),this._time=[w],this._scratch=[p.slice(),p.slice(),p.slice(),p.slice(),p.slice()]}var s=a.prototype;function c(p){for(var f=new Array(p),w=0;w<p;++w)f[w]=0;return f}s.flush=function(p){var f=r.gt(this._time,p)-1;f<=0||(this._time.splice(0,f),this._state.splice(0,f*this.dimension),this._velocity.splice(0,f*this.dimension))},s.curve=function(p){var f=this._time,w=f.length,v=r.le(f,p),h=this._scratch[0],_=this._state,x=this._velocity,b=this.dimension,M=this.bounds;if(v<0)for(var d=b-1,E=0;E<b;++E,--d)h[E]=_[d];else if(v>=w-1){d=_.length-1;var k=p-f[w-1];for(E=0;E<b;++E,--d)h[E]=_[d]+k*x[d]}else{d=b*(v+1)-1;var I=f[v],L=f[v+1]-I||1,P=this._scratch[1],R=this._scratch[2],z=this._scratch[3],$=this._scratch[4],N=!0;for(E=0;E<b;++E,--d)P[E]=_[d],z[E]=x[d]*L,R[E]=_[d+b],$[E]=x[d+b]*L,N=N&&P[E]===R[E]&&z[E]===$[E]&&0===z[E];if(N)for(E=0;E<b;++E)h[E]=P[E];else o(P,z,R,$,(p-I)/L,h)}var W=M[0],H=M[1];for(E=0;E<b;++E)h[E]=n(W[E],H[E],h[E]);return h},s.dcurve=function(p){var f=this._time,w=f.length,v=r.le(f,p),h=this._scratch[0],_=this._state,x=this._velocity,b=this.dimension;if(v>=w-1)for(var M=_.length-1,d=0;d<b;++d,--M)h[d]=x[M];else{M=b*(v+1)-1;var E=f[v],k=f[v+1]-E||1,I=this._scratch[1],L=this._scratch[2],P=this._scratch[3],R=this._scratch[4],z=!0;for(d=0;d<b;++d,--M)I[d]=_[M],P[d]=x[M]*k,L[d]=_[M+b],R[d]=x[M+b]*k,z=z&&I[d]===L[d]&&P[d]===R[d]&&0===P[d];if(z)for(d=0;d<b;++d)h[d]=0;else for(o.derivative(I,P,L,R,(p-E)/k,h),d=0;d<b;++d)h[d]/=k}return h},s.lastT=function(){var p=this._time;return p[p.length-1]},s.stable=function(){for(var p=this._velocity,f=p.length,w=this.dimension-1;w>=0;--w)if(p[--f])return!1;return!0},s.jump=function(p){var f=this.lastT(),w=this.dimension;if(!(p<f||arguments.length!==w+1)){var v=this._state,h=this._velocity,_=v.length-this.dimension,x=this.bounds,b=x[0],M=x[1];this._time.push(f,p);for(var d=0;d<2;++d)for(var E=0;E<w;++E)v.push(v[_++]),h.push(0);for(this._time.push(p),E=w;E>0;--E)v.push(n(b[E-1],M[E-1],arguments[E])),h.push(0)}},s.push=function(p){var f=this.lastT(),w=this.dimension;if(!(p<f||arguments.length!==w+1)){var v=this._state,h=this._velocity,_=v.length-this.dimension,x=p-f,b=this.bounds,M=b[0],d=b[1],E=x>1e-6?1/x:0;this._time.push(p);for(var k=w;k>0;--k){var I=n(M[k-1],d[k-1],arguments[k]);v.push(I),h.push((I-v[_++])*E)}}},s.set=function(p){var f=this.dimension;if(!(p<this.lastT()||arguments.length!==f+1)){var w=this._state,v=this._velocity,h=this.bounds,_=h[0],x=h[1];this._time.push(p);for(var b=f;b>0;--b)w.push(n(_[b-1],x[b-1],arguments[b])),v.push(0)}},s.move=function(p){var f=this.lastT(),w=this.dimension;if(!(p<=f||arguments.length!==w+1)){var v=this._state,h=this._velocity,_=v.length-this.dimension,x=this.bounds,b=x[0],M=x[1],d=p-f,E=d>1e-6?1/d:0;this._time.push(p);for(var k=w;k>0;--k){var I=arguments[k];v.push(n(b[k-1],M[k-1],v[_++]+I)),h.push(I*E)}}},s.idle=function(p){var f=this.lastT();if(!(p<f)){var w=this.dimension,v=this._state,h=this._velocity,_=v.length-w,x=this.bounds,b=x[0],M=x[1],d=p-f;this._time.push(p);for(var E=w-1;E>=0;--E)v.push(n(b[E],M[E],v[_]+d*h[_])),h.push(0),_+=1}}},7080:function(m){"use strict";function l(_,x,b,M,d,E){this._color=_,this.key=x,this.value=b,this.left=M,this.right=d,this._count=E}function t(_){return new l(_._color,_.key,_.value,_.left,_.right,_._count)}function o(_,x){return new l(_,x.key,x.value,x.left,x.right,x._count)}function r(_){_._count=1+(_.left?_.left._count:0)+(_.right?_.right._count:0)}function n(_,x){this._compare=_,this.root=x}m.exports=function(_){return new n(_||h,null)};var a=n.prototype;function s(_,x){var b;return x.left&&(b=s(_,x.left))?b:(b=_(x.key,x.value))||(x.right?s(_,x.right):void 0)}function c(_,x,b,M){var d;return x(_,M.key)<=0&&(M.left&&(d=c(_,x,b,M.left))||(d=b(M.key,M.value)))?d:M.right?c(_,x,b,M.right):void 0}function p(_,x,b,M,d){var E,k=b(_,d.key),I=b(x,d.key);return k<=0&&(d.left&&(E=p(_,x,b,M,d.left))||I>0&&(E=M(d.key,d.value)))?E:I>0&&d.right?p(_,x,b,M,d.right):void 0}function f(_,x){this.tree=_,this._stack=x}Object.defineProperty(a,"keys",{get:function(){var _=[];return this.forEach(function(x,b){_.push(x)}),_}}),Object.defineProperty(a,"values",{get:function(){var _=[];return this.forEach(function(x,b){_.push(b)}),_}}),Object.defineProperty(a,"length",{get:function(){return this.root?this.root._count:0}}),a.insert=function(_,x){for(var b=this._compare,M=this.root,d=[],E=[];M;){var k=b(_,M.key);d.push(M),E.push(k),M=k<=0?M.left:M.right}d.push(new l(0,_,x,null,null,1));for(var I=d.length-2;I>=0;--I)M=d[I],d[I]=E[I]<=0?new l(M._color,M.key,M.value,d[I+1],M.right,M._count+1):new l(M._color,M.key,M.value,M.left,d[I+1],M._count+1);for(I=d.length-1;I>1;--I){var L=d[I-1];if(M=d[I],1===L._color||1===M._color)break;var P=d[I-2];if(P.left===L)if(L.left===M){if(!(R=P.right)||0!==R._color){P._color=0,P.left=L.right,L._color=1,L.right=P,d[I-2]=L,d[I-1]=M,r(P),r(L),I>=3&&((z=d[I-3]).left===P?z.left=L:z.right=L);break}L._color=1,P.right=o(1,R),P._color=0,I-=1}else{if(!(R=P.right)||0!==R._color){L.right=M.left,P._color=0,P.left=M.right,M._color=1,M.left=L,M.right=P,d[I-2]=M,d[I-1]=L,r(P),r(L),r(M),I>=3&&((z=d[I-3]).left===P?z.left=M:z.right=M);break}L._color=1,P.right=o(1,R),P._color=0,I-=1}else if(L.right===M){if(!(R=P.left)||0!==R._color){P._color=0,P.right=L.left,L._color=1,L.left=P,d[I-2]=L,d[I-1]=M,r(P),r(L),I>=3&&((z=d[I-3]).right===P?z.right=L:z.left=L);break}L._color=1,P.left=o(1,R),P._color=0,I-=1}else{var R;if(!(R=P.left)||0!==R._color){var z;L.left=M.right,P._color=0,P.right=M.left,M._color=1,M.right=L,M.left=P,d[I-2]=M,d[I-1]=L,r(P),r(L),r(M),I>=3&&((z=d[I-3]).right===P?z.right=M:z.left=M);break}L._color=1,P.left=o(1,R),P._color=0,I-=1}}return d[0]._color=1,new n(b,d[0])},a.forEach=function(_,x,b){if(this.root)switch(arguments.length){case 1:return s(_,this.root);case 2:return c(x,this._compare,_,this.root);case 3:return this._compare(x,b)>=0?void 0:p(x,b,this._compare,_,this.root)}},Object.defineProperty(a,"begin",{get:function(){for(var _=[],x=this.root;x;)_.push(x),x=x.left;return new f(this,_)}}),Object.defineProperty(a,"end",{get:function(){for(var _=[],x=this.root;x;)_.push(x),x=x.right;return new f(this,_)}}),a.at=function(_){if(_<0)return new f(this,[]);for(var x=this.root,b=[];;){if(b.push(x),x.left){if(_<x.left._count){x=x.left;continue}_-=x.left._count}if(!_)return new f(this,b);if(_-=1,!x.right||_>=x.right._count)break;x=x.right}return new f(this,[])},a.ge=function(_){for(var x=this._compare,b=this.root,M=[],d=0;b;){var E=x(_,b.key);M.push(b),E<=0&&(d=M.length),b=E<=0?b.left:b.right}return M.length=d,new f(this,M)},a.gt=function(_){for(var x=this._compare,b=this.root,M=[],d=0;b;){var E=x(_,b.key);M.push(b),E<0&&(d=M.length),b=E<0?b.left:b.right}return M.length=d,new f(this,M)},a.lt=function(_){for(var x=this._compare,b=this.root,M=[],d=0;b;){var E=x(_,b.key);M.push(b),E>0&&(d=M.length),b=E<=0?b.left:b.right}return M.length=d,new f(this,M)},a.le=function(_){for(var x=this._compare,b=this.root,M=[],d=0;b;){var E=x(_,b.key);M.push(b),E>=0&&(d=M.length),b=E<0?b.left:b.right}return M.length=d,new f(this,M)},a.find=function(_){for(var x=this._compare,b=this.root,M=[];b;){var d=x(_,b.key);if(M.push(b),0===d)return new f(this,M);b=d<=0?b.left:b.right}return new f(this,[])},a.remove=function(_){var x=this.find(_);return x?x.remove():this},a.get=function(_){for(var x=this._compare,b=this.root;b;){var M=x(_,b.key);if(0===M)return b.value;b=M<=0?b.left:b.right}};var w=f.prototype;function v(_,x){_.key=x.key,_.value=x.value,_.left=x.left,_.right=x.right,_._color=x._color,_._count=x._count}function h(_,x){return _<x?-1:_>x?1:0}Object.defineProperty(w,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(w,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),w.clone=function(){return new f(this.tree,this._stack.slice())},w.remove=function(){var _=this._stack;if(0===_.length)return this.tree;var x=new Array(_.length),b=_[_.length-1];x[x.length-1]=new l(b._color,b.key,b.value,b.left,b.right,b._count);for(var M=_.length-2;M>=0;--M)x[M]=(b=_[M]).left===_[M+1]?new l(b._color,b.key,b.value,x[M+1],b.right,b._count):new l(b._color,b.key,b.value,b.left,x[M+1],b._count);if((b=x[x.length-1]).left&&b.right){var d=x.length;for(b=b.left;b.right;)x.push(b),b=b.right;var E=x[d-1];for(x.push(new l(b._color,E.key,E.value,b.left,b.right,b._count)),x[d-1].key=b.key,x[d-1].value=b.value,M=x.length-2;M>=d;--M)x[M]=new l((b=x[M])._color,b.key,b.value,b.left,x[M+1],b._count);x[d-1].left=x[d]}if(0===(b=x[x.length-1])._color){var k=x[x.length-2];for(k.left===b?k.left=null:k.right===b&&(k.right=null),x.pop(),M=0;M<x.length;++M)x[M]._count--;return new n(this.tree._compare,x[0])}if(b.left||b.right){for(b.left?v(b,b.left):b.right&&v(b,b.right),b._color=1,M=0;M<x.length-1;++M)x[M]._count--;return new n(this.tree._compare,x[0])}if(1===x.length)return new n(this.tree._compare,null);for(M=0;M<x.length;++M)x[M]._count--;var I=x[x.length-2];return function(L){for(var P,R,z,$,N=L.length-1;N>=0;--N){if(P=L[N],0===N)return void(P._color=1);if((R=L[N-1]).left===P){if((z=R.right).right&&0===z.right._color)return $=(z=R.right=t(z)).right=t(z.right),R.right=z.left,z.left=R,z.right=$,z._color=R._color,P._color=1,R._color=1,$._color=1,r(R),r(z),N>1&&((W=L[N-2]).left===R?W.left=z:W.right=z),void(L[N-1]=z);if(z.left&&0===z.left._color)return $=(z=R.right=t(z)).left=t(z.left),R.right=$.left,z.left=$.right,$.left=R,$.right=z,$._color=R._color,R._color=1,z._color=1,P._color=1,r(R),r(z),r($),N>1&&((W=L[N-2]).left===R?W.left=$:W.right=$),void(L[N-1]=$);if(1===z._color){if(0===R._color)return R._color=1,void(R.right=o(0,z));R.right=o(0,z);continue}z=t(z),R.right=z.left,z.left=R,z._color=R._color,R._color=0,r(R),r(z),N>1&&((W=L[N-2]).left===R?W.left=z:W.right=z),L[N-1]=z,L[N]=R,N+1<L.length?L[N+1]=P:L.push(P),N+=2}else{if((z=R.left).left&&0===z.left._color)return $=(z=R.left=t(z)).left=t(z.left),R.left=z.right,z.right=R,z.left=$,z._color=R._color,P._color=1,R._color=1,$._color=1,r(R),r(z),N>1&&((W=L[N-2]).right===R?W.right=z:W.left=z),void(L[N-1]=z);if(z.right&&0===z.right._color)return $=(z=R.left=t(z)).right=t(z.right),R.left=$.right,z.right=$.left,$.right=R,$.left=z,$._color=R._color,R._color=1,z._color=1,P._color=1,r(R),r(z),r($),N>1&&((W=L[N-2]).right===R?W.right=$:W.left=$),void(L[N-1]=$);if(1===z._color){if(0===R._color)return R._color=1,void(R.left=o(0,z));R.left=o(0,z);continue}var W;z=t(z),R.left=z.right,z.right=R,z._color=R._color,R._color=0,r(R),r(z),N>1&&((W=L[N-2]).right===R?W.right=z:W.left=z),L[N-1]=z,L[N]=R,N+1<L.length?L[N+1]=P:L.push(P),N+=2}}}(x),I.left===b?I.left=null:I.right=null,new n(this.tree._compare,x[0])},Object.defineProperty(w,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(w,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(w,"index",{get:function(){var _=0,x=this._stack;if(0===x.length){var b=this.tree.root;return b?b._count:0}x[x.length-1].left&&(_=x[x.length-1].left._count);for(var M=x.length-2;M>=0;--M)x[M+1]===x[M].right&&(++_,x[M].left&&(_+=x[M].left._count));return _},enumerable:!0}),w.next=function(){var _=this._stack;if(0!==_.length){var x=_[_.length-1];if(x.right)for(x=x.right;x;)_.push(x),x=x.left;else for(_.pop();_.length>0&&_[_.length-1].right===x;)x=_[_.length-1],_.pop()}},Object.defineProperty(w,"hasNext",{get:function(){var _=this._stack;if(0===_.length)return!1;if(_[_.length-1].right)return!0;for(var x=_.length-1;x>0;--x)if(_[x-1].left===_[x])return!0;return!1}}),w.update=function(_){var x=this._stack;if(0===x.length)throw new Error("Can't update empty node!");var b=new Array(x.length),M=x[x.length-1];b[b.length-1]=new l(M._color,M.key,_,M.left,M.right,M._count);for(var d=x.length-2;d>=0;--d)b[d]=(M=x[d]).left===x[d+1]?new l(M._color,M.key,M.value,b[d+1],M.right,M._count):new l(M._color,M.key,M.value,M.left,b[d+1],M._count);return new n(this.tree._compare,b[0])},w.prev=function(){var _=this._stack;if(0!==_.length){var x=_[_.length-1];if(x.left)for(x=x.left;x;)_.push(x),x=x.right;else for(_.pop();_.length>0&&_[_.length-1].left===x;)x=_[_.length-1],_.pop()}},Object.defineProperty(w,"hasPrev",{get:function(){var _=this._stack;if(0===_.length)return!1;if(_[_.length-1].left)return!0;for(var x=_.length-1;x>0;--x)if(_[x-1].right===_[x])return!0;return!1}})},7453:function(m,l,t){"use strict";m.exports=function(k,I){var L=new f(k);return L.update(I),L};var o=t(9557),r=t(1681),n=t(1011),a=t(2864),s=t(8468),c=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function p(k,I){return k[0]=I[0],k[1]=I[1],k[2]=I[2],k}function f(k){this.gl=k,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(k)}var w=f.prototype;function v(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}w.update=function(k){function I(ae,re,Q){if(Q in k){var K,te=k[Q],oe=this[Q];this[Q]=K=(ae?Array.isArray(te)&&Array.isArray(te[0]):Array.isArray(te))?[re(te[0]),re(te[1]),re(te[2])]:[re(te),re(te),re(te)];for(var ue=0;ue<3;++ue)if(K[ue]!==oe[ue])return!0}return!1}k=k||{};var L,P=I.bind(this,!1,Number),R=I.bind(this,!1,Boolean),z=I.bind(this,!1,String),$=I.bind(this,!0,function(ae){if(Array.isArray(ae)){if(3===ae.length)return[+ae[0],+ae[1],+ae[2],1];if(4===ae.length)return[+ae[0],+ae[1],+ae[2],+ae[3]]}return[0,0,0,1]}),N=!1,W=!1;if("bounds"in k)for(var H=k.bounds,U=0;U<2;++U)for(var Z=0;Z<3;++Z)H[U][Z]!==this.bounds[U][Z]&&(W=!0),this.bounds[U][Z]=H[U][Z];if("ticks"in k)for(L=k.ticks,N=!0,this.autoTicks=!1,U=0;U<3;++U)this.tickSpacing[U]=0;else P("tickSpacing")&&(this.autoTicks=!0,W=!0);if(this._firstInit&&("ticks"in k||"tickSpacing"in k||(this.autoTicks=!0),W=!0,N=!0,this._firstInit=!1),W&&this.autoTicks&&(L=s.create(this.bounds,this.tickSpacing),N=!0),N){for(U=0;U<3;++U)L[U].sort(function(ae,re){return ae.x-re.x});s.equal(L,this.ticks)?N=!1:this.ticks=L}R("tickEnable"),z("tickFont")&&(N=!0),P("tickSize"),P("tickAngle"),P("tickPad"),$("tickColor");var Y=z("labels");z("labelFont")&&(Y=!0),R("labelEnable"),P("labelSize"),P("labelPad"),$("labelColor"),R("lineEnable"),R("lineMirror"),P("lineWidth"),$("lineColor"),R("lineTickEnable"),R("lineTickMirror"),P("lineTickLength"),P("lineTickWidth"),$("lineTickColor"),R("gridEnable"),P("gridWidth"),$("gridColor"),R("zeroEnable"),$("zeroLineColor"),P("zeroLineWidth"),R("backgroundEnable"),$("backgroundColor"),this._text?this._text&&(Y||N)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=o(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&N&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=r(this.gl,this.bounds,this.ticks))};var h=[new v,new v,new v];function _(k,I,L,P,R){for(var z=k.primalOffset,$=k.primalMinor,N=k.mirrorOffset,W=k.mirrorMinor,H=P[I],U=0;U<3;++U)if(I!==U){var Z=z,Y=N,ae=$,re=W;H&1<<U&&(Z=N,Y=z,ae=W,re=$),Z[U]=L[0][U],Y[U]=L[1][U],R[U]>0?(ae[U]=-1,re[U]=0):(ae[U]=0,re[U]=1)}}var x=[0,0,0],b={model:c,view:c,projection:c,_ortho:!1};w.isOpaque=function(){return!0},w.isTransparent=function(){return!1},w.drawTransparent=function(k){};var M=[0,0,0],d=[0,0,0],E=[0,0,0];w.draw=function(k){for(var I=this.gl,L=(k=k||b).model||c,P=k.view||c,R=k.projection||c,z=this.bounds,$=k._ortho||!1,N=a(L,P,R,z,$),W=N.cubeEdges,H=N.axis,re=($?2:1)*this.pixelRatio*(R[3]*P[12]+R[7]*P[13]+R[11]*P[14]+R[15]*P[15])/I.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=W[Q],this.lastCubeProps.axis[Q]=H[Q];var K=h;for(Q=0;Q<3;++Q)_(h[Q],Q,this.bounds,W,H);I=this.gl;var te,oe,ue,Re,Ee,Ue,$e,ve,Ie,De,ze,Ge,fe=x;for(Q=0;Q<3;++Q)fe[Q]=this.backgroundEnable[Q]?H[Q]:0;for(this._background.draw(L,P,R,z,fe,this.backgroundColor),this._lines.bind(L,P,R,this),Q=0;Q<3;++Q){var he=[0,0,0];he[Q]=H[Q]>0?z[1][Q]:z[0][Q];for(var me=0;me<2;++me){var ke=(Q+1+me)%3,Pe=(Q+1+(1^me))%3;this.gridEnable[ke]&&this._lines.drawGrid(ke,Pe,this.bounds,he,this.gridColor[ke],this.gridWidth[ke]*this.pixelRatio)}for(me=0;me<2;++me)ke=(Q+1+me)%3,this.zeroEnable[Pe=(Q+1+(1^me))%3]&&Math.min(z[0][Pe],z[1][Pe])<=0&&Math.max(z[0][Pe],z[1][Pe])>=0&&this._lines.drawZero(ke,Pe,this.bounds,he,this.zeroLineColor[Pe],this.zeroLineWidth[Pe]*this.pixelRatio)}for(Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,K[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,K[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);var Te=p(M,K[Q].primalMinor),be=p(d,K[Q].mirrorMinor),xe=this.lineTickLength;for(me=0;me<3;++me){var Ne=re/L[5*me];Te[me]*=xe[me]*Ne,be[me]*=xe[me]*Ne}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,K[Q].primalOffset,Te,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,K[Q].mirrorOffset,be,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}function Se(Re){(ue=[0,0,0])[Re]=1}for(this._lines.unbind(),this._text.bind(L,P,R,this.pixelRatio),Q=0;Q<3;++Q){var pe=K[Q].primalMinor,de=K[Q].mirrorMinor,se=p(E,K[Q].primalOffset);for(me=0;me<3;++me)this.lineTickEnable[Q]&&(se[me]+=re*pe[me]*Math.max(this.lineTickLength[me],0)/L[5*me]);var we=[0,0,0];if(we[Q]=1,this.tickEnable[Q]){for(-3600===this.tickAngle[Q]?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,te[0]="auto"===(te=[this.tickAlign[Q],.5,oe=1])[0]?0:parseInt(""+te[0]),ue=[0,0,0],$e=void 0,ve=void 0,Ie=void 0,De=void 0,ze=void 0,Ge=void 0,De=(Ee=pe)[ve=((Re=Q)+2)%3],ze=(Ue=de)[$e=(Re+1)%3],Ge=Ue[ve],(Ie=Ee[$e])>0&&Ge>0||Ie>0&&Ge<0||Ie<0&&Ge>0||Ie<0&&Ge<0?Se($e):(De>0&&ze>0||De>0&&ze<0||De<0&&ze>0||De<0&&ze<0)&&Se(ve),me=0;me<3;++me)se[me]+=re*pe[me]*this.tickPad[me]/L[5*me];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],se,this.tickColor[Q],we,ue,te)}if(this.labelEnable[Q]){for(oe=0,ue=[0,0,0],this.labels[Q].length>4&&(Se(Q),oe=1),te[0]="auto"===(te=[this.labelAlign[Q],.5,oe])[0]?0:parseInt(""+te[0]),me=0;me<3;++me)se[me]+=re*pe[me]*this.labelPad[me]/L[5*me];se[Q]+=.5*(z[0][Q]+z[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],se,this.labelColor[Q],[0,0,0],ue,te)}}this._text.unbind()},w.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(m,l,t){"use strict";m.exports=function(c){for(var p=[],f=[],w=0,v=0;v<3;++v)for(var h=(v+1)%3,_=(v+2)%3,x=[0,0,0],b=[0,0,0],M=-1;M<=1;M+=2){f.push(w,w+2,w+1,w+1,w+2,w+3),x[v]=M,b[v]=M;for(var d=-1;d<=1;d+=2){x[h]=d;for(var E=-1;E<=1;E+=2)x[_]=E,p.push(x[0],x[1],x[2],b[0],b[1],b[2]),w+=1}var k=h;h=_,_=k}var I=o(c,new Float32Array(p)),L=o(c,new Uint16Array(f),c.ELEMENT_ARRAY_BUFFER),P=r(c,[{buffer:I,type:c.FLOAT,size:3,offset:0,stride:24},{buffer:I,type:c.FLOAT,size:3,offset:12,stride:24}],L),R=n(c);return R.attributes.position.location=0,R.attributes.normal.location=1,new a(c,I,P,R)};var o=t(5827),r=t(2944),n=t(1943).bg;function a(c,p,f,w){this.gl=c,this.buffer=p,this.vao=f,this.shader=w}var s=a.prototype;s.draw=function(c,p,f,w,v,h){for(var _=!1,x=0;x<3;++x)_=_||v[x];if(_){var b=this.gl;b.enable(b.POLYGON_OFFSET_FILL),b.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:c,view:p,projection:f,bounds:w,enable:v,colors:h},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),b.disable(b.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(m,l,t){"use strict";m.exports=function(d,E,k,I,L){r(s,E,d),r(s,k,s);for(var P=0,R=0;R<2;++R){f[2]=I[R][2];for(var z=0;z<2;++z){f[1]=I[z][1];for(var $=0;$<2;++$)f[0]=I[$][0],v(c[P],f,s),P+=1}}var N=-1;for(R=0;R<8;++R){for(var W=c[R][3],H=0;H<3;++H)p[R][H]=c[R][H]/W;L&&(p[R][2]*=-1),W<0&&(N<0||p[R][2]<p[N][2])&&(N=R)}if(N<0){N=0;for(var U=0;U<3;++U){for(var Z=(U+2)%3,Y=(U+1)%3,ae=-1,re=-1,Q=0;Q<2;++Q){var K=(oe=Q<<U)+(Q<<Z)+(1-Q<<Y),te=oe+(1-Q<<Z)+(Q<<Y);a(p[oe],p[K],p[te],w)<0||(Q?ae=1:re=1)}if(ae<0||re<0)re>ae&&(N|=1<<U);else{for(Q=0;Q<2;++Q){K=(oe=Q<<U)+(Q<<Z)+(1-Q<<Y);var oe,ue=_([c[oe],c[K],c[te=oe+(1-Q<<Z)+(Q<<Y)],c[oe+(1<<Z)+(1<<Y)]]);Q?ae=ue:re=ue}re>ae&&(N|=1<<U)}}}var fe=7^N,he=-1;for(R=0;R<8;++R)R!==N&&R!==fe&&(he<0||p[he][1]>p[R][1])&&(he=R);var me=-1;for(R=0;R<3;++R)(Pe=he^1<<R)!==N&&Pe!==fe&&(me<0&&(me=Pe),(Y=p[Pe])[0]<p[me][0]&&(me=Pe));var ke=-1;for(R=0;R<3;++R){var Pe;(Pe=he^1<<R)!==N&&Pe!==fe&&Pe!==me&&(ke<0&&(ke=Pe),(Y=p[Pe])[0]>p[ke][0]&&(ke=Pe))}var Te=x;Te[0]=Te[1]=Te[2]=0,Te[o.log2(me^he)]=he&me,Te[o.log2(he^ke)]=he&ke;var be=7^ke;be===N||be===fe?Te[o.log2(ke^(be=7^me))]=be&ke:Te[o.log2(me^be)]=be&me;var xe=b,Ne=N;for(U=0;U<3;++U)xe[U]=Ne&1<<U?-1:1;return M};var o=t(2288),r=t(104),n=t(4670),a=t(417),s=new Array(16),c=new Array(8),p=new Array(8),f=new Array(3),w=[0,0,0];function v(d,E,k){for(var I=0;I<4;++I){d[I]=k[12+I];for(var L=0;L<3;++L)d[I]+=E[L]*k[4*L+I]}}!function(){for(var d=0;d<8;++d)c[d]=[1,1,1,1],p[d]=[1,1,1]}();var h=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function _(d){for(var E=0;E<h.length;++E)if((d=n.positive(d,h[E])).length<3)return 0;var k=d[0],I=k[0]/k[3],L=k[1]/k[3],P=0;for(E=1;E+1<d.length;++E){var R=d[E],z=d[E+1];P+=Math.abs((R[0]/R[3]-I)*(z[1]/z[3]-L)-(R[1]/R[3]-L)*(z[0]/z[3]-I))}return P}var x=[1,1,1],b=[0,0,0],M={cubeEdges:x,axis:b}},1681:function(m,l,t){"use strict";m.exports=function(x,b,M){var d=[],E=[0,0,0],k=[0,0,0],I=[0,0,0],L=[0,0,0];d.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var P=0;P<3;++P){for(var R=d.length/3|0,z=0;z<M[P].length;++z){var $=+M[P][z].x;d.push($,0,1,$,1,1,$,0,-1,$,0,-1,$,1,1,$,1,-1)}var N=d.length/3|0;E[P]=R,k[P]=N-R,R=d.length/3|0;for(var W=0;W<M[P].length;++W)d.push($=+M[P][W].x,0,1,$,1,1,$,0,-1,$,0,-1,$,1,1,$,1,-1);N=d.length/3|0,I[P]=R,L[P]=N-R}var H=o(x,new Float32Array(d)),U=r(x,[{buffer:H,type:x.FLOAT,size:3,stride:0,offset:0}]),Z=n(x);return Z.attributes.position.location=0,new h(x,H,U,Z,k,E,L,I)};var o=t(5827),r=t(2944),n=t(1943).j,a=[0,0,0],s=[0,0,0],c=[0,0,0],p=[0,0,0],f=[1,1];function w(x){return x[0]=x[1]=x[2]=0,x}function v(x,b){return x[0]=b[0],x[1]=b[1],x[2]=b[2],x}function h(x,b,M,d,E,k,I,L){this.gl=x,this.vertBuffer=b,this.vao=M,this.shader=d,this.tickCount=E,this.tickOffset=k,this.gridCount=I,this.gridOffset=L}var _=h.prototype;_.bind=function(x,b,M){this.shader.bind(),this.shader.uniforms.model=x,this.shader.uniforms.view=b,this.shader.uniforms.projection=M,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=f,this.vao.bind()},_.unbind=function(){this.vao.unbind()},_.drawAxisLine=function(x,b,M,d,E){var k=w(s);this.shader.uniforms.majorAxis=s,k[x]=b[1][x]-b[0][x],this.shader.uniforms.minorAxis=k;var I,L=v(p,M);L[x]+=b[0][x],this.shader.uniforms.offset=L,this.shader.uniforms.lineWidth=E,this.shader.uniforms.color=d,(I=w(c))[(x+2)%3]=1,this.shader.uniforms.screenAxis=I,this.vao.draw(this.gl.TRIANGLES,6),(I=w(c))[(x+1)%3]=1,this.shader.uniforms.screenAxis=I,this.vao.draw(this.gl.TRIANGLES,6)},_.drawAxisTicks=function(x,b,M,d,E){if(this.tickCount[x]){var k=w(a);k[x]=1,this.shader.uniforms.majorAxis=k,this.shader.uniforms.offset=b,this.shader.uniforms.minorAxis=M,this.shader.uniforms.color=d,this.shader.uniforms.lineWidth=E;var I=w(c);I[x]=1,this.shader.uniforms.screenAxis=I,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x])}},_.drawGrid=function(x,b,M,d,E,k){if(this.gridCount[x]){var I=w(s);I[b]=M[1][b]-M[0][b],this.shader.uniforms.minorAxis=I;var L=v(p,d);L[b]+=M[0][b],this.shader.uniforms.offset=L;var P=w(a);P[x]=1,this.shader.uniforms.majorAxis=P;var R=w(c);R[x]=1,this.shader.uniforms.screenAxis=R,this.shader.uniforms.lineWidth=k,this.shader.uniforms.color=E,this.vao.draw(this.gl.TRIANGLES,this.gridCount[x],this.gridOffset[x])}},_.drawZero=function(x,b,M,d,E,k){var I=w(s);this.shader.uniforms.majorAxis=I,I[x]=M[1][x]-M[0][x],this.shader.uniforms.minorAxis=I;var L=v(p,d);L[x]+=M[0][x],this.shader.uniforms.offset=L;var P=w(c);P[b]=1,this.shader.uniforms.screenAxis=P,this.shader.uniforms.lineWidth=k,this.shader.uniforms.color=E,this.vao.draw(this.gl.TRIANGLES,6)},_.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(m,l,t){"use strict";var o=t(6832),r=t(5158),n=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),a=o(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);l.j=function(w){return r(w,n,a,null,[{name:"position",type:"vec3"}])};var s=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),c=o(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);l.f=function(w){return r(w,s,c,null,[{name:"position",type:"vec3"}])};var p=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),f=o(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);l.bg=function(w){return r(w,p,f,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(m,l,t){"use strict";m.exports=function(v,h,_,x,b,M){var d=o(v),E=r(v,[{buffer:d,size:3}]),k=a(v);k.attributes.position.location=0;var I=new p(v,k,d,E);return I.update(h,_,x,b,M),I};var o=t(5827),r=t(2944),n=t(875),a=t(1943).f,s=window||S.global||{},c=s.__TEXT_CACHE||{};function p(v,h,_,x){this.gl=v,this.shader=h,this.buffer=_,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}s.__TEXT_CACHE={};var f=p.prototype,w=[0,0];f.bind=function(v,h,_,x){this.vao.bind(),this.shader.bind();var b=this.shader.uniforms;b.model=v,b.view=h,b.projection=_,b.pixelScale=x,w[0]=this.gl.drawingBufferWidth,w[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=w},f.unbind=function(){this.vao.unbind()},f.update=function(v,h,_,x,b){var M=[];function d($,N,W,H,U,Z){var Y=c[W];Y||(Y=c[W]={});var ae=Y[N];ae||(ae=Y[N]=function(me,ke){try{return n(me,ke)}catch(Pe){return console.warn('error vectorizing text:"'+me+'" error:',Pe),{cells:[],positions:[]}}}(N,{triangles:!0,font:W,textAlign:"center",textBaseline:"middle",lineSpacing:U,styletags:Z}));for(var re=(H||12)/12,Q=ae.positions,K=ae.cells,te=0,oe=K.length;te<oe;++te)for(var ue=K[te],fe=2;fe>=0;--fe){var he=Q[ue[fe]];M.push(re*he[0],-re*he[1],$)}}for(var E=[0,0,0],k=[0,0,0],I=[0,0,0],L=[0,0,0],P={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},R=0;R<3;++R){I[R]=M.length/3|0,d(.5*(v[0][R]+v[1][R]),h[R],_[R],12,1.25,P),L[R]=(M.length/3|0)-I[R],E[R]=M.length/3|0;for(var z=0;z<x[R].length;++z)x[R][z].text&&d(x[R][z].x,x[R][z].text,x[R][z].font||b,x[R][z].fontSize||12,1.25,P);k[R]=(M.length/3|0)-E[R]}this.buffer.update(M),this.tickOffset=E,this.tickCount=k,this.labelOffset=I,this.labelCount=L},f.drawTicks=function(v,h,_,x,b,M,d,E){this.tickCount[v]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=b,this.shader.uniforms.angle=_,this.shader.uniforms.scale=h,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=d,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[v],this.tickOffset[v]))},f.drawLabel=function(v,h,_,x,b,M,d,E){this.labelCount[v]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=b,this.shader.uniforms.angle=_,this.shader.uniforms.scale=h,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=d,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.labelCount[v],this.labelOffset[v]))},f.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(m,l){"use strict";function t(o,r){var n=o+"",a=n.indexOf("."),s=0;a>=0&&(s=n.length-a-1);var c=Math.pow(10,s),p=Math.round(o*r*c),f=p+"";if(f.indexOf("e")>=0)return f;var w=p/c,v=p%c;p<0?(w=0|-Math.ceil(w),v=0|-v):(w=0|Math.floor(w),v|=0);var h=""+w;if(p<0&&(h="-"+h),s){for(var _=""+v;_.length<s;)_="0"+_;return h+"."+_}return h}l.create=function(o,r){for(var n=[],a=0;a<3;++a){for(var s=[],c=0;c*r[a]<=o[1][a];++c)s.push({x:c*r[a],text:t(r[a],c)});for(c=-1;c*r[a]>=o[0][a];--c)s.push({x:c*r[a],text:t(r[a],c)});n.push(s)}return n},l.equal=function(o,r){for(var n=0;n<3;++n){if(o[n].length!==r[n].length)return!1;for(var a=0;a<o[n].length;++a){var s=o[n][a],c=r[n][a];if(s.x!==c.x||s.text!==c.text||s.font!==c.font||s.fontColor!==c.fontColor||s.fontSize!==c.fontSize||s.dx!==c.dx||s.dy!==c.dy)return!1}}return!0}},2771:function(m,l,t){"use strict";m.exports=function(M,d,E,k,I){var L=d.model||p,P=d.view||p,R=d.projection||p,z=d._ortho||!1,$=M.bounds,N=(I=I||n(L,P,R,$,z)).axis;a(f,P,L),a(f,R,f);for(var W=x,H=0;H<3;++H)W[H].lo=1/0,W[H].hi=-1/0,W[H].pixelsPerDataUnit=1/0;var U=o(s(f,f));s(f,f);for(var Z=0;Z<3;++Z){var Y=(Z+1)%3,ae=(Z+2)%3,re=b;e:for(H=0;H<2;++H){var Q=[];if(N[Z]<0!=!!H){re[Z]=$[H][Z];for(var K=0;K<2;++K){re[Y]=$[K^H][Y];for(var te=0;te<2;++te)re[ae]=$[te^K^H][ae],Q.push(re.slice())}var oe=z?5:4;for(K=oe;K===oe;++K){if(0===Q.length)continue e;Q=r.positive(Q,U[K])}for(K=0;K<Q.length;++K){var ue=_(b,f,ae=Q[K],E,k);for(te=0;te<3;++te)W[te].lo=Math.min(W[te].lo,ae[te]),W[te].hi=Math.max(W[te].hi,ae[te]),te!==Z&&(W[te].pixelsPerDataUnit=Math.min(W[te].pixelsPerDataUnit,Math.abs(ue[te])))}}}}return W};var o=t(5795),r=t(4670),n=t(2864),a=t(104),s=t(2142),c=t(6342),p=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),f=new Float32Array(16);function w(M,d,E){this.lo=M,this.hi=d,this.pixelsPerDataUnit=E}var v=[0,0,0,1],h=[0,0,0,1];function _(M,d,E,k,I){for(var L=0;L<3;++L){for(var P=v,R=h,z=0;z<3;++z)R[z]=P[z]=E[z];R[3]=P[3]=1,R[L]+=1,c(R,R,d),R[3]<0&&(M[L]=1/0),P[L]-=1,c(P,P,d),P[3]<0&&(M[L]=1/0);var $=(P[0]/P[3]-R[0]/R[3])*k,N=(P[1]/P[3]-R[1]/R[3])*I;M[L]=.25*Math.sqrt($*$+N*N)}return M}var x=[new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0)],b=[0,0,0]},5827:function(m,l,t){"use strict";var o=t(5306),r=t(7498),n=t(5050),a=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(w,v,h,_,x){this.gl=w,this.type=v,this.handle=h,this.length=_,this.usage=x}var c=s.prototype;function p(w,v,h,_,x,b){var M=x.length*x.BYTES_PER_ELEMENT;if(b<0)return w.bufferData(v,x,_),M;if(M+b>h)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return w.bufferSubData(v,b,x),h}c.bind=function(){this.gl.bindBuffer(this.type,this.handle)},c.unbind=function(){this.gl.bindBuffer(this.type,null)},c.dispose=function(){this.gl.deleteBuffer(this.handle)},c.update=function(w,v){if("number"!=typeof v&&(v=-1),this.bind(),"object"==typeof w&&void 0!==w.shape){var h=w.dtype;if(a.indexOf(h)<0&&(h="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(h=gl.getExtension("OES_element_index_uint")&&"uint16"!==h?"uint32":"uint16"),h===w.dtype&&function(M,d){for(var E=1,k=d.length-1;k>=0;--k){if(d[k]!==E)return!1;E*=M[k]}return!0}(w.shape,w.stride))this.length=p(this.gl,this.type,this.length,this.usage,0===w.offset&&w.data.length===w.shape[0]?w.data:w.data.subarray(w.offset,w.shape[0]),v);else{var _=o.malloc(w.size,h),x=n(_,w.shape);r.assign(x,w),this.length=p(this.gl,this.type,this.length,this.usage,v<0?_:_.subarray(0,w.size),v),o.free(_)}}else if(Array.isArray(w)){var b;b=function f(w,v){for(var h=o.malloc(w.length,v),_=w.length,x=0;x<_;++x)h[x]=w[x];return h}(w,this.type===this.gl.ELEMENT_ARRAY_BUFFER?"uint16":"float32"),this.length=p(this.gl,this.type,this.length,this.usage,v<0?b:b.subarray(0,w.length),v),o.free(b)}else if("object"==typeof w&&"number"==typeof w.length)this.length=p(this.gl,this.type,this.length,this.usage,w,v);else{if("number"!=typeof w&&void 0!==w)throw new Error("gl-buffer: Invalid data type");if(v>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(w|=0)<=0&&(w=1),this.gl.bufferData(this.type,0|w,this.usage),this.length=w}},m.exports=function(w,v,h,_){if(_=_||w.DYNAMIC_DRAW,(h=h||w.ARRAY_BUFFER)!==w.ARRAY_BUFFER&&h!==w.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(_!==w.DYNAMIC_DRAW&&_!==w.STATIC_DRAW&&_!==w.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var x=w.createBuffer(),b=new s(w,h,x,0,_);return b.update(v),b}},1140:function(m,l,t){"use strict";var o=t(2858);m.exports=function(n,a){var s=n.positions,c=n.vectors,p={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(0===n.positions.length)return a&&(a[0]=[0,0,0],a[1]=[0,0,0]),p;for(var f=0,w=1/0,v=-1/0,h=1/0,_=-1/0,x=1/0,b=-1/0,M=null,d=null,E=[],k=1/0,I=!1,L=0;L<s.length;L++){var P=s[L];w=Math.min(P[0],w),v=Math.max(P[0],v),h=Math.min(P[1],h),_=Math.max(P[1],_),x=Math.min(P[2],x),b=Math.max(P[2],b);var R=c[L];if(o.length(R)>f&&(f=o.length(R)),L){var z=2*o.distance(M,P)/(o.length(d)+o.length(R));z?(k=Math.min(k,z),I=!1):I=!0}I||(M=P,d=R),E.push(R)}var N=[v,_,b];a&&(a[0]=[w,h,x],a[1]=N),0===f&&(f=1);var W=1/f;isFinite(k)||(k=1),p.vectorScale=k;var H=n.coneSize||.5;n.absoluteConeSize&&(H=n.absoluteConeSize*W),p.coneScale=H,L=0;for(var U=0;L<s.length;L++)for(var Z=(P=s[L])[0],Y=P[1],ae=P[2],re=E[L],Q=o.length(re)*W,K=0;K<8;K++){p.positions.push([Z,Y,ae,U++]),p.positions.push([Z,Y,ae,U++]),p.positions.push([Z,Y,ae,U++]),p.positions.push([Z,Y,ae,U++]),p.positions.push([Z,Y,ae,U++]),p.positions.push([Z,Y,ae,U++]),p.vectors.push(re),p.vectors.push(re),p.vectors.push(re),p.vectors.push(re),p.vectors.push(re),p.vectors.push(re),p.vertexIntensity.push(Q,Q,Q),p.vertexIntensity.push(Q,Q,Q);var te=p.positions.length;p.cells.push([te-6,te-5,te-4],[te-3,te-2,te-1])}return p};var r=t(7234);m.exports.createMesh=t(5028),m.exports.createConeMesh=function(n,a){return m.exports.createMesh(n,a,{shaders:r,traceType:"cone"})}},5028:function(m,l,t){"use strict";var o=t(5158),r=t(5827),n=t(2944),a=t(8931),s=t(104),c=t(7437),p=t(5050),f=t(9156),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(_,x,b,M,d,E,k,I,L,P,R){this.gl=_,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=x,this.dirty=!0,this.triShader=b,this.pickShader=M,this.trianglePositions=d,this.triangleVectors=E,this.triangleColors=I,this.triangleUVs=L,this.triangleIds=k,this.triangleVAO=P,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=R,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var h=v.prototype;h.isOpaque=function(){return this.opacity>=1},h.isTransparent=function(){return this.opacity<1},h.pickSlots=1,h.setPickBase=function(_){this.pickId=_},h.update=function(_){_=_||{};var x=this.gl;this.dirty=!0,"lightPosition"in _&&(this.lightPosition=_.lightPosition),"opacity"in _&&(this.opacity=_.opacity),"ambient"in _&&(this.ambientLight=_.ambient),"diffuse"in _&&(this.diffuseLight=_.diffuse),"specular"in _&&(this.specularLight=_.specular),"roughness"in _&&(this.roughness=_.roughness),"fresnel"in _&&(this.fresnel=_.fresnel),void 0!==_.tubeScale&&(this.tubeScale=_.tubeScale),void 0!==_.vectorScale&&(this.vectorScale=_.vectorScale),void 0!==_.coneScale&&(this.coneScale=_.coneScale),void 0!==_.coneOffset&&(this.coneOffset=_.coneOffset),_.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=x.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=x.LINEAR,this.texture.setPixels(function(ue){for(var fe=f({colormap:ue,nshades:256,format:"rgba"}),he=new Uint8Array(1024),me=0;me<256;++me){for(var ke=fe[me],Pe=0;Pe<3;++Pe)he[4*me+Pe]=ke[Pe];he[4*me+3]=255*ke[3]}return p(he,[256,256,4],[4,0,1])}(_.colormap)),this.texture.generateMipmap());var b=_.cells,M=_.positions,d=_.vectors;if(M&&b&&d){var E=[],k=[],I=[],L=[],P=[];this.cells=b,this.positions=M,this.vectors=d;var R=_.meshColor||[1,1,1,1],z=_.vertexIntensity,$=1/0,N=-1/0;if(z)if(_.vertexIntensityBounds)$=+_.vertexIntensityBounds[0],N=+_.vertexIntensityBounds[1];else for(var W=0;W<z.length;++W){var H=z[W];$=Math.min($,H),N=Math.max(N,H)}else for(W=0;W<M.length;++W)H=M[W][2],$=Math.min($,H),N=Math.max(N,H);for(this.intensity=z||function(ue){for(var fe=ue.length,he=new Array(fe),me=0;me<fe;++me)he[me]=ue[me][2];return he}(M),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],W=0;W<M.length;++W)for(var U=M[W],Z=0;Z<3;++Z)!isNaN(U[Z])&&isFinite(U[Z])&&(this.bounds[0][Z]=Math.min(this.bounds[0][Z],U[Z]),this.bounds[1][Z]=Math.max(this.bounds[1][Z],U[Z]));var Y=0;e:for(W=0;W<b.length;++W){var ae=b[W];if(3===ae.length){for(Z=0;Z<3;++Z){U=M[Q=ae[Z]];for(var re=0;re<3;++re)if(isNaN(U[re])||!isFinite(U[re]))continue e}for(Z=0;Z<3;++Z){var Q;U=M[Q=ae[2-Z]],E.push(U[0],U[1],U[2],U[3]);var K=d[Q];k.push(K[0],K[1],K[2],K[3]||0);var te;I.push(R[0],R[1],R[2],3===R.length?1:R[3]),L.push((te=z?[(z[Q]-$)/(N-$),0]:[(U[2]-$)/(N-$),0])[0],te[1]),P.push(W)}Y+=1}}this.triangleCount=Y,this.trianglePositions.update(E),this.triangleVectors.update(k),this.triangleColors.update(I),this.triangleUVs.update(L),this.triangleIds.update(new Uint32Array(P))}},h.drawTransparent=h.draw=function(_){for(var x=this.gl,b=(_=_||{}).model||w,M=_.view||w,d=_.projection||w,E=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)E[0][k]=Math.max(E[0][k],this.clipBounds[0][k]),E[1][k]=Math.min(E[1][k],this.clipBounds[1][k]);var I={model:b,view:M,projection:d,inverseModel:w.slice(),clipBounds:E,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};I.inverseModel=c(I.inverseModel,I.model),x.disable(x.CULL_FACE),this.texture.bind(0);var L=new Array(16);for(s(L,I.view,I.model),s(L,I.projection,L),c(L,L),k=0;k<3;++k)I.eyePosition[k]=L[12+k]/L[15];var P=L[15];for(k=0;k<3;++k)P+=this.lightPosition[k]*L[4*k+3];for(k=0;k<3;++k){for(var R=L[12+k],z=0;z<3;++z)R+=L[4*z+k]*this.lightPosition[z];I.lightPosition[k]=R/P}if(this.triangleCount>0){var $=this.triShader;$.bind(),$.uniforms=I,this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},h.drawPick=function(_){for(var x=this.gl,b=(_=_||{}).model||w,M=_.view||w,d=_.projection||w,E=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)E[0][k]=Math.max(E[0][k],this.clipBounds[0][k]),E[1][k]=Math.min(E[1][k],this.clipBounds[1][k]);this._model=[].slice.call(b),this._view=[].slice.call(M),this._projection=[].slice.call(d),this._resolution=[x.drawingBufferWidth,x.drawingBufferHeight];var I={model:b,view:M,projection:d,clipBounds:E,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},L=this.pickShader;L.bind(),L.uniforms=I,this.triangleCount>0&&(this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},h.pick=function(_){if(!_||_.id!==this.pickId)return null;var x=_.value[0]+256*_.value[1]+65536*_.value[2],b=this.cells[x],M=this.positions[b[1]].slice(0,3),d={position:M,dataCoordinate:M,index:Math.floor(b[1]/48)};return"cone"===this.traceType?d.index=Math.floor(b[1]/48):"streamtube"===this.traceType&&(d.intensity=this.intensity[b[1]],d.velocity=this.vectors[b[1]].slice(0,3),d.divergence=this.vectors[b[1]][3],d.index=x),d},h.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},m.exports=function(_,x,b){var M=b.shaders;1===arguments.length&&(_=(x=_).gl);var W,H,d=((H=o(_,(W=M).meshShader.vertex,W.meshShader.fragment,null,W.meshShader.attributes)).attributes.position.location=0,H.attributes.color.location=2,H.attributes.uv.location=3,H.attributes.vector.location=4,H),E=function(N,W){var H=o(N,W.pickShader.vertex,W.pickShader.fragment,null,W.pickShader.attributes);return H.attributes.position.location=0,H.attributes.id.location=1,H.attributes.vector.location=4,H}(_,M),k=a(_,p(new Uint8Array([255,255,255,255]),[1,1,4]));k.generateMipmap(),k.minFilter=_.LINEAR_MIPMAP_LINEAR,k.magFilter=_.LINEAR;var I=r(_),L=r(_),P=r(_),R=r(_),z=r(_),$=new v(_,k,d,E,I,L,z,P,R,n(_,[{buffer:I,type:_.FLOAT,size:4},{buffer:z,type:_.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:P,type:_.FLOAT,size:4},{buffer:R,type:_.FLOAT,size:2},{buffer:L,type:_.FLOAT,size:4}]),b.traceType||"cone");return $.update(x),$}},7234:function(m,l,t){var o=t(6832),r=o(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),n=o(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),a=o(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);l.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},l.pickShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(m){m.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(m,l,t){var o=t(1950);m.exports=function(r){return o[r]}},3110:function(m,l,t){"use strict";m.exports=function(v){var h=v.gl,_=o(h),x=r(h,[{buffer:_,type:h.FLOAT,size:3,offset:0,stride:40},{buffer:_,type:h.FLOAT,size:4,offset:12,stride:40},{buffer:_,type:h.FLOAT,size:3,offset:28,stride:40}]),b=n(h);b.attributes.position.location=0,b.attributes.color.location=1,b.attributes.offset.location=2;var M=new s(h,_,x,b);return M.update(v),M};var o=t(5827),r=t(2944),n=t(7667),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(v,h,_,x){this.gl=v,this.shader=x,this.buffer=h,this.vao=_,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var c=s.prototype;function p(v,h){for(var _=0;_<3;++_)v[0][_]=Math.min(v[0][_],h[_]),v[1][_]=Math.max(v[1][_],h[_])}c.isOpaque=function(){return!this.hasAlpha},c.isTransparent=function(){return this.hasAlpha},c.drawTransparent=c.draw=function(v){var h=this.gl,_=this.shader.uniforms;this.shader.bind();var x=_.view=v.view||a,b=_.projection=v.projection||a;_.model=v.model||a,_.clipBounds=this.clipBounds,_.opacity=this.opacity;var I=(v._ortho?2:1)*this.pixelRatio*(b[3]*x[12]+b[7]*x[13]+b[11]*x[14]+b[15]*x[15])/h.drawingBufferHeight;this.vao.bind();for(var L=0;L<3;++L)h.lineWidth(this.lineWidth[L]*this.pixelRatio),_.capSize=this.capSize[L]*I,this.lineCount[L]&&h.drawArrays(h.LINES,this.lineOffset[L],this.lineCount[L]);this.vao.unbind()};var f=function(){for(var v=new Array(3),h=0;h<3;++h){for(var _=[],x=1;x<=2;++x)for(var b=-1;b<=1;b+=2){var M=[0,0,0];M[(x+h)%3]=b,_.push(M)}v[h]=_}return v}();function w(v,h,_,x){for(var b=f[x],M=0;M<b.length;++M){var d=b[M];v.push(h[0],h[1],h[2],_[0],_[1],_[2],_[3],d[0],d[1],d[2])}return b.length}c.update=function(v){"lineWidth"in(v=v||{})&&(this.lineWidth=v.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in v&&(this.capSize=v.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in v&&(this.opacity=+v.opacity,this.opacity<1&&(this.hasAlpha=!0));var h=v.color||[[0,0,0],[0,0,0],[0,0,0]],_=v.position,x=v.error;if(Array.isArray(h[0])||(h=[h,h,h]),_&&x){var b=[],M=_.length,d=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var E=0;E<3;++E){this.lineOffset[E]=d;e:for(var k=0;k<M;++k){for(var I=_[k],L=0;L<3;++L)if(isNaN(I[L])||!isFinite(I[L]))continue e;var P,R=x[k],z=h[E];Array.isArray(z[0])&&(z=h[k]),3===z.length?z=[z[0],z[1],z[2],1]:4===z.length&&(z=[z[0],z[1],z[2],z[3]],!this.hasAlpha&&z[3]<1&&(this.hasAlpha=!0)),isNaN(R[0][E])||isNaN(R[1][E])||(R[0][E]<0&&((P=I.slice())[E]+=R[0][E],b.push(I[0],I[1],I[2],z[0],z[1],z[2],z[3],0,0,0,P[0],P[1],P[2],z[0],z[1],z[2],z[3],0,0,0),p(this.bounds,P),d+=2+w(b,P,z,E)),R[1][E]>0&&((P=I.slice())[E]+=R[1][E],b.push(I[0],I[1],I[2],z[0],z[1],z[2],z[3],0,0,0,P[0],P[1],P[2],z[0],z[1],z[2],z[3],0,0,0),p(this.bounds,P),d+=2+w(b,P,z,E)))}this.lineCount[E]=d-this.lineOffset[E]}this.buffer.update(b)}},c.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(m,l,t){"use strict";var o=t(6832),r=t(5158),n=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),a=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);m.exports=function(s){return r(s,n,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(m,l,t){"use strict";var o=t(8931);m.exports=function(M,d,E,k){r||(r=M.FRAMEBUFFER_UNSUPPORTED,n=M.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,a=M.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=M.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var I=M.getExtension("WEBGL_draw_buffers");if(!c&&I&&function(W,H){var U=W.getParameter(H.MAX_COLOR_ATTACHMENTS_WEBGL);c=new Array(U+1);for(var Z=0;Z<=U;++Z){for(var Y=new Array(U),ae=0;ae<Z;++ae)Y[ae]=W.COLOR_ATTACHMENT0+ae;for(ae=Z;ae<U;++ae)Y[ae]=W.NONE;c[Z]=Y}}(M,I),Array.isArray(d)&&(k=E,E=0|d[1],d=0|d[0]),"number"!=typeof d)throw new Error("gl-fbo: Missing shape parameter");var L=M.getParameter(M.MAX_RENDERBUFFER_SIZE);if(d<0||d>L||E<0||E>L)throw new Error("gl-fbo: Parameters are too large for FBO");var P=1;if("color"in(k=k||{})){if((P=Math.max(0|k.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(P>1){if(!I)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(P>M.getParameter(I.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+P+" draw buffers")}}var R=M.UNSIGNED_BYTE,z=M.getExtension("OES_texture_float");if(k.float&&P>0){if(!z)throw new Error("gl-fbo: Context does not support floating point textures");R=M.FLOAT}else k.preferFloat&&P>0&&z&&(R=M.FLOAT);var $=!0;"depth"in k&&($=!!k.depth);var N=!1;return"stencil"in k&&(N=!!k.stencil),new _(M,d,E,R,P,$,N,I)};var r,n,a,s,c=null;function p(M){return[M.getParameter(M.FRAMEBUFFER_BINDING),M.getParameter(M.RENDERBUFFER_BINDING),M.getParameter(M.TEXTURE_BINDING_2D)]}function f(M,d){M.bindFramebuffer(M.FRAMEBUFFER,d[0]),M.bindRenderbuffer(M.RENDERBUFFER,d[1]),M.bindTexture(M.TEXTURE_2D,d[2])}function w(M){switch(M){case r:throw new Error("gl-fbo: Framebuffer unsupported");case n:throw new Error("gl-fbo: Framebuffer incomplete attachment");case a:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function v(M,d,E,k,I,L){if(!k)return null;var P=o(M,d,E,I,k);return P.magFilter=M.NEAREST,P.minFilter=M.NEAREST,P.mipSamples=1,P.bind(),M.framebufferTexture2D(M.FRAMEBUFFER,L,M.TEXTURE_2D,P.handle,0),P}function h(M,d,E,k,I){var L=M.createRenderbuffer();return M.bindRenderbuffer(M.RENDERBUFFER,L),M.renderbufferStorage(M.RENDERBUFFER,k,d,E),M.framebufferRenderbuffer(M.FRAMEBUFFER,I,M.RENDERBUFFER,L),L}function _(M,d,E,k,I,L,P,R){this.gl=M,this._shape=[0|d,0|E],this._destroyed=!1,this._ext=R,this.color=new Array(I);for(var z=0;z<I;++z)this.color[z]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=k,this._useDepth=L,this._useStencil=P;var $=this,N=[0|d,0|E];Object.defineProperties(N,{0:{get:function(){return $._shape[0]},set:function(W){return $.width=W}},1:{get:function(){return $._shape[1]},set:function(W){return $.height=W}}}),this._shapeVector=N,function(W){var H=p(W.gl),U=W.gl,Z=W.handle=U.createFramebuffer(),Y=W._shape[0],ae=W._shape[1],re=W.color.length,Q=W._ext,K=W._useStencil,te=W._useDepth,oe=W._colorType;U.bindFramebuffer(U.FRAMEBUFFER,Z);for(var ue=0;ue<re;++ue)W.color[ue]=v(U,Y,ae,oe,U.RGBA,U.COLOR_ATTACHMENT0+ue);0===re?(W._color_rb=h(U,Y,ae,U.RGBA4,U.COLOR_ATTACHMENT0),Q&&Q.drawBuffersWEBGL(c[0])):re>1&&Q.drawBuffersWEBGL(c[re]);var fe=U.getExtension("WEBGL_depth_texture");fe?K?W.depth=v(U,Y,ae,fe.UNSIGNED_INT_24_8_WEBGL,U.DEPTH_STENCIL,U.DEPTH_STENCIL_ATTACHMENT):te&&(W.depth=v(U,Y,ae,U.UNSIGNED_SHORT,U.DEPTH_COMPONENT,U.DEPTH_ATTACHMENT)):te&&K?W._depth_rb=h(U,Y,ae,U.DEPTH_STENCIL,U.DEPTH_STENCIL_ATTACHMENT):te?W._depth_rb=h(U,Y,ae,U.DEPTH_COMPONENT16,U.DEPTH_ATTACHMENT):K&&(W._depth_rb=h(U,Y,ae,U.STENCIL_INDEX,U.STENCIL_ATTACHMENT));var he=U.checkFramebufferStatus(U.FRAMEBUFFER);if(he!==U.FRAMEBUFFER_COMPLETE){for(W._destroyed=!0,U.bindFramebuffer(U.FRAMEBUFFER,null),U.deleteFramebuffer(W.handle),W.handle=null,W.depth&&(W.depth.dispose(),W.depth=null),W._depth_rb&&(U.deleteRenderbuffer(W._depth_rb),W._depth_rb=null),ue=0;ue<W.color.length;++ue)W.color[ue].dispose(),W.color[ue]=null;W._color_rb&&(U.deleteRenderbuffer(W._color_rb),W._color_rb=null),f(U,H),w(he)}f(U,H)}(this)}var x=_.prototype;function b(M,d,E){if(M._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(M._shape[0]!==d||M._shape[1]!==E){var k=M.gl,I=k.getParameter(k.MAX_RENDERBUFFER_SIZE);if(d<0||d>I||E<0||E>I)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");M._shape[0]=d,M._shape[1]=E;for(var L=p(k),P=0;P<M.color.length;++P)M.color[P].shape=M._shape;M._color_rb&&(k.bindRenderbuffer(k.RENDERBUFFER,M._color_rb),k.renderbufferStorage(k.RENDERBUFFER,k.RGBA4,M._shape[0],M._shape[1])),M.depth&&(M.depth.shape=M._shape),M._depth_rb&&(k.bindRenderbuffer(k.RENDERBUFFER,M._depth_rb),M._useDepth&&M._useStencil?k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_STENCIL,M._shape[0],M._shape[1]):M._useDepth?k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_COMPONENT16,M._shape[0],M._shape[1]):M._useStencil&&k.renderbufferStorage(k.RENDERBUFFER,k.STENCIL_INDEX,M._shape[0],M._shape[1])),k.bindFramebuffer(k.FRAMEBUFFER,M.handle);var R=k.checkFramebufferStatus(k.FRAMEBUFFER);R!==k.FRAMEBUFFER_COMPLETE&&(M.dispose(),f(k,L),w(R)),f(k,L)}}Object.defineProperties(x,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(M){if(Array.isArray(M)||(M=[0|M,0|M]),2!==M.length)throw new Error("gl-fbo: Shape vector must be length 2");var d=0|M[0],E=0|M[1];return b(this,d,E),[d,E]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(M){return b(this,M|=0,this._shape[1]),M},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(M){return b(this,this._shape[0],M|=0),M},enumerable:!1}}),x.bind=function(){if(!this._destroyed){var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,this.handle),M.viewport(0,0,this._shape[0],this._shape[1])}},x.dispose=function(){if(!this._destroyed){this._destroyed=!0;var M=this.gl;M.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(M.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var d=0;d<this.color.length;++d)this.color[d].dispose(),this.color[d]=null;this._color_rb&&(M.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(m,l,t){var o=t(8974).sprintf,r=t(6603),n=t(9365),a=t(8008);m.exports=function(s,c,p){"use strict";var f=n(c)||"of unknown name (see npm glsl-shader-name)",w="unknown type";void 0!==p&&(w=p===r.FRAGMENT_SHADER?"fragment":"vertex");for(var v=o("Error compiling %s shader %s:\n",w,f),h=o("%s%s",v,s),_=s.split("\n"),x={},b=0;b<_.length;b++){var M=_[b];if(""!==M&&"\0"!==M){var d=parseInt(M.split(":")[2]);if(isNaN(d))throw new Error(o("Could not parse error: %s",M));x[d]=M}}var E=a(c).split("\n");for(b=0;b<E.length;b++)if((x[b+3]||x[b+2]||x[b+1])&&(v+=E[b]+"\n",x[b+1])){var k=x[b+1];k=k.substr(k.split(":",3).join(":").length+1).trim(),v+=o("^^^ %s\n\n",k)}return{long:v.trim(),short:h.trim()}}},6386:function(m,l,t){"use strict";m.exports=function(h,_){var x=h.gl,b=new p(h,a(x,c.vertex,c.fragment),a(x,c.pickVertex,c.pickFragment),s(x),s(x),s(x),s(x));return b.update(_),h.addObject(b),b};var o=t(5070),r=t(9560),n=t(5306),a=t(5158),s=t(5827),c=t(1292);function p(h,_,x,b,M,d,E){this.plot=h,this.shader=_,this.pickShader=x,this.positionBuffer=b,this.weightBuffer=M,this.colorBuffer=d,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var f,h,_,w=p.prototype,v=[0,0,1,0,0,1,1,0,1,1,0,1];w.draw=(f=[1,0,0,0,1,0,0,0,1],function(){var h=this.plot,_=this.shader,x=this.bounds,b=this.numVertices;if(!(b<=0)){var M=h.gl,d=h.dataBox,k=x[3]-x[1],I=d[2]-d[0],L=d[3]-d[1];f[0]=2*(x[2]-x[0])/I,f[4]=2*k/L,f[6]=2*(x[0]-d[0])/I-1,f[7]=2*(x[1]-d[1])/L-1,_.bind();var P=_.uniforms;P.viewTransform=f,P.shape=this.shape;var R=_.attributes;this.positionBuffer.bind(),R.position.pointer(),this.weightBuffer.bind(),R.weight.pointer(M.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),R.color.pointer(M.UNSIGNED_BYTE,!0),M.drawArrays(M.TRIANGLES,0,b)}}),w.drawPick=(h=[1,0,0,0,1,0,0,0,1],_=[0,0,0,0],function(x){var b=this.plot,M=this.pickShader,d=this.bounds,E=this.numVertices;if(!(E<=0)){var k=b.gl,I=b.dataBox,P=d[3]-d[1],R=I[2]-I[0],z=I[3]-I[1];h[0]=2*(d[2]-d[0])/R,h[4]=2*P/z,h[6]=2*(d[0]-I[0])/R-1,h[7]=2*(d[1]-I[1])/z-1;for(var $=0;$<4;++$)_[$]=x>>8*$&255;this.pickOffset=x,M.bind();var N=M.uniforms;N.viewTransform=h,N.pickOffset=_,N.shape=this.shape;var W=M.attributes;return this.positionBuffer.bind(),W.position.pointer(),this.weightBuffer.bind(),W.weight.pointer(k.UNSIGNED_BYTE,!1),this.idBuffer.bind(),W.pickId.pointer(k.UNSIGNED_BYTE,!1),k.drawArrays(k.TRIANGLES,0,E),x+this.shape[0]*this.shape[1]}}),w.pick=function(h,_,x){var b=this.pickOffset;if(x<b||x>=b+this.shape[0]*this.shape[1])return null;var d=x-b;return{object:this,pointId:d,dataCoord:[this.xData[d%this.shape[0]],this.yData[d/this.shape[0]|0]]}},w.update=function(h){var _=(h=h||{}).shape||[0,0],x=h.x||r(_[0]),b=h.y||r(_[1]),M=h.z||new Float32Array(_[0]*_[1]),d=!1!==h.zsmooth;this.xData=x,this.yData=b;var E,k,I,L,P=h.colorLevels||[0],R=h.colorValues||[0,0,0,1],z=P.length,$=this.bounds;d?(E=$[0]=x[0],k=$[1]=b[0],I=$[2]=x[x.length-1],L=$[3]=b[b.length-1]):(E=$[0]=x[0]+(x[1]-x[0])/2,k=$[1]=b[0]+(b[1]-b[0])/2,I=$[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,L=$[3]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2);var N=1/(I-E),W=1/(L-k),H=_[0],U=_[1];this.shape=[H,U];var Z=(d?(H-1)*(U-1):H*U)*(v.length>>>1);this.numVertices=Z;for(var Y=n.mallocUint8(4*Z),ae=n.mallocFloat32(2*Z),re=n.mallocUint8(2*Z),Q=n.mallocUint32(Z),K=0,te=d?H-1:H,oe=d?U-1:U,ue=0;ue<oe;++ue){var fe,he;d?(fe=W*(b[ue]-k),he=W*(b[ue+1]-k)):(fe=ue<U-1?W*(b[ue]-(b[ue+1]-b[ue])/2-k):W*(b[ue]-(b[ue]-b[ue-1])/2-k),he=ue<U-1?W*(b[ue]+(b[ue+1]-b[ue])/2-k):W*(b[ue]+(b[ue]-b[ue-1])/2-k));for(var me=0;me<te;++me){var ke,Pe;d?(ke=N*(x[me]-E),Pe=N*(x[me+1]-E)):(ke=me<H-1?N*(x[me]-(x[me+1]-x[me])/2-E):N*(x[me]-(x[me]-x[me-1])/2-E),Pe=me<H-1?N*(x[me]+(x[me+1]-x[me])/2-E):N*(x[me]+(x[me]-x[me-1])/2-E));for(var Te=0;Te<v.length;Te+=2){var be,xe,Ne,Se,Ce=v[Te],pe=v[Te+1],de=M[d?(ue+pe)*H+(me+Ce):ue*H+me],se=o.le(P,de);if(se<0)be=R[0],xe=R[1],Ne=R[2],Se=R[3];else if(se===z-1)be=R[4*z-4],xe=R[4*z-3],Ne=R[4*z-2],Se=R[4*z-1];else{var we=(de-P[se])/(P[se+1]-P[se]),Re=1-we,Ee=4*se,Ue=4*(se+1);be=Re*R[Ee]+we*R[Ue],xe=Re*R[Ee+1]+we*R[Ue+1],Ne=Re*R[Ee+2]+we*R[Ue+2],Se=Re*R[Ee+3]+we*R[Ue+3]}Y[4*K]=255*be,Y[4*K+1]=255*xe,Y[4*K+2]=255*Ne,Y[4*K+3]=255*Se,ae[2*K]=.5*ke+.5*Pe,ae[2*K+1]=.5*fe+.5*he,re[2*K]=Ce,re[2*K+1]=pe,Q[K]=ue*H+me,K+=1}}}this.positionBuffer.update(ae),this.weightBuffer.update(re),this.colorBuffer.update(Y),this.idBuffer.update(Q),n.free(ae),n.free(Y),n.free(re),n.free(Q)},w.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(m,l,t){"use strict";var o=t(6832);m.exports={fragment:o(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:o(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:o(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:o(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},248:function(m,l,t){var o=t(6832),r=t(5158),n=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),a=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),s=o(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),c=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];l.createShader=function(p){return r(p,n,a,null,c)},l.createPickShader=function(p){return r(p,n,s,null,c)}},6086:function(m,l,t){"use strict";m.exports=function(E){var k=E.gl||E.scene&&E.scene.gl,I=w(k);I.attributes.position.location=0,I.attributes.nextPosition.location=1,I.attributes.arcLength.location=2,I.attributes.lineWidth.location=3,I.attributes.color.location=4;var L=v(k);L.attributes.position.location=0,L.attributes.nextPosition.location=1,L.attributes.arcLength.location=2,L.attributes.lineWidth.location=3,L.attributes.color.location=4;for(var P=o(k),R=r(k,[{buffer:P,size:3,offset:0,stride:48},{buffer:P,size:3,offset:12,stride:48},{buffer:P,size:1,offset:24,stride:48},{buffer:P,size:1,offset:28,stride:48},{buffer:P,size:4,offset:32,stride:48}]),z=p(new Array(1024),[256,1,4]),$=0;$<1024;++$)z.data[$]=255;var N=n(k,z);N.wrap=k.REPEAT;var W=new M(k,I,L,P,R,N);return W.update(E),W};var o=t(5827),r=t(2944),n=t(8931),a=new Uint8Array(4),s=new Float32Array(a.buffer),c=t(5070),p=t(5050),f=t(248),w=f.createShader,v=f.createPickShader,h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(E,k){for(var I=0,L=0;L<3;++L){var P=E[L]-k[L];I+=P*P}return Math.sqrt(I)}function x(E){for(var k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)k[0][I]=Math.max(E[0][I],k[0][I]),k[1][I]=Math.min(E[1][I],k[1][I]);return k}function b(E,k,I,L){this.arcLength=E,this.position=k,this.index=I,this.dataCoordinate=L}function M(E,k,I,L,P,R){this.gl=E,this.shader=k,this.pickShader=I,this.buffer=L,this.vao=P,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=R,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var d=M.prototype;d.isTransparent=function(){return this.hasAlpha},d.isOpaque=function(){return!this.hasAlpha},d.pickSlots=1,d.setPickBase=function(E){this.pickId=E},d.drawTransparent=d.draw=function(E){if(this.vertexCount){var k=this.gl,I=this.shader,L=this.vao;I.bind(),I.uniforms={model:E.model||h,view:E.view||h,projection:E.projection||h,clipBounds:x(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[k.drawingBufferWidth,k.drawingBufferHeight],pixelRatio:this.pixelRatio},L.bind(),L.draw(k.TRIANGLE_STRIP,this.vertexCount),L.unbind()}},d.drawPick=function(E){if(this.vertexCount){var k=this.gl,I=this.pickShader,L=this.vao;I.bind(),I.uniforms={model:E.model||h,view:E.view||h,projection:E.projection||h,pickId:this.pickId,clipBounds:x(this.clipBounds),screenShape:[k.drawingBufferWidth,k.drawingBufferHeight],pixelRatio:this.pixelRatio},L.bind(),L.draw(k.TRIANGLE_STRIP,this.vertexCount),L.unbind()}},d.update=function(E){var k,I;this.dirty=!0;var L=!!E.connectGaps;"dashScale"in E&&(this.dashScale=E.dashScale),this.hasAlpha=!1,"opacity"in E&&(this.opacity=+E.opacity,this.opacity<1&&(this.hasAlpha=!0));var P=[],R=[],z=[],$=0,N=0,W=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],H=E.position||E.positions;if(H){var U=E.color||E.colors||[0,0,0,1],Z=E.lineWidth||1,Y=!1;e:for(k=1;k<H.length;++k){var ae,re,Q,K=H[k-1],te=H[k];for(R.push($),z.push(K.slice()),I=0;I<3;++I){if(isNaN(K[I])||isNaN(te[I])||!isFinite(K[I])||!isFinite(te[I])){if(!L&&P.length>0){for(var oe=0;oe<24;++oe)P.push(P[P.length-12]);N+=2,Y=!0}continue e}W[0][I]=Math.min(W[0][I],K[I],te[I]),W[1][I]=Math.max(W[1][I],K[I],te[I])}Array.isArray(U[0])?(ae=U.length>k-1?U[k-1]:U.length>0?U[U.length-1]:[0,0,0,1],re=U.length>k?U[k]:U.length>0?U[U.length-1]:[0,0,0,1]):ae=re=U,3===ae.length&&(ae=[ae[0],ae[1],ae[2],1]),3===re.length&&(re=[re[0],re[1],re[2],1]),!this.hasAlpha&&ae[3]<1&&(this.hasAlpha=!0),Q=Array.isArray(Z)?Z.length>k-1?Z[k-1]:Z.length>0?Z[Z.length-1]:[0,0,0,1]:Z;var ue=$;if($+=_(K,te),Y){for(I=0;I<2;++I)P.push(K[0],K[1],K[2],te[0],te[1],te[2],ue,Q,ae[0],ae[1],ae[2],ae[3]);N+=2,Y=!1}P.push(K[0],K[1],K[2],te[0],te[1],te[2],ue,Q,ae[0],ae[1],ae[2],ae[3],K[0],K[1],K[2],te[0],te[1],te[2],ue,-Q,ae[0],ae[1],ae[2],ae[3],te[0],te[1],te[2],K[0],K[1],K[2],$,-Q,re[0],re[1],re[2],re[3],te[0],te[1],te[2],K[0],K[1],K[2],$,Q,re[0],re[1],re[2],re[3]),N+=4}}if(this.buffer.update(P),R.push($),z.push(H[H.length-1].slice()),this.bounds=W,this.vertexCount=N,this.points=z,this.arcLength=R,"dashes"in E){var fe=E.dashes.slice();for(fe.unshift(0),k=1;k<fe.length;++k)fe[k]=fe[k-1]+fe[k];var he=p(new Array(1024),[256,1,4]);for(k=0;k<256;++k){for(I=0;I<4;++I)he.set(k,0,I,0);1&c.le(fe,fe[fe.length-1]*k/255)?he.set(k,0,0,0):he.set(k,0,0,255)}this.texture.setPixels(he)}},d.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},d.pick=function(E){if(!E||E.id!==this.pickId)return null;var H,U,Z,k=(H=E.value[0],U=E.value[1],Z=E.value[2],a[0]=0,a[1]=Z,a[2]=U,a[3]=H,s[0]),I=c.le(this.arcLength,k);if(I<0)return null;if(I===this.arcLength.length-1)return new b(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),I);for(var L=this.points[I],P=this.points[Math.min(I+1,this.points.length-1)],R=(k-this.arcLength[I])/(this.arcLength[I+1]-this.arcLength[I]),z=1-R,$=[0,0,0],N=0;N<3;++N)$[N]=z*L[N]+R*P[N];var W=Math.min(R<.5?I:I+1,this.points.length-1);return new b(k,$,W,this.points[W])}},7332:function(m){m.exports=function(l){var t=new Float32Array(16);return t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3],t[4]=l[4],t[5]=l[5],t[6]=l[6],t[7]=l[7],t[8]=l[8],t[9]=l[9],t[10]=l[10],t[11]=l[11],t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15],t}},9823:function(m){m.exports=function(){var l=new Float32Array(16);return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}},7787:function(m){m.exports=function(l){var t=l[0],o=l[1],r=l[2],n=l[3],a=l[4],s=l[5],c=l[6],p=l[7],f=l[8],w=l[9],v=l[10],h=l[11],_=l[12],x=l[13],b=l[14],M=l[15];return(t*s-o*a)*(v*M-h*b)-(t*c-r*a)*(w*M-h*x)+(t*p-n*a)*(w*b-v*x)+(o*c-r*s)*(f*M-h*_)-(o*p-n*s)*(f*b-v*_)+(r*p-n*c)*(f*x-w*_)}},5950:function(m){m.exports=function(l,t){var o=t[0],r=t[1],n=t[2],a=t[3],s=o+o,c=r+r,p=n+n,f=o*s,w=r*s,v=r*c,h=n*s,_=n*c,x=n*p,b=a*s,M=a*c,d=a*p;return l[0]=1-v-x,l[1]=w+d,l[2]=h-M,l[3]=0,l[4]=w-d,l[5]=1-f-x,l[6]=_+b,l[7]=0,l[8]=h+M,l[9]=_-b,l[10]=1-f-v,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}},7280:function(m){m.exports=function(l,t,o){var r=t[0],n=t[1],a=t[2],s=t[3],c=r+r,p=n+n,f=a+a,w=r*c,v=r*p,h=r*f,_=n*p,x=n*f,b=a*f,M=s*c,d=s*p,E=s*f;return l[0]=1-(_+b),l[1]=v+E,l[2]=h-d,l[3]=0,l[4]=v-E,l[5]=1-(w+b),l[6]=x+M,l[7]=0,l[8]=h+d,l[9]=x-M,l[10]=1-(w+_),l[11]=0,l[12]=o[0],l[13]=o[1],l[14]=o[2],l[15]=1,l}},9947:function(m){m.exports=function(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}},7437:function(m){m.exports=function(l,t){var o=t[0],r=t[1],n=t[2],a=t[3],s=t[4],c=t[5],p=t[6],f=t[7],w=t[8],v=t[9],h=t[10],_=t[11],x=t[12],b=t[13],M=t[14],d=t[15],E=o*c-r*s,k=o*p-n*s,I=o*f-a*s,L=r*p-n*c,P=r*f-a*c,R=n*f-a*p,z=w*b-v*x,$=w*M-h*x,N=w*d-_*x,W=v*M-h*b,H=v*d-_*b,U=h*d-_*M,Z=E*U-k*H+I*W+L*N-P*$+R*z;return Z?(l[0]=(c*U-p*H+f*W)*(Z=1/Z),l[1]=(n*H-r*U-a*W)*Z,l[2]=(b*R-M*P+d*L)*Z,l[3]=(h*P-v*R-_*L)*Z,l[4]=(p*N-s*U-f*$)*Z,l[5]=(o*U-n*N+a*$)*Z,l[6]=(M*I-x*R-d*k)*Z,l[7]=(w*R-h*I+_*k)*Z,l[8]=(s*H-c*N+f*z)*Z,l[9]=(r*N-o*H-a*z)*Z,l[10]=(x*P-b*I+d*E)*Z,l[11]=(v*I-w*P-_*E)*Z,l[12]=(c*$-s*W-p*z)*Z,l[13]=(o*W-r*$+n*z)*Z,l[14]=(b*k-x*L-M*E)*Z,l[15]=(w*L-v*k+h*E)*Z,l):null}},3012:function(m,l,t){var o=t(9947);m.exports=function(r,n,a,s){var c,p,f,w,v,h,_,x,b,M,d=n[0],E=n[1],k=n[2],I=s[0],L=s[1],P=s[2],R=a[0],z=a[1],$=a[2];return Math.abs(d-R)<1e-6&&Math.abs(E-z)<1e-6&&Math.abs(k-$)<1e-6?o(r):(_=d-R,x=E-z,b=k-$,c=L*(b*=M=1/Math.sqrt(_*_+x*x+b*b))-P*(x*=M),p=P*(_*=M)-I*b,f=I*x-L*_,(M=Math.sqrt(c*c+p*p+f*f))?(c*=M=1/M,p*=M,f*=M):(c=0,p=0,f=0),w=x*f-b*p,v=b*c-_*f,h=_*p-x*c,(M=Math.sqrt(w*w+v*v+h*h))?(w*=M=1/M,v*=M,h*=M):(w=0,v=0,h=0),r[0]=c,r[1]=w,r[2]=_,r[3]=0,r[4]=p,r[5]=v,r[6]=x,r[7]=0,r[8]=f,r[9]=h,r[10]=b,r[11]=0,r[12]=-(c*d+p*E+f*k),r[13]=-(w*d+v*E+h*k),r[14]=-(_*d+x*E+b*k),r[15]=1,r)}},104:function(m){m.exports=function(l,t,o){var r=t[0],n=t[1],a=t[2],s=t[3],c=t[4],p=t[5],f=t[6],w=t[7],v=t[8],h=t[9],_=t[10],x=t[11],b=t[12],M=t[13],d=t[14],E=t[15],k=o[0],I=o[1],L=o[2],P=o[3];return l[0]=k*r+I*c+L*v+P*b,l[1]=k*n+I*p+L*h+P*M,l[2]=k*a+I*f+L*_+P*d,l[3]=k*s+I*w+L*x+P*E,l[4]=(k=o[4])*r+(I=o[5])*c+(L=o[6])*v+(P=o[7])*b,l[5]=k*n+I*p+L*h+P*M,l[6]=k*a+I*f+L*_+P*d,l[7]=k*s+I*w+L*x+P*E,l[8]=(k=o[8])*r+(I=o[9])*c+(L=o[10])*v+(P=o[11])*b,l[9]=k*n+I*p+L*h+P*M,l[10]=k*a+I*f+L*_+P*d,l[11]=k*s+I*w+L*x+P*E,l[12]=(k=o[12])*r+(I=o[13])*c+(L=o[14])*v+(P=o[15])*b,l[13]=k*n+I*p+L*h+P*M,l[14]=k*a+I*f+L*_+P*d,l[15]=k*s+I*w+L*x+P*E,l}},5268:function(m){m.exports=function(l,t,o,r,n,a,s){var c=1/(t-o),p=1/(r-n),f=1/(a-s);return l[0]=-2*c,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*p,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*f,l[11]=0,l[12]=(t+o)*c,l[13]=(n+r)*p,l[14]=(s+a)*f,l[15]=1,l}},1120:function(m){m.exports=function(l,t,o,r,n){var a=1/Math.tan(t/2),s=1/(r-n);return l[0]=a/o,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=a,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=(n+r)*s,l[11]=-1,l[12]=0,l[13]=0,l[14]=2*n*r*s,l[15]=0,l}},4422:function(m){m.exports=function(l,t,o,r){var n,a,s,c,p,f,w,v,h,_,x,b,M,d,E,k,I,L,P,R,z,$,N,W,H=r[0],U=r[1],Z=r[2],Y=Math.sqrt(H*H+U*U+Z*Z);return Math.abs(Y)<1e-6?null:(H*=Y=1/Y,U*=Y,Z*=Y,n=Math.sin(o),s=1-(a=Math.cos(o)),p=t[1],f=t[2],w=t[3],h=t[5],_=t[6],x=t[7],M=t[9],d=t[10],E=t[11],P=H*U*s-Z*n,R=U*U*s+a,z=Z*U*s+H*n,$=H*Z*s+U*n,N=U*Z*s-H*n,W=Z*Z*s+a,l[0]=(c=t[0])*(k=H*H*s+a)+(v=t[4])*(I=U*H*s+Z*n)+(b=t[8])*(L=Z*H*s-U*n),l[1]=p*k+h*I+M*L,l[2]=f*k+_*I+d*L,l[3]=w*k+x*I+E*L,l[4]=c*P+v*R+b*z,l[5]=p*P+h*R+M*z,l[6]=f*P+_*R+d*z,l[7]=w*P+x*R+E*z,l[8]=c*$+v*N+b*W,l[9]=p*$+h*N+M*W,l[10]=f*$+_*N+d*W,l[11]=w*$+x*N+E*W,t!==l&&(l[12]=t[12],l[13]=t[13],l[14]=t[14],l[15]=t[15]),l)}},6109:function(m){m.exports=function(l,t,o){var r=Math.sin(o),n=Math.cos(o),a=t[4],s=t[5],c=t[6],p=t[7],f=t[8],w=t[9],v=t[10],h=t[11];return t!==l&&(l[0]=t[0],l[1]=t[1],l[2]=t[2],l[3]=t[3],l[12]=t[12],l[13]=t[13],l[14]=t[14],l[15]=t[15]),l[4]=a*n+f*r,l[5]=s*n+w*r,l[6]=c*n+v*r,l[7]=p*n+h*r,l[8]=f*n-a*r,l[9]=w*n-s*r,l[10]=v*n-c*r,l[11]=h*n-p*r,l}},7115:function(m){m.exports=function(l,t,o){var r=Math.sin(o),n=Math.cos(o),a=t[0],s=t[1],c=t[2],p=t[3],f=t[8],w=t[9],v=t[10],h=t[11];return t!==l&&(l[4]=t[4],l[5]=t[5],l[6]=t[6],l[7]=t[7],l[12]=t[12],l[13]=t[13],l[14]=t[14],l[15]=t[15]),l[0]=a*n-f*r,l[1]=s*n-w*r,l[2]=c*n-v*r,l[3]=p*n-h*r,l[8]=a*r+f*n,l[9]=s*r+w*n,l[10]=c*r+v*n,l[11]=p*r+h*n,l}},5240:function(m){m.exports=function(l,t,o){var r=Math.sin(o),n=Math.cos(o),a=t[0],s=t[1],c=t[2],p=t[3],f=t[4],w=t[5],v=t[6],h=t[7];return t!==l&&(l[8]=t[8],l[9]=t[9],l[10]=t[10],l[11]=t[11],l[12]=t[12],l[13]=t[13],l[14]=t[14],l[15]=t[15]),l[0]=a*n+f*r,l[1]=s*n+w*r,l[2]=c*n+v*r,l[3]=p*n+h*r,l[4]=f*n-a*r,l[5]=w*n-s*r,l[6]=v*n-c*r,l[7]=h*n-p*r,l}},3668:function(m){m.exports=function(l,t,o){var r=o[0],n=o[1],a=o[2];return l[0]=t[0]*r,l[1]=t[1]*r,l[2]=t[2]*r,l[3]=t[3]*r,l[4]=t[4]*n,l[5]=t[5]*n,l[6]=t[6]*n,l[7]=t[7]*n,l[8]=t[8]*a,l[9]=t[9]*a,l[10]=t[10]*a,l[11]=t[11]*a,l[12]=t[12],l[13]=t[13],l[14]=t[14],l[15]=t[15],l}},998:function(m){m.exports=function(l,t,o){var r,n,a,s,c,p,f,w,v,h,_,x,b=o[0],M=o[1],d=o[2];return t===l?(l[12]=t[0]*b+t[4]*M+t[8]*d+t[12],l[13]=t[1]*b+t[5]*M+t[9]*d+t[13],l[14]=t[2]*b+t[6]*M+t[10]*d+t[14],l[15]=t[3]*b+t[7]*M+t[11]*d+t[15]):(n=t[1],a=t[2],s=t[3],c=t[4],p=t[5],f=t[6],w=t[7],v=t[8],h=t[9],_=t[10],x=t[11],l[0]=r=t[0],l[1]=n,l[2]=a,l[3]=s,l[4]=c,l[5]=p,l[6]=f,l[7]=w,l[8]=v,l[9]=h,l[10]=_,l[11]=x,l[12]=r*b+c*M+v*d+t[12],l[13]=n*b+p*M+h*d+t[13],l[14]=a*b+f*M+_*d+t[14],l[15]=s*b+w*M+x*d+t[15]),l}},2142:function(m){m.exports=function(l,t){if(l===t){var o=t[1],r=t[2],n=t[3],a=t[6],s=t[7],c=t[11];l[1]=t[4],l[2]=t[8],l[3]=t[12],l[4]=o,l[6]=t[9],l[7]=t[13],l[8]=r,l[9]=a,l[11]=t[14],l[12]=n,l[13]=s,l[14]=c}else l[0]=t[0],l[1]=t[4],l[2]=t[8],l[3]=t[12],l[4]=t[1],l[5]=t[5],l[6]=t[9],l[7]=t[13],l[8]=t[2],l[9]=t[6],l[10]=t[10],l[11]=t[14],l[12]=t[3],l[13]=t[7],l[14]=t[11],l[15]=t[15];return l}},4340:function(m,l,t){"use strict";var o=t(957),r=t(7309);function n(c,p){for(var f=[0,0,0,0],w=0;w<4;++w)for(var v=0;v<4;++v)f[v]+=c[4*w+v]*p[w];return f}function a(c,p,f,w,v){for(var h=n(w,n(f,n(p,[c[0],c[1],c[2],1]))),_=0;_<3;++_)h[_]/=h[3];return[.5*v[0]*(1+h[0]),.5*v[1]*(1-h[1])]}function s(c,p){for(var f=[0,0,0],w=0;w<c.length;++w)for(var v=c[w],h=p[w],_=0;_<3;++_)f[_]+=h*v[_];return f}m.exports=function(c,p,f,w,v,h){if(1===c.length)return[0,c[0].slice()];for(var _=new Array(c.length),x=0;x<c.length;++x)_[x]=a(c[x],f,w,v,h);var b=0,M=1/0;for(x=0;x<_.length;++x){for(var d=0,E=0;E<2;++E)d+=Math.pow(_[x][E]-p[E],2);d<M&&(M=d,b=x)}var k=function(L,P){if(2===L.length){for(var R=0,z=0,$=0;$<2;++$)R+=Math.pow(P[$]-L[0][$],2),z+=Math.pow(P[$]-L[1][$],2);return(R=Math.sqrt(R))+(z=Math.sqrt(z))<1e-6?[1,0]:[z/(R+z),R/(z+R)]}if(3===L.length){var N=[0,0];return r(L[0],L[1],L[2],P,N),o(L,N)}return[]}(_,p),I=0;for(x=0;x<3;++x){if(k[x]<-.001||k[x]>1.0001)return null;I+=k[x]}return Math.abs(I-1)>.001?null:[b,s(c,k),k]}},2056:function(m,l,t){var o=t(6832),r=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),n=o(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),a=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),s=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),c=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),p=o(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),f=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),w=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),v=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),h=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),_=o(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);l.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},l.wireShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},l.pointShader={vertex:c,fragment:p,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},l.pickShader={vertex:f,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},l.pointPickShader={vertex:v,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},l.contourShader={vertex:h,fragment:_,attributes:[{name:"position",type:"vec3"}]}},8116:function(m,l,t){"use strict";var o=t(5158),r=t(5827),n=t(2944),a=t(8931),s=t(115),c=t(104),p=t(7437),f=t(5050),w=t(9156),v=t(7212),h=t(5306),_=t(2056),x=t(4340),b=_.meshShader,M=_.wireShader,d=_.pointShader,E=_.pickShader,k=_.pointPickShader,I=_.contourShader,L=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function P(U,Z,Y,ae,re,Q,K,te,oe,ue,fe,he,me,ke,Pe,Te,be,xe,Ne,Se,Ce,pe,de,se,we,Re,Ee){this.gl=U,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Z,this.dirty=!0,this.triShader=Y,this.lineShader=ae,this.pointShader=re,this.pickShader=Q,this.pointPickShader=K,this.contourShader=te,this.trianglePositions=oe,this.triangleColors=fe,this.triangleNormals=me,this.triangleUVs=he,this.triangleIds=ue,this.triangleVAO=ke,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Pe,this.edgeColors=be,this.edgeUVs=xe,this.edgeIds=Te,this.edgeVAO=Ne,this.edgeCount=0,this.pointPositions=Se,this.pointColors=pe,this.pointUVs=de,this.pointSizes=se,this.pointIds=Ce,this.pointVAO=we,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Re,this.contourVAO=Ee,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=L,this._view=L,this._projection=L,this._resolution=[1,1]}var R=P.prototype;function z(U,Z){if(!Z||!Z.length)return 1;for(var Y=0;Y<Z.length;++Y){if(Z.length<2)return 1;if(Z[Y][0]===U)return Z[Y][1];if(Z[Y][0]>U&&Y>0){var ae=(Z[Y][0]-U)/(Z[Y][0]-Z[Y-1][0]);return Z[Y][1]*(1-ae)+ae*Z[Y-1][1]}}return 1}R.isOpaque=function(){return!this.hasAlpha},R.isTransparent=function(){return this.hasAlpha},R.pickSlots=1,R.setPickBase=function(U){this.pickId=U},R.highlight=function(U){if(U&&this.contourEnable){for(var Z=v(this.cells,this.intensity,U.intensity),Y=Z.cells,ae=Z.vertexIds,re=Z.vertexWeights,Q=Y.length,K=h.mallocFloat32(6*Q),te=0,oe=0;oe<Q;++oe)for(var ue=Y[oe],fe=0;fe<2;++fe){var he=ue[0];2===ue.length&&(he=ue[fe]);for(var Pe=re[he],Te=1-Pe,be=this.positions[ae[he][0]],xe=this.positions[ae[he][1]],Ne=0;Ne<3;++Ne)K[te++]=Pe*be[Ne]+Te*xe[Ne]}this.contourCount=te/3|0,this.contourPositions.update(K.subarray(0,te)),h.free(K)}else this.contourCount=0},R.update=function(U){U=U||{};var Z=this.gl;this.dirty=!0,"contourEnable"in U&&(this.contourEnable=U.contourEnable),"contourColor"in U&&(this.contourColor=U.contourColor),"lineWidth"in U&&(this.lineWidth=U.lineWidth),"lightPosition"in U&&(this.lightPosition=U.lightPosition),this.hasAlpha=!1,"opacity"in U&&(this.opacity=U.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in U&&(this.opacityscale=U.opacityscale,this.hasAlpha=!0),"ambient"in U&&(this.ambientLight=U.ambient),"diffuse"in U&&(this.diffuseLight=U.diffuse),"specular"in U&&(this.specularLight=U.specular),"roughness"in U&&(this.roughness=U.roughness),"fresnel"in U&&(this.fresnel=U.fresnel),U.texture?(this.texture.dispose(),this.texture=a(Z,U.texture)):U.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Z.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Z.LINEAR,this.texture.setPixels(function(Pt,Ht){for(var jt=w({colormap:Pt,nshades:256,format:"rgba"}),nt=new Uint8Array(1024),it=0;it<256;++it){for(var Xe=jt[it],rt=0;rt<3;++rt)nt[4*it+rt]=Xe[rt];nt[4*it+3]=Ht?255*z(it/255,Ht):255*Xe[3]}return f(nt,[256,256,4],[4,0,1])}(U.colormap,this.opacityscale)),this.texture.generateMipmap());var Y=U.cells,ae=U.positions;if(ae&&Y){var re=[],Q=[],K=[],te=[],oe=[],ue=[],fe=[],he=[],me=[],ke=[],Pe=[],Te=[],be=[],xe=[];this.cells=Y,this.positions=ae;var Ne=U.vertexNormals,Se=U.cellNormals,Ce=void 0===U.vertexNormalsEpsilon?1e-6:U.vertexNormalsEpsilon;U.useFacetNormals&&!Se&&(Se=s.faceNormals(Y,ae,void 0===U.faceNormalsEpsilon?1e-6:U.faceNormalsEpsilon)),Se||Ne||(Ne=s.vertexNormals(Y,ae,Ce));var de=U.vertexColors,se=U.cellColors,we=U.meshColor||[1,1,1,1],Re=U.vertexUVs,Ee=U.vertexIntensity,Ue=U.cellUVs,$e=U.cellIntensity,ve=1/0,Ie=-1/0;if(!Re&&!Ue)if(Ee)if(U.vertexIntensityBounds)ve=+U.vertexIntensityBounds[0],Ie=+U.vertexIntensityBounds[1];else for(var De=0;De<Ee.length;++De){var ze=Ee[De];ve=Math.min(ve,ze),Ie=Math.max(Ie,ze)}else if($e)if(U.cellIntensityBounds)ve=+U.cellIntensityBounds[0],Ie=+U.cellIntensityBounds[1];else for(De=0;De<$e.length;++De)ze=$e[De],ve=Math.min(ve,ze),Ie=Math.max(Ie,ze);else for(De=0;De<ae.length;++De)ze=ae[De][2],ve=Math.min(ve,ze),Ie=Math.max(Ie,ze);this.intensity=Ee||$e||function(Pt){for(var Ht=Pt.length,jt=new Array(Ht),nt=0;nt<Ht;++nt)jt[nt]=Pt[nt][2];return jt}(ae),this.pickVertex=!($e||se);var Ge=U.pointSizes,He=U.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],De=0;De<ae.length;++De)for(var Ke=ae[De],et=0;et<3;++et)!isNaN(Ke[et])&&isFinite(Ke[et])&&(this.bounds[0][et]=Math.min(this.bounds[0][et],Ke[et]),this.bounds[1][et]=Math.max(this.bounds[1][et],Ke[et]));var st=0,mt=0,at=0;e:for(De=0;De<Y.length;++De){var kt=Y[De];switch(kt.length){case 1:for(Ke=ae[gt=kt[0]],et=0;et<3;++et)if(isNaN(Ke[et])||!isFinite(Ke[et]))continue e;ke.push(Ke[0],Ke[1],Ke[2]),dt=de?de[gt]:se?se[De]:we,this.opacityscale&&Ee?Q.push(dt[0],dt[1],dt[2],this.opacity*z((Ee[gt]-ve)/(Ie-ve),this.opacityscale)):3===dt.length?Pe.push(dt[0],dt[1],dt[2],this.opacity):(Pe.push(dt[0],dt[1],dt[2],dt[3]*this.opacity),dt[3]<1&&(this.hasAlpha=!0)),Te.push((Ct=Re?Re[gt]:Ee?[(Ee[gt]-ve)/(Ie-ve),0]:Ue?Ue[De]:$e?[($e[De]-ve)/(Ie-ve),0]:[(Ke[2]-ve)/(Ie-ve),0])[0],Ct[1]),be.push(Ge?Ge[gt]:He),xe.push(De),at+=1;break;case 2:for(et=0;et<2;++et){Ke=ae[gt=kt[et]];for(var St=0;St<3;++St)if(isNaN(Ke[St])||!isFinite(Ke[St]))continue e}for(et=0;et<2;++et)Ke=ae[gt=kt[et]],ue.push(Ke[0],Ke[1],Ke[2]),dt=de?de[gt]:se?se[De]:we,this.opacityscale&&Ee?Q.push(dt[0],dt[1],dt[2],this.opacity*z((Ee[gt]-ve)/(Ie-ve),this.opacityscale)):3===dt.length?fe.push(dt[0],dt[1],dt[2],this.opacity):(fe.push(dt[0],dt[1],dt[2],dt[3]*this.opacity),dt[3]<1&&(this.hasAlpha=!0)),he.push((Ct=Re?Re[gt]:Ee?[(Ee[gt]-ve)/(Ie-ve),0]:Ue?Ue[De]:$e?[($e[De]-ve)/(Ie-ve),0]:[(Ke[2]-ve)/(Ie-ve),0])[0],Ct[1]),me.push(De);mt+=1;break;case 3:for(et=0;et<3;++et)for(Ke=ae[gt=kt[et]],St=0;St<3;++St)if(isNaN(Ke[St])||!isFinite(Ke[St]))continue e;for(et=0;et<3;++et){var gt,dt,Ct,Ot;Ke=ae[gt=kt[2-et]],re.push(Ke[0],Ke[1],Ke[2]),(dt=de?de[gt]:se?se[De]:we)?this.opacityscale&&Ee?Q.push(dt[0],dt[1],dt[2],this.opacity*z((Ee[gt]-ve)/(Ie-ve),this.opacityscale)):3===dt.length?Q.push(dt[0],dt[1],dt[2],this.opacity):(Q.push(dt[0],dt[1],dt[2],dt[3]*this.opacity),dt[3]<1&&(this.hasAlpha=!0)):Q.push(.5,.5,.5,1),te.push((Ct=Re?Re[gt]:Ee?[(Ee[gt]-ve)/(Ie-ve),0]:Ue?Ue[De]:$e?[($e[De]-ve)/(Ie-ve),0]:[(Ke[2]-ve)/(Ie-ve),0])[0],Ct[1]),K.push((Ot=Ne?Ne[gt]:Se[De])[0],Ot[1],Ot[2]),oe.push(De)}st+=1}}this.pointCount=at,this.edgeCount=mt,this.triangleCount=st,this.pointPositions.update(ke),this.pointColors.update(Pe),this.pointUVs.update(Te),this.pointSizes.update(be),this.pointIds.update(new Uint32Array(xe)),this.edgePositions.update(ue),this.edgeColors.update(fe),this.edgeUVs.update(he),this.edgeIds.update(new Uint32Array(me)),this.trianglePositions.update(re),this.triangleColors.update(Q),this.triangleUVs.update(te),this.triangleNormals.update(K),this.triangleIds.update(new Uint32Array(oe))}},R.drawTransparent=R.draw=function(U){for(var Z=this.gl,Y=(U=U||{}).model||L,ae=U.view||L,re=U.projection||L,Q=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],K=0;K<3;++K)Q[0][K]=Math.max(Q[0][K],this.clipBounds[0][K]),Q[1][K]=Math.min(Q[1][K],this.clipBounds[1][K]);var te={model:Y,view:ae,projection:re,inverseModel:L.slice(),clipBounds:Q,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};te.inverseModel=p(te.inverseModel,te.model),Z.disable(Z.CULL_FACE),this.texture.bind(0);var oe=new Array(16);for(c(oe,te.view,te.model),c(oe,te.projection,oe),p(oe,oe),K=0;K<3;++K)te.eyePosition[K]=oe[12+K]/oe[15];var ue,fe=oe[15];for(K=0;K<3;++K)fe+=this.lightPosition[K]*oe[4*K+3];for(K=0;K<3;++K){for(var he=oe[12+K],me=0;me<3;++me)he+=oe[4*me+K]*this.lightPosition[me];te.lightPosition[K]=he/fe}this.triangleCount>0&&((ue=this.triShader).bind(),ue.uniforms=te,this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((ue=this.lineShader).bind(),ue.uniforms=te,this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ue=this.pointShader).bind(),ue.uniforms=te,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((ue=this.contourShader).bind(),ue.uniforms=te,this.contourVAO.bind(),Z.drawArrays(Z.LINES,0,this.contourCount),this.contourVAO.unbind())},R.drawPick=function(U){for(var Z=this.gl,Y=(U=U||{}).model||L,ae=U.view||L,re=U.projection||L,Q=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],K=0;K<3;++K)Q[0][K]=Math.max(Q[0][K],this.clipBounds[0][K]),Q[1][K]=Math.min(Q[1][K],this.clipBounds[1][K]);this._model=[].slice.call(Y),this._view=[].slice.call(ae),this._projection=[].slice.call(re),this._resolution=[Z.drawingBufferWidth,Z.drawingBufferHeight];var te,oe={model:Y,view:ae,projection:re,clipBounds:Q,pickId:this.pickId/255};(te=this.pickShader).bind(),te.uniforms=oe,this.triangleCount>0&&(this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((te=this.pointPickShader).bind(),te.uniforms=oe,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind())},R.pick=function(U){if(!U||U.id!==this.pickId)return null;for(var Z=U.value[0]+256*U.value[1]+65536*U.value[2],Y=this.cells[Z],ae=this.positions,re=new Array(Y.length),Q=0;Q<Y.length;++Q)re[Q]=ae[Y[Q]];var K=U.coord[0],te=U.coord[1];if(!this.pickVertex){var oe=this.positions[Y[0]],ue=this.positions[Y[1]],fe=this.positions[Y[2]];return{_cellCenter:!0,position:[K,te],index:Z,cell:Y,cellId:Z,intensity:this.intensity[Z],dataCoordinate:[(oe[0]+ue[0]+fe[0])/3,(oe[1]+ue[1]+fe[1])/3,(oe[2]+ue[2]+fe[2])/3]}}var me=x(re,[K*this.pixelRatio,this._resolution[1]-te*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!me)return null;var ke=me[2],Pe=0;for(Q=0;Q<Y.length;++Q)Pe+=ke[Q]*this.intensity[Y[Q]];return{position:me[1],index:Y[me[0]],cell:Y,cellId:Z,intensity:Pe,dataCoordinate:this.positions[Y[me[0]]]}},R.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},m.exports=function(U,Z){if(1===arguments.length&&(U=(Z=U).gl),!(U.getExtension("OES_standard_derivatives")||U.getExtension("MOZ_OES_standard_derivatives")||U.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var ve,Y=((ve=o(U,b.vertex,b.fragment)).attributes.position.location=0,ve.attributes.color.location=2,ve.attributes.uv.location=3,ve.attributes.normal.location=4,ve),ae=function($e){var ve=o($e,M.vertex,M.fragment);return ve.attributes.position.location=0,ve.attributes.color.location=2,ve.attributes.uv.location=3,ve}(U),re=function $(U){var Z=o(U,d.vertex,d.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.pointSize.location=4,Z}(U),Q=function N(U){var Z=o(U,E.vertex,E.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z}(U),K=function W(U){var Z=o(U,k.vertex,k.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.pointSize.location=4,Z}(U),te=function H(U){var Z=o(U,I.vertex,I.fragment);return Z.attributes.position.location=0,Z}(U),oe=a(U,f(new Uint8Array([255,255,255,255]),[1,1,4]));oe.generateMipmap(),oe.minFilter=U.LINEAR_MIPMAP_LINEAR,oe.magFilter=U.LINEAR;var ue=r(U),fe=r(U),he=r(U),me=r(U),ke=r(U),Pe=n(U,[{buffer:ue,type:U.FLOAT,size:3},{buffer:ke,type:U.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:fe,type:U.FLOAT,size:4},{buffer:he,type:U.FLOAT,size:2},{buffer:me,type:U.FLOAT,size:3}]),Te=r(U),be=r(U),xe=r(U),Ne=r(U),Se=n(U,[{buffer:Te,type:U.FLOAT,size:3},{buffer:Ne,type:U.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:U.FLOAT,size:4},{buffer:xe,type:U.FLOAT,size:2}]),Ce=r(U),pe=r(U),de=r(U),se=r(U),we=r(U),Re=n(U,[{buffer:Ce,type:U.FLOAT,size:3},{buffer:we,type:U.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:pe,type:U.FLOAT,size:4},{buffer:de,type:U.FLOAT,size:2},{buffer:se,type:U.FLOAT,size:1}]),Ee=r(U),Ue=new P(U,oe,Y,ae,re,Q,K,te,ue,ke,fe,he,me,Pe,Te,Ne,be,xe,Se,Ce,we,pe,de,se,Re,Ee,n(U,[{buffer:Ee,type:U.FLOAT,size:3}]));return Ue.update(Z),Ue}},4554:function(m,l,t){"use strict";m.exports=function(f){var w=f.gl;return new a(f,o(w,[0,0,0,1,1,0,1,1]),r(w,n.boxVert,n.lineFrag))};var o=t(5827),r=t(5158),n=t(2709);function a(f,w,v){this.plot=f,this.vbo=w,this.shader=v}var s,c,p=a.prototype;p.bind=function(){var f=this.shader;this.vbo.bind(),this.shader.bind(),f.attributes.coord.pointer(),f.uniforms.screenBox=this.plot.screenBox},p.drawBox=(s=[0,0],c=[0,0],function(f,w,v,h,_){var b=this.shader,M=this.plot.gl;s[0]=f,s[1]=w,c[0]=v,c[1]=h,b.uniforms.lo=s,b.uniforms.hi=c,b.uniforms.color=_,M.drawArrays(M.TRIANGLE_STRIP,0,4)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(m,l,t){"use strict";m.exports=function(x){var b=x.gl;return new s(x,o(b),r(b,a.gridVert,a.gridFrag),r(b,a.tickVert,a.gridFrag))};var o=t(5827),r=t(5158),n=t(5070),a=t(2709);function s(x,b,M,d){this.plot=x,this.vbo=b,this.shader=M,this.tickShader=d,this.ticks=[[],[]]}function c(x,b){return x-b}var p,f,w,v,h,x,b,M,d,E,k,_=s.prototype;_.draw=(p=[0,0],f=[0,0],w=[0,0],function(){for(var x=this.plot,b=this.vbo,M=this.shader,d=this.ticks,E=x.gl,k=x._tickBounds,I=x.dataBox,L=x.viewBox,P=x.gridLineWidth,R=x.gridLineColor,z=x.gridLineEnable,$=x.pixelRatio,N=0;N<2;++N){var W=k[N],U=.5*(I[N+2]+I[N]),Z=I[N+2]-I[N];f[N]=2*(k[N+2]-W)/Z,p[N]=2*(W-U)/Z}M.bind(),b.bind(),M.attributes.dataCoord.pointer(),M.uniforms.dataShift=p,M.uniforms.dataScale=f;var Y=0;for(N=0;N<2;++N){w[0]=w[1]=0,w[N]=1,M.uniforms.dataAxis=w,M.uniforms.lineWidth=P[N]/(L[N+2]-L[N])*$,M.uniforms.color=R[N];var ae=6*d[N].length;z[N]&&ae&&E.drawArrays(E.TRIANGLES,Y,ae),Y+=ae}}),_.drawTickMarks=(x=[0,0],b=[0,0],M=[1,0],d=[0,1],E=[0,0],k=[0,0],function(){for(var I=this.plot,L=this.vbo,P=this.tickShader,R=this.ticks,z=I.gl,$=I._tickBounds,N=I.dataBox,W=I.viewBox,H=I.pixelRatio,U=I.screenBox,Z=U[2]-U[0],Y=U[3]-U[1],ae=W[2]-W[0],re=W[3]-W[1],Q=0;Q<2;++Q){var K=$[Q],oe=.5*(N[Q+2]+N[Q]),ue=N[Q+2]-N[Q];b[Q]=2*($[Q+2]-K)/ue,x[Q]=2*(K-oe)/ue}b[0]*=ae/Z,x[0]*=ae/Z,b[1]*=re/Y,x[1]*=re/Y,P.bind(),L.bind(),P.attributes.dataCoord.pointer();var fe=P.uniforms;fe.dataShift=x,fe.dataScale=b;var he=I.tickMarkLength,me=I.tickMarkWidth,ke=I.tickMarkColor,Pe=6*R[0].length,Te=Math.min(n.ge(R[0],(N[0]-$[0])/($[2]-$[0]),c),R[0].length),be=Math.min(n.gt(R[0],(N[2]-$[0])/($[2]-$[0]),c),R[0].length),xe=0+6*Te,Ne=6*Math.max(0,be-Te),Se=Math.min(n.ge(R[1],(N[1]-$[1])/($[3]-$[1]),c),R[1].length),Ce=Math.min(n.gt(R[1],(N[3]-$[1])/($[3]-$[1]),c),R[1].length),pe=Pe+6*Se,de=6*Math.max(0,Ce-Se);E[0]=2*(W[0]-he[1])/Z-1,E[1]=(W[3]+W[1])/Y-1,k[0]=he[1]*H/Z,k[1]=me[1]*H/Y,de&&(fe.color=ke[1],fe.tickScale=k,fe.dataAxis=d,fe.screenOffset=E,z.drawArrays(z.TRIANGLES,pe,de)),E[0]=(W[2]+W[0])/Z-1,E[1]=2*(W[1]-he[0])/Y-1,k[0]=me[0]*H/Z,k[1]=he[0]*H/Y,Ne&&(fe.color=ke[0],fe.tickScale=k,fe.dataAxis=M,fe.screenOffset=E,z.drawArrays(z.TRIANGLES,xe,Ne)),E[0]=2*(W[2]+he[3])/Z-1,E[1]=(W[3]+W[1])/Y-1,k[0]=he[3]*H/Z,k[1]=me[3]*H/Y,de&&(fe.color=ke[3],fe.tickScale=k,fe.dataAxis=d,fe.screenOffset=E,z.drawArrays(z.TRIANGLES,pe,de)),E[0]=(W[2]+W[0])/Z-1,E[1]=2*(W[3]+he[2])/Y-1,k[0]=me[2]*H/Z,k[1]=he[2]*H/Y,Ne&&(fe.color=ke[2],fe.tickScale=k,fe.dataAxis=M,fe.screenOffset=E,z.drawArrays(z.TRIANGLES,xe,Ne))}),_.update=(v=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1],function(x){for(var b=x.ticks,M=x.bounds,d=new Float32Array(18*(b[0].length+b[1].length)),E=0,k=[[],[]],I=0;I<2;++I)for(var L=k[I],P=b[I],R=M[I],z=M[I+2],$=0;$<P.length;++$){var N=(P[$].x-R)/(z-R);L.push(N);for(var W=0;W<6;++W)d[E++]=N,d[E++]=v[W],d[E++]=h[W]}this.ticks=k,this.vbo.update(d)}),_.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(m,l,t){"use strict";m.exports=function(f){var w=f.gl;return new a(f,o(w,[-1,-1,-1,1,1,-1,1,1]),r(w,n.lineVert,n.lineFrag))};var o=t(5827),r=t(5158),n=t(2709);function a(f,w,v){this.plot=f,this.vbo=w,this.shader=v}var s,c,p=a.prototype;p.bind=function(){var f=this.shader;this.vbo.bind(),this.shader.bind(),f.attributes.coord.pointer(),f.uniforms.screenBox=this.plot.screenBox},p.drawLine=(s=[0,0],c=[0,0],function(f,w,v,h,_,x){var b=this.plot,M=this.shader,d=b.gl;s[0]=f,s[1]=w,c[0]=v,c[1]=h,M.uniforms.start=s,M.uniforms.end=c,M.uniforms.width=_*b.pixelRatio,M.uniforms.color=x,d.drawArrays(d.TRIANGLE_STRIP,0,4)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(m,l,t){"use strict";var o=t(6832),r=o(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);m.exports={lineVert:o(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:r,textVert:o(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:r,gridVert:o(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:r,boxVert:o(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:o(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},5613:function(m,l,t){"use strict";m.exports=function(b){var M=b.gl;return new c(b,o(M),r(M,s.textVert,s.textFrag))};var o=t(5827),r=t(5158),n=t(6946),a=t(5070),s=t(2709);function c(b,M,d){this.plot=b,this.vbo=M,this.shader=d,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var p,f,w,v,h,_,b,M,x=c.prototype;x.drawTicks=(p=[0,0],f=[0,0],w=[0,0],function(b){var M=this.plot,d=this.shader,E=this.tickX[b],k=this.tickOffset[b],I=M.gl,L=M.viewBox,P=M.dataBox,R=M.screenBox,z=M.pixelRatio,$=M.tickEnable,N=M.tickPad,W=M.tickColor,H=M.tickAngle,U=M.labelEnable,Z=M.labelPad,Y=M.labelColor,ae=M.labelAngle,re=this.labelOffset[b],Q=this.labelCount[b],K=a.lt(E,P[b]),te=a.le(E,P[b+2]);p[0]=p[1]=0,p[b]=1,f[b]=(L[2+b]+L[b])/(R[2+b]-R[b])-1;var oe=2/R[2+(1^b)]-R[1^b];f[1^b]=oe*L[1^b]-1,$[b]&&(f[1^b]-=oe*z*N[b],K<te&&k[te]>k[K]&&(d.uniforms.dataAxis=p,d.uniforms.screenOffset=f,d.uniforms.color=W[b],d.uniforms.angle=H[b],I.drawArrays(I.TRIANGLES,k[K],k[te]-k[K]))),U[b]&&Q&&(f[1^b]-=oe*z*Z[b],d.uniforms.dataAxis=w,d.uniforms.screenOffset=f,d.uniforms.color=Y[b],d.uniforms.angle=ae[b],I.drawArrays(I.TRIANGLES,re,Q)),f[1^b]=oe*L[2+(1^b)]-1,$[b+2]&&(f[1^b]+=oe*z*N[b+2],K<te&&k[te]>k[K]&&(d.uniforms.dataAxis=p,d.uniforms.screenOffset=f,d.uniforms.color=W[b+2],d.uniforms.angle=H[b+2],I.drawArrays(I.TRIANGLES,k[K],k[te]-k[K]))),U[b+2]&&Q&&(f[1^b]+=oe*z*Z[b+2],d.uniforms.dataAxis=w,d.uniforms.screenOffset=f,d.uniforms.color=Y[b+2],d.uniforms.angle=ae[b+2],I.drawArrays(I.TRIANGLES,re,Q))}),x.drawTitle=(b=[0,0],M=[0,0],function(){var d=this.plot,E=this.shader,k=d.gl,I=d.screenBox,L=d.titleCenter,P=d.titleAngle,R=d.titleColor,z=d.pixelRatio;if(this.titleCount){for(var $=0;$<2;++$)M[$]=2*(L[$]*z-I[$])/(I[2+$]-I[$])-1;E.bind(),E.uniforms.dataAxis=b,E.uniforms.screenOffset=M,E.uniforms.angle=P,E.uniforms.color=R,k.drawArrays(k.TRIANGLES,this.titleOffset,this.titleCount)}}),x.bind=(v=[0,0],h=[0,0],_=[0,0],function(){var b=this.plot,M=this.shader,d=b._tickBounds,E=b.dataBox,k=b.screenBox,I=b.viewBox;M.bind();for(var L=0;L<2;++L){var P=d[L],z=.5*(E[L+2]+E[L]),$=E[L+2]-E[L],W=I[L+2]-I[L],U=k[L+2]-k[L];h[L]=2*(d[L+2]-P)/$*W/U,v[L]=2*(P-z)/$*W/U}_[1]=2*b.pixelRatio/(k[3]-k[1]),_[0]=_[1]*(k[3]-k[1])/(k[2]-k[0]),M.uniforms.dataScale=h,M.uniforms.dataShift=v,M.uniforms.textScale=_,this.vbo.bind(),M.attributes.textCoordinate.pointer()}),x.update=function(b){var M,d,E,k,I,L=[],P=b.ticks,R=b.bounds;for(I=0;I<2;++I){var z=[Math.floor(L.length/3)],$=[-1/0],N=P[I];for(M=0;M<N.length;++M){var W=N[M],H=W.x,Z=W.font||"sans-serif";k=W.fontSize||12;for(var Y=1/(R[I+2]-R[I]),ae=R[I],re=W.text.split("\n"),Q=0;Q<re.length;Q++)for(E=n(Z,re[Q]).data,d=0;d<E.length;d+=2)L.push(E[d]*k,-E[d+1]*k-Q*k*1.2,(H-ae)*Y);z.push(Math.floor(L.length/3)),$.push(H)}this.tickOffset[I]=z,this.tickX[I]=$}for(I=0;I<2;++I){for(this.labelOffset[I]=Math.floor(L.length/3),E=n(b.labelFont[I],b.labels[I],{textAlign:"center"}).data,k=b.labelSize[I],M=0;M<E.length;M+=2)L.push(E[M]*k,-E[M+1]*k,0);this.labelCount[I]=Math.floor(L.length/3)-this.labelOffset[I]}for(this.titleOffset=Math.floor(L.length/3),E=n(b.titleFont,b.title).data,k=b.titleSize,M=0;M<E.length;M+=2)L.push(E[M]*k,-E[M+1]*k,0);this.titleCount=Math.floor(L.length/3)-this.titleOffset,this.vbo.update(L)},x.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(m,l,t){"use strict";m.exports=function(v){var h=v.gl,_=new c(h,o(h,[h.drawingBufferWidth,h.drawingBufferHeight]));return _.grid=r(_),_.text=n(_),_.line=a(_),_.box=s(_),_.update(v),_};var o=t(2611),r=t(3016),n=t(5613),a=t(1154),s=t(4554);function c(v,h){this.gl=v,this.pickBuffer=h,this.screenBox=[0,0,v.drawingBufferWidth,v.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var p=c.prototype;function f(v){for(var h=v.slice(),_=0;_<h.length;++_)h[_]=h[_].slice();return h}function w(v,h){return v.x-h.x}p.setDirty=function(){this.dirty=this.pickDirty=!0},p.setOverlayDirty=function(){this.dirty=!0},p.nextDepthValue=function(){return this._depthCounter++/65536},p.draw=function(){var v=this.gl,h=this.screenBox,_=this.viewBox,x=this.dataBox,b=this.pixelRatio,M=this.grid,d=this.line,E=this.text,k=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,v.bindFramebuffer(v.FRAMEBUFFER,null),v.enable(v.SCISSOR_TEST),v.disable(v.DEPTH_TEST),v.depthFunc(v.LESS),v.depthMask(!1),v.enable(v.BLEND),v.blendEquation(v.FUNC_ADD,v.FUNC_ADD),v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA),this.borderColor){v.scissor(h[0],h[1],h[2]-h[0],h[3]-h[1]);var I=this.borderColor;v.clearColor(I[0]*I[3],I[1]*I[3],I[2]*I[3],I[3]),v.clear(v.COLOR_BUFFER_BIT|v.DEPTH_BUFFER_BIT)}v.scissor(_[0],_[1],_[2]-_[0],_[3]-_[1]),v.viewport(_[0],_[1],_[2]-_[0],_[3]-_[1]);var L=this.backgroundColor;v.clearColor(L[0]*L[3],L[1]*L[3],L[2]*L[3],L[3]),v.clear(v.COLOR_BUFFER_BIT),M.draw();var P=this.zeroLineEnable,R=this.zeroLineColor,z=this.zeroLineWidth;if(P[0]||P[1]){d.bind();for(var $=0;$<2;++$)if(P[$]&&x[$]<=0&&x[$+2]>=0){var N=h[$]-x[$]*(h[$+2]-h[$])/(x[$+2]-x[$]);0===$?d.drawLine(N,h[1],N,h[3],z[$],R[$]):d.drawLine(h[0],N,h[2],N,z[$],R[$])}}for($=0;$<k.length;++$)k[$].draw();v.viewport(h[0],h[1],h[2]-h[0],h[3]-h[1]),v.scissor(h[0],h[1],h[2]-h[0],h[3]-h[1]),this.grid.drawTickMarks(),d.bind();var W=this.borderLineEnable,H=this.borderLineWidth,U=this.borderLineColor;for(W[1]&&d.drawLine(_[0],_[1]-.5*H[1]*b,_[0],_[3]+.5*H[3]*b,H[1],U[1]),W[0]&&d.drawLine(_[0]-.5*H[0]*b,_[1],_[2]+.5*H[2]*b,_[1],H[0],U[0]),W[3]&&d.drawLine(_[2],_[1]-.5*H[1]*b,_[2],_[3]+.5*H[3]*b,H[3],U[3]),W[2]&&d.drawLine(_[0]-.5*H[0]*b,_[3],_[2]+.5*H[2]*b,_[3],H[2],U[2]),E.bind(),$=0;$<2;++$)E.drawTicks($);this.titleEnable&&E.drawTitle();var Z=this.overlays;for($=0;$<Z.length;++$)Z[$].draw();v.disable(v.SCISSOR_TEST),v.disable(v.BLEND),v.depthMask(!0)}},p.drawPick=function(){if(!this.static){var v=this.pickBuffer;this._pickTimeout=null,v.begin();for(var h=1,_=this.objects,x=0;x<_.length;++x)h=_[x].drawPick(h);v.end()}},p.pick=function(v,h){if(!this.static){var _=this.pixelRatio,x=this.pickPixelRatio,b=this.viewBox,M=0|Math.round((v-b[0]/_)*x),d=0|Math.round((h-b[1]/_)*x),E=this.pickBuffer.query(M,d,this.pickRadius);if(!E)return null;for(var k=E.id+(E.value[0]<<8)+(E.value[1]<<16)+(E.value[2]<<24),I=this.objects,L=0;L<I.length;++L){var P=I[L].pick(M,d,k);if(P)return P}return null}},p.setScreenBox=function(v){var h=this.screenBox,_=this.pixelRatio;h[0]=0|Math.round(v[0]*_),h[1]=0|Math.round(v[1]*_),h[2]=0|Math.round(v[2]*_),h[3]=0|Math.round(v[3]*_),this.setDirty()},p.setDataBox=function(v){var h=this.dataBox;(h[0]!==v[0]||h[1]!==v[1]||h[2]!==v[2]||h[3]!==v[3])&&(h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],this.setDirty())},p.setViewBox=function(v){var h=this.pixelRatio,_=this.viewBox;_[0]=0|Math.round(v[0]*h),_[1]=0|Math.round(v[1]*h),_[2]=0|Math.round(v[2]*h),_[3]=0|Math.round(v[3]*h);var x=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((v[2]-v[0])*x),0|Math.round((v[3]-v[1])*x)],this.setDirty()},p.update=function(v){var h=this.gl;this.pixelRatio=(v=v||{}).pixelRatio||1;var _=this.pixelRatio;this.pickPixelRatio=Math.max(_,1),this.setScreenBox(v.screenBox||[0,0,h.drawingBufferWidth/_,h.drawingBufferHeight/_]),this.setViewBox(v.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/_,.125*(this.screenBox[3]-this.screenBox[1])/_,.875*(this.screenBox[2]-this.screenBox[0])/_,.875*(this.screenBox[3]-this.screenBox[1])/_]);var x=this.viewBox,b=(x[2]-x[0])/(x[3]-x[1]);this.setDataBox(v.dataBox||[-10,-10/b,10,10/b]),this.borderColor=!1!==v.borderColor&&(v.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(v.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(v.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(v.gridLineWidth||[1,1]).slice(),this.gridLineColor=f(v.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(v.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(v.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=f(v.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(v.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(v.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=f(v.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(v.titleCenter||[.5*(x[0]+x[2])/_,(x[3]+120)/_]).slice(),this.titleEnable=!("titleEnable"in v)||!!v.titleEnable,this.titleAngle=v.titleAngle||0,this.titleColor=(v.titleColor||[0,0,0,1]).slice(),this.labelPad=(v.labelPad||[15,15,15,15]).slice(),this.labelAngle=(v.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(v.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=f(v.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(v.tickPad||[15,15,15,15]).slice(),this.tickAngle=(v.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(v.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=f(v.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(v.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(v.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=f(v.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var M=v.ticks||[[],[]],d=this._tickBounds;d[0]=d[1]=1/0,d[2]=d[3]=-1/0;for(var E=0;E<2;++E){var k=M[E].slice(0);0!==k.length&&(k.sort(w),d[E]=Math.min(d[E],k[0].x),d[E+2]=Math.max(d[E+2],k[k.length-1].x))}this.grid.update({bounds:d,ticks:M}),this.text.update({bounds:d,ticks:M,labels:v.labels||["x","y"],labelSize:v.labelSize||[12,12],labelFont:v.labelFont||["sans-serif","sans-serif"],title:v.title||"",titleSize:v.titleSize||18,titleFont:v.titleFont||"sans-serif"}),this.static=!!v.static,this.setDirty()},p.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var v=this.objects.length-1;v>=0;--v)this.objects[v].dispose();for(this.objects.length=0,v=this.overlays.length-1;v>=0;--v)this.overlays[v].dispose();this.overlays.length=0,this.gl=null},p.addObject=function(v){this.objects.indexOf(v)<0&&(this.objects.push(v),this.setDirty())},p.removeObject=function(v){for(var h=this.objects,_=0;_<h.length;++_)if(h[_]===v){h.splice(_,1),this.setDirty();break}},p.addOverlay=function(v){this.overlays.indexOf(v)<0&&(this.overlays.push(v),this.setOverlayDirty())},p.removeOverlay=function(v){for(var h=this.overlays,_=0;_<h.length;++_)if(h[_]===v){h.splice(_,1),this.setOverlayDirty();break}}},4296:function(m,l,t){"use strict";m.exports=function(p,f){p=p||document.body;var w=[.01,1/0];"distanceLimits"in(f=f||{})&&(w[0]=f.distanceLimits[0],w[1]=f.distanceLimits[1]),"zoomMin"in f&&(w[0]=f.zoomMin),"zoomMax"in f&&(w[1]=f.zoomMax);var v=r({center:f.center||[0,0,0],up:f.up||[0,1,0],eye:f.eye||[0,0,10],mode:f.mode||"orbit",distanceLimits:w}),h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_=0,x=p.clientWidth,b=p.clientHeight,M={keyBindingMode:"rotate",enableWheel:!0,view:v,element:p,delay:f.delay||16,rotateSpeed:f.rotateSpeed||1,zoomSpeed:f.zoomSpeed||1,translateSpeed:f.translateSpeed||1,flipX:!!f.flipX,flipY:!!f.flipY,modes:v.modes,_ortho:f._ortho||f.projection&&"orthographic"===f.projection.type||!1,tick:function(){var d=o(),E=this.delay,k=d-2*E;v.idle(d-E),v.recalcMatrix(k),v.flush(d-(100+2*E));for(var I=!0,L=v.computedMatrix,P=0;P<16;++P)I=I&&h[P]===L[P],h[P]=L[P];var R=p.clientWidth===x&&p.clientHeight===b;return x=p.clientWidth,b=p.clientHeight,I?!R:(_=Math.exp(v.computedRadius[0]),!0)},lookAt:function(d,E,k){v.lookAt(v.lastT(),d,E,k)},rotate:function(d,E,k){v.rotate(v.lastT(),d,E,k)},pan:function(d,E,k){v.pan(v.lastT(),d,E,k)},translate:function(d,E,k){v.translate(v.lastT(),d,E,k)}};return Object.defineProperties(M,{matrix:{get:function(){return v.computedMatrix},set:function(d){return v.setMatrix(v.lastT(),d),v.computedMatrix},enumerable:!0},mode:{get:function(){return v.getMode()},set:function(d){var E=v.computedUp.slice(),k=v.computedEye.slice(),I=v.computedCenter.slice();if(v.setMode(d),"turntable"===d){var L=o();v._active.lookAt(L,k,I,E),v._active.lookAt(L+500,k,I,[0,0,1]),v._active.flush(L)}return v.getMode()},enumerable:!0},center:{get:function(){return v.computedCenter},set:function(d){return v.lookAt(v.lastT(),null,d),v.computedCenter},enumerable:!0},eye:{get:function(){return v.computedEye},set:function(d){return v.lookAt(v.lastT(),d),v.computedEye},enumerable:!0},up:{get:function(){return v.computedUp},set:function(d){return v.lookAt(v.lastT(),null,null,d),v.computedUp},enumerable:!0},distance:{get:function(){return _},set:function(d){return v.setDistance(v.lastT(),d),d},enumerable:!0},distanceLimits:{get:function(){return v.getDistanceLimits(w)},set:function(d){return v.setDistanceLimits(d),d},enumerable:!0}}),p.addEventListener("contextmenu",function(d){return d.preventDefault(),!1}),M._lastX=-1,M._lastY=-1,M._lastMods={shift:!1,control:!1,alt:!1,meta:!1},M.enableMouseListeners=function(){function d(E,k,I,L){var P=M.keyBindingMode;if(!1!==P){var R="rotate"===P,z="pan"===P,$="zoom"===P,N=!!L.control,W=!!L.alt,H=!!L.shift,U=!!(1&E),Z=!!(2&E),Y=!!(4&E),ae=1/p.clientHeight,re=ae*(k-M._lastX),Q=ae*(I-M._lastY),K=M.flipX?1:-1,te=M.flipY?1:-1,oe=Math.PI*M.rotateSpeed,ue=o();if(-1!==M._lastX&&-1!==M._lastY&&((R&&U&&!N&&!W&&!H||U&&!N&&!W&&H)&&v.rotate(ue,K*oe*re,-te*oe*Q,0),(z&&U&&!N&&!W&&!H||Z||U&&N&&!W&&!H)&&v.pan(ue,-M.translateSpeed*re*_,M.translateSpeed*Q*_,0),$&&U&&!N&&!W&&!H||Y||U&&!N&&W&&!H)){var fe=-M.zoomSpeed*Q/window.innerHeight*(ue-v.lastT())*100;v.pan(ue,0,0,_*(Math.exp(fe)-1))}return M._lastX=k,M._lastY=I,M._lastMods=L,!0}}M.mouseListener=n(p,d),p.addEventListener("touchstart",function(E){var k=s(E.changedTouches[0],p);d(0,k[0],k[1],M._lastMods),d(1,k[0],k[1],M._lastMods)},!!c&&{passive:!0}),p.addEventListener("touchmove",function(E){var k=s(E.changedTouches[0],p);d(1,k[0],k[1],M._lastMods),E.preventDefault()},!!c&&{passive:!1}),p.addEventListener("touchend",function(E){d(0,M._lastX,M._lastY,M._lastMods)},!!c&&{passive:!0}),M.wheelListener=a(p,function(E,k){if(!1!==M.keyBindingMode&&M.enableWheel){var I=M.flipX?1:-1,L=M.flipY?1:-1,P=o();if(Math.abs(E)>Math.abs(k))v.rotate(P,0,0,-E*I*Math.PI*M.rotateSpeed/window.innerWidth);else if(!M._ortho){var R=-M.zoomSpeed*L*k/window.innerHeight*(P-v.lastT())/20;v.pan(P,0,0,_*(Math.exp(R)-1))}}},!0)},M.enableMouseListeners(),M};var o=t(8161),r=t(1152),n=t(6145),a=t(6475),s=t(2565),c=t(5233)},8245:function(m,l,t){var o=t(6832),r=t(5158),n=o(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),a=o(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);m.exports=function(s){return r(s,n,a,null,[{name:"position",type:"vec2"}])}},1059:function(m,l,t){"use strict";var o=t(4296),r=t(7453),n=t(2771),a=t(6496),s=t(2611),c=t(4234),p=t(8126),f=t(6145),w=t(1120),v=t(5268),h=t(8245),_=t(2321)({tablet:!0,featureDetect:!0});function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function b(d){var E=Math.round(Math.log(Math.abs(d))/Math.log(10));if(E<0){var k=Math.round(Math.pow(10,-E));return Math.ceil(d*k)/k}return E>0?(k=Math.round(Math.pow(10,E)),Math.ceil(d/k)*k):Math.ceil(d)}function M(d){return"boolean"!=typeof d||d}m.exports={createScene:function(d){(d=d||{}).camera=d.camera||{};var E=d.canvas;E||(E=document.createElement("canvas"),d.container?d.container.appendChild(E):document.body.appendChild(E));var k=d.gl;if(k||(d.glOptions&&(_=!!d.glOptions.preserveDrawingBuffer),k=function(Ne,Se){var Ce=null;try{(Ce=Ne.getContext("webgl",Se))||(Ce=Ne.getContext("experimental-webgl",Se))}catch{return null}return Ce}(E,d.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:_})),!k)throw new Error("webgl not supported");var I=d.bounds||[[-10,-10,-10],[10,10,10]],L=new x,P=c(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!_}),R=h(k),z=d.cameraObject&&!0===d.cameraObject._ortho||d.camera.projection&&"orthographic"===d.camera.projection.type||!1,$={eye:d.camera.eye||[2,0,0],center:d.camera.center||[0,0,0],up:d.camera.up||[0,1,0],zoomMin:d.camera.zoomMax||.1,zoomMax:d.camera.zoomMin||100,mode:d.camera.mode||"turntable",_ortho:z},N=d.axes||{},W=r(k,N);W.enable=!N.disable;var U=a(k,d.spikes||{}),Z=[],Y=[],ae=[],re=[],Q=!0,K=!0,te={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},oe=(K=!0,[k.drawingBufferWidth,k.drawingBufferHeight]),ue=d.cameraObject||o(E,$),fe={gl:k,contextLost:!1,pixelRatio:d.pixelRatio||1,canvas:E,selection:L,camera:ue,axes:W,axesPixels:null,spikes:U,bounds:I,objects:Z,shape:oe,aspect:d.aspectRatio||[1,1,1],pickRadius:d.pickRadius||10,zNear:d.zNear||.01,zFar:d.zFar||1e3,fovy:d.fovy||Math.PI/4,clearColor:d.clearColor||[0,0,0,0],autoResize:M(d.autoResize),autoBounds:M(d.autoBounds),autoScale:!!d.autoScale,autoCenter:M(d.autoCenter),clipToBounds:M(d.clipToBounds),snapToData:!!d.snapToData,onselect:d.onselect||null,onrender:d.onrender||null,onclick:d.onclick||null,cameraParams:te,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ne){this.aspect[0]=Ne.x,this.aspect[1]=Ne.y,this.aspect[2]=Ne.z,K=!0},setBounds:function(Ne,Se){this.bounds[0][Ne]=Se.min,this.bounds[1][Ne]=Se.max},setClearColor:function(Ne){this.clearColor=Ne},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[k.drawingBufferWidth/fe.pixelRatio|0,k.drawingBufferHeight/fe.pixelRatio|0];function me(){if(!fe._stopped&&fe.autoResize){var Ne=E.parentNode,Se=1,Ce=1;Ne&&Ne!==document.body?(Se=Ne.clientWidth,Ce=Ne.clientHeight):(Se=window.innerWidth,Ce=window.innerHeight);var pe=0|Math.ceil(Se*fe.pixelRatio),de=0|Math.ceil(Ce*fe.pixelRatio);if(pe!==E.width||de!==E.height){E.width=pe,E.height=de;var se=E.style;se.position=se.position||"absolute",se.left="0px",se.top="0px",se.width=Se+"px",se.height=Ce+"px",Q=!0}}}function ke(){for(var Ne=Z.length,Se=re.length,Ce=0;Ce<Se;++Ce)ae[Ce]=0;e:for(Ce=0;Ce<Ne;++Ce){var pe=Z[Ce],de=pe.pickSlots;if(de){for(var se=0;se<Se;++se)if(ae[se]+de<255){Y[Ce]=se,pe.setPickBase(ae[se]+1),ae[se]+=de;continue e}var we=s(k,oe);Y[Ce]=Se,re.push(we),ae.push(de),pe.setPickBase(1),Se+=1}else Y[Ce]=-1}for(;Se>0&&0===ae[Se-1];)ae.pop(),re.pop().dispose()}function Pe(){if(fe.contextLost)return!0;k.isContextLost()&&(fe.contextLost=!0,fe.mouseListener.enabled=!1,fe.selection.object=null,fe.oncontextloss&&fe.oncontextloss())}fe.autoResize&&me(),window.addEventListener("resize",me),fe.update=function(Ne){fe._stopped||(Ne=Ne||{},Q=!0,K=!0)},fe.add=function(Ne){fe._stopped||(Ne.axes=W,Z.push(Ne),Y.push(-1),Q=!0,K=!0,ke())},fe.remove=function(Ne){if(!fe._stopped){var Se=Z.indexOf(Ne);Se<0||(Z.splice(Se,1),Y.pop(),Q=!0,K=!0,ke())}},fe.dispose=function(){if(!fe._stopped&&(fe._stopped=!0,window.removeEventListener("resize",me),E.removeEventListener("webglcontextlost",Pe),fe.mouseListener.enabled=!1,!fe.contextLost)){W.dispose(),U.dispose();for(var Ne=0;Ne<Z.length;++Ne)Z[Ne].dispose();for(P.dispose(),Ne=0;Ne<re.length;++Ne)re[Ne].dispose();R.dispose(),k=null,W=null,U=null,Z=[]}},fe._mouseRotating=!1,fe._prevButtons=0,fe.enableMouseListeners=function(){fe.mouseListener=f(E,function(Ne,Se,Ce){if(!fe._stopped){var pe=re.length,de=Z.length,se=L.object;L.distance=1/0,L.mouse[0]=Se,L.mouse[1]=Ce,L.object=null,L.screen=null,L.dataCoordinate=L.dataPosition=null;var we=!1;if(Ne&&fe._prevButtons)fe._mouseRotating=!0;else{fe._mouseRotating&&(K=!0),fe._mouseRotating=!1;for(var Re=0;Re<pe;++Re){var Ee=re[Re].query(Se,he[1]-Ce-1,fe.pickRadius);if(Ee){if(Ee.distance>L.distance)continue;for(var Ue=0;Ue<de;++Ue){var $e=Z[Ue];if(Y[Ue]===Re){var ve=$e.pick(Ee);ve&&(L.buttons=Ne,L.screen=Ee.coord,L.distance=Ee.distance,L.object=$e,L.index=ve.distance,L.dataPosition=ve.position,L.dataCoordinate=ve.dataCoordinate,L.data=ve,we=!0)}}}}}se&&se!==L.object&&(se.highlight&&se.highlight(null),Q=!0),L.object&&(L.object.highlight&&L.object.highlight(L.data),Q=!0),(we=we||L.object!==se)&&fe.onselect&&fe.onselect(L),1&Ne&&!(1&fe._prevButtons)&&fe.onclick&&fe.onclick(L),fe._prevButtons=Ne}})},E.addEventListener("webglcontextlost",Pe);var Te=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],be=[Te[0].slice(),Te[1].slice()];function xe(){if(!Pe()){me();var Ne=fe.camera.tick();te.view=fe.camera.matrix,Q=Q||Ne,K=K||Ne,W.pixelRatio=fe.pixelRatio,U.pixelRatio=fe.pixelRatio;var Se=Z.length,Ce=Te[0],pe=Te[1];Ce[0]=Ce[1]=Ce[2]=1/0,pe[0]=pe[1]=pe[2]=-1/0;for(var de=0;de<Se;++de){(He=Z[de]).pixelRatio=fe.pixelRatio,He.axes=fe.axes,Q=Q||!!He.dirty,K=K||!!He.dirty;var se=He.bounds;if(se)for(var we=se[0],Re=se[1],Ee=0;Ee<3;++Ee)Ce[Ee]=Math.min(Ce[Ee],we[Ee]),pe[Ee]=Math.max(pe[Ee],Re[Ee])}var Ue=fe.bounds;if(fe.autoBounds)for(Ee=0;Ee<3;++Ee){if(pe[Ee]<Ce[Ee])Ce[Ee]=-1,pe[Ee]=1;else{Ce[Ee]===pe[Ee]&&(Ce[Ee]-=1,pe[Ee]+=1);var $e=.05*(pe[Ee]-Ce[Ee]);Ce[Ee]=Ce[Ee]-$e,pe[Ee]=pe[Ee]+$e}Ue[0][Ee]=Ce[Ee],Ue[1][Ee]=pe[Ee]}var ve=!1;for(Ee=0;Ee<3;++Ee)ve=ve||be[0][Ee]!==Ue[0][Ee]||be[1][Ee]!==Ue[1][Ee],be[0][Ee]=Ue[0][Ee],be[1][Ee]=Ue[1][Ee];if(K=K||ve,Q=Q||ve){if(ve){var Ie=[0,0,0];for(de=0;de<3;++de)Ie[de]=b((Ue[1][de]-Ue[0][de])/10);W.update(W.autoTicks?{bounds:Ue,tickSpacing:Ie}:{bounds:Ue})}var De=k.drawingBufferWidth,ze=k.drawingBufferHeight;for(oe[0]=De,oe[1]=ze,he[0]=0|Math.max(De/fe.pixelRatio,1),he[1]=0|Math.max(ze/fe.pixelRatio,1),function(Ke,et){var st=Ke.bounds,mt=Ke.cameraParams,at=mt.projection,kt=mt.model,dt=Ke.zNear,Ct=Ke.zFar,Ot=Ke.fovy,Pt=Ke.gl.drawingBufferWidth/Ke.gl.drawingBufferHeight;et?(v(at,-Pt,Pt,-1,1,dt,Ct),mt._ortho=!0):(w(at,Ot,Pt,dt,Ct),mt._ortho=!1);for(var Ht=0;Ht<16;++Ht)kt[Ht]=0;kt[15]=1;var jt=0;for(Ht=0;Ht<3;++Ht)jt=Math.max(jt,st[1][Ht]-st[0][Ht]);for(Ht=0;Ht<3;++Ht)kt[5*Ht]=Ke.autoScale?Ke.aspect[Ht]/(st[1][Ht]-st[0][Ht]):1/jt,Ke.autoCenter&&(kt[12+Ht]=.5*-kt[5*Ht]*(st[0][Ht]+st[1][Ht]))}(fe,z),de=0;de<Se;++de)(He=Z[de]).axesBounds=Ue,fe.clipToBounds&&(He.clipBounds=Ue);L.object&&(U.position=fe.snapToData?L.dataCoordinate:L.dataPosition,U.bounds=Ue),K&&(K=!1,function(){if(!Pe()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Ke=Z.length,et=re.length,st=0;st<et;++st){var mt=re[st];mt.shape=he,mt.begin();for(var at=0;at<Ke;++at)if(Y[at]===st){var kt=Z[at];kt.drawPick&&(kt.pixelRatio=1,kt.drawPick(te))}mt.end()}}}()),fe.axesPixels=n(fe.axes,te,De,ze),fe.onrender&&fe.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,De,ze),fe.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var Ge=!1;for(W.enable&&(Ge=Ge||W.isTransparent(),W.draw(te)),U.axes=W,L.object&&U.draw(te),k.disable(k.CULL_FACE),de=0;de<Se;++de)(He=Z[de]).axes=W,He.pixelRatio=fe.pixelRatio,He.isOpaque&&He.isOpaque()&&He.draw(te),He.isTransparent&&He.isTransparent()&&(Ge=!0);if(Ge){for(P.shape=oe,P.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),W.enable&&W.isTransparent()&&W.drawTransparent(te),de=0;de<Se;++de)(He=Z[de]).isOpaque&&He.isOpaque()&&He.draw(te);for(k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),W.isTransparent()&&W.drawTransparent(te),de=0;de<Se;++de){var He;(He=Z[de]).isTransparent&&He.isTransparent()&&He.drawTransparent(te)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),R.bind(),P.color[0].bind(0),R.uniforms.accumBuffer=0,p(k),k.disable(k.BLEND)}for(Q=!1,de=0;de<Se;++de)Z[de].dirty=!1}}}return fe.enableMouseListeners(),function Ne(){fe._stopped||fe.contextLost||(xe(),requestAnimationFrame(Ne))}(),fe.redraw=function(){fe._stopped||(Q=!0,xe())},fe},createCamera:o}},8023:function(m,l,t){var o=t(6832);l.pointVertex=o(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),l.pointFragment=o(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),l.pickVertex=o(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),l.pickFragment=o(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},8271:function(m,l,t){"use strict";var o=t(5158),r=t(5827),n=t(5306),a=t(8023);function s(w,v,h,_,x){this.plot=w,this.offsetBuffer=v,this.pickBuffer=h,this.shader=_,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}m.exports=function(w,v){var h=w.gl,_=new s(w,r(h),r(h),o(h,a.pointVertex,a.pointFragment),o(h,a.pickVertex,a.pickFragment));return _.update(v),w.addObject(_),_};var c,p,f=s.prototype;f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},f.update=function(w){var v;function h(k,I){return k in w?w[k]:I}w=w||{},this.sizeMin=h("sizeMin",.5),this.sizeMax=h("sizeMax",20),this.color=h("color",[1,0,0,1]).slice(),this.areaRatio=h("areaRatio",1),this.borderColor=h("borderColor",[0,0,0,1]).slice(),this.blend=h("blend",!1);var _=w.positions.length>>>1,x=w.positions instanceof Float32Array,b=w.idToIndex instanceof Int32Array&&w.idToIndex.length>=_,M=w.positions,d=x?M:n.mallocFloat32(M.length),E=b?w.idToIndex:n.mallocInt32(_);if(x||d.set(M),!b)for(d.set(M),v=0;v<_;v++)E[v]=v;this.points=M,this.offsetBuffer.update(d),this.pickBuffer.update(E),x||n.free(d),b||n.free(E),this.pointCount=_,this.pickOffset=0},f.unifiedDraw=(c=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0],function(w){var v=void 0!==w,h=v?this.pickShader:this.shader,_=this.plot.gl,x=this.plot.dataBox;if(0===this.pointCount)return w;var b=x[2]-x[0],M=x[3]-x[1],d=function(L,P){var R,z=0,$=L.length>>>1;for(R=0;R<$;R++){var N=L[2*R],W=L[2*R+1];N>=P[0]&&N<=P[2]&&W>=P[1]&&W<=P[3]&&z++}return z}(this.points,x),E=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(d,.33333)));c[0]=2/b,c[4]=2/M,c[6]=-2*x[0]/b-1,c[7]=-2*x[1]/M-1,this.offsetBuffer.bind(),h.bind(),h.attributes.position.pointer(),h.uniforms.matrix=c,h.uniforms.color=this.color,h.uniforms.borderColor=this.borderColor,h.uniforms.pointCloud=E<5,h.uniforms.pointSize=E,h.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),v&&(p[0]=255&w,p[1]=w>>8&255,p[2]=w>>16&255,p[3]=w>>24&255,this.pickBuffer.bind(),h.attributes.pickId.pointer(_.UNSIGNED_BYTE),h.uniforms.pickOffset=p,this.pickOffset=w);var k=_.getParameter(_.BLEND),I=_.getParameter(_.DITHER);return k&&!this.blend&&_.disable(_.BLEND),I&&_.disable(_.DITHER),_.drawArrays(_.POINTS,0,this.pointCount),k&&!this.blend&&_.enable(_.BLEND),I&&_.enable(_.DITHER),w+this.pointCount}),f.draw=f.unifiedDraw,f.drawPick=f.unifiedDraw,f.pick=function(w,v,h){var _=this.pickOffset;if(h<_||h>=_+this.pointCount)return null;var b=h-_,M=this.points;return{object:this,pointId:b,dataCoord:[M[2*b],M[2*b+1]]}}},6093:function(m){m.exports=function(l,t,o,r){var n,a,s,c,p,f=t[0],w=t[1],v=t[2],h=t[3],_=o[0],x=o[1],b=o[2],M=o[3];return(a=f*_+w*x+v*b+h*M)<0&&(a=-a,_=-_,x=-x,b=-b,M=-M),1-a>1e-6?(n=Math.acos(a),s=Math.sin(n),c=Math.sin((1-r)*n)/s,p=Math.sin(r*n)/s):(c=1-r,p=r),l[0]=c*f+p*_,l[1]=c*w+p*x,l[2]=c*v+p*b,l[3]=c*h+p*M,l}},8240:function(m){"use strict";m.exports=function(l){return l||0===l?l.toString():""}},4123:function(m,l,t){"use strict";var o=t(875);m.exports=function(n,a,s){var c=r[a];if(c||(c=r[a]={}),n in c)return c[n];var p={textAlign:"center",textBaseline:"middle",lineHeight:1,font:a,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},f=o(n,p);p.triangles=!1;var w,v,h=o(n,p);if(s&&1!==s){for(w=0;w<f.positions.length;++w)for(v=0;v<f.positions[w].length;++v)f.positions[w][v]/=s;for(w=0;w<h.positions.length;++w)for(v=0;v<h.positions[w].length;++v)h.positions[w][v]/=s}var _=[[1/0,1/0],[-1/0,-1/0]],x=h.positions.length;for(w=0;w<x;++w){var b=h.positions[w];for(v=0;v<2;++v)_[0][v]=Math.min(_[0][v],b[v]),_[1][v]=Math.max(_[1][v],b[v])}return c[n]=[f,h,_]};var r={}},9282:function(m,l,t){var o=t(5158),r=t(6832),n=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),p=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),f=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],w={vertex:n,fragment:c,attributes:f},v={vertex:a,fragment:c,attributes:f},h={vertex:s,fragment:c,attributes:f},_={vertex:n,fragment:p,attributes:f},x={vertex:a,fragment:p,attributes:f},b={vertex:s,fragment:p,attributes:f};function M(d,E){var k=o(d,E),I=k.attributes;return I.position.location=0,I.color.location=1,I.glyph.location=2,I.id.location=3,k}l.createPerspective=function(d){return M(d,w)},l.createOrtho=function(d){return M(d,v)},l.createProject=function(d){return M(d,h)},l.createPickPerspective=function(d){return M(d,_)},l.createPickOrtho=function(d){return M(d,x)},l.createPickProject=function(d){return M(d,b)}},2182:function(m,l,t){"use strict";var o=t(3596),r=t(5827),n=t(2944),a=t(5306),s=t(104),c=t(9282),p=t(4123),f=t(8240),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(Y,ae){var re=Y[0],Q=Y[1],K=Y[2],te=Y[3];return Y[0]=ae[0]*re+ae[4]*Q+ae[8]*K+ae[12]*te,Y[1]=ae[1]*re+ae[5]*Q+ae[9]*K+ae[13]*te,Y[2]=ae[2]*re+ae[6]*Q+ae[10]*K+ae[14]*te,Y[3]=ae[3]*re+ae[7]*Q+ae[11]*K+ae[15]*te,Y}function h(Y,ae,re,Q){return v(Q,Q),v(Q,Q),v(Q,Q)}function _(Y,ae){this.index=Y,this.dataCoordinate=this.position=ae}function x(Y){return!0===Y||Y>1?1:Y}function b(Y,ae,re,Q,K,te,oe,ue,fe,he,me,ke){this.gl=Y,this.pixelRatio=1,this.shader=ae,this.orthoShader=re,this.projectShader=Q,this.pointBuffer=K,this.colorBuffer=te,this.glyphBuffer=oe,this.idBuffer=ue,this.vao=fe,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=he,this.pickOrthoShader=me,this.pickProjectShader=ke,this.points=[],this._selectResult=new _(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}m.exports=function(Y){var ae=Y.gl,re=c.createPerspective(ae),Q=c.createOrtho(ae),K=c.createProject(ae),te=c.createPickPerspective(ae),oe=c.createPickOrtho(ae),ue=c.createPickProject(ae),fe=r(ae),he=r(ae),me=r(ae),ke=r(ae),Pe=new b(ae,re,Q,K,fe,he,me,ke,n(ae,[{buffer:fe,size:3,type:ae.FLOAT},{buffer:he,size:4,type:ae.FLOAT},{buffer:me,size:2,type:ae.FLOAT},{buffer:ke,size:4,type:ae.UNSIGNED_BYTE,normalized:!0}]),te,oe,ue);return Pe.update(Y),Pe};var M=b.prototype;M.pickSlots=1,M.setPickBase=function(Y){this.pickId=Y},M.isTransparent=function(){if(this.hasAlpha)return!0;for(var Y=0;Y<3;++Y)if(this.axesProject[Y]&&this.projectHasAlpha)return!0;return!1},M.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Y=0;Y<3;++Y)if(this.axesProject[Y]&&!this.projectHasAlpha)return!0;return!1};var d=[0,0],E=[0,0,0],k=[0,0,0],I=[0,0,0,1],L=[0,0,0,1],P=w.slice(),R=[0,0,0],z=[[0,0,0],[0,0,0]];function $(Y){return Y[0]=Y[1]=Y[2]=0,Y}function N(Y,ae){return Y[0]=ae[0],Y[1]=ae[1],Y[2]=ae[2],Y[3]=1,Y}function W(Y,ae,re,Q){return Y[0]=ae[0],Y[1]=ae[1],Y[2]=ae[2],Y[re]=Q,Y}var H=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function U(Y,ae,re,Q,K,te,oe){var ue=re.gl;if((te===re.projectHasAlpha||oe)&&function(he,me,ke,Pe){var Te,be=me.axesProject,xe=me.gl,Ne=he.uniforms,Se=ke.model||w,Ce=ke.view||w,pe=ke.projection||w,de=me.axesBounds,se=function(st){for(var mt=z,at=0;at<2;++at)for(var kt=0;kt<3;++kt)mt[at][kt]=Math.max(Math.min(st[at][kt],1e8),-1e8);return mt}(me.clipBounds);Te=me.axes&&me.axes.lastCubeProps?me.axes.lastCubeProps.axis:[1,1,1],d[0]=2/xe.drawingBufferWidth,d[1]=2/xe.drawingBufferHeight,he.bind(),Ne.view=Ce,Ne.projection=pe,Ne.screenSize=d,Ne.highlightId=me.highlightId,Ne.highlightScale=me.highlightScale,Ne.clipBounds=se,Ne.pickGroup=me.pickId/255,Ne.pixelRatio=Pe;for(var we=0;we<3;++we)if(be[we]){Ne.scale=me.projectScale[we],Ne.opacity=me.projectOpacity[we];for(var Re=P,Ee=0;Ee<16;++Ee)Re[Ee]=0;for(Ee=0;Ee<4;++Ee)Re[5*Ee]=1;Re[5*we]=0,Re[12+we]=Te[we]<0?de[0][we]:de[1][we],s(Re,Se,Re),Ne.model=Re;var Ue=(we+1)%3,$e=(we+2)%3,ve=$(E),Ie=$(k);ve[Ue]=1,Ie[$e]=1;var De=h(0,0,0,N(I,ve)),ze=h(0,0,0,N(L,Ie));if(Math.abs(De[1])>Math.abs(ze[1])){var Ge=De;De=ze,ze=Ge,Ge=ve,ve=Ie,Ie=Ge;var He=Ue;Ue=$e,$e=He}De[0]<0&&(ve[Ue]=-1),ze[1]>0&&(Ie[$e]=-1);var Ke=0,et=0;for(Ee=0;Ee<4;++Ee)Ke+=Math.pow(Se[4*Ue+Ee],2),et+=Math.pow(Se[4*$e+Ee],2);ve[Ue]/=Math.sqrt(Ke),Ie[$e]/=Math.sqrt(et),Ne.axes[0]=ve,Ne.axes[1]=Ie,Ne.fragClipBounds[0]=W(R,se[0],we,-1e8),Ne.fragClipBounds[1]=W(R,se[1],we,1e8),me.vao.bind(),me.vao.draw(xe.TRIANGLES,me.vertexCount),me.lineWidth>0&&(xe.lineWidth(me.lineWidth*Pe),me.vao.draw(xe.LINES,me.lineVertexCount,me.vertexCount)),me.vao.unbind()}}(ae,re,Q,K),te===re.hasAlpha||oe){Y.bind();var fe=Y.uniforms;fe.model=Q.model||w,fe.view=Q.view||w,fe.projection=Q.projection||w,d[0]=2/ue.drawingBufferWidth,d[1]=2/ue.drawingBufferHeight,fe.screenSize=d,fe.highlightId=re.highlightId,fe.highlightScale=re.highlightScale,fe.fragClipBounds=H,fe.clipBounds=re.axes.bounds,fe.opacity=re.opacity,fe.pickGroup=re.pickId/255,fe.pixelRatio=K,re.vao.bind(),re.vao.draw(ue.TRIANGLES,re.vertexCount),re.lineWidth>0&&(ue.lineWidth(re.lineWidth*K),re.vao.draw(ue.LINES,re.lineVertexCount,re.vertexCount)),re.vao.unbind()}}function Z(Y,ae,re,Q){var K;K=Array.isArray(Y)?ae<Y.length?Y[ae]:void 0:Y,K=f(K);var te=!0;o(K)&&(K="\u25bc",te=!1);var oe=p(K,re,Q);return{mesh:oe[0],lines:oe[1],bounds:oe[2],visible:te}}M.draw=function(Y){U(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,Y,this.pixelRatio,!1,!1)},M.drawTransparent=function(Y){U(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,Y,this.pixelRatio,!0,!1)},M.drawPick=function(Y){U(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,Y,1,!0,!0)},M.pick=function(Y){if(!Y||Y.id!==this.pickId)return null;var ae=Y.value[2]+(Y.value[1]<<8)+(Y.value[0]<<16);if(ae>=this.pointCount||ae<0)return null;var re=this.points[ae],Q=this._selectResult;Q.index=ae;for(var K=0;K<3;++K)Q.position[K]=Q.dataCoordinate[K]=re[K];return Q},M.highlight=function(Y){if(Y){var ae=Y.index;this.highlightId=[(255&ae)/255,(ae>>8&255)/255,(ae>>16&255)/255,0]}else this.highlightId=[1,1,1,1]},M.update=function(Y){if("perspective"in(Y=Y||{})&&(this.useOrtho=!Y.perspective),"orthographic"in Y&&(this.useOrtho=!!Y.orthographic),"lineWidth"in Y&&(this.lineWidth=Y.lineWidth),"project"in Y)if(Array.isArray(Y.project))this.axesProject=Y.project;else{var ae=!!Y.project;this.axesProject=[ae,ae,ae]}if("projectScale"in Y)if(Array.isArray(Y.projectScale))this.projectScale=Y.projectScale.slice();else{var re=+Y.projectScale;this.projectScale=[re,re,re]}if(this.projectHasAlpha=!1,"projectOpacity"in Y){this.projectOpacity=Array.isArray(Y.projectOpacity)?Y.projectOpacity.slice():[re=+Y.projectOpacity,re,re];for(var Q=0;Q<3;++Q)this.projectOpacity[Q]=x(this.projectOpacity[Q]),this.projectOpacity[Q]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Y&&(this.opacity=x(Y.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var K,te,oe=Y.position,ue=Y.font||"normal",fe=Y.alignment||[0,0];if(2===fe.length)K=fe[0],te=fe[1];else for(K=[],te=[],Q=0;Q<fe.length;++Q)K[Q]=fe[Q][0],te[Q]=fe[Q][1];var he=[1/0,1/0,1/0],me=[-1/0,-1/0,-1/0],ke=Y.glyph,Pe=Y.color,Te=Y.size,be=Y.angle,xe=Y.lineColor,Ne=-1,Se=0,Ce=0,pe=0;if(oe.length){pe=oe.length;e:for(Q=0;Q<pe;++Q){for(var de=oe[Q],se=0;se<3;++se)if(isNaN(de[se])||!isFinite(de[se]))continue e;var we=(mt=Z(ke,Q,ue,this.pixelRatio)).mesh,Re=mt.lines,Ee=mt.bounds;Se+=3*we.cells.length,Ce+=2*Re.edges.length}}var Ue=Se+Ce,$e=a.mallocFloat(3*Ue),ve=a.mallocFloat(4*Ue),Ie=a.mallocFloat(2*Ue),De=a.mallocUint32(Ue);if(Ue>0){var ze=0,Ge=Se,He=[0,0,0,1],Ke=[0,0,0,1],et=Array.isArray(Pe)&&Array.isArray(Pe[0]),st=Array.isArray(xe)&&Array.isArray(xe[0]);e:for(Q=0;Q<pe;++Q){for(Ne+=1,de=oe[Q],se=0;se<3;++se){if(isNaN(de[se])||!isFinite(de[se]))continue e;me[se]=Math.max(me[se],de[se]),he[se]=Math.min(he[se],de[se])}we=(mt=Z(ke,Q,ue,this.pixelRatio)).mesh,Re=mt.lines,Ee=mt.bounds;var mt,at=mt.visible;if(at)if(Array.isArray(Pe)){if(3===(kt=et?Q<Pe.length?Pe[Q]:[0,0,0,0]:Pe).length){for(se=0;se<3;++se)He[se]=kt[se];He[3]=1}else if(4===kt.length){for(se=0;se<4;++se)He[se]=kt[se];!this.hasAlpha&&kt[3]<1&&(this.hasAlpha=!0)}}else He[0]=He[1]=He[2]=0,He[3]=1;else He=[1,1,1,0];if(at)if(Array.isArray(xe)){var kt;if(3===(kt=st?Q<xe.length?xe[Q]:[0,0,0,0]:xe).length){for(se=0;se<3;++se)Ke[se]=kt[se];Ke[se]=1}else if(4===kt.length){for(se=0;se<4;++se)Ke[se]=kt[se];!this.hasAlpha&&kt[3]<1&&(this.hasAlpha=!0)}}else Ke[0]=Ke[1]=Ke[2]=0,Ke[3]=1;else Ke=[1,1,1,0];var St=.5;at?Array.isArray(Te)?St=Q<Te.length?+Te[Q]:12:Te?St=+Te:this.useOrtho&&(St=12):St=0;var gt=0;Array.isArray(be)?gt=Q<be.length?+be[Q]:0:be&&(gt=+be);var dt=Math.cos(gt),Ct=Math.sin(gt);for(de=oe[Q],se=0;se<3;++se)me[se]=Math.max(me[se],de[se]),he[se]=Math.min(he[se],de[se]);var Ot=K,Pt=te;Ot=0,Array.isArray(K)?Ot=Q<K.length?K[Q]:0:K&&(Ot=K),Pt=0,Array.isArray(te)?Pt=Q<te.length?te[Q]:0:te&&(Pt=te);var Ht=[Ot*=Ot>0?1-Ee[0][0]:Ot<0?1+Ee[1][0]:1,Pt*=Pt>0?1-Ee[0][1]:Pt<0?1+Ee[1][1]:1],jt=we.cells||[],nt=we.positions||[];for(se=0;se<jt.length;++se)for(var it=jt[se],Xe=0;Xe<3;++Xe){for(var rt=0;rt<3;++rt)$e[3*ze+rt]=de[rt];for(rt=0;rt<4;++rt)ve[4*ze+rt]=He[rt];De[ze]=Ne;var ft=nt[it[Xe]];Ie[2*ze]=St*(dt*ft[0]-Ct*ft[1]+Ht[0]),Ie[2*ze+1]=St*(Ct*ft[0]+dt*ft[1]+Ht[1]),ze+=1}for(jt=Re.edges,nt=Re.positions,se=0;se<jt.length;++se)for(it=jt[se],Xe=0;Xe<2;++Xe){for(rt=0;rt<3;++rt)$e[3*Ge+rt]=de[rt];for(rt=0;rt<4;++rt)ve[4*Ge+rt]=Ke[rt];De[Ge]=Ne,Ie[2*Ge]=St*(dt*(ft=nt[it[Xe]])[0]-Ct*ft[1]+Ht[0]),Ie[2*Ge+1]=St*(Ct*ft[0]+dt*ft[1]+Ht[1]),Ge+=1}}}this.bounds=[he,me],this.points=oe,this.pointCount=oe.length,this.vertexCount=Se,this.lineVertexCount=Ce,this.pointBuffer.update($e),this.colorBuffer.update(ve),this.glyphBuffer.update(Ie),this.idBuffer.update(De),a.free($e),a.free(ve),a.free(Ie),a.free(De)},M.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(m,l,t){"use strict";var o=t(6832);l.boxVertex=o(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),l.boxFragment=o(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},6623:function(m,l,t){"use strict";var o=t(5158),r=t(5827),n=t(1884);function a(c,p,f){this.plot=c,this.boxBuffer=p,this.boxShader=f,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}m.exports=function(c,p){var f=c.gl,w=new a(c,r(f,[0,0,0,1,1,0,1,1]),o(f,n.boxVertex,n.boxFragment));return w.update(p),c.addOverlay(w),w};var s=a.prototype;s.draw=function(){if(this.enabled){var c=this.plot,p=this.selectBox,f=this.borderWidth,w=this.innerColor,v=this.outerColor,h=this.borderColor,_=c.box,x=c.screenBox,b=c.dataBox,M=c.viewBox,d=c.pixelRatio,E=(p[0]-b[0])*(M[2]-M[0])/(b[2]-b[0])+M[0],k=(p[1]-b[1])*(M[3]-M[1])/(b[3]-b[1])+M[1],I=(p[2]-b[0])*(M[2]-M[0])/(b[2]-b[0])+M[0],L=(p[3]-b[1])*(M[3]-M[1])/(b[3]-b[1])+M[1];if(E=Math.max(E,M[0]),k=Math.max(k,M[1]),I=Math.min(I,M[2]),L=Math.min(L,M[3]),!(I<E||L<k)){_.bind();var P=x[2]-x[0],R=x[3]-x[1];if(this.outerFill&&(_.drawBox(0,0,P,k,v),_.drawBox(0,k,E,L,v),_.drawBox(0,L,P,R,v),_.drawBox(I,k,P,L,v)),this.innerFill&&_.drawBox(E,k,I,L,w),f>0){var z=f*d;_.drawBox(E-z,k-z,I+z,k+z,h),_.drawBox(E-z,L-z,I+z,L+z,h),_.drawBox(E-z,k-z,E+z,L+z,h),_.drawBox(I-z,k-z,I+z,L+z,h)}}}},s.update=function(c){this.innerFill=!!(c=c||{}).innerFill,this.outerFill=!!c.outerFill,this.innerColor=(c.innerColor||[0,0,0,.5]).slice(),this.outerColor=(c.outerColor||[0,0,0,.5]).slice(),this.borderColor=(c.borderColor||[0,0,0,1]).slice(),this.borderWidth=c.borderWidth||0,this.selectBox=(c.selectBox||this.selectBox).slice()},s.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(m,l,t){"use strict";m.exports=function(f,w){var v=w[0],h=w[1];return new c(f,o(f,v,h,{}),r.mallocUint8(v*h*4))};var o=t(4234),r=t(5306),n=t(5050),a=t(2288).nextPow2;function s(f,w,v,h,_){this.coord=[f,w],this.id=v,this.value=h,this.distance=_}function c(f,w,v){this.gl=f,this.fbo=w,this.buffer=v,this._readTimeout=null;var h=this;this._readCallback=function(){h.gl&&(w.bind(),f.readPixels(0,0,w.shape[0],w.shape[1],f.RGBA,f.UNSIGNED_BYTE,h.buffer),h._readTimeout=null)}}var p=c.prototype;Object.defineProperty(p,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(f){if(this.gl){this.fbo.shape=f;var w=this.fbo.shape[0],v=this.fbo.shape[1];if(v*w*4>this.buffer.length){r.free(this.buffer);for(var h=this.buffer=r.mallocUint8(a(v*w*4)),_=0;_<v*w*4;++_)h[_]=255}return f}}}),p.begin=function(){var f=this.gl;f&&(this.fbo.bind(),f.clearColor(1,1,1,1),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT))},p.end=function(){var f=this.gl;f&&(f.bindFramebuffer(f.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},p.query=function(f,w,v){if(!this.gl)return null;var h=this.fbo.shape.slice();f|=0,w|=0,"number"!=typeof v&&(v=1);var _=0|Math.min(Math.max(f-v,0),h[0]),x=0|Math.min(Math.max(f+v,0),h[0]),b=0|Math.min(Math.max(w-v,0),h[1]),M=0|Math.min(Math.max(w+v,0),h[1]);if(x<=_||M<=b)return null;var d=[x-_,M-b],E=n(this.buffer,[d[0],d[1],4],[4,4*h[0],1],4*(_+h[0]*b)),k=function(P,R,z){for(var $=1e8,N=-1,W=-1,H=P.shape[0],U=P.shape[1],Z=0;Z<H;Z++)for(var Y=0;Y<U;Y++){var ae=P.get(Z,Y,0),re=P.get(Z,Y,1),Q=P.get(Z,Y,2),K=P.get(Z,Y,3);if(ae<255||re<255||Q<255||K<255){var te=R-Z,oe=z-Y,ue=te*te+oe*oe;ue<$&&($=ue,N=Z,W=Y)}}return[N,W,$]}(E.hi(d[0],d[1],1),v,v),I=k[0],L=k[1];return I<0||Math.pow(this.radius,2)<k[2]?null:new s(I+_|0,L+b|0,E.get(I,L,0),[E.get(I,L,1),E.get(I,L,2),E.get(I,L,3)],Math.sqrt(k[2]))},p.dispose=function(){this.gl&&(this.fbo.dispose(),r.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(m,l,t){"use strict";var o=t(9016),r=t(4280),n=t(3984),a=t(1628),s=t(2631),c=t(9068);function p(v){this.gl=v,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var f=p.prototype;function w(v,h){return v.name<h.name?-1:1}f.bind=function(){var v;this.program||this._relink();var h=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),_=this.gl.lastAttribCount;if(h>_)for(v=_;v<h;v++)this.gl.enableVertexAttribArray(v);else if(_>h)for(v=h;v<_;v++)this.gl.disableVertexAttribArray(v);this.gl.lastAttribCount=h,this.gl.useProgram(this.program)},f.dispose=function(){for(var v=this.gl.lastAttribCount,h=0;h<v;h++)this.gl.disableVertexAttribArray(h);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},f.update=function(v,h,_,x){if(!h||1===arguments.length){var b=v;v=b.vertex,h=b.fragment,_=b.uniforms,x=b.attributes}var M=this,d=M.gl,E=M._vref;M._vref=a.shader(d,d.VERTEX_SHADER,v),E&&E.dispose(),M.vertShader=M._vref.shader;var k=this._fref;if(M._fref=a.shader(d,d.FRAGMENT_SHADER,h),k&&k.dispose(),M.fragShader=M._fref.shader,!_||!x){var I=d.createProgram();if(d.attachShader(I,M.fragShader),d.attachShader(I,M.vertShader),d.linkProgram(I),!d.getProgramParameter(I,d.LINK_STATUS)){var L=d.getProgramInfoLog(I);throw new c(L,"Error linking program:"+L)}_=_||s.uniforms(d,I),x=x||s.attributes(d,I),d.deleteProgram(I)}(x=x.slice()).sort(w);var P,R=[],z=[],$=[];for(P=0;P<x.length;++P){var N=x[P];if(N.type.indexOf("mat")>=0){for(var W=0|N.type.charAt(N.type.length-1),H=new Array(W),U=0;U<W;++U)H[U]=$.length,z.push(N.name+"["+U+"]"),"number"==typeof N.location?$.push(N.location+U):Array.isArray(N.location)&&N.location.length===W&&"number"==typeof N.location[U]?$.push(0|N.location[U]):$.push(-1);R.push({name:N.name,type:N.type,locations:H})}else R.push({name:N.name,type:N.type,locations:[$.length]}),z.push(N.name),$.push("number"==typeof N.location?0|N.location:-1)}var Z=0;for(P=0;P<$.length;++P)if($[P]<0){for(;$.indexOf(Z)>=0;)Z+=1;$[P]=Z}var Y=new Array(_.length);function ae(){M.program=a.program(d,M._vref,M._fref,z,$);for(var re=0;re<_.length;++re)Y[re]=d.getUniformLocation(M.program,_[re].name)}ae(),M._relink=ae,M.types={uniforms:n(_),attributes:n(x)},M.attributes=r(d,M,R,$),Object.defineProperty(M,"uniforms",o(d,M,_,Y))},m.exports=function(v,h,_,x,b){var M=new p(v);return M.update(h,_,x,b),M}},9068:function(m){function l(t,o,r){this.shortMessage=o||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(o||t||"")+(r?"\n"+r:""),this.stack=(new Error).stack}(l.prototype=new Error).name="GLError",l.prototype.constructor=l,m.exports=l},4280:function(m,l,t){"use strict";m.exports=function(p,f,w,v){for(var h={},_=0,x=w.length;_<x;++_){var b=w[_],M=b.name,d=b.type,E=b.locations;switch(d){case"bool":case"int":case"float":s(p,f,E[0],v,1,h,M);break;default:if(d.indexOf("vec")>=0){if((k=d.charCodeAt(d.length-1)-48)<2||k>4)throw new o("","Invalid data type for attribute "+M+": "+d);s(p,f,E[0],v,k,h,M)}else{if(!(d.indexOf("mat")>=0))throw new o("","Unknown data type for attribute "+M+": "+d);var k;if((k=d.charCodeAt(d.length-1)-48)<2||k>4)throw new o("","Invalid data type for attribute "+M+": "+d);c(p,f,E,v,k,h,M)}}}return h};var o=t(9068);function r(p,f,w,v,h,_){this._gl=p,this._wrapper=f,this._index=w,this._locations=v,this._dimension=h,this._constFunc=_}var n=r.prototype;n.pointer=function(p,f,w,v){var h=this,_=h._gl,x=h._locations[h._index];_.vertexAttribPointer(x,h._dimension,p||_.FLOAT,!!f,w||0,v||0),_.enableVertexAttribArray(x)},n.set=function(p,f,w,v){return this._constFunc(this._locations[this._index],p,f,w,v)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(p){return p!==this._locations[this._index]&&(this._locations[this._index]=0|p,this._wrapper.program=null),0|p}});var a=[function(p,f,w){return void 0===w.length?p.vertexAttrib1f(f,w):p.vertexAttrib1fv(f,w)},function(p,f,w,v){return void 0===w.length?p.vertexAttrib2f(f,w,v):p.vertexAttrib2fv(f,w)},function(p,f,w,v,h){return void 0===w.length?p.vertexAttrib3f(f,w,v,h):p.vertexAttrib3fv(f,w)},function(p,f,w,v,h,_){return void 0===w.length?p.vertexAttrib4f(f,w,v,h,_):p.vertexAttrib4fv(f,w)}];function s(p,f,w,v,h,_,x){var b=a[h],M=new r(p,f,w,v,h,b);Object.defineProperty(_,x,{set:function(d){return p.disableVertexAttribArray(v[w]),b(p,v[w],d),d},get:function(){return M},enumerable:!0})}function c(p,f,w,v,h,_,x){for(var b=new Array(h),M=new Array(h),d=0;d<h;++d)s(p,f,w[d],v,h,b,d),M[d]=b[d];Object.defineProperty(b,"location",{set:function(I){if(Array.isArray(I))for(var L=0;L<h;++L)M[L].location=I[L];else for(L=0;L<h;++L)M[L].location=I+L;return I},get:function(){for(var I=new Array(h),L=0;L<h;++L)I[L]=v[w[L]];return I},enumerable:!0}),b.pointer=function(I,L,P,R){I=I||p.FLOAT,L=!!L,P=P||h*h,R=R||0;for(var z=0;z<h;++z){var $=v[w[z]];p.vertexAttribPointer($,h,I,L,P,R+z*h),p.enableVertexAttribArray($)}};var E=new Array(h),k=p["vertexAttrib"+h+"fv"];Object.defineProperty(_,x,{set:function(I){for(var L=0;L<h;++L){var P=v[w[L]];if(p.disableVertexAttribArray(P),Array.isArray(I[0]))k.call(p,P,I[L]);else{for(var R=0;R<h;++R)E[R]=I[h*L+R];k.call(p,P,E)}}return I},get:function(){return b},enumerable:!0})}},9016:function(m,l,t){"use strict";var o=t(3984),r=t(9068);function n(s){return function(){return s}}function a(s,c){for(var p=new Array(s),f=0;f<s;++f)p[f]=c;return p}m.exports=function(s,c,p,f){function w(b){return function(M){for(var d=v("",b),E=0;E<d.length;++E){var k=d[E],I=k[0],L=k[1];if(f[L]){var P=M;if("string"==typeof I&&(0===I.indexOf(".")||0===I.indexOf("["))){var R=I;if(0===I.indexOf(".")&&(R=I.slice(1)),R.indexOf("]")===R.length-1){var z=R.indexOf("["),$=R.slice(0,z),N=R.slice(z+1,R.length-1);P=$?M[$][N]:M[N]}else P=M[R]}var W,H=p[L].type;switch(H){case"bool":case"int":case"sampler2D":case"samplerCube":s.uniform1i(f[L],P);break;case"float":s.uniform1f(f[L],P);break;default:var U=H.indexOf("vec");if(!(0<=U&&U<=1&&H.length===4+U)){if(0===H.indexOf("mat")&&4===H.length){if((W=H.charCodeAt(H.length-1)-48)<2||W>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+H);s["uniformMatrix"+W+"fv"](f[L],!1,P);break}throw new r("","Unknown uniform data type for "+name+": "+H)}if((W=H.charCodeAt(H.length-1)-48)<2||W>4)throw new r("","Invalid data type");switch(H.charAt(0)){case"b":case"i":s["uniform"+W+"iv"](f[L],P);break;case"v":s["uniform"+W+"fv"](f[L],P);break;default:throw new r("","Unrecognized data type for vector "+name+": "+H)}}}}}}function v(b,M){if("object"!=typeof M)return[[b,M]];var d=[];for(var E in M){var k=M[E],I=b;parseInt(E)+""===E?I+="["+E+"]":I+="."+E,"object"==typeof k?d.push.apply(d,v(I,k)):d.push([I,k])}return d}function h(b,M,d){if("object"==typeof d){var E=_(d);Object.defineProperty(b,M,{get:n(E),set:w(d),enumerable:!0,configurable:!1})}else f[d]?Object.defineProperty(b,M,{get:(k=d,function(I,L,P){return I.getUniform(L.program,P[k])}),set:w(d),enumerable:!0,configurable:!1}):b[M]=function(I){switch(I){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var L=I.indexOf("vec");if(0<=L&&L<=1&&I.length===4+L){if((P=I.charCodeAt(I.length-1)-48)<2||P>4)throw new r("","Invalid data type");return"b"===I.charAt(0)?a(P,!1):a(P,0)}if(0===I.indexOf("mat")&&4===I.length){var P;if((P=I.charCodeAt(I.length-1)-48)<2||P>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+I);return a(P*P,0)}throw new r("","Unknown uniform data type for "+name+": "+I)}}(p[d].type);var k}function _(b){var M;if(Array.isArray(b)){M=new Array(b.length);for(var d=0;d<b.length;++d)h(M,d,b[d])}else for(var E in M={},b)h(M,E,b[E]);return M}var x=o(p,!0);return{get:n(_(x)),set:w(x),enumerable:!0,configurable:!0}}},3984:function(m){"use strict";m.exports=function(l,t){for(var o={},r=0;r<l.length;++r)for(var n=l[r].name.split("."),a=o,s=0;s<n.length;++s){var c=n[s].split("[");if(c.length>1){c[0]in a||(a[c[0]]=[]),a=a[c[0]];for(var p=1;p<c.length;++p){var f=parseInt(c[p]);p<c.length-1||s<n.length-1?(f in a||(a[f]=p<c.length-1?[]:{}),a=a[f]):a[f]=t?r:l[r].type}}else s<n.length-1?(c[0]in a||(a[c[0]]={}),a=a[c[0]]):a[c[0]]=t?r:l[r].type}return o}},2631:function(m,l){"use strict";l.uniforms=function(n,a){for(var s=n.getProgramParameter(a,n.ACTIVE_UNIFORMS),c=[],p=0;p<s;++p){var f=n.getActiveUniform(a,p);if(f){var w=r(n,f.type);if(f.size>1)for(var v=0;v<f.size;++v)c.push({name:f.name.replace("[0]","["+v+"]"),type:w});else c.push({name:f.name,type:w})}}return c},l.attributes=function(n,a){for(var s=n.getProgramParameter(a,n.ACTIVE_ATTRIBUTES),c=[],p=0;p<s;++p){var f=n.getActiveAttrib(a,p);f&&c.push({name:f.name,type:r(n,f.type)})}return c};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},o=null;function r(n,a){if(!o){var s=Object.keys(t);o={};for(var c=0;c<s.length;++c){var p=s[c];o[n[p]]=t[p]}}return o[a]}},1628:function(m,l,t){"use strict";l.shader=function(w,v,h){return f(w).getShaderReference(v,h)},l.program=function(w,v,h,_,x){return f(w).getProgram(v,h,_,x)};var o=t(9068),r=t(3530),n=new(typeof WeakMap>"u"?t(4037):WeakMap),a=0;function s(w,v,h,_,x,b,M){this.id=w,this.src=v,this.type=h,this.shader=_,this.count=b,this.programs=[],this.cache=M}function c(w){this.gl=w,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var w=this.cache,v=w.gl,h=this.programs,_=0,x=h.length;_<x;++_){var b=w.programs[h[_]];b&&(delete w.programs[_],v.deleteProgram(b))}v.deleteShader(this.shader),delete w.shaders[this.type===v.FRAGMENT_SHADER|0][this.src]}};var p=c.prototype;function f(w){var v=n.get(w);return v||(v=new c(w),n.set(w,v)),v}p.getShaderReference=function(w,v){var h=this.gl,_=this.shaders[w===h.FRAGMENT_SHADER|0],x=_[v];if(x&&h.isShader(x.shader))x.count+=1;else{var b=function(M,d,E){var k=M.createShader(d);if(M.shaderSource(k,E),M.compileShader(k),!M.getShaderParameter(k,M.COMPILE_STATUS)){var I=M.getShaderInfoLog(k);try{var L=r(I,E,d)}catch(P){throw console.warn("Failed to format compiler error: "+P),new o(I,"Error compiling shader:\n"+I)}throw new o(I,L.short,L.long)}return k}(h,w,v);x=_[v]=new s(a++,v,w,b,[],1,this)}return x},p.getProgram=function(w,v,h,_){var x=[w.id,v.id,h.join(":"),_.join(":")].join("@"),b=this.programs[x];return b&&this.gl.isProgram(b)||(this.programs[x]=b=function(M,d,E,k,I){var L=M.createProgram();M.attachShader(L,d),M.attachShader(L,E);for(var P=0;P<k.length;++P)M.bindAttribLocation(L,I[P],k[P]);if(M.linkProgram(L),!M.getProgramParameter(L,M.LINK_STATUS)){var R=M.getProgramInfoLog(L);throw new o(R,"Error linking program: "+R)}return L}(this.gl,w.shader,v.shader,h,_),w.programs.push(x),v.programs.push(x)),b}},3050:function(m){"use strict";function l(o){this.plot=o,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}m.exports=function(o,r){var n=new l(o);return n.update(r),o.addOverlay(n),n};var t=l.prototype;t.update=function(o){this.enable=((o=o||{}).enable||[!0,!0,!1,!1]).slice(),this.width=(o.width||[1,1,1,1]).slice(),this.color=(o.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(r){return r.slice()}),this.center=(o.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var o=this.enable,r=this.width,n=this.color,a=this.center,s=this.plot,c=s.line,p=s.dataBox,f=s.viewBox;if(c.bind(),p[0]<=a[0]&&a[0]<=p[2]&&p[1]<=a[1]&&a[1]<=p[3]){var w=f[0]+(a[0]-p[0])/(p[2]-p[0])*(f[2]-f[0]),v=f[1]+(a[1]-p[1])/(p[3]-p[1])*(f[3]-f[1]);o[0]&&c.drawLine(w,v,f[0],v,r[0],n[0]),o[1]&&c.drawLine(w,v,w,f[1],r[1],n[1]),o[2]&&c.drawLine(w,v,f[2],v,r[2],n[2]),o[3]&&c.drawLine(w,v,w,f[3],r[3],n[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},3540:function(m,l,t){"use strict";var o=t(6832),r=t(5158),n=o(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),a=o(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);m.exports=function(s){return r(s,n,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(m,l,t){"use strict";var o=t(5827),r=t(2944),n=t(3540);m.exports=function(v,h){var _=[];function x(k,I,L,P,R,z){var $=[k,I,L,0,0,0,1];$[P+3]=1,$[P]=R,_.push.apply(_,$),$[6]=-1,_.push.apply(_,$),$[P]=z,_.push.apply(_,$),_.push.apply(_,$),$[6]=1,_.push.apply(_,$),$[P]=R,_.push.apply(_,$)}x(0,0,0,0,0,1),x(0,0,0,1,0,1),x(0,0,0,2,0,1),x(1,0,0,1,-1,1),x(1,0,0,2,-1,1),x(0,1,0,0,-1,1),x(0,1,0,2,-1,1),x(0,0,1,0,-1,1),x(0,0,1,1,-1,1);var b=o(v,_),M=r(v,[{type:v.FLOAT,buffer:b,size:3,offset:0,stride:28},{type:v.FLOAT,buffer:b,size:3,offset:12,stride:28},{type:v.FLOAT,buffer:b,size:1,offset:24,stride:28}]),d=n(v);d.attributes.position.location=0,d.attributes.color.location=1,d.attributes.weight.location=2;var E=new s(v,b,M,d);return E.update(h),E};var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(v,h,_,x){this.gl=v,this.buffer=h,this.vao=_,this.shader=x,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var c=s.prototype,p=[0,0,0],f=[0,0,0],w=[0,0];c.isTransparent=function(){return!1},c.drawTransparent=function(v){},c.draw=function(v){var h=this.gl,_=this.vao,x=this.shader;_.bind(),x.bind();var b,M=v.model||a,d=v.view||a,E=v.projection||a;this.axes&&(b=this.axes.lastCubeProps.axis);for(var k=p,I=f,L=0;L<3;++L)b&&b[L]<0?(k[L]=this.bounds[0][L],I[L]=this.bounds[1][L]):(k[L]=this.bounds[1][L],I[L]=this.bounds[0][L]);for(w[0]=h.drawingBufferWidth,w[1]=h.drawingBufferHeight,x.uniforms.model=M,x.uniforms.view=d,x.uniforms.projection=E,x.uniforms.coordinates=[this.position,k,I],x.uniforms.colors=this.colors,x.uniforms.screenShape=w,L=0;L<3;++L)x.uniforms.lineWidth=this.lineWidth[L]*this.pixelRatio,this.enabled[L]&&(_.draw(h.TRIANGLES,6,6*L),this.drawSides[L]&&_.draw(h.TRIANGLES,12,18+12*L));_.unbind()},c.update=function(v){v&&("bounds"in v&&(this.bounds=v.bounds),"position"in v&&(this.position=v.position),"lineWidth"in v&&(this.lineWidth=v.lineWidth),"colors"in v&&(this.colors=v.colors),"enabled"in v&&(this.enabled=v.enabled),"drawSides"in v&&(this.drawSides=v.drawSides))},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(m,l,t){var o=t(6832),r=o(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),n=o(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),a=o(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=o(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);l.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},l.pickShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(m,l,t){"use strict";var o=t(2858),r=t(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],a=function(w,v){var h,_=w.length;for(h=0;h<_;h++){var x=w[h];if(x===v)return h;if(x>v)return h-1}return h},s=function(w,v,h){return w<v?v:w>h?h:w},c=function(w){var v=1/0;w.sort(function(b,M){return b-M});for(var h=w.length,_=1;_<h;_++){var x=Math.abs(w[_]-w[_-1]);x<v&&(v=x)}return v};m.exports=function(w,v){var h=w.startingPositions,_=w.maxLength||1e3,x=w.tubeSize||1,b=w.absoluteTubeSize,M=w.gridFill||"+x+y+z",d={};-1!==M.indexOf("-x")&&(d.reversedX=!0),-1!==M.indexOf("-y")&&(d.reversedY=!0),-1!==M.indexOf("-z")&&(d.reversedZ=!0),d.filled=n.indexOf(M.replace(/-/g,"").replace(/\+/g,""));var xe,Ne,Se,Ce,E=w.getVelocity||function(xe){return function(Ne,Se,Ce){var pe=Se.vectors,de=Se.meshgrid,se=Ne[0],we=Ne[1],Re=Ne[2],Ee=de[0].length,Ue=de[1].length,$e=de[2].length,ve=a(de[0],se),Ie=a(de[1],we),De=a(de[2],Re),ze=ve+1,Ge=Ie+1,He=De+1;if(ve=s(ve,0,Ee-1),ze=s(ze,0,Ee-1),Ie=s(Ie,0,Ue-1),Ge=s(Ge,0,Ue-1),De=s(De,0,$e-1),He=s(He,0,$e-1),ve<0||Ie<0||De<0||ze>Ee-1||Ge>Ue-1||He>$e-1)return o.create();var Ke,et,st,mt,at,kt,St=de[0][ve],dt=de[1][Ie],Ot=de[2][De],Pt=(se-St)/(de[0][ze]-St),Ht=(we-dt)/(de[1][Ge]-dt),jt=(Re-Ot)/(de[2][He]-Ot);switch(isFinite(Pt)||(Pt=.5),isFinite(Ht)||(Ht=.5),isFinite(jt)||(jt=.5),Ce.reversedX&&(ve=Ee-1-ve,ze=Ee-1-ze),Ce.reversedY&&(Ie=Ue-1-Ie,Ge=Ue-1-Ge),Ce.reversedZ&&(De=$e-1-De,He=$e-1-He),Ce.filled){case 5:at=De,kt=He,st=Ie*$e,mt=Ge*$e,Ke=ve*$e*Ue,et=ze*$e*Ue;break;case 4:at=De,kt=He,Ke=ve*$e,et=ze*$e,st=Ie*$e*Ee,mt=Ge*$e*Ee;break;case 3:st=Ie,mt=Ge,at=De*Ue,kt=He*Ue,Ke=ve*Ue*$e,et=ze*Ue*$e;break;case 2:st=Ie,mt=Ge,Ke=ve*Ue,et=ze*Ue,at=De*Ue*Ee,kt=He*Ue*Ee;break;case 1:Ke=ve,et=ze,at=De*Ee,kt=He*Ee,st=Ie*Ee*$e,mt=Ge*Ee*$e;break;default:Ke=ve,et=ze,st=Ie*Ee,mt=Ge*Ee,at=De*Ee*Ue,kt=He*Ee*Ue}var nt=pe[Ke+st+at],it=pe[Ke+st+kt],Xe=pe[Ke+mt+at],rt=pe[Ke+mt+kt],ft=pe[et+st+at],vt=pe[et+st+kt],je=pe[et+mt+at],Ve=pe[et+mt+kt],ut=o.create(),ct=o.create(),Tt=o.create(),Mt=o.create();o.lerp(ut,nt,ft,Pt),o.lerp(ct,it,vt,Pt),o.lerp(Tt,Xe,je,Pt),o.lerp(Mt,rt,Ve,Pt);var At=o.create(),bt=o.create();o.lerp(At,ut,Tt,Ht),o.lerp(bt,ct,Mt,Ht);var Rt=o.create();return o.lerp(Rt,At,bt,jt),Rt}(xe,w,d)},k=w.getDivergence||function(xe,Ne){var Se=o.create(),Ce=1e-4;o.add(Se,xe,[Ce,0,0]);var pe=E(Se);o.subtract(pe,pe,Ne),o.scale(pe,pe,1/Ce),o.add(Se,xe,[0,Ce,0]);var de=E(Se);o.subtract(de,de,Ne),o.scale(de,de,1/Ce),o.add(Se,xe,[0,0,Ce]);var se=E(Se);return o.subtract(se,se,Ne),o.scale(se,se,1/Ce),o.add(Se,pe,de),o.add(Se,Se,se),Se},I=[],L=v[0][0],P=v[0][1],R=v[0][2],z=v[1][0],$=v[1][1],N=v[1][2],H=10*o.distance(v[0],v[1])/_,U=H*H,Z=1,Y=0,ae=h.length;ae>1&&(Z=function(xe){for(var Ne=[],Se=[],Ce=[],pe={},de={},se={},we=xe.length,Re=0;Re<we;Re++){var Ee=xe[Re],Ue=Ee[0],$e=Ee[1],ve=Ee[2];pe[Ue]||(Ne.push(Ue),pe[Ue]=!0),de[$e]||(Se.push($e),de[$e]=!0),se[ve]||(Ce.push(ve),se[ve]=!0)}var Ie=c(Ne),De=c(Se),ze=c(Ce),Ge=Math.min(Ie,De,ze);return isFinite(Ge)?Ge:1}(h));for(var re=0;re<ae;re++){var Q=o.create();o.copy(Q,h[re]);var K=[Q],te=[],oe=E(Q),ue=Q;te.push(oe);var fe=[],he=k(Q,oe),me=o.length(he);isFinite(me)&&me>Y&&(Y=me),fe.push(me),I.push({points:K,velocities:te,divergences:fe});for(var ke=0;ke<100*_&&K.length<_&&(Ne=void 0,Se=void 0,Ce=void 0,Se=(xe=Q)[1],Ce=xe[2],!((Ne=xe[0])<L||Ne>z||Se<P||Se>$||Ce<R||Ce>N));){ke++;var Pe=o.clone(oe),Te=o.squaredLength(Pe);if(0===Te)break;Te>U&&o.scale(Pe,Pe,H/Math.sqrt(Te)),o.add(Pe,Pe,Q),oe=E(Pe),o.squaredDistance(ue,Pe)-U>-1e-4*U&&(K.push(Pe),ue=Pe,te.push(oe),he=k(Pe,oe),me=o.length(he),isFinite(me)&&me>Y&&(Y=me),fe.push(me)),Q=Pe}}var be=function(xe,Ne,Se,Ce){for(var pe=0,de=0;de<xe.length;de++)for(var se=xe[de].velocities,we=0;we<se.length;we++)pe=Math.max(pe,o.length(se[we]));var Re=xe.map(function(Ke){return function(et,st,mt,at){for(var kt=et.points,St=et.velocities,gt=et.divergences,dt=[],Ct=[],Ot=[],Pt=[],Ht=[],jt=[],nt=0,it=0,Xe=r.create(),rt=r.create(),ft=0;ft<kt.length;ft++){var vt=kt[ft],je=St[ft],Ve=gt[ft];0===st&&(Ve=.05*mt),it=o.length(je)/at,Xe=r.create(),o.copy(Xe,je),Xe[3]=Ve;for(var ut=0;ut<8;ut++)Ht[ut]=[vt[0],vt[1],vt[2],ut];if(Pt.length>0)for(ut=0;ut<8;ut++){var ct=(ut+1)%8;dt.push(Pt[ut],Ht[ut],Ht[ct],Ht[ct],Pt[ct],Pt[ut]),Ot.push(rt,Xe,Xe,Xe,rt,rt),jt.push(nt,it,it,it,nt,nt);var Tt=dt.length;Ct.push([Tt-6,Tt-5,Tt-4],[Tt-3,Tt-2,Tt-1])}var Mt=Pt;Pt=Ht,Ht=Mt;var At=rt;rt=Xe,Xe=At;var bt=nt;nt=it,it=bt}return{positions:dt,cells:Ct,vectors:Ot,vertexIntensity:jt}}(Ke,Se,Ce,pe)}),Ee=[],Ue=[],$e=[],ve=[];for(de=0;de<Re.length;de++){var Ie=Re[de],De=Ee.length;for(Ee=Ee.concat(Ie.positions),$e=$e.concat(Ie.vectors),ve=ve.concat(Ie.vertexIntensity),we=0;we<Ie.cells.length;we++){var ze=Ie.cells[we],Ge=[];Ue.push(Ge);for(var He=0;He<ze.length;He++)Ge.push(ze[He]+De)}}return{positions:Ee,cells:Ue,vectors:$e,vertexIntensity:ve,colormap:Ne}}(I,w.colormap,Y,Z);return b?be.tubeScale=b:(0===Y&&(Y=1),be.tubeScale=.5*x*Z/Y),be};var p=t(9578),f=t(1140).createMesh;m.exports.createTubeMesh=function(w,v){return f(w,v,{shaders:p,traceType:"streamtube"})}},9054:function(m,l,t){var o=t(5158),r=t(6832),n=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);l.createShader=function(p){var f=o(p,n,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},l.createPickShader=function(p){var f=o(p,n,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},l.createContourShader=function(p){var f=o(p,s,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f},l.createPickContourShader=function(p){var f=o(p,s,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f}},3754:function(m,l,t){"use strict";m.exports=function(he){var me=he.gl,ke=d(me),Pe=k(me),Te=E(me),be=I(me),xe=r(me),Ne=n(me,[{buffer:xe,size:4,stride:L,offset:0},{buffer:xe,size:3,stride:L,offset:16},{buffer:xe,size:3,stride:L,offset:28}]),Se=r(me),Ce=n(me,[{buffer:Se,size:4,stride:20,offset:0},{buffer:Se,size:1,stride:20,offset:16}]),pe=r(me),de=n(me,[{buffer:pe,size:2,type:me.FLOAT}]),se=a(me,1,N,me.RGBA,me.UNSIGNED_BYTE);se.minFilter=me.LINEAR,se.magFilter=me.LINEAR;var we=new W(me,[0,0],[[0,0,0],[0,0,0]],ke,Pe,xe,Ne,se,Te,be,Se,Ce,pe,de,[0,0,0]),Re={levels:[[],[],[]]};for(var Ee in he)Re[Ee]=he[Ee];return Re.colormap=Re.colormap||"jet",we.update(Re),we};var o=t(2288),r=t(5827),n=t(2944),a=t(8931),s=t(5306),c=t(9156),p=t(7498),f=t(7382),w=t(5050),v=t(4162),h=t(104),_=t(7437),x=t(5070),b=t(9144),M=t(9054),d=M.createShader,E=M.createContourShader,k=M.createPickShader,I=M.createPickContourShader,L=40,P=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],R=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],z=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function $(he,me,ke,Pe,Te){this.position=he,this.index=me,this.uv=ke,this.level=Pe,this.dataCoordinate=Te}!function(){for(var he=0;he<3;++he){var me=z[he],ke=(he+2)%3;me[(he+1)%3+0]=1,me[ke+3]=1,me[he+6]=1}}();var N=256;function W(he,me,ke,Pe,Te,be,xe,Ne,Se,Ce,pe,de,se,we,Re){this.gl=he,this.shape=me,this.bounds=ke,this.objectOffset=Re,this.intensityBounds=[],this._shader=Pe,this._pickShader=Te,this._coordinateBuffer=be,this._vao=xe,this._colorMap=Ne,this._contourShader=Se,this._contourPickShader=Ce,this._contourBuffer=pe,this._contourVAO=de,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new $([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=se,this._dynamicVAO=we,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[w(s.mallocFloat(1024),[0,0]),w(s.mallocFloat(1024),[0,0]),w(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var H=W.prototype;H.genColormap=function(he,me){var ke=!1,Pe=f([c({colormap:he,nshades:N,format:"rgba"}).map(function(Te,be){var xe=me?function(Ne,Se){if(!Se||!Se.length)return 1;for(var Ce=0;Ce<Se.length;++Ce){if(Se.length<2)return 1;if(Se[Ce][0]===Ne)return Se[Ce][1];if(Se[Ce][0]>Ne&&Ce>0){var pe=(Se[Ce][0]-Ne)/(Se[Ce][0]-Se[Ce-1][0]);return Se[Ce][1]*(1-pe)+pe*Se[Ce-1][1]}}return 1}(be/255,me):Te[3];return xe<1&&(ke=!0),[Te[0],Te[1],Te[2],255*xe]})]);return p.divseq(Pe,255),this.hasAlphaScale=ke,Pe},H.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},H.isOpaque=function(){return!this.isTransparent()},H.pickSlots=1,H.setPickBase=function(he){this.pickId=he};var U=[0,0,0],Z={showSurface:!1,showContour:!1,projections:[P.slice(),P.slice(),P.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function Y(he,me){var ke,Pe,Te,be=me.axes&&me.axes.lastCubeProps.axis||U,xe=me.showSurface,Ne=me.showContour;for(ke=0;ke<3;++ke)for(xe=xe||me.surfaceProject[ke],Pe=0;Pe<3;++Pe)Ne=Ne||me.contourProject[ke][Pe];for(ke=0;ke<3;++ke){var Se=Z.projections[ke];for(Pe=0;Pe<16;++Pe)Se[Pe]=0;for(Pe=0;Pe<4;++Pe)Se[5*Pe]=1;Se[5*ke]=0,Se[12+ke]=me.axesBounds[+(be[ke]>0)][ke],h(Se,he.model,Se);var Ce=Z.clipBounds[ke];for(Te=0;Te<2;++Te)for(Pe=0;Pe<3;++Pe)Ce[Te][Pe]=he.clipBounds[Te][Pe];Ce[0][ke]=-1e8,Ce[1][ke]=1e8}return Z.showSurface=xe,Z.showContour=Ne,Z}var ae={model:P,view:P,projection:P,inverseModel:P.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},re=P.slice(),Q=[1,0,0,0,1,0,0,0,1];function K(he,me){he=he||{};var ke=this.gl;ke.disable(ke.CULL_FACE),this._colorMap.bind(0);var Pe=ae;Pe.model=he.model||P,Pe.view=he.view||P,Pe.projection=he.projection||P,Pe.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],Pe.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],Pe.objectOffset=this.objectOffset,Pe.contourColor=this.contourColor[0],Pe.inverseModel=_(Pe.inverseModel,Pe.model);for(var Te=0;Te<2;++Te)for(var be=Pe.clipBounds[Te],xe=0;xe<3;++xe)be[xe]=Math.min(Math.max(this.clipBounds[Te][xe],-1e8),1e8);Pe.kambient=this.ambientLight,Pe.kdiffuse=this.diffuseLight,Pe.kspecular=this.specularLight,Pe.roughness=this.roughness,Pe.fresnel=this.fresnel,Pe.opacity=this.opacity,Pe.height=0,Pe.permutation=Q,Pe.vertexColor=this.vertexColor;var Ne=re;for(h(Ne,Pe.view,Pe.model),h(Ne,Pe.projection,Ne),_(Ne,Ne),Te=0;Te<3;++Te)Pe.eyePosition[Te]=Ne[12+Te]/Ne[15];var Se=Ne[15];for(Te=0;Te<3;++Te)Se+=this.lightPosition[Te]*Ne[4*Te+3];for(Te=0;Te<3;++Te){var Ce=Ne[12+Te];for(xe=0;xe<3;++xe)Ce+=Ne[4*xe+Te]*this.lightPosition[xe];Pe.lightPosition[Te]=Ce/Se}var pe=Y(Pe,this);if(pe.showSurface){for(this._shader.bind(),this._shader.uniforms=Pe,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ke.TRIANGLES,this._vertexCount),Te=0;Te<3;++Te)this.surfaceProject[Te]&&this.vertexCount&&(this._shader.uniforms.model=pe.projections[Te],this._shader.uniforms.clipBounds=pe.clipBounds[Te],this._vao.draw(ke.TRIANGLES,this._vertexCount));this._vao.unbind()}if(pe.showContour){var de=this._contourShader;Pe.kambient=1,Pe.kdiffuse=0,Pe.kspecular=0,Pe.opacity=1,de.bind(),de.uniforms=Pe;var se=this._contourVAO;for(se.bind(),Te=0;Te<3;++Te)for(de.uniforms.permutation=z[Te],ke.lineWidth(this.contourWidth[Te]*this.pixelRatio),xe=0;xe<this.contourLevels[Te].length;++xe)xe===this.highlightLevel[Te]?(de.uniforms.contourColor=this.highlightColor[Te],de.uniforms.contourTint=this.highlightTint[Te]):0!==xe&&xe-1!==this.highlightLevel[Te]||(de.uniforms.contourColor=this.contourColor[Te],de.uniforms.contourTint=this.contourTint[Te]),this._contourCounts[Te][xe]&&(de.uniforms.height=this.contourLevels[Te][xe],se.draw(ke.LINES,this._contourCounts[Te][xe],this._contourOffsets[Te][xe]));for(Te=0;Te<3;++Te)for(de.uniforms.model=pe.projections[Te],de.uniforms.clipBounds=pe.clipBounds[Te],xe=0;xe<3;++xe)if(this.contourProject[Te][xe]){de.uniforms.permutation=z[xe],ke.lineWidth(this.contourWidth[xe]*this.pixelRatio);for(var we=0;we<this.contourLevels[xe].length;++we)we===this.highlightLevel[xe]?(de.uniforms.contourColor=this.highlightColor[xe],de.uniforms.contourTint=this.highlightTint[xe]):0!==we&&we-1!==this.highlightLevel[xe]||(de.uniforms.contourColor=this.contourColor[xe],de.uniforms.contourTint=this.contourTint[xe]),this._contourCounts[xe][we]&&(de.uniforms.height=this.contourLevels[xe][we],se.draw(ke.LINES,this._contourCounts[xe][we],this._contourOffsets[xe][we]))}for(se.unbind(),(se=this._dynamicVAO).bind(),Te=0;Te<3;++Te)if(0!==this._dynamicCounts[Te])for(de.uniforms.model=Pe.model,de.uniforms.clipBounds=Pe.clipBounds,de.uniforms.permutation=z[Te],ke.lineWidth(this.dynamicWidth[Te]*this.pixelRatio),de.uniforms.contourColor=this.dynamicColor[Te],de.uniforms.contourTint=this.dynamicTint[Te],de.uniforms.height=this.dynamicLevel[Te],se.draw(ke.LINES,this._dynamicCounts[Te],this._dynamicOffsets[Te]),xe=0;xe<3;++xe)this.contourProject[xe][Te]&&(de.uniforms.model=pe.projections[xe],de.uniforms.clipBounds=pe.clipBounds[xe],se.draw(ke.LINES,this._dynamicCounts[Te],this._dynamicOffsets[Te]));se.unbind()}}H.draw=function(he){return K.call(this,he,!1)},H.drawTransparent=function(he){return K.call(this,he,!0)};var te={model:P,view:P,projection:P,inverseModel:P,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function oe(he,me){return Array.isArray(he)?[me(he[0]),me(he[1]),me(he[2])]:[me(he),me(he),me(he)]}function ue(he){return Array.isArray(he)?3===he.length?[he[0],he[1],he[2],1]:[he[0],he[1],he[2],he[3]]:[0,0,0,1]}function fe(he){if(Array.isArray(he)){if(Array.isArray(he))return[ue(he[0]),ue(he[1]),ue(he[2])];var me=ue(he);return[me.slice(),me.slice(),me.slice()]}}H.drawPick=function(he){he=he||{};var me=this.gl;me.disable(me.CULL_FACE);var ke=te;ke.model=he.model||P,ke.view=he.view||P,ke.projection=he.projection||P,ke.shape=this._field[2].shape,ke.pickId=this.pickId/255,ke.lowerBound=this.bounds[0],ke.upperBound=this.bounds[1],ke.objectOffset=this.objectOffset,ke.permutation=Q;for(var Pe=0;Pe<2;++Pe)for(var Te=ke.clipBounds[Pe],be=0;be<3;++be)Te[be]=Math.min(Math.max(this.clipBounds[Pe][be],-1e8),1e8);var xe=Y(ke,this);if(xe.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ke,this._vao.bind(),this._vao.draw(me.TRIANGLES,this._vertexCount),Pe=0;Pe<3;++Pe)this.surfaceProject[Pe]&&(this._pickShader.uniforms.model=xe.projections[Pe],this._pickShader.uniforms.clipBounds=xe.clipBounds[Pe],this._vao.draw(me.TRIANGLES,this._vertexCount));this._vao.unbind()}if(xe.showContour){var Ne=this._contourPickShader;Ne.bind(),Ne.uniforms=ke;var Se=this._contourVAO;for(Se.bind(),be=0;be<3;++be)for(me.lineWidth(this.contourWidth[be]*this.pixelRatio),Ne.uniforms.permutation=z[be],Pe=0;Pe<this.contourLevels[be].length;++Pe)this._contourCounts[be][Pe]&&(Ne.uniforms.height=this.contourLevels[be][Pe],Se.draw(me.LINES,this._contourCounts[be][Pe],this._contourOffsets[be][Pe]));for(Pe=0;Pe<3;++Pe)for(Ne.uniforms.model=xe.projections[Pe],Ne.uniforms.clipBounds=xe.clipBounds[Pe],be=0;be<3;++be)if(this.contourProject[Pe][be]){Ne.uniforms.permutation=z[be],me.lineWidth(this.contourWidth[be]*this.pixelRatio);for(var Ce=0;Ce<this.contourLevels[be].length;++Ce)this._contourCounts[be][Ce]&&(Ne.uniforms.height=this.contourLevels[be][Ce],Se.draw(me.LINES,this._contourCounts[be][Ce],this._contourOffsets[be][Ce]))}Se.unbind()}},H.pick=function(he){if(!he||he.id!==this.pickId)return null;var me=this._field[2].shape,ke=this._pickResult,Pe=me[0]*(he.value[0]+(he.value[2]>>4)/16)/255,Te=Math.floor(Pe),be=Pe-Te,xe=me[1]*(he.value[1]+(15&he.value[2])/16)/255,Ne=Math.floor(xe),Se=xe-Ne;Te+=1,Ne+=1;var Ce=ke.position;Ce[0]=Ce[1]=Ce[2]=0;for(var pe=0;pe<2;++pe)for(var de=pe?be:1-be,se=0;se<2;++se)for(var we=Te+pe,Re=Ne+se,Ee=de*(se?Se:1-Se),Ue=0;Ue<3;++Ue)Ce[Ue]+=this._field[Ue].get(we,Re)*Ee;for(var $e=this._pickResult.level,ve=0;ve<3;++ve)if($e[ve]=x.le(this.contourLevels[ve],Ce[ve]),$e[ve]<0)this.contourLevels[ve].length>0&&($e[ve]=0);else if($e[ve]<this.contourLevels[ve].length-1){var De=this.contourLevels[ve][$e[ve]+1];Math.abs(this.contourLevels[ve][$e[ve]]-Ce[ve])>Math.abs(De-Ce[ve])&&($e[ve]+=1)}for(ke.index[0]=be<.5?Te:Te+1,ke.index[1]=Se<.5?Ne:Ne+1,ke.uv[0]=Pe/me[0],ke.uv[1]=xe/me[1],Ue=0;Ue<3;++Ue)ke.dataCoordinate[Ue]=this._field[Ue].get(ke.index[0],ke.index[1]);return ke},H.padField=function(he,me){var ke=me.shape.slice(),Pe=he.shape.slice();p.assign(he.lo(1,1).hi(ke[0],ke[1]),me),p.assign(he.lo(1).hi(ke[0],1),me.hi(ke[0],1)),p.assign(he.lo(1,Pe[1]-1).hi(ke[0],1),me.lo(0,ke[1]-1).hi(ke[0],1)),p.assign(he.lo(0,1).hi(1,ke[1]),me.hi(1)),p.assign(he.lo(Pe[0]-1,1).hi(1,ke[1]),me.lo(ke[0]-1)),he.set(0,0,me.get(0,0)),he.set(0,Pe[1]-1,me.get(0,ke[1]-1)),he.set(Pe[0]-1,0,me.get(ke[0]-1,0)),he.set(Pe[0]-1,Pe[1]-1,me.get(ke[0]-1,ke[1]-1))},H.update=function(he){this.objectOffset=(he=he||{}).objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in he&&(this.contourWidth=oe(he.contourWidth,Number)),"showContour"in he&&(this.showContour=oe(he.showContour,Boolean)),"showSurface"in he&&(this.showSurface=!!he.showSurface),"contourTint"in he&&(this.contourTint=oe(he.contourTint,Boolean)),"contourColor"in he&&(this.contourColor=fe(he.contourColor)),"contourProject"in he&&(this.contourProject=oe(he.contourProject,function(gn){return oe(gn,Boolean)})),"surfaceProject"in he&&(this.surfaceProject=he.surfaceProject),"dynamicColor"in he&&(this.dynamicColor=fe(he.dynamicColor)),"dynamicTint"in he&&(this.dynamicTint=oe(he.dynamicTint,Number)),"dynamicWidth"in he&&(this.dynamicWidth=oe(he.dynamicWidth,Number)),"opacity"in he&&(this.opacity=he.opacity),"opacityscale"in he&&(this.opacityscale=he.opacityscale),"colorBounds"in he&&(this.colorBounds=he.colorBounds),"vertexColor"in he&&(this.vertexColor=he.vertexColor?1:0),"colormap"in he&&this._colorMap.setPixels(this.genColormap(he.colormap,this.opacityscale));var me=he.field||he.coords&&he.coords[2]||null,ke=!1;if(me||(me=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in he||"coords"in he){var Pe=(me.shape[0]+2)*(me.shape[1]+2);Pe>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(o.nextPow2(Pe))),this._field[2]=w(this._field[2].data,[me.shape[0]+2,me.shape[1]+2]),this.padField(this._field[2],me),this.shape=me.shape.slice();for(var Te=this.shape,be=0;be<2;++be)this._field[2].size>this._field[be].data.length&&(s.freeFloat(this._field[be].data),this._field[be].data=s.mallocFloat(this._field[2].size)),this._field[be]=w(this._field[be].data,[Te[0]+2,Te[1]+2]);if(he.coords){var xe=he.coords;if(!Array.isArray(xe)||3!==xe.length)throw new Error("gl-surface: invalid coordinates for x/y");for(be=0;be<2;++be){var Ne=xe[be];for(se=0;se<2;++se)if(Ne.shape[se]!==Te[se])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[be],Ne)}}else if(he.ticks){var Se=he.ticks;if(!Array.isArray(Se)||2!==Se.length)throw new Error("gl-surface: invalid ticks");for(be=0;be<2;++be){var Ce=Se[be];if((Array.isArray(Ce)||Ce.length)&&(Ce=w(Ce)),Ce.shape[0]!==Te[be])throw new Error("gl-surface: invalid tick length");var pe=w(Ce.data,Te);pe.stride[be]=Ce.stride[0],pe.stride[1^be]=0,this.padField(this._field[be],pe)}}else{for(be=0;be<2;++be){var de=[0,0];de[be]=1,this._field[be]=w(this._field[be].data,[Te[0]+2,Te[1]+2],de,0)}this._field[0].set(0,0,0);for(var se=0;se<Te[0];++se)this._field[0].set(se+1,0,se);for(this._field[0].set(Te[0]+1,0,Te[0]-1),this._field[1].set(0,0,0),se=0;se<Te[1];++se)this._field[1].set(0,se+1,se);this._field[1].set(0,Te[1]+1,Te[1]-1)}var we=this._field,Re=w(s.mallocFloat(3*we[2].size*2),[3,Te[0]+2,Te[1]+2,2]);for(be=0;be<3;++be)b(Re.pick(be),we[be],"mirror");var Ee=w(s.mallocFloat(3*we[2].size),[Te[0]+2,Te[1]+2,3]);for(be=0;be<Te[0]+2;++be)for(se=0;se<Te[1]+2;++se){var Ue=Re.get(0,be,se,0),$e=Re.get(0,be,se,1),ve=Re.get(1,be,se,0),Ie=Re.get(1,be,se,1),De=Re.get(2,be,se,0),ze=Re.get(2,be,se,1),Ge=ve*ze-Ie*De,He=De*$e-ze*Ue,Ke=Ue*Ie-$e*ve,et=Math.sqrt(Ge*Ge+He*He+Ke*Ke);et<1e-8?(et=Math.max(Math.abs(Ge),Math.abs(He),Math.abs(Ke)))<1e-8?(Ke=1,He=Ge=0,et=1):et=1/et:et=1/Math.sqrt(et),Ee.set(be,se,0,Ge*et),Ee.set(be,se,1,He*et),Ee.set(be,se,2,Ke*et)}s.free(Re.data);var st=[1/0,1/0,1/0],mt=[-1/0,-1/0,-1/0],at=1/0,kt=-1/0,gt=s.mallocFloat(o.nextPow2((Te[0]-1)*(Te[1]-1)*6*10)),dt=0,Ct=0;for(be=0;be<Te[0]-1;++be)e:for(se=0;se<Te[1]-1;++se){for(var Ot=0;Ot<2;++Ot)for(var Pt=0;Pt<2;++Pt)for(var Ht=0;Ht<3;++Ht){var jt=this._field[Ht].get(1+be+Ot,1+se+Pt);if(isNaN(jt)||!isFinite(jt))continue e}for(Ht=0;Ht<6;++Ht){var nt=be+R[Ht][0],it=se+R[Ht][1],Xe=this._field[0].get(nt+1,it+1),rt=this._field[1].get(nt+1,it+1);jt=this._field[2].get(nt+1,it+1),Ge=Ee.get(nt+1,it+1,0),He=Ee.get(nt+1,it+1,1),Ke=Ee.get(nt+1,it+1,2),he.intensity&&(ft=he.intensity.get(nt,it));var ft=he.intensity?he.intensity.get(nt,it):jt+this.objectOffset[2];gt[dt++]=nt,gt[dt++]=it,gt[dt++]=Xe,gt[dt++]=rt,gt[dt++]=jt,gt[dt++]=0,gt[dt++]=ft,gt[dt++]=Ge,gt[dt++]=He,gt[dt++]=Ke,st[0]=Math.min(st[0],Xe+this.objectOffset[0]),st[1]=Math.min(st[1],rt+this.objectOffset[1]),st[2]=Math.min(st[2],jt+this.objectOffset[2]),at=Math.min(at,ft),mt[0]=Math.max(mt[0],Xe+this.objectOffset[0]),mt[1]=Math.max(mt[1],rt+this.objectOffset[1]),mt[2]=Math.max(mt[2],jt+this.objectOffset[2]),kt=Math.max(kt,ft),Ct+=1}}for(he.intensityBounds&&(at=+he.intensityBounds[0],kt=+he.intensityBounds[1]),be=6;be<dt;be+=10)gt[be]=(gt[be]-at)/(kt-at);this._vertexCount=Ct,this._coordinateBuffer.update(gt.subarray(0,dt)),s.freeFloat(gt),s.free(Ee.data),this.bounds=[st,mt],this.intensity=he.intensity||this._field[2],this.intensityBounds[0]===at&&this.intensityBounds[1]===kt||(ke=!0),this.intensityBounds=[at,kt]}if("levels"in he){var vt=he.levels;for(vt=Array.isArray(vt[0])?vt.slice():[[],[],vt],be=0;be<3;++be)vt[be]=vt[be].slice(),vt[be].sort(function(gn,hn){return gn-hn});for(be=0;be<3;++be)for(se=0;se<vt[be].length;++se)vt[be][se]-=this.objectOffset[be];e:for(be=0;be<3;++be){if(vt[be].length!==this.contourLevels[be].length){ke=!0;break}for(se=0;se<vt[be].length;++se)if(vt[be][se]!==this.contourLevels[be][se]){ke=!0;break e}}this.contourLevels=vt}if(ke){we=this._field,Te=this.shape;for(var je=[],Ve=0;Ve<3;++Ve){var ut=this.contourLevels[Ve],ct=[],Tt=[],Mt=[0,0,0];for(be=0;be<ut.length;++be){var At=v(this._field[Ve],ut[be]);ct.push(je.length/5|0),Ct=0;e:for(se=0;se<At.cells.length;++se){var bt=At.cells[se];for(Ht=0;Ht<2;++Ht){var Rt=At.positions[bt[Ht]],xt=Rt[0],_t=0|Math.floor(xt),It=xt-_t,Gt=Rt[1],Wt=0|Math.floor(Gt),Zt=Gt-Wt,cn=!1;t:for(var nn=0;nn<3;++nn){Mt[nn]=0;var ln=(Ve+nn+1)%3;for(Ot=0;Ot<2;++Ot){var Qt=Ot?It:1-It;for(nt=0|Math.min(Math.max(_t+Ot,0),Te[0]),Pt=0;Pt<2;++Pt){var kn=Pt?Zt:1-Zt;if(it=0|Math.min(Math.max(Wt+Pt,0),Te[1]),jt=nn<2?this._field[ln].get(nt,it):(this.intensity.get(nt,it)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(jt)||isNaN(jt)){cn=!0;break t}Mt[nn]+=Qt*kn*jt}}}if(cn){if(Ht>0){for(var Tn=0;Tn<5;++Tn)je.pop();Ct-=1}continue e}je.push(Mt[0],Mt[1],Rt[0],Rt[1],Mt[2]),Ct+=1}}Tt.push(Ct)}this._contourOffsets[Ve]=ct,this._contourCounts[Ve]=Tt}var tn=s.mallocFloat(je.length);for(be=0;be<je.length;++be)tn[be]=je[be];this._contourBuffer.update(tn),s.freeFloat(tn)}},H.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var he=0;he<3;++he)s.freeFloat(this._field[he].data)},H.highlight=function(he){var me,ke;if(!he)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(me=0;me<3;++me)this.highlightLevel[me]=this.enableHighlight[me]?he.level[me]:-1;for(ke=this.snapToData?he.dataCoordinate:he.position,me=0;me<3;++me)ke[me]-=this.objectOffset[me];if(this.enableDynamic[0]&&ke[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&ke[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&ke[2]!==this.dynamicLevel[2]){for(var Pe=0,Te=this.shape,be=s.mallocFloat(12*Te[0]*Te[1]),xe=0;xe<3;++xe)if(this.enableDynamic[xe]){this.dynamicLevel[xe]=ke[xe];var pe=this._field[(xe+1)%3],de=this._field[(xe+2)%3],se=v(this._field[xe],ke[xe]),we=se.cells,Re=se.positions;for(this._dynamicOffsets[xe]=Pe,me=0;me<we.length;++me)for(var Ee=we[me],Ue=0;Ue<2;++Ue){var $e=Re[Ee[Ue]],ve=+$e[0],Ie=0|ve,De=0|Math.min(Ie+1,Te[0]),ze=ve-Ie,Ge=1-ze,He=+$e[1],Ke=0|He,et=0|Math.min(Ke+1,Te[1]),st=He-Ke,mt=1-st,at=Ge*mt,kt=Ge*st,St=ze*mt,gt=ze*st,dt=at*pe.get(Ie,Ke)+kt*pe.get(Ie,et)+St*pe.get(De,Ke)+gt*pe.get(De,et),Ct=at*de.get(Ie,Ke)+kt*de.get(Ie,et)+St*de.get(De,Ke)+gt*de.get(De,et);if(isNaN(dt)||isNaN(Ct)){Ue&&(Pe-=1);break}be[2*Pe+0]=dt,be[2*Pe+1]=Ct,Pe+=1}this._dynamicCounts[xe]=Pe-this._dynamicOffsets[xe]}else this.dynamicLevel[xe]=NaN,this._dynamicCounts[xe]=0;this._dynamicBuffer.update(be.subarray(0,2*Pe)),s.freeFloat(be)}}},8931:function(m,l,t){"use strict";var o=t(5050),r=t(7498),n=t(5306);m.exports=function(M){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(a||(a=[(k=M).LINEAR,k.NEAREST_MIPMAP_LINEAR,k.LINEAR_MIPMAP_NEAREST,k.LINEAR_MIPMAP_NEAREST],s=[k.NEAREST,k.LINEAR,k.NEAREST_MIPMAP_NEAREST,k.NEAREST_MIPMAP_LINEAR,k.LINEAR_MIPMAP_NEAREST,k.LINEAR_MIPMAP_LINEAR],c=[k.REPEAT,k.CLAMP_TO_EDGE,k.MIRRORED_REPEAT]),"number"==typeof arguments[1])return b(M,arguments[1],arguments[2],arguments[3]||M.RGBA,arguments[4]||M.UNSIGNED_BYTE);var k;if(Array.isArray(arguments[1]))return b(M,0|arguments[1][0],0|arguments[1][1],arguments[2]||M.RGBA,arguments[3]||M.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var d=arguments[1],E=p(d)?d:d.raw;if(E)return function(k,I,L,P,R,z){var $=x(k);return k.texImage2D(k.TEXTURE_2D,0,R,R,z,I),new v(k,$,L,P,R,z)}(M,E,0|d.width,0|d.height,arguments[2]||M.RGBA,arguments[3]||M.UNSIGNED_BYTE);if(d.shape&&d.data&&d.stride)return function(k,I){var L=I.dtype,P=I.shape.slice(),R=k.getParameter(k.MAX_TEXTURE_SIZE);if(P[0]<0||P[0]>R||P[1]<0||P[1]>R)throw new Error("gl-texture2d: Invalid texture size");var z=_(P,I.stride.slice()),$=0;"float32"===L?$=k.FLOAT:"float64"===L?($=k.FLOAT,z=!1,L="float32"):"uint8"===L?$=k.UNSIGNED_BYTE:($=k.UNSIGNED_BYTE,z=!1,L="uint8");var N,W,H=0;if(2===P.length)H=k.LUMINANCE,I=o(I.data,P=[P[0],P[1],1],[I.stride[0],I.stride[1],1],I.offset);else{if(3!==P.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===P[2])H=k.ALPHA;else if(2===P[2])H=k.LUMINANCE_ALPHA;else if(3===P[2])H=k.RGB;else{if(4!==P[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");H=k.RGBA}}$!==k.FLOAT||k.getExtension("OES_texture_float")||($=k.UNSIGNED_BYTE,z=!1);var U=I.size;if(z)N=0===I.offset&&I.data.length===U?I.data:I.data.subarray(I.offset,I.offset+U);else{var Z=[P[2],P[2]*P[0],1];W=n.malloc(U,L);var Y=o(W,P,Z,0);"float32"!==L&&"float64"!==L||$!==k.UNSIGNED_BYTE?r.assign(Y,I):f(Y,I),N=W.subarray(0,U)}var ae=x(k);return k.texImage2D(k.TEXTURE_2D,0,H,P[0],P[1],0,H,$,N),z||n.free(W),new v(k,ae,P[0],P[1],H,$)}(M,d)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var a=null,s=null,c=null;function p(M){return typeof HTMLCanvasElement<"u"&&M instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&M instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&M instanceof HTMLVideoElement||typeof ImageData<"u"&&M instanceof ImageData}var f=function(M,d){r.muls(M,d,255)};function w(M,d,E){var k=M.gl,I=k.getParameter(k.MAX_TEXTURE_SIZE);if(d<0||d>I||E<0||E>I)throw new Error("gl-texture2d: Invalid texture size");return M._shape=[d,E],M.bind(),k.texImage2D(k.TEXTURE_2D,0,M.format,d,E,0,M.format,M.type,null),M._mipLevels=[0],M}function v(M,d,E,k,I,L){this.gl=M,this.handle=d,this.format=I,this.type=L,this._shape=[E,k],this._mipLevels=[0],this._magFilter=M.NEAREST,this._minFilter=M.NEAREST,this._wrapS=M.CLAMP_TO_EDGE,this._wrapT=M.CLAMP_TO_EDGE,this._anisoSamples=1;var P=this,R=[this._wrapS,this._wrapT];Object.defineProperties(R,[{get:function(){return P._wrapS},set:function($){return P.wrapS=$}},{get:function(){return P._wrapT},set:function($){return P.wrapT=$}}]),this._wrapVector=R;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return P._shape[0]},set:function($){return P.width=$}},{get:function(){return P._shape[1]},set:function($){return P.height=$}}]),this._shapeVector=z}var h=v.prototype;function _(M,d){return 3===M.length?1===d[2]&&d[1]===M[0]*M[2]&&d[0]===M[2]:1===d[0]&&d[1]===M[0]}function x(M){var d=M.createTexture();return M.bindTexture(M.TEXTURE_2D,d),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.CLAMP_TO_EDGE),d}function b(M,d,E,k,I){var L=M.getParameter(M.MAX_TEXTURE_SIZE);if(d<0||d>L||E<0||E>L)throw new Error("gl-texture2d: Invalid texture shape");if(I===M.FLOAT&&!M.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var P=x(M);return M.texImage2D(M.TEXTURE_2D,0,k,d,E,0,k,I,null),new v(M,P,d,E,k,I)}Object.defineProperties(h,{minFilter:{get:function(){return this._minFilter},set:function(M){this.bind();var d=this.gl;if(this.type===d.FLOAT&&a.indexOf(M)>=0&&(d.getExtension("OES_texture_float_linear")||(M=d.NEAREST)),s.indexOf(M)<0)throw new Error("gl-texture2d: Unknown filter mode "+M);return d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,M),this._minFilter=M}},magFilter:{get:function(){return this._magFilter},set:function(M){this.bind();var d=this.gl;if(this.type===d.FLOAT&&a.indexOf(M)>=0&&(d.getExtension("OES_texture_float_linear")||(M=d.NEAREST)),s.indexOf(M)<0)throw new Error("gl-texture2d: Unknown filter mode "+M);return d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,M),this._magFilter=M}},mipSamples:{get:function(){return this._anisoSamples},set:function(M){var d=this._anisoSamples;if(this._anisoSamples=0|Math.max(M,1),d!==this._anisoSamples){var E=this.gl.getExtension("EXT_texture_filter_anisotropic");E&&this.gl.texParameterf(this.gl.TEXTURE_2D,E.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(M){if(this.bind(),c.indexOf(M)<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,M),this._wrapS=M}},wrapT:{get:function(){return this._wrapT},set:function(M){if(this.bind(),c.indexOf(M)<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,M),this._wrapT=M}},wrap:{get:function(){return this._wrapVector},set:function(M){if(Array.isArray(M)||(M=[M,M]),2!==M.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var d=0;d<2;++d)if(c.indexOf(M[d])<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);this._wrapS=M[0],this._wrapT=M[1];var E=this.gl;return this.bind(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,this._wrapS),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,this._wrapT),M}},shape:{get:function(){return this._shapeVector},set:function(M){if(Array.isArray(M)){if(2!==M.length)throw new Error("gl-texture2d: Invalid texture shape")}else M=[0|M,0|M];return w(this,0|M[0],0|M[1]),[0|M[0],0|M[1]]}},width:{get:function(){return this._shape[0]},set:function(M){return w(this,M|=0,this._shape[1]),M}},height:{get:function(){return this._shape[1]},set:function(M){return w(this,this._shape[0],M|=0),M}}}),h.bind=function(M){var d=this.gl;return void 0!==M&&d.activeTexture(d.TEXTURE0+(0|M)),d.bindTexture(d.TEXTURE_2D,this.handle),void 0!==M?0|M:d.getParameter(d.ACTIVE_TEXTURE)-d.TEXTURE0},h.dispose=function(){this.gl.deleteTexture(this.handle)},h.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var M=Math.min(this._shape[0],this._shape[1]),d=0;M>0;++d,M>>>=1)this._mipLevels.indexOf(d)<0&&this._mipLevels.push(d)},h.setPixels=function(M,d,E,k){var I=this.gl;this.bind(),Array.isArray(d)?(k=E,E=0|d[1],d=0|d[0]):(d=d||0,E=E||0),k=k||0;var L=p(M)?M:M.raw;if(L)this._mipLevels.indexOf(k)<0?(I.texImage2D(I.TEXTURE_2D,0,this.format,this.format,this.type,L),this._mipLevels.push(k)):I.texSubImage2D(I.TEXTURE_2D,k,d,E,this.format,this.type,L);else{if(!(M.shape&&M.stride&&M.data))throw new Error("gl-texture2d: Unsupported data type");if(M.shape.length<2||d+M.shape[1]>this._shape[1]>>>k||E+M.shape[0]>this._shape[0]>>>k||d<0||E<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(P,R,z,$,N,W,H,U){var Z=U.dtype,Y=U.shape.slice();if(Y.length<2||Y.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var ae=0,re=0,Q=_(Y,U.stride.slice());if("float32"===Z?ae=P.FLOAT:"float64"===Z?(ae=P.FLOAT,Q=!1,Z="float32"):"uint8"===Z?ae=P.UNSIGNED_BYTE:(ae=P.UNSIGNED_BYTE,Q=!1,Z="uint8"),2===Y.length)re=P.LUMINANCE,U=o(U.data,Y=[Y[0],Y[1],1],[U.stride[0],U.stride[1],1],U.offset);else{if(3!==Y.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===Y[2])re=P.ALPHA;else if(2===Y[2])re=P.LUMINANCE_ALPHA;else if(3===Y[2])re=P.RGB;else{if(4!==Y[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");re=P.RGBA}}if(re!==P.LUMINANCE&&re!==P.ALPHA||N!==P.LUMINANCE&&N!==P.ALPHA||(re=N),re!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var K=U.size,te=H.indexOf($)<0;if(te&&H.push($),ae===W&&Q)0===U.offset&&U.data.length===K?te?P.texImage2D(P.TEXTURE_2D,$,N,Y[0],Y[1],0,N,W,U.data):P.texSubImage2D(P.TEXTURE_2D,$,R,z,Y[0],Y[1],N,W,U.data):te?P.texImage2D(P.TEXTURE_2D,$,N,Y[0],Y[1],0,N,W,U.data.subarray(U.offset,U.offset+K)):P.texSubImage2D(P.TEXTURE_2D,$,R,z,Y[0],Y[1],N,W,U.data.subarray(U.offset,U.offset+K));else{var oe;oe=W===P.FLOAT?n.mallocFloat32(K):n.mallocUint8(K);var ue=o(oe,Y,[Y[2],Y[2]*Y[0],1]);ae===P.FLOAT&&W===P.UNSIGNED_BYTE?f(ue,U):r.assign(ue,U),te?P.texImage2D(P.TEXTURE_2D,$,N,Y[0],Y[1],0,N,W,oe.subarray(0,K)):P.texSubImage2D(P.TEXTURE_2D,$,R,z,Y[0],Y[1],N,W,oe.subarray(0,K)),W===P.FLOAT?n.freeFloat32(oe):n.freeUint8(oe)}}(I,d,E,k,this.format,this.type,this._mipLevels,M)}}},3056:function(m){"use strict";m.exports=function(l,t,o){t?t.bind():l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,null);var r=0|l.getParameter(l.MAX_VERTEX_ATTRIBS);if(o){if(o.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var n=0;n<o.length;++n){var a=o[n];if(a.buffer){var c=a.size||4,p=a.type||l.FLOAT,f=!!a.normalized,w=a.stride||0,v=a.offset||0;a.buffer.bind(),l.enableVertexAttribArray(n),l.vertexAttribPointer(n,c,p,f,w,v)}else{if("number"==typeof a)l.vertexAttrib1f(n,a);else if(1===a.length)l.vertexAttrib1f(n,a[0]);else if(2===a.length)l.vertexAttrib2f(n,a[0],a[1]);else if(3===a.length)l.vertexAttrib3f(n,a[0],a[1],a[2]);else{if(4!==a.length)throw new Error("gl-vao: Invalid vertex attribute");l.vertexAttrib4f(n,a[0],a[1],a[2],a[3])}l.disableVertexAttribArray(n)}}for(;n<r;++n)l.disableVertexAttribArray(n)}else for(l.bindBuffer(l.ARRAY_BUFFER,null),n=0;n<r;++n)l.disableVertexAttribArray(n)}},7220:function(m,l,t){"use strict";var o=t(3056);function r(n){this.gl=n,this._elements=null,this._attributes=null,this._elementsType=n.UNSIGNED_SHORT}r.prototype.bind=function(){o(this.gl,this._elements,this._attributes)},r.prototype.update=function(n,a,s){this._elements=a,this._attributes=n,this._elementsType=s||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(n,a,s){s=s||0;var c=this.gl;this._elements?c.drawElements(n,a,this._elementsType,s):c.drawArrays(n,s,a)},m.exports=function(n){return new r(n)}},3778:function(m,l,t){"use strict";var o=t(3056);function r(a,s,c,p,f,w){this.location=a,this.dimension=s,this.a=c,this.b=p,this.c=f,this.d=w}function n(a,s,c){this.gl=a,this._ext=s,this.handle=c,this._attribs=[],this._useElements=!1,this._elementsType=a.UNSIGNED_SHORT}r.prototype.bind=function(a){switch(this.dimension){case 1:a.vertexAttrib1f(this.location,this.a);break;case 2:a.vertexAttrib2f(this.location,this.a,this.b);break;case 3:a.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:a.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var a=0;a<this._attribs.length;++a)this._attribs[a].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(a,s,c){if(this.bind(),o(this.gl,s,a),this.unbind(),this._attribs.length=0,a)for(var p=0;p<a.length;++p){var f=a[p];"number"==typeof f?this._attribs.push(new r(p,1,f)):Array.isArray(f)&&this._attribs.push(new r(p,f.length,f[0],f[1],f[2],f[3]))}this._useElements=!!s,this._elementsType=c||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(a,s,c){c=c||0;var p=this.gl;this._useElements?p.drawElements(a,s,this._elementsType,c):p.drawArrays(a,c,s)},m.exports=function(a,s){return new n(a,s,s.createVertexArrayOES())}},2944:function(m,l,t){"use strict";var o=t(3778),r=t(7220);function n(a){this.bindVertexArrayOES=a.bindVertexArray.bind(a),this.createVertexArrayOES=a.createVertexArray.bind(a),this.deleteVertexArrayOES=a.deleteVertexArray.bind(a)}m.exports=function(a,s,c,p){var f,w=a.createVertexArray?new n(a):a.getExtension("OES_vertex_array_object");return(f=w?o(a,w):r(a)).update(s,c,p),f}},2598:function(m){m.exports=function(l,t,o){return l[0]=t[0]+o[0],l[1]=t[1]+o[1],l[2]=t[2]+o[2],l}},5879:function(m,l,t){m.exports=function(a,s){var c=o(a[0],a[1],a[2]),p=o(s[0],s[1],s[2]);r(c,c),r(p,p);var f=n(c,p);return f>1?0:Math.acos(f)};var o=t(5415),r=t(899),n=t(9305)},8827:function(m){m.exports=function(l,t){return l[0]=Math.ceil(t[0]),l[1]=Math.ceil(t[1]),l[2]=Math.ceil(t[2]),l}},7622:function(m){m.exports=function(l){var t=new Float32Array(3);return t[0]=l[0],t[1]=l[1],t[2]=l[2],t}},8782:function(m){m.exports=function(l,t){return l[0]=t[0],l[1]=t[1],l[2]=t[2],l}},8501:function(m){m.exports=function(){var l=new Float32Array(3);return l[0]=0,l[1]=0,l[2]=0,l}},903:function(m){m.exports=function(l,t,o){var r=t[0],n=t[1],a=t[2],s=o[0],c=o[1],p=o[2];return l[0]=n*p-a*c,l[1]=a*s-r*p,l[2]=r*c-n*s,l}},5981:function(m,l,t){m.exports=t(8288)},8288:function(m){m.exports=function(l,t){var o=t[0]-l[0],r=t[1]-l[1],n=t[2]-l[2];return Math.sqrt(o*o+r*r+n*n)}},8629:function(m,l,t){m.exports=t(7979)},7979:function(m){m.exports=function(l,t,o){return l[0]=t[0]/o[0],l[1]=t[1]/o[1],l[2]=t[2]/o[2],l}},9305:function(m){m.exports=function(l,t){return l[0]*t[0]+l[1]*t[1]+l[2]*t[2]}},154:function(m){m.exports=1e-6},4932:function(m,l,t){m.exports=function(r,n){var a=r[0],s=r[1],c=r[2],p=n[0],f=n[1],w=n[2];return Math.abs(a-p)<=o*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-f)<=o*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(c-w)<=o*Math.max(1,Math.abs(c),Math.abs(w))};var o=t(154)},5777:function(m){m.exports=function(l,t){return l[0]===t[0]&&l[1]===t[1]&&l[2]===t[2]}},3306:function(m){m.exports=function(l,t){return l[0]=Math.floor(t[0]),l[1]=Math.floor(t[1]),l[2]=Math.floor(t[2]),l}},7447:function(m,l,t){m.exports=function(r,n,a,s,c,p){var f,w;for(n||(n=3),a||(a=0),w=s?Math.min(s*n+a,r.length):r.length,f=a;f<w;f+=n)o[0]=r[f],o[1]=r[f+1],o[2]=r[f+2],c(o,o,p),r[f]=o[0],r[f+1]=o[1],r[f+2]=o[2];return r};var o=t(8501)()},5415:function(m){m.exports=function(l,t,o){var r=new Float32Array(3);return r[0]=l,r[1]=t,r[2]=o,r}},2858:function(m,l,t){m.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(m){m.exports=function(l,t){return l[0]=1/t[0],l[1]=1/t[1],l[2]=1/t[2],l}},1468:function(m,l,t){m.exports=t(4693)},4693:function(m){m.exports=function(l){var t=l[0],o=l[1],r=l[2];return Math.sqrt(t*t+o*o+r*r)}},1868:function(m){m.exports=function(l,t,o,r){var n=t[0],a=t[1],s=t[2];return l[0]=n+r*(o[0]-n),l[1]=a+r*(o[1]-a),l[2]=s+r*(o[2]-s),l}},1716:function(m){m.exports=function(l,t,o){return l[0]=Math.max(t[0],o[0]),l[1]=Math.max(t[1],o[1]),l[2]=Math.max(t[2],o[2]),l}},3605:function(m){m.exports=function(l,t,o){return l[0]=Math.min(t[0],o[0]),l[1]=Math.min(t[1],o[1]),l[2]=Math.min(t[2],o[2]),l}},5733:function(m,l,t){m.exports=t(105)},105:function(m){m.exports=function(l,t,o){return l[0]=t[0]*o[0],l[1]=t[1]*o[1],l[2]=t[2]*o[2],l}},435:function(m){m.exports=function(l,t){return l[0]=-t[0],l[1]=-t[1],l[2]=-t[2],l}},899:function(m){m.exports=function(l,t){var o=t[0],r=t[1],n=t[2],a=o*o+r*r+n*n;return a>0&&(a=1/Math.sqrt(a),l[0]=t[0]*a,l[1]=t[1]*a,l[2]=t[2]*a),l}},6660:function(m){m.exports=function(l,t){t=t||1;var o=2*Math.random()*Math.PI,r=2*Math.random()-1,n=Math.sqrt(1-r*r)*t;return l[0]=Math.cos(o)*n,l[1]=Math.sin(o)*n,l[2]=r*t,l}},392:function(m){m.exports=function(l,t,o,r){var n=o[1],a=o[2],s=t[1]-n,c=t[2]-a,p=Math.sin(r),f=Math.cos(r);return l[0]=t[0],l[1]=n+s*f-c*p,l[2]=a+s*p+c*f,l}},3222:function(m){m.exports=function(l,t,o,r){var n=o[0],a=o[2],s=t[0]-n,c=t[2]-a,p=Math.sin(r),f=Math.cos(r);return l[0]=n+c*p+s*f,l[1]=t[1],l[2]=a+c*f-s*p,l}},3388:function(m){m.exports=function(l,t,o,r){var n=o[0],a=o[1],s=t[0]-n,c=t[1]-a,p=Math.sin(r),f=Math.cos(r);return l[0]=n+s*f-c*p,l[1]=a+s*p+c*f,l[2]=t[2],l}},1624:function(m){m.exports=function(l,t){return l[0]=Math.round(t[0]),l[1]=Math.round(t[1]),l[2]=Math.round(t[2]),l}},5685:function(m){m.exports=function(l,t,o){return l[0]=t[0]*o,l[1]=t[1]*o,l[2]=t[2]*o,l}},6722:function(m){m.exports=function(l,t,o,r){return l[0]=t[0]+o[0]*r,l[1]=t[1]+o[1]*r,l[2]=t[2]+o[2]*r,l}},831:function(m){m.exports=function(l,t,o,r){return l[0]=t,l[1]=o,l[2]=r,l}},5294:function(m,l,t){m.exports=t(6403)},3303:function(m,l,t){m.exports=t(4337)},6403:function(m){m.exports=function(l,t){var o=t[0]-l[0],r=t[1]-l[1],n=t[2]-l[2];return o*o+r*r+n*n}},4337:function(m){m.exports=function(l){var t=l[0],o=l[1],r=l[2];return t*t+o*o+r*r}},8921:function(m,l,t){m.exports=t(911)},911:function(m){m.exports=function(l,t,o){return l[0]=t[0]-o[0],l[1]=t[1]-o[1],l[2]=t[2]-o[2],l}},9908:function(m){m.exports=function(l,t,o){var r=t[0],n=t[1],a=t[2];return l[0]=r*o[0]+n*o[3]+a*o[6],l[1]=r*o[1]+n*o[4]+a*o[7],l[2]=r*o[2]+n*o[5]+a*o[8],l}},3255:function(m){m.exports=function(l,t,o){var r=t[0],n=t[1],a=t[2],s=o[3]*r+o[7]*n+o[11]*a+o[15];return l[0]=(o[0]*r+o[4]*n+o[8]*a+o[12])/(s=s||1),l[1]=(o[1]*r+o[5]*n+o[9]*a+o[13])/s,l[2]=(o[2]*r+o[6]*n+o[10]*a+o[14])/s,l}},6568:function(m){m.exports=function(l,t,o){var r=t[0],n=t[1],a=t[2],s=o[0],c=o[1],p=o[2],f=o[3],w=f*r+c*a-p*n,v=f*n+p*r-s*a,h=f*a+s*n-c*r,_=-s*r-c*n-p*a;return l[0]=w*f+_*-s+v*-p-h*-c,l[1]=v*f+_*-c+h*-s-w*-p,l[2]=h*f+_*-p+w*-c-v*-s,l}},3433:function(m){m.exports=function(l,t,o){return l[0]=t[0]+o[0],l[1]=t[1]+o[1],l[2]=t[2]+o[2],l[3]=t[3]+o[3],l}},1413:function(m){m.exports=function(l){var t=new Float32Array(4);return t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3],t}},3470:function(m){m.exports=function(l,t){return l[0]=t[0],l[1]=t[1],l[2]=t[2],l[3]=t[3],l}},5313:function(m){m.exports=function(){var l=new Float32Array(4);return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l}},5446:function(m){m.exports=function(l,t){var o=t[0]-l[0],r=t[1]-l[1],n=t[2]-l[2],a=t[3]-l[3];return Math.sqrt(o*o+r*r+n*n+a*a)}},205:function(m){m.exports=function(l,t,o){return l[0]=t[0]/o[0],l[1]=t[1]/o[1],l[2]=t[2]/o[2],l[3]=t[3]/o[3],l}},4242:function(m){m.exports=function(l,t){return l[0]*t[0]+l[1]*t[1]+l[2]*t[2]+l[3]*t[3]}},5680:function(m){m.exports=function(l,t,o,r){var n=new Float32Array(4);return n[0]=l,n[1]=t,n[2]=o,n[3]=r,n}},4020:function(m,l,t){m.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(m){m.exports=function(l,t){return l[0]=1/t[0],l[1]=1/t[1],l[2]=1/t[2],l[3]=1/t[3],l}},8177:function(m){m.exports=function(l){var t=l[0],o=l[1],r=l[2],n=l[3];return Math.sqrt(t*t+o*o+r*r+n*n)}},8746:function(m){m.exports=function(l,t,o,r){var n=t[0],a=t[1],s=t[2],c=t[3];return l[0]=n+r*(o[0]-n),l[1]=a+r*(o[1]-a),l[2]=s+r*(o[2]-s),l[3]=c+r*(o[3]-c),l}},3030:function(m){m.exports=function(l,t,o){return l[0]=Math.max(t[0],o[0]),l[1]=Math.max(t[1],o[1]),l[2]=Math.max(t[2],o[2]),l[3]=Math.max(t[3],o[3]),l}},2170:function(m){m.exports=function(l,t,o){return l[0]=Math.min(t[0],o[0]),l[1]=Math.min(t[1],o[1]),l[2]=Math.min(t[2],o[2]),l[3]=Math.min(t[3],o[3]),l}},746:function(m){m.exports=function(l,t,o){return l[0]=t[0]*o[0],l[1]=t[1]*o[1],l[2]=t[2]*o[2],l[3]=t[3]*o[3],l}},6459:function(m){m.exports=function(l,t){return l[0]=-t[0],l[1]=-t[1],l[2]=-t[2],l[3]=-t[3],l}},381:function(m){m.exports=function(l,t){var o=t[0],r=t[1],n=t[2],a=t[3],s=o*o+r*r+n*n+a*a;return s>0&&(s=1/Math.sqrt(s),l[0]=o*s,l[1]=r*s,l[2]=n*s,l[3]=a*s),l}},3770:function(m,l,t){var o=t(381),r=t(5510);m.exports=function(n,a){return a=a||1,n[0]=Math.random(),n[1]=Math.random(),n[2]=Math.random(),n[3]=Math.random(),o(n,n),r(n,n,a),n}},5510:function(m){m.exports=function(l,t,o){return l[0]=t[0]*o,l[1]=t[1]*o,l[2]=t[2]*o,l[3]=t[3]*o,l}},4224:function(m){m.exports=function(l,t,o,r){return l[0]=t[0]+o[0]*r,l[1]=t[1]+o[1]*r,l[2]=t[2]+o[2]*r,l[3]=t[3]+o[3]*r,l}},6453:function(m){m.exports=function(l,t,o,r,n){return l[0]=t,l[1]=o,l[2]=r,l[3]=n,l}},1542:function(m){m.exports=function(l,t){var o=t[0]-l[0],r=t[1]-l[1],n=t[2]-l[2],a=t[3]-l[3];return o*o+r*r+n*n+a*a}},9037:function(m){m.exports=function(l){var t=l[0],o=l[1],r=l[2],n=l[3];return t*t+o*o+r*r+n*n}},2705:function(m){m.exports=function(l,t,o){return l[0]=t[0]-o[0],l[1]=t[1]-o[1],l[2]=t[2]-o[2],l[3]=t[3]-o[3],l}},6342:function(m){m.exports=function(l,t,o){var r=t[0],n=t[1],a=t[2],s=t[3];return l[0]=o[0]*r+o[4]*n+o[8]*a+o[12]*s,l[1]=o[1]*r+o[5]*n+o[9]*a+o[13]*s,l[2]=o[2]*r+o[6]*n+o[10]*a+o[14]*s,l[3]=o[3]*r+o[7]*n+o[11]*a+o[15]*s,l}},5022:function(m){m.exports=function(l,t,o){var r=t[0],n=t[1],a=t[2],s=o[0],c=o[1],p=o[2],f=o[3],w=f*r+c*a-p*n,v=f*n+p*r-s*a,h=f*a+s*n-c*r,_=-s*r-c*n-p*a;return l[0]=w*f+_*-s+v*-p-h*-c,l[1]=v*f+_*-c+h*-s-w*-p,l[2]=h*f+_*-p+w*-c-v*-s,l[3]=t[3],l}},9365:function(m,l,t){var o=t(8096),r=t(7896);m.exports=function(n){for(var a=Array.isArray(n)?n:o(n),s=0;s<a.length;s++){var c=a[s];if("preprocessor"===c.type){var p=c.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(p&&p[2]){var w=p[2];return(p[1]?r(w):w).trim()}}}}},3193:function(m,l,t){m.exports=function(P){var R,z,$,N=0,W=0,H=c,U=[],Z=[],Y=1,ae=0,re=0,Q=!1,K=!1,te="",oe=n,ue=o;"300 es"===(P=P||{}).version&&(oe=s,ue=a);var fe={},he={};for(N=0;N<oe.length;N++)fe[oe[N]]=!0;for(N=0;N<ue.length;N++)he[ue[N]]=!0;return function(se){return Z=[],null!==se?function(we){var Re;for(N=0,we.toString&&(we=we.toString()),te+=we.replace(/\r\n/g,"\n"),$=te.length;R=te[N],N<$;){switch(Re=N,H){case f:N="/"===R&&"*"===z?(U.push(R),me(U.join("")),H=c,N+1):(U.push(R),z=R,N+1);break;case w:case v:N="\r"!==R&&"\n"!==R||"\\"===z?(U.push(R),z=R,N+1):(me(U.join("")),H=c,N);break;case h:N=xe();break;case _:N="."===R||/[eE]/.test(R)?(U.push(R),H=x,z=R,N+1):"x"===R&&1===U.length&&"0"===U[0]?(H=I,U.push(R),z=R,N+1):/[^\d]/.test(R)?(me(U.join("")),H=c,N):(U.push(R),z=R,N+1);break;case I:N=/[^a-fA-F0-9]/.test(R)?(me(U.join("")),H=c,N):(U.push(R),z=R,N+1);break;case x:"f"===R&&(U.push(R),z=R,N+=1),N=/[eE]/.test(R)?(U.push(R),z=R,N+1):("-"!==R&&"+"!==R||!/[eE]/.test(z))&&/[^\d]/.test(R)?(me(U.join("")),H=c,N):(U.push(R),z=R,N+1);break;case p:N=de();break;case E:N=/[^\s]/g.test(R)?(me(U.join("")),H=c,N):(U.push(R),z=R,N+1);break;case c:U=U.length?[]:U,N="/"===z&&"*"===R?(re=W+N-1,H=f,z=R,N+1):"/"===z&&"/"===R?(re=W+N-1,H=w,z=R,N+1):"#"===R?(H=v,re=W+N,N):/\s/.test(R)?(H=E,re=W+N,N):(Q=/\d/.test(R),K=/[^\w_]/.test(R),re=W+N,H=Q?_:K?h:p,N)}Re!==N&&("\n"===te[Re]?(ae=0,++Y):++ae)}return W+=N,te=te.slice(N),Z}(se):(U.length&&me(U.join("")),H=k,me("(eof)"),Z)};function me(se){se.length&&Z.push({type:L[H],data:se,position:re,line:Y,column:ae})}function xe(){if("."===z&&/\d/.test(R))return H=x,N;if("/"===z&&"*"===R)return H=f,N;if("/"===z&&"/"===R)return H=w,N;if("."===R&&U.length){for(;Ne(U););return H=x,N}if(";"===R||")"===R||"("===R){if(U.length)for(;Ne(U););return me(R),H=c,N+1}var se=2===U.length&&"="!==R;if(/[\w_\d\s]/.test(R)||se){for(;Ne(U););return H=c,N}return U.push(R),z=R,N+1}function Ne(se){for(var we,Re,Ee=0;;){if(we=r.indexOf(se.slice(0,se.length+Ee).join("")),Re=r[we],-1===we){if(Ee--+se.length>0)continue;Re=se.slice(0,1).join("")}return me(Re),re+=Re.length,(U=U.slice(Re.length)).length}}function de(){if(/[^\d\w_]/.test(R)){var se=U.join("");return H=he[se]?d:fe[se]?M:b,me(U.join("")),H=c,N}return U.push(R),z=R,N+1}};var o=t(399),r=t(9746),n=t(9525),a=t(9458),s=t(3585),c=999,p=9999,f=0,w=1,v=2,h=3,_=4,x=5,b=6,M=7,d=8,E=9,k=10,I=11,L=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(m,l,t){var o=t(9525);o=o.slice().filter(function(r){return!/^(gl\_|texture)/.test(r)}),m.exports=o.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(m){m.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(m,l,t){var o=t(399);m.exports=o.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(m){m.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(m){m.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(m,l,t){var o=t(3193);m.exports=function(r,n){var a=o(n),s=[];return(s=s.concat(a(r))).concat(a(null))}},6832:function(m){m.exports=function(l){"string"==typeof l&&(l=[l]);for(var t=[].slice.call(arguments,1),o=[],r=0;r<l.length-1;r++)o.push(l[r],t[r]||"");return o.push(l[r]),o.join("")}},5233:function(m,l,t){"use strict";var o=t(4846);m.exports=o&&function(){var r=!1;try{var n=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{r=!1}return r}()},2183:function(m,l,t){"use strict";m.exports=function(w,v){var h=w.length;if(0===h)throw new Error("Must have at least d+1 points");var _=w[0].length;if(h<=_)throw new Error("Must input at least d+1 points");var x=w.slice(0,_+1),b=o.apply(void 0,x);if(0===b)throw new Error("Input not in general position");for(var M=new Array(_+1),d=0;d<=_;++d)M[d]=d;b<0&&(M[0]=1,M[1]=0);var E=new n(M,new Array(_+1),!1),k=E.adjacent,I=new Array(_+2);for(d=0;d<=_;++d){for(var L=M.slice(),P=0;P<=_;++P)P===d&&(L[P]=-1);var R=L[0];L[0]=L[1],L[1]=R;var z=new n(L,new Array(_+1),!0);k[d]=z,I[d]=z}for(I[_+1]=E,d=0;d<=_;++d){L=k[d].vertices;var $=k[d].adjacent;for(P=0;P<=_;++P){var N=L[P];if(N<0)$[P]=E;else for(var W=0;W<=_;++W)k[W].vertices.indexOf(N)<0&&($[P]=k[W])}}var H=new p(_,x,I),U=!!v;for(d=_+1;d<h;++d)H.insert(w[d],U);return H.boundary()};var o=t(417),r=t(8211).H;function n(w,v,h){this.vertices=w,this.adjacent=v,this.boundary=h,this.lastVisited=-1}function a(w,v,h){this.vertices=w,this.cell=v,this.index=h}function s(w,v){return r(w.vertices,v.vertices)}n.prototype.flip=function(){var w=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=w;var v=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=v};var c=[];function p(w,v,h){this.dimension=w,this.vertices=v,this.simplices=h,this.interior=h.filter(function(M){return!M.boundary}),this.tuple=new Array(w+1);for(var _=0;_<=w;++_)this.tuple[_]=this.vertices[_];var x,M,b=c[w];b||(b=c[w]=((x=o[w+1])||(x=o),M=x,function(){return M.apply(this,this.tuple)})),this.orient=b}var f=p.prototype;f.handleBoundaryDegeneracy=function(w,v){var h=this.dimension,_=this.vertices.length-1,x=this.tuple,b=this.vertices,M=[w];for(w.lastVisited=-_;M.length>0;)for(var d=(w=M.pop()).adjacent,E=0;E<=h;++E){var k=d[E];if(k.boundary&&!(k.lastVisited<=-_)){for(var I=k.vertices,L=0;L<=h;++L){var P=I[L];x[L]=P<0?v:b[P]}var R=this.orient();if(R>0)return k;k.lastVisited=-_,0===R&&M.push(k)}}return null},f.walk=function(w,v){var h=this.vertices.length-1,_=this.dimension,x=this.vertices,b=this.tuple,M=v?this.interior.length*Math.random()|0:this.interior.length-1,d=this.interior[M];e:for(;!d.boundary;){for(var E=d.vertices,k=d.adjacent,I=0;I<=_;++I)b[I]=x[E[I]];for(d.lastVisited=h,I=0;I<=_;++I){var L=k[I];if(!(L.lastVisited>=h)){var P=b[I];b[I]=w;var R=this.orient();if(b[I]=P,R<0){d=L;continue e}L.lastVisited=L.boundary?-h:h}}return}return d},f.addPeaks=function(w,v){var h=this.vertices.length-1,_=this.dimension,x=this.vertices,b=this.tuple,M=this.interior,d=this.simplices,E=[v];v.lastVisited=h,v.vertices[v.vertices.indexOf(-1)]=h,v.boundary=!1,M.push(v);for(var k=[];E.length>0;){var I=(v=E.pop()).vertices,L=v.adjacent,P=I.indexOf(h);if(!(P<0))for(var R=0;R<=_;++R)if(R!==P){var z=L[R];if(z.boundary&&!(z.lastVisited>=h)){var $=z.vertices;if(z.lastVisited!==-h){for(var N=0,W=0;W<=_;++W)$[W]<0?(N=W,b[W]=w):b[W]=x[$[W]];if(this.orient()>0){$[N]=h,z.boundary=!1,M.push(z),E.push(z),z.lastVisited=h;continue}z.lastVisited=-h}var H=z.adjacent,U=I.slice(),Z=L.slice(),Y=new n(U,Z,!0);d.push(Y);var ae=H.indexOf(v);if(!(ae<0))for(H[ae]=Y,Z[P]=z,U[R]=-1,Z[R]=v,L[R]=Y,Y.flip(),W=0;W<=_;++W){var re=U[W];if(!(re<0||re===h)){for(var Q=new Array(_-1),K=0,te=0;te<=_;++te){var oe=U[te];oe<0||te===W||(Q[K++]=oe)}k.push(new a(Q,Y,W))}}}}}for(k.sort(s),R=0;R+1<k.length;R+=2){var ue=k[R],fe=k[R+1];ue.index<0||fe.index<0||(ue.cell.adjacent[ue.index]=fe.cell,fe.cell.adjacent[fe.index]=ue.cell)}},f.insert=function(w,v){var h=this.vertices;h.push(w);var _=this.walk(w,v);if(_){for(var x=this.dimension,b=this.tuple,M=0;M<=x;++M){var d=_.vertices[M];b[M]=d<0?w:h[d]}var E=this.orient(b);E<0||(0!==E||(_=this.handleBoundaryDegeneracy(_,w)))&&this.addPeaks(w,_)}},f.boundary=function(){for(var w=this.dimension,v=[],h=this.simplices,_=h.length,x=0;x<_;++x){var b=h[x];if(b.boundary){for(var M=new Array(w),d=b.vertices,E=0,k=0,I=0;I<=w;++I)d[I]>=0?M[E++]=d[I]:k=1&I;if(k===(1&w)){var L=M[0];M[0]=M[1],M[1]=L}v.push(M)}}return v}},9014:function(m,l,t){"use strict";var o=t(5070);function r(E,k,I,L,P){this.mid=E,this.left=k,this.right=I,this.leftPoints=L,this.rightPoints=P,this.count=(k?k.count:0)+(I?I.count:0)+L.length}m.exports=function(E){return new M(E&&0!==E.length?b(E):null)};var n=r.prototype;function a(E,k){E.mid=k.mid,E.left=k.left,E.right=k.right,E.leftPoints=k.leftPoints,E.rightPoints=k.rightPoints,E.count=k.count}function s(E,k){var I=b(k);E.mid=I.mid,E.left=I.left,E.right=I.right,E.leftPoints=I.leftPoints,E.rightPoints=I.rightPoints,E.count=I.count}function c(E,k){var I=E.intervals([]);I.push(k),s(E,I)}function p(E,k){var I=E.intervals([]),L=I.indexOf(k);return L<0?0:(I.splice(L,1),s(E,I),1)}function f(E,k,I){for(var L=0;L<E.length&&E[L][0]<=k;++L){var P=I(E[L]);if(P)return P}}function w(E,k,I){for(var L=E.length-1;L>=0&&E[L][1]>=k;--L){var P=I(E[L]);if(P)return P}}function v(E,k){for(var I=0;I<E.length;++I){var L=k(E[I]);if(L)return L}}function h(E,k){return E-k}function _(E,k){return E[0]-k[0]||E[1]-k[1]}function x(E,k){return E[1]-k[1]||E[0]-k[0]}function b(E){if(0===E.length)return null;for(var k=[],I=0;I<E.length;++I)k.push(E[I][0],E[I][1]);k.sort(h);var L=k[k.length>>1],P=[],R=[],z=[];for(I=0;I<E.length;++I){var $=E[I];$[1]<L?P.push($):L<$[0]?R.push($):z.push($)}var N=z,W=z.slice();return N.sort(_),W.sort(x),new r(L,b(P),b(R),N,W)}function M(E){this.root=E}n.intervals=function(E){return E.push.apply(E,this.leftPoints),this.left&&this.left.intervals(E),this.right&&this.right.intervals(E),E},n.insert=function(E){var k=this.count-this.leftPoints.length;if(this.count+=1,E[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?c(this,E):this.left.insert(E):this.left=b([E]);else if(E[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?c(this,E):this.right.insert(E):this.right=b([E]);else{var I=o.ge(this.leftPoints,E,_),L=o.ge(this.rightPoints,E,x);this.leftPoints.splice(I,0,E),this.rightPoints.splice(L,0,E)}},n.remove=function(E){var k=this.count-this.leftPoints;if(E[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(k-1)?p(this,E):2===(R=this.left.remove(E))?(this.left=null,this.count-=1,1):(1===R&&(this.count-=1),R):0;if(E[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(k-1)?p(this,E):2===(R=this.right.remove(E))?(this.right=null,this.count-=1,1):(1===R&&(this.count-=1),R):0;if(1===this.count)return this.leftPoints[0]===E?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===E){if(this.left&&this.right){for(var I=this,L=this.left;L.right;)I=L,L=L.right;if(I===this)L.right=this.right;else{var P=this.left,R=this.right;I.count-=L.count,I.right=L.left,L.left=P,L.right=R}a(this,L),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else a(this,this.left?this.left:this.right);return 1}for(P=o.ge(this.leftPoints,E,_);P<this.leftPoints.length&&this.leftPoints[P][0]===E[0];++P)if(this.leftPoints[P]===E)for(this.count-=1,this.leftPoints.splice(P,1),R=o.ge(this.rightPoints,E,x);R<this.rightPoints.length&&this.rightPoints[R][1]===E[1];++R)if(this.rightPoints[R]===E)return this.rightPoints.splice(R,1),1;return 0},n.queryPoint=function(E,k){return E<this.mid?this.left&&(I=this.left.queryPoint(E,k))?I:f(this.leftPoints,E,k):E>this.mid?this.right&&(I=this.right.queryPoint(E,k))?I:w(this.rightPoints,E,k):v(this.leftPoints,k);var I},n.queryInterval=function(E,k,I){var L;return E<this.mid&&this.left&&(L=this.left.queryInterval(E,k,I))||k>this.mid&&this.right&&(L=this.right.queryInterval(E,k,I))?L:k<this.mid?f(this.leftPoints,k,I):E>this.mid?w(this.rightPoints,E,I):v(this.leftPoints,I)};var d=M.prototype;d.insert=function(E){this.root?this.root.insert(E):this.root=new r(E[0],null,null,[E],[E])},d.remove=function(E){if(this.root){var k=this.root.remove(E);return 2===k&&(this.root=null),0!==k}return!1},d.queryPoint=function(E,k){if(this.root)return this.root.queryPoint(E,k)},d.queryInterval=function(E,k,I){if(E<=k&&this.root)return this.root.queryInterval(E,k,I)},Object.defineProperty(d,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(d,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(m){"use strict";m.exports=function(l){for(var t=new Array(l),o=0;o<l;++o)t[o]=o;return t}},4846:function(m){m.exports=!0},4780:function(m){function l(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}m.exports=function(t){return null!=t&&(l(t)||"function"==typeof(o=t).readFloatLE&&"function"==typeof o.slice&&l(o.slice(0,0))||!!t._isBuffer);var o}},3596:function(m){"use strict";m.exports=function(l){for(var t,o=l.length,r=0;r<o;r++)if(((t=l.charCodeAt(r))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}},3578:function(m){m.exports=function(l,t,o){return l*(1-o)+t*o}},7191:function(m,l,t){var o=t(4690),r=t(9823),n=t(7332),a=t(7787),s=t(7437),c=t(2142),p={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},f=r(),w=r(),v=[0,0,0,0],h=[[0,0,0],[0,0,0],[0,0,0]],_=[0,0,0];function x(b,M,d,E,k){b[0]=M[0]*E+d[0]*k,b[1]=M[1]*E+d[1]*k,b[2]=M[2]*E+d[2]*k}m.exports=function(b,M,d,E,k,I){if(M||(M=[0,0,0]),d||(d=[0,0,0]),E||(E=[0,0,0]),k||(k=[0,0,0,1]),I||(I=[0,0,0,1]),!o(f,b)||(n(w,f),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(a(w)<1e-8)))return!1;var L,P,R,z,$,N,W,te,oe,H=f[3],U=f[7],Z=f[11],Y=f[12],ae=f[13],re=f[14],Q=f[15];if(0!==H||0!==U||0!==Z){if(v[0]=H,v[1]=U,v[2]=Z,v[3]=Q,!s(w,w))return!1;c(w,w),z=(P=v)[0],(L=k)[0]=(R=w)[0]*z+R[4]*($=P[1])+R[8]*(N=P[2])+R[12]*(W=P[3]),L[1]=R[1]*z+R[5]*$+R[9]*N+R[13]*W,L[2]=R[2]*z+R[6]*$+R[10]*N+R[14]*W,L[3]=R[3]*z+R[7]*$+R[11]*N+R[15]*W}else k[0]=k[1]=k[2]=0,k[3]=1;if(M[0]=Y,M[1]=ae,M[2]=re,(te=h)[0][0]=(oe=f)[0],te[0][1]=oe[1],te[0][2]=oe[2],te[1][0]=oe[4],te[1][1]=oe[5],te[1][2]=oe[6],te[2][0]=oe[8],te[2][1]=oe[9],te[2][2]=oe[10],d[0]=p.length(h[0]),p.normalize(h[0],h[0]),E[0]=p.dot(h[0],h[1]),x(h[1],h[1],h[0],1,-E[0]),d[1]=p.length(h[1]),p.normalize(h[1],h[1]),E[0]/=d[1],E[1]=p.dot(h[0],h[2]),x(h[2],h[2],h[0],1,-E[1]),E[2]=p.dot(h[1],h[2]),x(h[2],h[2],h[1],1,-E[2]),d[2]=p.length(h[2]),p.normalize(h[2],h[2]),E[1]/=d[2],E[2]/=d[2],p.cross(_,h[1],h[2]),p.dot(h[0],_)<0)for(var K=0;K<3;K++)d[K]*=-1,h[K][0]*=-1,h[K][1]*=-1,h[K][2]*=-1;return I[0]=.5*Math.sqrt(Math.max(1+h[0][0]-h[1][1]-h[2][2],0)),I[1]=.5*Math.sqrt(Math.max(1-h[0][0]+h[1][1]-h[2][2],0)),I[2]=.5*Math.sqrt(Math.max(1-h[0][0]-h[1][1]+h[2][2],0)),I[3]=.5*Math.sqrt(Math.max(1+h[0][0]+h[1][1]+h[2][2],0)),h[2][1]>h[1][2]&&(I[0]=-I[0]),h[0][2]>h[2][0]&&(I[1]=-I[1]),h[1][0]>h[0][1]&&(I[2]=-I[2]),!0}},4690:function(m){m.exports=function(l,t){var o=t[15];if(0===o)return!1;for(var r=1/o,n=0;n<16;n++)l[n]=t[n]*r;return!0}},7649:function(m,l,t){var o=t(1868),r=t(1102),n=t(7191),a=t(7787),s=t(1116),c=w(),p=w(),f=w();function w(){return{translate:v(),scale:v(1),skew:v(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function v(h){return[h||0,h||0,h||0]}m.exports=function(h,_,x,b){if(0===a(_)||0===a(x))return!1;var M=n(_,c.translate,c.scale,c.skew,c.perspective,c.quaternion),d=n(x,p.translate,p.scale,p.skew,p.perspective,p.quaternion);return!(!M||!d||(o(f.translate,c.translate,p.translate,b),o(f.skew,c.skew,p.skew,b),o(f.scale,c.scale,p.scale,b),o(f.perspective,c.perspective,p.perspective,b),s(f.quaternion,c.quaternion,p.quaternion,b),r(h,f.translate,f.scale,f.skew,f.perspective,f.quaternion),0))}},1102:function(m,l,t){var o={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)},r=(o.create(),o.create());m.exports=function(n,a,s,c,p,f){return o.identity(n),o.fromRotationTranslation(n,f,a),n[3]=p[0],n[7]=p[1],n[11]=p[2],n[15]=p[3],o.identity(r),0!==c[2]&&(r[9]=c[2],o.multiply(n,n,r)),0!==c[1]&&(r[9]=0,r[8]=c[1],o.multiply(n,n,r)),0!==c[0]&&(r[8]=0,r[4]=c[0],o.multiply(n,n,r)),o.scale(n,n,s),n}},9298:function(m,l,t){"use strict";var o=t(5070),r=t(7649),n=t(7437),a=t(6109),s=t(7115),c=t(5240),p=t(3012),f=t(998),w=(t(3668),t(899)),v=[0,0,0];function h(b){this._components=b.slice(),this._time=[0],this.prevMatrix=b.slice(),this.nextMatrix=b.slice(),this.computedMatrix=b.slice(),this.computedInverse=b.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}m.exports=function(b){return new h((b=b||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var _=h.prototype;_.recalcMatrix=function(b){var M=this._time,d=o.le(M,b),E=this.computedMatrix;if(!(d<0)){var k=this._components;if(d===M.length-1)for(var I=16*d,L=0;L<16;++L)E[L]=k[I++];else{var P=M[d+1]-M[d],R=(I=16*d,this.prevMatrix),z=!0;for(L=0;L<16;++L)R[L]=k[I++];var $=this.nextMatrix;for(L=0;L<16;++L)$[L]=k[I++],z=z&&R[L]===$[L];if(P<1e-6||z)for(L=0;L<16;++L)E[L]=R[L];else r(E,R,$,(b-M[d])/P)}var N=this.computedUp;N[0]=E[1],N[1]=E[5],N[2]=E[9],w(N,N);var W=this.computedInverse;n(W,E);var H=this.computedEye,U=W[15];H[0]=W[12]/U,H[1]=W[13]/U,H[2]=W[14]/U;var Z=this.computedCenter,Y=Math.exp(this.computedRadius[0]);for(L=0;L<3;++L)Z[L]=H[L]-E[2+4*L]*Y}},_.idle=function(b){if(!(b<this.lastT())){for(var M=this._components,d=M.length-16,E=0;E<16;++E)M.push(M[d++]);this._time.push(b)}},_.flush=function(b){var M=o.gt(this._time,b)-2;M<0||(this._time.splice(0,M),this._components.splice(0,16*M))},_.lastT=function(){return this._time[this._time.length-1]},_.lookAt=function(b,M,d,E){this.recalcMatrix(b),this.setMatrix(b,p(this.computedMatrix,M=M||this.computedEye,d=d||v,E=E||this.computedUp));for(var k=0,I=0;I<3;++I)k+=Math.pow(d[I]-M[I],2);k=Math.log(Math.sqrt(k)),this.computedRadius[0]=k},_.rotate=function(b,M,d,E){this.recalcMatrix(b);var k=this.computedInverse;M&&s(k,k,M),d&&a(k,k,d),E&&c(k,k,E),this.setMatrix(b,n(this.computedMatrix,k))};var x=[0,0,0];_.pan=function(b,M,d,E){x[0]=-(M||0),x[1]=-(d||0),x[2]=-(E||0),this.recalcMatrix(b);var k=this.computedInverse;f(k,k,x),this.setMatrix(b,n(k,k))},_.translate=function(b,M,d,E){x[0]=M||0,x[1]=d||0,x[2]=E||0,this.recalcMatrix(b);var k=this.computedMatrix;f(k,k,x),this.setMatrix(b,k)},_.setMatrix=function(b,M){if(!(b<this.lastT())){this._time.push(b);for(var d=0;d<16;++d)this._components.push(M[d])}},_.setDistance=function(b,M){this.computedRadius[0]=M},_.setDistanceLimits=function(b,M){var d=this._limits;d[0]=b,d[1]=M},_.getDistanceLimits=function(b){var M=this._limits;return b?(b[0]=M[0],b[1]=M[1],b):M}},3266:function(m,l,t){"use strict";m.exports=function(r){var n=r.length;if(n<3){for(var a=new Array(n),s=0;s<n;++s)a[s]=s;return 2===n&&r[0][0]===r[1][0]&&r[0][1]===r[1][1]?[0]:a}var c=new Array(n);for(s=0;s<n;++s)c[s]=s;c.sort(function(M,d){return r[M][0]-r[d][0]||r[M][1]-r[d][1]});var p=[c[0],c[1]],f=[c[0],c[1]];for(s=2;s<n;++s){for(var w=c[s],v=r[w],h=p.length;h>1&&o(r[p[h-2]],r[p[h-1]],v)<=0;)h-=1,p.pop();for(p.push(w),h=f.length;h>1&&o(r[f[h-2]],r[f[h-1]],v)>=0;)h-=1,f.pop();f.push(w)}a=new Array(f.length+p.length-2);for(var _=0,x=(s=0,p.length);s<x;++s)a[_++]=p[s];for(var b=f.length-2;b>0;--b)a[_++]=f[b];return a};var o=t(417)[3]},6145:function(m,l,t){"use strict";m.exports=function(r,n){n||(n=r,r=window);var a=0,s=0,c=0,p={shift:!1,alt:!1,control:!1,meta:!1},f=!1;function w(I){var L=!1;return"altKey"in I&&(L=L||I.altKey!==p.alt,p.alt=!!I.altKey),"shiftKey"in I&&(L=L||I.shiftKey!==p.shift,p.shift=!!I.shiftKey),"ctrlKey"in I&&(L=L||I.ctrlKey!==p.control,p.control=!!I.ctrlKey),"metaKey"in I&&(L=L||I.metaKey!==p.meta,p.meta=!!I.metaKey),L}function v(I,L){var P=o.x(L),R=o.y(L);"buttons"in L&&(I=0|L.buttons),(I!==a||P!==s||R!==c||w(L))&&(a=0|I,s=P||0,c=R||0,n&&n(a,s,c,p))}function h(I){v(0,I)}function _(){(a||s||c||p.shift||p.alt||p.meta||p.control)&&(s=c=0,a=0,p.shift=p.alt=p.control=p.meta=!1,n&&n(0,0,0,p))}function x(I){w(I)&&n&&n(a,s,c,p)}function b(I){0===o.buttons(I)?v(0,I):v(a,I)}function M(I){v(a|o.buttons(I),I)}function d(I){v(a&~o.buttons(I),I)}function E(){f||(f=!0,r.addEventListener("mousemove",b),r.addEventListener("mousedown",M),r.addEventListener("mouseup",d),r.addEventListener("mouseleave",h),r.addEventListener("mouseenter",h),r.addEventListener("mouseout",h),r.addEventListener("mouseover",h),r.addEventListener("blur",_),r.addEventListener("keyup",x),r.addEventListener("keydown",x),r.addEventListener("keypress",x),r!==window&&(window.addEventListener("blur",_),window.addEventListener("keyup",x),window.addEventListener("keydown",x),window.addEventListener("keypress",x)))}E();var k={element:r};return Object.defineProperties(k,{enabled:{get:function(){return f},set:function(I){I?E():f&&(f=!1,r.removeEventListener("mousemove",b),r.removeEventListener("mousedown",M),r.removeEventListener("mouseup",d),r.removeEventListener("mouseleave",h),r.removeEventListener("mouseenter",h),r.removeEventListener("mouseout",h),r.removeEventListener("mouseover",h),r.removeEventListener("blur",_),r.removeEventListener("keyup",x),r.removeEventListener("keydown",x),r.removeEventListener("keypress",x),r!==window&&(window.removeEventListener("blur",_),window.removeEventListener("keyup",x),window.removeEventListener("keydown",x),window.removeEventListener("keypress",x)))},enumerable:!0},buttons:{get:function(){return a},enumerable:!0},x:{get:function(){return s},enumerable:!0},y:{get:function(){return c},enumerable:!0},mods:{get:function(){return p},enumerable:!0}}),k};var o=t(4110)},2565:function(m){var l={left:0,top:0};m.exports=function(t,o,r){o=o||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var n,a=t.clientX||0,s=t.clientY||0,c=(n=o)===window||n===document||n===document.body?l:n.getBoundingClientRect();return r[0]=a-c.left,r[1]=s-c.top,r}},4110:function(m,l){"use strict";function t(o){return o.target||o.srcElement||window}l.buttons=function(o){if("object"==typeof o){if("buttons"in o)return o.buttons;if("which"in o){if(2===(r=o.which))return 4;if(3===r)return 2;if(r>0)return 1<<r-1}else if("button"in o){var r;if(1===(r=o.button))return 4;if(2===r)return 2;if(r>=0)return 1<<r}}return 0},l.element=t,l.x=function(o){if("object"==typeof o){if("offsetX"in o)return o.offsetX;var r=t(o).getBoundingClientRect();return o.clientX-r.left}return 0},l.y=function(o){if("object"==typeof o){if("offsetY"in o)return o.offsetY;var r=t(o).getBoundingClientRect();return o.clientY-r.top}return 0}},6475:function(m,l,t){"use strict";var o=t(14);m.exports=function(r,n,a){"function"==typeof r&&(a=!!n,n=r,r=window);var s=o("ex",r),c=function(p){a&&p.preventDefault();var f=p.deltaX||0,w=p.deltaY||0,v=p.deltaZ||0,h=1;switch(p.deltaMode){case 1:h=s;break;case 2:h=window.innerHeight}if(w*=h,v*=h,(f*=h)||w||v)return n(f,w,v,p)};return r.addEventListener("wheel",c),c}},9284:function(m,l,t){"use strict";var o=t(5306);m.exports=function(n){function a(v){throw new Error("ndarray-extract-contour: "+v)}"object"!=typeof n&&a("Must specify arguments");var s=n.order;Array.isArray(s)||a("Must specify order");var v,h,_,d,c=n.arrayArguments||1;c<1&&a("Must have at least one array argument"),(n.scalarArguments||0)<0&&a("Scalar arg count must be > 0"),"function"!=typeof n.vertex&&a("Must specify vertex creation function"),"function"!=typeof n.cell&&a("Must specify cell creation function"),"function"!=typeof n.phase&&a("Must specify phase function");for(var p=n.getters||[],f=new Array(c),w=0;w<c;++w)f[w]=p.indexOf(w)>=0;return v=n.vertex,h=n.cell,_=n.phase,d=[f,s].join(","),(0,r[d])(v,h,_,o.mallocUint32,o.freeUint32)};var r={"false,0,1":function(n,a,s,c,p){return function(f,w,v,h){var _,x=0|f.shape[0],b=0|f.shape[1],M=f.data,E=0|f.stride[0],k=0|f.stride[1],I=0|f.offset,L=0|-E,P=0,R=0|-k,z=0,$=-E-k|0,N=0,W=0|E,H=k-E*x|0,U=0,Z=0,Y=0,ae=2*x|0,re=c(ae),Q=c(ae),K=0,te=0,oe=-1,ue=-1,fe=0,he=0|-x,me=0|x,ke=0,Pe=-x-1|0,Te=x-1|0,be=0,xe=0,Ne=0;for(U=0;U<x;++U)re[K++]=s(M[I],w,v,h),I+=W;if(I+=H,b>0){if(Z=1,re[K++]=s(M[I],w,v,h),I+=W,x>0)for(U=1,te=re[K]=s(_=M[I],w,v,h),ke=re[K+he],be=re[K+Pe],te===(fe=re[K+oe])&&te===ke&&te===be||(n(U,Z,_,P=M[I+L],z=M[I+R],N=M[I+$],te,fe,ke,be,w,v,h),xe=Q[K]=Y++),K+=1,I+=W,U=2;U<x;++U)te=re[K]=s(_=M[I],w,v,h),ke=re[K+he],be=re[K+Pe],te===(fe=re[K+oe])&&te===ke&&te===be||(n(U,Z,_,P=M[I+L],z=M[I+R],N=M[I+$],te,fe,ke,be,w,v,h),xe=Q[K]=Y++,be!==fe&&a(Q[K+oe],xe,N,P,be,fe,w,v,h)),K+=1,I+=W;for(I+=H,K=0,Ne=oe,oe=ue,ue=Ne,Ne=he,he=me,me=Ne,Ne=Pe,Pe=Te,Te=Ne,Z=2;Z<b;++Z){if(re[K++]=s(M[I],w,v,h),I+=W,x>0)for(U=1,te=re[K]=s(_=M[I],w,v,h),ke=re[K+he],be=re[K+Pe],te===(fe=re[K+oe])&&te===ke&&te===be||(n(U,Z,_,P=M[I+L],z=M[I+R],N=M[I+$],te,fe,ke,be,w,v,h),xe=Q[K]=Y++,be!==ke&&a(Q[K+he],xe,z,N,ke,be,w,v,h)),K+=1,I+=W,U=2;U<x;++U)te=re[K]=s(_=M[I],w,v,h),ke=re[K+he],be=re[K+Pe],te===(fe=re[K+oe])&&te===ke&&te===be||(n(U,Z,_,P=M[I+L],z=M[I+R],N=M[I+$],te,fe,ke,be,w,v,h),xe=Q[K]=Y++,be!==ke&&a(Q[K+he],xe,z,N,ke,be,w,v,h),be!==fe&&a(Q[K+oe],xe,N,P,be,fe,w,v,h)),K+=1,I+=W;1&Z&&(K=0),Ne=oe,oe=ue,ue=Ne,Ne=he,he=me,me=Ne,Ne=Pe,Pe=Te,Te=Ne,I+=H}}p(Q),p(re)}},"false,1,0":function(n,a,s,c,p){return function(f,w,v,h){var _,x=0|f.shape[0],b=0|f.shape[1],M=f.data,E=0|f.stride[0],k=0|f.stride[1],I=0|f.offset,L=0|-E,P=0,R=0|-k,z=0,$=-E-k|0,N=0,W=0|k,H=E-k*b|0,U=0,Z=0,Y=0,ae=2*b|0,re=c(ae),Q=c(ae),K=0,te=0,oe=-1,ue=-1,fe=0,he=0|-b,me=0|b,ke=0,Pe=-b-1|0,Te=b-1|0,be=0,xe=0,Ne=0;for(Z=0;Z<b;++Z)re[K++]=s(M[I],w,v,h),I+=W;if(I+=H,x>0){if(U=1,re[K++]=s(M[I],w,v,h),I+=W,b>0)for(Z=1,te=re[K]=s(_=M[I],w,v,h),fe=re[K+oe],be=re[K+Pe],te===(ke=re[K+he])&&te===fe&&te===be||(n(U,Z,_,P=M[I+L],z=M[I+R],N=M[I+$],te,ke,fe,be,w,v,h),xe=Q[K]=Y++),K+=1,I+=W,Z=2;Z<b;++Z)te=re[K]=s(_=M[I],w,v,h),fe=re[K+oe],be=re[K+Pe],te===(ke=re[K+he])&&te===fe&&te===be||(n(U,Z,_,P=M[I+L],z=M[I+R],N=M[I+$],te,ke,fe,be,w,v,h),xe=Q[K]=Y++,be!==fe&&a(Q[K+oe],xe,z,N,fe,be,w,v,h)),K+=1,I+=W;for(I+=H,K=0,Ne=he,he=me,me=Ne,Ne=oe,oe=ue,ue=Ne,Ne=Pe,Pe=Te,Te=Ne,U=2;U<x;++U){if(re[K++]=s(M[I],w,v,h),I+=W,b>0)for(Z=1,te=re[K]=s(_=M[I],w,v,h),fe=re[K+oe],be=re[K+Pe],te===(ke=re[K+he])&&te===fe&&te===be||(n(U,Z,_,P=M[I+L],z=M[I+R],N=M[I+$],te,ke,fe,be,w,v,h),xe=Q[K]=Y++,be!==ke&&a(Q[K+he],xe,N,P,be,ke,w,v,h)),K+=1,I+=W,Z=2;Z<b;++Z)te=re[K]=s(_=M[I],w,v,h),fe=re[K+oe],be=re[K+Pe],te===(ke=re[K+he])&&te===fe&&te===be||(n(U,Z,_,P=M[I+L],z=M[I+R],N=M[I+$],te,ke,fe,be,w,v,h),xe=Q[K]=Y++,be!==fe&&a(Q[K+oe],xe,z,N,fe,be,w,v,h),be!==ke&&a(Q[K+he],xe,N,P,be,ke,w,v,h)),K+=1,I+=W;1&U&&(K=0),Ne=he,he=me,me=Ne,Ne=oe,oe=ue,ue=Ne,Ne=Pe,Pe=Te,Te=Ne,I+=H}}p(Q),p(re)}}}},9144:function(m,l,t){"use strict";var o=t(3094),r={zero:function(x,b,M,d){var E=x[0];d|=0;var k=0,I=M[0];for(k=0;k<E;++k)b[d]=0,d+=I},fdTemplate1:function(x,b,M,d,E,k,I){var L=x[0],P=M[0],R=-1*P,z=P;d|=0,I|=0;var $=0,N=P,W=k[0];for($=0;$<L;++$)E[I]=.5*(b[d+R]-b[d+z]),d+=N,I+=W},fdTemplate2:function(x,b,M,d,E,k,I,L,P,R){var z=x[0],$=x[1],N=M[0],W=M[1],U=k[1],Y=P[1],ae=-1*N,re=N,Q=-1*W,K=W;d|=0,I|=0,R|=0;var te=0,oe=0,ue=W,fe=N-$*W,he=U,me=k[0]-$*U,ke=Y,Pe=P[0]-$*Y;for(oe=0;oe<z;++oe){for(te=0;te<$;++te)E[I]=.5*(b[d+ae]-b[d+re]),L[R]=.5*(b[d+Q]-b[d+K]),d+=ue,I+=he,R+=ke;d+=fe,I+=me,R+=Pe}}},n={cdiff:function(x){var b={};return function(M,d,E){var k=M.dtype,I=M.order,L=d.dtype,P=d.order,R=E.dtype,z=E.order,$=[k,I.join(),L,P.join(),R,z.join()].join(),N=b[$];return N||(b[$]=N=x([k,I,L,P,R,z])),N(M.shape.slice(0),M.data,M.stride,0|M.offset,d.data,d.stride,0|d.offset,E.data,E.stride,0|E.offset)}},zero:function(x){var b={};return function(M){var d=M.dtype,E=M.order,k=[d,E.join()].join(),I=b[k];return I||(b[k]=I=x([d,E])),I(M.shape.slice(0),M.data,M.stride,0|M.offset)}},fdTemplate1:function(x){var b={};return function(M,d){var E=M.dtype,k=M.order,I=d.dtype,L=d.order,P=[E,k.join(),I,L.join()].join(),R=b[P];return R||(b[P]=R=x([E,k,I,L])),R(M.shape.slice(0),M.data,M.stride,0|M.offset,d.data,d.stride,0|d.offset)}},fdTemplate2:function(x){var b={};return function(M,d,E){var k=M.dtype,I=M.order,L=d.dtype,P=d.order,R=E.dtype,z=E.order,$=[k,I.join(),L,P.join(),R,z.join()].join(),N=b[$];return N||(b[$]=N=x([k,I,L,P,R,z])),N(M.shape.slice(0),M.data,M.stride,0|M.offset,d.data,d.stride,0|d.offset,E.data,E.stride,0|E.offset)}}};function a(x){return(0,n[x.funcName])(s.bind(void 0,x))}function s(x){return r[x.funcName]}function c(x){return a({funcName:x.funcName})}var p={},f={},w=c({funcName:"cdiff"}),v=c({funcName:"zero"});function h(x){return x in p?p[x]:p[x]=c({funcName:"fdTemplate"+x})}function _(x,b,M,d){return function(E,k){var I=k.shape.slice();return I[0]>2&&I[1]>2&&d(k.pick(-1,-1).lo(1,1).hi(I[0]-2,I[1]-2),E.pick(-1,-1,0).lo(1,1).hi(I[0]-2,I[1]-2),E.pick(-1,-1,1).lo(1,1).hi(I[0]-2,I[1]-2)),I[1]>2&&(M(k.pick(0,-1).lo(1).hi(I[1]-2),E.pick(0,-1,1).lo(1).hi(I[1]-2)),b(E.pick(0,-1,0).lo(1).hi(I[1]-2))),I[1]>2&&(M(k.pick(I[0]-1,-1).lo(1).hi(I[1]-2),E.pick(I[0]-1,-1,1).lo(1).hi(I[1]-2)),b(E.pick(I[0]-1,-1,0).lo(1).hi(I[1]-2))),I[0]>2&&(M(k.pick(-1,0).lo(1).hi(I[0]-2),E.pick(-1,0,0).lo(1).hi(I[0]-2)),b(E.pick(-1,0,1).lo(1).hi(I[0]-2))),I[0]>2&&(M(k.pick(-1,I[1]-1).lo(1).hi(I[0]-2),E.pick(-1,I[1]-1,0).lo(1).hi(I[0]-2)),b(E.pick(-1,I[1]-1,1).lo(1).hi(I[0]-2))),E.set(0,0,0,0),E.set(0,0,1,0),E.set(I[0]-1,0,0,0),E.set(I[0]-1,0,1,0),E.set(0,I[1]-1,0,0),E.set(0,I[1]-1,1,0),E.set(I[0]-1,I[1]-1,0,0),E.set(I[0]-1,I[1]-1,1,0),E}}m.exports=function(x,b,M){return Array.isArray(M)||(M=o(b.dimension,"string"==typeof M?M:"clamp")),0===b.size?x:0===b.dimension?(x.set(0),x):function(d){var E=d.join();if(P=f[E])return P;for(var k=d.length,I=[w,v],L=1;L<=k;++L)I.push(h(L));var P=_.apply(void 0,I);return f[E]=P,P}(M)(x,b)}},3581:function(m){"use strict";function l(n,a){var s=Math.floor(a),c=a-s,f=0<=s+1&&s+1<n.shape[0];return(1-c)*(0<=s&&s<n.shape[0]?+n.get(s):0)+c*(f?+n.get(s+1):0)}function t(n,a,s){var c=Math.floor(a),p=a-c,f=0<=c&&c<n.shape[0],w=0<=c+1&&c+1<n.shape[0],v=Math.floor(s),h=s-v,_=0<=v&&v<n.shape[1],x=0<=v+1&&v+1<n.shape[1],b=f&&_?n.get(c,v):0,M=f&&x?n.get(c,v+1):0;return(1-h)*((1-p)*b+p*(w&&_?n.get(c+1,v):0))+h*((1-p)*M+p*(w&&x?n.get(c+1,v+1):0))}function o(n,a,s,c){var p=Math.floor(a),f=a-p,w=0<=p&&p<n.shape[0],v=0<=p+1&&p+1<n.shape[0],h=Math.floor(s),_=s-h,x=0<=h&&h<n.shape[1],b=0<=h+1&&h+1<n.shape[1],M=Math.floor(c),d=c-M,E=0<=M&&M<n.shape[2],k=0<=M+1&&M+1<n.shape[2],I=w&&x&&E?n.get(p,h,M):0,L=w&&b&&E?n.get(p,h+1,M):0,P=v&&x&&E?n.get(p+1,h,M):0,R=v&&b&&E?n.get(p+1,h+1,M):0,z=w&&x&&k?n.get(p,h,M+1):0,$=w&&b&&k?n.get(p,h+1,M+1):0;return(1-d)*((1-_)*((1-f)*I+f*P)+_*((1-f)*L+f*R))+d*((1-_)*((1-f)*z+f*(v&&x&&k?n.get(p+1,h,M+1):0))+_*((1-f)*$+f*(v&&b&&k?n.get(p+1,h+1,M+1):0)))}function r(n){var a,s,c=0|n.shape.length,p=new Array(c),f=new Array(c),w=new Array(c),v=new Array(c);for(a=0;a<c;++a)s=+arguments[a+1],p[a]=Math.floor(s),f[a]=s-p[a],w[a]=0<=p[a]&&p[a]<n.shape[a],v[a]=0<=p[a]+1&&p[a]+1<n.shape[a];var h,_,x,b=0;e:for(a=0;a<1<<c;++a){for(_=1,x=n.offset,h=0;h<c;++h)if(a&1<<h){if(!v[h])continue e;_*=f[h],x+=n.stride[h]*(p[h]+1)}else{if(!w[h])continue e;_*=1-f[h],x+=n.stride[h]*p[h]}b+=_*n.data[x]}return b}m.exports=function(n,a,s,c){switch(n.shape.length){case 0:return 0;case 1:return l(n,a);case 2:return t(n,a,s);case 3:return o(n,a,s,c);default:return r.apply(void 0,arguments)}},m.exports.d1=l,m.exports.d2=t,m.exports.d3=o},7498:function(m,l){"use strict";var t={"float64,2,1,0":function(){return function(s,c,p,f,w){var v=s[0],h=s[1],_=s[2],b=p[1],M=p[2];f|=0;var d=0,E=0,k=0,I=M,L=b-_*M,P=p[0]-h*b;for(k=0;k<v;++k){for(E=0;E<h;++E){for(d=0;d<_;++d)c[f]/=w,f+=I;f+=L}f+=P}}},"uint8,2,0,1,float64,2,1,0":function(){return function(s,c,p,f,w,v,h,_){for(var x=s[0],b=s[1],M=s[2],d=p[0],E=p[1],k=p[2],I=v[0],L=v[1],P=v[2],R=f|=0,z=h|=0,$=0|s[0];$>0;){$<64?(x=$,$=0):(x=64,$-=64);for(var N=0|s[1];N>0;){N<64?(b=N,N=0):(b=64,N-=64),f=R+$*d+N*E,h=z+$*I+N*L;var W=0,H=0,U=0,Z=k,Y=d-M*k,ae=E-x*d,re=P,Q=I-M*P,K=L-x*I;for(U=0;U<b;++U){for(H=0;H<x;++H){for(W=0;W<M;++W)c[f]=w[h]*_,f+=Z,h+=re;f+=Y,h+=Q}f+=ae,h+=K}}}}},"float32,1,0,float32,1,0":function(){return function(s,c,p,f,w,v,h){var _=s[0],x=s[1],M=p[1],E=v[1];f|=0,h|=0;var k=0,I=0,L=M,P=p[0]-x*M,R=E,z=v[0]-x*E;for(I=0;I<_;++I){for(k=0;k<x;++k)c[f]=w[h],f+=L,h+=R;f+=P,h+=z}}},"float32,1,0,float32,0,1":function(){return function(s,c,p,f,w,v,h){for(var _=s[0],x=s[1],b=p[0],M=p[1],d=v[0],E=v[1],k=f|=0,I=h|=0,L=0|s[1];L>0;){L<64?(x=L,L=0):(x=64,L-=64);for(var P=0|s[0];P>0;){P<64?(_=P,P=0):(_=64,P-=64),f=k+L*M+P*b,h=I+L*E+P*d;var R=0,z=0,$=M,N=b-x*M,W=E,H=d-x*E;for(z=0;z<_;++z){for(R=0;R<x;++R)c[f]=w[h],f+=$,h+=W;f+=N,h+=H}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(s,c,p,f,w,v,h){for(var _=s[0],x=s[1],b=s[2],M=p[0],d=p[1],E=p[2],k=v[0],I=v[1],L=v[2],P=f|=0,R=h|=0,z=0|s[2];z>0;){z<64?(b=z,z=0):(b=64,z-=64);for(var $=0|s[0];$>0;){$<64?(_=$,$=0):(_=64,$-=64);for(var N=0|s[1];N>0;){N<64?(x=N,N=0):(x=64,N-=64),f=P+z*E+$*M+N*d,h=R+z*L+$*k+N*I;var W=0,H=0,U=0,Z=E,Y=M-b*E,ae=d-_*M,re=L,Q=k-b*L,K=I-_*k;for(U=0;U<x;++U){for(H=0;H<_;++H){for(W=0;W<b;++W)c[f]=w[h],f+=Z,h+=re;f+=Y,h+=Q}f+=ae,h+=K}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(s,c,p,f,w,v,h){var _=s[0],x=s[1],b=s[2],M=p[0],E=p[2],k=v[0],L=v[2];f|=0,h|=0;var P=0,R=0,z=0,$=E,N=M-b*E,W=p[1]-_*M,H=L,U=k-b*L,Z=v[1]-_*k;for(z=0;z<x;++z){for(R=0;R<_;++R){for(P=0;P<b;++P)c[f]=w[h],f+=$,h+=H;f+=N,h+=U}f+=W,h+=Z}}}},o=function(s,c){var p=c.join(",");return(0,t[p])()},r={mul:function(s){var c={};return function(p,f,w){var v=p.dtype,h=p.order,_=f.dtype,x=f.order,b=w.dtype,M=w.order,d=[v,h.join(),_,x.join(),b,M.join()].join(),E=c[d];return E||(c[d]=E=s([v,h,_,x,b,M])),E(p.shape.slice(0),p.data,p.stride,0|p.offset,f.data,f.stride,0|f.offset,w.data,w.stride,0|w.offset)}},muls:function(s){var c={};return function(p,f,w){var v=p.dtype,h=p.order,_=f.dtype,x=f.order,b=[v,h.join(),_,x.join()].join(),M=c[b];return M||(c[b]=M=s([v,h,_,x])),M(p.shape.slice(0),p.data,p.stride,0|p.offset,f.data,f.stride,0|f.offset,w)}},mulseq:function(s){var c={};return function(p,f){var w=p.dtype,v=p.order,h=[w,v.join()].join(),_=c[h];return _||(c[h]=_=s([w,v])),_(p.shape.slice(0),p.data,p.stride,0|p.offset,f)}},div:function(s){var c={};return function(p,f,w){var v=p.dtype,h=p.order,_=f.dtype,x=f.order,b=w.dtype,M=w.order,d=[v,h.join(),_,x.join(),b,M.join()].join(),E=c[d];return E||(c[d]=E=s([v,h,_,x,b,M])),E(p.shape.slice(0),p.data,p.stride,0|p.offset,f.data,f.stride,0|f.offset,w.data,w.stride,0|w.offset)}},divs:function(s){var c={};return function(p,f,w){var v=p.dtype,h=p.order,_=f.dtype,x=f.order,b=[v,h.join(),_,x.join()].join(),M=c[b];return M||(c[b]=M=s([v,h,_,x])),M(p.shape.slice(0),p.data,p.stride,0|p.offset,f.data,f.stride,0|f.offset,w)}},divseq:function(s){var c={};return function(p,f){var w=p.dtype,v=p.order,h=[w,v.join()].join(),_=c[h];return _||(c[h]=_=s([w,v])),_(p.shape.slice(0),p.data,p.stride,0|p.offset,f)}},assign:function(s){var c={};return function(p,f){var w=p.dtype,v=p.order,h=f.dtype,_=f.order,x=[w,v.join(),h,_.join()].join(),b=c[x];return b||(c[x]=b=s([w,v,h,_])),b(p.shape.slice(0),p.data,p.stride,0|p.offset,f.data,f.stride,0|f.offset)}}};function n(s){return(0,r[(c={funcName:s.funcName}).funcName])(o.bind(void 0,c));var c}var a={mul:"*",div:"/"};(function(){for(var s in a)l[s]=n({funcName:s}),l[s+"s"]=n({funcName:s+"s"}),l[s+"seq"]=n({funcName:s+"seq"})})(),l.assign=n({funcName:"assign"})},7382:function(m,l,t){"use strict";var o=t(5050),r=t(9262);m.exports=function(n,a){for(var s=[],c=n,p=1;Array.isArray(c);)s.push(c.length),p*=c.length,c=c[0];return 0===s.length?o():(a||(a=o(new Float64Array(p),s)),r(a,n),a)}},9262:function(m){"use strict";var l,t;m.exports=(l=function(){return function(l,t,o,r,n){var a=l[0],s=l[1],c=l[2],f=o[1],w=o[2],v=[0,0,0];r|=0;var h=0,_=0,x=0,b=w,M=f-c*w,d=o[0]-s*f;for(x=0;x<a;++x){for(_=0;_<s;++_){for(h=0;h<c;++h){var E,k=n;for(E=0;E<v.length-1;++E)k=k[v[E]];t[r]=k[v[v.length-1]],r+=b,++v[2]}r+=M,v[2]-=c,++v[1]}r+=d,v[1]-=s,++v[0]}}}.bind(void 0,{funcName:"convert"}),t={},function(o,r){var n=o.dtype,a=o.order,s=[n,a.join()].join(),c=t[s];return c||(t[s]=c=l([n,a])),c(o.shape.slice(0),o.data,o.stride,0|o.offset,r)})},8139:function(m,l,t){"use strict";var o=t(5306);function r(c){return"uint32"===c?[o.mallocUint32,o.freeUint32]:null}var n={"uint32,1,0":function(c,p){return function(f,w,v,h,_,x,b,M,d,E,k){var I,L,P,R,z,$,N,W,H=f*_+h,U=c(M);for(I=f+1;I<=w;++I){for(L=I,P=H+=_,z=0,$=H,R=0;R<M;++R)U[z++]=v[$],$+=d;e:for(;L-- >f;){z=0,$=P-_;t:for(R=0;R<M;++R){if((N=v[$])<(W=U[z]))break e;if(N>W)break t;$+=E,z+=k}for(z=P,$=P-_,R=0;R<M;++R)v[z]=v[$],z+=d,$+=d;P-=_}for(z=P,$=0,R=0;R<M;++R)v[z]=U[$++],z+=d}p(U)}}},a={"uint32,1,0":function(c,p,f){return function w(v,h,_,x,b,M,d,E,k,I,L){var P,R,$,N,W,H,U,Z,Y,ae,re,Q,K,te,oe,ue,fe,he,me,ke,Pe,Te,be,xe,Ne=(h-v+1)/6|0,Se=v+Ne,Ce=h-Ne,pe=v+h>>1,de=pe-Ne,se=pe+Ne,we=Se,Re=de,Ee=pe,Ue=se,$e=Ce,ve=v+1,Ie=h-1,De=!0,ze=0,Ge=0,He=0,Ke=E,et=p(Ke),st=p(Ke);ae=b*we,re=b*Re,xe=x;e:for(Y=0;Y<E;++Y){if((He=_[H=ae+xe]-_[U=re+xe])>0){R=we,we=Re,Re=R;break e}if(He<0)break e;xe+=I}ae=b*Ue,re=b*$e,xe=x;e:for(Y=0;Y<E;++Y){if((He=_[H=ae+xe]-_[U=re+xe])>0){R=Ue,Ue=$e,$e=R;break e}if(He<0)break e;xe+=I}ae=b*we,re=b*Ee,xe=x;e:for(Y=0;Y<E;++Y){if((He=_[H=ae+xe]-_[U=re+xe])>0){R=we,we=Ee,Ee=R;break e}if(He<0)break e;xe+=I}ae=b*Re,re=b*Ee,xe=x;e:for(Y=0;Y<E;++Y){if((He=_[H=ae+xe]-_[U=re+xe])>0){R=Re,Re=Ee,Ee=R;break e}if(He<0)break e;xe+=I}ae=b*we,re=b*Ue,xe=x;e:for(Y=0;Y<E;++Y){if((He=_[H=ae+xe]-_[U=re+xe])>0){R=we,we=Ue,Ue=R;break e}if(He<0)break e;xe+=I}ae=b*Ee,re=b*Ue,xe=x;e:for(Y=0;Y<E;++Y){if((He=_[H=ae+xe]-_[U=re+xe])>0){R=Ee,Ee=Ue,Ue=R;break e}if(He<0)break e;xe+=I}ae=b*Re,re=b*$e,xe=x;e:for(Y=0;Y<E;++Y){if((He=_[H=ae+xe]-_[U=re+xe])>0){R=Re,Re=$e,$e=R;break e}if(He<0)break e;xe+=I}ae=b*Re,re=b*Ee,xe=x;e:for(Y=0;Y<E;++Y){if((He=_[H=ae+xe]-_[U=re+xe])>0){R=Re,Re=Ee,Ee=R;break e}if(He<0)break e;xe+=I}ae=b*Ue,re=b*$e,xe=x;e:for(Y=0;Y<E;++Y){if((He=_[H=ae+xe]-_[U=re+xe])>0){R=Ue,Ue=$e,$e=R;break e}if(He<0)break e;xe+=I}for(ae=b*we,re=b*Re,Q=b*Ee,K=b*Ue,te=b*$e,oe=b*Se,ue=b*pe,fe=b*Ce,be=0,xe=x,Y=0;Y<E;++Y)H=ae+xe,Z=Q+xe,he=K+xe,me=te+xe,ke=oe+xe,Pe=ue+xe,Te=fe+xe,et[be]=_[U=re+xe],st[be]=_[he],De=De&&et[be]===st[be],$=_[Z],N=_[me],_[ke]=_[H],_[Pe]=$,_[Te]=N,++be,xe+=k;for(ae=b*de,re=b*v,xe=x,Y=0;Y<E;++Y)_[H=ae+xe]=_[U=re+xe],xe+=k;for(ae=b*se,re=b*h,xe=x,Y=0;Y<E;++Y)_[H=ae+xe]=_[U=re+xe],xe+=k;if(De)for(W=ve;W<=Ie;++W){for(H=x+W*b,be=0,Y=0;Y<E&&0==(He=_[H]-et[be]);++Y)be+=L,H+=I;if(0!==He)if(He<0){if(W!==ve)for(ae=b*W,re=b*ve,xe=x,Y=0;Y<E;++Y)P=_[H=ae+xe],_[H]=_[U=re+xe],_[U]=P,xe+=k;++ve}else for(;;){for(H=x+Ie*b,be=0,Y=0;Y<E&&0==(He=_[H]-et[be]);++Y)be+=L,H+=I;if(!(He>0)){if(He<0){for(ae=b*W,re=b*ve,Q=b*Ie,xe=x,Y=0;Y<E;++Y)Z=Q+xe,P=_[H=ae+xe],_[H]=_[U=re+xe],_[U]=_[Z],_[Z]=P,xe+=k;++ve,--Ie;break}for(ae=b*W,re=b*Ie,xe=x,Y=0;Y<E;++Y)P=_[H=ae+xe],_[H]=_[U=re+xe],_[U]=P,xe+=k;--Ie;break}Ie--}}else for(W=ve;W<=Ie;++W){for(H=x+W*b,be=0,Y=0;Y<E&&0==(ze=_[H]-et[be]);++Y)be+=L,H+=I;if(ze<0){if(W!==ve)for(ae=b*W,re=b*ve,xe=x,Y=0;Y<E;++Y)P=_[H=ae+xe],_[H]=_[U=re+xe],_[U]=P,xe+=k;++ve}else{for(H=x+W*b,be=0,Y=0;Y<E&&0==(Ge=_[H]-st[be]);++Y)be+=L,H+=I;if(Ge>0)for(;;){for(H=x+Ie*b,be=0,Y=0;Y<E&&0==(He=_[H]-st[be]);++Y)be+=L,H+=I;if(!(He>0)){for(H=x+Ie*b,be=0,Y=0;Y<E&&0==(He=_[H]-et[be]);++Y)be+=L,H+=I;if(He<0){for(ae=b*W,re=b*ve,Q=b*Ie,xe=x,Y=0;Y<E;++Y)Z=Q+xe,P=_[H=ae+xe],_[H]=_[U=re+xe],_[U]=_[Z],_[Z]=P,xe+=k;++ve,--Ie}else{for(ae=b*W,re=b*Ie,xe=x,Y=0;Y<E;++Y)P=_[H=ae+xe],_[H]=_[U=re+xe],_[U]=P,xe+=k;--Ie}break}if(--Ie<W)break}}}for(ae=b*v,re=b*(ve-1),be=0,xe=x,Y=0;Y<E;++Y)_[H=ae+xe]=_[U=re+xe],_[U]=et[be],++be,xe+=k;for(ae=b*h,re=b*(Ie+1),be=0,xe=x,Y=0;Y<E;++Y)_[H=ae+xe]=_[U=re+xe],_[U]=st[be],++be,xe+=k;if(ve-2-v<=32?c(v,ve-2,_,x,b,M,d,E,k,I,L):w(v,ve-2,_,x,b,M,d,E,k,I,L),h-(Ie+2)<=32?c(Ie+2,h,_,x,b,M,d,E,k,I,L):w(Ie+2,h,_,x,b,M,d,E,k,I,L),De)return f(et),void f(st);if(ve<Se&&Ie>Ce){e:for(;;){for(H=x+ve*b,be=0,xe=x,Y=0;Y<E;++Y){if(_[H]!==et[be])break e;++be,H+=k}++ve}e:for(;;){for(H=x+Ie*b,be=0,xe=x,Y=0;Y<E;++Y){if(_[H]!==st[be])break e;++be,H+=k}--Ie}for(W=ve;W<=Ie;++W){for(H=x+W*b,be=0,Y=0;Y<E&&0==(ze=_[H]-et[be]);++Y)be+=L,H+=I;if(0===ze){if(W!==ve)for(ae=b*W,re=b*ve,xe=x,Y=0;Y<E;++Y)P=_[H=ae+xe],_[H]=_[U=re+xe],_[U]=P,xe+=k;++ve}else{for(H=x+W*b,be=0,Y=0;Y<E&&0==(Ge=_[H]-st[be]);++Y)be+=L,H+=I;if(0===Ge)for(;;){for(H=x+Ie*b,be=0,Y=0;Y<E&&0==(He=_[H]-st[be]);++Y)be+=L,H+=I;if(0!==He){for(H=x+Ie*b,be=0,Y=0;Y<E&&0==(He=_[H]-et[be]);++Y)be+=L,H+=I;if(He<0){for(ae=b*W,re=b*ve,Q=b*Ie,xe=x,Y=0;Y<E;++Y)Z=Q+xe,P=_[H=ae+xe],_[H]=_[U=re+xe],_[U]=_[Z],_[Z]=P,xe+=k;++ve,--Ie}else{for(ae=b*W,re=b*Ie,xe=x,Y=0;Y<E;++Y)P=_[H=ae+xe],_[H]=_[U=re+xe],_[U]=P,xe+=k;--Ie}break}if(--Ie<W)break}}}}f(et),f(st),Ie-ve<=32?c(ve,Ie,_,x,b,M,d,E,k,I,L):w(ve,Ie,_,x,b,M,d,E,k,I,L)}}},s={"uint32,1,0":function(c,p){return function(f){var w=f.data,v=0|f.offset,h=f.shape,_=f.stride,x=0|_[0],b=0|h[0],M=0|_[1],d=0|h[1],E=M,k=M;b<=32?c(0,b-1,w,v,x,M,b,d,E,k,1):p(0,b-1,w,v,x,M,b,d,E,k,1)}}};m.exports=function(c,p){var _,x,b,M,d,f=[p,c].join(","),w=s[f],v=(_=c,b=r(x=p),M=[x,_].join(","),d=n[M],b?d(b[0],b[1]):d()),h=function(_,x,b){var M=r(x),d=[x,_].join(","),E=a[d];return _.length>1&&M?E(b,M[0],M[1]):E(b)}(c,p,v);return w(v,h)}},8729:function(m,l,t){"use strict";var o=t(8139),r={};m.exports=function(n){var a=n.order,s=n.dtype,c=[a,s].join(":"),p=r[c];return p||(r[c]=p=o(a,s)),p(n),n}},5050:function(m,l,t){var o=t(4780),r=typeof Float64Array<"u";function n(f,w){return f[0]-w[0]}function a(){var f,w=this.stride,v=new Array(w.length);for(f=0;f<v.length;++f)v[f]=[Math.abs(w[f]),f];v.sort(n);var h=new Array(v.length);for(f=0;f<h.length;++f)h[f]=v[f][1];return h}var s={T:function(f){function w(h){this.data=h}var v=w.prototype;return v.dtype=f,v.index=function(){return-1},v.size=0,v.dimension=-1,v.shape=v.stride=v.order=[],v.lo=v.hi=v.transpose=v.step=function(){return new w(this.data)},v.get=v.set=function(){},v.pick=function(){return null},function(h){return new w(h)}},0:function(f,w){function v(_,x){this.data=_,this.offset=x}var h=v.prototype;return h.dtype=f,h.index=function(){return this.offset},h.dimension=0,h.size=1,h.shape=h.stride=h.order=[],h.lo=h.hi=h.transpose=h.step=function(){return new v(this.data,this.offset)},h.pick=function(){return w(this.data)},h.valueOf=h.get=function(){return"generic"===f?this.data.get(this.offset):this.data[this.offset]},h.set=function(_){return"generic"===f?this.data.set(this.offset,_):this.data[this.offset]=_},function(_,x,b,M){return new v(_,M)}},1:function(f,w,v){function h(x,b,M,d){this.data=x,this.shape=[b],this.stride=[M],this.offset=0|d}var _=h.prototype;return _.dtype=f,_.dimension=1,Object.defineProperty(_,"size",{get:function(){return this.shape[0]}}),_.order=[0],_.set=function(x,b){return"generic"===f?this.data.set(this.offset+this.stride[0]*x,b):this.data[this.offset+this.stride[0]*x]=b},_.get=function(x){return"generic"===f?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},_.index=function(x){return this.offset+this.stride[0]*x},_.hi=function(x){return new h(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,this.stride[0],this.offset)},_.lo=function(x){var b=this.offset,M=0,d=this.shape[0],E=this.stride[0];return"number"==typeof x&&x>=0&&(b+=E*(M=0|x),d-=M),new h(this.data,d,E,b)},_.step=function(x){var b=this.shape[0],M=this.stride[0],d=this.offset,E=0,k=Math.ceil;return"number"==typeof x&&((E=0|x)<0?(d+=M*(b-1),b=k(-b/E)):b=k(b/E),M*=E),new h(this.data,b,M,d)},_.transpose=function(x){return new h(this.data,this.shape[x=void 0===x?0:0|x],this.stride[x],this.offset)},_.pick=function(x){var b=[],M=[],d=this.offset;return"number"==typeof x&&x>=0?d=d+this.stride[0]*x|0:(b.push(this.shape[0]),M.push(this.stride[0])),(0,w[b.length+1])(this.data,b,M,d)},function(x,b,M,d){return new h(x,b[0],M[0],d)}},2:function(f,w,v){function h(x,b,M,d,E,k){this.data=x,this.shape=[b,M],this.stride=[d,E],this.offset=0|k}var _=h.prototype;return _.dtype=f,_.dimension=2,Object.defineProperty(_,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(_,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),_.set=function(x,b,M){return"generic"===f?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b,M):this.data[this.offset+this.stride[0]*x+this.stride[1]*b]=M},_.get=function(x,b){return"generic"===f?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b):this.data[this.offset+this.stride[0]*x+this.stride[1]*b]},_.index=function(x,b){return this.offset+this.stride[0]*x+this.stride[1]*b},_.hi=function(x,b){return new h(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,this.stride[0],this.stride[1],this.offset)},_.lo=function(x,b){var M=this.offset,d=0,E=this.shape[0],k=this.shape[1],I=this.stride[0],L=this.stride[1];return"number"==typeof x&&x>=0&&(M+=I*(d=0|x),E-=d),"number"==typeof b&&b>=0&&(M+=L*(d=0|b),k-=d),new h(this.data,E,k,I,L,M)},_.step=function(x,b){var M=this.shape[0],d=this.shape[1],E=this.stride[0],k=this.stride[1],I=this.offset,L=0,P=Math.ceil;return"number"==typeof x&&((L=0|x)<0?(I+=E*(M-1),M=P(-M/L)):M=P(M/L),E*=L),"number"==typeof b&&((L=0|b)<0?(I+=k*(d-1),d=P(-d/L)):d=P(d/L),k*=L),new h(this.data,M,d,E,k,I)},_.transpose=function(x,b){var M=this.shape,d=this.stride;return new h(this.data,M[x=void 0===x?0:0|x],M[b=void 0===b?1:0|b],d[x],d[b],this.offset)},_.pick=function(x,b){var M=[],d=[],E=this.offset;return"number"==typeof x&&x>=0?E=E+this.stride[0]*x|0:(M.push(this.shape[0]),d.push(this.stride[0])),"number"==typeof b&&b>=0?E=E+this.stride[1]*b|0:(M.push(this.shape[1]),d.push(this.stride[1])),(0,w[M.length+1])(this.data,M,d,E)},function(x,b,M,d){return new h(x,b[0],b[1],M[0],M[1],d)}},3:function(f,w,v){function h(x,b,M,d,E,k,I,L){this.data=x,this.shape=[b,M,d],this.stride=[E,k,I],this.offset=0|L}var _=h.prototype;return _.dtype=f,_.dimension=3,Object.defineProperty(_,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(_,"order",{get:function(){var x=Math.abs(this.stride[0]),b=Math.abs(this.stride[1]),M=Math.abs(this.stride[2]);return x>b?b>M?[2,1,0]:x>M?[1,2,0]:[1,0,2]:x>M?[2,0,1]:M>b?[0,1,2]:[0,2,1]}}),_.set=function(x,b,M,d){return"generic"===f?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M,d):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M]=d},_.get=function(x,b,M){return"generic"===f?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M]},_.index=function(x,b,M){return this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M},_.hi=function(x,b,M){return new h(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof M||M<0?this.shape[2]:0|M,this.stride[0],this.stride[1],this.stride[2],this.offset)},_.lo=function(x,b,M){var d=this.offset,E=0,k=this.shape[0],I=this.shape[1],L=this.shape[2],P=this.stride[0],R=this.stride[1],z=this.stride[2];return"number"==typeof x&&x>=0&&(d+=P*(E=0|x),k-=E),"number"==typeof b&&b>=0&&(d+=R*(E=0|b),I-=E),"number"==typeof M&&M>=0&&(d+=z*(E=0|M),L-=E),new h(this.data,k,I,L,P,R,z,d)},_.step=function(x,b,M){var d=this.shape[0],E=this.shape[1],k=this.shape[2],I=this.stride[0],L=this.stride[1],P=this.stride[2],R=this.offset,z=0,$=Math.ceil;return"number"==typeof x&&((z=0|x)<0?(R+=I*(d-1),d=$(-d/z)):d=$(d/z),I*=z),"number"==typeof b&&((z=0|b)<0?(R+=L*(E-1),E=$(-E/z)):E=$(E/z),L*=z),"number"==typeof M&&((z=0|M)<0?(R+=P*(k-1),k=$(-k/z)):k=$(k/z),P*=z),new h(this.data,d,E,k,I,L,P,R)},_.transpose=function(x,b,M){var d=this.shape,E=this.stride;return new h(this.data,d[x=void 0===x?0:0|x],d[b=void 0===b?1:0|b],d[M=void 0===M?2:0|M],E[x],E[b],E[M],this.offset)},_.pick=function(x,b,M){var d=[],E=[],k=this.offset;return"number"==typeof x&&x>=0?k=k+this.stride[0]*x|0:(d.push(this.shape[0]),E.push(this.stride[0])),"number"==typeof b&&b>=0?k=k+this.stride[1]*b|0:(d.push(this.shape[1]),E.push(this.stride[1])),"number"==typeof M&&M>=0?k=k+this.stride[2]*M|0:(d.push(this.shape[2]),E.push(this.stride[2])),(0,w[d.length+1])(this.data,d,E,k)},function(x,b,M,d){return new h(x,b[0],b[1],b[2],M[0],M[1],M[2],d)}},4:function(f,w,v){function h(x,b,M,d,E,k,I,L,P,R){this.data=x,this.shape=[b,M,d,E],this.stride=[k,I,L,P],this.offset=0|R}var _=h.prototype;return _.dtype=f,_.dimension=4,Object.defineProperty(_,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(_,"order",{get:v}),_.set=function(x,b,M,d,E){return"generic"===f?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M+this.stride[3]*d,E):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M+this.stride[3]*d]=E},_.get=function(x,b,M,d){return"generic"===f?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M+this.stride[3]*d):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M+this.stride[3]*d]},_.index=function(x,b,M,d){return this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M+this.stride[3]*d},_.hi=function(x,b,M,d){return new h(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof M||M<0?this.shape[2]:0|M,"number"!=typeof d||d<0?this.shape[3]:0|d,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},_.lo=function(x,b,M,d){var E=this.offset,k=0,I=this.shape[0],L=this.shape[1],P=this.shape[2],R=this.shape[3],z=this.stride[0],$=this.stride[1],N=this.stride[2],W=this.stride[3];return"number"==typeof x&&x>=0&&(E+=z*(k=0|x),I-=k),"number"==typeof b&&b>=0&&(E+=$*(k=0|b),L-=k),"number"==typeof M&&M>=0&&(E+=N*(k=0|M),P-=k),"number"==typeof d&&d>=0&&(E+=W*(k=0|d),R-=k),new h(this.data,I,L,P,R,z,$,N,W,E)},_.step=function(x,b,M,d){var E=this.shape[0],k=this.shape[1],I=this.shape[2],L=this.shape[3],P=this.stride[0],R=this.stride[1],z=this.stride[2],$=this.stride[3],N=this.offset,W=0,H=Math.ceil;return"number"==typeof x&&((W=0|x)<0?(N+=P*(E-1),E=H(-E/W)):E=H(E/W),P*=W),"number"==typeof b&&((W=0|b)<0?(N+=R*(k-1),k=H(-k/W)):k=H(k/W),R*=W),"number"==typeof M&&((W=0|M)<0?(N+=z*(I-1),I=H(-I/W)):I=H(I/W),z*=W),"number"==typeof d&&((W=0|d)<0?(N+=$*(L-1),L=H(-L/W)):L=H(L/W),$*=W),new h(this.data,E,k,I,L,P,R,z,$,N)},_.transpose=function(x,b,M,d){var E=this.shape,k=this.stride;return new h(this.data,E[x=void 0===x?0:0|x],E[b=void 0===b?1:0|b],E[M=void 0===M?2:0|M],E[d=void 0===d?3:0|d],k[x],k[b],k[M],k[d],this.offset)},_.pick=function(x,b,M,d){var E=[],k=[],I=this.offset;return"number"==typeof x&&x>=0?I=I+this.stride[0]*x|0:(E.push(this.shape[0]),k.push(this.stride[0])),"number"==typeof b&&b>=0?I=I+this.stride[1]*b|0:(E.push(this.shape[1]),k.push(this.stride[1])),"number"==typeof M&&M>=0?I=I+this.stride[2]*M|0:(E.push(this.shape[2]),k.push(this.stride[2])),"number"==typeof d&&d>=0?I=I+this.stride[3]*d|0:(E.push(this.shape[3]),k.push(this.stride[3])),(0,w[E.length+1])(this.data,E,k,I)},function(x,b,M,d){return new h(x,b[0],b[1],b[2],b[3],M[0],M[1],M[2],M[3],d)}},5:function(f,w,v){function h(x,b,M,d,E,k,I,L,P,R,z,$){this.data=x,this.shape=[b,M,d,E,k],this.stride=[I,L,P,R,z],this.offset=0|$}var _=h.prototype;return _.dtype=f,_.dimension=5,Object.defineProperty(_,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(_,"order",{get:v}),_.set=function(x,b,M,d,E,k){return"generic"===f?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M+this.stride[3]*d+this.stride[4]*E,k):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M+this.stride[3]*d+this.stride[4]*E]=k},_.get=function(x,b,M,d,E){return"generic"===f?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M+this.stride[3]*d+this.stride[4]*E):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M+this.stride[3]*d+this.stride[4]*E]},_.index=function(x,b,M,d,E){return this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*M+this.stride[3]*d+this.stride[4]*E},_.hi=function(x,b,M,d,E){return new h(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof M||M<0?this.shape[2]:0|M,"number"!=typeof d||d<0?this.shape[3]:0|d,"number"!=typeof E||E<0?this.shape[4]:0|E,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},_.lo=function(x,b,M,d,E){var k=this.offset,I=0,L=this.shape[0],P=this.shape[1],R=this.shape[2],z=this.shape[3],$=this.shape[4],N=this.stride[0],W=this.stride[1],H=this.stride[2],U=this.stride[3],Z=this.stride[4];return"number"==typeof x&&x>=0&&(k+=N*(I=0|x),L-=I),"number"==typeof b&&b>=0&&(k+=W*(I=0|b),P-=I),"number"==typeof M&&M>=0&&(k+=H*(I=0|M),R-=I),"number"==typeof d&&d>=0&&(k+=U*(I=0|d),z-=I),"number"==typeof E&&E>=0&&(k+=Z*(I=0|E),$-=I),new h(this.data,L,P,R,z,$,N,W,H,U,Z,k)},_.step=function(x,b,M,d,E){var k=this.shape[0],I=this.shape[1],L=this.shape[2],P=this.shape[3],R=this.shape[4],z=this.stride[0],$=this.stride[1],N=this.stride[2],W=this.stride[3],H=this.stride[4],U=this.offset,Z=0,Y=Math.ceil;return"number"==typeof x&&((Z=0|x)<0?(U+=z*(k-1),k=Y(-k/Z)):k=Y(k/Z),z*=Z),"number"==typeof b&&((Z=0|b)<0?(U+=$*(I-1),I=Y(-I/Z)):I=Y(I/Z),$*=Z),"number"==typeof M&&((Z=0|M)<0?(U+=N*(L-1),L=Y(-L/Z)):L=Y(L/Z),N*=Z),"number"==typeof d&&((Z=0|d)<0?(U+=W*(P-1),P=Y(-P/Z)):P=Y(P/Z),W*=Z),"number"==typeof E&&((Z=0|E)<0?(U+=H*(R-1),R=Y(-R/Z)):R=Y(R/Z),H*=Z),new h(this.data,k,I,L,P,R,z,$,N,W,H,U)},_.transpose=function(x,b,M,d,E){var k=this.shape,I=this.stride;return new h(this.data,k[x=void 0===x?0:0|x],k[b=void 0===b?1:0|b],k[M=void 0===M?2:0|M],k[d=void 0===d?3:0|d],k[E=void 0===E?4:0|E],I[x],I[b],I[M],I[d],I[E],this.offset)},_.pick=function(x,b,M,d,E){var k=[],I=[],L=this.offset;return"number"==typeof x&&x>=0?L=L+this.stride[0]*x|0:(k.push(this.shape[0]),I.push(this.stride[0])),"number"==typeof b&&b>=0?L=L+this.stride[1]*b|0:(k.push(this.shape[1]),I.push(this.stride[1])),"number"==typeof M&&M>=0?L=L+this.stride[2]*M|0:(k.push(this.shape[2]),I.push(this.stride[2])),"number"==typeof d&&d>=0?L=L+this.stride[3]*d|0:(k.push(this.shape[3]),I.push(this.stride[3])),"number"==typeof E&&E>=0?L=L+this.stride[4]*E|0:(k.push(this.shape[4]),I.push(this.stride[4])),(0,w[k.length+1])(this.data,k,I,L)},function(x,b,M,d){return new h(x,b[0],b[1],b[2],b[3],b[4],M[0],M[1],M[2],M[3],M[4],d)}}};function c(f,w){var v=-1===w?"T":String(w),h=s[v];return-1===w?h(f):0===w?h(f,p[f][0]):h(f,p[f],a)}var p={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};m.exports=function(f,w,v,h){if(void 0===f)return(0,p.array[0])([]);"number"==typeof f&&(f=[f]),void 0===w&&(w=[f.length]);var _=w.length;if(void 0===v){v=new Array(_);for(var x=_-1,b=1;x>=0;--x)v[x]=b,b*=w[x]}if(void 0===h)for(h=0,x=0;x<_;++x)v[x]<0&&(h-=(w[x]-1)*v[x]);for(var M=function(E){if(o(E))return"buffer";if(r)switch(Object.prototype.toString.call(E)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(E)?"array":"generic"}(f),d=p[M];d.length<=_+1;)d.push(c(M,d.length-1));return(0,d[_+1])(f,w,v,h)}},8551:function(m,l,t){"use strict";var o=t(8362),r=Math.pow(2,-1074),n=-1>>>0;m.exports=function(a,s){if(isNaN(a)||isNaN(s))return NaN;if(a===s)return a;if(0===a)return s<0?-r:r;var c=o.hi(a),p=o.lo(a);return s>a==a>0?p===n?(c+=1,p=0):p+=1:0===p?(p=n,c-=1):p-=1,o.pack(p,c)}},115:function(m,l){l.vertexNormals=function(t,o,r){for(var n=o.length,a=new Array(n),s=void 0===r?1e-6:r,c=0;c<n;++c)a[c]=[0,0,0];for(c=0;c<t.length;++c)for(var p=t[c],w=p[p.length-1],v=p[0],h=0;h<p.length;++h){for(var _=o[w],x=o[w=v],b=o[v=p[(h+1)%p.length]],M=new Array(3),d=0,E=new Array(3),k=0,I=0;I<3;++I)M[I]=_[I]-x[I],d+=M[I]*M[I],E[I]=b[I]-x[I],k+=E[I]*E[I];if(d*k>s){var L=a[w],P=1/Math.sqrt(d*k);for(I=0;I<3;++I){var R=(I+1)%3,z=(I+2)%3;L[I]+=P*(E[R]*M[z]-E[z]*M[R])}}}for(c=0;c<n;++c){L=a[c];var $=0;for(I=0;I<3;++I)$+=L[I]*L[I];if($>s)for(P=1/Math.sqrt($),I=0;I<3;++I)L[I]*=P;else for(I=0;I<3;++I)L[I]=0}return a},l.faceNormals=function(t,o,r){for(var n=t.length,a=new Array(n),s=void 0===r?1e-6:r,c=0;c<n;++c){for(var p=t[c],f=new Array(3),w=0;w<3;++w)f[w]=o[p[w]];var v=new Array(3),h=new Array(3);for(w=0;w<3;++w)v[w]=f[1][w]-f[0][w],h[w]=f[2][w]-f[0][w];var _=new Array(3),x=0;for(w=0;w<3;++w){var b=(w+1)%3,M=(w+2)%3;_[w]=v[b]*h[M]-v[M]*h[b],x+=_[w]*_[w]}for(x=x>s?1/Math.sqrt(x):0,w=0;w<3;++w)_[w]*=x;a[c]=_}return a}},567:function(m){"use strict";m.exports=function(l,t,o,r,n,a,s,c,p,f){var w=t+a+f;if(v>0){var v=Math.sqrt(w+1);l[0]=.5*(s-p)/v,l[1]=.5*(c-r)/v,l[2]=.5*(o-a)/v,l[3]=.5*v}else{var h=Math.max(t,a,f);v=Math.sqrt(2*h-w+1),t>=h?(l[0]=.5*v,l[1]=.5*(n+o)/v,l[2]=.5*(c+r)/v,l[3]=.5*(s-p)/v):a>=h?(l[0]=.5*(o+n)/v,l[1]=.5*v,l[2]=.5*(p+s)/v,l[3]=.5*(c-r)/v):(l[0]=.5*(r+c)/v,l[1]=.5*(s+p)/v,l[2]=.5*v,l[3]=.5*(o-n)/v)}return l}},7774:function(m,l,t){"use strict";m.exports=function(h){var _=(h=h||{}).center||[0,0,0],x=h.rotation||[0,0,0,1],b=h.radius||1;_=[].slice.call(_,0,3),f(x=[].slice.call(x,0,4),x);var M=new w(x,_,Math.log(b));return M.setDistanceLimits(h.zoomMin,h.zoomMax),("eye"in h||"up"in h)&&M.lookAt(0,h.eye,h.center,h.up),M};var o=t(8444),r=t(3012),n=t(5950),a=t(7437),s=t(567);function c(h,_,x){return Math.sqrt(Math.pow(h,2)+Math.pow(_,2)+Math.pow(x,2))}function p(h,_,x,b){return Math.sqrt(Math.pow(h,2)+Math.pow(_,2)+Math.pow(x,2)+Math.pow(b,2))}function f(h,_){var x=_[0],b=_[1],M=_[2],d=_[3],E=p(x,b,M,d);E>1e-6?(h[0]=x/E,h[1]=b/E,h[2]=M/E,h[3]=d/E):(h[0]=h[1]=h[2]=0,h[3]=1)}function w(h,_,x){this.radius=o([x]),this.center=o(_),this.rotation=o(h),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var v=w.prototype;v.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},v.recalcMatrix=function(h){this.radius.curve(h),this.center.curve(h),this.rotation.curve(h);var _=this.computedRotation;f(_,_);var x=this.computedMatrix;n(x,_);var b=this.computedCenter,M=this.computedEye,d=this.computedUp,E=Math.exp(this.computedRadius[0]);M[0]=b[0]+E*x[2],M[1]=b[1]+E*x[6],M[2]=b[2]+E*x[10],d[0]=x[1],d[1]=x[5],d[2]=x[9];for(var k=0;k<3;++k){for(var I=0,L=0;L<3;++L)I+=x[k+4*L]*M[L];x[12+k]=-I}},v.getMatrix=function(h,_){this.recalcMatrix(h);var x=this.computedMatrix;if(_){for(var b=0;b<16;++b)_[b]=x[b];return _}return x},v.idle=function(h){this.center.idle(h),this.radius.idle(h),this.rotation.idle(h)},v.flush=function(h){this.center.flush(h),this.radius.flush(h),this.rotation.flush(h)},v.pan=function(h,_,x,b){_=_||0,x=x||0,b=b||0,this.recalcMatrix(h);var M=this.computedMatrix,d=M[1],E=M[5],k=M[9],I=c(d,E,k),L=M[0],P=M[4],R=M[8],z=L*(d/=I)+P*(E/=I)+R*(k/=I),$=c(L-=d*z,P-=E*z,R-=k*z),N=M[2],W=M[6],H=M[10],U=N*d+W*E+H*k,Z=N*(L/=$)+W*(P/=$)+H*(R/=$),Y=c(N-=U*d+Z*L,W-=U*E+Z*P,H-=U*k+Z*R);N/=Y,W/=Y,H/=Y,this.center.move(h,L*_+d*x,P*_+E*x,R*_+k*x);var K=Math.exp(this.computedRadius[0]);K=Math.max(1e-4,K+b),this.radius.set(h,Math.log(K))},v.rotate=function(h,_,x,b){this.recalcMatrix(h);var M=this.computedMatrix,R=M[2],z=M[6],$=M[10],N=(_=_||0)*M[0]+(x=x||0)*M[1],W=_*M[4]+x*M[5],H=_*M[8]+x*M[9],U=-(z*H-$*W),Z=-($*N-R*H),Y=-(R*W-z*N),ae=Math.sqrt(Math.max(0,1-Math.pow(U,2)-Math.pow(Z,2)-Math.pow(Y,2))),re=p(U,Z,Y,ae);re>1e-6?(U/=re,Z/=re,Y/=re,ae/=re):(U=Z=Y=0,ae=1);var Q=this.computedRotation,K=Q[0],te=Q[1],oe=Q[2],ue=Q[3],fe=K*ae+ue*U+te*Y-oe*Z,he=te*ae+ue*Z+oe*U-K*Y,me=oe*ae+ue*Y+K*Z-te*U,ke=ue*ae-K*U-te*Z-oe*Y;if(b){U=R,Z=z,Y=$;var Pe=Math.sin(b)/c(U,Z,Y);U*=Pe,Z*=Pe,Y*=Pe,ke=ke*(ae=Math.cos(_))-(fe=fe*ae+ke*U+he*Y-me*Z)*U-(he=he*ae+ke*Z+me*U-fe*Y)*Z-(me=me*ae+ke*Y+fe*Z-he*U)*Y}var Te=p(fe,he,me,ke);Te>1e-6?(fe/=Te,he/=Te,me/=Te,ke/=Te):(fe=he=me=0,ke=1),this.rotation.set(h,fe,he,me,ke)},v.lookAt=function(h,_,x,b){this.recalcMatrix(h);var M=this.computedMatrix;r(M,_=_||this.computedEye,x=x||this.computedCenter,b=b||this.computedUp);var d=this.computedRotation;s(d,M[0],M[1],M[2],M[4],M[5],M[6],M[8],M[9],M[10]),f(d,d),this.rotation.set(h,d[0],d[1],d[2],d[3]);for(var E=0,k=0;k<3;++k)E+=Math.pow(x[k]-_[k],2);this.radius.set(h,.5*Math.log(Math.max(E,1e-6))),this.center.set(h,x[0],x[1],x[2])},v.translate=function(h,_,x,b){this.center.move(h,_||0,x||0,b||0)},v.setMatrix=function(h,_){var x=this.computedRotation;s(x,_[0],_[1],_[2],_[4],_[5],_[6],_[8],_[9],_[10]),f(x,x),this.rotation.set(h,x[0],x[1],x[2],x[3]);var b=this.computedMatrix;a(b,_);var M=b[15];if(Math.abs(M)>1e-6){var d=b[12]/M,E=b[13]/M,k=b[14]/M;this.recalcMatrix(h);var I=Math.exp(this.computedRadius[0]);this.center.set(h,d-b[2]*I,E-b[6]*I,k-b[10]*I),this.radius.idle(h)}else this.center.idle(h),this.radius.idle(h)},v.setDistance=function(h,_){_>0&&this.radius.set(h,Math.log(_))},v.setDistanceLimits=function(h,_){h=h>0?Math.log(h):-1/0,_=_>0?Math.log(_):1/0,_=Math.max(_,h),this.radius.bounds[0][0]=h,this.radius.bounds[1][0]=_},v.getDistanceLimits=function(h){var _=this.radius.bounds;return h?(h[0]=Math.exp(_[0][0]),h[1]=Math.exp(_[1][0]),h):[Math.exp(_[0][0]),Math.exp(_[1][0])]},v.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},v.fromJSON=function(h){var _=this.lastT(),x=h.center;x&&this.center.set(_,x[0],x[1],x[2]);var b=h.rotation;b&&this.rotation.set(_,b[0],b[1],b[2],b[3]);var M=h.distance;M&&M>0&&this.radius.set(_,Math.log(M)),this.setDistanceLimits(h.zoomMin,h.zoomMax)}},4930:function(m,l,t){"use strict";var o=t(6184);m.exports=function(r,n,a){return o(a=void 0!==a?a+"":" ",n)+r}},4405:function(m){m.exports=function(l,t){t||(t=[0,""]),l=String(l);var o=parseFloat(l,10);return t[0]=o,t[1]=l.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(m,l,t){"use strict";m.exports=function(r,n){for(var a=0|n.length,s=r.length,c=[new Array(a),new Array(a)],p=0;p<a;++p)c[0][p]=[],c[1][p]=[];for(p=0;p<s;++p){var f=r[p];c[0][f[0]].push(f),c[1][f[1]].push(f)}var k,w=[];for(p=0;p<a;++p)c[0][p].length+c[1][p].length===0&&w.push([p]);function v(E,k){var I=c[k][E[k]];I.splice(I.indexOf(E),1)}function h(E,k,I){for(var L,P,R,z=0;z<2;++z)if(c[z][k].length>0){L=c[z][k][0],R=z;break}P=L[1^R];for(var $=0;$<2;++$)for(var N=c[$][k],W=0;W<N.length;++W){var H=N[W],U=H[1^$];o(n[E],n[k],n[P],n[U])>0&&(L=H,P=U,R=$)}return I||L&&v(L,R),P}function _(E,k){var I=c[k][E][0],L=[E];v(I,k);for(var P=I[1^k];;){for(;P!==E;)L.push(P),P=h(L[L.length-2],P,!1);if(c[0][E].length+c[1][E].length===0)break;var R=L[L.length-1],z=E,$=L[1],N=h(R,z,!0);if(o(n[R],n[z],n[$],n[N])<0)break;L.push(E),P=h(R,z)}return L}for(p=0;p<a;++p)for(var b=0;b<2;++b){for(var M=[];c[b][p].length>0;){var d=_(p,b);(k=d)[1]===k[k.length-1]?M.push.apply(M,d):(M.length>0&&w.push(M),M=d)}M.length>0&&w.push(M)}return w};var o=t(9398)},3959:function(m,l,t){"use strict";m.exports=function(r,n){for(var a=o(r,n.length),s=new Array(n.length),c=new Array(n.length),p=[],f=0;f<n.length;++f){var w=a[f].length;c[f]=w,s[f]=!0,w<=1&&p.push(f)}for(;p.length>0;){s[b=p.pop()]=!1;var v=a[b];for(f=0;f<v.length;++f){var h=v[f];0==--c[h]&&p.push(h)}}var _=new Array(n.length),x=[];for(f=0;f<n.length;++f)if(s[f]){var b=x.length;_[f]=b,x.push(n[f])}else _[f]=-1;var M=[];for(f=0;f<r.length;++f){var d=r[f];s[d[0]]&&s[d[1]]&&M.push([_[d[0]],_[d[1]]])}return[M,x]};var o=t(8348)},8040:function(m,l,t){"use strict";m.exports=function(w,v){for(var h=p(w,v),_=(v=h[1]).length,x=o(w=h[0],v.length),b=0;b<_;++b)if(x[b].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var M=r(w,v),d=(M=M.filter(function(Ne){for(var Se=Ne.length,Ce=[0],pe=0;pe<Se;++pe){var de=v[Ne[pe]],se=v[Ne[(pe+1)%Se]],we=a(-de[0],de[1]),Re=a(-de[0],se[1]),Ee=a(se[0],de[1]),Ue=a(se[0],se[1]);Ce=s(Ce,s(s(we,Re),s(Ee,Ue)))}return Ce[Ce.length-1]>0})).length,E=new Array(d),k=new Array(d);for(b=0;b<d;++b){E[b]=b;var I=new Array(d),L=M[b].map(function(Ne){return v[Ne]}),P=n([L]),R=0;e:for(var z=0;z<d;++z)if(I[z]=0,b!==z){for(var $=(be=M[z]).length,N=0;N<$;++N){var W=P(v[be[N]]);if(0!==W){W<0&&(I[z]=1,R+=1);continue e}}I[z]=1,R+=1}k[b]=[R,b,I]}for(k.sort(function(Ne,Se){return Se[0]-Ne[0]}),b=0;b<d;++b){var H=(I=k[b])[1],U=I[2];for(z=0;z<d;++z)U[z]&&(E[z]=H)}var Z=function(Ne){for(var Se=new Array(Ne),Ce=0;Ce<Ne;++Ce)Se[Ce]=[];return Se}(d);for(b=0;b<d;++b)Z[b].push(E[b]),Z[E[b]].push(b);var Y={},ae=f(_,!1);for(b=0;b<d;++b)for($=(be=M[b]).length,z=0;z<$;++z){var re=be[z],Q=be[(z+1)%$],K=Math.min(re,Q)+":"+Math.max(re,Q);if(K in Y){var te=Y[K];Z[te].push(b),Z[b].push(te),ae[re]=ae[Q]=!0}else Y[K]=b}function oe(Ne){for(var Se=Ne.length,Ce=0;Ce<Se;++Ce)if(!ae[Ne[Ce]])return!1;return!0}var ue=[],fe=f(d,-1);for(b=0;b<d;++b)E[b]!==b||oe(M[b])?fe[b]=-1:(ue.push(b),fe[b]=0);for(h=[];ue.length>0;){var he=ue.pop(),me=Z[he];c(me,function(Ne,Se){return Ne-Se});var ke,Pe=me.length,Te=fe[he];for(0===Te&&(ke=[be=M[he]]),b=0;b<Pe;++b){var be,xe=me[b];fe[xe]>=0||(fe[xe]=1^Te,ue.push(xe),0===Te&&(oe(be=M[xe])||(be.reverse(),ke.push(be))))}0===Te&&h.push(ke)}return h};var o=t(8348),r=t(4166),n=t(211),a=t(9660),s=t(9662),c=t(1215),p=t(3959);function f(w,v){for(var h=new Array(w),_=0;_<w;++_)h[_]=v;return h}},211:function(m,l,t){m.exports=function(f){for(var w=f.length,v=[],h=[],_=0;_<w;++_)for(var x=f[_],b=x.length,M=b-1,d=0;d<b;M=d++){var E=x[M],k=x[d];E[0]===k[0]?h.push([E,k]):v.push([E,k])}if(0===v.length)return 0===h.length?p:(I=c(h),function(R){return I(R[0],R[1])?0:1});var I,R,z,L=r(v),P=(R=L.slabs,z=L.coordinates,function($){var N=a.le(z,$[0]);if(N<0)return 1;var W=R[N];if(!W){if(!(N>0&&z[N]===$[0]))return 1;W=R[N-1]}for(var H=1;W;){var U=W.key,Z=o($,U[0],U[1]);if(U[0][0]<U[1][0])if(Z<0)W=W.left;else{if(!(Z>0))return 0;H=-1,W=W.right}else if(Z>0)W=W.left;else{if(!(Z<0))return 0;H=1,W=W.right}}return H});return 0===h.length?P:function(R,z){return function($){return R($[0],$[1])?0:z($)}}(c(h),P)};var o=t(417)[3],r=t(4385),n=t(9014),a=t(5070);function s(){return!0}function c(f){for(var w={},v=0;v<f.length;++v){var h=f[v],_=h[0][0],x=h[0][1],b=h[1][1],M=[Math.min(x,b),Math.max(x,b)];_ in w?w[_].push(M):w[_]=[M]}var I,d={},E=Object.keys(w);for(v=0;v<E.length;++v)d[E[v]]=n(w[E[v]]);return I=d,function(L,P){var R=I[L];return!!R&&!!R.queryPoint(P,s)}}function p(f){return 1}},7309:function(m){"use strict";var l=new Float64Array(4),t=new Float64Array(4),o=new Float64Array(4);m.exports=function(r,n,a,s,c){l.length<s.length&&(l=new Float64Array(s.length),t=new Float64Array(s.length),o=new Float64Array(s.length));for(var p=0;p<s.length;++p)l[p]=r[p]-s[p],t[p]=n[p]-r[p],o[p]=a[p]-r[p];var f=0,w=0,v=0,h=0,_=0,x=0;for(p=0;p<s.length;++p){var b=t[p],M=o[p],d=l[p];f+=b*b,w+=b*M,v+=M*M,h+=d*b,_+=d*M,x+=d*d}var E,k,I,L,P,R=Math.abs(f*v-w*w),z=w*_-v*h,$=w*h-f*_;if(z+$<=R)if(z<0)$<0&&h<0?($=0,-h>=f?(z=1,E=f+2*h+x):E=h*(z=-h/f)+x):(z=0,_>=0?($=0,E=x):-_>=v?($=1,E=v+2*_+x):E=_*($=-_/v)+x);else if($<0)$=0,h>=0?(z=0,E=x):-h>=f?(z=1,E=f+2*h+x):E=h*(z=-h/f)+x;else{var N=1/R;E=(z*=N)*(f*z+w*($*=N)+2*h)+$*(w*z+v*$+2*_)+x}else z<0?(I=v+_)>(k=w+h)?(L=I-k)>=(P=f-2*w+v)?(z=1,$=0,E=f+2*h+x):E=(z=L/P)*(f*z+w*($=1-z)+2*h)+$*(w*z+v*$+2*_)+x:(z=0,I<=0?($=1,E=v+2*_+x):_>=0?($=0,E=x):E=_*($=-_/v)+x):$<0?(I=f+h)>(k=w+_)?(L=I-k)>=(P=f-2*w+v)?($=1,z=0,E=v+2*_+x):E=(z=1-($=L/P))*(f*z+w*$+2*h)+$*(w*z+v*$+2*_)+x:($=0,I<=0?(z=1,E=f+2*h+x):h>=0?(z=0,E=x):E=h*(z=-h/f)+x):(L=v+_-w-h)<=0?(z=0,$=1,E=v+2*_+x):L>=(P=f-2*w+v)?(z=1,$=0,E=f+2*h+x):E=(z=L/P)*(f*z+w*($=1-z)+2*h)+$*(w*z+v*$+2*_)+x;var W=1-z-$;for(p=0;p<s.length;++p)c[p]=W*r[p]+z*n[p]+$*a[p];return E<0?0:E}},1116:function(m,l,t){m.exports=t(6093)},7584:function(m,l,t){"use strict";var o=t(1539);m.exports=function(r,n){for(var a=r.length,s=new Array(a),c=0;c<a;++c)s[c]=o(r[c],n[c]);return s}},2826:function(m,l,t){"use strict";m.exports=function(r){for(var n=new Array(r.length),a=0;a<r.length;++a)n[a]=o(r[a]);return n};var o=t(5125)},4469:function(m,l,t){"use strict";var o=t(5125),r=t(3962);m.exports=function(n,a){for(var s=o(a),c=n.length,p=new Array(c),f=0;f<c;++f)p[f]=r(n[f],s);return p}},6695:function(m,l,t){"use strict";var o=t(4354);m.exports=function(r,n){for(var a=r.length,s=new Array(a),c=0;c<a;++c)s[c]=o(r[c],n[c]);return s}},7037:function(m,l,t){"use strict";var o=t(9209),r=t(1284),n=t(9887);m.exports=function(a){a.sort(r);for(var s=a.length,c=0,p=0;p<s;++p){var f=a[p],w=n(f);if(0!==w){if(c>0){var v=a[c-1];if(0===o(f,v)&&n(v)!==w){c-=1;continue}}a[c++]=f}}return a.length=c,a}},6184:function(m){"use strict";var l,t="";m.exports=function(o,r){if("string"!=typeof o)throw new TypeError("expected a string");if(1===r)return o;if(2===r)return o+o;var n=o.length*r;if(l!==o||void 0===l)l=o,t="";else if(t.length>=n)return t.substr(0,n);for(;n>t.length&&r>1;)1&r&&(t+=o),r>>=1,o+=o;return t=(t+=o).substr(0,n)}},8161:function(m,l,t){m.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(m){"use strict";m.exports=function(l){for(var t=l.length,o=l[l.length-1],r=t,n=t-2;n>=0;--n){var a=o;(p=(c=l[n])-((o=a+c)-a))&&(l[--r]=o,o=p)}var s=0;for(n=r;n<t;++n){var c,p;(p=(c=o)-((o=(a=l[n])+c)-a))&&(l[s++]=p)}return l[s++]=o,l.length=s,l}},8167:function(m,l,t){"use strict";var o=t(9660),r=t(9662),n=t(8289),a=t(402);function s(_,x,b,M){return function(d){return M(_(b(d[0][0],d[1][1]),b(-d[0][1],d[1][0])))}}function c(_,x,b,M){return function(d){return M(_(x(_(b(d[1][1],d[2][2]),b(-d[1][2],d[2][1])),d[0][0]),_(x(_(b(d[1][0],d[2][2]),b(-d[1][2],d[2][0])),-d[0][1]),x(_(b(d[1][0],d[2][1]),b(-d[1][1],d[2][0])),d[0][2]))))}}function p(_,x,b,M){return function(d){return M(_(_(x(_(x(_(b(d[2][2],d[3][3]),b(-d[2][3],d[3][2])),d[1][1]),_(x(_(b(d[2][1],d[3][3]),b(-d[2][3],d[3][1])),-d[1][2]),x(_(b(d[2][1],d[3][2]),b(-d[2][2],d[3][1])),d[1][3]))),d[0][0]),x(_(x(_(b(d[2][2],d[3][3]),b(-d[2][3],d[3][2])),d[1][0]),_(x(_(b(d[2][0],d[3][3]),b(-d[2][3],d[3][0])),-d[1][2]),x(_(b(d[2][0],d[3][2]),b(-d[2][2],d[3][0])),d[1][3]))),-d[0][1])),_(x(_(x(_(b(d[2][1],d[3][3]),b(-d[2][3],d[3][1])),d[1][0]),_(x(_(b(d[2][0],d[3][3]),b(-d[2][3],d[3][0])),-d[1][1]),x(_(b(d[2][0],d[3][1]),b(-d[2][1],d[3][0])),d[1][3]))),d[0][2]),x(_(x(_(b(d[2][1],d[3][2]),b(-d[2][2],d[3][1])),d[1][0]),_(x(_(b(d[2][0],d[3][2]),b(-d[2][2],d[3][0])),-d[1][1]),x(_(b(d[2][0],d[3][1]),b(-d[2][1],d[3][0])),d[1][2]))),-d[0][3]))))}}function f(_,x,b,M){return function(d){return M(_(_(x(_(_(x(_(x(_(b(d[3][3],d[4][4]),b(-d[3][4],d[4][3])),d[2][2]),_(x(_(b(d[3][2],d[4][4]),b(-d[3][4],d[4][2])),-d[2][3]),x(_(b(d[3][2],d[4][3]),b(-d[3][3],d[4][2])),d[2][4]))),d[1][1]),x(_(x(_(b(d[3][3],d[4][4]),b(-d[3][4],d[4][3])),d[2][1]),_(x(_(b(d[3][1],d[4][4]),b(-d[3][4],d[4][1])),-d[2][3]),x(_(b(d[3][1],d[4][3]),b(-d[3][3],d[4][1])),d[2][4]))),-d[1][2])),_(x(_(x(_(b(d[3][2],d[4][4]),b(-d[3][4],d[4][2])),d[2][1]),_(x(_(b(d[3][1],d[4][4]),b(-d[3][4],d[4][1])),-d[2][2]),x(_(b(d[3][1],d[4][2]),b(-d[3][2],d[4][1])),d[2][4]))),d[1][3]),x(_(x(_(b(d[3][2],d[4][3]),b(-d[3][3],d[4][2])),d[2][1]),_(x(_(b(d[3][1],d[4][3]),b(-d[3][3],d[4][1])),-d[2][2]),x(_(b(d[3][1],d[4][2]),b(-d[3][2],d[4][1])),d[2][3]))),-d[1][4]))),d[0][0]),x(_(_(x(_(x(_(b(d[3][3],d[4][4]),b(-d[3][4],d[4][3])),d[2][2]),_(x(_(b(d[3][2],d[4][4]),b(-d[3][4],d[4][2])),-d[2][3]),x(_(b(d[3][2],d[4][3]),b(-d[3][3],d[4][2])),d[2][4]))),d[1][0]),x(_(x(_(b(d[3][3],d[4][4]),b(-d[3][4],d[4][3])),d[2][0]),_(x(_(b(d[3][0],d[4][4]),b(-d[3][4],d[4][0])),-d[2][3]),x(_(b(d[3][0],d[4][3]),b(-d[3][3],d[4][0])),d[2][4]))),-d[1][2])),_(x(_(x(_(b(d[3][2],d[4][4]),b(-d[3][4],d[4][2])),d[2][0]),_(x(_(b(d[3][0],d[4][4]),b(-d[3][4],d[4][0])),-d[2][2]),x(_(b(d[3][0],d[4][2]),b(-d[3][2],d[4][0])),d[2][4]))),d[1][3]),x(_(x(_(b(d[3][2],d[4][3]),b(-d[3][3],d[4][2])),d[2][0]),_(x(_(b(d[3][0],d[4][3]),b(-d[3][3],d[4][0])),-d[2][2]),x(_(b(d[3][0],d[4][2]),b(-d[3][2],d[4][0])),d[2][3]))),-d[1][4]))),-d[0][1])),_(x(_(_(x(_(x(_(b(d[3][3],d[4][4]),b(-d[3][4],d[4][3])),d[2][1]),_(x(_(b(d[3][1],d[4][4]),b(-d[3][4],d[4][1])),-d[2][3]),x(_(b(d[3][1],d[4][3]),b(-d[3][3],d[4][1])),d[2][4]))),d[1][0]),x(_(x(_(b(d[3][3],d[4][4]),b(-d[3][4],d[4][3])),d[2][0]),_(x(_(b(d[3][0],d[4][4]),b(-d[3][4],d[4][0])),-d[2][3]),x(_(b(d[3][0],d[4][3]),b(-d[3][3],d[4][0])),d[2][4]))),-d[1][1])),_(x(_(x(_(b(d[3][1],d[4][4]),b(-d[3][4],d[4][1])),d[2][0]),_(x(_(b(d[3][0],d[4][4]),b(-d[3][4],d[4][0])),-d[2][1]),x(_(b(d[3][0],d[4][1]),b(-d[3][1],d[4][0])),d[2][4]))),d[1][3]),x(_(x(_(b(d[3][1],d[4][3]),b(-d[3][3],d[4][1])),d[2][0]),_(x(_(b(d[3][0],d[4][3]),b(-d[3][3],d[4][0])),-d[2][1]),x(_(b(d[3][0],d[4][1]),b(-d[3][1],d[4][0])),d[2][3]))),-d[1][4]))),d[0][2]),_(x(_(_(x(_(x(_(b(d[3][2],d[4][4]),b(-d[3][4],d[4][2])),d[2][1]),_(x(_(b(d[3][1],d[4][4]),b(-d[3][4],d[4][1])),-d[2][2]),x(_(b(d[3][1],d[4][2]),b(-d[3][2],d[4][1])),d[2][4]))),d[1][0]),x(_(x(_(b(d[3][2],d[4][4]),b(-d[3][4],d[4][2])),d[2][0]),_(x(_(b(d[3][0],d[4][4]),b(-d[3][4],d[4][0])),-d[2][2]),x(_(b(d[3][0],d[4][2]),b(-d[3][2],d[4][0])),d[2][4]))),-d[1][1])),_(x(_(x(_(b(d[3][1],d[4][4]),b(-d[3][4],d[4][1])),d[2][0]),_(x(_(b(d[3][0],d[4][4]),b(-d[3][4],d[4][0])),-d[2][1]),x(_(b(d[3][0],d[4][1]),b(-d[3][1],d[4][0])),d[2][4]))),d[1][2]),x(_(x(_(b(d[3][1],d[4][2]),b(-d[3][2],d[4][1])),d[2][0]),_(x(_(b(d[3][0],d[4][2]),b(-d[3][2],d[4][0])),-d[2][1]),x(_(b(d[3][0],d[4][1]),b(-d[3][1],d[4][0])),d[2][2]))),-d[1][4]))),-d[0][3]),x(_(_(x(_(x(_(b(d[3][2],d[4][3]),b(-d[3][3],d[4][2])),d[2][1]),_(x(_(b(d[3][1],d[4][3]),b(-d[3][3],d[4][1])),-d[2][2]),x(_(b(d[3][1],d[4][2]),b(-d[3][2],d[4][1])),d[2][3]))),d[1][0]),x(_(x(_(b(d[3][2],d[4][3]),b(-d[3][3],d[4][2])),d[2][0]),_(x(_(b(d[3][0],d[4][3]),b(-d[3][3],d[4][0])),-d[2][2]),x(_(b(d[3][0],d[4][2]),b(-d[3][2],d[4][0])),d[2][3]))),-d[1][1])),_(x(_(x(_(b(d[3][1],d[4][3]),b(-d[3][3],d[4][1])),d[2][0]),_(x(_(b(d[3][0],d[4][3]),b(-d[3][3],d[4][0])),-d[2][1]),x(_(b(d[3][0],d[4][1]),b(-d[3][1],d[4][0])),d[2][3]))),d[1][2]),x(_(x(_(b(d[3][1],d[4][2]),b(-d[3][2],d[4][1])),d[2][0]),_(x(_(b(d[3][0],d[4][2]),b(-d[3][2],d[4][0])),-d[2][1]),x(_(b(d[3][0],d[4][1]),b(-d[3][1],d[4][0])),d[2][2]))),-d[1][3]))),d[0][4])))))}}function w(_){return(2===_?s:3===_?c:4===_?p:5===_?f:void 0)(r,n,o,a)}var v=[function(){return[0]},function(_){return[_[0][0]]}];function h(_,x,b,M,d,E,k,I){return function(L){switch(L.length){case 0:return _(L);case 1:return x(L);case 2:return b(L);case 3:return M(L);case 4:return d(L);case 5:return E(L)}var P=k[L.length];return P||(P=k[L.length]=I(L.length)),P(L)}}!function(){for(;v.length<6;)v.push(w(v.length));m.exports=h.apply(void 0,v.concat([v,w]));for(var _=0;_<v.length;++_)m.exports[_]=v[_]}()},9130:function(m,l,t){"use strict";var o=t(9660),r=t(9662);m.exports=function(n,a){for(var s=o(n[0],a[0]),c=1;c<n.length;++c)s=r(s,o(n[c],a[c]));return s}},2227:function(m,l,t){"use strict";var o=t(9660),r=t(9662),n=t(4078),a=t(8289);function s(x){return(3===x?c:4===x?p:5===x?f:w)(r,n,o,a)}function c(x,b,M,d){return function(E,k,I){var L=M(E[0],E[0]),P=d(L,k[0]),R=d(L,I[0]),z=M(k[0],k[0]),$=d(z,E[0]),N=d(z,I[0]),W=M(I[0],I[0]),H=d(W,E[0]),U=d(W,k[0]),Z=x(b(U,N),b($,P)),Y=b(H,R),ae=b(Z,Y);return ae[ae.length-1]}}function p(x,b,M,d){return function(E,k,I,L){var P=x(M(E[0],E[0]),M(E[1],E[1])),R=d(P,k[0]),z=d(P,I[0]),$=d(P,L[0]),N=x(M(k[0],k[0]),M(k[1],k[1])),W=d(N,E[0]),H=d(N,I[0]),U=d(N,L[0]),Z=x(M(I[0],I[0]),M(I[1],I[1])),Y=d(Z,E[0]),ae=d(Z,k[0]),re=d(Z,L[0]),Q=x(M(L[0],L[0]),M(L[1],L[1])),K=d(Q,E[0]),te=d(Q,k[0]),oe=d(Q,I[0]),ue=x(x(d(b(oe,re),k[1]),x(d(b(te,U),-I[1]),d(b(ae,H),L[1]))),x(d(b(te,U),E[1]),x(d(b(K,$),-k[1]),d(b(W,R),L[1])))),fe=x(x(d(b(oe,re),E[1]),x(d(b(K,$),-I[1]),d(b(Y,z),L[1]))),x(d(b(ae,H),E[1]),x(d(b(Y,z),-k[1]),d(b(W,R),I[1])))),he=b(ue,fe);return he[he.length-1]}}function f(x,b,M,d){return function(E,k,I,L,P){var R=x(M(E[0],E[0]),x(M(E[1],E[1]),M(E[2],E[2]))),z=d(R,k[0]),$=d(R,I[0]),N=d(R,L[0]),W=d(R,P[0]),H=x(M(k[0],k[0]),x(M(k[1],k[1]),M(k[2],k[2]))),U=d(H,E[0]),Z=d(H,I[0]),Y=d(H,L[0]),ae=d(H,P[0]),re=x(M(I[0],I[0]),x(M(I[1],I[1]),M(I[2],I[2]))),Q=d(re,E[0]),K=d(re,k[0]),te=d(re,L[0]),oe=d(re,P[0]),ue=x(M(L[0],L[0]),x(M(L[1],L[1]),M(L[2],L[2]))),fe=d(ue,E[0]),he=d(ue,k[0]),me=d(ue,I[0]),ke=d(ue,P[0]),Pe=x(M(P[0],P[0]),x(M(P[1],P[1]),M(P[2],P[2]))),Te=d(Pe,E[0]),be=d(Pe,k[0]),xe=d(Pe,I[0]),Ne=d(Pe,L[0]),Se=x(x(x(d(x(d(b(Ne,ke),I[1]),x(d(b(xe,oe),-L[1]),d(b(me,te),P[1]))),k[2]),x(d(x(d(b(Ne,ke),k[1]),x(d(b(be,ae),-L[1]),d(b(he,Y),P[1]))),-I[2]),d(x(d(b(xe,oe),k[1]),x(d(b(be,ae),-I[1]),d(b(K,Z),P[1]))),L[2]))),x(d(x(d(b(me,te),k[1]),x(d(b(he,Y),-I[1]),d(b(K,Z),L[1]))),-P[2]),x(d(x(d(b(Ne,ke),k[1]),x(d(b(be,ae),-L[1]),d(b(he,Y),P[1]))),E[2]),d(x(d(b(Ne,ke),E[1]),x(d(b(Te,W),-L[1]),d(b(fe,N),P[1]))),-k[2])))),x(x(d(x(d(b(be,ae),E[1]),x(d(b(Te,W),-k[1]),d(b(U,z),P[1]))),L[2]),x(d(x(d(b(he,Y),E[1]),x(d(b(fe,N),-k[1]),d(b(U,z),L[1]))),-P[2]),d(x(d(b(me,te),k[1]),x(d(b(he,Y),-I[1]),d(b(K,Z),L[1]))),E[2]))),x(d(x(d(b(me,te),E[1]),x(d(b(fe,N),-I[1]),d(b(Q,$),L[1]))),-k[2]),x(d(x(d(b(he,Y),E[1]),x(d(b(fe,N),-k[1]),d(b(U,z),L[1]))),I[2]),d(x(d(b(K,Z),E[1]),x(d(b(Q,$),-k[1]),d(b(U,z),I[1]))),-L[2]))))),Ce=x(x(x(d(x(d(b(Ne,ke),I[1]),x(d(b(xe,oe),-L[1]),d(b(me,te),P[1]))),E[2]),d(x(d(b(Ne,ke),E[1]),x(d(b(Te,W),-L[1]),d(b(fe,N),P[1]))),-I[2])),x(d(x(d(b(xe,oe),E[1]),x(d(b(Te,W),-I[1]),d(b(Q,$),P[1]))),L[2]),d(x(d(b(me,te),E[1]),x(d(b(fe,N),-I[1]),d(b(Q,$),L[1]))),-P[2]))),x(x(d(x(d(b(xe,oe),k[1]),x(d(b(be,ae),-I[1]),d(b(K,Z),P[1]))),E[2]),d(x(d(b(xe,oe),E[1]),x(d(b(Te,W),-I[1]),d(b(Q,$),P[1]))),-k[2])),x(d(x(d(b(be,ae),E[1]),x(d(b(Te,W),-k[1]),d(b(U,z),P[1]))),I[2]),d(x(d(b(K,Z),E[1]),x(d(b(Q,$),-k[1]),d(b(U,z),I[1]))),-P[2])))),pe=b(Se,Ce);return pe[pe.length-1]}}function w(x,b,M,d){return function(E,k,I,L,P,R){var z=x(x(M(E[0],E[0]),M(E[1],E[1])),x(M(E[2],E[2]),M(E[3],E[3]))),$=d(z,k[0]),N=d(z,I[0]),W=d(z,L[0]),H=d(z,P[0]),U=d(z,R[0]),Z=x(x(M(k[0],k[0]),M(k[1],k[1])),x(M(k[2],k[2]),M(k[3],k[3]))),Y=d(Z,E[0]),ae=d(Z,I[0]),re=d(Z,L[0]),Q=d(Z,P[0]),K=d(Z,R[0]),te=x(x(M(I[0],I[0]),M(I[1],I[1])),x(M(I[2],I[2]),M(I[3],I[3]))),oe=d(te,E[0]),ue=d(te,k[0]),fe=d(te,L[0]),he=d(te,P[0]),me=d(te,R[0]),ke=x(x(M(L[0],L[0]),M(L[1],L[1])),x(M(L[2],L[2]),M(L[3],L[3]))),Pe=d(ke,E[0]),Te=d(ke,k[0]),be=d(ke,I[0]),xe=d(ke,P[0]),Ne=d(ke,R[0]),Se=x(x(M(P[0],P[0]),M(P[1],P[1])),x(M(P[2],P[2]),M(P[3],P[3]))),Ce=d(Se,E[0]),pe=d(Se,k[0]),de=d(Se,I[0]),se=d(Se,L[0]),we=d(Se,R[0]),Re=x(x(M(R[0],R[0]),M(R[1],R[1])),x(M(R[2],R[2]),M(R[3],R[3]))),Ee=d(Re,E[0]),Ue=d(Re,k[0]),$e=d(Re,I[0]),ve=d(Re,L[0]),Ie=d(Re,P[0]),De=x(x(x(d(x(x(d(x(d(b(Ie,we),L[1]),x(d(b(ve,Ne),-P[1]),d(b(se,xe),R[1]))),I[2]),d(x(d(b(Ie,we),I[1]),x(d(b($e,me),-P[1]),d(b(de,he),R[1]))),-L[2])),x(d(x(d(b(ve,Ne),I[1]),x(d(b($e,me),-L[1]),d(b(be,fe),R[1]))),P[2]),d(x(d(b(se,xe),I[1]),x(d(b(de,he),-L[1]),d(b(be,fe),P[1]))),-R[2]))),k[3]),x(d(x(x(d(x(d(b(Ie,we),L[1]),x(d(b(ve,Ne),-P[1]),d(b(se,xe),R[1]))),k[2]),d(x(d(b(Ie,we),k[1]),x(d(b(Ue,K),-P[1]),d(b(pe,Q),R[1]))),-L[2])),x(d(x(d(b(ve,Ne),k[1]),x(d(b(Ue,K),-L[1]),d(b(Te,re),R[1]))),P[2]),d(x(d(b(se,xe),k[1]),x(d(b(pe,Q),-L[1]),d(b(Te,re),P[1]))),-R[2]))),-I[3]),d(x(x(d(x(d(b(Ie,we),I[1]),x(d(b($e,me),-P[1]),d(b(de,he),R[1]))),k[2]),d(x(d(b(Ie,we),k[1]),x(d(b(Ue,K),-P[1]),d(b(pe,Q),R[1]))),-I[2])),x(d(x(d(b($e,me),k[1]),x(d(b(Ue,K),-I[1]),d(b(ue,ae),R[1]))),P[2]),d(x(d(b(de,he),k[1]),x(d(b(pe,Q),-I[1]),d(b(ue,ae),P[1]))),-R[2]))),L[3]))),x(x(d(x(x(d(x(d(b(ve,Ne),I[1]),x(d(b($e,me),-L[1]),d(b(be,fe),R[1]))),k[2]),d(x(d(b(ve,Ne),k[1]),x(d(b(Ue,K),-L[1]),d(b(Te,re),R[1]))),-I[2])),x(d(x(d(b($e,me),k[1]),x(d(b(Ue,K),-I[1]),d(b(ue,ae),R[1]))),L[2]),d(x(d(b(be,fe),k[1]),x(d(b(Te,re),-I[1]),d(b(ue,ae),L[1]))),-R[2]))),-P[3]),d(x(x(d(x(d(b(se,xe),I[1]),x(d(b(de,he),-L[1]),d(b(be,fe),P[1]))),k[2]),d(x(d(b(se,xe),k[1]),x(d(b(pe,Q),-L[1]),d(b(Te,re),P[1]))),-I[2])),x(d(x(d(b(de,he),k[1]),x(d(b(pe,Q),-I[1]),d(b(ue,ae),P[1]))),L[2]),d(x(d(b(be,fe),k[1]),x(d(b(Te,re),-I[1]),d(b(ue,ae),L[1]))),-P[2]))),R[3])),x(d(x(x(d(x(d(b(Ie,we),L[1]),x(d(b(ve,Ne),-P[1]),d(b(se,xe),R[1]))),k[2]),d(x(d(b(Ie,we),k[1]),x(d(b(Ue,K),-P[1]),d(b(pe,Q),R[1]))),-L[2])),x(d(x(d(b(ve,Ne),k[1]),x(d(b(Ue,K),-L[1]),d(b(Te,re),R[1]))),P[2]),d(x(d(b(se,xe),k[1]),x(d(b(pe,Q),-L[1]),d(b(Te,re),P[1]))),-R[2]))),E[3]),d(x(x(d(x(d(b(Ie,we),L[1]),x(d(b(ve,Ne),-P[1]),d(b(se,xe),R[1]))),E[2]),d(x(d(b(Ie,we),E[1]),x(d(b(Ee,U),-P[1]),d(b(Ce,H),R[1]))),-L[2])),x(d(x(d(b(ve,Ne),E[1]),x(d(b(Ee,U),-L[1]),d(b(Pe,W),R[1]))),P[2]),d(x(d(b(se,xe),E[1]),x(d(b(Ce,H),-L[1]),d(b(Pe,W),P[1]))),-R[2]))),-k[3])))),x(x(x(d(x(x(d(x(d(b(Ie,we),k[1]),x(d(b(Ue,K),-P[1]),d(b(pe,Q),R[1]))),E[2]),d(x(d(b(Ie,we),E[1]),x(d(b(Ee,U),-P[1]),d(b(Ce,H),R[1]))),-k[2])),x(d(x(d(b(Ue,K),E[1]),x(d(b(Ee,U),-k[1]),d(b(Y,$),R[1]))),P[2]),d(x(d(b(pe,Q),E[1]),x(d(b(Ce,H),-k[1]),d(b(Y,$),P[1]))),-R[2]))),L[3]),d(x(x(d(x(d(b(ve,Ne),k[1]),x(d(b(Ue,K),-L[1]),d(b(Te,re),R[1]))),E[2]),d(x(d(b(ve,Ne),E[1]),x(d(b(Ee,U),-L[1]),d(b(Pe,W),R[1]))),-k[2])),x(d(x(d(b(Ue,K),E[1]),x(d(b(Ee,U),-k[1]),d(b(Y,$),R[1]))),L[2]),d(x(d(b(Te,re),E[1]),x(d(b(Pe,W),-k[1]),d(b(Y,$),L[1]))),-R[2]))),-P[3])),x(d(x(x(d(x(d(b(se,xe),k[1]),x(d(b(pe,Q),-L[1]),d(b(Te,re),P[1]))),E[2]),d(x(d(b(se,xe),E[1]),x(d(b(Ce,H),-L[1]),d(b(Pe,W),P[1]))),-k[2])),x(d(x(d(b(pe,Q),E[1]),x(d(b(Ce,H),-k[1]),d(b(Y,$),P[1]))),L[2]),d(x(d(b(Te,re),E[1]),x(d(b(Pe,W),-k[1]),d(b(Y,$),L[1]))),-P[2]))),R[3]),d(x(x(d(x(d(b(ve,Ne),I[1]),x(d(b($e,me),-L[1]),d(b(be,fe),R[1]))),k[2]),d(x(d(b(ve,Ne),k[1]),x(d(b(Ue,K),-L[1]),d(b(Te,re),R[1]))),-I[2])),x(d(x(d(b($e,me),k[1]),x(d(b(Ue,K),-I[1]),d(b(ue,ae),R[1]))),L[2]),d(x(d(b(be,fe),k[1]),x(d(b(Te,re),-I[1]),d(b(ue,ae),L[1]))),-R[2]))),E[3]))),x(x(d(x(x(d(x(d(b(ve,Ne),I[1]),x(d(b($e,me),-L[1]),d(b(be,fe),R[1]))),E[2]),d(x(d(b(ve,Ne),E[1]),x(d(b(Ee,U),-L[1]),d(b(Pe,W),R[1]))),-I[2])),x(d(x(d(b($e,me),E[1]),x(d(b(Ee,U),-I[1]),d(b(oe,N),R[1]))),L[2]),d(x(d(b(be,fe),E[1]),x(d(b(Pe,W),-I[1]),d(b(oe,N),L[1]))),-R[2]))),-k[3]),d(x(x(d(x(d(b(ve,Ne),k[1]),x(d(b(Ue,K),-L[1]),d(b(Te,re),R[1]))),E[2]),d(x(d(b(ve,Ne),E[1]),x(d(b(Ee,U),-L[1]),d(b(Pe,W),R[1]))),-k[2])),x(d(x(d(b(Ue,K),E[1]),x(d(b(Ee,U),-k[1]),d(b(Y,$),R[1]))),L[2]),d(x(d(b(Te,re),E[1]),x(d(b(Pe,W),-k[1]),d(b(Y,$),L[1]))),-R[2]))),I[3])),x(d(x(x(d(x(d(b($e,me),k[1]),x(d(b(Ue,K),-I[1]),d(b(ue,ae),R[1]))),E[2]),d(x(d(b($e,me),E[1]),x(d(b(Ee,U),-I[1]),d(b(oe,N),R[1]))),-k[2])),x(d(x(d(b(Ue,K),E[1]),x(d(b(Ee,U),-k[1]),d(b(Y,$),R[1]))),I[2]),d(x(d(b(ue,ae),E[1]),x(d(b(oe,N),-k[1]),d(b(Y,$),I[1]))),-R[2]))),-L[3]),d(x(x(d(x(d(b(be,fe),k[1]),x(d(b(Te,re),-I[1]),d(b(ue,ae),L[1]))),E[2]),d(x(d(b(be,fe),E[1]),x(d(b(Pe,W),-I[1]),d(b(oe,N),L[1]))),-k[2])),x(d(x(d(b(Te,re),E[1]),x(d(b(Pe,W),-k[1]),d(b(Y,$),L[1]))),I[2]),d(x(d(b(ue,ae),E[1]),x(d(b(oe,N),-k[1]),d(b(Y,$),I[1]))),-L[2]))),R[3]))))),ze=x(x(x(d(x(x(d(x(d(b(Ie,we),L[1]),x(d(b(ve,Ne),-P[1]),d(b(se,xe),R[1]))),I[2]),d(x(d(b(Ie,we),I[1]),x(d(b($e,me),-P[1]),d(b(de,he),R[1]))),-L[2])),x(d(x(d(b(ve,Ne),I[1]),x(d(b($e,me),-L[1]),d(b(be,fe),R[1]))),P[2]),d(x(d(b(se,xe),I[1]),x(d(b(de,he),-L[1]),d(b(be,fe),P[1]))),-R[2]))),E[3]),x(d(x(x(d(x(d(b(Ie,we),L[1]),x(d(b(ve,Ne),-P[1]),d(b(se,xe),R[1]))),E[2]),d(x(d(b(Ie,we),E[1]),x(d(b(Ee,U),-P[1]),d(b(Ce,H),R[1]))),-L[2])),x(d(x(d(b(ve,Ne),E[1]),x(d(b(Ee,U),-L[1]),d(b(Pe,W),R[1]))),P[2]),d(x(d(b(se,xe),E[1]),x(d(b(Ce,H),-L[1]),d(b(Pe,W),P[1]))),-R[2]))),-I[3]),d(x(x(d(x(d(b(Ie,we),I[1]),x(d(b($e,me),-P[1]),d(b(de,he),R[1]))),E[2]),d(x(d(b(Ie,we),E[1]),x(d(b(Ee,U),-P[1]),d(b(Ce,H),R[1]))),-I[2])),x(d(x(d(b($e,me),E[1]),x(d(b(Ee,U),-I[1]),d(b(oe,N),R[1]))),P[2]),d(x(d(b(de,he),E[1]),x(d(b(Ce,H),-I[1]),d(b(oe,N),P[1]))),-R[2]))),L[3]))),x(x(d(x(x(d(x(d(b(ve,Ne),I[1]),x(d(b($e,me),-L[1]),d(b(be,fe),R[1]))),E[2]),d(x(d(b(ve,Ne),E[1]),x(d(b(Ee,U),-L[1]),d(b(Pe,W),R[1]))),-I[2])),x(d(x(d(b($e,me),E[1]),x(d(b(Ee,U),-I[1]),d(b(oe,N),R[1]))),L[2]),d(x(d(b(be,fe),E[1]),x(d(b(Pe,W),-I[1]),d(b(oe,N),L[1]))),-R[2]))),-P[3]),d(x(x(d(x(d(b(se,xe),I[1]),x(d(b(de,he),-L[1]),d(b(be,fe),P[1]))),E[2]),d(x(d(b(se,xe),E[1]),x(d(b(Ce,H),-L[1]),d(b(Pe,W),P[1]))),-I[2])),x(d(x(d(b(de,he),E[1]),x(d(b(Ce,H),-I[1]),d(b(oe,N),P[1]))),L[2]),d(x(d(b(be,fe),E[1]),x(d(b(Pe,W),-I[1]),d(b(oe,N),L[1]))),-P[2]))),R[3])),x(d(x(x(d(x(d(b(Ie,we),I[1]),x(d(b($e,me),-P[1]),d(b(de,he),R[1]))),k[2]),d(x(d(b(Ie,we),k[1]),x(d(b(Ue,K),-P[1]),d(b(pe,Q),R[1]))),-I[2])),x(d(x(d(b($e,me),k[1]),x(d(b(Ue,K),-I[1]),d(b(ue,ae),R[1]))),P[2]),d(x(d(b(de,he),k[1]),x(d(b(pe,Q),-I[1]),d(b(ue,ae),P[1]))),-R[2]))),E[3]),d(x(x(d(x(d(b(Ie,we),I[1]),x(d(b($e,me),-P[1]),d(b(de,he),R[1]))),E[2]),d(x(d(b(Ie,we),E[1]),x(d(b(Ee,U),-P[1]),d(b(Ce,H),R[1]))),-I[2])),x(d(x(d(b($e,me),E[1]),x(d(b(Ee,U),-I[1]),d(b(oe,N),R[1]))),P[2]),d(x(d(b(de,he),E[1]),x(d(b(Ce,H),-I[1]),d(b(oe,N),P[1]))),-R[2]))),-k[3])))),x(x(x(d(x(x(d(x(d(b(Ie,we),k[1]),x(d(b(Ue,K),-P[1]),d(b(pe,Q),R[1]))),E[2]),d(x(d(b(Ie,we),E[1]),x(d(b(Ee,U),-P[1]),d(b(Ce,H),R[1]))),-k[2])),x(d(x(d(b(Ue,K),E[1]),x(d(b(Ee,U),-k[1]),d(b(Y,$),R[1]))),P[2]),d(x(d(b(pe,Q),E[1]),x(d(b(Ce,H),-k[1]),d(b(Y,$),P[1]))),-R[2]))),I[3]),d(x(x(d(x(d(b($e,me),k[1]),x(d(b(Ue,K),-I[1]),d(b(ue,ae),R[1]))),E[2]),d(x(d(b($e,me),E[1]),x(d(b(Ee,U),-I[1]),d(b(oe,N),R[1]))),-k[2])),x(d(x(d(b(Ue,K),E[1]),x(d(b(Ee,U),-k[1]),d(b(Y,$),R[1]))),I[2]),d(x(d(b(ue,ae),E[1]),x(d(b(oe,N),-k[1]),d(b(Y,$),I[1]))),-R[2]))),-P[3])),x(d(x(x(d(x(d(b(de,he),k[1]),x(d(b(pe,Q),-I[1]),d(b(ue,ae),P[1]))),E[2]),d(x(d(b(de,he),E[1]),x(d(b(Ce,H),-I[1]),d(b(oe,N),P[1]))),-k[2])),x(d(x(d(b(pe,Q),E[1]),x(d(b(Ce,H),-k[1]),d(b(Y,$),P[1]))),I[2]),d(x(d(b(ue,ae),E[1]),x(d(b(oe,N),-k[1]),d(b(Y,$),I[1]))),-P[2]))),R[3]),d(x(x(d(x(d(b(se,xe),I[1]),x(d(b(de,he),-L[1]),d(b(be,fe),P[1]))),k[2]),d(x(d(b(se,xe),k[1]),x(d(b(pe,Q),-L[1]),d(b(Te,re),P[1]))),-I[2])),x(d(x(d(b(de,he),k[1]),x(d(b(pe,Q),-I[1]),d(b(ue,ae),P[1]))),L[2]),d(x(d(b(be,fe),k[1]),x(d(b(Te,re),-I[1]),d(b(ue,ae),L[1]))),-P[2]))),E[3]))),x(x(d(x(x(d(x(d(b(se,xe),I[1]),x(d(b(de,he),-L[1]),d(b(be,fe),P[1]))),E[2]),d(x(d(b(se,xe),E[1]),x(d(b(Ce,H),-L[1]),d(b(Pe,W),P[1]))),-I[2])),x(d(x(d(b(de,he),E[1]),x(d(b(Ce,H),-I[1]),d(b(oe,N),P[1]))),L[2]),d(x(d(b(be,fe),E[1]),x(d(b(Pe,W),-I[1]),d(b(oe,N),L[1]))),-P[2]))),-k[3]),d(x(x(d(x(d(b(se,xe),k[1]),x(d(b(pe,Q),-L[1]),d(b(Te,re),P[1]))),E[2]),d(x(d(b(se,xe),E[1]),x(d(b(Ce,H),-L[1]),d(b(Pe,W),P[1]))),-k[2])),x(d(x(d(b(pe,Q),E[1]),x(d(b(Ce,H),-k[1]),d(b(Y,$),P[1]))),L[2]),d(x(d(b(Te,re),E[1]),x(d(b(Pe,W),-k[1]),d(b(Y,$),L[1]))),-P[2]))),I[3])),x(d(x(x(d(x(d(b(de,he),k[1]),x(d(b(pe,Q),-I[1]),d(b(ue,ae),P[1]))),E[2]),d(x(d(b(de,he),E[1]),x(d(b(Ce,H),-I[1]),d(b(oe,N),P[1]))),-k[2])),x(d(x(d(b(pe,Q),E[1]),x(d(b(Ce,H),-k[1]),d(b(Y,$),P[1]))),I[2]),d(x(d(b(ue,ae),E[1]),x(d(b(oe,N),-k[1]),d(b(Y,$),I[1]))),-P[2]))),-L[3]),d(x(x(d(x(d(b(be,fe),k[1]),x(d(b(Te,re),-I[1]),d(b(ue,ae),L[1]))),E[2]),d(x(d(b(be,fe),E[1]),x(d(b(Pe,W),-I[1]),d(b(oe,N),L[1]))),-k[2])),x(d(x(d(b(Te,re),E[1]),x(d(b(Pe,W),-k[1]),d(b(Y,$),L[1]))),I[2]),d(x(d(b(ue,ae),E[1]),x(d(b(oe,N),-k[1]),d(b(Y,$),I[1]))),-L[2]))),P[3]))))),Ge=b(De,ze);return Ge[Ge.length-1]}}var v=[function(){return 0},function(){return 0},function(){return 0}];function h(x){var b=v[x.length];return b||(b=v[x.length]=s(x.length)),b.apply(void 0,x)}function _(x,b,M,d,E,k,I,L){return function(P,R,z,$,N,W){switch(arguments.length){case 0:case 1:return 0;case 2:return d(P,R);case 3:return E(P,R,z);case 4:return k(P,R,z,$);case 5:return I(P,R,z,$,N);case 6:return L(P,R,z,$,N,W)}for(var H=new Array(arguments.length),U=0;U<arguments.length;++U)H[U]=arguments[U];return x(H)}}!function(){for(;v.length<=6;)v.push(s(v.length));m.exports=_.apply(void 0,[h].concat(v));for(var x=0;x<=6;++x)m.exports[x]=v[x]}()},6606:function(m,l,t){"use strict";var o=t(8167);function r(v){return(2===v?n:3===v?a:4===v?s:5===v?c:p)(v<6?o[v]:o)}function n(v){return function(h,_){return[v([[+_[0],+h[0][1]],[+_[1],+h[1][1]]]),v([[+h[0][0],+_[0]],[+h[1][0],+_[1]]]),v(h)]}}function a(v){return function(h,_){return[v([[+_[0],+h[0][1],+h[0][2]],[+_[1],+h[1][1],+h[1][2]],[+_[2],+h[2][1],+h[2][2]]]),v([[+h[0][0],+_[0],+h[0][2]],[+h[1][0],+_[1],+h[1][2]],[+h[2][0],+_[2],+h[2][2]]]),v([[+h[0][0],+h[0][1],+_[0]],[+h[1][0],+h[1][1],+_[1]],[+h[2][0],+h[2][1],+_[2]]]),v(h)]}}function s(v){return function(h,_){return[v([[+_[0],+h[0][1],+h[0][2],+h[0][3]],[+_[1],+h[1][1],+h[1][2],+h[1][3]],[+_[2],+h[2][1],+h[2][2],+h[2][3]],[+_[3],+h[3][1],+h[3][2],+h[3][3]]]),v([[+h[0][0],+_[0],+h[0][2],+h[0][3]],[+h[1][0],+_[1],+h[1][2],+h[1][3]],[+h[2][0],+_[2],+h[2][2],+h[2][3]],[+h[3][0],+_[3],+h[3][2],+h[3][3]]]),v([[+h[0][0],+h[0][1],+_[0],+h[0][3]],[+h[1][0],+h[1][1],+_[1],+h[1][3]],[+h[2][0],+h[2][1],+_[2],+h[2][3]],[+h[3][0],+h[3][1],+_[3],+h[3][3]]]),v([[+h[0][0],+h[0][1],+h[0][2],+_[0]],[+h[1][0],+h[1][1],+h[1][2],+_[1]],[+h[2][0],+h[2][1],+h[2][2],+_[2]],[+h[3][0],+h[3][1],+h[3][2],+_[3]]]),v(h)]}}function c(v){return function(h,_){return[v([[+_[0],+h[0][1],+h[0][2],+h[0][3],+h[0][4]],[+_[1],+h[1][1],+h[1][2],+h[1][3],+h[1][4]],[+_[2],+h[2][1],+h[2][2],+h[2][3],+h[2][4]],[+_[3],+h[3][1],+h[3][2],+h[3][3],+h[3][4]],[+_[4],+h[4][1],+h[4][2],+h[4][3],+h[4][4]]]),v([[+h[0][0],+_[0],+h[0][2],+h[0][3],+h[0][4]],[+h[1][0],+_[1],+h[1][2],+h[1][3],+h[1][4]],[+h[2][0],+_[2],+h[2][2],+h[2][3],+h[2][4]],[+h[3][0],+_[3],+h[3][2],+h[3][3],+h[3][4]],[+h[4][0],+_[4],+h[4][2],+h[4][3],+h[4][4]]]),v([[+h[0][0],+h[0][1],+_[0],+h[0][3],+h[0][4]],[+h[1][0],+h[1][1],+_[1],+h[1][3],+h[1][4]],[+h[2][0],+h[2][1],+_[2],+h[2][3],+h[2][4]],[+h[3][0],+h[3][1],+_[3],+h[3][3],+h[3][4]],[+h[4][0],+h[4][1],+_[4],+h[4][3],+h[4][4]]]),v([[+h[0][0],+h[0][1],+h[0][2],+_[0],+h[0][4]],[+h[1][0],+h[1][1],+h[1][2],+_[1],+h[1][4]],[+h[2][0],+h[2][1],+h[2][2],+_[2],+h[2][4]],[+h[3][0],+h[3][1],+h[3][2],+_[3],+h[3][4]],[+h[4][0],+h[4][1],+h[4][2],+_[4],+h[4][4]]]),v([[+h[0][0],+h[0][1],+h[0][2],+h[0][3],+_[0]],[+h[1][0],+h[1][1],+h[1][2],+h[1][3],+_[1]],[+h[2][0],+h[2][1],+h[2][2],+h[2][3],+_[2]],[+h[3][0],+h[3][1],+h[3][2],+h[3][3],+_[3]],[+h[4][0],+h[4][1],+h[4][2],+h[4][3],+_[4]]]),v(h)]}}function p(v){return function(h,_){return[v([[+_[0],+h[0][1],+h[0][2],+h[0][3],+h[0][4],+h[0][5]],[+_[1],+h[1][1],+h[1][2],+h[1][3],+h[1][4],+h[1][5]],[+_[2],+h[2][1],+h[2][2],+h[2][3],+h[2][4],+h[2][5]],[+_[3],+h[3][1],+h[3][2],+h[3][3],+h[3][4],+h[3][5]],[+_[4],+h[4][1],+h[4][2],+h[4][3],+h[4][4],+h[4][5]],[+_[5],+h[5][1],+h[5][2],+h[5][3],+h[5][4],+h[5][5]]]),v([[+h[0][0],+_[0],+h[0][2],+h[0][3],+h[0][4],+h[0][5]],[+h[1][0],+_[1],+h[1][2],+h[1][3],+h[1][4],+h[1][5]],[+h[2][0],+_[2],+h[2][2],+h[2][3],+h[2][4],+h[2][5]],[+h[3][0],+_[3],+h[3][2],+h[3][3],+h[3][4],+h[3][5]],[+h[4][0],+_[4],+h[4][2],+h[4][3],+h[4][4],+h[4][5]],[+h[5][0],+_[5],+h[5][2],+h[5][3],+h[5][4],+h[5][5]]]),v([[+h[0][0],+h[0][1],+_[0],+h[0][3],+h[0][4],+h[0][5]],[+h[1][0],+h[1][1],+_[1],+h[1][3],+h[1][4],+h[1][5]],[+h[2][0],+h[2][1],+_[2],+h[2][3],+h[2][4],+h[2][5]],[+h[3][0],+h[3][1],+_[3],+h[3][3],+h[3][4],+h[3][5]],[+h[4][0],+h[4][1],+_[4],+h[4][3],+h[4][4],+h[4][5]],[+h[5][0],+h[5][1],+_[5],+h[5][3],+h[5][4],+h[5][5]]]),v([[+h[0][0],+h[0][1],+h[0][2],+_[0],+h[0][4],+h[0][5]],[+h[1][0],+h[1][1],+h[1][2],+_[1],+h[1][4],+h[1][5]],[+h[2][0],+h[2][1],+h[2][2],+_[2],+h[2][4],+h[2][5]],[+h[3][0],+h[3][1],+h[3][2],+_[3],+h[3][4],+h[3][5]],[+h[4][0],+h[4][1],+h[4][2],+_[4],+h[4][4],+h[4][5]],[+h[5][0],+h[5][1],+h[5][2],+_[5],+h[5][4],+h[5][5]]]),v([[+h[0][0],+h[0][1],+h[0][2],+h[0][3],+_[0],+h[0][5]],[+h[1][0],+h[1][1],+h[1][2],+h[1][3],+_[1],+h[1][5]],[+h[2][0],+h[2][1],+h[2][2],+h[2][3],+_[2],+h[2][5]],[+h[3][0],+h[3][1],+h[3][2],+h[3][3],+_[3],+h[3][5]],[+h[4][0],+h[4][1],+h[4][2],+h[4][3],+_[4],+h[4][5]],[+h[5][0],+h[5][1],+h[5][2],+h[5][3],+_[5],+h[5][5]]]),v([[+h[0][0],+h[0][1],+h[0][2],+h[0][3],+h[0][4],+_[0]],[+h[1][0],+h[1][1],+h[1][2],+h[1][3],+h[1][4],+_[1]],[+h[2][0],+h[2][1],+h[2][2],+h[2][3],+h[2][4],+_[2]],[+h[3][0],+h[3][1],+h[3][2],+h[3][3],+h[3][4],+_[3]],[+h[4][0],+h[4][1],+h[4][2],+h[4][3],+h[4][4],+_[4]],[+h[5][0],+h[5][1],+h[5][2],+h[5][3],+h[5][4],+_[5]]]),v(h)]}}var f=[function(){return[[0]]},function(v,h){return[[h[0]],[v[0][0]]]}];function w(v,h,_,x,b,M,d,E){return function(k,I){switch(k.length){case 0:return v(k,I);case 1:return h(k,I);case 2:return _(k,I);case 3:return x(k,I);case 4:return b(k,I);case 5:return M(k,I)}var L=d[k.length];return L||(L=d[k.length]=E(k.length)),L(k,I)}}!function(){for(;f.length<6;)f.push(r(f.length));m.exports=w.apply(void 0,f.concat([f,r]));for(var v=0;v<6;++v)m.exports[v]=f[v]}()},417:function(m,l,t){"use strict";var o=t(9660),r=t(9662),n=t(8289),a=t(4078);function s(b,M,d,E){return function(k,I,L){var P=b(b(M(I[1],L[0]),M(-L[1],I[0])),b(M(k[1],I[0]),M(-I[1],k[0]))),R=b(M(k[1],L[0]),M(-L[1],k[0])),z=E(P,R);return z[z.length-1]}}function c(b,M,d,E){return function(k,I,L,P){var R=b(b(d(b(M(L[1],P[0]),M(-P[1],L[0])),I[2]),b(d(b(M(I[1],P[0]),M(-P[1],I[0])),-L[2]),d(b(M(I[1],L[0]),M(-L[1],I[0])),P[2]))),b(d(b(M(I[1],P[0]),M(-P[1],I[0])),k[2]),b(d(b(M(k[1],P[0]),M(-P[1],k[0])),-I[2]),d(b(M(k[1],I[0]),M(-I[1],k[0])),P[2])))),z=b(b(d(b(M(L[1],P[0]),M(-P[1],L[0])),k[2]),b(d(b(M(k[1],P[0]),M(-P[1],k[0])),-L[2]),d(b(M(k[1],L[0]),M(-L[1],k[0])),P[2]))),b(d(b(M(I[1],L[0]),M(-L[1],I[0])),k[2]),b(d(b(M(k[1],L[0]),M(-L[1],k[0])),-I[2]),d(b(M(k[1],I[0]),M(-I[1],k[0])),L[2])))),$=E(R,z);return $[$.length-1]}}function p(b,M,d,E){return function(k,I,L,P,R){var z=b(b(b(d(b(d(b(M(P[1],R[0]),M(-R[1],P[0])),L[2]),b(d(b(M(L[1],R[0]),M(-R[1],L[0])),-P[2]),d(b(M(L[1],P[0]),M(-P[1],L[0])),R[2]))),I[3]),b(d(b(d(b(M(P[1],R[0]),M(-R[1],P[0])),I[2]),b(d(b(M(I[1],R[0]),M(-R[1],I[0])),-P[2]),d(b(M(I[1],P[0]),M(-P[1],I[0])),R[2]))),-L[3]),d(b(d(b(M(L[1],R[0]),M(-R[1],L[0])),I[2]),b(d(b(M(I[1],R[0]),M(-R[1],I[0])),-L[2]),d(b(M(I[1],L[0]),M(-L[1],I[0])),R[2]))),P[3]))),b(d(b(d(b(M(L[1],P[0]),M(-P[1],L[0])),I[2]),b(d(b(M(I[1],P[0]),M(-P[1],I[0])),-L[2]),d(b(M(I[1],L[0]),M(-L[1],I[0])),P[2]))),-R[3]),b(d(b(d(b(M(P[1],R[0]),M(-R[1],P[0])),I[2]),b(d(b(M(I[1],R[0]),M(-R[1],I[0])),-P[2]),d(b(M(I[1],P[0]),M(-P[1],I[0])),R[2]))),k[3]),d(b(d(b(M(P[1],R[0]),M(-R[1],P[0])),k[2]),b(d(b(M(k[1],R[0]),M(-R[1],k[0])),-P[2]),d(b(M(k[1],P[0]),M(-P[1],k[0])),R[2]))),-I[3])))),b(b(d(b(d(b(M(I[1],R[0]),M(-R[1],I[0])),k[2]),b(d(b(M(k[1],R[0]),M(-R[1],k[0])),-I[2]),d(b(M(k[1],I[0]),M(-I[1],k[0])),R[2]))),P[3]),b(d(b(d(b(M(I[1],P[0]),M(-P[1],I[0])),k[2]),b(d(b(M(k[1],P[0]),M(-P[1],k[0])),-I[2]),d(b(M(k[1],I[0]),M(-I[1],k[0])),P[2]))),-R[3]),d(b(d(b(M(L[1],P[0]),M(-P[1],L[0])),I[2]),b(d(b(M(I[1],P[0]),M(-P[1],I[0])),-L[2]),d(b(M(I[1],L[0]),M(-L[1],I[0])),P[2]))),k[3]))),b(d(b(d(b(M(L[1],P[0]),M(-P[1],L[0])),k[2]),b(d(b(M(k[1],P[0]),M(-P[1],k[0])),-L[2]),d(b(M(k[1],L[0]),M(-L[1],k[0])),P[2]))),-I[3]),b(d(b(d(b(M(I[1],P[0]),M(-P[1],I[0])),k[2]),b(d(b(M(k[1],P[0]),M(-P[1],k[0])),-I[2]),d(b(M(k[1],I[0]),M(-I[1],k[0])),P[2]))),L[3]),d(b(d(b(M(I[1],L[0]),M(-L[1],I[0])),k[2]),b(d(b(M(k[1],L[0]),M(-L[1],k[0])),-I[2]),d(b(M(k[1],I[0]),M(-I[1],k[0])),L[2]))),-P[3]))))),$=b(b(b(d(b(d(b(M(P[1],R[0]),M(-R[1],P[0])),L[2]),b(d(b(M(L[1],R[0]),M(-R[1],L[0])),-P[2]),d(b(M(L[1],P[0]),M(-P[1],L[0])),R[2]))),k[3]),d(b(d(b(M(P[1],R[0]),M(-R[1],P[0])),k[2]),b(d(b(M(k[1],R[0]),M(-R[1],k[0])),-P[2]),d(b(M(k[1],P[0]),M(-P[1],k[0])),R[2]))),-L[3])),b(d(b(d(b(M(L[1],R[0]),M(-R[1],L[0])),k[2]),b(d(b(M(k[1],R[0]),M(-R[1],k[0])),-L[2]),d(b(M(k[1],L[0]),M(-L[1],k[0])),R[2]))),P[3]),d(b(d(b(M(L[1],P[0]),M(-P[1],L[0])),k[2]),b(d(b(M(k[1],P[0]),M(-P[1],k[0])),-L[2]),d(b(M(k[1],L[0]),M(-L[1],k[0])),P[2]))),-R[3]))),b(b(d(b(d(b(M(L[1],R[0]),M(-R[1],L[0])),I[2]),b(d(b(M(I[1],R[0]),M(-R[1],I[0])),-L[2]),d(b(M(I[1],L[0]),M(-L[1],I[0])),R[2]))),k[3]),d(b(d(b(M(L[1],R[0]),M(-R[1],L[0])),k[2]),b(d(b(M(k[1],R[0]),M(-R[1],k[0])),-L[2]),d(b(M(k[1],L[0]),M(-L[1],k[0])),R[2]))),-I[3])),b(d(b(d(b(M(I[1],R[0]),M(-R[1],I[0])),k[2]),b(d(b(M(k[1],R[0]),M(-R[1],k[0])),-I[2]),d(b(M(k[1],I[0]),M(-I[1],k[0])),R[2]))),L[3]),d(b(d(b(M(I[1],L[0]),M(-L[1],I[0])),k[2]),b(d(b(M(k[1],L[0]),M(-L[1],k[0])),-I[2]),d(b(M(k[1],I[0]),M(-I[1],k[0])),L[2]))),-R[3])))),N=E(z,$);return N[N.length-1]}}function f(b){return(3===b?s:4===b?c:p)(r,o,n,a)}var w=f(3),v=f(4),h=[function(){return 0},function(){return 0},function(b,M){return M[0]-b[0]},function(b,M,d){var E,k=(b[1]-d[1])*(M[0]-d[0]),I=(b[0]-d[0])*(M[1]-d[1]),L=k-I;if(k>0){if(I<=0)return L;E=k+I}else{if(!(k<0)||I>=0)return L;E=-(k+I)}var P=33306690738754716e-32*E;return L>=P||L<=-P?L:w(b,M,d)},function(b,M,d,E){var k=b[0]-E[0],I=M[0]-E[0],L=d[0]-E[0],P=b[1]-E[1],R=M[1]-E[1],z=d[1]-E[1],$=b[2]-E[2],N=M[2]-E[2],W=d[2]-E[2],H=I*z,U=L*R,Z=L*P,Y=k*z,ae=k*R,re=I*P,Q=$*(H-U)+N*(Z-Y)+W*(ae-re),K=7771561172376103e-31*((Math.abs(H)+Math.abs(U))*Math.abs($)+(Math.abs(Z)+Math.abs(Y))*Math.abs(N)+(Math.abs(ae)+Math.abs(re))*Math.abs(W));return Q>K||-Q>K?Q:v(b,M,d,E)}];function _(b){var M=h[b.length];return M||(M=h[b.length]=f(b.length)),M.apply(void 0,b)}function x(b,M,d,E,k,I,L){return function(P,R,z,$,N){switch(arguments.length){case 0:case 1:return 0;case 2:return E(P,R);case 3:return k(P,R,z);case 4:return I(P,R,z,$);case 5:return L(P,R,z,$,N)}for(var W=new Array(arguments.length),H=0;H<arguments.length;++H)W[H]=arguments[H];return b(W)}}!function(){for(;h.length<=5;)h.push(f(h.length));m.exports=x.apply(void 0,[_].concat(h));for(var b=0;b<=5;++b)m.exports[b]=h[b]}()},2019:function(m,l,t){"use strict";var o=t(9662),r=t(8289);m.exports=function(n,a){if(1===n.length)return r(a,n[0]);if(1===a.length)return r(n,a[0]);if(0===n.length||0===a.length)return[0];var s=[0];if(n.length<a.length)for(var c=0;c<n.length;++c)s=o(s,r(a,n[c]));else for(c=0;c<a.length;++c)s=o(s,r(n,a[c]));return s}},8289:function(m,l,t){"use strict";var o=t(9660),r=t(87);m.exports=function(n,a){var s=n.length;if(1===s){var c=o(n[0],a);return c[0]?c:[c[1]]}var p=new Array(2*s),f=[.1,.1],w=[.1,.1],v=0;o(n[0],a,f),f[0]&&(p[v++]=f[0]);for(var h=1;h<s;++h){o(n[h],a,w),r(f[1],w[0],f),f[0]&&(p[v++]=f[0]);var x=w[1],b=f[1],M=x+b,d=b-(M-x);f[1]=M,d&&(p[v++]=d)}return f[1]&&(p[v++]=f[1]),0===v&&(p[v++]=0),p.length=v,p}},4434:function(m,l,t){"use strict";m.exports=function(r,n,a,s){var c=o(r,a,s),p=o(n,a,s);if(c>0&&p>0||c<0&&p<0)return!1;var f=o(a,r,n),w=o(s,r,n);return!(f>0&&w>0||f<0&&w<0)&&(0!==c||0!==p||0!==f||0!==w||function(v,h,_,x){for(var b=0;b<2;++b){var M=v[b],d=h[b],E=Math.min(M,d),k=Math.max(M,d),I=_[b],L=x[b],P=Math.min(I,L);if(Math.max(I,L)<E||k<P)return!1}return!0}(r,n,a,s))};var o=t(417)[3]},4078:function(m){"use strict";m.exports=function(l,t){var P,R,z,$,N,o=0|l.length,r=0|t.length;if(1===o&&1===r)return(N=(P=l[0])-((z=P+(R=-t[0]))-($=z-P))+(R-$))?[N,z]:[z];var n,a,s=new Array(o+r),c=0,p=0,f=0,w=Math.abs,v=l[p],h=w(v),_=-t[f],x=w(_);h<x?(a=v,(p+=1)<o&&(h=w(v=l[p]))):(a=_,(f+=1)<r&&(x=w(_=-t[f]))),p<o&&h<x||f>=r?(n=v,(p+=1)<o&&(h=w(v=l[p]))):(n=_,(f+=1)<r&&(x=w(_=-t[f])));for(var b,M,d=n+a,E=d-n,k=a-E,I=k,L=d;p<o&&f<r;)h<x?(n=v,(p+=1)<o&&(h=w(v=l[p]))):(n=_,(f+=1)<r&&(x=w(_=-t[f]))),(k=(a=I)-(E=(d=n+a)-n))&&(s[c++]=k),I=L-((b=L+d)-(M=b-L))+(d-M),L=b;for(;p<o;)(k=(a=I)-(E=(d=(n=v)+a)-n))&&(s[c++]=k),I=L-((b=L+d)-(M=b-L))+(d-M),L=b,(p+=1)<o&&(v=l[p]);for(;f<r;)(k=(a=I)-(E=(d=(n=_)+a)-n))&&(s[c++]=k),I=L-((b=L+d)-(M=b-L))+(d-M),L=b,(f+=1)<r&&(_=-t[f]);return I&&(s[c++]=I),L&&(s[c++]=L),c||(s[c++]=0),s.length=c,s}},9662:function(m){"use strict";m.exports=function(l,t){var P,R,z,$,N,o=0|l.length,r=0|t.length;if(1===o&&1===r)return(N=(P=l[0])-((z=P+(R=t[0]))-($=z-P))+(R-$))?[N,z]:[z];var n,a,s=new Array(o+r),c=0,p=0,f=0,w=Math.abs,v=l[p],h=w(v),_=t[f],x=w(_);h<x?(a=v,(p+=1)<o&&(h=w(v=l[p]))):(a=_,(f+=1)<r&&(x=w(_=t[f]))),p<o&&h<x||f>=r?(n=v,(p+=1)<o&&(h=w(v=l[p]))):(n=_,(f+=1)<r&&(x=w(_=t[f])));for(var b,M,d=n+a,E=d-n,k=a-E,I=k,L=d;p<o&&f<r;)h<x?(n=v,(p+=1)<o&&(h=w(v=l[p]))):(n=_,(f+=1)<r&&(x=w(_=t[f]))),(k=(a=I)-(E=(d=n+a)-n))&&(s[c++]=k),I=L-((b=L+d)-(M=b-L))+(d-M),L=b;for(;p<o;)(k=(a=I)-(E=(d=(n=v)+a)-n))&&(s[c++]=k),I=L-((b=L+d)-(M=b-L))+(d-M),L=b,(p+=1)<o&&(v=l[p]);for(;f<r;)(k=(a=I)-(E=(d=(n=_)+a)-n))&&(s[c++]=k),I=L-((b=L+d)-(M=b-L))+(d-M),L=b,(f+=1)<r&&(_=t[f]);return I&&(s[c++]=I),L&&(s[c++]=L),c||(s[c++]=0),s.length=c,s}},8691:function(m,l,t){"use strict";m.exports=function(n){return r(o(n))};var o=t(2692),r=t(7037)},7212:function(m,l,t){"use strict";m.exports=function(s,c,p,f){if(p=p||0,void 0===f&&(f=function(d){for(var E=d.length,k=0,I=0;I<E;++I)k=0|Math.max(k,d[I].length);return k-1}(s)),0===s.length||f<1)return{cells:[],vertexIds:[],vertexWeights:[]};var w=function(d,E){for(var k=d.length,I=r.mallocUint8(k),L=0;L<k;++L)I[L]=d[L]<E|0;return I}(c,+p),v=function(d,E){for(var k=d.length,L=r.mallocUint32(2*(E*(E+1)/2*k|0)),P=0,R=0;R<k;++R)for(var z=d[R],$=(E=z.length,0);$<E;++$)for(var N=0;N<$;++N){var W=z[N],H=z[$];L[P++]=0|Math.min(W,H),L[P++]=0|Math.max(W,H)}n(o(L,[P/2|0,2]));var U=2;for(R=2;R<P;R+=2)L[R-2]===L[R]&&L[R-1]===L[R+1]||(L[U++]=L[R],L[U++]=L[R+1]);return o(L,[U/2|0,2])}(s,f),h=function(d,E,k,I){for(var L=d.data,P=d.shape[0],R=r.mallocDouble(P),z=0,$=0;$<P;++$){var N=L[2*$],W=L[2*$+1];if(k[N]!==k[W]){var H=E[N],U=E[W];L[2*z]=N,L[2*z+1]=W,R[z++]=(U-I)/(U-H)}}return d.shape[0]=z,o(R,[z])}(v,c,w,+p),_=function(d,E){var k=r.mallocInt32(2*E),I=d.shape[0],L=d.data;k[0]=0;for(var P=0,R=0;R<I;++R){var z=L[2*R];if(z!==P){for(k[2*P+1]=R;++P<z;)k[2*P]=R,k[2*P+1]=R;k[2*P]=R}}for(k[2*P+1]=I;++P<E;)k[2*P]=k[2*P+1]=I;return k}(v,0|c.length),x=a(f)(s,v.data,_,w),b=function(d){for(var E=0|d.shape[0],k=d.data,I=new Array(E),L=0;L<E;++L)I[L]=[k[2*L],k[2*L+1]];return I}(v),M=[].slice.call(h.data,0,h.shape[0]);return r.free(w),r.free(v.data),r.free(h.data),r.free(_),{cells:x,vertexIds:b,vertexWeights:M}};var o=t(5050),r=t(5306),n=t(8729),a=t(1168)},1168:function(m){"use strict";m.exports=function(t){return l[t]()};var l=[function(){return function(t,o,r,n){for(var a=t.length,s=0;s<a;++s);return[]}},function(){function t(o,r,n,a){for(var s=0|Math.min(n,a),c=0|Math.max(n,a),p=o[2*s],f=o[2*s+1];p<f;){var w=p+f>>1,v=r[2*w+1];if(v===c)return w;c<v?f=w:p=w+1}return p}return function(o,r,n,a){for(var s=o.length,c=[],p=0;p<s;++p){var f=o[p];if(2===f.length){var w=(a[f[0]]<<0)+(a[f[1]]<<1);if(0===w||3===w)continue;switch(w){case 0:case 3:break;case 1:c.push([t(n,r,f[0],f[1])]);break;case 2:c.push([t(n,r,f[1],f[0])])}}}return c}},function(){function t(o,r,n,a){for(var s=0|Math.min(n,a),c=0|Math.max(n,a),p=o[2*s],f=o[2*s+1];p<f;){var w=p+f>>1,v=r[2*w+1];if(v===c)return w;c<v?f=w:p=w+1}return p}return function(o,r,n,a){for(var s=o.length,c=[],p=0;p<s;++p){var f=o[p],w=f.length;if(3===w){if(0==(v=(a[f[0]]<<0)+(a[f[1]]<<1)+(a[f[2]]<<2))||7===v)continue;switch(v){case 0:case 7:break;case 1:c.push([t(n,r,f[0],f[2]),t(n,r,f[0],f[1])]);break;case 2:c.push([t(n,r,f[1],f[0]),t(n,r,f[1],f[2])]);break;case 3:c.push([t(n,r,f[0],f[2]),t(n,r,f[1],f[2])]);break;case 4:c.push([t(n,r,f[2],f[1]),t(n,r,f[2],f[0])]);break;case 5:c.push([t(n,r,f[2],f[1]),t(n,r,f[0],f[1])]);break;case 6:c.push([t(n,r,f[1],f[0]),t(n,r,f[2],f[0])])}}else if(2===w){var v;if(0==(v=(a[f[0]]<<0)+(a[f[1]]<<1))||3===v)continue;switch(v){case 0:case 3:break;case 1:c.push([t(n,r,f[0],f[1])]);break;case 2:c.push([t(n,r,f[1],f[0])])}}}return c}},function(){function t(o,r,n,a){for(var s=0|Math.min(n,a),c=0|Math.max(n,a),p=o[2*s],f=o[2*s+1];p<f;){var w=p+f>>1,v=r[2*w+1];if(v===c)return w;c<v?f=w:p=w+1}return p}return function(o,r,n,a){for(var s=o.length,c=[],p=0;p<s;++p){var f=o[p],w=f.length;if(4===w){if(0==(v=(a[f[0]]<<0)+(a[f[1]]<<1)+(a[f[2]]<<2)+(a[f[3]]<<3))||15===v)continue;switch(v){case 0:case 15:break;case 1:c.push([t(n,r,f[0],f[1]),t(n,r,f[0],f[2]),t(n,r,f[0],f[3])]);break;case 2:c.push([t(n,r,f[1],f[2]),t(n,r,f[1],f[0]),t(n,r,f[1],f[3])]);break;case 3:c.push([t(n,r,f[1],f[2]),t(n,r,f[0],f[2]),t(n,r,f[0],f[3])],[t(n,r,f[1],f[3]),t(n,r,f[1],f[2]),t(n,r,f[0],f[3])]);break;case 4:c.push([t(n,r,f[2],f[0]),t(n,r,f[2],f[1]),t(n,r,f[2],f[3])]);break;case 5:c.push([t(n,r,f[0],f[1]),t(n,r,f[2],f[1]),t(n,r,f[0],f[3])],[t(n,r,f[2],f[1]),t(n,r,f[2],f[3]),t(n,r,f[0],f[3])]);break;case 6:c.push([t(n,r,f[2],f[0]),t(n,r,f[1],f[0]),t(n,r,f[1],f[3])],[t(n,r,f[2],f[3]),t(n,r,f[2],f[0]),t(n,r,f[1],f[3])]);break;case 7:c.push([t(n,r,f[0],f[3]),t(n,r,f[1],f[3]),t(n,r,f[2],f[3])]);break;case 8:c.push([t(n,r,f[3],f[1]),t(n,r,f[3],f[0]),t(n,r,f[3],f[2])]);break;case 9:c.push([t(n,r,f[3],f[1]),t(n,r,f[0],f[1]),t(n,r,f[0],f[2])],[t(n,r,f[3],f[2]),t(n,r,f[3],f[1]),t(n,r,f[0],f[2])]);break;case 10:c.push([t(n,r,f[1],f[0]),t(n,r,f[3],f[0]),t(n,r,f[1],f[2])],[t(n,r,f[3],f[0]),t(n,r,f[3],f[2]),t(n,r,f[1],f[2])]);break;case 11:c.push([t(n,r,f[1],f[2]),t(n,r,f[0],f[2]),t(n,r,f[3],f[2])]);break;case 12:c.push([t(n,r,f[3],f[0]),t(n,r,f[2],f[0]),t(n,r,f[2],f[1])],[t(n,r,f[3],f[1]),t(n,r,f[3],f[0]),t(n,r,f[2],f[1])]);break;case 13:c.push([t(n,r,f[0],f[1]),t(n,r,f[2],f[1]),t(n,r,f[3],f[1])]);break;case 14:c.push([t(n,r,f[2],f[0]),t(n,r,f[1],f[0]),t(n,r,f[3],f[0])])}}else if(3===w){if(0==(v=(a[f[0]]<<0)+(a[f[1]]<<1)+(a[f[2]]<<2))||7===v)continue;switch(v){case 0:case 7:break;case 1:c.push([t(n,r,f[0],f[2]),t(n,r,f[0],f[1])]);break;case 2:c.push([t(n,r,f[1],f[0]),t(n,r,f[1],f[2])]);break;case 3:c.push([t(n,r,f[0],f[2]),t(n,r,f[1],f[2])]);break;case 4:c.push([t(n,r,f[2],f[1]),t(n,r,f[2],f[0])]);break;case 5:c.push([t(n,r,f[2],f[1]),t(n,r,f[0],f[1])]);break;case 6:c.push([t(n,r,f[1],f[0]),t(n,r,f[2],f[0])])}}else if(2===w){var v;if(0==(v=(a[f[0]]<<0)+(a[f[1]]<<1))||3===v)continue;switch(v){case 0:case 3:break;case 1:c.push([t(n,r,f[0],f[1])]);break;case 2:c.push([t(n,r,f[1],f[0])])}}}return c}}]},8211:function(m,l,t){"use strict";t(2288),t(1731),l.H=function(o,r){var n=o.length,a=o.length-r.length,s=Math.min;if(a)return a;switch(n){case 0:return 0;case 1:return o[0]-r[0];case 2:return(f=o[0]+o[1]-r[0]-r[1])||s(o[0],o[1])-s(r[0],r[1]);case 3:var c=o[0]+o[1],p=r[0]+r[1];if(f=c+o[2]-(p+r[2]))return f;var f,w=s(o[0],o[1]),v=s(r[0],r[1]);return(f=s(w,o[2])-s(v,r[2]))||s(w+o[2],c)-s(v+r[2],p);default:var h=o.slice(0);h.sort();var _=r.slice(0);_.sort();for(var x=0;x<n;++x)if(a=h[x]-_[x])return a;return 0}}},9392:function(m,l){"use strict";function t(r){var n=32;return(r&=-r)&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}l.INT_BITS=32,l.INT_MAX=2147483647,l.INT_MIN=-2147483648,l.sign=function(r){return(r>0)-(r<0)},l.abs=function(r){var n=r>>31;return(r^n)-n},l.min=function(r,n){return n^(r^n)&-(r<n)},l.max=function(r,n){return r^(r^n)&-(r<n)},l.isPow2=function(r){return!(r&r-1||!r)},l.log2=function(r){var n,a;return n=(r>65535)<<4,n|=a=((r>>>=n)>255)<<3,n|=a=((r>>>=a)>15)<<2,(n|=a=((r>>>=a)>3)<<1)|(r>>>=a)>>1},l.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},l.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},l.countTrailingZeros=t,l.nextPow2=function(r){return r+=0===r,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,1+((r|=r>>>8)|r>>>16)},l.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},l.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var o=new Array(256);(function(r){for(var n=0;n<256;++n){var a=n,s=n,c=7;for(a>>>=1;a;a>>>=1)s<<=1,s|=1&a,--c;r[n]=s<<c&255}})(o),l.reverse=function(r){return o[255&r]<<24|o[r>>>8&255]<<16|o[r>>>16&255]<<8|o[r>>>24&255]},l.interleave2=function(r,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},l.deinterleave2=function(r,n){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>n&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},l.interleave3=function(r,n,a){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<2},l.deinterleave3=function(r,n){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>n&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},l.nextCombination=function(r){var n=r|r-1;return n+1|(~n&-~n)-1>>>t(r)+1}},6656:function(m,l,t){"use strict";var o=t(9392),r=t(9521);function n(v,h){var _=v.length,x=v.length-h.length,b=Math.min;if(x)return x;switch(_){case 0:return 0;case 1:return v[0]-h[0];case 2:return(E=v[0]+v[1]-h[0]-h[1])||b(v[0],v[1])-b(h[0],h[1]);case 3:var M=v[0]+v[1],d=h[0]+h[1];if(E=M+v[2]-(d+h[2]))return E;var E,k=b(v[0],v[1]),I=b(h[0],h[1]);return(E=b(k,v[2])-b(I,h[2]))||b(k+v[2],M)-b(I+h[2],d);default:var L=v.slice(0);L.sort();var P=h.slice(0);P.sort();for(var R=0;R<_;++R)if(x=L[R]-P[R])return x;return 0}}function a(v,h){return n(v[0],h[0])}function s(v,h){if(h){for(var _=v.length,x=new Array(_),b=0;b<_;++b)x[b]=[v[b],h[b]];for(x.sort(a),b=0;b<_;++b)v[b]=x[b][0],h[b]=x[b][1];return v}return v.sort(n),v}function c(v){if(0===v.length)return[];for(var h=1,_=v.length,x=1;x<_;++x){var b=v[x];if(n(b,v[x-1])){if(x===h){h++;continue}v[h++]=b}}return v.length=h,v}function p(v,h){for(var _=0,x=v.length-1,b=-1;_<=x;){var M=_+x>>1,d=n(v[M],h);d<=0?(0===d&&(b=M),_=M+1):d>0&&(x=M-1)}return b}function f(v,h){for(var _=new Array(v.length),x=0,b=_.length;x<b;++x)_[x]=[];for(var M=[],d=(x=0,h.length);x<d;++x)for(var E=h[x],k=E.length,I=1,L=1<<k;I<L;++I){M.length=o.popCount(I);for(var P=0,R=0;R<k;++R)I&1<<R&&(M[P++]=E[R]);var z=p(v,M);if(!(z<0))for(;_[z++].push(x),!(z>=v.length||0!==n(v[z],M)););}return _}function w(v,h){if(h<0)return[];for(var _=[],x=(1<<h+1)-1,b=0;b<v.length;++b)for(var M=v[b],d=x;d<1<<M.length;d=o.nextCombination(d)){for(var E=new Array(h+1),k=0,I=0;I<M.length;++I)d&1<<I&&(E[k++]=M[I]);_.push(E)}return s(_)}l.dimension=function(v){for(var h=0,_=Math.max,x=0,b=v.length;x<b;++x)h=_(h,v[x].length);return h-1},l.countVertices=function(v){for(var h=-1,_=Math.max,x=0,b=v.length;x<b;++x)for(var M=v[x],d=0,E=M.length;d<E;++d)h=_(h,M[d]);return h+1},l.cloneCells=function(v){for(var h=new Array(v.length),_=0,x=v.length;_<x;++_)h[_]=v[_].slice(0);return h},l.compareCells=n,l.normalize=s,l.unique=c,l.findCell=p,l.incidence=f,l.dual=function(v,h){if(!h)return f(c(w(v,0)),v);for(var _=new Array(h),x=0;x<h;++x)_[x]=[];x=0;for(var b=v.length;x<b;++x)for(var M=v[x],d=0,E=M.length;d<E;++d)_[M[d]].push(x);return _},l.explode=function(v){for(var h=[],_=0,x=v.length;_<x;++_)for(var b=v[_],M=0|b.length,d=1,E=1<<M;d<E;++d){for(var k=[],I=0;I<M;++I)d>>>I&1&&k.push(b[I]);h.push(k)}return s(h)},l.skeleton=w,l.boundary=function(v){for(var h=[],_=0,x=v.length;_<x;++_)for(var b=v[_],M=0,d=b.length;M<d;++M){for(var E=new Array(b.length-1),k=0,I=0;k<d;++k)k!==M&&(E[I++]=b[k]);h.push(E)}return s(h)},l.connectedComponents=function(v,h){return h?function(_,x){for(var b=new r(x),M=0;M<_.length;++M)for(var d=_[M],E=0;E<d.length;++E)for(var k=E+1;k<d.length;++k)b.link(d[E],d[k]);var I=[],L=b.ranks;for(M=0;M<L.length;++M)L[M]=-1;for(M=0;M<_.length;++M){var P=b.find(_[M][0]);L[P]<0?(L[P]=I.length,I.push([_[M].slice(0)])):I[L[P]].push(_[M].slice(0))}return I}(v,h):function(_){for(var x=c(s(w(_,0))),b=new r(x.length),M=0;M<_.length;++M)for(var d=_[M],E=0;E<d.length;++E)for(var k=p(x,[d[E]]),I=E+1;I<d.length;++I)b.link(k,p(x,[d[I]]));var L=[],P=b.ranks;for(M=0;M<P.length;++M)P[M]=-1;for(M=0;M<_.length;++M){var R=b.find(p(x,[_[M][0]]));P[R]<0?(P[R]=L.length,L.push([_[M].slice(0)])):L[P[R]].push(_[M].slice(0))}return L}(v)}},9521:function(m){"use strict";function l(t){this.roots=new Array(t),this.ranks=new Array(t);for(var o=0;o<t;++o)this.roots[o]=o,this.ranks[o]=0}m.exports=l,l.prototype.length=function(){return this.roots.length},l.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},l.prototype.find=function(t){for(var o=this.roots;o[t]!==t;){var r=o[t];o[t]=o[r],t=r}return t},l.prototype.link=function(t,o){var r=this.find(t),n=this.find(o);if(r!==n){var a=this.ranks,s=this.roots,c=a[r],p=a[n];c<p?s[r]=n:p<c?s[n]=r:(s[n]=r,++a[r])}}},8243:function(m,l,t){"use strict";m.exports=function(n,a,s){for(var c=a.length,p=n.length,f=new Array(c),w=new Array(c),v=new Array(c),h=new Array(c),_=0;_<c;++_)f[_]=w[_]=-1,v[_]=1/0,h[_]=!1;for(_=0;_<p;++_){var x=n[_];if(2!==x.length)throw new Error("Input must be a graph");var b=x[1],M=x[0];w[M]=-1!==w[M]?-2:b,f[b]=-1!==f[b]?-2:M}function d(re){if(h[re])return 1/0;var K,te,oe=f[re],ue=w[re];return oe<0||ue<0?1/0:(K=a[oe],te=a[ue],Math.abs(o(a[re],K,te))/Math.sqrt(Math.pow(K[0]-te[0],2)+Math.pow(K[1]-te[1],2)))}function E(re,Q){var K=N[re],te=N[Q];N[re]=te,N[Q]=K,W[K]=Q,W[te]=re}function k(re){return v[N[re]]}function I(re){return 1&re?re-1>>1:(re>>1)-1}function L(re){for(var Q=k(re);;){var K=Q,te=2*re+1,oe=2*(re+1),ue=re;if(te<H){var fe=k(te);fe<K&&(ue=te,K=fe)}if(oe<H&&k(oe)<K&&(ue=oe),ue===re)return re;E(re,ue),re=ue}}function P(re){for(var Q=k(re);re>0;){var K=I(re);if(!(K>=0&&Q<k(K)))return re;E(re,K),re=K}}function R(){if(H>0){var re=N[0];return E(0,H-1),H-=1,L(0),re}return-1}function z(re,Q){var K=N[re];return v[K]===Q?re:(v[K]=-1/0,P(re),R(),v[K]=Q,P((H+=1)-1))}function $(re){if(!h[re]){h[re]=!0;var Q=f[re],K=w[re];f[K]>=0&&(f[K]=Q),w[Q]>=0&&(w[Q]=K),W[Q]>=0&&z(W[Q],d(Q)),W[K]>=0&&z(W[K],d(K))}}var N=[],W=new Array(c);for(_=0;_<c;++_)(v[_]=d(_))<1/0?(W[_]=N.length,N.push(_)):W[_]=-1;var H=N.length;for(_=H>>1;_>=0;--_)L(_);for(;;){var U=R();if(U<0||v[U]>s)break;$(U)}var Z=[];for(_=0;_<c;++_)h[_]||(W[_]=Z.length,Z.push(a[_].slice()));function Y(re,Q){if(re[Q]<0)return Q;var K=Q,te=Q;do{var oe=re[te];if(!h[te]||oe<0||oe===te||(oe=re[te=oe],!h[te]||oe<0||oe===te))break;te=oe,K=re[K]}while(K!==te);for(var ue=Q;ue!==te;ue=re[ue])re[ue]=te;return te}var ae=[];return n.forEach(function(re){var Q=Y(f,re[0]),K=Y(w,re[1]);if(Q>=0&&K>=0&&Q!==K){var te=W[Q],oe=W[K];te!==oe&&ae.push([te,oe])}}),r.unique(r.normalize(ae)),{positions:Z,edges:ae}};var o=t(417),r=t(6656)},6638:function(m,l,t){"use strict";m.exports=function(n,a){var s,c,p,f;if(a[0][0]<a[1][0])s=a[0],c=a[1];else{if(!(a[0][0]>a[1][0]))return r(a,n);s=a[1],c=a[0]}if(n[0][0]<n[1][0])p=n[0],f=n[1];else{if(!(n[0][0]>n[1][0]))return-r(n,a);p=n[1],f=n[0]}var w=o(s,c,f),v=o(s,c,p);if(w<0){if(v<=0)return w}else if(w>0){if(v>=0)return w}else if(v)return v;if(w=o(f,p,c),v=o(f,p,s),w<0){if(v<=0)return w}else if(w>0){if(v>=0)return w}else if(v)return v;return c[0]-f[0]};var o=t(417);function r(n,a){var s,c,p,f;if(a[0][0]<a[1][0])s=a[0],c=a[1];else{if(!(a[0][0]>a[1][0])){var w=Math.min(n[0][1],n[1][1]),v=Math.max(n[0][1],n[1][1]),h=Math.min(a[0][1],a[1][1]),_=Math.max(a[0][1],a[1][1]);return v<h?v-h:w>_?w-_:v-_}s=a[1],c=a[0]}n[0][1]<n[1][1]?(p=n[0],f=n[1]):(p=n[1],f=n[0]);var x=o(c,s,p);return x||(x=o(c,s,f))||f-c}},4385:function(m,l,t){"use strict";m.exports=function(v){for(var h=v.length,_=2*h,x=new Array(_),b=0;b<h;++b){var M=v[b],d=M[0][0]<M[1][0];x[2*b]=new w(M[0][0],M,d,b),x[2*b+1]=new w(M[1][0],M,!d,b)}x.sort(function($,N){var W=$.x-N.x;return W||(W=$.create-N.create)||Math.min($.segment[0][1],$.segment[1][1])-Math.min(N.segment[0][1],N.segment[1][1])});var E=r(a),k=[],I=[],L=[];for(b=0;b<_;){for(var P=x[b].x,R=[];b<_;){var z=x[b];if(z.x!==P)break;b+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(R.push(new f(z.segment[0][1],z.index,!0,!0)),R.push(new f(z.segment[1][1],z.index,!1,!1))):(R.push(new f(z.segment[1][1],z.index,!0,!1)),R.push(new f(z.segment[0][1],z.index,!1,!0)))):E=z.create?E.insert(z.segment,z.index):E.remove(z.segment)}k.push(E.root),I.push(P),L.push(R)}return new s(k,I,L)};var o=t(5070),r=t(7080),n=t(417),a=t(6638);function s(v,h,_){this.slabs=v,this.coordinates=h,this.horizontal=_}function c(v,h){return v.y-h}function p(v,h){for(var _=null;v;){var x,b,M=v.key;M[0][0]<M[1][0]?(x=M[0],b=M[1]):(x=M[1],b=M[0]);var d=n(x,b,h);if(d<0)v=v.left;else if(d>0)if(h[0]!==M[1][0])_=v,v=v.right;else{if(E=p(v.right,h))return E;v=v.left}else{if(h[0]!==M[1][0])return v;var E;if(E=p(v.right,h))return E;v=v.left}}return _}function f(v,h,_,x){this.y=v,this.index=h,this.start=_,this.closed=x}function w(v,h,_,x){this.x=v,this.segment=h,this.create=_,this.index=x}s.prototype.castUp=function(v){var h=o.le(this.coordinates,v[0]);if(h<0)return-1;var _=p(this.slabs[h],v),x=-1;if(_&&(x=_.value),this.coordinates[h]===v[0]){var b=null;if(_&&(b=_.key),h>0){var M=p(this.slabs[h-1],v);M&&(b?a(M.key,b)>0&&(b=M.key,x=M.value):(x=M.value,b=M.key))}var d=this.horizontal[h];if(d.length>0){var E=o.ge(d,v[1],c);if(E<d.length){var k=d[E];if(v[1]===k.y){if(k.closed)return k.index;for(;E<d.length-1&&d[E+1].y===v[1];)if((k=d[E+=1]).closed)return k.index;if(k.y===v[1]&&!k.start){if((E+=1)>=d.length)return x;k=d[E]}}if(k.start)if(b){var I=n(b[0],b[1],[v[0],k.y]);b[0][0]>b[1][0]&&(I=-I),I>0&&(x=k.index)}else x=k.index;else k.y!==v[1]&&(x=k.index)}}}return x}},4670:function(m,l,t){"use strict";var o=t(9130),r=t(9662);function n(s,c){var p=r(o(s,c),[c[c.length-1]]);return p[p.length-1]}function a(s,c,p,f){var w=-c/(f-c);w<0?w=0:w>1&&(w=1);for(var v=1-w,h=s.length,_=new Array(h),x=0;x<h;++x)_[x]=w*s[x]+v*p[x];return _}m.exports=function(s,c){for(var p=[],f=[],w=n(s[s.length-1],c),v=s[s.length-1],h=s[0],_=0;_<s.length;++_,v=h){var x=n(h=s[_],c);if(w<0&&x>0||w>0&&x<0){var b=a(v,x,h,w);p.push(b),f.push(b.slice())}x<0?f.push(h.slice()):x>0?p.push(h.slice()):(p.push(h.slice()),f.push(h.slice())),w=x}return{positive:p,negative:f}},m.exports.positive=function(s,c){for(var p=[],f=n(s[s.length-1],c),w=s[s.length-1],v=s[0],h=0;h<s.length;++h,w=v){var _=n(v=s[h],c);(f<0&&_>0||f>0&&_<0)&&p.push(a(w,_,v,f)),_>=0&&p.push(v.slice()),f=_}return p},m.exports.negative=function(s,c){for(var p=[],f=n(s[s.length-1],c),w=s[s.length-1],v=s[0],h=0;h<s.length;++h,w=v){var _=n(v=s[h],c);(f<0&&_>0||f>0&&_<0)&&p.push(a(w,_,v,f)),_<=0&&p.push(v.slice()),f=_}return p}},8974:function(m,l,t){var o;!function(){"use strict";var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(c){return function(p,f){var w,v,h,_,x,b,M,d,E,k=1,I=p.length,L="";for(v=0;v<I;v++)if("string"==typeof p[v])L+=p[v];else if("object"==typeof p[v]){if((_=p[v]).keys)for(w=f[k],h=0;h<_.keys.length;h++){if(null==w)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',_.keys[h],_.keys[h-1]));w=w[_.keys[h]]}else w=_.param_no?f[_.param_no]:f[k++];if(r.not_type.test(_.type)&&r.not_primitive.test(_.type)&&w instanceof Function&&(w=w()),r.numeric_arg.test(_.type)&&"number"!=typeof w&&isNaN(w))throw new TypeError(n("[sprintf] expecting number but found %T",w));switch(r.number.test(_.type)&&(d=w>=0),_.type){case"b":w=parseInt(w,10).toString(2);break;case"c":w=String.fromCharCode(parseInt(w,10));break;case"d":case"i":w=parseInt(w,10);break;case"j":w=JSON.stringify(w,null,_.width?parseInt(_.width):0);break;case"e":w=_.precision?parseFloat(w).toExponential(_.precision):parseFloat(w).toExponential();break;case"f":w=_.precision?parseFloat(w).toFixed(_.precision):parseFloat(w);break;case"g":w=_.precision?String(Number(w.toPrecision(_.precision))):parseFloat(w);break;case"o":w=(parseInt(w,10)>>>0).toString(8);break;case"s":w=String(w),w=_.precision?w.substring(0,_.precision):w;break;case"t":w=String(!!w),w=_.precision?w.substring(0,_.precision):w;break;case"T":w=Object.prototype.toString.call(w).slice(8,-1).toLowerCase(),w=_.precision?w.substring(0,_.precision):w;break;case"u":w=parseInt(w,10)>>>0;break;case"v":w=w.valueOf(),w=_.precision?w.substring(0,_.precision):w;break;case"x":w=(parseInt(w,10)>>>0).toString(16);break;case"X":w=(parseInt(w,10)>>>0).toString(16).toUpperCase()}r.json.test(_.type)?L+=w:(!r.number.test(_.type)||d&&!_.sign?E="":(E=d?"+":"-",w=w.toString().replace(r.sign,"")),b=_.pad_char?"0"===_.pad_char?"0":_.pad_char.charAt(1):" ",M=_.width-(E+w).length,x=_.width&&M>0?b.repeat(M):"",L+=_.align?E+w+x:"0"===b?E+x+w:x+E+w)}return L}(function(p){if(s[p])return s[p];for(var f,w=p,v=[],h=0;w;){if(null!==(f=r.text.exec(w)))v.push(f[0]);else if(null!==(f=r.modulo.exec(w)))v.push("%");else{if(null===(f=r.placeholder.exec(w)))throw new SyntaxError("[sprintf] unexpected placeholder");if(f[2]){h|=1;var _=[],x=f[2],b=[];if(null===(b=r.key.exec(x)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(_.push(b[1]);""!==(x=x.substring(b[0].length));)if(null!==(b=r.key_access.exec(x)))_.push(b[1]);else{if(null===(b=r.index_access.exec(x)))throw new SyntaxError("[sprintf] failed to parse named argument key");_.push(b[1])}f[2]=_}else h|=2;if(3===h)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");v.push({placeholder:f[0],param_no:f[1],keys:f[2],sign:f[3],pad_char:f[4],align:f[5],width:f[6],precision:f[7],type:f[8]})}w=w.substring(f[0].length)}return s[p]=v}(c),arguments)}function a(c,p){return n.apply(null,[c].concat(p||[]))}var s=Object.create(null);l.sprintf=n,l.vsprintf=a,typeof window<"u"&&(window.sprintf=n,window.vsprintf=a,void 0===(o=function(){return{sprintf:n,vsprintf:a}}.call(l,t,l,m))||(m.exports=o))}()},4162:function(m,l,t){"use strict";m.exports=function(s,c){if(s.dimension<=0)return{positions:[],cells:[]};if(1===s.dimension)return function(w,v){for(var h=r(w,v),_=h.length,x=new Array(_),b=new Array(_),M=0;M<_;++M)x[M]=[h[M]],b[M]=[M];return{positions:x,cells:b}}(s,c);var p=s.order.join()+"-"+s.dtype,f=a[p];return c=+c||0,f||(f=a[p]=function(w,v){var _=n[w.length+"d"];if(_)return _(o,w,v)}(s.order,s.dtype)),f(s,c)};var o=t(9284),r=t(9584),n={"2d":function(s,c,p){var f=s({order:c,scalarArguments:3,getters:"generic"===p?[0]:void 0,phase:function(w,v,h,_){return w>_|0},vertex:function(w,v,h,_,x,b,M,d,E,k,I,L,P){var R=(M<<0)+(d<<1)+(E<<2)+(k<<3)|0;if(0!==R&&15!==R)switch(R){case 0:case 15:I.push([w-.5,v-.5]);break;case 1:I.push([w-.25-.25*(_+h-2*P)/(h-_),v-.25-.25*(x+h-2*P)/(h-x)]);break;case 2:I.push([w-.75-.25*(-_-h+2*P)/(_-h),v-.25-.25*(b+_-2*P)/(_-b)]);break;case 3:I.push([w-.5,v-.5-.5*(x+h+b+_-4*P)/(h-x+_-b)]);break;case 4:I.push([w-.25-.25*(b+x-2*P)/(x-b),v-.75-.25*(-x-h+2*P)/(x-h)]);break;case 5:I.push([w-.5-.5*(_+h+b+x-4*P)/(h-_+x-b),v-.5]);break;case 6:I.push([w-.5-.25*(-_-h+b+x)/(_-h+x-b),v-.5-.25*(-x-h+b+_)/(x-h+_-b)]);break;case 7:I.push([w-.75-.25*(b+x-2*P)/(x-b),v-.75-.25*(b+_-2*P)/(_-b)]);break;case 8:I.push([w-.75-.25*(-b-x+2*P)/(b-x),v-.75-.25*(-b-_+2*P)/(b-_)]);break;case 9:I.push([w-.5-.25*(_+h+-b-x)/(h-_+b-x),v-.5-.25*(x+h+-b-_)/(h-x+b-_)]);break;case 10:I.push([w-.5-.5*(-_-h-b-x+4*P)/(_-h+b-x),v-.5]);break;case 11:I.push([w-.25-.25*(-b-x+2*P)/(b-x),v-.75-.25*(x+h-2*P)/(h-x)]);break;case 12:I.push([w-.5,v-.5-.5*(-x-h-b-_+4*P)/(x-h+b-_)]);break;case 13:I.push([w-.75-.25*(_+h-2*P)/(h-_),v-.25-.25*(-b-_+2*P)/(b-_)]);break;case 14:I.push([w-.25-.25*(-_-h+2*P)/(_-h),v-.25-.25*(-x-h+2*P)/(x-h)])}},cell:function(w,v,h,_,x,b,M,d,E){d.push(x?[w,v]:[v,w])}});return function(w,v){var h=[],_=[];return f(w,h,_,v),{positions:h,cells:_}}}},a={}},6946:function(m,l,t){"use strict";m.exports=function a(s,c,p){p=p||{};var f=n[s];f||(f=n[s]={" ":{data:new Float32Array(0),shape:.2}});var w=f[c];if(!w)if(c.length<=1||!/\d/.test(c))w=f[c]=function(L){for(var P=L.cells,R=L.positions,z=new Float32Array(6*P.length),$=0,N=0,W=0;W<P.length;++W)for(var H=P[W],U=0;U<3;++U){var Z=R[H[U]];z[$++]=Z[0],z[$++]=Z[1]+1.4,N=Math.max(Z[0],N)}return{data:z,shape:N}}(o(c,{triangles:!0,font:s,textAlign:p.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var v=c.split(/(\d|\s)/),h=new Array(v.length),_=0,x=0,b=0;b<v.length;++b)h[b]=a(s,v[b]),_+=h[b].data.length,x+=h[b].shape,b>0&&(x+=.02);var M=new Float32Array(_),d=0,E=-.5*x;for(b=0;b<h.length;++b){for(var k=h[b].data,I=0;I<k.length;I+=2)M[d++]=k[I]+E,M[d++]=k[I+1];E+=h[b].shape+.02}w=f[c]={data:M,shape:x}}return w};var o=t(875),r=window||S.global||{},n=r.__TEXT_CACHE||{};r.__TEXT_CACHE={}},14:function(m,l,t){"use strict";var o=t(4405);m.exports=a;var r=96;function n(s,c){var p=o(getComputedStyle(s).getPropertyValue(c));return p[0]*a(p[1],s)}function a(s,c){switch(c=c||document.body,s=(s||"px").trim().toLowerCase(),c!==window&&c!==document||(c=document.body),s){case"%":return c.clientHeight/100;case"ch":case"ex":return function(p,f){var w=document.createElement("div");w.style["font-size"]="128"+p,f.appendChild(w);var v=n(w,"font-size")/128;return f.removeChild(w),v}(s,c);case"em":return n(c,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return r;case"cm":return r/2.54;case"mm":return r/25.4;case"pt":return r/72;case"pc":return r/6}return 1}},3440:function(m,l,t){"use strict";m.exports=function(x){var b=(x=x||{}).center||[0,0,0],M=x.up||[0,1,0],d=x.right||w(M),E=x.radius||1,k=x.theta||0,I=x.phi||0;if(b=[].slice.call(b,0,3),M=[].slice.call(M,0,3),s(M,M),d=[].slice.call(d,0,3),s(d,d),"eye"in x){var L=x.eye,P=[L[0]-b[0],L[1]-b[1],L[2]-b[2]];a(d,P,M),p(d[0],d[1],d[2])<1e-6?d=w(M):s(d,d),E=p(P[0],P[1],P[2]);var R=c(M,P)/E,z=c(d,P)/E;I=Math.acos(R),k=Math.acos(z)}return E=Math.log(E),new v(x.zoomMin,x.zoomMax,b,M,d,E,k,I)};var o=t(8444),r=t(7437),n=t(4422),a=t(903),s=t(899),c=t(9305);function p(x,b,M){return Math.sqrt(Math.pow(x,2)+Math.pow(b,2)+Math.pow(M,2))}function f(x){return Math.min(1,Math.max(-1,x))}function w(x){var b=Math.abs(x[0]),M=Math.abs(x[1]),d=Math.abs(x[2]),E=[0,0,0];b>Math.max(M,d)?E[2]=1:M>Math.max(b,d)?E[0]=1:E[1]=1;for(var k=0,I=0,L=0;L<3;++L)k+=x[L]*x[L],I+=E[L]*x[L];for(L=0;L<3;++L)E[L]-=I/k*x[L];return s(E,E),E}function v(x,b,M,d,E,k,I,L){this.center=o(M),this.up=o(d),this.right=o(E),this.radius=o([k]),this.angle=o([I,L]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(x,b),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var P=0;P<16;++P)this.computedMatrix[P]=.5;this.recalcMatrix(0)}var h=v.prototype;h.setDistanceLimits=function(x,b){x=x>0?Math.log(x):-1/0,b=b>0?Math.log(b):1/0,b=Math.max(b,x),this.radius.bounds[0][0]=x,this.radius.bounds[1][0]=b},h.getDistanceLimits=function(x){var b=this.radius.bounds[0];return x?(x[0]=Math.exp(b[0][0]),x[1]=Math.exp(b[1][0]),x):[Math.exp(b[0][0]),Math.exp(b[1][0])]},h.recalcMatrix=function(x){this.center.curve(x),this.up.curve(x),this.right.curve(x),this.radius.curve(x),this.angle.curve(x);for(var b=this.computedUp,M=this.computedRight,d=0,E=0,k=0;k<3;++k)E+=b[k]*M[k],d+=b[k]*b[k];var I=Math.sqrt(d),L=0;for(k=0;k<3;++k)M[k]-=b[k]*E/d,L+=M[k]*M[k],b[k]/=I;var P=Math.sqrt(L);for(k=0;k<3;++k)M[k]/=P;var R=this.computedToward;a(R,b,M),s(R,R);var z=Math.exp(this.computedRadius[0]),$=this.computedAngle[0],N=this.computedAngle[1],W=Math.cos($),H=Math.sin($),U=Math.cos(N),Z=Math.sin(N),Y=this.computedCenter,ae=W*U,re=H*U,Q=Z,K=-W*Z,te=-H*Z,oe=U,ue=this.computedEye,fe=this.computedMatrix;for(k=0;k<3;++k){var he=ae*M[k]+re*R[k]+Q*b[k];fe[4*k+1]=K*M[k]+te*R[k]+oe*b[k],fe[4*k+2]=he,fe[4*k+3]=0}var me=fe[1],ke=fe[5],Pe=fe[9],Te=fe[2],be=fe[6],xe=fe[10],Ne=ke*xe-Pe*be,Se=Pe*Te-me*xe,Ce=me*be-ke*Te,pe=p(Ne,Se,Ce);for(Se/=pe,Ce/=pe,fe[0]=Ne/=pe,fe[4]=Se,fe[8]=Ce,k=0;k<3;++k)ue[k]=Y[k]+fe[2+4*k]*z;for(k=0;k<3;++k){L=0;for(var de=0;de<3;++de)L+=fe[k+4*de]*ue[de];fe[12+k]=-L}fe[15]=1},h.getMatrix=function(x,b){this.recalcMatrix(x);var M=this.computedMatrix;if(b){for(var d=0;d<16;++d)b[d]=M[d];return b}return M};var _=[0,0,0];h.rotate=function(x,b,M,d){if(this.angle.move(x,b,M),d){this.recalcMatrix(x);var E=this.computedMatrix;_[0]=E[2],_[1]=E[6],_[2]=E[10];for(var k=this.computedUp,I=this.computedRight,L=this.computedToward,P=0;P<3;++P)E[4*P]=k[P],E[4*P+1]=I[P],E[4*P+2]=L[P];for(n(E,E,d,_),P=0;P<3;++P)k[P]=E[4*P],I[P]=E[4*P+1];this.up.set(x,k[0],k[1],k[2]),this.right.set(x,I[0],I[1],I[2])}},h.pan=function(x,b,M,d){b=b||0,M=M||0,d=d||0,this.recalcMatrix(x);var E=this.computedMatrix,k=(Math.exp(this.computedRadius[0]),E[1]),I=E[5],L=E[9],P=p(k,I,L),R=E[0],z=E[4],$=E[8],N=R*(k/=P)+z*(I/=P)+$*(L/=P),W=p(R-=k*N,z-=I*N,$-=L*N),H=(R/=W)*b+k*M,U=(z/=W)*b+I*M,Z=($/=W)*b+L*M;this.center.move(x,H,U,Z);var Y=Math.exp(this.computedRadius[0]);Y=Math.max(1e-4,Y+d),this.radius.set(x,Math.log(Y))},h.translate=function(x,b,M,d){this.center.move(x,b||0,M||0,d||0)},h.setMatrix=function(x,b,M,d){var E=1;"number"==typeof M&&(E=0|M),(E<0||E>3)&&(E=1);var k=(E+2)%3;b||(this.recalcMatrix(x),b=this.computedMatrix);var I=b[E],L=b[E+4],P=b[E+8];if(d){var R=Math.abs(I),z=Math.abs(L),$=Math.abs(P),N=Math.max(R,z,$);R===N?(I=I<0?-1:1,L=P=0):$===N?(P=P<0?-1:1,I=L=0):(L=L<0?-1:1,I=P=0)}else{var W=p(I,L,P);I/=W,L/=W,P/=W}var H,U,Z=b[k],Y=b[k+4],ae=b[k+8],re=Z*I+Y*L+ae*P,Q=p(Z-=I*re,Y-=L*re,ae-=P*re),K=L*(ae/=Q)-P*(Y/=Q),te=P*(Z/=Q)-I*ae,oe=I*Y-L*Z,ue=p(K,te,oe);if(K/=ue,te/=ue,oe/=ue,this.center.jump(x,Ee,Ue,$e),this.radius.idle(x),this.up.jump(x,I,L,P),this.right.jump(x,Z,Y,ae),2===E){var fe=b[1],he=b[5],me=b[9];H=Ne<0?-Math.PI/2:Math.PI/2,U=Math.atan2(fe*K+he*te+me*oe,fe*Z+he*Y+me*ae)}else{var Te=b[2],be=b[6],xe=b[10],Ne=Te*I+be*L+xe*P,Se=Te*Z+be*Y+xe*ae,Ce=Te*K+be*te+xe*oe;H=Math.asin(f(Ne)),U=Math.atan2(Ce,Se)}this.angle.jump(x,U,H),this.recalcMatrix(x);var pe=b[2],de=b[6],se=b[10],we=this.computedMatrix;r(we,b);var Re=we[15],Ee=we[12]/Re,Ue=we[13]/Re,$e=we[14]/Re,ve=Math.exp(this.computedRadius[0]);this.center.jump(x,Ee-pe*ve,Ue-de*ve,$e-se*ve)},h.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},h.idle=function(x){this.center.idle(x),this.up.idle(x),this.right.idle(x),this.radius.idle(x),this.angle.idle(x)},h.flush=function(x){this.center.flush(x),this.up.flush(x),this.right.flush(x),this.radius.flush(x),this.angle.flush(x)},h.setDistance=function(x,b){b>0&&this.radius.set(x,Math.log(b))},h.lookAt=function(x,b,M,d){this.recalcMatrix(x),b=b||this.computedEye,M=M||this.computedCenter;var E=(d=d||this.computedUp)[0],k=d[1],I=d[2],L=p(E,k,I);if(!(L<1e-6)){E/=L,k/=L,I/=L;var P=b[0]-M[0],R=b[1]-M[1],z=b[2]-M[2],$=p(P,R,z);if(!($<1e-6)){P/=$,R/=$,z/=$;var N=this.computedRight,W=N[0],H=N[1],U=N[2],Z=E*W+k*H+I*U,Y=p(W-=Z*E,H-=Z*k,U-=Z*I);if(!(Y<.01&&(Y=p(W=k*z-I*R,H=I*P-E*z,U=E*R-k*P))<1e-6)){W/=Y,H/=Y,U/=Y,this.up.set(x,E,k,I),this.right.set(x,W,H,U),this.center.set(x,M[0],M[1],M[2]),this.radius.set(x,Math.log($));var ae=k*U-I*H,re=I*W-E*U,Q=E*H-k*W,K=p(ae,re,Q),oe=W*P+H*R+U*z,ue=(ae/=K)*P+(re/=K)*R+(Q/=K)*z,fe=Math.asin(f(E*P+k*R+I*z)),he=Math.atan2(ue,oe),me=this.angle._state,ke=me[me.length-1],Pe=me[me.length-2];ke%=2*Math.PI;var Te=Math.abs(ke+2*Math.PI-he),be=Math.abs(ke-he),xe=Math.abs(ke-2*Math.PI-he);Te<be&&(ke+=2*Math.PI),xe<be&&(ke-=2*Math.PI),this.angle.jump(this.angle.lastT(),ke,Pe),this.angle.set(x,he,fe)}}}}},9660:function(m){"use strict";m.exports=function(t,o,r){var n=t*o,a=l*t,s=a-(a-t),c=t-s,p=l*o,f=p-(p-o),w=o-f,v=c*w-(n-s*f-c*f-s*w);return r?(r[0]=v,r[1]=n,r):[v,n]};var l=+(Math.pow(2,27)+1)},87:function(m){"use strict";m.exports=function(l,t,o){var r=l+t,n=r-l,a=t-n,s=l-(r-n);return o?(o[0]=s+a,o[1]=r,o):[s+a,r]}},5306:function(m,l,t){"use strict";var o=t(2288),r=t(3094),n=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:r([32,0]),UINT16:r([32,0]),UINT32:r([32,0]),BIGUINT64:r([32,0]),INT8:r([32,0]),INT16:r([32,0]),INT32:r([32,0]),BIGINT64:r([32,0]),FLOAT:r([32,0]),DOUBLE:r([32,0]),DATA:r([32,0]),UINT8C:r([32,0]),BUFFER:r([32,0])});var a=typeof Uint8ClampedArray<"u",s=typeof BigUint64Array<"u",c=typeof BigInt64Array<"u",p=t.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=r([32,0])),p.BIGUINT64||(p.BIGUINT64=r([32,0])),p.BIGINT64||(p.BIGINT64=r([32,0])),p.BUFFER||(p.BUFFER=r([32,0]));var f=p.DATA,w=p.BUFFER;function v(N){if(N){var H=o.log2(N.length||N.byteLength);f[H].push(N)}}function h(N){N=o.nextPow2(N);var W=o.log2(N),H=f[W];return H.length>0?H.pop():new ArrayBuffer(N)}function _(N){return new Uint8Array(h(N),0,N)}function x(N){return new Uint16Array(h(2*N),0,N)}function b(N){return new Uint32Array(h(4*N),0,N)}function M(N){return new Int8Array(h(N),0,N)}function d(N){return new Int16Array(h(2*N),0,N)}function E(N){return new Int32Array(h(4*N),0,N)}function k(N){return new Float32Array(h(4*N),0,N)}function I(N){return new Float64Array(h(8*N),0,N)}function L(N){return a?new Uint8ClampedArray(h(N),0,N):_(N)}function P(N){return s?new BigUint64Array(h(8*N),0,N):null}function R(N){return c?new BigInt64Array(h(8*N),0,N):null}function z(N){return new DataView(h(N),0,N)}function $(N){N=o.nextPow2(N);var W=o.log2(N),H=w[W];return H.length>0?H.pop():new n(N)}l.free=function(N){if(n.isBuffer(N))w[o.log2(N.length)].push(N);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(N)&&(N=N.buffer),!N)return;var H=0|o.log2(N.length||N.byteLength);f[H].push(N)}},l.freeUint8=l.freeUint16=l.freeUint32=l.freeBigUint64=l.freeInt8=l.freeInt16=l.freeInt32=l.freeBigInt64=l.freeFloat32=l.freeFloat=l.freeFloat64=l.freeDouble=l.freeUint8Clamped=l.freeDataView=function(N){v(N.buffer)},l.freeArrayBuffer=v,l.freeBuffer=function(N){w[o.log2(N.length)].push(N)},l.malloc=function(N,W){if(void 0===W||"arraybuffer"===W)return h(N);switch(W){case"uint8":return _(N);case"uint16":return x(N);case"uint32":return b(N);case"int8":return M(N);case"int16":return d(N);case"int32":return E(N);case"float":case"float32":return k(N);case"double":case"float64":return I(N);case"uint8_clamped":return L(N);case"bigint64":return R(N);case"biguint64":return P(N);case"buffer":return $(N);case"data":case"dataview":return z(N);default:return null}return null},l.mallocArrayBuffer=h,l.mallocUint8=_,l.mallocUint16=x,l.mallocUint32=b,l.mallocInt8=M,l.mallocInt16=d,l.mallocInt32=E,l.mallocFloat32=l.mallocFloat=k,l.mallocFloat64=l.mallocDouble=I,l.mallocUint8Clamped=L,l.mallocBigUint64=P,l.mallocBigInt64=R,l.mallocDataView=z,l.mallocBuffer=$,l.clearCache=function(){for(var N=0;N<32;++N)p.UINT8[N].length=0,p.UINT16[N].length=0,p.UINT32[N].length=0,p.INT8[N].length=0,p.INT16[N].length=0,p.INT32[N].length=0,p.FLOAT[N].length=0,p.DOUBLE[N].length=0,p.BIGUINT64[N].length=0,p.BIGINT64[N].length=0,p.UINT8C[N].length=0,f[N].length=0,w[N].length=0}},1731:function(m){"use strict";function l(o){this.roots=new Array(o),this.ranks=new Array(o);for(var r=0;r<o;++r)this.roots[r]=r,this.ranks[r]=0}m.exports=l;var t=l.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var o=this.roots.length;return this.roots.push(o),this.ranks.push(0),o},t.find=function(o){for(var r=o,n=this.roots;n[o]!==o;)o=n[o];for(;n[r]!==o;){var a=n[r];n[r]=o,r=a}return o},t.link=function(o,r){var n=this.find(o),a=this.find(r);if(n!==a){var s=this.ranks,c=this.roots,p=s[n],f=s[a];p<f?c[n]=a:f<p?c[a]=n:(c[a]=n,++s[n])}}},1215:function(m){"use strict";m.exports=function(l,t,o){return 0===l.length?l:t?(o||l.sort(t),function(r,n){for(var a=1,s=r.length,c=r[0],p=r[0],f=1;f<s;++f)if(p=c,n(c=r[f],p)){if(f===a){a++;continue}r[a++]=c}return r.length=a,r}(l,t)):(o||l.sort(),function(r){for(var n=1,a=r.length,s=r[0],c=r[0],p=1;p<a;++p,c=s)if(c=s,(s=r[p])!==c){if(p===n){n++;continue}r[n++]=s}return r.length=n,r}(l))}},875:function(m,l,t){"use strict";m.exports=function(a,s){return"object"==typeof s&&null!==s||(s={}),o(a,s.canvas||r,s.context||n,s)};var o=t(712),r=null,n=null;typeof document<"u"&&((r=document.createElement("canvas")).width=8192,r.height=1024,n=r.getContext("2d"))},712:function(m,l,t){m.exports=function(P,R,z,$){var N=64,W=1.25,H={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return $&&($.size&&$.size>0&&(N=$.size),$.lineSpacing&&$.lineSpacing>0&&(W=$.lineSpacing),$.styletags&&$.styletags.breaklines&&(H.breaklines=!!$.styletags.breaklines),$.styletags&&$.styletags.bolds&&(H.bolds=!!$.styletags.bolds),$.styletags&&$.styletags.italics&&(H.italics=!!$.styletags.italics),$.styletags&&$.styletags.subscripts&&(H.subscripts=!!$.styletags.subscripts),$.styletags&&$.styletags.superscripts&&(H.superscripts=!!$.styletags.superscripts)),z.font=[$.fontStyle,$.fontVariant,$.fontWeight,N+"px",$.font].filter(function(U){return U}).join(" "),z.textAlign="start",z.textBaseline="alphabetic",z.direction="ltr",L(function(U,Z,Y,ae,re,Q){Y=(Y=Y.replace(/\n/g,"")).replace(/\<br\>/g,!0===Q.breaklines?"\n":" ");var K="",te=[];for(he=0;he<Y.length;++he)te[he]=K;!0===Q.bolds&&(te=E(p,f,Y,te)),!0===Q.italics&&(te=E(w,v,Y,te)),!0===Q.superscripts&&(te=E(h,x,Y,te)),!0===Q.subscripts&&(te=E(b,d,Y,te));var oe=[],ue="";for(he=0;he<Y.length;++he)null!==te[he]&&(ue+=Y[he],oe.push(te[he]));var fe,he,me,ke,Pe,Te=ue.split("\n"),be=Te.length,xe=Math.round(re*ae),Ne=ae,Se=2*ae,Ce=0,pe=be*xe+Se;U.height<pe&&(U.height=pe),Z.fillStyle="#000",Z.fillRect(0,0,U.width,U.height),Z.fillStyle="#fff";var de=0,se="";function we(){if(""!==se){var ze=Z.measureText(se).width;Z.fillText(se,Ne+me,Se+ke),me+=ze}}function Re(){return Math.round(Pe)+"px "}function Ee(ze,Ge){var He=""+Z.font;if(!0===Q.subscripts){var Ke=ze.indexOf(M),et=Ge.indexOf(M),st=Ke>-1?parseInt(ze[1+Ke]):0,mt=et>-1?parseInt(Ge[1+et]):0;st!==mt&&(He=He.replace(Re(),"?px "),Pe*=Math.pow(.75,mt-st),He=He.replace("?px ",Re())),ke+=.25*xe*(mt-st)}if(!0===Q.superscripts){var at=ze.indexOf(_),kt=Ge.indexOf(_),St=at>-1?parseInt(ze[1+at]):0,gt=kt>-1?parseInt(Ge[1+kt]):0;St!==gt&&(He=He.replace(Re(),"?px "),Pe*=Math.pow(.75,gt-St),He=He.replace("?px ",Re())),ke-=.25*xe*(gt-St)}if(!0===Q.bolds){var dt=ze.indexOf(f)>-1,Ct=Ge.indexOf(f)>-1;!dt&&Ct&&(He=Ot?He.replace("italic ","italic bold "):"bold "+He),dt&&!Ct&&(He=He.replace("bold ",""))}if(!0===Q.italics){var Ot=ze.indexOf(v)>-1,Pt=Ge.indexOf(v)>-1;!Ot&&Pt&&(He="italic "+He),Ot&&!Pt&&(He=He.replace("italic ",""))}Z.font=He}for(fe=0;fe<be;++fe){var Ue=Te[fe]+"\n";for(me=0,ke=fe*xe,Pe=ae,se="",he=0;he<Ue.length;++he){var $e=he+de<oe.length?oe[he+de]:oe[oe.length-1];K===$e?se+=Ue[he]:(we(),se=Ue[he],void 0!==$e&&(Ee(K,$e),K=$e))}we(),de+=Ue.length;var ve=0|Math.round(me+2*Ne);Ce<ve&&(Ce=ve)}var Ie=Ce,De=Se+xe*be;return r(Z.getImageData(0,0,Ie,De).data,[De,Ie,4]).pick(-1,-1,0).transpose(1,0)}(R,z,P,N,W,H),$,N)},m.exports.processPixels=L;var o=t(4162),r=t(5050),n=t(8243),a=t(197),s=t(7761),c=t(8040),p="b",f="b|",w="i",v="i|",h="sup",_="+",x="+1",b="sub",M="-",d="-1";function E(P,R,z,$){for(var N="<"+P+">",W="</"+P+">",H=N.length,U=W.length,Z=R[0]===_||R[0]===M,Y=0,ae=-U;Y>-1&&-1!==(Y=z.indexOf(N,Y))&&-1!==(ae=z.indexOf(W,Y+H))&&!(ae<=Y);){for(var re=Y;re<ae+U;++re)if(re<Y+H||re>=ae)$[re]=null,z=z.substr(0,re)+" "+z.substr(re+1);else if(null!==$[re]){var Q=$[re].indexOf(R[0]);-1===Q?$[re]+=R:Z&&($[re]=$[re].substr(0,Q+1)+(1+parseInt($[re][Q+1]))+$[re].substr(Q+2))}var K=Y+H,te=z.substr(K,ae-K).indexOf(N);Y=-1!==te?te:ae+U}return $}function I(P,R,z,$){var N=function k(P,R){var z=o(P,128);return R?n(z.cells,z.positions,.25):{edges:z.cells,positions:z.positions}}(P,$),W=function(fe,he,me){for(var ke=he.textAlign||"start",Pe=he.textBaseline||"alphabetic",Te=[1<<30,1<<30],be=[0,0],xe=fe.length,Ne=0;Ne<xe;++Ne)for(var Se=fe[Ne],Ce=0;Ce<2;++Ce)Te[Ce]=0|Math.min(Te[Ce],Se[Ce]),be[Ce]=0|Math.max(be[Ce],Se[Ce]);var pe=0;switch(ke){case"center":pe=-.5*(Te[0]+be[0]);break;case"right":case"end":pe=-be[0];break;case"left":case"start":pe=-Te[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+ke+"'")}var de=0;switch(Pe){case"hanging":case"top":de=-Te[1];break;case"middle":de=-.5*(Te[1]+be[1]);break;case"alphabetic":case"ideographic":de=-3*me;break;case"bottom":de=-be[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+Pe+"'")}var se=1/me;return"lineHeight"in he?se*=+he.lineHeight:"width"in he?se=he.width/(be[0]-Te[0]):"height"in he&&(se=he.height/(be[1]-Te[1])),fe.map(function(we){return[se*(we[0]+pe),se*(we[1]+de)]})}(N.positions,R,z),H=N.edges,U="ccw"===R.orientation;if(a(W,H),R.polygons||R.polygon||R.polyline){for(var Z=c(H,W),Y=new Array(Z.length),ae=0;ae<Z.length;++ae){for(var re=Z[ae],Q=new Array(re.length),K=0;K<re.length;++K){for(var te=re[K],oe=new Array(te.length),ue=0;ue<te.length;++ue)oe[ue]=W[te[ue]].slice();U&&oe.reverse(),Q[K]=oe}Y[ae]=Q}return Y}return R.triangles||R.triangulate||R.triangle?{cells:s(W,H,{delaunay:!1,exterior:!1,interior:!0}),positions:W}:{edges:H,positions:W}}function L(P,R,z){try{return I(P,R,z,!0)}catch{}try{return I(P,R,z,!1)}catch{}return R.polygons||R.polyline||R.polygon?[]:R.triangles||R.triangulate||R.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(m){!function(){"use strict";if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=b);var l=!1;if("function"==typeof WeakMap){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var o=new t,r=Object.freeze({});if(o.set(r,1),1===o.get(r))return void(m.exports=WeakMap);l=!0}}var n=Object.getOwnPropertyNames,a=Object.defineProperty,s=Object.isExtensible,c="weakmap:",p=c+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var f=new ArrayBuffer(25),w=new Uint8Array(f);crypto.getRandomValues(w),p=c+"rand:"+Array.prototype.map.call(w,function(I){return(I%36).toString(36)}).join("")+"___"}if(a(Object,"getOwnPropertyNames",{value:function(I){return n(I).filter(M)}}),"getPropertyNames"in Object){var v=Object.getPropertyNames;a(Object,"getPropertyNames",{value:function(I){return v(I).filter(M)}})}!function(){var I=Object.freeze;a(Object,"freeze",{value:function(R){return d(R),I(R)}});var L=Object.seal;a(Object,"seal",{value:function(R){return d(R),L(R)}});var P=Object.preventExtensions;a(Object,"preventExtensions",{value:function(R){return d(R),P(R)}})}();var h=!1,_=0,x=function(){this instanceof x||k();var I=[],L=[],P=_++;return Object.create(x.prototype,{get___:{value:E(function(R,z){var $,N=d(R);return N?P in N?N[P]:z:($=I.indexOf(R))>=0?L[$]:z})},has___:{value:E(function(R){var z=d(R);return z?P in z:I.indexOf(R)>=0})},set___:{value:E(function(R,z){var $,N=d(R);return N?N[P]=z:($=I.indexOf(R))>=0?L[$]=z:(L[$=I.length]=z,I[$]=R),this})},delete___:{value:E(function(R){var z,$,N=d(R);return N?P in N&&delete N[P]:!((z=I.indexOf(R))<0||($=I.length-1,I[z]=void 0,L[z]=L[$],I[z]=I[$],I.length=$,L.length=$,0))})}})};x.prototype=Object.create(Object.prototype,{get:{value:function(I,L){return this.get___(I,L)},writable:!0,configurable:!0},has:{value:function(I){return this.has___(I)},writable:!0,configurable:!0},set:{value:function(I,L){return this.set___(I,L)},writable:!0,configurable:!0},delete:{value:function(I){return this.delete___(I)},writable:!0,configurable:!0}}),"function"==typeof t?function(){function I(){this instanceof x||k();var L,P=new t,R=void 0,z=!1;return L=l?function($,N){return P.set($,N),P.has($)||(R||(R=new x),R.set($,N)),this}:function($,N){if(z)try{P.set($,N)}catch{R||(R=new x),R.set___($,N)}else P.set($,N);return this},Object.create(x.prototype,{get___:{value:E(function($,N){return R?P.has($)?P.get($):R.get___($,N):P.get($,N)})},has___:{value:E(function($){return P.has($)||!!R&&R.has___($)})},set___:{value:E(L)},delete___:{value:E(function($){var N=!!P.delete($);return R&&R.delete___($)||N})},permitHostObjects___:{value:E(function($){if($!==b)throw new Error("bogus call to permitHostObjects___");z=!0})}})}l&&typeof Proxy<"u"&&(Proxy=void 0),I.prototype=x.prototype,m.exports=I,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),m.exports=x)}function b(I){I.permitHostObjects___&&I.permitHostObjects___(b)}function M(I){return!(I.substr(0,8)==c&&"___"===I.substr(I.length-3))}function d(I){if(I!==Object(I))throw new TypeError("Not an object: "+I);var L=I[p];if(L&&L.key===I)return L;if(s(I)){L={key:I};try{return a(I,p,{value:L,writable:!1,enumerable:!1,configurable:!1}),L}catch{return}}}function E(I){return I.prototype=null,Object.freeze(I)}function k(){h||typeof console>"u"||(h=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},9222:function(m,l,t){var o=t(7178);m.exports=function(){var r={};return function(n){if(("object"!=typeof n||null===n)&&"function"!=typeof n)throw new Error("Weakmap-shim: Key must be object");var a=n.valueOf(r);return a&&a.identity===r?a:o(n,r)}}},7178:function(m){m.exports=function(l,t){var o={identity:t},r=l.valueOf;return Object.defineProperty(l,"valueOf",{value:function(n){return n!==t?r.apply(this,arguments):o},writable:!0}),o}},4037:function(m,l,t){var o=t(9222);m.exports=function(){var r=o();return{get:function(n,a){var s=r(n);return s.hasOwnProperty("value")?s.value:a},set:function(n,a){return r(n).value=a,this},has:function(n){return"value"in r(n)},delete:function(n){return delete r(n).value}}}},6183:function(m){"use strict";var l,t;m.exports=(l=function(){return function(l,t,o,r,n,a){var s=l[0],c=o[0],p=[0],f=c;r|=0;var w=0,v=c;for(w=0;w<s;++w){var h=t[r]-a,_=t[r+f]-a;h>=0!=_>=0&&n.push(p[0]+.5+.5*(h+_)/(h-_)),r+=v,++p[0]}}}.bind(void 0,{funcName:"zeroCrossings"}),t={},function(o,r,n){var a=o.dtype,s=o.order,c=[a,s.join()].join(),p=t[c];return p||(t[c]=p=l([a,s])),p(o.shape.slice(0),o.data,o.stride,0|o.offset,r,n)})},9584:function(m,l,t){"use strict";m.exports=function(r,n){var a=[];return n=+n||0,o(r.hi(r.shape[0]-1),a,n),a};var o=t(6183)},6601:function(){}},A={};function T(m){var l=A[m];if(void 0!==l)return l.exports;var t=A[m]={id:m,loaded:!1,exports:{}};return u[m].call(t.exports,t,t.exports,T),t.loaded=!0,t.exports}return T.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),T.nmd=function(m){return m.paths=[],m.children||(m.children=[]),m},T(7386)}()},ie.exports=C()},12856:function(ie,B,e){"use strict";function S(pe,de){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,we){return se.__proto__=we,se})(pe,de)}function u(pe){if(void 0===pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}function A(pe){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(de){return de.__proto__||Object.getPrototypeOf(de)})(pe)}function T(pe){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(pe)}var m=e(95341),l=e(95280),t="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;B.Buffer=n,B.SlowBuffer=function(pe){return+pe!=pe&&(pe=0),n.alloc(+pe)},B.INSPECT_MAX_BYTES=50;var o=2147483647;function r(pe){if(pe>o)throw new RangeError('The value "'+pe+'" is invalid for option "size"');var de=new Uint8Array(pe);return Object.setPrototypeOf(de,n.prototype),de}function n(pe,de,se){if("number"==typeof pe){if("string"==typeof de)throw new TypeError('The "string" argument must be of type string. Received type number');return c(pe)}return a(pe,de,se)}function a(pe,de,se){if("string"==typeof pe)return function(Ee,Ue){if("string"==typeof Ue&&""!==Ue||(Ue="utf8"),!n.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);var $e=0|v(Ee,Ue),ve=r($e),Ie=ve.write(Ee,Ue);return Ie!==$e&&(ve=ve.slice(0,Ie)),ve}(pe,de);if(ArrayBuffer.isView(pe))return function(Ee){if(be(Ee,Uint8Array)){var Ue=new Uint8Array(Ee);return f(Ue.buffer,Ue.byteOffset,Ue.byteLength)}return p(Ee)}(pe);if(null==pe)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+T(pe));if(be(pe,ArrayBuffer)||pe&&be(pe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(pe,SharedArrayBuffer)||pe&&be(pe.buffer,SharedArrayBuffer)))return f(pe,de,se);if("number"==typeof pe)throw new TypeError('The "value" argument must not be of type number. Received type number');var we=pe.valueOf&&pe.valueOf();if(null!=we&&we!==pe)return n.from(we,de,se);var Re=function(Ee){if(n.isBuffer(Ee)){var Ue=0|w(Ee.length),$e=r(Ue);return 0===$e.length||Ee.copy($e,0,0,Ue),$e}return void 0!==Ee.length?"number"!=typeof Ee.length||xe(Ee.length)?r(0):p(Ee):"Buffer"===Ee.type&&Array.isArray(Ee.data)?p(Ee.data):void 0}(pe);if(Re)return Re;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof pe[Symbol.toPrimitive])return n.from(pe[Symbol.toPrimitive]("string"),de,se);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+T(pe))}function s(pe){if("number"!=typeof pe)throw new TypeError('"size" argument must be of type number');if(pe<0)throw new RangeError('The value "'+pe+'" is invalid for option "size"')}function c(pe){return s(pe),r(pe<0?0:0|w(pe))}function p(pe){for(var de=pe.length<0?0:0|w(pe.length),se=r(de),we=0;we<de;we+=1)se[we]=255&pe[we];return se}function f(pe,de,se){if(de<0||pe.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(pe.byteLength<de+(se||0))throw new RangeError('"length" is outside of buffer bounds');var we;return we=void 0===de&&void 0===se?new Uint8Array(pe):void 0===se?new Uint8Array(pe,de):new Uint8Array(pe,de,se),Object.setPrototypeOf(we,n.prototype),we}function w(pe){if(pe>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|pe}function v(pe,de){if(n.isBuffer(pe))return pe.length;if(ArrayBuffer.isView(pe)||be(pe,ArrayBuffer))return pe.byteLength;if("string"!=typeof pe)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+T(pe));var se=pe.length,we=arguments.length>2&&!0===arguments[2];if(!we&&0===se)return 0;for(var Re=!1;;)switch(de){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return ke(pe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*se;case"hex":return se>>>1;case"base64":return Pe(pe).length;default:if(Re)return we?-1:ke(pe).length;de=(""+de).toLowerCase(),Re=!0}}function h(pe,de,se){var we=!1;if((void 0===de||de<0)&&(de=0),de>this.length||((void 0===se||se>this.length)&&(se=this.length),se<=0)||(se>>>=0)<=(de>>>=0))return"";for(pe||(pe="utf8");;)switch(pe){case"hex":return N(this,de,se);case"utf8":case"utf-8":return P(this,de,se);case"ascii":return z(this,de,se);case"latin1":case"binary":return $(this,de,se);case"base64":return L(this,de,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,de,se);default:if(we)throw new TypeError("Unknown encoding: "+pe);pe=(pe+"").toLowerCase(),we=!0}}function _(pe,de,se){var we=pe[de];pe[de]=pe[se],pe[se]=we}function x(pe,de,se,we,Re){if(0===pe.length)return-1;if("string"==typeof se?(we=se,se=0):se>2147483647?se=2147483647:se<-2147483648&&(se=-2147483648),xe(se=+se)&&(se=Re?0:pe.length-1),se<0&&(se=pe.length+se),se>=pe.length){if(Re)return-1;se=pe.length-1}else if(se<0){if(!Re)return-1;se=0}if("string"==typeof de&&(de=n.from(de,we)),n.isBuffer(de))return 0===de.length?-1:b(pe,de,se,we,Re);if("number"==typeof de)return de&=255,"function"==typeof Uint8Array.prototype.indexOf?Re?Uint8Array.prototype.indexOf.call(pe,de,se):Uint8Array.prototype.lastIndexOf.call(pe,de,se):b(pe,[de],se,we,Re);throw new TypeError("val must be string, number or Buffer")}function b(pe,de,se,we,Re){var Ee,Ue=1,$e=pe.length,ve=de.length;if(void 0!==we&&("ucs2"===(we=String(we).toLowerCase())||"ucs-2"===we||"utf16le"===we||"utf-16le"===we)){if(pe.length<2||de.length<2)return-1;Ue=2,$e/=2,ve/=2,se/=2}function Ie(He,Ke){return 1===Ue?He[Ke]:He.readUInt16BE(Ke*Ue)}if(Re){var De=-1;for(Ee=se;Ee<$e;Ee++)if(Ie(pe,Ee)===Ie(de,-1===De?0:Ee-De)){if(-1===De&&(De=Ee),Ee-De+1===ve)return De*Ue}else-1!==De&&(Ee-=Ee-De),De=-1}else for(se+ve>$e&&(se=$e-ve),Ee=se;Ee>=0;Ee--){for(var ze=!0,Ge=0;Ge<ve;Ge++)if(Ie(pe,Ee+Ge)!==Ie(de,Ge)){ze=!1;break}if(ze)return Ee}return-1}function M(pe,de,se,we){se=Number(se)||0;var Re=pe.length-se;we?(we=Number(we))>Re&&(we=Re):we=Re;var Ee,Ue=de.length;for(we>Ue/2&&(we=Ue/2),Ee=0;Ee<we;++Ee){var $e=parseInt(de.substr(2*Ee,2),16);if(xe($e))return Ee;pe[se+Ee]=$e}return Ee}function d(pe,de,se,we){return Te(ke(de,pe.length-se),pe,se,we)}function E(pe,de,se,we){return Te(function(Re){for(var Ee=[],Ue=0;Ue<Re.length;++Ue)Ee.push(255&Re.charCodeAt(Ue));return Ee}(de),pe,se,we)}function k(pe,de,se,we){return Te(Pe(de),pe,se,we)}function I(pe,de,se,we){return Te(function(Re,Ee){for(var Ue,$e,Ie=[],De=0;De<Re.length&&!((Ee-=2)<0);++De)$e=(Ue=Re.charCodeAt(De))>>8,Ie.push(Ue%256),Ie.push($e);return Ie}(de,pe.length-se),pe,se,we)}function L(pe,de,se){return m.fromByteArray(0===de&&se===pe.length?pe:pe.slice(de,se))}function P(pe,de,se){se=Math.min(pe.length,se);for(var we=[],Re=de;Re<se;){var Ee=pe[Re],Ue=null,$e=Ee>239?4:Ee>223?3:Ee>191?2:1;if(Re+$e<=se){var ve=void 0,Ie=void 0,De=void 0,ze=void 0;switch($e){case 1:Ee<128&&(Ue=Ee);break;case 2:128==(192&(ve=pe[Re+1]))&&(ze=(31&Ee)<<6|63&ve)>127&&(Ue=ze);break;case 3:Ie=pe[Re+2],128==(192&(ve=pe[Re+1]))&&128==(192&Ie)&&(ze=(15&Ee)<<12|(63&ve)<<6|63&Ie)>2047&&(ze<55296||ze>57343)&&(Ue=ze);break;case 4:Ie=pe[Re+2],De=pe[Re+3],128==(192&(ve=pe[Re+1]))&&128==(192&Ie)&&128==(192&De)&&(ze=(15&Ee)<<18|(63&ve)<<12|(63&Ie)<<6|63&De)>65535&&ze<1114112&&(Ue=ze)}}null===Ue?(Ue=65533,$e=1):Ue>65535&&(we.push((Ue-=65536)>>>10&1023|55296),Ue=56320|1023&Ue),we.push(Ue),Re+=$e}return function(Ge){var He=Ge.length;if(He<=R)return String.fromCharCode.apply(String,Ge);for(var Ke="",et=0;et<He;)Ke+=String.fromCharCode.apply(String,Ge.slice(et,et+=R));return Ke}(we)}B.kMaxLength=o,(n.TYPED_ARRAY_SUPPORT=function(){try{var pe=new Uint8Array(1),de={foo:function(){return 42}};return Object.setPrototypeOf(de,Uint8Array.prototype),Object.setPrototypeOf(pe,de),42===pe.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),n.poolSize=8192,n.from=function(pe,de,se){return a(pe,de,se)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(pe,de,se){return Re=de,Ee=se,s(we=pe),we<=0?r(we):void 0!==Re?"string"==typeof Ee?r(we).fill(Re,Ee):r(we).fill(Re):r(we);var we,Re,Ee},n.allocUnsafe=function(pe){return c(pe)},n.allocUnsafeSlow=function(pe){return c(pe)},n.isBuffer=function(pe){return null!=pe&&!0===pe._isBuffer&&pe!==n.prototype},n.compare=function(pe,de){if(be(pe,Uint8Array)&&(pe=n.from(pe,pe.offset,pe.byteLength)),be(de,Uint8Array)&&(de=n.from(de,de.offset,de.byteLength)),!n.isBuffer(pe)||!n.isBuffer(de))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(pe===de)return 0;for(var se=pe.length,we=de.length,Re=0,Ee=Math.min(se,we);Re<Ee;++Re)if(pe[Re]!==de[Re]){se=pe[Re],we=de[Re];break}return se<we?-1:we<se?1:0},n.isEncoding=function(pe){switch(String(pe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(pe,de){if(!Array.isArray(pe))throw new TypeError('"list" argument must be an Array of Buffers');if(0===pe.length)return n.alloc(0);var se;if(void 0===de)for(de=0,se=0;se<pe.length;++se)de+=pe[se].length;var we=n.allocUnsafe(de),Re=0;for(se=0;se<pe.length;++se){var Ee=pe[se];if(be(Ee,Uint8Array))Re+Ee.length>we.length?(n.isBuffer(Ee)||(Ee=n.from(Ee)),Ee.copy(we,Re)):Uint8Array.prototype.set.call(we,Ee,Re);else{if(!n.isBuffer(Ee))throw new TypeError('"list" argument must be an Array of Buffers');Ee.copy(we,Re)}Re+=Ee.length}return we},n.byteLength=v,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var pe=this.length;if(pe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var de=0;de<pe;de+=2)_(this,de,de+1);return this},n.prototype.swap32=function(){var pe=this.length;if(pe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var de=0;de<pe;de+=4)_(this,de,de+3),_(this,de+1,de+2);return this},n.prototype.swap64=function(){var pe=this.length;if(pe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var de=0;de<pe;de+=8)_(this,de,de+7),_(this,de+1,de+6),_(this,de+2,de+5),_(this,de+3,de+4);return this},n.prototype.toString=function(){var pe=this.length;return 0===pe?"":0===arguments.length?P(this,0,pe):h.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(pe){if(!n.isBuffer(pe))throw new TypeError("Argument must be a Buffer");return this===pe||0===n.compare(this,pe)},n.prototype.inspect=function(){var pe="",de=B.INSPECT_MAX_BYTES;return pe=this.toString("hex",0,de).replace(/(.{2})/g,"$1 ").trim(),this.length>de&&(pe+=" ... "),"<Buffer "+pe+">"},t&&(n.prototype[t]=n.prototype.inspect),n.prototype.compare=function(pe,de,se,we,Re){if(be(pe,Uint8Array)&&(pe=n.from(pe,pe.offset,pe.byteLength)),!n.isBuffer(pe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+T(pe));if(void 0===de&&(de=0),void 0===se&&(se=pe?pe.length:0),void 0===we&&(we=0),void 0===Re&&(Re=this.length),de<0||se>pe.length||we<0||Re>this.length)throw new RangeError("out of range index");if(we>=Re&&de>=se)return 0;if(we>=Re)return-1;if(de>=se)return 1;if(this===pe)return 0;for(var Ee=(Re>>>=0)-(we>>>=0),Ue=(se>>>=0)-(de>>>=0),$e=Math.min(Ee,Ue),ve=this.slice(we,Re),Ie=pe.slice(de,se),De=0;De<$e;++De)if(ve[De]!==Ie[De]){Ee=ve[De],Ue=Ie[De];break}return Ee<Ue?-1:Ue<Ee?1:0},n.prototype.includes=function(pe,de,se){return-1!==this.indexOf(pe,de,se)},n.prototype.indexOf=function(pe,de,se){return x(this,pe,de,se,!0)},n.prototype.lastIndexOf=function(pe,de,se){return x(this,pe,de,se,!1)},n.prototype.write=function(pe,de,se,we){if(void 0===de)we="utf8",se=this.length,de=0;else if(void 0===se&&"string"==typeof de)we=de,se=this.length,de=0;else{if(!isFinite(de))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");de>>>=0,isFinite(se)?(se>>>=0,void 0===we&&(we="utf8")):(we=se,se=void 0)}var Re=this.length-de;if((void 0===se||se>Re)&&(se=Re),pe.length>0&&(se<0||de<0)||de>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");for(var Ee=!1;;)switch(we){case"hex":return M(this,pe,de,se);case"utf8":case"utf-8":return d(this,pe,de,se);case"ascii":case"latin1":case"binary":return E(this,pe,de,se);case"base64":return k(this,pe,de,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,pe,de,se);default:if(Ee)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),Ee=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function z(pe,de,se){var we="";se=Math.min(pe.length,se);for(var Re=de;Re<se;++Re)we+=String.fromCharCode(127&pe[Re]);return we}function $(pe,de,se){var we="";se=Math.min(pe.length,se);for(var Re=de;Re<se;++Re)we+=String.fromCharCode(pe[Re]);return we}function N(pe,de,se){var we=pe.length;(!de||de<0)&&(de=0),(!se||se<0||se>we)&&(se=we);for(var Re="",Ee=de;Ee<se;++Ee)Re+=Ne[pe[Ee]];return Re}function W(pe,de,se){for(var we=pe.slice(de,se),Re="",Ee=0;Ee<we.length-1;Ee+=2)Re+=String.fromCharCode(we[Ee]+256*we[Ee+1]);return Re}function H(pe,de,se){if(pe%1!=0||pe<0)throw new RangeError("offset is not uint");if(pe+de>se)throw new RangeError("Trying to access beyond buffer length")}function U(pe,de,se,we,Re,Ee){if(!n.isBuffer(pe))throw new TypeError('"buffer" argument must be a Buffer instance');if(de>Re||de<Ee)throw new RangeError('"value" argument is out of bounds');if(se+we>pe.length)throw new RangeError("Index out of range")}function Z(pe,de,se,we,Re){ue(de,we,Re,pe,se,7);var Ee=Number(de&BigInt(4294967295));pe[se++]=Ee,pe[se++]=Ee>>=8,pe[se++]=Ee>>=8,pe[se++]=Ee>>=8;var Ue=Number(de>>BigInt(32)&BigInt(4294967295));return pe[se++]=Ue,pe[se++]=Ue>>=8,pe[se++]=Ue>>=8,pe[se++]=Ue>>=8,se}function Y(pe,de,se,we,Re){ue(de,we,Re,pe,se,7);var Ee=Number(de&BigInt(4294967295));pe[se+7]=Ee,pe[se+6]=Ee>>=8,pe[se+5]=Ee>>=8,pe[se+4]=Ee>>=8;var Ue=Number(de>>BigInt(32)&BigInt(4294967295));return pe[se+3]=Ue,pe[se+2]=Ue>>=8,pe[se+1]=Ue>>=8,pe[se]=Ue>>=8,se+8}function ae(pe,de,se,we,Re,Ee){if(se+we>pe.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function re(pe,de,se,we,Re){return de=+de,se>>>=0,Re||ae(pe,0,se,4),l.write(pe,de,se,we,23,4),se+4}function Q(pe,de,se,we,Re){return de=+de,se>>>=0,Re||ae(pe,0,se,8),l.write(pe,de,se,we,52,8),se+8}n.prototype.slice=function(pe,de){var se=this.length;(pe=~~pe)<0?(pe+=se)<0&&(pe=0):pe>se&&(pe=se),(de=void 0===de?se:~~de)<0?(de+=se)<0&&(de=0):de>se&&(de=se),de<pe&&(de=pe);var we=this.subarray(pe,de);return Object.setPrototypeOf(we,n.prototype),we},n.prototype.readUintLE=n.prototype.readUIntLE=function(pe,de,se){pe>>>=0,de>>>=0,se||H(pe,de,this.length);for(var we=this[pe],Re=1,Ee=0;++Ee<de&&(Re*=256);)we+=this[pe+Ee]*Re;return we},n.prototype.readUintBE=n.prototype.readUIntBE=function(pe,de,se){pe>>>=0,de>>>=0,se||H(pe,de,this.length);for(var we=this[pe+--de],Re=1;de>0&&(Re*=256);)we+=this[pe+--de]*Re;return we},n.prototype.readUint8=n.prototype.readUInt8=function(pe,de){return pe>>>=0,de||H(pe,1,this.length),this[pe]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(pe,de){return pe>>>=0,de||H(pe,2,this.length),this[pe]|this[pe+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(pe,de){return pe>>>=0,de||H(pe,2,this.length),this[pe]<<8|this[pe+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(pe,de){return pe>>>=0,de||H(pe,4,this.length),(this[pe]|this[pe+1]<<8|this[pe+2]<<16)+16777216*this[pe+3]},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(pe,de){return pe>>>=0,de||H(pe,4,this.length),16777216*this[pe]+(this[pe+1]<<16|this[pe+2]<<8|this[pe+3])},n.prototype.readBigUInt64LE=Se(function(pe){fe(pe>>>=0,"offset");var de=this[pe],se=this[pe+7];void 0!==de&&void 0!==se||he(pe,this.length-8);var we=de+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,24),Re=this[++pe]+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+se*Math.pow(2,24);return BigInt(we)+(BigInt(Re)<<BigInt(32))}),n.prototype.readBigUInt64BE=Se(function(pe){fe(pe>>>=0,"offset");var de=this[pe],se=this[pe+7];void 0!==de&&void 0!==se||he(pe,this.length-8);var we=de*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+this[++pe],Re=this[++pe]*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+se;return(BigInt(we)<<BigInt(32))+BigInt(Re)}),n.prototype.readIntLE=function(pe,de,se){pe>>>=0,de>>>=0,se||H(pe,de,this.length);for(var we=this[pe],Re=1,Ee=0;++Ee<de&&(Re*=256);)we+=this[pe+Ee]*Re;return we>=(Re*=128)&&(we-=Math.pow(2,8*de)),we},n.prototype.readIntBE=function(pe,de,se){pe>>>=0,de>>>=0,se||H(pe,de,this.length);for(var we=de,Re=1,Ee=this[pe+--we];we>0&&(Re*=256);)Ee+=this[pe+--we]*Re;return Ee>=(Re*=128)&&(Ee-=Math.pow(2,8*de)),Ee},n.prototype.readInt8=function(pe,de){return pe>>>=0,de||H(pe,1,this.length),128&this[pe]?-1*(255-this[pe]+1):this[pe]},n.prototype.readInt16LE=function(pe,de){pe>>>=0,de||H(pe,2,this.length);var se=this[pe]|this[pe+1]<<8;return 32768&se?4294901760|se:se},n.prototype.readInt16BE=function(pe,de){pe>>>=0,de||H(pe,2,this.length);var se=this[pe+1]|this[pe]<<8;return 32768&se?4294901760|se:se},n.prototype.readInt32LE=function(pe,de){return pe>>>=0,de||H(pe,4,this.length),this[pe]|this[pe+1]<<8|this[pe+2]<<16|this[pe+3]<<24},n.prototype.readInt32BE=function(pe,de){return pe>>>=0,de||H(pe,4,this.length),this[pe]<<24|this[pe+1]<<16|this[pe+2]<<8|this[pe+3]},n.prototype.readBigInt64LE=Se(function(pe){fe(pe>>>=0,"offset");var de=this[pe],se=this[pe+7];void 0!==de&&void 0!==se||he(pe,this.length-8);var we=this[pe+4]+this[pe+5]*Math.pow(2,8)+this[pe+6]*Math.pow(2,16)+(se<<24);return(BigInt(we)<<BigInt(32))+BigInt(de+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,24))}),n.prototype.readBigInt64BE=Se(function(pe){fe(pe>>>=0,"offset");var de=this[pe],se=this[pe+7];void 0!==de&&void 0!==se||he(pe,this.length-8);var we=(de<<24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+this[++pe];return(BigInt(we)<<BigInt(32))+BigInt(this[++pe]*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+se)}),n.prototype.readFloatLE=function(pe,de){return pe>>>=0,de||H(pe,4,this.length),l.read(this,pe,!0,23,4)},n.prototype.readFloatBE=function(pe,de){return pe>>>=0,de||H(pe,4,this.length),l.read(this,pe,!1,23,4)},n.prototype.readDoubleLE=function(pe,de){return pe>>>=0,de||H(pe,8,this.length),l.read(this,pe,!0,52,8)},n.prototype.readDoubleBE=function(pe,de){return pe>>>=0,de||H(pe,8,this.length),l.read(this,pe,!1,52,8)},n.prototype.writeUintLE=n.prototype.writeUIntLE=function(pe,de,se,we){pe=+pe,de>>>=0,se>>>=0,we||U(this,pe,de,se,Math.pow(2,8*se)-1,0);var Re=1,Ee=0;for(this[de]=255&pe;++Ee<se&&(Re*=256);)this[de+Ee]=pe/Re&255;return de+se},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(pe,de,se,we){pe=+pe,de>>>=0,se>>>=0,we||U(this,pe,de,se,Math.pow(2,8*se)-1,0);var Re=se-1,Ee=1;for(this[de+Re]=255&pe;--Re>=0&&(Ee*=256);)this[de+Re]=pe/Ee&255;return de+se},n.prototype.writeUint8=n.prototype.writeUInt8=function(pe,de,se){return pe=+pe,de>>>=0,se||U(this,pe,de,1,255,0),this[de]=255&pe,de+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(pe,de,se){return pe=+pe,de>>>=0,se||U(this,pe,de,2,65535,0),this[de]=255&pe,this[de+1]=pe>>>8,de+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(pe,de,se){return pe=+pe,de>>>=0,se||U(this,pe,de,2,65535,0),this[de]=pe>>>8,this[de+1]=255&pe,de+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(pe,de,se){return pe=+pe,de>>>=0,se||U(this,pe,de,4,4294967295,0),this[de+3]=pe>>>24,this[de+2]=pe>>>16,this[de+1]=pe>>>8,this[de]=255&pe,de+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(pe,de,se){return pe=+pe,de>>>=0,se||U(this,pe,de,4,4294967295,0),this[de]=pe>>>24,this[de+1]=pe>>>16,this[de+2]=pe>>>8,this[de+3]=255&pe,de+4},n.prototype.writeBigUInt64LE=Se(function(pe){return Z(this,pe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=Se(function(pe){return Y(this,pe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(pe,de,se,we){if(pe=+pe,de>>>=0,!we){var Re=Math.pow(2,8*se-1);U(this,pe,de,se,Re-1,-Re)}var Ee=0,Ue=1,$e=0;for(this[de]=255&pe;++Ee<se&&(Ue*=256);)pe<0&&0===$e&&0!==this[de+Ee-1]&&($e=1),this[de+Ee]=(pe/Ue>>0)-$e&255;return de+se},n.prototype.writeIntBE=function(pe,de,se,we){if(pe=+pe,de>>>=0,!we){var Re=Math.pow(2,8*se-1);U(this,pe,de,se,Re-1,-Re)}var Ee=se-1,Ue=1,$e=0;for(this[de+Ee]=255&pe;--Ee>=0&&(Ue*=256);)pe<0&&0===$e&&0!==this[de+Ee+1]&&($e=1),this[de+Ee]=(pe/Ue>>0)-$e&255;return de+se},n.prototype.writeInt8=function(pe,de,se){return pe=+pe,de>>>=0,se||U(this,pe,de,1,127,-128),pe<0&&(pe=255+pe+1),this[de]=255&pe,de+1},n.prototype.writeInt16LE=function(pe,de,se){return pe=+pe,de>>>=0,se||U(this,pe,de,2,32767,-32768),this[de]=255&pe,this[de+1]=pe>>>8,de+2},n.prototype.writeInt16BE=function(pe,de,se){return pe=+pe,de>>>=0,se||U(this,pe,de,2,32767,-32768),this[de]=pe>>>8,this[de+1]=255&pe,de+2},n.prototype.writeInt32LE=function(pe,de,se){return pe=+pe,de>>>=0,se||U(this,pe,de,4,2147483647,-2147483648),this[de]=255&pe,this[de+1]=pe>>>8,this[de+2]=pe>>>16,this[de+3]=pe>>>24,de+4},n.prototype.writeInt32BE=function(pe,de,se){return pe=+pe,de>>>=0,se||U(this,pe,de,4,2147483647,-2147483648),pe<0&&(pe=4294967295+pe+1),this[de]=pe>>>24,this[de+1]=pe>>>16,this[de+2]=pe>>>8,this[de+3]=255&pe,de+4},n.prototype.writeBigInt64LE=Se(function(pe){return Z(this,pe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=Se(function(pe){return Y(this,pe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeFloatLE=function(pe,de,se){return re(this,pe,de,!0,se)},n.prototype.writeFloatBE=function(pe,de,se){return re(this,pe,de,!1,se)},n.prototype.writeDoubleLE=function(pe,de,se){return Q(this,pe,de,!0,se)},n.prototype.writeDoubleBE=function(pe,de,se){return Q(this,pe,de,!1,se)},n.prototype.copy=function(pe,de,se,we){if(!n.isBuffer(pe))throw new TypeError("argument should be a Buffer");if(se||(se=0),we||0===we||(we=this.length),de>=pe.length&&(de=pe.length),de||(de=0),we>0&&we<se&&(we=se),we===se||0===pe.length||0===this.length)return 0;if(de<0)throw new RangeError("targetStart out of bounds");if(se<0||se>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),pe.length-de<we-se&&(we=pe.length-de+se);var Re=we-se;return this===pe&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(de,se,we):Uint8Array.prototype.set.call(pe,this.subarray(se,we),de),Re},n.prototype.fill=function(pe,de,se,we){if("string"==typeof pe){if("string"==typeof de?(we=de,de=0,se=this.length):"string"==typeof se&&(we=se,se=this.length),void 0!==we&&"string"!=typeof we)throw new TypeError("encoding must be a string");if("string"==typeof we&&!n.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(1===pe.length){var Re=pe.charCodeAt(0);("utf8"===we&&Re<128||"latin1"===we)&&(pe=Re)}}else"number"==typeof pe?pe&=255:"boolean"==typeof pe&&(pe=Number(pe));if(de<0||this.length<de||this.length<se)throw new RangeError("Out of range index");if(se<=de)return this;var Ee;if(de>>>=0,se=void 0===se?this.length:se>>>0,pe||(pe=0),"number"==typeof pe)for(Ee=de;Ee<se;++Ee)this[Ee]=pe;else{var Ue=n.isBuffer(pe)?pe:n.from(pe,we),$e=Ue.length;if(0===$e)throw new TypeError('The value "'+pe+'" is invalid for argument "value"');for(Ee=0;Ee<se-de;++Ee)this[Ee+de]=Ue[Ee%$e]}return this};var K={};function te(pe,de,se){K[pe]=function(we){!function(De,ze){if("function"!=typeof ze&&null!==ze)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(ze&&ze.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Object.defineProperty(De,"prototype",{writable:!1}),ze&&S(De,ze)}(Ie,we);var Re,Ee,Ue,$e,ve=(Ue=Ie,$e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var De,ze=A(Ue);if($e){var Ge=A(this).constructor;De=Reflect.construct(ze,arguments,Ge)}else De=ze.apply(this,arguments);return function(He,Ke){if(Ke&&("object"===T(Ke)||"function"==typeof Ke))return Ke;if(void 0!==Ke)throw new TypeError("Derived constructors may only return object or undefined");return u(He)}(this,De)});function Ie(){var De;return function(ze,Ge){if(!(ze instanceof Ge))throw new TypeError("Cannot call a class as a function")}(this,Ie),De=ve.call(this),Object.defineProperty(u(De),"message",{value:de.apply(u(De),arguments),writable:!0,configurable:!0}),De.name="".concat(De.name," [").concat(pe,"]"),delete De.name,De}return Re=Ie,(Ee=[{key:"code",get:function(){return pe},set:function(De){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:De,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(pe,"]: ").concat(this.message)}}])&&function C(pe,de){for(var se=0;se<de.length;se++){var we=de[se];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(pe,we.key,we)}}(Re.prototype,Ee),Object.defineProperty(Re,"prototype",{writable:!1}),Ie}(se)}function oe(pe){for(var de="",se=pe.length,we="-"===pe[0]?1:0;se>=we+4;se-=3)de="_".concat(pe.slice(se-3,se)).concat(de);return"".concat(pe.slice(0,se)).concat(de)}function ue(pe,de,se,we,Re,Ee){if(pe>se||pe<de){var Ue,$e="bigint"==typeof de?"n":"";throw Ue=Ee>3?0===de||de===BigInt(0)?">= 0".concat($e," and < 2").concat($e," ** ").concat(8*(Ee+1)).concat($e):">= -(2".concat($e," ** ").concat(8*(Ee+1)-1).concat($e,") and < 2 ** ")+"".concat(8*(Ee+1)-1).concat($e):">= ".concat(de).concat($e," and <= ").concat(se).concat($e),new K.ERR_OUT_OF_RANGE("value",Ue,pe)}var ve,Ie,De;ve=we,De=Ee,fe(Ie=Re,"offset"),void 0!==ve[Ie]&&void 0!==ve[Ie+De]||he(Ie,ve.length-(De+1))}function fe(pe,de){if("number"!=typeof pe)throw new K.ERR_INVALID_ARG_TYPE(de,"number",pe)}function he(pe,de,se){throw Math.floor(pe)!==pe?(fe(pe,se),new K.ERR_OUT_OF_RANGE(se||"offset","an integer",pe)):de<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE(se||"offset",">= ".concat(se?1:0," and <= ").concat(de),pe)}te("ERR_BUFFER_OUT_OF_BOUNDS",function(pe){return pe?"".concat(pe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(pe,de){return'The "'.concat(pe,'" argument must be of type number. Received type ').concat(T(de))},TypeError),te("ERR_OUT_OF_RANGE",function(pe,de,se){var we='The value of "'.concat(pe,'" is out of range.'),Re=se;return Number.isInteger(se)&&Math.abs(se)>Math.pow(2,32)?Re=oe(String(se)):"bigint"==typeof se&&(Re=String(se),(se>Math.pow(BigInt(2),BigInt(32))||se<-Math.pow(BigInt(2),BigInt(32)))&&(Re=oe(Re)),Re+="n"),we+" It must be ".concat(de,". Received ").concat(Re)},RangeError);var me=/[^+/0-9A-Za-z-_]/g;function ke(pe,de){var se;de=de||1/0;for(var we=pe.length,Re=null,Ee=[],Ue=0;Ue<we;++Ue){if((se=pe.charCodeAt(Ue))>55295&&se<57344){if(!Re){if(se>56319){(de-=3)>-1&&Ee.push(239,191,189);continue}if(Ue+1===we){(de-=3)>-1&&Ee.push(239,191,189);continue}Re=se;continue}if(se<56320){(de-=3)>-1&&Ee.push(239,191,189),Re=se;continue}se=65536+(Re-55296<<10|se-56320)}else Re&&(de-=3)>-1&&Ee.push(239,191,189);if(Re=null,se<128){if((de-=1)<0)break;Ee.push(se)}else if(se<2048){if((de-=2)<0)break;Ee.push(se>>6|192,63&se|128)}else if(se<65536){if((de-=3)<0)break;Ee.push(se>>12|224,se>>6&63|128,63&se|128)}else{if(!(se<1114112))throw new Error("Invalid code point");if((de-=4)<0)break;Ee.push(se>>18|240,se>>12&63|128,se>>6&63|128,63&se|128)}}return Ee}function Pe(pe){return m.toByteArray(function(de){if((de=(de=de.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;de.length%4!=0;)de+="=";return de}(pe))}function Te(pe,de,se,we){var Re;for(Re=0;Re<we&&!(Re+se>=de.length||Re>=pe.length);++Re)de[Re+se]=pe[Re];return Re}function be(pe,de){return pe instanceof de||null!=pe&&null!=pe.constructor&&null!=pe.constructor.name&&pe.constructor.name===de.name}function xe(pe){return pe!=pe}var Ne=function(){for(var pe="0123456789abcdef",de=new Array(256),se=0;se<16;++se)for(var we=16*se,Re=0;Re<16;++Re)de[we+Re]=pe[se]+pe[Re];return de}();function Se(pe){return typeof BigInt>"u"?Ce:pe}function Ce(){throw new Error("BigInt not supported")}},35791:function(ie){"use strict";ie.exports=S,ie.exports.isMobile=S,ie.exports.default=S;var B=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,C=/android|ipad|playbook|silk/i;function S(u){u||(u={});var A=u.ua;if(A||typeof navigator>"u"||(A=navigator.userAgent),A&&A.headers&&"string"==typeof A.headers["user-agent"]&&(A=A.headers["user-agent"]),"string"!=typeof A)return!1;var T=B.test(A)&&!e.test(A)||!!u.tablet&&C.test(A);return!T&&u.tablet&&u.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==A.indexOf("Macintosh")&&-1!==A.indexOf("Safari")&&(T=!0),T}},86781:function(ie,B,e){"use strict";e.r(B),e.d(B,{sankeyCenter:function(){return r},sankeyCircular:function(){return L},sankeyJustify:function(){return o},sankeyLeft:function(){return l},sankeyRight:function(){return t}});var C=e(33064),S=e(15140),u=e(45879),A=e(2502),T=e.n(A);function m(Te){return Te.target.depth}function l(Te){return Te.depth}function t(Te,be){return be-1-Te.height}function o(Te,be){return Te.sourceLinks.length?Te.depth:be-1}function r(Te){return Te.targetLinks.length?Te.depth:Te.sourceLinks.length?(0,C.VV)(Te.sourceLinks,m)-1:0}function n(Te){return function(){return Te}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Te){return typeof Te}:function(Te){return Te&&"function"==typeof Symbol&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function s(Te,be){return p(Te.source,be.source)||Te.index-be.index}function c(Te,be){return p(Te.target,be.target)||Te.index-be.index}function p(Te,be){return Te.partOfCycle===be.partOfCycle?Te.y0-be.y0:"top"===Te.circularLinkType||"bottom"===be.circularLinkType?-1:1}function f(Te){return Te.value}function w(Te){return(Te.y0+Te.y1)/2}function v(Te){return w(Te.source)}function h(Te){return w(Te.target)}function _(Te){return Te.index}function x(Te){return Te.nodes}function b(Te){return Te.links}function M(Te,be){var xe=Te.get(be);if(!xe)throw new Error("missing: "+be);return xe}function d(Te,be){return be(Te)}var E=25,k=10,I=.3;function L(){var Te,be,xe=0,Ne=0,Se=1,Ce=1,pe=24,de=_,se=o,we=x,Re=b,Ee=32,Ue=2,$e=null;function ve(){var De={nodes:we.apply(null,arguments),links:Re.apply(null,arguments)};(function(Ge){Ge.nodes.forEach(function(Ke,et){Ke.index=et,Ke.sourceLinks=[],Ke.targetLinks=[]});var He=(0,S.UI)(Ge.nodes,de);Ge.links.forEach(function(Ke,et){Ke.index=et;var st=Ke.source,mt=Ke.target;"object"!==(void 0===st?"undefined":a(st))&&(st=Ke.source=M(He,st)),"object"!==(void 0===mt?"undefined":a(mt))&&(mt=Ke.target=M(He,mt)),st.sourceLinks.push(Ke),mt.targetLinks.push(Ke)})})(De),function(Ge,He,Ke){var et=0;if(null===Ke){for(var st=[],mt=0;mt<Ge.links.length;mt++){var at=Ge.links[mt],kt=at.source.index,St=at.target.index;st[kt]||(st[kt]=[]),st[St]||(st[St]=[]),-1===st[kt].indexOf(St)&&st[kt].push(St)}var gt=T()(st);gt.sort(function(Ot,Pt){return Ot.length-Pt.length});var dt={};for(mt=0;mt<gt.length;mt++){var Ct=gt[mt].slice(-2);dt[Ct[0]]||(dt[Ct[0]]={}),dt[Ct[0]][Ct[1]]=!0}Ge.links.forEach(function(Ot){var Pt=Ot.target.index,Ht=Ot.source.index;Pt===Ht||dt[Ht]&&dt[Ht][Pt]?(Ot.circular=!0,Ot.circularLinkID=et,et+=1):Ot.circular=!1})}else Ge.links.forEach(function(Ot){Ot.source[Ke]<Ot.target[Ke]?Ot.circular=!1:(Ot.circular=!0,Ot.circularLinkID=et,et+=1)})}(De,0,$e),De.nodes.forEach(function(He){He.partOfCycle=!1,He.value=Math.max((0,C.Sm)(He.sourceLinks,f),(0,C.Sm)(He.targetLinks,f)),He.sourceLinks.forEach(function(Ke){Ke.circular&&(He.partOfCycle=!0,He.circularLinkType=Ke.circularLinkType)}),He.targetLinks.forEach(function(Ke){Ke.circular&&(He.partOfCycle=!0,He.circularLinkType=Ke.circularLinkType)})}),function(Ge){var He,Ke,et;for(He=Ge.nodes,Ke=[],et=0;He.length;++et,He=Ke,Ke=[])He.forEach(function(st){st.depth=et,st.sourceLinks.forEach(function(mt){Ke.indexOf(mt.target)<0&&!mt.circular&&Ke.push(mt.target)})});for(He=Ge.nodes,Ke=[],et=0;He.length;++et,He=Ke,Ke=[])He.forEach(function(st){st.height=et,st.targetLinks.forEach(function(mt){Ke.indexOf(mt.source)<0&&!mt.circular&&Ke.push(mt.source)})});Ge.nodes.forEach(function(st){st.column=Math.floor(se.call(null,st,et))})}(De),P(De,de),function(Ge,He,Ke){var et=(0,S.b1)().key(function(St){return St.column}).sortKeys(C.j2).entries(Ge.nodes).map(function(St){return St.values});(function(St){if(be){var gt=1/0;et.forEach(function(Pt){var Ht=Ce*be/(Pt.length+1);gt=Ht<gt?Ht:gt}),Te=gt}var dt=(0,C.VV)(et,function(Pt){return(Ce-Ne-(Pt.length-1)*Te)/(0,C.Sm)(Pt,f)});dt*=I,Ge.links.forEach(function(Pt){Pt.width=Pt.value*dt});var Pt,Ht,jt,nt,it,Xe,Ct=(Ht=0,jt=0,nt=0,it=0,Xe=(0,C.Fp)((Pt=Ge).nodes,function(rt){return rt.column}),Pt.links.forEach(function(rt){rt.circular&&("top"==rt.circularLinkType?Ht+=rt.width:jt+=rt.width,0==rt.target.column&&(it+=rt.width),rt.source.column==Xe&&(nt+=rt.width))}),{top:Ht=Ht>0?Ht+E+k:Ht,bottom:jt=jt>0?jt+E+k:jt,left:it=it>0?it+E+k:it,right:nt=nt>0?nt+E+k:nt}),Ot=function(Pt,Ht){var jt=(0,C.Fp)(Pt.nodes,function(ft){return ft.column}),nt=Se-xe,it=Ce-Ne,Xe=nt/(nt+Ht.right+Ht.left),rt=it/(it+Ht.top+Ht.bottom);return xe=xe*Xe+Ht.left,Se=0==Ht.right?Se:Se*Xe,Ne=Ne*rt+Ht.top,Ce*=rt,Pt.nodes.forEach(function(ft){ft.x0=xe+ft.column*((Se-xe-pe)/jt),ft.x1=ft.x0+pe}),rt}(Ge,Ct);dt*=Ot,Ge.links.forEach(function(Pt){Pt.width=Pt.value*dt}),et.forEach(function(Pt){var Ht=Pt.length;Pt.forEach(function(jt,nt){jt.depth==et.length-1&&1==Ht||0==jt.depth&&1==Ht?(jt.y0=Ce/2-jt.value*dt,jt.y1=jt.y0+jt.value*dt):jt.partOfCycle?0==z(jt,St)?(jt.y0=Ce/2+nt,jt.y1=jt.y0+jt.value*dt):"top"==jt.circularLinkType?(jt.y0=Ne+nt,jt.y1=jt.y0+jt.value*dt):(jt.y0=Ce-jt.value*dt-nt,jt.y1=jt.y0+jt.value*dt):0==Ct.top||0==Ct.bottom?(jt.y0=(Ce-Ne)/Ht*nt,jt.y1=jt.y0+jt.value*dt):(jt.y0=(Ce-Ne)/2-Ht/2+nt,jt.y1=jt.y0+jt.value*dt)})})})(Ke),kt();for(var st=1,mt=He;mt>0;--mt)at(st*=.99,Ke),kt();function at(St,gt){var dt=et.length;et.forEach(function(Ct){var Ot=Ct.length,Pt=Ct[0].depth;Ct.forEach(function(Ht){var jt;if((Ht.sourceLinks.length||Ht.targetLinks.length)&&!(Ht.partOfCycle&&z(Ht,gt)>0))if(0==Pt&&1==Ot)Ht.y0=Ce/2-(jt=Ht.y1-Ht.y0)/2,Ht.y1=Ce/2+jt/2;else if(Pt==dt-1&&1==Ot)Ht.y0=Ce/2-(jt=Ht.y1-Ht.y0)/2,Ht.y1=Ce/2+jt/2;else{var nt=(0,C.J6)(Ht.sourceLinks,h),it=(0,C.J6)(Ht.targetLinks,v),Xe=((nt&&it?(nt+it)/2:nt||it)-w(Ht))*St;Ht.y0+=Xe,Ht.y1+=Xe}})})}function kt(){et.forEach(function(St){var gt,dt,Ct,Ot=Ne,Pt=St.length;for(St.sort(p),Ct=0;Ct<Pt;++Ct)(dt=Ot-(gt=St[Ct]).y0)>0&&(gt.y0+=dt,gt.y1+=dt),Ot=gt.y1+Te;if((dt=Ot-Te-Ce)>0)for(Ot=gt.y0-=dt,gt.y1-=dt,Ct=Pt-2;Ct>=0;--Ct)(dt=(gt=St[Ct]).y1+Te-Ot)>0&&(gt.y0-=dt,gt.y1-=dt),Ot=gt.y0})}}(De,Ee,de),Ie(De);for(var ze=0;ze<4;ze++)fe(De,Ce,de),he(De,0,de),oe(De,Ne,Ce,de),fe(De,Ce,de),he(De,0,de);return function(Ge,He,Ke){var et=Ge.nodes,st=Ge.links,mt=!1,at=!1;if(st.forEach(function(gt){"top"==gt.circularLinkType?mt=!0:"bottom"==gt.circularLinkType&&(at=!0)}),0==mt||0==at){var kt=(0,C.VV)(et,function(gt){return gt.y0}),St=(Ke-He)/((0,C.Fp)(et,function(gt){return gt.y1})-kt);et.forEach(function(gt){var dt=(gt.y1-gt.y0)*St;gt.y0=(gt.y0-kt)*St,gt.y1=gt.y0+dt}),st.forEach(function(gt){gt.y0=(gt.y0-kt)*St,gt.y1=(gt.y1-kt)*St,gt.width=gt.width*St})}}(De,Ne,Ce),W(De,Ue,Ce,de),De}function Ie(De){De.nodes.forEach(function(ze){ze.sourceLinks.sort(c),ze.targetLinks.sort(s)}),De.nodes.forEach(function(ze){var Ge=ze.y0,He=Ge,Ke=ze.y1,et=Ke;ze.sourceLinks.forEach(function(st){st.circular?(st.y0=Ke-st.width/2,Ke-=st.width):(st.y0=Ge+st.width/2,Ge+=st.width)}),ze.targetLinks.forEach(function(st){st.circular?(st.y1=et-st.width/2,et-=st.width):(st.y1=He+st.width/2,He+=st.width)})})}return ve.nodeId=function(De){return arguments.length?(de="function"==typeof De?De:n(De),ve):de},ve.nodeAlign=function(De){return arguments.length?(se="function"==typeof De?De:n(De),ve):se},ve.nodeWidth=function(De){return arguments.length?(pe=+De,ve):pe},ve.nodePadding=function(De){return arguments.length?(Te=+De,ve):Te},ve.nodes=function(De){return arguments.length?(we="function"==typeof De?De:n(De),ve):we},ve.links=function(De){return arguments.length?(Re="function"==typeof De?De:n(De),ve):Re},ve.size=function(De){return arguments.length?(xe=Ne=0,Se=+De[0],Ce=+De[1],ve):[Se-xe,Ce-Ne]},ve.extent=function(De){return arguments.length?(xe=+De[0][0],Se=+De[1][0],Ne=+De[0][1],Ce=+De[1][1],ve):[[xe,Ne],[Se,Ce]]},ve.iterations=function(De){return arguments.length?(Ee=+De,ve):Ee},ve.circularLinkGap=function(De){return arguments.length?(Ue=+De,ve):Ue},ve.nodePaddingRatio=function(De){return arguments.length?(be=+De,ve):be},ve.sortNodes=function(De){return arguments.length?($e=De,ve):$e},ve.update=function(De){return P(De,de),Ie(De),De.links.forEach(function(ze){ze.circular&&(ze.circularLinkType=ze.y0+ze.y1<Ce?"top":"bottom",ze.source.circularLinkType=ze.circularLinkType,ze.target.circularLinkType=ze.circularLinkType)}),fe(De,Ce,de,!1),he(De,0,de),W(De,Ue,Ce,de),De},ve}function P(Te,be){var xe=0,Ne=0;Te.links.forEach(function(Se){Se.circular&&(Se.circularLinkType=Se.source.circularLinkType||Se.target.circularLinkType?Se.source.circularLinkType?Se.source.circularLinkType:Se.target.circularLinkType:xe<Ne?"top":"bottom","top"==Se.circularLinkType?xe+=1:Ne+=1,Te.nodes.forEach(function(Ce){d(Ce,be)!=d(Se.source,be)&&d(Ce,be)!=d(Se.target,be)||(Ce.circularLinkType=Se.circularLinkType)}))}),Te.links.forEach(function(Se){Se.circular&&(Se.source.circularLinkType==Se.target.circularLinkType&&(Se.circularLinkType=Se.source.circularLinkType),Pe(Se,be)&&(Se.circularLinkType=Se.source.circularLinkType))})}function R(Te){var be=Math.abs(Te.y1-Te.y0),xe=Math.abs(Te.target.x0-Te.source.x1);return Math.atan(xe/be)}function z(Te,be){var xe=0;Te.sourceLinks.forEach(function(Se){xe=Se.circular&&!Pe(Se,be)?xe+1:xe});var Ne=0;return Te.targetLinks.forEach(function(Se){Ne=Se.circular&&!Pe(Se,be)?Ne+1:Ne}),xe+Ne}function $(Te){var xe=0;Te.source.sourceLinks.forEach(function(Ce){xe=Ce.circular?xe+1:xe});var Se=0;return Te.target.targetLinks.forEach(function(Ce){Se=Ce.circular?Se+1:Se}),!(xe>1||Se>1)}function N(Te,be,xe){return Te.sort(H),Te.forEach(function(Ne,Se){var Ce,pe,de=0;if(Pe(Ne,xe)&&$(Ne))Ne.circularPathData.verticalBuffer=de+Ne.width/2;else{for(var se=0;se<Se;se++)if(!((Ce=Te[Se]).source.column<(pe=Te[se]).target.column||Ce.target.column>pe.source.column)){var we=Te[se].circularPathData.verticalBuffer+Te[se].width/2+be;de=we>de?we:de}Ne.circularPathData.verticalBuffer=de+Ne.width/2}}),Te}function W(Te,be,xe,Ne){var Se=(0,C.VV)(Te.links,function(Ce){return Ce.source.y0});Te.links.forEach(function(Ce){Ce.circular&&(Ce.circularPathData={})}),N(Te.links.filter(function(Ce){return"top"==Ce.circularLinkType}),be,Ne),N(Te.links.filter(function(Ce){return"bottom"==Ce.circularLinkType}),be,Ne),Te.links.forEach(function(Ce){if(Ce.circular){if(Ce.circularPathData.arcRadius=Ce.width+k,Ce.circularPathData.leftNodeBuffer=5,Ce.circularPathData.rightNodeBuffer=5,Ce.circularPathData.sourceWidth=Ce.source.x1-Ce.source.x0,Ce.circularPathData.sourceX=Ce.source.x0+Ce.circularPathData.sourceWidth,Ce.circularPathData.targetX=Ce.target.x0,Ce.circularPathData.sourceY=Ce.y0,Ce.circularPathData.targetY=Ce.y1,Pe(Ce,Ne)&&$(Ce))Ce.circularPathData.leftSmallArcRadius=k+Ce.width/2,Ce.circularPathData.leftLargeArcRadius=k+Ce.width/2,Ce.circularPathData.rightSmallArcRadius=k+Ce.width/2,Ce.circularPathData.rightLargeArcRadius=k+Ce.width/2,"bottom"==Ce.circularLinkType?(Ce.circularPathData.verticalFullExtent=Ce.source.y1+E+Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.rightLargeArcRadius):(Ce.circularPathData.verticalFullExtent=Ce.source.y0-E-Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.rightLargeArcRadius);else{var pe=Ce.source.column,de=Ce.circularLinkType,se=Te.links.filter(function(Ee){return Ee.source.column==pe&&Ee.circularLinkType==de});se.sort("bottom"==Ce.circularLinkType?Z:U);var we=0;se.forEach(function(Ee,Ue){Ee.circularLinkID==Ce.circularLinkID&&(Ce.circularPathData.leftSmallArcRadius=k+Ce.width/2+we,Ce.circularPathData.leftLargeArcRadius=k+Ce.width/2+Ue*be+we),we+=Ee.width}),pe=Ce.target.column,(se=Te.links.filter(function(Ee){return Ee.target.column==pe&&Ee.circularLinkType==de})).sort("bottom"==Ce.circularLinkType?ae:Y),we=0,se.forEach(function(Ee,Ue){Ee.circularLinkID==Ce.circularLinkID&&(Ce.circularPathData.rightSmallArcRadius=k+Ce.width/2+we,Ce.circularPathData.rightLargeArcRadius=k+Ce.width/2+Ue*be+we),we+=Ee.width}),"bottom"==Ce.circularLinkType?(Ce.circularPathData.verticalFullExtent=Math.max(xe,Ce.source.y1,Ce.target.y1)+E+Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.rightLargeArcRadius):(Ce.circularPathData.verticalFullExtent=Se-E-Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.rightLargeArcRadius)}Ce.circularPathData.leftInnerExtent=Ce.circularPathData.sourceX+Ce.circularPathData.leftNodeBuffer,Ce.circularPathData.rightInnerExtent=Ce.circularPathData.targetX-Ce.circularPathData.rightNodeBuffer,Ce.circularPathData.leftFullExtent=Ce.circularPathData.sourceX+Ce.circularPathData.leftLargeArcRadius+Ce.circularPathData.leftNodeBuffer,Ce.circularPathData.rightFullExtent=Ce.circularPathData.targetX-Ce.circularPathData.rightLargeArcRadius-Ce.circularPathData.rightNodeBuffer}if(Ce.circular)Ce.path="top"==(Ee=Ce).circularLinkType?"M"+Ee.circularPathData.sourceX+" "+Ee.circularPathData.sourceY+" L"+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.sourceY+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ee.circularPathData.leftFullExtent+" "+(Ee.circularPathData.sourceY-Ee.circularPathData.leftSmallArcRadius)+" L"+Ee.circularPathData.leftFullExtent+" "+Ee.circularPathData.verticalLeftInnerExtent+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" L"+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ee.circularPathData.rightFullExtent+" "+Ee.circularPathData.verticalRightInnerExtent+" L"+Ee.circularPathData.rightFullExtent+" "+(Ee.circularPathData.targetY-Ee.circularPathData.rightSmallArcRadius)+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.targetY+" L"+Ee.circularPathData.targetX+" "+Ee.circularPathData.targetY:"M"+Ee.circularPathData.sourceX+" "+Ee.circularPathData.sourceY+" L"+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.sourceY+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ee.circularPathData.leftFullExtent+" "+(Ee.circularPathData.sourceY+Ee.circularPathData.leftSmallArcRadius)+" L"+Ee.circularPathData.leftFullExtent+" "+Ee.circularPathData.verticalLeftInnerExtent+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" L"+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ee.circularPathData.rightFullExtent+" "+Ee.circularPathData.verticalRightInnerExtent+" L"+Ee.circularPathData.rightFullExtent+" "+(Ee.circularPathData.targetY+Ee.circularPathData.rightSmallArcRadius)+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.targetY+" L"+Ee.circularPathData.targetX+" "+Ee.circularPathData.targetY;else{var Re=(0,u.h5)().source(function(Ee){return[Ee.source.x0+(Ee.source.x1-Ee.source.x0),Ee.y0]}).target(function(Ee){return[Ee.target.x0,Ee.y1]});Ce.path=Re(Ce)}var Ee})}function H(Te,be){return re(Te)==re(be)?"bottom"==Te.circularLinkType?Z(Te,be):U(Te,be):re(be)-re(Te)}function U(Te,be){return Te.y0-be.y0}function Z(Te,be){return be.y0-Te.y0}function Y(Te,be){return Te.y1-be.y1}function ae(Te,be){return be.y1-Te.y1}function re(Te){return Te.target.column-Te.source.column}function Q(Te){return Te.target.x0-Te.source.x1}function K(Te,be){var xe=R(Te),Ne=Q(be)/Math.tan(xe);return"up"==ke(Te)?Te.y1+Ne:Te.y1-Ne}function te(Te,be){var xe=R(Te),Ne=Q(be)/Math.tan(xe);return"up"==ke(Te)?Te.y1-Ne:Te.y1+Ne}function oe(Te,be,xe,Ne){Te.links.forEach(function(Se){if(!Se.circular&&Se.target.column-Se.source.column>1){var Ce=Se.source.column+1,pe=Se.target.column-1,de=1,se=pe-Ce+1;for(de=1;Ce<=pe;Ce++,de++)Te.nodes.forEach(function(we){if(we.column==Ce){var Re,Ee=de/(se+1),Ue=Math.pow(1-Ee,3),$e=3*Ee*Math.pow(1-Ee,2),ve=3*Math.pow(Ee,2)*(1-Ee),Ie=Math.pow(Ee,3),De=Ue*Se.y0+$e*Se.y0+ve*Se.y1+Ie*Se.y1,ze=De-Se.width/2,Ge=De+Se.width/2;ze>we.y0&&ze<we.y1?(Re=we.y1-ze+10,we=ue(we,Re="bottom"==we.circularLinkType?Re:-Re,be,xe),Te.nodes.forEach(function(He){var Ke,et;d(He,Ne)!=d(we,Ne)&&He.column==we.column&&((Ke=we).y0>(et=He).y0&&Ke.y0<et.y1||Ke.y1>et.y0&&Ke.y1<et.y1||Ke.y0<et.y0&&Ke.y1>et.y1)&&ue(He,Re,be,xe)})):(Ge>we.y0&&Ge<we.y1||ze<we.y0&&Ge>we.y1)&&(we=ue(we,Re=Ge-we.y0+10,be,xe),Te.nodes.forEach(function(He){d(He,Ne)!=d(we,Ne)&&He.column==we.column&&He.y0<we.y1&&He.y1>we.y1&&ue(He,Re,be,xe)}))}})}})}function ue(Te,be,xe,Ne){return Te.y0+be>=xe&&Te.y1+be<=Ne&&(Te.y0=Te.y0+be,Te.y1=Te.y1+be,Te.targetLinks.forEach(function(Se){Se.y1=Se.y1+be}),Te.sourceLinks.forEach(function(Se){Se.y0=Se.y0+be})),Te}function fe(Te,be,xe,Ne){Te.nodes.forEach(function(Se){Ne&&Se.y+(Se.y1-Se.y0)>be&&(Se.y=Se.y-(Se.y+(Se.y1-Se.y0)-be));var Ce=Te.links.filter(function(se){return d(se.source,xe)==d(Se,xe)}),pe=Ce.length;pe>1&&Ce.sort(function(se,we){if(!se.circular&&!we.circular){if(se.target.column==we.target.column||!me(se,we))return se.y1-we.y1;if(se.target.column>we.target.column){var Re=te(we,se);return se.y1-Re}if(we.target.column>se.target.column)return te(se,we)-we.y1}return se.circular&&!we.circular?"top"==se.circularLinkType?-1:1:we.circular&&!se.circular?"top"==we.circularLinkType?1:-1:se.circular&&we.circular?se.circularLinkType===we.circularLinkType&&"top"==se.circularLinkType?se.target.column===we.target.column?se.target.y1-we.target.y1:we.target.column-se.target.column:se.circularLinkType===we.circularLinkType&&"bottom"==se.circularLinkType?se.target.column===we.target.column?we.target.y1-se.target.y1:se.target.column-we.target.column:"top"==se.circularLinkType?-1:1:void 0});var de=Se.y0;Ce.forEach(function(se){se.y0=de+se.width/2,de+=se.width}),Ce.forEach(function(se,we){if("bottom"==se.circularLinkType){for(var Re=we+1,Ee=0;Re<pe;Re++)Ee+=Ce[Re].width;se.y0=Se.y1-Ee-se.width/2}})})}function he(Te,be,xe){Te.nodes.forEach(function(Ne){var Se=Te.links.filter(function(de){return d(de.target,xe)==d(Ne,xe)}),Ce=Se.length;Ce>1&&Se.sort(function(de,se){if(!de.circular&&!se.circular){if(de.source.column==se.source.column||!me(de,se))return de.y0-se.y0;if(se.source.column<de.source.column){var we=K(se,de);return de.y0-we}if(de.source.column<se.source.column)return K(de,se)-se.y0}return de.circular&&!se.circular?"top"==de.circularLinkType?-1:1:se.circular&&!de.circular?"top"==se.circularLinkType?1:-1:de.circular&&se.circular?de.circularLinkType===se.circularLinkType&&"top"==de.circularLinkType?de.source.column===se.source.column?de.source.y1-se.source.y1:de.source.column-se.source.column:de.circularLinkType===se.circularLinkType&&"bottom"==de.circularLinkType?de.source.column===se.source.column?de.source.y1-se.source.y1:se.source.column-de.source.column:"top"==de.circularLinkType?-1:1:void 0});var pe=Ne.y0;Se.forEach(function(de){de.y1=pe+de.width/2,pe+=de.width}),Se.forEach(function(de,se){if("bottom"==de.circularLinkType){for(var we=se+1,Re=0;we<Ce;we++)Re+=Se[we].width;de.y1=Ne.y1-Re-de.width/2}})})}function me(Te,be){return ke(Te)==ke(be)}function ke(Te){return Te.y0-Te.y1>0?"up":"down"}function Pe(Te,be){return d(Te.source,be)==d(Te.target,be)}},30838:function(ie,B,e){"use strict";e.r(B),e.d(B,{sankey:function(){return _},sankeyCenter:function(){return l},sankeyJustify:function(){return m},sankeyLeft:function(){return A},sankeyLinkHorizontal:function(){return d},sankeyRight:function(){return T}});var C=e(33064),S=e(15140);function u(E){return E.target.depth}function A(E){return E.depth}function T(E,k){return k-1-E.height}function m(E,k){return E.sourceLinks.length?E.depth:k-1}function l(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,C.VV)(E.sourceLinks,u)-1:0}function t(E){return function(){return E}}function o(E,k){return n(E.source,k.source)||E.index-k.index}function r(E,k){return n(E.target,k.target)||E.index-k.index}function n(E,k){return E.y0-k.y0}function a(E){return E.value}function s(E){return(E.y0+E.y1)/2}function c(E){return s(E.source)*E.value}function p(E){return s(E.target)*E.value}function f(E){return E.index}function w(E){return E.nodes}function v(E){return E.links}function h(E,k){var I=E.get(k);if(!I)throw new Error("missing: "+k);return I}function _(){var E=0,k=0,I=1,L=1,P=24,R=8,z=f,$=m,N=w,W=v,H=32;function U(){var Y={nodes:N.apply(null,arguments),links:W.apply(null,arguments)};return function(ae){ae.nodes.forEach(function(Q,K){Q.index=K,Q.sourceLinks=[],Q.targetLinks=[]});var re=(0,S.UI)(ae.nodes,z);ae.links.forEach(function(Q,K){Q.index=K;var te=Q.source,oe=Q.target;"object"!=typeof te&&(te=Q.source=h(re,te)),"object"!=typeof oe&&(oe=Q.target=h(re,oe)),te.sourceLinks.push(Q),oe.targetLinks.push(Q)})}(Y),Y.nodes.forEach(function(re){re.value=Math.max((0,C.Sm)(re.sourceLinks,a),(0,C.Sm)(re.targetLinks,a))}),function(ae){var re,Q,K;for(re=ae.nodes,Q=[],K=0;re.length;++K,re=Q,Q=[])re.forEach(function(oe){oe.depth=K,oe.sourceLinks.forEach(function(ue){Q.indexOf(ue.target)<0&&Q.push(ue.target)})});for(re=ae.nodes,Q=[],K=0;re.length;++K,re=Q,Q=[])re.forEach(function(oe){oe.height=K,oe.targetLinks.forEach(function(ue){Q.indexOf(ue.source)<0&&Q.push(ue.source)})});var te=(I-E-P)/(K-1);ae.nodes.forEach(function(oe){oe.x1=(oe.x0=E+Math.max(0,Math.min(K-1,Math.floor($.call(null,oe,K))))*te)+P})}(Y),function(ae){var re=(0,S.b1)().key(function(fe){return fe.x0}).sortKeys(C.j2).entries(ae.nodes).map(function(fe){return fe.values});(function(){var fe=(0,C.Fp)(re,function(ke){return ke.length}),he=.6666666666666666*(L-k)/(fe-1);R>he&&(R=he);var me=(0,C.VV)(re,function(ke){return(L-k-(ke.length-1)*R)/(0,C.Sm)(ke,a)});re.forEach(function(ke){ke.forEach(function(Pe,Te){Pe.y1=(Pe.y0=Te)+Pe.value*me})}),ae.links.forEach(function(ke){ke.width=ke.value*me})})(),ue();for(var Q=1,K=H;K>0;--K)oe(Q*=.99),ue(),te(Q),ue();function te(fe){re.forEach(function(he){he.forEach(function(me){if(me.targetLinks.length){var ke=((0,C.Sm)(me.targetLinks,c)/(0,C.Sm)(me.targetLinks,a)-s(me))*fe;me.y0+=ke,me.y1+=ke}})})}function oe(fe){re.slice().reverse().forEach(function(he){he.forEach(function(me){if(me.sourceLinks.length){var ke=((0,C.Sm)(me.sourceLinks,p)/(0,C.Sm)(me.sourceLinks,a)-s(me))*fe;me.y0+=ke,me.y1+=ke}})})}function ue(){re.forEach(function(fe){var he,me,ke,Pe=k,Te=fe.length;for(fe.sort(n),ke=0;ke<Te;++ke)(me=Pe-(he=fe[ke]).y0)>0&&(he.y0+=me,he.y1+=me),Pe=he.y1+R;if((me=Pe-R-L)>0)for(Pe=he.y0-=me,he.y1-=me,ke=Te-2;ke>=0;--ke)(me=(he=fe[ke]).y1+R-Pe)>0&&(he.y0-=me,he.y1-=me),Pe=he.y0})}}(Y),Z(Y),Y}function Z(Y){Y.nodes.forEach(function(ae){ae.sourceLinks.sort(r),ae.targetLinks.sort(o)}),Y.nodes.forEach(function(ae){var re=ae.y0,Q=re;ae.sourceLinks.forEach(function(K){K.y0=re+K.width/2,re+=K.width}),ae.targetLinks.forEach(function(K){K.y1=Q+K.width/2,Q+=K.width})})}return U.update=function(Y){return Z(Y),Y},U.nodeId=function(Y){return arguments.length?(z="function"==typeof Y?Y:t(Y),U):z},U.nodeAlign=function(Y){return arguments.length?($="function"==typeof Y?Y:t(Y),U):$},U.nodeWidth=function(Y){return arguments.length?(P=+Y,U):P},U.nodePadding=function(Y){return arguments.length?(R=+Y,U):R},U.nodes=function(Y){return arguments.length?(N="function"==typeof Y?Y:t(Y),U):N},U.links=function(Y){return arguments.length?(W="function"==typeof Y?Y:t(Y),U):W},U.size=function(Y){return arguments.length?(E=k=0,I=+Y[0],L=+Y[1],U):[I-E,L-k]},U.extent=function(Y){return arguments.length?(E=+Y[0][0],I=+Y[1][0],k=+Y[0][1],L=+Y[1][1],U):[[E,k],[I,L]]},U.iterations=function(Y){return arguments.length?(H=+Y,U):H},U}var x=e(45879);function b(E){return[E.source.x1,E.y0]}function M(E){return[E.target.x0,E.y1]}function d(){return(0,x.h5)().source(b).target(M)}},39898:function(ie,B,e){var C,S;(function(){var u={version:"3.8.0"},A=[].slice,T=function(V){return A.call(V)},m=self.document;function l(V){return V&&(V.ownerDocument||V.document||V).documentElement}function t(V){return V&&(V.ownerDocument&&V.ownerDocument.defaultView||V.document&&V||V.defaultView)}if(m)try{T(m.documentElement.childNodes)}catch{T=function(ne){for(var ce=ne.length,_e=new Array(ce);ce--;)_e[ce]=ne[ce];return _e}}if(Date.now||(Date.now=function(){return+new Date}),m)try{m.createElement("DIV").style.setProperty("opacity",0,"")}catch{var o=this.Element.prototype,r=o.setAttribute,n=o.setAttributeNS,a=this.CSSStyleDeclaration.prototype,s=a.setProperty;o.setAttribute=function(ne,ce){r.call(this,ne,ce+"")},o.setAttributeNS=function(ne,ce,_e){n.call(this,ne,ce,_e+"")},a.setProperty=function(ne,ce,_e){s.call(this,ne,ce+"",_e)}}function c(V,ne){return V<ne?-1:V>ne?1:V>=ne?0:NaN}function p(V){return null===V?NaN:+V}function f(V){return!isNaN(V)}function w(V){return{left:function(ne,ce,_e,Ae){for(arguments.length<3&&(_e=0),arguments.length<4&&(Ae=ne.length);_e<Ae;){var Fe=_e+Ae>>>1;V(ne[Fe],ce)<0?_e=Fe+1:Ae=Fe}return _e},right:function(ne,ce,_e,Ae){for(arguments.length<3&&(_e=0),arguments.length<4&&(Ae=ne.length);_e<Ae;){var Fe=_e+Ae>>>1;V(ne[Fe],ce)>0?Ae=Fe:_e=Fe+1}return _e}}}u.ascending=c,u.descending=function(V,ne){return ne<V?-1:ne>V?1:ne>=V?0:NaN},u.min=function(V,ne){var ce,_e,Ae=-1,Fe=V.length;if(1===arguments.length){for(;++Ae<Fe;)if(null!=(_e=V[Ae])&&_e>=_e){ce=_e;break}for(;++Ae<Fe;)null!=(_e=V[Ae])&&ce>_e&&(ce=_e)}else{for(;++Ae<Fe;)if(null!=(_e=ne.call(V,V[Ae],Ae))&&_e>=_e){ce=_e;break}for(;++Ae<Fe;)null!=(_e=ne.call(V,V[Ae],Ae))&&ce>_e&&(ce=_e)}return ce},u.max=function(V,ne){var ce,_e,Ae=-1,Fe=V.length;if(1===arguments.length){for(;++Ae<Fe;)if(null!=(_e=V[Ae])&&_e>=_e){ce=_e;break}for(;++Ae<Fe;)null!=(_e=V[Ae])&&_e>ce&&(ce=_e)}else{for(;++Ae<Fe;)if(null!=(_e=ne.call(V,V[Ae],Ae))&&_e>=_e){ce=_e;break}for(;++Ae<Fe;)null!=(_e=ne.call(V,V[Ae],Ae))&&_e>ce&&(ce=_e)}return ce},u.extent=function(V,ne){var ce,_e,Ae,Fe=-1,We=V.length;if(1===arguments.length){for(;++Fe<We;)if(null!=(_e=V[Fe])&&_e>=_e){ce=Ae=_e;break}for(;++Fe<We;)null!=(_e=V[Fe])&&(ce>_e&&(ce=_e),Ae<_e&&(Ae=_e))}else{for(;++Fe<We;)if(null!=(_e=ne.call(V,V[Fe],Fe))&&_e>=_e){ce=Ae=_e;break}for(;++Fe<We;)null!=(_e=ne.call(V,V[Fe],Fe))&&(ce>_e&&(ce=_e),Ae<_e&&(Ae=_e))}return[ce,Ae]},u.sum=function(V,ne){var ce,_e=0,Ae=V.length,Fe=-1;if(1===arguments.length)for(;++Fe<Ae;)f(ce=+V[Fe])&&(_e+=ce);else for(;++Fe<Ae;)f(ce=+ne.call(V,V[Fe],Fe))&&(_e+=ce);return _e},u.mean=function(V,ne){var ce,_e=0,Ae=V.length,Fe=-1,We=Ae;if(1===arguments.length)for(;++Fe<Ae;)f(ce=p(V[Fe]))?_e+=ce:--We;else for(;++Fe<Ae;)f(ce=p(ne.call(V,V[Fe],Fe)))?_e+=ce:--We;if(We)return _e/We},u.quantile=function(V,ne){var ce=(V.length-1)*ne+1,_e=Math.floor(ce),Ae=+V[_e-1],Fe=ce-_e;return Fe?Ae+Fe*(V[_e]-Ae):Ae},u.median=function(V,ne){var ce,_e=[],Ae=V.length,Fe=-1;if(1===arguments.length)for(;++Fe<Ae;)f(ce=p(V[Fe]))&&_e.push(ce);else for(;++Fe<Ae;)f(ce=p(ne.call(V,V[Fe],Fe)))&&_e.push(ce);if(_e.length)return u.quantile(_e.sort(c),.5)},u.variance=function(V,ne){var ce,_e,Ae=V.length,Fe=0,We=0,Ye=-1,Je=0;if(1===arguments.length)for(;++Ye<Ae;)f(ce=p(V[Ye]))&&(We+=(_e=ce-Fe)*(ce-(Fe+=_e/++Je)));else for(;++Ye<Ae;)f(ce=p(ne.call(V,V[Ye],Ye)))&&(We+=(_e=ce-Fe)*(ce-(Fe+=_e/++Je)));if(Je>1)return We/(Je-1)},u.deviation=function(){var V=u.variance.apply(this,arguments);return V&&Math.sqrt(V)};var v=w(c);function h(V){return V.length}u.bisectLeft=v.left,u.bisect=u.bisectRight=v.right,u.bisector=function(V){return w(1===V.length?function(ne,ce){return c(V(ne),ce)}:V)},u.shuffle=function(V,ne,ce){(Fe=arguments.length)<3&&(ce=V.length,Fe<2&&(ne=0));for(var _e,Ae,Fe=ce-ne;Fe;)Ae=Math.random()*Fe--|0,_e=V[Fe+ne],V[Fe+ne]=V[Ae+ne],V[Ae+ne]=_e;return V},u.permute=function(V,ne){for(var ce=ne.length,_e=new Array(ce);ce--;)_e[ce]=V[ne[ce]];return _e},u.pairs=function(V){for(var ne=0,ce=V.length-1,_e=V[0],Ae=new Array(ce<0?0:ce);ne<ce;)Ae[ne]=[_e,_e=V[++ne]];return Ae},u.transpose=function(V){if(!(Ae=V.length))return[];for(var ne=-1,ce=u.min(V,h),_e=new Array(ce);++ne<ce;)for(var Ae,Fe=-1,We=_e[ne]=new Array(Ae);++Fe<Ae;)We[Fe]=V[Fe][ne];return _e},u.zip=function(){return u.transpose(arguments)},u.keys=function(V){var ne=[];for(var ce in V)ne.push(ce);return ne},u.values=function(V){var ne=[];for(var ce in V)ne.push(V[ce]);return ne},u.entries=function(V){var ne=[];for(var ce in V)ne.push({key:ce,value:V[ce]});return ne},u.merge=function(V){for(var ne,ce,_e,Ae=V.length,Fe=-1,We=0;++Fe<Ae;)We+=V[Fe].length;for(ce=new Array(We);--Ae>=0;)for(ne=(_e=V[Ae]).length;--ne>=0;)ce[--We]=_e[ne];return ce};var _=Math.abs;function x(V,ne){for(var ce in ne)Object.defineProperty(V.prototype,ce,{value:ne[ce],enumerable:!1})}function b(){this._=Object.create(null)}u.range=function(V,ne,ce){if(arguments.length<3&&(ce=1,arguments.length<2&&(ne=V,V=0)),(ne-V)/ce==1/0)throw new Error("infinite range");var _e,Ae=[],Fe=function(Ye){for(var Je=1;Ye*Je%1;)Je*=10;return Je}(_(ce)),We=-1;if(V*=Fe,ne*=Fe,(ce*=Fe)<0)for(;(_e=V+ce*++We)>ne;)Ae.push(_e/Fe);else for(;(_e=V+ce*++We)<ne;)Ae.push(_e/Fe);return Ae},u.map=function(V,ne){var ce=new b;if(V instanceof b)V.forEach(function(Ye,Je){ce.set(Ye,Je)});else if(Array.isArray(V)){var _e,Ae=-1,Fe=V.length;if(1===arguments.length)for(;++Ae<Fe;)ce.set(Ae,V[Ae]);else for(;++Ae<Fe;)ce.set(ne.call(V,_e=V[Ae],Ae),_e)}else for(var We in V)ce.set(We,V[We]);return ce};var M="__proto__",d="\0";function E(V){return(V+="")===M||V[0]===d?d+V:V}function k(V){return(V+="")[0]===d?V.slice(1):V}function I(V){return E(V)in this._}function L(V){return(V=E(V))in this._&&delete this._[V]}function P(){var V=[];for(var ne in this._)V.push(k(ne));return V}function R(){var V=0;for(var ne in this._)++V;return V}function z(){for(var V in this._)return!1;return!0}function $(){this._=Object.create(null)}function N(V){return V}function W(V,ne,ce){return function(){var _e=ce.apply(ne,arguments);return _e===ne?V:_e}}function H(V,ne){if(ne in V)return ne;ne=ne.charAt(0).toUpperCase()+ne.slice(1);for(var ce=0,_e=U.length;ce<_e;++ce){var Ae=U[ce]+ne;if(Ae in V)return Ae}}x(b,{has:I,get:function(V){return this._[E(V)]},set:function(V,ne){return this._[E(V)]=ne},remove:L,keys:P,values:function(){var V=[];for(var ne in this._)V.push(this._[ne]);return V},entries:function(){var V=[];for(var ne in this._)V.push({key:k(ne),value:this._[ne]});return V},size:R,empty:z,forEach:function(V){for(var ne in this._)V.call(this,k(ne),this._[ne])}}),u.nest=function(){var V,ne,ce={},_e=[],Ae=[];function Fe(Ye,Je,tt){if(tt>=_e.length)return ne?ne.call(ce,Je):V?Je.sort(V):Je;for(var lt,yt,wt,zt,Ut=-1,Nt=Je.length,$t=_e[tt++],Bt=new b;++Ut<Nt;)(zt=Bt.get(lt=$t(yt=Je[Ut])))?zt.push(yt):Bt.set(lt,[yt]);return Ye?(yt=Ye(),wt=function(pn,an){yt.set(pn,Fe(Ye,an,tt))}):(yt={},wt=function(pn,an){yt[pn]=Fe(Ye,an,tt)}),Bt.forEach(wt),yt}function We(Ye,Je){if(Je>=_e.length)return Ye;var tt=[],lt=Ae[Je++];return Ye.forEach(function(yt,wt){tt.push({key:yt,values:We(wt,Je)})}),lt?tt.sort(function(yt,wt){return lt(yt.key,wt.key)}):tt}return ce.map=function(Ye,Je){return Fe(Je,Ye,0)},ce.entries=function(Ye){return We(Fe(u.map,Ye,0),0)},ce.key=function(Ye){return _e.push(Ye),ce},ce.sortKeys=function(Ye){return Ae[_e.length-1]=Ye,ce},ce.sortValues=function(Ye){return V=Ye,ce},ce.rollup=function(Ye){return ne=Ye,ce},ce},u.set=function(V){var ne=new $;if(V)for(var ce=0,_e=V.length;ce<_e;++ce)ne.add(V[ce]);return ne},x($,{has:I,add:function(V){return this._[E(V+="")]=!0,V},remove:L,values:P,size:R,empty:z,forEach:function(V){for(var ne in this._)V.call(this,k(ne))}}),u.behavior={},u.rebind=function(V,ne){for(var ce,_e=1,Ae=arguments.length;++_e<Ae;)V[ce=arguments[_e]]=W(V,ne,ne[ce]);return V};var U=["webkit","ms","moz","Moz","o","O"];function Z(){}function Y(){}function ae(V){var ne=[],ce=new b;function _e(){for(var Ae,Fe=ne,We=-1,Ye=Fe.length;++We<Ye;)(Ae=Fe[We].on)&&Ae.apply(this,arguments);return V}return _e.on=function(Ae,Fe){var We,Ye=ce.get(Ae);return arguments.length<2?Ye&&Ye.on:(Ye&&(Ye.on=null,ne=ne.slice(0,We=ne.indexOf(Ye)).concat(ne.slice(We+1)),ce.remove(Ae)),Fe&&ne.push(ce.set(Ae,{on:Fe})),V)},_e}function re(){u.event.preventDefault()}function Q(){for(var V,ne=u.event;V=ne.sourceEvent;)ne=V;return ne}function K(V){for(var ne=new Y,ce=0,_e=arguments.length;++ce<_e;)ne[arguments[ce]]=ae(ne);return ne.of=function(Ae,Fe){return function(We){try{var Ye=We.sourceEvent=u.event;We.target=V,u.event=We,ne[We.type].apply(Ae,Fe)}finally{u.event=Ye}}},ne}u.dispatch=function(){for(var V=new Y,ne=-1,ce=arguments.length;++ne<ce;)V[arguments[ne]]=ae(V);return V},Y.prototype.on=function(V,ne){var ce=V.indexOf("."),_e="";if(ce>=0&&(_e=V.slice(ce+1),V=V.slice(0,ce)),V)return arguments.length<2?this[V].on(_e):this[V].on(_e,ne);if(2===arguments.length){if(null==ne)for(V in this)this.hasOwnProperty(V)&&this[V].on(_e,null);return this}},u.event=null,u.requote=function(V){return V.replace(te,"\\$&")};var te=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,oe={}.__proto__?function(V,ne){V.__proto__=ne}:function(V,ne){for(var ce in ne)V[ce]=ne[ce]};function ue(V){return oe(V,ke),V}var fe=function(V,ne){return ne.querySelector(V)},he=function(V,ne){return ne.querySelectorAll(V)},me=function(V,ne){var ce=V.matches||V[H(V,"matchesSelector")];return(me=function(_e,Ae){return ce.call(_e,Ae)})(V,ne)};"function"==typeof Sizzle&&(fe=function(V,ne){return Sizzle(V,ne)[0]||null},he=Sizzle,me=Sizzle.matchesSelector),u.selection=function(){return u.select(m.documentElement)};var ke=u.selection.prototype=[];function Pe(V){return"function"==typeof V?V:function(){return fe(V,this)}}function Te(V){return"function"==typeof V?V:function(){return he(V,this)}}ke.select=function(V){var ne,ce,_e,Ae,Fe=[];V=Pe(V);for(var We=-1,Ye=this.length;++We<Ye;){Fe.push(ne=[]),ne.parentNode=(_e=this[We]).parentNode;for(var Je=-1,tt=_e.length;++Je<tt;)(Ae=_e[Je])?(ne.push(ce=V.call(Ae,Ae.__data__,Je,We)),ce&&"__data__"in Ae&&(ce.__data__=Ae.__data__)):ne.push(null)}return ue(Fe)},ke.selectAll=function(V){var ne,ce,_e=[];V=Te(V);for(var Ae=-1,Fe=this.length;++Ae<Fe;)for(var We=this[Ae],Ye=-1,Je=We.length;++Ye<Je;)(ce=We[Ye])&&(_e.push(ne=T(V.call(ce,ce.__data__,Ye,Ae))),ne.parentNode=ce);return ue(_e)};var be="http://www.w3.org/1999/xhtml",xe={svg:"http://www.w3.org/2000/svg",xhtml:be,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ne(V,ne){return V=u.ns.qualify(V),null==ne?V.local?function(){this.removeAttributeNS(V.space,V.local)}:function(){this.removeAttribute(V)}:"function"==typeof ne?V.local?function(){var ce=ne.apply(this,arguments);null==ce?this.removeAttributeNS(V.space,V.local):this.setAttributeNS(V.space,V.local,ce)}:function(){var ce=ne.apply(this,arguments);null==ce?this.removeAttribute(V):this.setAttribute(V,ce)}:V.local?function(){this.setAttributeNS(V.space,V.local,ne)}:function(){this.setAttribute(V,ne)}}function Se(V){return V.trim().replace(/\s+/g," ")}function Ce(V){return new RegExp("(?:^|\\s+)"+u.requote(V)+"(?:\\s+|$)","g")}function pe(V){return(V+"").trim().split(/^|\s+/)}function de(V,ne){var ce=(V=pe(V).map(se)).length;return"function"==typeof ne?function(){for(var _e=-1,Ae=ne.apply(this,arguments);++_e<ce;)V[_e](this,Ae)}:function(){for(var _e=-1;++_e<ce;)V[_e](this,ne)}}function se(V){var ne=Ce(V);return function(ce,_e){if(Ae=ce.classList)return _e?Ae.add(V):Ae.remove(V);var Ae=ce.getAttribute("class")||"";_e?(ne.lastIndex=0,ne.test(Ae)||ce.setAttribute("class",Se(Ae+" "+V))):ce.setAttribute("class",Se(Ae.replace(ne," ")))}}function we(V,ne,ce){return null==ne?function(){this.style.removeProperty(V)}:"function"==typeof ne?function(){var _e=ne.apply(this,arguments);null==_e?this.style.removeProperty(V):this.style.setProperty(V,_e,ce)}:function(){this.style.setProperty(V,ne,ce)}}function Re(V,ne){return null==ne?function(){delete this[V]}:"function"==typeof ne?function(){var ce=ne.apply(this,arguments);null==ce?delete this[V]:this[V]=ce}:function(){this[V]=ne}}function Ee(V){return"function"==typeof V?V:(V=u.ns.qualify(V)).local?function(){return this.ownerDocument.createElementNS(V.space,V.local)}:function(){var ne=this.ownerDocument,ce=this.namespaceURI;return ce===be&&ne.documentElement.namespaceURI===be?ne.createElement(V):ne.createElementNS(ce,V)}}function Ue(){var V=this.parentNode;V&&V.removeChild(this)}function $e(V){return{__data__:V}}function ve(V){return function(){return me(this,V)}}function Ie(V){return arguments.length||(V=c),function(ne,ce){return ne&&ce?V(ne.__data__,ce.__data__):!ne-!ce}}function De(V,ne){for(var ce=0,_e=V.length;ce<_e;ce++)for(var Ae,Fe=V[ce],We=0,Ye=Fe.length;We<Ye;We++)(Ae=Fe[We])&&ne(Ae,We,ce);return V}function ze(V){return oe(V,Ge),V}u.ns={prefix:xe,qualify:function(V){var ne=V.indexOf(":"),ce=V;return ne>=0&&"xmlns"!==(ce=V.slice(0,ne))&&(V=V.slice(ne+1)),xe.hasOwnProperty(ce)?{space:xe[ce],local:V}:V}},ke.attr=function(V,ne){if(arguments.length<2){if("string"==typeof V){var ce=this.node();return(V=u.ns.qualify(V)).local?ce.getAttributeNS(V.space,V.local):ce.getAttribute(V)}for(ne in V)this.each(Ne(ne,V[ne]));return this}return this.each(Ne(V,ne))},ke.classed=function(V,ne){if(arguments.length<2){if("string"==typeof V){var ce=this.node(),_e=(V=pe(V)).length,Ae=-1;if(ne=ce.classList){for(;++Ae<_e;)if(!ne.contains(V[Ae]))return!1}else for(ne=ce.getAttribute("class");++Ae<_e;)if(!Ce(V[Ae]).test(ne))return!1;return!0}for(ne in V)this.each(de(ne,V[ne]));return this}return this.each(de(V,ne))},ke.style=function(V,ne,ce){var _e=arguments.length;if(_e<3){if("string"!=typeof V){for(ce in _e<2&&(ne=""),V)this.each(we(ce,V[ce],ne));return this}if(_e<2){var Ae=this.node();return t(Ae).getComputedStyle(Ae,null).getPropertyValue(V)}ce=""}return this.each(we(V,ne,ce))},ke.property=function(V,ne){if(arguments.length<2){if("string"==typeof V)return this.node()[V];for(ne in V)this.each(Re(ne,V[ne]));return this}return this.each(Re(V,ne))},ke.text=function(V){return arguments.length?this.each("function"==typeof V?function(){var ne=V.apply(this,arguments);this.textContent=ne??""}:null==V?function(){this.textContent=""}:function(){this.textContent=V}):this.node().textContent},ke.html=function(V){return arguments.length?this.each("function"==typeof V?function(){var ne=V.apply(this,arguments);this.innerHTML=ne??""}:null==V?function(){this.innerHTML=""}:function(){this.innerHTML=V}):this.node().innerHTML},ke.append=function(V){return V=Ee(V),this.select(function(){return this.appendChild(V.apply(this,arguments))})},ke.insert=function(V,ne){return V=Ee(V),ne=Pe(ne),this.select(function(){return this.insertBefore(V.apply(this,arguments),ne.apply(this,arguments)||null)})},ke.remove=function(){return this.each(Ue)},ke.data=function(V,ne){var ce,_e,Ae=-1,Fe=this.length;if(!arguments.length){for(V=new Array(Fe=(ce=this[0]).length);++Ae<Fe;)(_e=ce[Ae])&&(V[Ae]=_e.__data__);return V}function We(lt,yt){var wt,zt,Ut,Nt=lt.length,$t=yt.length,Bt=Math.min(Nt,$t),pn=new Array($t),an=new Array($t),en=new Array(Nt);if(ne){var Dn,In=new b,Kn=new Array(Nt);for(wt=-1;++wt<Nt;)(zt=lt[wt])&&(In.has(Dn=ne.call(zt,zt.__data__,wt))?en[wt]=zt:In.set(Dn,zt),Kn[wt]=Dn);for(wt=-1;++wt<$t;)(zt=In.get(Dn=ne.call(yt,Ut=yt[wt],wt)))?!0!==zt&&(pn[wt]=zt,zt.__data__=Ut):an[wt]=$e(Ut),In.set(Dn,!0);for(wt=-1;++wt<Nt;)wt in Kn&&!0!==In.get(Kn[wt])&&(en[wt]=lt[wt])}else{for(wt=-1;++wt<Bt;)Ut=yt[wt],(zt=lt[wt])?(zt.__data__=Ut,pn[wt]=zt):an[wt]=$e(Ut);for(;wt<$t;++wt)an[wt]=$e(yt[wt]);for(;wt<Nt;++wt)en[wt]=lt[wt]}an.update=pn,an.parentNode=pn.parentNode=en.parentNode=lt.parentNode,Ye.push(an),Je.push(pn),tt.push(en)}var Ye=ze([]),Je=ue([]),tt=ue([]);if("function"==typeof V)for(;++Ae<Fe;)We(ce=this[Ae],V.call(ce,ce.parentNode.__data__,Ae));else for(;++Ae<Fe;)We(ce=this[Ae],V);return Je.enter=function(){return Ye},Je.exit=function(){return tt},Je},ke.datum=function(V){return arguments.length?this.property("__data__",V):this.property("__data__")},ke.filter=function(V){var ne,ce,_e,Ae=[];"function"!=typeof V&&(V=ve(V));for(var Fe=0,We=this.length;Fe<We;Fe++){Ae.push(ne=[]),ne.parentNode=(ce=this[Fe]).parentNode;for(var Ye=0,Je=ce.length;Ye<Je;Ye++)(_e=ce[Ye])&&V.call(_e,_e.__data__,Ye,Fe)&&ne.push(_e)}return ue(Ae)},ke.order=function(){for(var V=-1,ne=this.length;++V<ne;)for(var ce,_e=this[V],Ae=_e.length-1,Fe=_e[Ae];--Ae>=0;)(ce=_e[Ae])&&(Fe&&Fe!==ce.nextSibling&&Fe.parentNode.insertBefore(ce,Fe),Fe=ce);return this},ke.sort=function(V){V=Ie.apply(this,arguments);for(var ne=-1,ce=this.length;++ne<ce;)this[ne].sort(V);return this.order()},ke.each=function(V){return De(this,function(ne,ce,_e){V.call(ne,ne.__data__,ce,_e)})},ke.call=function(V){var ne=T(arguments);return V.apply(ne[0]=this,ne),this},ke.empty=function(){return!this.node()},ke.node=function(){for(var V=0,ne=this.length;V<ne;V++)for(var ce=this[V],_e=0,Ae=ce.length;_e<Ae;_e++){var Fe=ce[_e];if(Fe)return Fe}return null},ke.size=function(){var V=0;return De(this,function(){++V}),V};var Ge=[];function He(V,ne,ce){var _e="__on"+V,Ae=V.indexOf("."),Fe=et;Ae>0&&(V=V.slice(0,Ae));var We=Ke.get(V);function Ye(){var Je=this[_e];Je&&(this.removeEventListener(V,Je,Je.$),delete this[_e])}return We&&(V=We,Fe=st),Ae?ne?function(){var Je=Fe(ne,T(arguments));Ye.call(this),this.addEventListener(V,this[_e]=Je,Je.$=ce),Je._=ne}:Ye:ne?Z:function(){var Je,tt=new RegExp("^__on([^.]+)"+u.requote(V)+"$");for(var lt in this)if(Je=lt.match(tt)){var yt=this[lt];this.removeEventListener(Je[1],yt,yt.$),delete this[lt]}}}u.selection.enter=ze,u.selection.enter.prototype=Ge,Ge.append=ke.append,Ge.empty=ke.empty,Ge.node=ke.node,Ge.call=ke.call,Ge.size=ke.size,Ge.select=function(V){for(var ne,ce,_e,Ae,Fe,We=[],Ye=-1,Je=this.length;++Ye<Je;){_e=(Ae=this[Ye]).update,We.push(ne=[]),ne.parentNode=Ae.parentNode;for(var tt=-1,lt=Ae.length;++tt<lt;)(Fe=Ae[tt])?(ne.push(_e[tt]=ce=V.call(Ae.parentNode,Fe.__data__,tt,Ye)),ce.__data__=Fe.__data__):ne.push(null)}return ue(We)},Ge.insert=function(V,ne){var ce,_e,Ae;return arguments.length<2&&(ce=this,ne=function(Fe,We,Ye){var Je,tt=ce[Ye].update,lt=tt.length;for(Ye!=Ae&&(Ae=Ye,_e=0),We>=_e&&(_e=We+1);!(Je=tt[_e])&&++_e<lt;);return Je}),ke.insert.call(this,V,ne)},u.select=function(V){var ne;return"string"==typeof V?(ne=[fe(V,m)]).parentNode=m.documentElement:(ne=[V]).parentNode=l(V),ue([ne])},u.selectAll=function(V){var ne;return"string"==typeof V?(ne=T(he(V,m))).parentNode=m.documentElement:(ne=T(V)).parentNode=null,ue([ne])},ke.on=function(V,ne,ce){var _e=arguments.length;if(_e<3){if("string"!=typeof V){for(ce in _e<2&&(ne=!1),V)this.each(He(ce,V[ce],ne));return this}if(_e<2)return(_e=this.node()["__on"+V])&&_e._;ce=!1}return this.each(He(V,ne,ce))};var Ke=u.map({mouseenter:"mouseover",mouseleave:"mouseout"});function et(V,ne){return function(ce){var _e=u.event;u.event=ce,ne[0]=this.__data__;try{V.apply(this,ne)}finally{u.event=_e}}}function st(V,ne){var ce=et(V,ne);return function(_e){var Fe=_e.relatedTarget;Fe&&(Fe===this||8&Fe.compareDocumentPosition(this))||ce.call(this,_e)}}m&&Ke.forEach(function(V){"on"+V in m&&Ke.remove(V)});var mt,at=0;function kt(V){var ne=".dragsuppress-"+ ++at,ce="click"+ne,_e=u.select(t(V)).on("touchmove"+ne,re).on("dragstart"+ne,re).on("selectstart"+ne,re);if(null==mt&&(mt=!("onselectstart"in V)&&H(V.style,"userSelect")),mt){var Ae=l(V).style,Fe=Ae[mt];Ae[mt]="none"}return function(We){if(_e.on(ne,null),mt&&(Ae[mt]=Fe),We){var Ye=function(){_e.on(ce,null)};_e.on(ce,function(){re(),Ye()},!0),setTimeout(Ye,0)}}}u.mouse=function(V){return gt(V,Q())};var St=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function gt(V,ne){ne.changedTouches&&(ne=ne.changedTouches[0]);var ce=V.ownerSVGElement||V;if(ce.createSVGPoint){var _e=ce.createSVGPoint();if(St<0){var Ae=t(V);if(Ae.scrollX||Ae.scrollY){var Fe=(ce=u.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();St=!(Fe.f||Fe.e),ce.remove()}}return St?(_e.x=ne.pageX,_e.y=ne.pageY):(_e.x=ne.clientX,_e.y=ne.clientY),[(_e=_e.matrixTransform(V.getScreenCTM().inverse())).x,_e.y]}var We=V.getBoundingClientRect();return[ne.clientX-We.left-V.clientLeft,ne.clientY-We.top-V.clientTop]}function dt(){return u.event.changedTouches[0].identifier}u.touch=function(V,ne,ce){if(arguments.length<3&&(ce=ne,ne=Q().changedTouches),ne)for(var _e,Ae=0,Fe=ne.length;Ae<Fe;++Ae)if((_e=ne[Ae]).identifier===ce)return gt(V,_e)},u.behavior.drag=function(){var V=K(Ae,"drag","dragstart","dragend"),ne=null,ce=Fe(Z,u.mouse,t,"mousemove","mouseup"),_e=Fe(dt,u.touch,N,"touchmove","touchend");function Ae(){this.on("mousedown.drag",ce).on("touchstart.drag",_e)}function Fe(We,Ye,Je,tt,lt){return function(){var yt,zt=u.event.target.correspondingElement||u.event.target,Ut=this.parentNode,Nt=V.of(this,arguments),$t=0,Bt=We(),pn=".drag"+(null==Bt?"":"-"+Bt),an=u.select(Je(zt)).on(tt+pn,function(){var In,Kn,Yn=Ye(Ut,Bt);Yn&&($t|=(In=Yn[0]-Dn[0])|(Kn=Yn[1]-Dn[1]),Dn=Yn,Nt({type:"drag",x:Yn[0]+yt[0],y:Yn[1]+yt[1],dx:In,dy:Kn}))}).on(lt+pn,function(){Ye(Ut,Bt)&&(an.on(tt+pn,null).on(lt+pn,null),en($t),Nt({type:"dragend"}))}),en=kt(zt),Dn=Ye(Ut,Bt);yt=ne?[(yt=ne.apply(this,arguments)).x-Dn[0],yt.y-Dn[1]]:[0,0],Nt({type:"dragstart"})}}return Ae.origin=function(We){return arguments.length?(ne=We,Ae):ne},u.rebind(Ae,V,"on")},u.touches=function(V,ne){return arguments.length<2&&(ne=Q().touches),ne?T(ne).map(function(ce){var _e=gt(V,ce);return _e.identifier=ce.identifier,_e}):[]};var Ct=1e-6,Ot=Ct*Ct,Pt=Math.PI,Ht=2*Pt,jt=Ht-Ct,nt=Pt/2,it=Pt/180,Xe=180/Pt;function rt(V){return V>1?nt:V<-1?-nt:Math.asin(V)}function ft(V){return((V=Math.exp(V))+1/V)/2}var vt=Math.SQRT2;u.interpolateZoom=function(V,ne){var ce,_e,Ae=V[0],Fe=V[1],We=V[2],tt=ne[2],lt=ne[0]-Ae,yt=ne[1]-Fe,wt=lt*lt+yt*yt;if(wt<Ot)_e=Math.log(tt/We)/vt,ce=function(pn){return[Ae+pn*lt,Fe+pn*yt,We*Math.exp(vt*pn*_e)]};else{var zt=Math.sqrt(wt),Ut=(tt*tt-We*We+4*wt)/(2*We*2*zt),Nt=(tt*tt-We*We-4*wt)/(2*tt*2*zt),$t=Math.log(Math.sqrt(Ut*Ut+1)-Ut),Bt=Math.log(Math.sqrt(Nt*Nt+1)-Nt);_e=(Bt-$t)/vt,ce=function(pn){var an,Kn,en=pn*_e,Dn=ft($t),In=We/(2*zt)*(Dn*(an=vt*en+$t,((an=Math.exp(2*an))-1)/(an+1))-(Kn=$t,((Kn=Math.exp(Kn))-1/Kn)/2));return[Ae+In*lt,Fe+In*yt,We*Dn/ft(vt*en+$t)]}}return ce.duration=1e3*_e,ce},u.behavior.zoom=function(){var V,ne,ce,_e,Ae,Fe,We,Ye,Je,tt={x:0,y:0,k:1},lt=[960,500],yt=ut,wt=250,zt=0,Ut="mousedown.zoom",Nt="mousemove.zoom",$t="mouseup.zoom",Bt="touchstart.zoom",pn=K(an,"zoomstart","zoom","zoomend");function an(Qn){Qn.on(Ut,kr).on(Ve+".zoom",Lr).on("dblclick.zoom",ni).on(Bt,Cr)}function en(Qn){return[(Qn[0]-tt.x)/tt.k,(Qn[1]-tt.y)/tt.k]}function Dn(Qn){tt.k=Math.max(yt[0],Math.min(yt[1],Qn))}function In(Qn,wr){var Er;tt.x+=Qn[0]-(wr=[(Er=wr)[0]*tt.k+tt.x,Er[1]*tt.k+tt.y])[0],tt.y+=Qn[1]-wr[1]}function Kn(Qn,wr,Er,jr){Qn.__chart__={x:tt.x,y:tt.y,k:tt.k},Dn(Math.pow(2,jr)),In(ne=wr,Er),Qn=u.select(Qn),wt>0&&(Qn=Qn.transition().duration(wt)),Qn.call(an.event)}function Yn(){We&&We.domain(Fe.range().map(function(Qn){return(Qn-tt.x)/tt.k}).map(Fe.invert)),Je&&Je.domain(Ye.range().map(function(Qn){return(Qn-tt.y)/tt.k}).map(Ye.invert))}function ir(Qn){zt++||Qn({type:"zoomstart"})}function dr(Qn){Yn(),Qn({type:"zoom",scale:tt.k,translate:[tt.x,tt.y]})}function yr(Qn){--zt||(Qn({type:"zoomend"}),ne=null)}function kr(){var Qn=this,wr=pn.of(Qn,arguments),Er=0,jr=u.select(t(Qn)).on(Nt,function(){Er=1,In(u.mouse(Qn),Jr),dr(wr)}).on($t,function(){jr.on(Nt,null).on($t,null),ci(Er),yr(wr)}),Jr=en(u.mouse(Qn)),ci=kt(Qn);ca.call(Qn),ir(wr)}function Cr(){var Qn,wr=this,Er=pn.of(wr,arguments),jr={},Jr=0,ci=".zoom-"+u.event.changedTouches[0].identifier,bi="touchmove"+ci,Hi="touchend"+ci,po=[],uo=u.select(wr),Gi=kt(wr);function Mo(){var qi=u.touches(wr);return Qn=tt.k,qi.forEach(function(ki){ki.identifier in jr&&(jr[ki.identifier]=en(ki))}),qi}function Ko(){var qi=u.event.target;u.select(qi).on(bi,Wr).on(Hi,Bo),po.push(qi);for(var ki=u.event.changedTouches,go=0,io=ki.length;go<io;++go)jr[ki[go].identifier]=null;var mo=Mo(),Yo=Date.now();if(1===mo.length){if(Yo-Ae<500){var Ao=mo[0];Kn(wr,Ao,jr[Ao.identifier],Math.floor(Math.log(tt.k)/Math.LN2)+1),re()}Ae=Yo}else if(mo.length>1){var $i=mo[1],bl=(Ao=mo[0])[0]-$i[0],za=Ao[1]-$i[1];Jr=bl*bl+za*za}}function Wr(){var qi,ki,go,io,mo=u.touches(wr);ca.call(wr);for(var Yo=0,Ao=mo.length;Yo<Ao;++Yo,io=null)if(io=jr[(go=mo[Yo]).identifier]){if(ki)break;qi=go,ki=io}if(io){var $i=($i=go[0]-qi[0])*$i+($i=go[1]-qi[1])*$i,bl=Jr&&Math.sqrt($i/Jr);qi=[(qi[0]+go[0])/2,(qi[1]+go[1])/2],ki=[(ki[0]+io[0])/2,(ki[1]+io[1])/2],Dn(bl*Qn)}Ae=null,In(qi,ki),dr(Er)}function Bo(){if(u.event.touches.length){for(var qi=u.event.changedTouches,ki=0,go=qi.length;ki<go;++ki)delete jr[qi[ki].identifier];for(var io in jr)return void Mo()}u.selectAll(po).on(ci,null),uo.on(Ut,kr).on(Bt,Cr),Gi(),yr(Er)}Ko(),ir(Er),uo.on(Ut,null).on(Bt,Ko)}function Lr(){var Qn=pn.of(this,arguments);_e?clearTimeout(_e):(ca.call(this),V=en(ne=ce||u.mouse(this)),ir(Qn)),_e=setTimeout(function(){_e=null,yr(Qn)},50),re(),Dn(Math.pow(2,.002*je())*tt.k),In(ne,V),dr(Qn)}function ni(){var Qn=u.mouse(this),wr=Math.log(tt.k)/Math.LN2;Kn(this,Qn,en(Qn),u.event.shiftKey?Math.ceil(wr)-1:Math.floor(wr)+1)}return Ve||(Ve="onwheel"in m?(je=function(){return-u.event.deltaY*(u.event.deltaMode?120:1)},"wheel"):"onmousewheel"in m?(je=function(){return u.event.wheelDelta},"mousewheel"):(je=function(){return-u.event.detail},"MozMousePixelScroll")),an.event=function(Qn){Qn.each(function(){var wr=pn.of(this,arguments),Er=tt;Fa?u.select(this).transition().each("start.zoom",function(){tt=this.__chart__||{x:0,y:0,k:1},ir(wr)}).tween("zoom:zoom",function(){var jr=lt[0],ci=ne?ne[0]:jr/2,bi=ne?ne[1]:lt[1]/2,Hi=u.interpolateZoom([(ci-tt.x)/tt.k,(bi-tt.y)/tt.k,jr/tt.k],[(ci-Er.x)/Er.k,(bi-Er.y)/Er.k,jr/Er.k]);return function(po){var uo=Hi(po),Gi=jr/uo[2];this.__chart__=tt={x:ci-uo[0]*Gi,y:bi-uo[1]*Gi,k:Gi},dr(wr)}}).each("interrupt.zoom",function(){yr(wr)}).each("end.zoom",function(){yr(wr)}):(this.__chart__=tt,ir(wr),dr(wr),yr(wr))})},an.translate=function(Qn){return arguments.length?(tt={x:+Qn[0],y:+Qn[1],k:tt.k},Yn(),an):[tt.x,tt.y]},an.scale=function(Qn){return arguments.length?(tt={x:tt.x,y:tt.y,k:null},Dn(+Qn),Yn(),an):tt.k},an.scaleExtent=function(Qn){return arguments.length?(yt=null==Qn?ut:[+Qn[0],+Qn[1]],an):yt},an.center=function(Qn){return arguments.length?(ce=Qn&&[+Qn[0],+Qn[1]],an):ce},an.size=function(Qn){return arguments.length?(lt=Qn&&[+Qn[0],+Qn[1]],an):lt},an.duration=function(Qn){return arguments.length?(wt=+Qn,an):wt},an.x=function(Qn){return arguments.length?(We=Qn,Fe=Qn.copy(),tt={x:0,y:0,k:1},an):We},an.y=function(Qn){return arguments.length?(Je=Qn,Ye=Qn.copy(),tt={x:0,y:0,k:1},an):Je},u.rebind(an,pn,"on")};var je,Ve,ut=[0,1/0];function ct(){}function Tt(V,ne,ce){return this instanceof Tt?(this.h=+V,this.s=+ne,void(this.l=+ce)):arguments.length<2?V instanceof Tt?new Tt(V.h,V.s,V.l):mn(""+V,En,Tt):new Tt(V,ne,ce)}u.color=ct,ct.prototype.toString=function(){return this.rgb()+""},u.hsl=Tt;var Mt=Tt.prototype=new ct;function At(V,ne,ce){var _e,Ae;function Fe(We){return Math.round(255*((Ye=We)>360?Ye-=360:Ye<0&&(Ye+=360),Ye<60?_e+(Ae-_e)*Ye/60:Ye<180?Ae:Ye<240?_e+(Ae-_e)*(240-Ye)/60:_e));var Ye}return V=isNaN(V)?0:(V%=360)<0?V+360:V,ne=isNaN(ne)||ne<0?0:ne>1?1:ne,_e=2*(ce=ce<0?0:ce>1?1:ce)-(Ae=ce<=.5?ce*(1+ne):ce+ne-ce*ne),new Pn(Fe(V+120),Fe(V),Fe(V-120))}function bt(V,ne,ce){return this instanceof bt?(this.h=+V,this.c=+ne,void(this.l=+ce)):arguments.length<2?V instanceof bt?new bt(V.h,V.c,V.l):(_e=V instanceof _t?V.l:(V=vn((V=u.rgb(V)).r,V.g,V.b)).l,Ae=V.a,Fe=V.b,_e>0?new bt(Math.atan2(Fe,Ae)*Xe,Math.sqrt(Ae*Ae+Fe*Fe),_e):new bt(NaN,NaN,_e)):new bt(V,ne,ce);var _e,Ae,Fe}Mt.brighter=function(V){return V=Math.pow(.7,arguments.length?V:1),new Tt(this.h,this.s,this.l/V)},Mt.darker=function(V){return V=Math.pow(.7,arguments.length?V:1),new Tt(this.h,this.s,V*this.l)},Mt.rgb=function(){return At(this.h,this.s,this.l)},u.hcl=bt;var Rt=bt.prototype=new ct;function xt(V,ne,ce){return isNaN(V)&&(V=0),isNaN(ne)&&(ne=0),new _t(ce,Math.cos(V*=it)*ne,Math.sin(V)*ne)}function _t(V,ne,ce){return this instanceof _t?(this.l=+V,this.a=+ne,void(this.b=+ce)):arguments.length<2?V instanceof _t?new _t(V.l,V.a,V.b):V instanceof bt?xt(V.h,V.c,V.l):vn((V=Pn(V)).r,V.g,V.b):new _t(V,ne,ce)}Rt.brighter=function(V){return new bt(this.h,this.c,Math.min(100,this.l+It*(arguments.length?V:1)))},Rt.darker=function(V){return new bt(this.h,this.c,Math.max(0,this.l-It*(arguments.length?V:1)))},Rt.rgb=function(){return xt(this.h,this.c,this.l).rgb()},u.lab=_t;var It=18,Gt=.95047,Wt=1,Zt=1.08883,cn=_t.prototype=new ct;function nn(V,ne,ce){var _e=(V+16)/116,Ae=_e+ne/500,Fe=_e-ce/200;return new Pn(kn(3.2404542*(Ae=ln(Ae)*Gt)-1.5371385*(_e=ln(_e)*Wt)-.4985314*(Fe=ln(Fe)*Zt)),kn(-.969266*Ae+1.8760108*_e+.041556*Fe),kn(.0556434*Ae-.2040259*_e+1.0572252*Fe))}function ln(V){return V>.206893034?V*V*V:(V-.13793103448275862)/7.787037}function Qt(V){return V>.008856?Math.pow(V,.3333333333333333):7.787037*V+.13793103448275862}function kn(V){return Math.round(255*(V<=.00304?12.92*V:1.055*Math.pow(V,.4166666666666667)-.055))}function Pn(V,ne,ce){return this instanceof Pn?(this.r=~~V,this.g=~~ne,void(this.b=~~ce)):arguments.length<2?V instanceof Pn?new Pn(V.r,V.g,V.b):mn(""+V,Pn,At):new Pn(V,ne,ce)}function Tn(V){return new Pn(V>>16,V>>8&255,255&V)}function tn(V){return Tn(V)+""}cn.brighter=function(V){return new _t(Math.min(100,this.l+It*(arguments.length?V:1)),this.a,this.b)},cn.darker=function(V){return new _t(Math.max(0,this.l-It*(arguments.length?V:1)),this.a,this.b)},cn.rgb=function(){return nn(this.l,this.a,this.b)},u.rgb=Pn;var gn=Pn.prototype=new ct;function hn(V){return V<16?"0"+Math.max(0,V).toString(16):Math.min(255,V).toString(16)}function mn(V,ne,ce){var _e,Ae,Fe,We=0,Ye=0,Je=0;if(_e=/([a-z]+)\((.*)\)/.exec(V=V.toLowerCase()))switch(Ae=_e[2].split(","),_e[1]){case"hsl":return ce(parseFloat(Ae[0]),parseFloat(Ae[1])/100,parseFloat(Ae[2])/100);case"rgb":return ne(Hn(Ae[0]),Hn(Ae[1]),Hn(Ae[2]))}return(Fe=On.get(V))?ne(Fe.r,Fe.g,Fe.b):(null==V||"#"!==V.charAt(0)||isNaN(Fe=parseInt(V.slice(1),16))||(4===V.length?(We=(3840&Fe)>>4,We|=We>>4,Ye=240&Fe,Ye|=Ye>>4,Je=15&Fe,Je|=Je<<4):7===V.length&&(We=(16711680&Fe)>>16,Ye=(65280&Fe)>>8,Je=255&Fe)),ne(We,Ye,Je))}function En(V,ne,ce){var _e,Ae,Fe=Math.min(V/=255,ne/=255,ce/=255),We=Math.max(V,ne,ce),Ye=We-Fe,Je=(We+Fe)/2;return Ye?(Ae=Je<.5?Ye/(We+Fe):Ye/(2-We-Fe),_e=V==We?(ne-ce)/Ye+(ne<ce?6:0):ne==We?(ce-V)/Ye+2:(V-ne)/Ye+4,_e*=60):(_e=NaN,Ae=Je>0&&Je<1?0:_e),new Tt(_e,Ae,Je)}function vn(V,ne,ce){var _e=Qt((.4124564*(V=Un(V))+.3575761*(ne=Un(ne))+.1804375*(ce=Un(ce)))/Gt),Ae=Qt((.2126729*V+.7151522*ne+.072175*ce)/Wt);return _t(116*Ae-16,500*(_e-Ae),200*(Ae-Qt((.0193339*V+.119192*ne+.9503041*ce)/Zt)))}function Un(V){return(V/=255)<=.04045?V/12.92:Math.pow((V+.055)/1.055,2.4)}function Hn(V){var ne=parseFloat(V);return"%"===V.charAt(V.length-1)?Math.round(2.55*ne):ne}gn.brighter=function(V){V=Math.pow(.7,arguments.length?V:1);var ne=this.r,ce=this.g,_e=this.b;return ne||ce||_e?(ne&&ne<30&&(ne=30),ce&&ce<30&&(ce=30),_e&&_e<30&&(_e=30),new Pn(Math.min(255,ne/V),Math.min(255,ce/V),Math.min(255,_e/V))):new Pn(30,30,30)},gn.darker=function(V){return new Pn((V=Math.pow(.7,arguments.length?V:1))*this.r,V*this.g,V*this.b)},gn.hsl=function(){return En(this.r,this.g,this.b)},gn.toString=function(){return"#"+hn(this.r)+hn(this.g)+hn(this.b)};var On=u.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Wn(V){return"function"==typeof V?V:function(){return V}}function pr(V){return function(ne,ce,_e){return 2===arguments.length&&"function"==typeof ce&&(_e=ce,ce=null),ar(ne,ce,V,_e)}}function ar(V,ne,ce,_e){var lt,Ae={},Fe=u.dispatch("beforesend","progress","load","error"),We={},Ye=new XMLHttpRequest,Je=null;function tt(){var lt,wt,zt,yt=Ye.status;if(!yt&&((zt=(wt=Ye).responseType)&&"text"!==zt?wt.response:wt.responseText)||yt>=200&&yt<300||304===yt){try{lt=ce.call(Ae,Ye)}catch(wt){return void Fe.error.call(Ae,wt)}Fe.load.call(Ae,lt)}else Fe.error.call(Ae,Ye)}return self.XDomainRequest&&!("withCredentials"in Ye)&&/^(http(s)?:)?\/\//.test(V)&&(Ye=new XDomainRequest),"onload"in Ye?Ye.onload=Ye.onerror=tt:Ye.onreadystatechange=function(){Ye.readyState>3&&tt()},Ye.onprogress=function(lt){var yt=u.event;u.event=lt;try{Fe.progress.call(Ae,Ye)}finally{u.event=yt}},Ae.header=function(lt,yt){return lt=(lt+"").toLowerCase(),arguments.length<2?We[lt]:(null==yt?delete We[lt]:We[lt]=yt+"",Ae)},Ae.mimeType=function(lt){return arguments.length?(ne=null==lt?null:lt+"",Ae):ne},Ae.responseType=function(lt){return arguments.length?(Je=lt,Ae):Je},Ae.response=function(lt){return ce=lt,Ae},["get","post"].forEach(function(lt){Ae[lt]=function(){return Ae.send.apply(Ae,[lt].concat(T(arguments)))}}),Ae.send=function(lt,yt,wt){if(2===arguments.length&&"function"==typeof yt&&(wt=yt,yt=null),Ye.open(lt,V,!0),null==ne||"accept"in We||(We.accept=ne+",*/*"),Ye.setRequestHeader)for(var zt in We)Ye.setRequestHeader(zt,We[zt]);return null!=ne&&Ye.overrideMimeType&&Ye.overrideMimeType(ne),null!=Je&&(Ye.responseType=Je),null!=wt&&Ae.on("error",wt).on("load",function(Ut){wt(null,Ut)}),Fe.beforesend.call(Ae,Ye),Ye.send(yt??null),Ae},Ae.abort=function(){return Ye.abort(),Ae},u.rebind(Ae,Fe,"on"),null==_e?Ae:Ae.get(1===(lt=_e).length?function(yt,wt){lt(null==yt?wt:null)}:lt)}On.forEach(function(V,ne){On.set(V,Tn(ne))}),u.functor=Wn,u.xhr=pr(N),u.dsv=function(V,ne){var ce=new RegExp('["'+V+"\n]"),_e=V.charCodeAt(0);function Ae(tt,lt,yt){arguments.length<3&&(yt=lt,lt=null);var wt=ar(tt,ne,null==lt?Fe:We(lt),yt);return wt.row=function(zt){return arguments.length?wt.response(null==(lt=zt)?Fe:We(zt)):lt},wt}function Fe(tt){return Ae.parse(tt.responseText)}function We(tt){return function(lt){return Ae.parse(lt.responseText,tt)}}function Ye(tt){return tt.map(Je).join(V)}function Je(tt){return ce.test(tt)?'"'+tt.replace(/\"/g,'""')+'"':tt}return Ae.parse=function(tt,lt){var yt;return Ae.parseRows(tt,function(wt,zt){if(yt)return yt(wt,zt-1);var Ut=function(Nt){for(var $t={},Bt=wt.length,pn=0;pn<Bt;++pn)$t[wt[pn]]=Nt[pn];return $t};yt=lt?function(Nt,$t){return lt(Ut(Nt),$t)}:Ut})},Ae.parseRows=function(tt,lt){var yt,wt,zt={},Ut={},Nt=[],$t=tt.length,Bt=0,pn=0;function an(){if(Bt>=$t)return Ut;if(wt)return wt=!1,zt;var Dn=Bt;if(34===tt.charCodeAt(Dn)){for(var In=Dn;In++<$t;)if(34===tt.charCodeAt(In)){if(34!==tt.charCodeAt(In+1))break;++In}return Bt=In+2,13===(Kn=tt.charCodeAt(In+1))?(wt=!0,10===tt.charCodeAt(In+2)&&++Bt):10===Kn&&(wt=!0),tt.slice(Dn+1,In).replace(/""/g,'"')}for(;Bt<$t;){var Kn,Yn=1;if(10===(Kn=tt.charCodeAt(Bt++)))wt=!0;else if(13===Kn)wt=!0,10===tt.charCodeAt(Bt)&&(++Bt,++Yn);else if(Kn!==_e)continue;return tt.slice(Dn,Bt-Yn)}return tt.slice(Dn)}for(;(yt=an())!==Ut;){for(var en=[];yt!==zt&&yt!==Ut;)en.push(yt),yt=an();lt&&null==(en=lt(en,pn++))||Nt.push(en)}return Nt},Ae.format=function(tt){if(Array.isArray(tt[0]))return Ae.formatRows(tt);var lt=new $,yt=[];return tt.forEach(function(wt){for(var zt in wt)lt.has(zt)||yt.push(lt.add(zt))}),[yt.map(Je).join(V)].concat(tt.map(function(wt){return yt.map(function(zt){return Je(wt[zt])}).join(V)})).join("\n")},Ae.formatRows=function(tt){return tt.map(Ye).join("\n")},Ae},u.csv=u.dsv(",","text/csv"),u.tsv=u.dsv("\t","text/tab-separated-values");var Ar,hr,fr,Rr,Xt=this[H(this,"requestAnimationFrame")]||function(V){setTimeout(V,17)};function rn(V,ne,ce){var _e=arguments.length;_e<2&&(ne=0),_e<3&&(ce=Date.now());var Ae={c:V,t:ce+ne,n:null};return hr?hr.n=Ae:Ar=Ae,hr=Ae,fr||(Rr=clearTimeout(Rr),fr=1,Xt(wn)),Ae}function wn(){var V=Cn(),ne=Bn()-V;ne>24?(isFinite(ne)&&(clearTimeout(Rr),Rr=setTimeout(wn,ne)),fr=0):(fr=1,Xt(wn))}function Cn(){for(var V=Date.now(),ne=Ar;ne;)V>=ne.t&&ne.c(V-ne.t)&&(ne.c=null),ne=ne.n;return V}function Bn(){for(var V,ne=Ar,ce=1/0;ne;)ne.c?(ne.t<ce&&(ce=ne.t),ne=(V=ne).n):ne=V?V.n=ne.n:Ar=ne.n;return hr=V,ce}function or(V){return V[0]}function An(V){return V[1]}function $n(V){for(var ne,ce,_e,Ae=V.length,Fe=[0,1],We=2,Ye=2;Ye<Ae;Ye++){for(;We>1&&((ce=V[Fe[We-1]])[0]-(ne=V[Fe[We-2]])[0])*((_e=V[Ye])[1]-ne[1])-(ce[1]-ne[1])*(_e[0]-ne[0])<=0;)--We;Fe[We++]=Ye}return Fe.slice(0,We)}function Xn(V,ne){return V[0]-ne[0]||V[1]-ne[1]}u.timer=function(){rn.apply(this,arguments)},u.timer.flush=function(){Cn(),Bn()},u.round=function(V,ne){return ne?Math.round(V*(ne=Math.pow(10,ne)))/ne:Math.round(V)},u.geom={},u.geom.hull=function(V){var ne=or,ce=An;if(arguments.length)return _e(V);function _e(Ae){if(Ae.length<3)return[];var Fe,We=Wn(ne),Ye=Wn(ce),Je=Ae.length,tt=[],lt=[];for(Fe=0;Fe<Je;Fe++)tt.push([+We.call(this,Ae[Fe],Fe),+Ye.call(this,Ae[Fe],Fe),Fe]);for(tt.sort(Xn),Fe=0;Fe<Je;Fe++)lt.push([tt[Fe][0],-tt[Fe][1]]);var yt=$n(tt),wt=$n(lt),zt=wt[0]===yt[0],Ut=wt[wt.length-1]===yt[yt.length-1],Nt=[];for(Fe=yt.length-1;Fe>=0;--Fe)Nt.push(Ae[tt[yt[Fe]][2]]);for(Fe=+zt;Fe<wt.length-Ut;++Fe)Nt.push(Ae[tt[wt[Fe]][2]]);return Nt}return _e.x=function(Ae){return arguments.length?(ne=Ae,_e):ne},_e.y=function(Ae){return arguments.length?(ce=Ae,_e):ce},_e},u.geom.polygon=function(V){return oe(V,Kt),V};var Kt=u.geom.polygon.prototype=[];function Rn(V,ne,ce){return(ce[0]-ne[0])*(V[1]-ne[1])<(ce[1]-ne[1])*(V[0]-ne[0])}function Ft(V,ne,ce,_e){var Ae=V[0],Fe=ce[0],We=ne[0]-Ae,Ye=_e[0]-Fe,Je=V[1],tt=ce[1],lt=ne[1]-Je,yt=_e[1]-tt,wt=(Ye*(Je-tt)-yt*(Ae-Fe))/(yt*We-Ye*lt);return[Ae+wt*We,Je+wt*lt]}function on(V){var ne=V[0],ce=V[V.length-1];return!(ne[0]-ce[0]||ne[1]-ce[1])}Kt.area=function(){for(var V,ne=-1,ce=this.length,_e=this[ce-1],Ae=0;++ne<ce;)Ae+=(V=_e)[1]*(_e=this[ne])[0]-V[0]*_e[1];return.5*Ae},Kt.centroid=function(V){var ne,ce,_e=-1,Ae=this.length,Fe=0,We=0,Ye=this[Ae-1];for(arguments.length||(V=-1/(6*this.area()));++_e<Ae;)Fe+=((ne=Ye)[0]+(Ye=this[_e])[0])*(ce=ne[0]*Ye[1]-Ye[0]*ne[1]),We+=(ne[1]+Ye[1])*ce;return[Fe*V,We*V]},Kt.clip=function(V){for(var ne,ce,_e,Ae,Fe,We,Ye=on(V),Je=-1,tt=this.length-on(this),lt=this[tt-1];++Je<tt;){for(ne=V.slice(),V.length=0,Ae=this[Je],Fe=ne[(_e=ne.length-Ye)-1],ce=-1;++ce<_e;)Rn(We=ne[ce],lt,Ae)?(Rn(Fe,lt,Ae)||V.push(Ft(Fe,We,lt,Ae)),V.push(We)):Rn(Fe,lt,Ae)&&V.push(Ft(Fe,We,lt,Ae)),Fe=We;Ye&&V.push(V[0]),lt=Ae}return V};var fn,Sn,Ln,jn,bn,sn=[],un=[];function xn(){fo(this),this.edge=this.site=this.circle=null}function _n(V){var ne=sn.pop()||new xn;return ne.site=V,ne}function Vn(V){Dr(V),Ln.remove(V),sn.push(V),fo(V)}function Gn(V){var ne=V.circle,ce=ne.x,_e=ne.cy,Ae={x:ce,y:_e},Fe=V.P,We=V.N,Ye=[V];Vn(V);for(var Je=Fe;Je.circle&&_(ce-Je.circle.x)<Ct&&_(_e-Je.circle.cy)<Ct;)Fe=Je.P,Ye.unshift(Je),Vn(Je),Je=Fe;Ye.unshift(Je),Dr(Je);for(var tt=We;tt.circle&&_(ce-tt.circle.x)<Ct&&_(_e-tt.circle.cy)<Ct;)We=tt.N,Ye.push(tt),Vn(tt),tt=We;Ye.push(tt),Dr(tt);var lt,yt=Ye.length;for(lt=1;lt<yt;++lt)Or((tt=Ye[lt]).edge,(Je=Ye[lt-1]).site,tt.site,Ae);(tt=Ye[yt-1]).edge=sr((Je=Ye[0]).site,tt.site,null,Ae),Mr(Je),Mr(tt)}function rr(V){for(var ne,ce,_e,Ae,Fe=V.x,We=V.y,Ye=Ln._;Ye;)if((_e=Jn(Ye,We)-Fe)>Ct)Ye=Ye.L;else{if(!((Ae=Fe-mr(Ye,We))>Ct)){_e>-Ct?(ne=Ye.P,ce=Ye):Ae>-Ct?(ne=Ye,ce=Ye.N):ne=ce=Ye;break}if(!Ye.R){ne=Ye;break}Ye=Ye.R}var Je=_n(V);if(Ln.insert(ne,Je),ne||ce){if(ne===ce)return Dr(ne),ce=_n(ne.site),Ln.insert(Je,ce),Je.edge=ce.edge=sr(ne.site,Je.site),Mr(ne),void Mr(ce);if(ce){Dr(ne),Dr(ce);var tt=ne.site,lt=tt.x,yt=tt.y,wt=V.x-lt,zt=V.y-yt,Ut=ce.site,Nt=Ut.x-lt,$t=Ut.y-yt,Bt=2*(wt*$t-zt*Nt),pn=wt*wt+zt*zt,an=Nt*Nt+$t*$t,en={x:($t*pn-zt*an)/Bt+lt,y:(wt*an-Nt*pn)/Bt+yt};Or(ce.edge,tt,Ut,en),Je.edge=sr(tt,V,null,en),ce.edge=sr(V,Ut,null,en),Mr(ne),Mr(ce)}else Je.edge=sr(ne.site,Je.site)}}function Jn(V,ne){var ce=V.site,_e=ce.x,Ae=ce.y,Fe=Ae-ne;if(!Fe)return _e;var We=V.P;if(!We)return-1/0;var Ye=(ce=We.site).x,Je=ce.y,tt=Je-ne;if(!tt)return Ye;var lt=Ye-_e,yt=1/Fe-1/tt,wt=lt/tt;return yt?(-wt+Math.sqrt(wt*wt-2*yt*(lt*lt/(-2*tt)-Je+tt/2+Ae-Fe/2)))/yt+_e:(_e+Ye)/2}function mr(V,ne){var ce=V.N;if(ce)return Jn(ce,ne);var _e=V.site;return _e.y===ne?_e.x:1/0}function er(V){this.site=V,this.edges=[]}function ur(V,ne){return ne.angle-V.angle}function Tr(){fo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Mr(V){var ne=V.P,ce=V.N;if(ne&&ce){var _e=ne.site,Ae=V.site,Fe=ce.site;if(_e!==Fe){var We=Ae.x,Ye=Ae.y,Je=_e.x-We,tt=_e.y-Ye,lt=Fe.x-We,yt=2*(Je*($t=Fe.y-Ye)-tt*lt);if(!(yt>=-Ot)){var wt=Je*Je+tt*tt,zt=lt*lt+$t*$t,Ut=($t*wt-tt*zt)/yt,Nt=(Je*zt-lt*wt)/yt,$t=Nt+Ye,Bt=un.pop()||new Tr;Bt.arc=V,Bt.site=Ae,Bt.x=Ut+We,Bt.y=$t+Math.sqrt(Ut*Ut+Nt*Nt),Bt.cy=$t,V.circle=Bt;for(var pn=null,an=bn._;an;)if(Bt.y<an.y||Bt.y===an.y&&Bt.x<=an.x){if(!an.L){pn=an.P;break}an=an.L}else{if(!an.R){pn=an;break}an=an.R}bn.insert(pn,Bt),pn||(jn=Bt)}}}}function Dr(V){var ne=V.circle;ne&&(ne.P||(jn=ne.N),bn.remove(ne),un.push(ne),fo(ne),V.circle=null)}function lr(V,ne){var ce=V.b;if(ce)return!0;var _e,Ae,Fe=V.a,We=ne[0][0],Ye=ne[1][0],Je=ne[0][1],tt=ne[1][1],lt=V.l,yt=V.r,wt=lt.x,zt=lt.y,Ut=yt.x,Nt=yt.y,$t=(wt+Ut)/2;if(Nt===zt){if($t<We||$t>=Ye)return;if(wt>Ut){if(Fe){if(Fe.y>=tt)return}else Fe={x:$t,y:Je};ce={x:$t,y:tt}}else{if(Fe){if(Fe.y<Je)return}else Fe={x:$t,y:tt};ce={x:$t,y:Je}}}else if(Ae=(zt+Nt)/2-(_e=(wt-Ut)/(Nt-zt))*$t,_e<-1||_e>1)if(wt>Ut){if(Fe){if(Fe.y>=tt)return}else Fe={x:(Je-Ae)/_e,y:Je};ce={x:(tt-Ae)/_e,y:tt}}else{if(Fe){if(Fe.y<Je)return}else Fe={x:(tt-Ae)/_e,y:tt};ce={x:(Je-Ae)/_e,y:Je}}else if(zt<Nt){if(Fe){if(Fe.x>=Ye)return}else Fe={x:We,y:_e*We+Ae};ce={x:Ye,y:_e*Ye+Ae}}else{if(Fe){if(Fe.x<We)return}else Fe={x:Ye,y:_e*Ye+Ae};ce={x:We,y:_e*We+Ae}}return V.a=Fe,V.b=ce,!0}function Hr(V,ne){this.l=V,this.r=ne,this.a=this.b=null}function sr(V,ne,ce,_e){var Ae=new Hr(V,ne);return fn.push(Ae),ce&&Or(Ae,V,ne,ce),_e&&Or(Ae,ne,V,_e),Sn[V.i].edges.push(new Qr(Ae,V,ne)),Sn[ne.i].edges.push(new Qr(Ae,ne,V)),Ae}function Or(V,ne,ce,_e){V.a||V.b?V.l===ce?V.b=_e:V.a=_e:(V.a=_e,V.l=ne,V.r=ce)}function Qr(V,ne,ce){var _e=V.a,Ae=V.b;this.edge=V,this.site=ne,this.angle=ce?Math.atan2(ce.y-ne.y,ce.x-ne.x):V.l===ne?Math.atan2(Ae.x-_e.x,_e.y-Ae.y):Math.atan2(_e.x-Ae.x,Ae.y-_e.y)}function ji(){this._=null}function fo(V){V.U=V.C=V.L=V.R=V.P=V.N=null}function no(V,ne){var ce=ne,_e=ne.R,Ae=ce.U;Ae?Ae.L===ce?Ae.L=_e:Ae.R=_e:V._=_e,_e.U=Ae,ce.U=_e,ce.R=_e.L,ce.R&&(ce.R.U=ce),_e.L=ce}function ro(V,ne){var ce=ne,_e=ne.L,Ae=ce.U;Ae?Ae.L===ce?Ae.L=_e:Ae.R=_e:V._=_e,_e.U=Ae,ce.U=_e,ce.L=_e.R,ce.L&&(ce.L.U=ce),_e.R=ce}function Yi(V){for(;V.L;)V=V.L;return V}function To(V,ne){var ce,_e,Ae,Fe=V.sort(Ms).pop();for(fn=[],Sn=new Array(V.length),Ln=new ji,bn=new ji;;)if(Ae=jn,Fe&&(!Ae||Fe.y<Ae.y||Fe.y===Ae.y&&Fe.x<Ae.x))Fe.x===ce&&Fe.y===_e||(Sn[Fe.i]=new er(Fe),rr(Fe),ce=Fe.x,_e=Fe.y),Fe=V.pop();else{if(!Ae)break;Gn(Ae.arc)}ne&&(function(Ye){for(var Je,tt,lt,yt,wt,zt=fn,Ut=(tt=Ye[0][0],lt=Ye[0][1],yt=Ye[1][0],wt=Ye[1][1],function($t){var Bt,pn=$t.a,an=$t.b,en=pn.x,Dn=pn.y,In=0,Kn=1,Yn=an.x-en,ir=an.y-Dn;if(Bt=tt-en,Yn||!(Bt>0)){if(Bt/=Yn,Yn<0){if(Bt<In)return;Bt<Kn&&(Kn=Bt)}else if(Yn>0){if(Bt>Kn)return;Bt>In&&(In=Bt)}if(Bt=yt-en,Yn||!(Bt<0)){if(Bt/=Yn,Yn<0){if(Bt>Kn)return;Bt>In&&(In=Bt)}else if(Yn>0){if(Bt<In)return;Bt<Kn&&(Kn=Bt)}if(Bt=lt-Dn,ir||!(Bt>0)){if(Bt/=ir,ir<0){if(Bt<In)return;Bt<Kn&&(Kn=Bt)}else if(ir>0){if(Bt>Kn)return;Bt>In&&(In=Bt)}if(Bt=wt-Dn,ir||!(Bt<0)){if(Bt/=ir,ir<0){if(Bt>Kn)return;Bt>In&&(In=Bt)}else if(ir>0){if(Bt<In)return;Bt<Kn&&(Kn=Bt)}return In>0&&($t.a={x:en+In*Yn,y:Dn+In*ir}),Kn<1&&($t.b={x:en+Kn*Yn,y:Dn+Kn*ir}),$t}}}}}),Nt=zt.length;Nt--;)(!lr(Je=zt[Nt],Ye)||!Ut(Je)||_(Je.a.x-Je.b.x)<Ct&&_(Je.a.y-Je.b.y)<Ct)&&(Je.a=Je.b=null,zt.splice(Nt,1))}(ne),function(Ye){for(var Je,tt,lt,yt,wt,zt,Ut,Nt,$t,Bt,pn=Ye[0][0],an=Ye[1][0],en=Ye[0][1],Dn=Ye[1][1],In=Sn,Kn=In.length;Kn--;)if((wt=In[Kn])&&wt.prepare())for(Nt=(Ut=wt.edges).length,zt=0;zt<Nt;)lt=(Bt=Ut[zt].end()).x,yt=Bt.y,Je=($t=Ut[++zt%Nt].start()).x,tt=$t.y,(_(lt-Je)>Ct||_(yt-tt)>Ct)&&(Ut.splice(zt,0,new Qr((Yn=wt.site,ir=Bt,dr=_(lt-pn)<Ct&&Dn-yt>Ct?{x:pn,y:_(Je-pn)<Ct?tt:Dn}:_(yt-Dn)<Ct&&an-lt>Ct?{x:_(tt-Dn)<Ct?Je:an,y:Dn}:_(lt-an)<Ct&&yt-en>Ct?{x:an,y:_(Je-an)<Ct?tt:en}:_(yt-en)<Ct&&lt-pn>Ct?{x:_(tt-en)<Ct?Je:pn,y:en}:null,yr=void 0,(yr=new Hr(Yn,null)).a=ir,yr.b=dr,fn.push(yr),yr),wt.site,null)),++Nt);var Yn,ir,dr,yr}(ne));var We={cells:Sn,edges:fn};return Ln=bn=fn=Sn=null,We}function Ms(V,ne){return ne.y-V.y||ne.x-V.x}er.prototype.prepare=function(){for(var V,ne=this.edges,ce=ne.length;ce--;)(V=ne[ce].edge).b&&V.a||ne.splice(ce,1);return ne.sort(ur),ne.length},Qr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ji.prototype={insert:function(V,ne){var ce,_e,Ae;if(V){if(ne.P=V,ne.N=V.N,V.N&&(V.N.P=ne),V.N=ne,V.R){for(V=V.R;V.L;)V=V.L;V.L=ne}else V.R=ne;ce=V}else this._?(V=Yi(this._),ne.P=null,ne.N=V,V.P=V.L=ne,ce=V):(ne.P=ne.N=null,this._=ne,ce=null);for(ne.L=ne.R=null,ne.U=ce,ne.C=!0,V=ne;ce&&ce.C;)ce===(_e=ce.U).L?(Ae=_e.R)&&Ae.C?(ce.C=Ae.C=!1,_e.C=!0,V=_e):(V===ce.R&&(no(this,ce),ce=(V=ce).U),ce.C=!1,_e.C=!0,ro(this,_e)):(Ae=_e.L)&&Ae.C?(ce.C=Ae.C=!1,_e.C=!0,V=_e):(V===ce.L&&(ro(this,ce),ce=(V=ce).U),ce.C=!1,_e.C=!0,no(this,_e)),ce=V.U;this._.C=!1},remove:function(V){V.N&&(V.N.P=V.P),V.P&&(V.P.N=V.N),V.N=V.P=null;var ne,ce,_e,Ae=V.U,Fe=V.L,We=V.R;if(ce=Fe?We?Yi(We):Fe:We,Ae?Ae.L===V?Ae.L=ce:Ae.R=ce:this._=ce,Fe&&We?(_e=ce.C,ce.C=V.C,ce.L=Fe,Fe.U=ce,ce!==We?(Ae=ce.U,ce.U=V.U,Ae.L=V=ce.R,ce.R=We,We.U=ce):(ce.U=Ae,Ae=ce,V=ce.R)):(_e=V.C,V=ce),V&&(V.U=Ae),!_e)if(V&&V.C)V.C=!1;else{do{if(V===this._)break;if(V===Ae.L){if((ne=Ae.R).C&&(ne.C=!1,Ae.C=!0,no(this,Ae),ne=Ae.R),ne.L&&ne.L.C||ne.R&&ne.R.C){ne.R&&ne.R.C||(ne.L.C=!1,ne.C=!0,ro(this,ne),ne=Ae.R),ne.C=Ae.C,Ae.C=ne.R.C=!1,no(this,Ae),V=this._;break}}else if((ne=Ae.L).C&&(ne.C=!1,Ae.C=!0,ro(this,Ae),ne=Ae.L),ne.L&&ne.L.C||ne.R&&ne.R.C){ne.L&&ne.L.C||(ne.R.C=!1,ne.C=!0,no(this,ne),ne=Ae.L),ne.C=Ae.C,Ae.C=ne.L.C=!1,ro(this,Ae),V=this._;break}ne.C=!0,V=Ae,Ae=Ae.U}while(!V.C);V&&(V.C=!1)}}},u.geom.voronoi=function(V){var ne=or,ce=An,_e=ne,Ae=ce,Fe=$r;if(V)return We(V);function We(Je){var tt=new Array(Je.length),lt=Fe[0][0],yt=Fe[0][1],wt=Fe[1][0],zt=Fe[1][1];return To(Ye(Je),Fe).cells.forEach(function(Ut,Nt){var $t=Ut.edges,Bt=Ut.site;(tt[Nt]=$t.length?$t.map(function(pn){var an=pn.start();return[an.x,an.y]}):Bt.x>=lt&&Bt.x<=wt&&Bt.y>=yt&&Bt.y<=zt?[[lt,zt],[wt,zt],[wt,yt],[lt,yt]]:[]).point=Je[Nt]}),tt}function Ye(Je){return Je.map(function(tt,lt){return{x:Math.round(_e(tt,lt)/Ct)*Ct,y:Math.round(Ae(tt,lt)/Ct)*Ct,i:lt}})}return We.links=function(Je){return To(Ye(Je)).edges.filter(function(tt){return tt.l&&tt.r}).map(function(tt){return{source:Je[tt.l.i],target:Je[tt.r.i]}})},We.triangles=function(Je){var tt=[];return To(Ye(Je)).cells.forEach(function(lt,yt){for(var wt,zt,Ut,Nt,$t=lt.site,Bt=lt.edges.sort(ur),pn=-1,an=Bt.length,en=Bt[an-1].edge,Dn=en.l===$t?en.r:en.l;++pn<an;)wt=Dn,Dn=(en=Bt[pn].edge).l===$t?en.r:en.l,yt<wt.i&&yt<Dn.i&&((zt=$t).x-(Nt=Dn).x)*((Ut=wt).y-zt.y)-(zt.x-Ut.x)*(Nt.y-zt.y)<0&&tt.push([Je[yt],Je[wt.i],Je[Dn.i]])}),tt},We.x=function(Je){return arguments.length?(_e=Wn(ne=Je),We):ne},We.y=function(Je){return arguments.length?(Ae=Wn(ce=Je),We):ce},We.clipExtent=function(Je){return arguments.length?(Fe=Je??$r,We):Fe===$r?null:Fe},We.size=function(Je){return arguments.length?We.clipExtent(Je&&[[0,0],Je]):Fe===$r?null:Fe&&Fe[1]},We};var $r=[[-1e6,-1e6],[1e6,1e6]];function fs(V){return V.x}function gu(V){return V.y}function Vo(V,ne,ce,_e,Ae,Fe){if(!V(ne,ce,_e,Ae,Fe)){var We=.5*(ce+Ae),Ye=.5*(_e+Fe),Je=ne.nodes;Je[0]&&Vo(V,Je[0],ce,_e,We,Ye),Je[1]&&Vo(V,Je[1],We,_e,Ae,Ye),Je[2]&&Vo(V,Je[2],ce,Ye,We,Fe),Je[3]&&Vo(V,Je[3],We,Ye,Ae,Fe)}}function Sl(V,ne){V=u.rgb(V),ne=u.rgb(ne);var ce=V.r,_e=V.g,Ae=V.b,Fe=ne.r-ce,We=ne.g-_e,Ye=ne.b-Ae;return function(Je){return"#"+hn(Math.round(ce+Fe*Je))+hn(Math.round(_e+We*Je))+hn(Math.round(Ae+Ye*Je))}}function ec(V,ne){var ce,_e={},Ae={};for(ce in V)ce in ne?_e[ce]=La(V[ce],ne[ce]):Ae[ce]=V[ce];for(ce in ne)ce in V||(Ae[ce]=ne[ce]);return function(Fe){for(ce in _e)Ae[ce]=_e[ce](Fe);return Ae}}function Pi(V,ne){return V=+V,ne=+ne,function(ce){return V*(1-ce)+ne*ce}}function Tc(V,ne){var ce,_e,Ae,Fe=El.lastIndex=Cl.lastIndex=0,We=-1,Ye=[],Je=[];for(V+="",ne+="";(ce=El.exec(V))&&(_e=Cl.exec(ne));)(Ae=_e.index)>Fe&&(Ae=ne.slice(Fe,Ae),Ye[We]?Ye[We]+=Ae:Ye[++We]=Ae),(ce=ce[0])===(_e=_e[0])?Ye[We]?Ye[We]+=_e:Ye[++We]=_e:(Ye[++We]=null,Je.push({i:We,x:Pi(ce,_e)})),Fe=Cl.lastIndex;return Fe<ne.length&&(Ae=ne.slice(Fe),Ye[We]?Ye[We]+=Ae:Ye[++We]=Ae),Ye.length<2?Je[0]?(ne=Je[0].x,function(tt){return ne(tt)+""}):function(){return ne}:(ne=Je.length,function(tt){for(var lt,yt=0;yt<ne;++yt)Ye[(lt=Je[yt]).i]=lt.x(tt);return Ye.join("")})}u.geom.delaunay=function(V){return u.geom.voronoi().triangles(V)},u.geom.quadtree=function(V,ne,ce,_e,Ae){var Fe,We=or,Ye=An;if(Fe=arguments.length)return We=fs,Ye=gu,3===Fe&&(Ae=ce,_e=ne,ce=ne=0),Je(V);function Je(tt){var lt,yt,wt,zt,Ut,Nt,$t,Bt,pn,an=Wn(We),en=Wn(Ye);if(null!=ne)Nt=ne,$t=ce,Bt=_e,pn=Ae;else if(Bt=pn=-(Nt=$t=1/0),yt=[],wt=[],Ut=tt.length,Fe)for(zt=0;zt<Ut;++zt)(lt=tt[zt]).x<Nt&&(Nt=lt.x),lt.y<$t&&($t=lt.y),lt.x>Bt&&(Bt=lt.x),lt.y>pn&&(pn=lt.y),yt.push(lt.x),wt.push(lt.y);else for(zt=0;zt<Ut;++zt){var Dn=+an(lt=tt[zt],zt),In=+en(lt,zt);Dn<Nt&&(Nt=Dn),In<$t&&($t=In),Dn>Bt&&(Bt=Dn),In>pn&&(pn=In),yt.push(Dn),wt.push(In)}var Kn=Bt-Nt,Yn=pn-$t;function ir(kr,Cr,Lr,ni,Qn,wr,Er,jr){if(!isNaN(Lr)&&!isNaN(ni))if(kr.leaf){var Jr=kr.x,ci=kr.y;if(null!=Jr)if(_(Jr-Lr)+_(ci-ni)<.01)dr(kr,Cr,Lr,ni,Qn,wr,Er,jr);else{var bi=kr.point;kr.x=kr.y=kr.point=null,dr(kr,bi,Jr,ci,Qn,wr,Er,jr),dr(kr,Cr,Lr,ni,Qn,wr,Er,jr)}else kr.x=Lr,kr.y=ni,kr.point=Cr}else dr(kr,Cr,Lr,ni,Qn,wr,Er,jr)}function dr(kr,Cr,Lr,ni,Qn,wr,Er,jr){var Jr=.5*(Qn+Er),ci=.5*(wr+jr),bi=Lr>=Jr,Hi=ni>=ci,po=Hi<<1|bi;kr.leaf=!1,bi?Qn=Jr:Er=Jr,Hi?wr=ci:jr=ci,ir(kr=kr.nodes[po]||(kr.nodes[po]={leaf:!0,nodes:[],point:null,x:null,y:null}),Cr,Lr,ni,Qn,wr,Er,jr)}Kn>Yn?pn=$t+Kn:Bt=Nt+Yn;var yr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(kr){ir(yr,kr,+an(kr,++zt),+en(kr,zt),Nt,$t,Bt,pn)},visit:function(kr){Vo(kr,yr,Nt,$t,Bt,pn)},find:function(kr){return Lr=kr[0],ni=kr[1],ci=1/0,function bi(Hi,po,uo,Gi,Mo){if(!(po>Er||uo>jr||Gi<Qn||Mo<wr)){if(Ko=Hi.point){var Ko,Wr=Lr-Hi.x,Bo=ni-Hi.y,qi=Wr*Wr+Bo*Bo;if(qi<ci){var ki=Math.sqrt(ci=qi);Qn=Lr-ki,wr=ni-ki,Er=Lr+ki,jr=ni+ki,Jr=Ko}}for(var go=Hi.nodes,io=.5*(po+Gi),mo=.5*(uo+Mo),Yo=(ni>=mo)<<1|Lr>=io,Ao=Yo+4;Yo<Ao;++Yo)if(Hi=go[3&Yo])switch(3&Yo){case 0:bi(Hi,po,uo,io,mo);break;case 1:bi(Hi,io,uo,Gi,mo);break;case 2:bi(Hi,po,mo,io,Mo);break;case 3:bi(Hi,io,mo,Gi,Mo)}}}(yr,Qn=Nt,wr=$t,Er=Bt,jr=pn),Jr;var Lr,ni,Qn,wr,Er,jr,Jr,ci}};if(zt=-1,null==ne){for(;++zt<Ut;)ir(yr,tt[zt],yt[zt],wt[zt],Nt,$t,Bt,pn);--zt}else tt.forEach(yr.add);return yt=wt=tt=lt=null,yr}return Je.x=function(tt){return arguments.length?(We=tt,Je):We},Je.y=function(tt){return arguments.length?(Ye=tt,Je):Ye},Je.extent=function(tt){return arguments.length?(null==tt?ne=ce=_e=Ae=null:(ne=+tt[0][0],ce=+tt[0][1],_e=+tt[1][0],Ae=+tt[1][1]),Je):null==ne?null:[[ne,ce],[_e,Ae]]},Je.size=function(tt){return arguments.length?(null==tt?ne=ce=_e=Ae=null:(ne=ce=0,_e=+tt[0],Ae=+tt[1]),Je):null==ne?null:[_e-ne,Ae-ce]},Je},u.interpolateRgb=Sl,u.interpolateObject=ec,u.interpolateNumber=Pi,u.interpolateString=Tc;var El=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cl=new RegExp(El.source,"g");function La(V,ne){for(var ce,_e=u.interpolators.length;--_e>=0&&!(ce=u.interpolators[_e](V,ne)););return ce}function Eo(V,ne){var ce,_e=[],Ae=[],Fe=V.length,We=ne.length,Ye=Math.min(V.length,ne.length);for(ce=0;ce<Ye;++ce)_e.push(La(V[ce],ne[ce]));for(;ce<Fe;++ce)Ae[ce]=V[ce];for(;ce<We;++ce)Ae[ce]=ne[ce];return function(Je){for(ce=0;ce<Ye;++ce)Ae[ce]=_e[ce](Je);return Ae}}u.interpolate=La,u.interpolators=[function(V,ne){var ce=typeof ne;return("string"===ce?On.has(ne.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(ne)?Sl:Tc:ne instanceof ct?Sl:Array.isArray(ne)?Eo:"object"===ce&&isNaN(ne)?ec:Pi)(V,ne)}],u.interpolateArray=Eo;var Qs=function(){return N},Ui=u.map({linear:Qs,poly:function(V){return function(ne){return Math.pow(ne,V)}},quad:function(){return ba},cubic:function(){return el},sin:function(){return Bs},exp:function(){return ti},circle:function(){return Eu},elastic:function(V,ne){var ce;return arguments.length<2&&(ne=.45),arguments.length?ce=ne/Ht*Math.asin(1/V):(V=1,ce=ne/4),function(_e){return 1+V*Math.pow(2,-10*_e)*Math.sin((_e-ce)*Ht/ne)}},back:function(V){return V||(V=1.70158),function(ne){return ne*ne*((V+1)*ne-V)}},bounce:function(){return qr}}),As=u.map({in:N,out:Ha,"in-out":ks,"out-in":function(V){return ks(Ha(V))}});function Ha(V){return function(ne){return 1-V(1-ne)}}function ks(V){return function(ne){return.5*(ne<.5?V(2*ne):2-V(2-2*ne))}}function ba(V){return V*V}function el(V){return V*V*V}function _a(V){if(V<=0)return 0;if(V>=1)return 1;var ne=V*V,ce=ne*V;return 4*(V<.5?ce:3*(V-ne)+ce-.75)}function Bs(V){return 1-Math.cos(V*nt)}function ti(V){return Math.pow(2,10*(V-1))}function Eu(V){return 1-Math.sqrt(1-V*V)}function qr(V){return V<.36363636363636365?7.5625*V*V:V<.7272727272727273?7.5625*(V-=.5454545454545454)*V+.75:V<.9090909090909091?7.5625*(V-=.8181818181818182)*V+.9375:7.5625*(V-=.9545454545454546)*V+.984375}function $l(V,ne){return ne-=V,function(ce){return Math.round(V+ne*ce)}}function Xl(V){var ne,ce,_e,Ae=[V.a,V.b],Fe=[V.c,V.d],We=Cu(Ae),Ye=Dl(Ae,Fe),Je=Cu(((ne=Fe)[0]+=(_e=-Ye)*(ce=Ae)[0],ne[1]+=_e*ce[1],ne))||0;Ae[0]*Fe[1]<Fe[0]*Ae[1]&&(Ae[0]*=-1,Ae[1]*=-1,We*=-1,Ye*=-1),this.rotate=(We?Math.atan2(Ae[1],Ae[0]):Math.atan2(-Fe[0],Fe[1]))*Xe,this.translate=[V.e,V.f],this.scale=[We,Je],this.skew=Je?Math.atan2(Ye,Je)*Xe:0}function Dl(V,ne){return V[0]*ne[0]+V[1]*ne[1]}function Cu(V){var ne=Math.sqrt(Dl(V,V));return ne&&(V[0]/=ne,V[1]/=ne),ne}u.ease=function(V){var ne,ce=V.indexOf("-"),_e=ce>=0?V.slice(0,ce):V,Ae=ce>=0?V.slice(ce+1):"in";return _e=Ui.get(_e)||Qs,Ae=As.get(Ae)||N,ne=Ae(_e.apply(null,A.call(arguments,1))),function(Fe){return Fe<=0?0:Fe>=1?1:ne(Fe)}},u.interpolateHcl=function(V,ne){V=u.hcl(V),ne=u.hcl(ne);var ce=V.h,_e=V.c,Ae=V.l,Fe=ne.h-ce,We=ne.c-_e,Ye=ne.l-Ae;return isNaN(We)&&(We=0,_e=isNaN(_e)?ne.c:_e),isNaN(Fe)?(Fe=0,ce=isNaN(ce)?ne.h:ce):Fe>180?Fe-=360:Fe<-180&&(Fe+=360),function(Je){return xt(ce+Fe*Je,_e+We*Je,Ae+Ye*Je)+""}},u.interpolateHsl=function(V,ne){V=u.hsl(V),ne=u.hsl(ne);var ce=V.h,_e=V.s,Ae=V.l,Fe=ne.h-ce,We=ne.s-_e,Ye=ne.l-Ae;return isNaN(We)&&(We=0,_e=isNaN(_e)?ne.s:_e),isNaN(Fe)?(Fe=0,ce=isNaN(ce)?ne.h:ce):Fe>180?Fe-=360:Fe<-180&&(Fe+=360),function(Je){return At(ce+Fe*Je,_e+We*Je,Ae+Ye*Je)+""}},u.interpolateLab=function(V,ne){V=u.lab(V),ne=u.lab(ne);var ce=V.l,_e=V.a,Ae=V.b,Fe=ne.l-ce,We=ne.a-_e,Ye=ne.b-Ae;return function(Je){return nn(ce+Fe*Je,_e+We*Je,Ae+Ye*Je)+""}},u.interpolateRound=$l,u.transform=function(V){var ne=m.createElementNS(u.ns.prefix.svg,"g");return(u.transform=function(ce){if(null!=ce){ne.setAttribute("transform",ce);var _e=ne.transform.baseVal.consolidate()}return new Xl(_e?_e.matrix:tc)})(V)},Xl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var tc={a:1,b:0,c:0,d:1,e:0,f:0};function Il(V){return V.length?V.pop()+",":""}function wa(V,ne){var Ae,Fe,We,ce=[],_e=[];return V=u.transform(V),ne=u.transform(ne),function(Ae,Fe,We,Ye){if(Ae[0]!==Fe[0]||Ae[1]!==Fe[1]){var Je=We.push("translate(",null,",",null,")");Ye.push({i:Je-4,x:Pi(Ae[0],Fe[0])},{i:Je-2,x:Pi(Ae[1],Fe[1])})}else(Fe[0]||Fe[1])&&We.push("translate("+Fe+")")}(V.translate,ne.translate,ce,_e),We=ce,(Ae=V.rotate)!==(Fe=ne.rotate)?(Ae-Fe>180?Fe+=360:Fe-Ae>180&&(Ae+=360),_e.push({i:We.push(Il(We)+"rotate(",null,")")-2,x:Pi(Ae,Fe)})):Fe&&We.push(Il(We)+"rotate("+Fe+")"),function(Ae,Fe,We,Ye){Ae!==Fe?Ye.push({i:We.push(Il(We)+"skewX(",null,")")-2,x:Pi(Ae,Fe)}):Fe&&We.push(Il(We)+"skewX("+Fe+")")}(V.skew,ne.skew,ce,_e),function(Ae,Fe,We,Ye){if(Ae[0]!==Fe[0]||Ae[1]!==Fe[1]){var Je=We.push(Il(We)+"scale(",null,",",null,")");Ye.push({i:Je-4,x:Pi(Ae[0],Fe[0])},{i:Je-2,x:Pi(Ae[1],Fe[1])})}else 1===Fe[0]&&1===Fe[1]||We.push(Il(We)+"scale("+Fe+")")}(V.scale,ne.scale,ce,_e),V=ne=null,function(Ae){for(var Fe,We=-1,Ye=_e.length;++We<Ye;)ce[(Fe=_e[We]).i]=Fe.x(Ae);return ce.join("")}}function Ta(V,ne){return ne=(ne-=V=+V)||1/ne,function(ce){return(ce-V)/ne}}function Jo(V,ne){return ne=(ne-=V=+V)||1/ne,function(ce){return Math.max(0,Math.min(1,(ce-V)/ne))}}function Ga(V){for(var ne=V.source,ce=V.target,_e=function(We,Ye){if(We===Ye)return We;for(var Je=Fi(We),tt=Fi(Ye),lt=Je.pop(),yt=tt.pop(),wt=null;lt===yt;)wt=lt,lt=Je.pop(),yt=tt.pop();return wt}(ne,ce),Ae=[ne];ne!==_e;)Ae.push(ne=ne.parent);for(var Fe=Ae.length;ce!==_e;)Ae.splice(Fe,0,ce),ce=ce.parent;return Ae}function Fi(V){for(var ne=[],ce=V.parent;null!=ce;)ne.push(V),V=ce,ce=ce.parent;return ne.push(V),ne}function Ll(V){V.fixed|=2}function Pa(V){V.fixed&=-7}function js(V){V.fixed|=4,V.px=V.x,V.py=V.y}function hs(V){V.fixed&=-5}function ia(V,ne,ce){var _e=0,Ae=0;if(V.charge=0,!V.leaf)for(var Fe,We=V.nodes,Ye=We.length,Je=-1;++Je<Ye;)null!=(Fe=We[Je])&&(ia(Fe,ne,ce),V.charge+=Fe.charge,_e+=Fe.charge*Fe.cx,Ae+=Fe.charge*Fe.cy);if(V.point){V.leaf||(V.point.x+=Math.random()-.5,V.point.y+=Math.random()-.5);var tt=ne*ce[V.point.index];V.charge+=V.pointCharge=tt,_e+=tt*V.point.x,Ae+=tt*V.point.y}V.cx=_e/V.charge,V.cy=Ae/V.charge}u.interpolateTransform=wa,u.layout={},u.layout.bundle=function(){return function(V){for(var ne=[],ce=-1,_e=V.length;++ce<_e;)ne.push(Ga(V[ce]));return ne}},u.layout.chord=function(){var V,ne,ce,_e,Ae,Fe,We,Ye={},Je=0;function tt(){var yt,wt,zt,Ut,Nt,$t={},Bt=[],pn=u.range(_e),an=[];for(V=[],ne=[],yt=0,Ut=-1;++Ut<_e;){for(wt=0,Nt=-1;++Nt<_e;)wt+=ce[Ut][Nt];Bt.push(wt),an.push(u.range(_e)),yt+=wt}for(Ae&&pn.sort(function(yr,kr){return Ae(Bt[yr],Bt[kr])}),Fe&&an.forEach(function(yr,kr){yr.sort(function(Cr,Lr){return Fe(ce[kr][Cr],ce[kr][Lr])})}),yt=(Ht-Je*_e)/yt,wt=0,Ut=-1;++Ut<_e;){for(zt=wt,Nt=-1;++Nt<_e;){var en=pn[Ut],Dn=an[en][Nt],In=ce[en][Dn],Kn=wt,Yn=wt+=In*yt;$t[en+"-"+Dn]={index:en,subindex:Dn,startAngle:Kn,endAngle:Yn,value:In}}ne[en]={index:en,startAngle:zt,endAngle:wt,value:Bt[en]},wt+=Je}for(Ut=-1;++Ut<_e;)for(Nt=Ut-1;++Nt<_e;){var ir=$t[Ut+"-"+Nt],dr=$t[Nt+"-"+Ut];(ir.value||dr.value)&&V.push(ir.value<dr.value?{source:dr,target:ir}:{source:ir,target:dr})}We&&lt()}function lt(){V.sort(function(yt,wt){return We((yt.source.value+yt.target.value)/2,(wt.source.value+wt.target.value)/2)})}return Ye.matrix=function(yt){return arguments.length?(_e=(ce=yt)&&ce.length,V=ne=null,Ye):ce},Ye.padding=function(yt){return arguments.length?(Je=yt,V=ne=null,Ye):Je},Ye.sortGroups=function(yt){return arguments.length?(Ae=yt,V=ne=null,Ye):Ae},Ye.sortSubgroups=function(yt){return arguments.length?(Fe=yt,V=null,Ye):Fe},Ye.sortChords=function(yt){return arguments.length?(We=yt,V&&lt(),Ye):We},Ye.chords=function(){return V||tt(),V},Ye.groups=function(){return ne||tt(),ne},Ye},u.layout.force=function(){var V,ne,ce,_e,Ae,Fe,We={},Ye=u.dispatch("start","tick","end"),Je=[1,1],tt=.9,lt=Pl,yt=Us,wt=-30,zt=Ki,Ut=.1,Nt=.64,$t=[],Bt=[];function pn(en){return function(Dn,In,Kn,Yn){if(Dn.point!==en){var ir=Dn.cx-en.x,dr=Dn.cy-en.y,yr=Yn-In,kr=ir*ir+dr*dr;if(yr*yr/Nt<kr){if(kr<zt){var Cr=Dn.charge/kr;en.px-=ir*Cr,en.py-=dr*Cr}return!0}Dn.point&&kr&&kr<zt&&(en.px-=ir*(Cr=Dn.pointCharge/kr),en.py-=dr*Cr)}return!Dn.charge}}function an(en){en.px=u.event.x,en.py=u.event.y,We.resume()}return We.tick=function(){if((ce*=.99)<.005)return V=null,Ye.end({type:"end",alpha:ce=0}),!0;var en,Dn,In,Kn,Yn,ir,dr,yr,kr,Cr=$t.length,Lr=Bt.length;for(Dn=0;Dn<Lr;++Dn)Kn=(In=Bt[Dn]).source,(ir=(yr=(Yn=In.target).x-Kn.x)*yr+(kr=Yn.y-Kn.y)*kr)&&(yr*=ir=ce*Ae[Dn]*((ir=Math.sqrt(ir))-_e[Dn])/ir,kr*=ir,Yn.x-=yr*(dr=Kn.weight+Yn.weight?Kn.weight/(Kn.weight+Yn.weight):.5),Yn.y-=kr*dr,Kn.x+=yr*(dr=1-dr),Kn.y+=kr*dr);if((dr=ce*Ut)&&(yr=Je[0]/2,kr=Je[1]/2,Dn=-1,dr))for(;++Dn<Cr;)(In=$t[Dn]).x+=(yr-In.x)*dr,In.y+=(kr-In.y)*dr;if(wt)for(ia(en=u.geom.quadtree($t),ce,Fe),Dn=-1;++Dn<Cr;)(In=$t[Dn]).fixed||en.visit(pn(In));for(Dn=-1;++Dn<Cr;)(In=$t[Dn]).fixed?(In.x=In.px,In.y=In.py):(In.x-=(In.px-(In.px=In.x))*tt,In.y-=(In.py-(In.py=In.y))*tt);Ye.tick({type:"tick",alpha:ce})},We.nodes=function(en){return arguments.length?($t=en,We):$t},We.links=function(en){return arguments.length?(Bt=en,We):Bt},We.size=function(en){return arguments.length?(Je=en,We):Je},We.linkDistance=function(en){return arguments.length?(lt="function"==typeof en?en:+en,We):lt},We.distance=We.linkDistance,We.linkStrength=function(en){return arguments.length?(yt="function"==typeof en?en:+en,We):yt},We.friction=function(en){return arguments.length?(tt=+en,We):tt},We.charge=function(en){return arguments.length?(wt="function"==typeof en?en:+en,We):wt},We.chargeDistance=function(en){return arguments.length?(zt=en*en,We):Math.sqrt(zt)},We.gravity=function(en){return arguments.length?(Ut=+en,We):Ut},We.theta=function(en){return arguments.length?(Nt=en*en,We):Math.sqrt(Nt)},We.alpha=function(en){return arguments.length?(en=+en,ce?en>0?ce=en:(V.c=null,V.t=NaN,V=null,Ye.end({type:"end",alpha:ce=0})):en>0&&(Ye.start({type:"start",alpha:ce=en}),V=rn(We.tick)),We):ce},We.start=function(){var en,Dn,In,Kn=$t.length,Yn=Bt.length,ir=Je[0],dr=Je[1];for(en=0;en<Kn;++en)(In=$t[en]).index=en,In.weight=0;for(en=0;en<Yn;++en)"number"==typeof(In=Bt[en]).source&&(In.source=$t[In.source]),"number"==typeof In.target&&(In.target=$t[In.target]),++In.source.weight,++In.target.weight;for(en=0;en<Kn;++en)In=$t[en],isNaN(In.x)&&(In.x=yr("x",ir)),isNaN(In.y)&&(In.y=yr("y",dr)),isNaN(In.px)&&(In.px=In.x),isNaN(In.py)&&(In.py=In.y);if(_e=[],"function"==typeof lt)for(en=0;en<Yn;++en)_e[en]=+lt.call(this,Bt[en],en);else for(en=0;en<Yn;++en)_e[en]=lt;if(Ae=[],"function"==typeof yt)for(en=0;en<Yn;++en)Ae[en]=+yt.call(this,Bt[en],en);else for(en=0;en<Yn;++en)Ae[en]=yt;if(Fe=[],"function"==typeof wt)for(en=0;en<Kn;++en)Fe[en]=+wt.call(this,$t[en],en);else for(en=0;en<Kn;++en)Fe[en]=wt;function yr(kr,Cr){if(!Dn){for(Dn=new Array(Kn),wr=0;wr<Kn;++wr)Dn[wr]=[];for(wr=0;wr<Yn;++wr){var Lr=Bt[wr];Dn[Lr.source.index].push(Lr.target),Dn[Lr.target.index].push(Lr.source)}}for(var ni,Qn=Dn[en],wr=-1,Er=Qn.length;++wr<Er;)if(!isNaN(ni=Qn[wr][kr]))return ni;return Math.random()*Cr}return We.resume()},We.resume=function(){return We.alpha(.1)},We.stop=function(){return We.alpha(0)},We.drag=function(){if(ne||(ne=u.behavior.drag().origin(N).on("dragstart.force",Ll).on("drag.force",an).on("dragend.force",Pa)),!arguments.length)return ne;this.on("mouseover.force",js).on("mouseout.force",hs).call(ne)},u.rebind(We,Ye,"on")};var Pl=20,Us=1,Ki=1/0;function qa(V,ne){return u.rebind(V,ne,"sort","children","value"),V.nodes=V,V.links=rc,V}function Ol(V,ne){for(var ce=[V];null!=(V=ce.pop());)if(ne(V),(Ae=V.children)&&(_e=Ae.length))for(var _e,Ae;--_e>=0;)ce.push(Ae[_e])}function Wa(V,ne){for(var ce=[V],_e=[];null!=(V=ce.pop());)if(_e.push(V),(Fe=V.children)&&(Ae=Fe.length))for(var Ae,Fe,We=-1;++We<Ae;)ce.push(Fe[We]);for(;null!=(V=_e.pop());)ne(V)}function ds(V){return V.children}function nc(V){return V.value}function Kl(V,ne){return ne.value-V.value}function rc(V){return u.merge(V.map(function(ne){return(ne.children||[]).map(function(ce){return{source:ne,target:ce}})}))}u.layout.hierarchy=function(){var V=Kl,ne=ds,ce=nc;function _e(Ae){var Fe,We=[Ae],Ye=[];for(Ae.depth=0;null!=(Fe=We.pop());)if(Ye.push(Fe),(tt=ne.call(_e,Fe,Fe.depth))&&(Je=tt.length)){for(var Je,tt,lt;--Je>=0;)We.push(lt=tt[Je]),lt.parent=Fe,lt.depth=Fe.depth+1;ce&&(Fe.value=0),Fe.children=tt}else ce&&(Fe.value=+ce.call(_e,Fe,Fe.depth)||0),delete Fe.children;return Wa(Ae,function(yt){var wt,zt;V&&(wt=yt.children)&&wt.sort(V),ce&&(zt=yt.parent)&&(zt.value+=yt.value)}),Ye}return _e.sort=function(Ae){return arguments.length?(V=Ae,_e):V},_e.children=function(Ae){return arguments.length?(ne=Ae,_e):ne},_e.value=function(Ae){return arguments.length?(ce=Ae,_e):ce},_e.revalue=function(Ae){return ce&&(Ol(Ae,function(Fe){Fe.children&&(Fe.value=0)}),Wa(Ae,function(Fe){var We;Fe.children||(Fe.value=+ce.call(_e,Fe,Fe.depth)||0),(We=Fe.parent)&&(We.value+=Fe.value)})),Ae},_e},u.layout.partition=function(){var V=u.layout.hierarchy(),ne=[1,1];function ce(Fe,We,Ye,Je){var tt=Fe.children;if(Fe.x=We,Fe.y=Fe.depth*Je,Fe.dx=Ye,Fe.dy=Je,tt&&(lt=tt.length)){var lt,yt,wt,zt=-1;for(Ye=Fe.value?Ye/Fe.value:0;++zt<lt;)ce(yt=tt[zt],We,wt=yt.value*Ye,Je),We+=wt}}function _e(Fe){var We=Fe.children,Ye=0;if(We&&(Je=We.length))for(var Je,tt=-1;++tt<Je;)Ye=Math.max(Ye,_e(We[tt]));return 1+Ye}function Ae(Fe,We){var Ye=V.call(this,Fe,We);return ce(Ye[0],0,ne[0],ne[1]/_e(Ye[0])),Ye}return Ae.size=function(Fe){return arguments.length?(ne=Fe,Ae):ne},qa(Ae,V)},u.layout.pie=function(){var V=Number,ne=Du,ce=0,_e=Ht,Ae=0;function Fe(We){var Ye,Je=We.length,tt=We.map(function(pn,an){return+V.call(Fe,pn,an)}),lt=+("function"==typeof ce?ce.apply(this,arguments):ce),yt=("function"==typeof _e?_e.apply(this,arguments):_e)-lt,wt=Math.min(Math.abs(yt)/Je,+("function"==typeof Ae?Ae.apply(this,arguments):Ae)),zt=wt*(yt<0?-1:1),Ut=u.sum(tt),Nt=Ut?(yt-Je*zt)/Ut:0,$t=u.range(Je),Bt=[];return null!=ne&&$t.sort(ne===Du?function(pn,an){return tt[an]-tt[pn]}:function(pn,an){return ne(We[pn],We[an])}),$t.forEach(function(pn){Bt[pn]={data:We[pn],value:Ye=tt[pn],startAngle:lt,endAngle:lt+=Ye*Nt+zt,padAngle:wt}}),Bt}return Fe.value=function(We){return arguments.length?(V=We,Fe):V},Fe.sort=function(We){return arguments.length?(ne=We,Fe):ne},Fe.startAngle=function(We){return arguments.length?(ce=We,Fe):ce},Fe.endAngle=function(We){return arguments.length?(_e=We,Fe):_e},Fe.padAngle=function(We){return arguments.length?(Ae=We,Fe):Ae},Fe};var Du={};function Jl(V){return V.x}function Rl(V){return V.y}function Ea(V,ne,ce){V.y0=ne,V.y=ce}u.layout.stack=function(){var V=N,ne=nl,ce=Vs,_e=Ea,Ae=Jl,Fe=Rl;function We(Ye,Je){if(!(wt=Ye.length))return Ye;var tt=Ye.map(function(pn,an){return V.call(We,pn,an)}),lt=tt.map(function(pn){return pn.map(function(an,en){return[Ae.call(We,an,en),Fe.call(We,an,en)]})}),yt=ne.call(We,lt,Je);tt=u.permute(tt,yt),lt=u.permute(lt,yt);var wt,zt,Ut,Nt,$t=ce.call(We,lt,Je),Bt=tt[0].length;for(Ut=0;Ut<Bt;++Ut)for(_e.call(We,tt[0][Ut],Nt=$t[Ut],lt[0][Ut][1]),zt=1;zt<wt;++zt)_e.call(We,tt[zt][Ut],Nt+=lt[zt-1][Ut][1],lt[zt][Ut][1]);return Ye}return We.values=function(Ye){return arguments.length?(V=Ye,We):V},We.order=function(Ye){return arguments.length?(ne="function"==typeof Ye?Ye:tl.get(Ye)||nl,We):ne},We.offset=function(Ye){return arguments.length?(ce="function"==typeof Ye?Ye:Ss.get(Ye)||Vs,We):ce},We.x=function(Ye){return arguments.length?(Ae=Ye,We):Ae},We.y=function(Ye){return arguments.length?(Fe=Ye,We):Fe},We.out=function(Ye){return arguments.length?(_e=Ye,We):_e},We};var tl=u.map({"inside-out":function(V){var ne,ce,_e=V.length,Ae=V.map(mu),Fe=V.map(ps),We=u.range(_e).sort(function(yt,wt){return Ae[yt]-Ae[wt]}),Ye=0,Je=0,tt=[],lt=[];for(ne=0;ne<_e;++ne)ce=We[ne],Ye<Je?(Ye+=Fe[ce],tt.push(ce)):(Je+=Fe[ce],lt.push(ce));return lt.reverse().concat(tt)},reverse:function(V){return u.range(V.length).reverse()},default:nl}),Ss=u.map({silhouette:function(V){var ne,ce,_e,Ae=V.length,Fe=V[0].length,We=[],Ye=0,Je=[];for(ce=0;ce<Fe;++ce){for(ne=0,_e=0;ne<Ae;ne++)_e+=V[ne][ce][1];_e>Ye&&(Ye=_e),We.push(_e)}for(ce=0;ce<Fe;++ce)Je[ce]=(Ye-We[ce])/2;return Je},wiggle:function(V){var ne,ce,_e,Ae,Fe,We,Ye,Je,tt,lt=V.length,yt=V[0],wt=yt.length,zt=[];for(zt[0]=Je=tt=0,ce=1;ce<wt;++ce){for(ne=0,Ae=0;ne<lt;++ne)Ae+=V[ne][ce][1];for(ne=0,Fe=0,Ye=yt[ce][0]-yt[ce-1][0];ne<lt;++ne){for(_e=0,We=(V[ne][ce][1]-V[ne][ce-1][1])/(2*Ye);_e<ne;++_e)We+=(V[_e][ce][1]-V[_e][ce-1][1])/Ye;Fe+=We*V[ne][ce][1]}zt[ce]=Je-=Ae?Fe/Ae*Ye:0,Je<tt&&(tt=Je)}for(ce=0;ce<wt;++ce)zt[ce]-=tt;return zt},expand:function(V){var ne,ce,_e,Ae=V.length,Fe=V[0].length,We=1/Ae,Ye=[];for(ce=0;ce<Fe;++ce){for(ne=0,_e=0;ne<Ae;ne++)_e+=V[ne][ce][1];if(_e)for(ne=0;ne<Ae;ne++)V[ne][ce][1]/=_e;else for(ne=0;ne<Ae;ne++)V[ne][ce][1]=We}for(ce=0;ce<Fe;++ce)Ye[ce]=0;return Ye},zero:Vs});function nl(V){return u.range(V.length)}function Vs(V){for(var ne=-1,ce=V[0].length,_e=[];++ne<ce;)_e[ne]=0;return _e}function mu(V){for(var ne,ce=1,_e=0,Ae=V[0][1],Fe=V.length;ce<Fe;++ce)(ne=V[ce][1])>Ae&&(_e=ce,Ae=ne);return _e}function ps(V){return V.reduce(Iu,0)}function Iu(V,ne){return V+ne[1]}function ic(V,ne){return vu(V,Math.ceil(Math.log(ne.length)/Math.LN2+1))}function vu(V,ne){for(var ce=-1,_e=+V[0],Ae=(V[1]-_e)/ne,Fe=[];++ce<=ne;)Fe[ce]=Ae*ce+_e;return Fe}function rl(V){return[u.min(V),u.max(V)]}function Es(V,ne){return V.value-ne.value}function dl(V,ne){var ce=V._pack_next;V._pack_next=ne,ne._pack_prev=V,ne._pack_next=ce,ce._pack_prev=ne}function Lu(V,ne){V._pack_next=ne,ne._pack_prev=V}function Fl(V,ne){var ce=ne.x-V.x,_e=ne.y-V.y,Ae=V.r+ne.r;return.999*Ae*Ae>ce*ce+_e*_e}function oa(V){if((ne=V.children)&&(Je=ne.length)){var ne,ce,_e,Ae,Fe,We,Ye,Je,tt=1/0,lt=-1/0,yt=1/0,wt=-1/0;if(ne.forEach(Ql),(ce=ne[0]).x=-ce.r,ce.y=0,an(ce),Je>1&&((_e=ne[1]).x=_e.r,_e.y=0,an(_e),Je>2))for(No(ce,_e,Ae=ne[2]),an(Ae),dl(ce,Ae),ce._pack_prev=Ae,dl(Ae,_e),_e=ce._pack_next,Fe=3;Fe<Je;Fe++){No(ce,_e,Ae=ne[Fe]);var zt=0,Ut=1,Nt=1;for(We=_e._pack_next;We!==_e;We=We._pack_next,Ut++)if(Fl(We,Ae)){zt=1;break}if(1==zt)for(Ye=ce._pack_prev;Ye!==We._pack_prev&&!Fl(Ye,Ae);Ye=Ye._pack_prev,Nt++);zt?(Ut<Nt||Ut==Nt&&_e.r<ce.r?Lu(ce,_e=We):Lu(ce=Ye,_e),Fe--):(dl(ce,Ae),_e=Ae,an(Ae))}var $t=(tt+lt)/2,Bt=(yt+wt)/2,pn=0;for(Fe=0;Fe<Je;Fe++)(Ae=ne[Fe]).x-=$t,Ae.y-=Bt,pn=Math.max(pn,Ae.r+Math.sqrt(Ae.x*Ae.x+Ae.y*Ae.y));V.r=pn,ne.forEach(pl)}function an(en){tt=Math.min(en.x-en.r,tt),lt=Math.max(en.x+en.r,lt),yt=Math.min(en.y-en.r,yt),wt=Math.max(en.y+en.r,wt)}}function Ql(V){V._pack_next=V._pack_prev=V}function pl(V){delete V._pack_next,delete V._pack_prev}function yi(V,ne,ce,_e){var Ae=V.children;if(V.x=ne+=_e*V.x,V.y=ce+=_e*V.y,V.r*=_e,Ae)for(var Fe=-1,We=Ae.length;++Fe<We;)yi(Ae[Fe],ne,ce,_e)}function No(V,ne,ce){var _e=V.r+ce.r,Ae=ne.x-V.x,Fe=ne.y-V.y;if(_e&&(Ae||Fe)){var We=ne.r+ce.r,Ye=Ae*Ae+Fe*Fe,Je=.5+((_e*=_e)-(We*=We))/(2*Ye),tt=Math.sqrt(Math.max(0,2*We*(_e+Ye)-(_e-=Ye)*_e-We*We))/(2*Ye);ce.x=V.x+Je*Ae+tt*Fe,ce.y=V.y+Je*Fe-tt*Ae}else ce.x=V.x+_e,ce.y=V.y}function Ai(V,ne){return V.parent==ne.parent?1:2}function Ni(V){var ne=V.children;return ne.length?ne[0]:V.t}function fi(V){var ne,ce=V.children;return(ne=ce.length)?ce[ne-1]:V.t}function Si(V,ne,ce){var _e=ce/(ne.i-V.i);ne.c-=_e,ne.s+=ce,V.c+=_e,ne.z+=ce,ne.m+=ce}function Ho(V,ne,ce){return V.a.parent===ne.parent?V.a:ce}function Cs(V){var ne=V.children;return ne&&ne.length?Cs(ne[0]):V}function yu(V){var ne,ce=V.children;return ce&&(ne=ce.length)?yu(ce[ne-1]):V}function il(V){return{x:V.x,y:V.y,dx:V.dx,dy:V.dy}}function ol(V,ne){var ce=V.x+ne[3],_e=V.y+ne[0],Ae=V.dx-ne[1]-ne[3],Fe=V.dy-ne[0]-ne[2];return Ae<0&&(ce+=Ae/2,Ae=0),Fe<0&&(_e+=Fe/2,Fe=0),{x:ce,y:_e,dx:Ae,dy:Fe}}function eu(V){var ne=V[0],ce=V[V.length-1];return ne<ce?[ne,ce]:[ce,ne]}function ho(V){return V.rangeExtent?V.rangeExtent():eu(V.range())}function Ur(V,ne,ce,_e){var Ae=ce(V[0],V[1]),Fe=_e(ne[0],ne[1]);return function(We){return Fe(Ae(We))}}function li(V,ne){var ce,_e=0,Ae=V.length-1,Fe=V[_e],We=V[Ae];return We<Fe&&(ce=_e,_e=Ae,Ae=ce,ce=Fe,Fe=We,We=ce),V[_e]=ne.floor(Fe),V[Ae]=ne.ceil(We),V}function pi(V){return V?{floor:function(ne){return Math.floor(ne/V)*V},ceil:function(ne){return Math.ceil(ne/V)*V}}:aa}u.layout.histogram=function(){var V=!0,ne=Number,ce=rl,_e=ic;function Ae(Fe,We){for(var Ye,Je,tt=[],lt=Fe.map(ne,this),yt=ce.call(this,lt,We),wt=_e.call(this,yt,lt,We),zt=(We=-1,lt.length),Ut=wt.length-1,Nt=V?1:1/zt;++We<Ut;)(Ye=tt[We]=[]).dx=wt[We+1]-(Ye.x=wt[We]),Ye.y=0;if(Ut>0)for(We=-1;++We<zt;)(Je=lt[We])>=yt[0]&&Je<=yt[1]&&((Ye=tt[u.bisect(wt,Je,1,Ut)-1]).y+=Nt,Ye.push(Fe[We]));return tt}return Ae.value=function(Fe){return arguments.length?(ne=Fe,Ae):ne},Ae.range=function(Fe){return arguments.length?(ce=Wn(Fe),Ae):ce},Ae.bins=function(Fe){return arguments.length?(_e="number"==typeof Fe?function(We){return vu(We,Fe)}:Wn(Fe),Ae):_e},Ae.frequency=function(Fe){return arguments.length?(V=!!Fe,Ae):V},Ae},u.layout.pack=function(){var V,ne=u.layout.hierarchy().sort(Es),ce=0,_e=[1,1];function Ae(Fe,We){var Ye=ne.call(this,Fe,We),Je=Ye[0],tt=_e[0],lt=_e[1],yt=null==V?Math.sqrt:"function"==typeof V?V:function(){return V};if(Je.x=Je.y=0,Wa(Je,function(zt){zt.r=+yt(zt.value)}),Wa(Je,oa),ce){var wt=ce*(V?1:Math.max(2*Je.r/tt,2*Je.r/lt))/2;Wa(Je,function(zt){zt.r+=wt}),Wa(Je,oa),Wa(Je,function(zt){zt.r-=wt})}return yi(Je,tt/2,lt/2,V?1:1/Math.max(2*Je.r/tt,2*Je.r/lt)),Ye}return Ae.size=function(Fe){return arguments.length?(_e=Fe,Ae):_e},Ae.radius=function(Fe){return arguments.length?(V=null==Fe||"function"==typeof Fe?Fe:+Fe,Ae):V},Ae.padding=function(Fe){return arguments.length?(ce=+Fe,Ae):ce},qa(Ae,ne)},u.layout.tree=function(){var V=u.layout.hierarchy().sort(null).value(null),ne=Ai,ce=[1,1],_e=null;function Ae(Je,tt){var lt=V.call(this,Je,tt),yt=lt[0],wt=function(an){for(var en,Dn={A:null,children:[an]},In=[Dn];null!=(en=In.pop());)for(var Kn,Yn=en.children,ir=0,dr=Yn.length;ir<dr;++ir)In.push((Yn[ir]=Kn={_:Yn[ir],parent:en,children:(Kn=Yn[ir].children)&&Kn.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:ir}).a=Kn);return Dn.children[0]}(yt);if(Wa(wt,Fe),wt.parent.m=-wt.z,Ol(wt,We),_e)Ol(yt,Ye);else{var zt=yt,Ut=yt,Nt=yt;Ol(yt,function(an){an.x<zt.x&&(zt=an),an.x>Ut.x&&(Ut=an),an.depth>Nt.depth&&(Nt=an)});var $t=ne(zt,Ut)/2-zt.x,Bt=ce[0]/(Ut.x+ne(Ut,zt)/2+$t),pn=ce[1]/(Nt.depth||1);Ol(yt,function(an){an.x=(an.x+$t)*Bt,an.y=an.depth*pn})}return lt}function Fe(Je){var tt=Je.children,lt=Je.parent.children,yt=Je.i?lt[Je.i-1]:null;if(tt.length){!function(zt){for(var Ut,Nt=0,$t=0,Bt=zt.children,pn=Bt.length;--pn>=0;)(Ut=Bt[pn]).z+=Nt,Ut.m+=Nt,Nt+=Ut.s+($t+=Ut.c)}(Je);var wt=(tt[0].z+tt[tt.length-1].z)/2;yt?(Je.z=yt.z+ne(Je._,yt._),Je.m=Je.z-wt):Je.z=wt}else yt&&(Je.z=yt.z+ne(Je._,yt._));Je.parent.A=function(zt,Ut,Nt){if(Ut){for(var $t,Bt=zt,pn=zt,an=Ut,en=Bt.parent.children[0],Dn=Bt.m,In=pn.m,Kn=an.m,Yn=en.m;an=fi(an),Bt=Ni(Bt),an&&Bt;)en=Ni(en),(pn=fi(pn)).a=zt,($t=an.z+Kn-Bt.z-Dn+ne(an._,Bt._))>0&&(Si(Ho(an,zt,Nt),zt,$t),Dn+=$t,In+=$t),Kn+=an.m,Dn+=Bt.m,Yn+=en.m,In+=pn.m;an&&!fi(pn)&&(pn.t=an,pn.m+=Kn-In),Bt&&!Ni(en)&&(en.t=Bt,en.m+=Dn-Yn,Nt=zt)}return Nt}(Je,yt,Je.parent.A||lt[0])}function We(Je){Je._.x=Je.z+Je.parent.m,Je.m+=Je.parent.m}function Ye(Je){Je.x*=ce[0],Je.y=Je.depth*ce[1]}return Ae.separation=function(Je){return arguments.length?(ne=Je,Ae):ne},Ae.size=function(Je){return arguments.length?(_e=null==(ce=Je)?Ye:null,Ae):_e?null:ce},Ae.nodeSize=function(Je){return arguments.length?(_e=null==(ce=Je)?null:Ye,Ae):_e?ce:null},qa(Ae,V)},u.layout.cluster=function(){var V=u.layout.hierarchy().sort(null).value(null),ne=Ai,ce=[1,1],_e=!1;function Ae(Fe,We){var Ye,Je=V.call(this,Fe,We),tt=Je[0],lt=0;Wa(tt,function(Nt){var Bt,$t=Nt.children;$t&&$t.length?(Nt.x=(Bt=$t).reduce(function(pn,an){return pn+an.x},0)/Bt.length,Nt.y=function(Bt){return 1+u.max(Bt,function(pn){return pn.y})}($t)):(Nt.x=Ye?lt+=ne(Nt,Ye):0,Nt.y=0,Ye=Nt)});var yt=Cs(tt),wt=yu(tt),zt=yt.x-ne(yt,wt)/2,Ut=wt.x+ne(wt,yt)/2;return Wa(tt,_e?function(Nt){Nt.x=(Nt.x-tt.x)*ce[0],Nt.y=(tt.y-Nt.y)*ce[1]}:function(Nt){Nt.x=(Nt.x-zt)/(Ut-zt)*ce[0],Nt.y=(1-(tt.y?Nt.y/tt.y:1))*ce[1]}),Je}return Ae.separation=function(Fe){return arguments.length?(ne=Fe,Ae):ne},Ae.size=function(Fe){return arguments.length?(_e=null==(ce=Fe),Ae):_e?null:ce},Ae.nodeSize=function(Fe){return arguments.length?(_e=null!=(ce=Fe),Ae):_e?ce:null},qa(Ae,V)},u.layout.treemap=function(){var V,ne=u.layout.hierarchy(),ce=Math.round,_e=[1,1],Ae=null,Fe=il,We=!1,Ye="squarify",Je=.5*(1+Math.sqrt(5));function tt(Nt,$t){for(var Bt,pn,an=-1,en=Nt.length;++an<en;)pn=(Bt=Nt[an]).value*($t<0?0:$t),Bt.area=isNaN(pn)||pn<=0?0:pn}function lt(Nt){var $t=Nt.children;if($t&&$t.length){var Bt,pn,an,en=Fe(Nt),Dn=[],In=$t.slice(),Kn=1/0,Yn="slice"===Ye?en.dx:"dice"===Ye?en.dy:"slice-dice"===Ye?1&Nt.depth?en.dy:en.dx:Math.min(en.dx,en.dy);for(tt(In,en.dx*en.dy/Nt.value),Dn.area=0;(an=In.length)>0;)Dn.push(Bt=In[an-1]),Dn.area+=Bt.area,"squarify"!==Ye||(pn=wt(Dn,Yn))<=Kn?(In.pop(),Kn=pn):(Dn.area-=Dn.pop().area,zt(Dn,Yn,en,!1),Yn=Math.min(en.dx,en.dy),Dn.length=Dn.area=0,Kn=1/0);Dn.length&&(zt(Dn,Yn,en,!0),Dn.length=Dn.area=0),$t.forEach(lt)}}function yt(Nt){var $t=Nt.children;if($t&&$t.length){var Bt,pn=Fe(Nt),an=$t.slice(),en=[];for(tt(an,pn.dx*pn.dy/Nt.value),en.area=0;Bt=an.pop();)en.push(Bt),en.area+=Bt.area,null!=Bt.z&&(zt(en,Bt.z?pn.dx:pn.dy,pn,!an.length),en.length=en.area=0);$t.forEach(yt)}}function wt(Nt,$t){for(var Bt,pn=Nt.area,an=0,en=1/0,Dn=-1,In=Nt.length;++Dn<In;)(Bt=Nt[Dn].area)&&(Bt<en&&(en=Bt),Bt>an&&(an=Bt));return $t*=$t,(pn*=pn)?Math.max($t*an*Je/pn,pn/($t*en*Je)):1/0}function zt(Nt,$t,Bt,pn){var an,en=-1,Dn=Nt.length,In=Bt.x,Kn=Bt.y,Yn=$t?ce(Nt.area/$t):0;if($t==Bt.dx){for((pn||Yn>Bt.dy)&&(Yn=Bt.dy);++en<Dn;)(an=Nt[en]).x=In,an.y=Kn,an.dy=Yn,In+=an.dx=Math.min(Bt.x+Bt.dx-In,Yn?ce(an.area/Yn):0);an.z=!0,an.dx+=Bt.x+Bt.dx-In,Bt.y+=Yn,Bt.dy-=Yn}else{for((pn||Yn>Bt.dx)&&(Yn=Bt.dx);++en<Dn;)(an=Nt[en]).x=In,an.y=Kn,an.dx=Yn,Kn+=an.dy=Math.min(Bt.y+Bt.dy-Kn,Yn?ce(an.area/Yn):0);an.z=!1,an.dy+=Bt.y+Bt.dy-Kn,Bt.x+=Yn,Bt.dx-=Yn}}function Ut(Nt){var $t=V||ne(Nt),Bt=$t[0];return Bt.x=Bt.y=0,Bt.value?(Bt.dx=_e[0],Bt.dy=_e[1]):Bt.dx=Bt.dy=0,V&&ne.revalue(Bt),tt([Bt],Bt.dx*Bt.dy/Bt.value),(V?yt:lt)(Bt),We&&(V=$t),$t}return Ut.size=function(Nt){return arguments.length?(_e=Nt,Ut):_e},Ut.padding=function(Nt){if(!arguments.length)return Ae;var Bt;return Fe=null==(Ae=Nt)?il:"function"==(Bt=typeof Nt)?function(pn){var an=Nt.call(Ut,pn,pn.depth);return null==an?il(pn):ol(pn,"number"==typeof an?[an,an,an,an]:an)}:("number"===Bt&&(Nt=[Nt,Nt,Nt,Nt]),function $t(pn){return ol(pn,Nt)}),Ut},Ut.round=function(Nt){return arguments.length?(ce=Nt?Math.round:Number,Ut):ce!=Number},Ut.sticky=function(Nt){return arguments.length?(We=Nt,V=null,Ut):We},Ut.ratio=function(Nt){return arguments.length?(Je=Nt,Ut):Je},Ut.mode=function(Nt){return arguments.length?(Ye=Nt+"",Ut):Ye},qa(Ut,ne)},u.random={normal:function(V,ne){var ce=arguments.length;return ce<2&&(ne=1),ce<1&&(V=0),function(){var _e,Ae,Fe;do{Fe=(_e=2*Math.random()-1)*_e+(Ae=2*Math.random()-1)*Ae}while(!Fe||Fe>1);return V+ne*_e*Math.sqrt(-2*Math.log(Fe)/Fe)}},logNormal:function(){var V=u.random.normal.apply(u,arguments);return function(){return Math.exp(V())}},bates:function(V){var ne=u.random.irwinHall(V);return function(){return ne()/V}},irwinHall:function(V){return function(){for(var ne=0,ce=0;ce<V;ce++)ne+=Math.random();return ne}}},u.scale={};var aa={floor:N,ceil:N};function gs(V,ne,ce,_e){var Ae=[],Fe=[],We=0,Ye=Math.min(V.length,ne.length)-1;for(V[Ye]<V[0]&&(V=V.slice().reverse(),ne=ne.slice().reverse());++We<=Ye;)Ae.push(ce(V[We-1],V[We])),Fe.push(_e(ne[We-1],ne[We]));return function(Je){var tt=u.bisect(V,Je,1,Ye)-1;return Fe[tt](Ae[tt](Je))}}function Oi(V,ne,ce,_e){var Ae,Fe;function We(){var Je=Math.min(V.length,ne.length)>2?gs:Ur,tt=_e?Jo:Ta;return Ae=Je(V,ne,tt,ce),Fe=Je(ne,V,tt,La),Ye}function Ye(Je){return Ae(Je)}return Ye.invert=function(Je){return Fe(Je)},Ye.domain=function(Je){return arguments.length?(V=Je.map(Number),We()):V},Ye.range=function(Je){return arguments.length?(ne=Je,We()):ne},Ye.rangeRound=function(Je){return Ye.range(Je).interpolate($l)},Ye.clamp=function(Je){return arguments.length?(_e=Je,We()):_e},Ye.interpolate=function(Je){return arguments.length?(ce=Je,We()):ce},Ye.ticks=function(Je){return Lo(V,Je)},Ye.tickFormat=function(Je,tt){return d3_scale_linearTickFormat(V,Je,tt)},Ye.nice=function(Je){return Ci(V,Je),We()},Ye.copy=function(){return Oi(V,ne,ce,_e)},We()}function Io(V,ne){return u.rebind(V,ne,"range","rangeRound","interpolate","clamp")}function Ci(V,ne){return li(V,pi(wo(V,ne)[2])),li(V,pi(wo(V,ne)[2])),V}function wo(V,ne){null==ne&&(ne=10);var ce=eu(V),_e=ce[1]-ce[0],Ae=Math.pow(10,Math.floor(Math.log(_e/ne)/Math.LN10)),Fe=ne/_e*Ae;return Fe<=.15?Ae*=10:Fe<=.35?Ae*=5:Fe<=.75&&(Ae*=2),ce[0]=Math.ceil(ce[0]/Ae)*Ae,ce[1]=Math.floor(ce[1]/Ae)*Ae+.5*Ae,ce[2]=Ae,ce}function Lo(V,ne){return u.range.apply(u,wo(V,ne))}function ui(V,ne,ce,_e){function Ae(Ye){return(ce?Math.log(Ye<0?0:Ye):-Math.log(Ye>0?0:-Ye))/Math.log(ne)}function Fe(Ye){return ce?Math.pow(ne,Ye):-Math.pow(ne,-Ye)}function We(Ye){return V(Ae(Ye))}return We.invert=function(Ye){return Fe(V.invert(Ye))},We.domain=function(Ye){return arguments.length?(ce=Ye[0]>=0,V.domain((_e=Ye.map(Number)).map(Ae)),We):_e},We.base=function(Ye){return arguments.length?(ne=+Ye,V.domain(_e.map(Ae)),We):ne},We.nice=function(){var Ye=li(_e.map(Ae),ce?Math:Ca);return V.domain(Ye),_e=Ye.map(Fe),We},We.ticks=function(){var Ye=eu(_e),Je=[],tt=Ye[0],lt=Ye[1],yt=Math.floor(Ae(tt)),wt=Math.ceil(Ae(lt)),zt=ne%1?2:ne;if(isFinite(wt-yt)){if(ce){for(;yt<wt;yt++)for(var Ut=1;Ut<zt;Ut++)Je.push(Fe(yt)*Ut);Je.push(Fe(yt))}else for(Je.push(Fe(yt));yt++<wt;)for(Ut=zt-1;Ut>0;Ut--)Je.push(Fe(yt)*Ut);for(yt=0;Je[yt]<tt;yt++);for(wt=Je.length;Je[wt-1]>lt;wt--);Je=Je.slice(yt,wt)}return Je},We.copy=function(){return ui(V.copy(),ne,ce,_e)},Io(We,V)}u.scale.linear=function(){return Oi([0,1],[0,1],La,!1)},u.scale.log=function(){return ui(u.scale.linear().domain([0,1]),10,!0,[1,10])};var Ca={floor:function(V){return-Math.ceil(-V)},ceil:function(V){return-Math.floor(-V)}};function Go(V,ne,ce){var _e=Qo(ne),Ae=Qo(1/ne);function Fe(We){return V(_e(We))}return Fe.invert=function(We){return Ae(V.invert(We))},Fe.domain=function(We){return arguments.length?(V.domain((ce=We.map(Number)).map(_e)),Fe):ce},Fe.ticks=function(We){return Lo(ce,We)},Fe.tickFormat=function(We,Ye){return d3_scale_linearTickFormat(ce,We,Ye)},Fe.nice=function(We){return Fe.domain(Ci(ce,We))},Fe.exponent=function(We){return arguments.length?(_e=Qo(ne=We),Ae=Qo(1/ne),V.domain(ce.map(_e)),Fe):ne},Fe.copy=function(){return Go(V.copy(),ne,ce)},Io(Fe,V)}function Qo(V){return function(ne){return ne<0?-Math.pow(-ne,V):Math.pow(ne,V)}}function Ji(V,ne){var ce,_e,Ae;function Fe(Ye){return _e[((ce.get(Ye)||("range"===ne.t?ce.set(Ye,V.push(Ye)):NaN))-1)%_e.length]}function We(Ye,Je){return u.range(V.length).map(function(tt){return Ye+Je*tt})}return Fe.domain=function(Ye){if(!arguments.length)return V;V=[],ce=new b;for(var Je,tt=-1,lt=Ye.length;++tt<lt;)ce.has(Je=Ye[tt])||ce.set(Je,V.push(Je));return Fe[ne.t].apply(Fe,ne.a)},Fe.range=function(Ye){return arguments.length?(_e=Ye,Ae=0,ne={t:"range",a:arguments},Fe):_e},Fe.rangePoints=function(Ye,Je){arguments.length<2&&(Je=0);var tt=Ye[0],lt=Ye[1],yt=V.length<2?(tt=(tt+lt)/2,0):(lt-tt)/(V.length-1+Je);return _e=We(tt+yt*Je/2,yt),Ae=0,ne={t:"rangePoints",a:arguments},Fe},Fe.rangeRoundPoints=function(Ye,Je){arguments.length<2&&(Je=0);var tt=Ye[0],lt=Ye[1],yt=V.length<2?(tt=lt=Math.round((tt+lt)/2),0):(lt-tt)/(V.length-1+Je)|0;return _e=We(tt+Math.round(yt*Je/2+(lt-tt-(V.length-1+Je)*yt)/2),yt),Ae=0,ne={t:"rangeRoundPoints",a:arguments},Fe},Fe.rangeBands=function(Ye,Je,tt){arguments.length<2&&(Je=0),arguments.length<3&&(tt=Je);var lt=Ye[1]<Ye[0],yt=Ye[lt-0],wt=(Ye[1-lt]-yt)/(V.length-Je+2*tt);return _e=We(yt+wt*tt,wt),lt&&_e.reverse(),Ae=wt*(1-Je),ne={t:"rangeBands",a:arguments},Fe},Fe.rangeRoundBands=function(Ye,Je,tt){arguments.length<2&&(Je=0),arguments.length<3&&(tt=Je);var lt=Ye[1]<Ye[0],yt=Ye[lt-0],wt=Ye[1-lt],zt=Math.floor((wt-yt)/(V.length-Je+2*tt));return _e=We(yt+Math.round((wt-yt-(V.length-Je)*zt)/2),zt),lt&&_e.reverse(),Ae=Math.round(zt*(1-Je)),ne={t:"rangeRoundBands",a:arguments},Fe},Fe.rangeBand=function(){return Ae},Fe.rangeExtent=function(){return eu(ne.a[0])},Fe.copy=function(){return Ji(V,ne)},Fe.domain(V)}u.scale.pow=function(){return Go(u.scale.linear(),1,[0,1])},u.scale.sqrt=function(){return u.scale.pow().exponent(.5)},u.scale.ordinal=function(){return Ji([],{t:"range",a:[[]]})},u.scale.category10=function(){return u.scale.ordinal().range(al)},u.scale.category20=function(){return u.scale.ordinal().range(sa)},u.scale.category20b=function(){return u.scale.ordinal().range(so)},u.scale.category20c=function(){return u.scale.ordinal().range(Br)};var al=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(tn),sa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(tn),so=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(tn),Br=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(tn);function ea(V,ne){var ce;function _e(){var Fe=0,We=ne.length;for(ce=[];++Fe<We;)ce[Fe-1]=u.quantile(V,Fe/We);return Ae}function Ae(Fe){if(!isNaN(Fe=+Fe))return ne[u.bisect(ce,Fe)]}return Ae.domain=function(Fe){return arguments.length?(V=Fe.map(p).filter(f).sort(c),_e()):V},Ae.range=function(Fe){return arguments.length?(ne=Fe,_e()):ne},Ae.quantiles=function(){return ce},Ae.invertExtent=function(Fe){return(Fe=ne.indexOf(Fe))<0?[NaN,NaN]:[Fe>0?ce[Fe-1]:V[0],Fe<ce.length?ce[Fe]:V[V.length-1]]},Ae.copy=function(){return ea(V,ne)},_e()}function es(V,ne,ce){var _e,Ae;function Fe(Ye){return ce[Math.max(0,Math.min(Ae,Math.floor(_e*(Ye-V))))]}function We(){return _e=ce.length/(ne-V),Ae=ce.length-1,Fe}return Fe.domain=function(Ye){return arguments.length?(V=+Ye[0],ne=+Ye[Ye.length-1],We()):[V,ne]},Fe.range=function(Ye){return arguments.length?(ce=Ye,We()):ce},Fe.invertExtent=function(Ye){return[Ye=(Ye=ce.indexOf(Ye))<0?NaN:Ye/_e+V,Ye+1/_e]},Fe.copy=function(){return es(V,ne,ce)},We()}function ts(V,ne){function ce(_e){if(_e<=_e)return ne[u.bisect(V,_e)]}return ce.domain=function(_e){return arguments.length?(V=_e,ce):V},ce.range=function(_e){return arguments.length?(ne=_e,ce):ne},ce.invertExtent=function(_e){return _e=ne.indexOf(_e),[V[_e-1],V[_e]]},ce.copy=function(){return ts(V,ne)},ce}function Ds(V){function ne(ce){return+ce}return ne.invert=ne,ne.domain=ne.range=function(ce){return arguments.length?(V=ce.map(ne),ne):V},ne.ticks=function(ce){return Lo(V,ce)},ne.tickFormat=function(ce,_e){return d3_scale_linearTickFormat(V,ce,_e)},ne.copy=function(){return Ds(V)},ne}function Is(){return 0}u.scale.quantile=function(){return ea([],[])},u.scale.quantize=function(){return es(0,1,[0,1])},u.scale.threshold=function(){return ts([.5],[0,1])},u.scale.identity=function(){return Ds([0,1])},u.svg={},u.svg.arc=function(){var V=zr,ne=Za,ce=Is,_e=xi,Ae=ml,Fe=Oa,We=qo;function Ye(){var tt=Math.max(0,+V.apply(this,arguments)),lt=Math.max(0,+ne.apply(this,arguments)),yt=Ae.apply(this,arguments)-nt,wt=Fe.apply(this,arguments)-nt,zt=Math.abs(wt-yt),Ut=yt>wt?0:1;if(lt<tt&&(Nt=lt,lt=tt,tt=Nt),zt>=jt)return Je(lt,Ut)+(tt?Je(tt,1-Ut):"")+"Z";var Nt,$t,Bt,pn,an,en,Dn,In,Kn,Yn,ir,dr,yr=0,kr=0,Cr=[];if((pn=(+We.apply(this,arguments)||0)/2)&&(Bt=_e===xi?Math.sqrt(tt*tt+lt*lt):+_e.apply(this,arguments),Ut||(kr*=-1),lt&&(kr=rt(Bt/lt*Math.sin(pn))),tt&&(yr=rt(Bt/tt*Math.sin(pn)))),lt){an=lt*Math.cos(yt+kr),en=lt*Math.sin(yt+kr),Dn=lt*Math.cos(wt-kr),In=lt*Math.sin(wt-kr);var Lr=Math.abs(wt-yt-2*kr)<=Pt?0:1;if(kr&&Ma(an,en,Dn,In)===Ut^Lr){var ni=(yt+wt)/2;an=lt*Math.cos(ni),en=lt*Math.sin(ni),Dn=In=null}}else an=en=0;if(tt){Kn=tt*Math.cos(wt-yr),Yn=tt*Math.sin(wt-yr),ir=tt*Math.cos(yt+yr),dr=tt*Math.sin(yt+yr);var Qn=Math.abs(yt-wt+2*yr)<=Pt?0:1;if(yr&&Ma(Kn,Yn,ir,dr)===1-Ut^Qn){var wr=(yt+wt)/2;Kn=tt*Math.cos(wr),Yn=tt*Math.sin(wr),ir=dr=null}}else Kn=Yn=0;if(zt>Ct&&(Nt=Math.min(Math.abs(lt-tt)/2,+ce.apply(this,arguments)))>.001){$t=tt<lt^Ut?0:1;var Er=Nt,jr=Nt;if(zt<Pt){var Jr=null==ir?[Kn,Yn]:null==Dn?[an,en]:Ft([an,en],[ir,dr],[Dn,In],[Kn,Yn]),ci=an-Jr[0],bi=en-Jr[1],Hi=Dn-Jr[0],po=In-Jr[1],uo=1/Math.sin(Math.acos((ci*Hi+bi*po)/(Math.sqrt(ci*ci+bi*bi)*Math.sqrt(Hi*Hi+po*po)))/2),Gi=Math.sqrt(Jr[0]*Jr[0]+Jr[1]*Jr[1]);jr=Math.min(Nt,(tt-Gi)/(uo-1)),Er=Math.min(Nt,(lt-Gi)/(uo+1))}if(null!=Dn){var Mo=Aa(null==ir?[Kn,Yn]:[ir,dr],[an,en],lt,Er,Ut),Ko=Aa([Dn,In],[Kn,Yn],lt,Er,Ut);Nt===Er?Cr.push("M",Mo[0],"A",Er,",",Er," 0 0,",$t," ",Mo[1],"A",lt,",",lt," 0 ",1-Ut^Ma(Mo[1][0],Mo[1][1],Ko[1][0],Ko[1][1]),",",Ut," ",Ko[1],"A",Er,",",Er," 0 0,",$t," ",Ko[0]):Cr.push("M",Mo[0],"A",Er,",",Er," 0 1,",$t," ",Ko[0])}else Cr.push("M",an,",",en);if(null!=ir){var Wr=Aa([an,en],[ir,dr],tt,-jr,Ut),Bo=Aa([Kn,Yn],null==Dn?[an,en]:[Dn,In],tt,-jr,Ut);Nt===jr?Cr.push("L",Bo[0],"A",jr,",",jr," 0 0,",$t," ",Bo[1],"A",tt,",",tt," 0 ",Ut^Ma(Bo[1][0],Bo[1][1],Wr[1][0],Wr[1][1]),",",1-Ut," ",Wr[1],"A",jr,",",jr," 0 0,",$t," ",Wr[0]):Cr.push("L",Bo[0],"A",jr,",",jr," 0 0,",$t," ",Wr[0])}else Cr.push("L",Kn,",",Yn)}else Cr.push("M",an,",",en),null!=Dn&&Cr.push("A",lt,",",lt," 0 ",Lr,",",Ut," ",Dn,",",In),Cr.push("L",Kn,",",Yn),null!=ir&&Cr.push("A",tt,",",tt," 0 ",Qn,",",1-Ut," ",ir,",",dr);return Cr.push("Z"),Cr.join("")}function Je(tt,lt){return"M0,"+tt+"A"+tt+","+tt+" 0 1,"+lt+" 0,"+-tt+"A"+tt+","+tt+" 0 1,"+lt+" 0,"+tt}return Ye.innerRadius=function(tt){return arguments.length?(V=Wn(tt),Ye):V},Ye.outerRadius=function(tt){return arguments.length?(ne=Wn(tt),Ye):ne},Ye.cornerRadius=function(tt){return arguments.length?(ce=Wn(tt),Ye):ce},Ye.padRadius=function(tt){return arguments.length?(_e=tt==xi?xi:Wn(tt),Ye):_e},Ye.startAngle=function(tt){return arguments.length?(Ae=Wn(tt),Ye):Ae},Ye.endAngle=function(tt){return arguments.length?(Fe=Wn(tt),Ye):Fe},Ye.padAngle=function(tt){return arguments.length?(We=Wn(tt),Ye):We},Ye.centroid=function(){var tt=(+V.apply(this,arguments)+ +ne.apply(this,arguments))/2,lt=(+Ae.apply(this,arguments)+ +Fe.apply(this,arguments))/2-nt;return[Math.cos(lt)*tt,Math.sin(lt)*tt]},Ye};var xi="auto";function zr(V){return V.innerRadius}function Za(V){return V.outerRadius}function ml(V){return V.startAngle}function Oa(V){return V.endAngle}function qo(V){return V&&V.padAngle}function Ma(V,ne,ce,_e){return(V-ce)*ne-(ne-_e)*V>0?0:1}function Aa(V,ne,ce,_e,Ae){var Fe=V[0]-ne[0],We=V[1]-ne[1],Ye=(Ae?_e:-_e)/Math.sqrt(Fe*Fe+We*We),Je=Ye*We,tt=-Ye*Fe,lt=V[0]+Je,yt=V[1]+tt,wt=ne[0]+Je,zt=ne[1]+tt,Ut=(lt+wt)/2,Nt=(yt+zt)/2,$t=wt-lt,Bt=zt-yt,pn=$t*$t+Bt*Bt,an=ce-_e,en=lt*zt-wt*yt,Dn=(Bt<0?-1:1)*Math.sqrt(Math.max(0,an*an*pn-en*en)),In=(en*Bt-$t*Dn)/pn,Kn=(-en*$t-Bt*Dn)/pn,Yn=(en*Bt+$t*Dn)/pn,ir=(-en*$t+Bt*Dn)/pn,dr=In-Ut,yr=Kn-Nt,kr=Yn-Ut,Cr=ir-Nt;return dr*dr+yr*yr>kr*kr+Cr*Cr&&(In=Yn,Kn=ir),[[In-Je,Kn-tt],[In*ce/an,Kn*ce/an]]}function lo(){return!0}function Hs(V){var ne=or,ce=An,_e=lo,Ae=Vi,Fe=Ae.key,We=.7;function Ye(Je){var tt,lt=[],yt=[],wt=-1,zt=Je.length,Ut=Wn(ne),Nt=Wn(ce);function $t(){lt.push("M",Ae(V(yt),We))}for(;++wt<zt;)_e.call(this,tt=Je[wt],wt)?yt.push([+Ut.call(this,tt,wt),+Nt.call(this,tt,wt)]):yt.length&&($t(),yt=[]);return yt.length&&$t(),lt.length?lt.join(""):null}return Ye.x=function(Je){return arguments.length?(ne=Je,Ye):ne},Ye.y=function(Je){return arguments.length?(ce=Je,Ye):ce},Ye.defined=function(Je){return arguments.length?(_e=Je,Ye):_e},Ye.interpolate=function(Je){return arguments.length?(Fe="function"==typeof Je?Ae=Je:(Ae=zo.get(Je)||Vi).key,Ye):Fe},Ye.tension=function(Je){return arguments.length?(We=Je,Ye):We},Ye}u.svg.line=function(){return Hs(N)};var zo=u.map({linear:Vi,"linear-closed":Gs,step:function(V){for(var ne=0,ce=V.length,_e=V[0],Ae=[_e[0],",",_e[1]];++ne<ce;)Ae.push("H",(_e[0]+(_e=V[ne])[0])/2,"V",_e[1]);return ce>1&&Ae.push("H",_e[0]),Ae.join("")},"step-before":ns,"step-after":Po,basis:Ra,"basis-open":function(V){if(V.length<4)return Vi(V);for(var ne,ce=[],_e=-1,Ae=V.length,Fe=[0],We=[0];++_e<3;)Fe.push((ne=V[_e])[0]),We.push(ne[1]);for(ce.push(Wo(Co,Fe)+","+Wo(Co,We)),--_e;++_e<Ae;)ne=V[_e],Fe.shift(),Fe.push(ne[0]),We.shift(),We.push(ne[1]),eo(ce,Fe,We);return ce.join("")},"basis-closed":function(V){for(var ne,ce,_e=-1,Ae=V.length,Fe=Ae+4,We=[],Ye=[];++_e<4;)We.push((ce=V[_e%Ae])[0]),Ye.push(ce[1]);for(ne=[Wo(Co,We),",",Wo(Co,Ye)],--_e;++_e<Fe;)ce=V[_e%Ae],We.shift(),We.push(ce[0]),Ye.shift(),Ye.push(ce[1]),eo(ne,We,Ye);return ne.join("")},bundle:function(V,ne){var ce=V.length-1;if(ce)for(var _e,Ae,Fe=V[0][0],We=V[0][1],Ye=V[ce][0]-Fe,Je=V[ce][1]-We,tt=-1;++tt<=ce;)(_e=V[tt])[0]=ne*_e[0]+(1-ne)*(Fe+(Ae=tt/ce)*Ye),_e[1]=ne*_e[1]+(1-ne)*(We+Ae*Je);return Ra(V)},cardinal:function(V,ne){return V.length<3?Vi(V):V[0]+Mi(V,vl(V,ne))},"cardinal-open":function(V,ne){return V.length<4?Vi(V):V[1]+Mi(V.slice(1,-1),vl(V,ne))},"cardinal-closed":function(V,ne){return V.length<3?Gs(V):V[0]+Mi((V.push(V[0]),V),vl([V[V.length-2]].concat(V,[V[1]]),ne))},monotone:function(V){return V.length<3?Vi(V):V[0]+Mi(V,function(ne){for(var ce,_e,Ae,Fe,We=[],Ye=function(lt){for(var yt=0,wt=lt.length-1,zt=[],Ut=lt[0],Nt=lt[1],$t=zt[0]=rs(Ut,Nt);++yt<wt;)zt[yt]=($t+($t=rs(Ut=Nt,Nt=lt[yt+1])))/2;return zt[yt]=$t,zt}(ne),Je=-1,tt=ne.length-1;++Je<tt;)ce=rs(ne[Je],ne[Je+1]),_(ce)<Ct?Ye[Je]=Ye[Je+1]=0:(Fe=(_e=Ye[Je]/ce)*_e+(Ae=Ye[Je+1]/ce)*Ae)>9&&(Fe=3*ce/Math.sqrt(Fe),Ye[Je]=Fe*_e,Ye[Je+1]=Fe*Ae);for(Je=-1;++Je<=tt;)Fe=(ne[Math.min(tt,Je+1)][0]-ne[Math.max(0,Je-1)][0])/(6*(1+Ye[Je]*Ye[Je])),We.push([Fe||0,Ye[Je]*Fe||0]);return We}(V))}});function Vi(V){return V.length>1?V.join("L"):V+"Z"}function Gs(V){return V.join("L")+"Z"}function ns(V){for(var ne=0,ce=V.length,_e=V[0],Ae=[_e[0],",",_e[1]];++ne<ce;)Ae.push("V",(_e=V[ne])[1],"H",_e[0]);return Ae.join("")}function Po(V){for(var ne=0,ce=V.length,_e=V[0],Ae=[_e[0],",",_e[1]];++ne<ce;)Ae.push("H",(_e=V[ne])[0],"V",_e[1]);return Ae.join("")}function Mi(V,ne){if(ne.length<1||V.length!=ne.length&&V.length!=ne.length+2)return Vi(V);var ce=V.length!=ne.length,_e="",Ae=V[0],Fe=V[1],We=ne[0],Ye=We,Je=1;if(ce&&(_e+="Q"+(Fe[0]-2*We[0]/3)+","+(Fe[1]-2*We[1]/3)+","+Fe[0]+","+Fe[1],Ae=V[1],Je=2),ne.length>1){Fe=V[Je],Je++,_e+="C"+(Ae[0]+We[0])+","+(Ae[1]+We[1])+","+(Fe[0]-(Ye=ne[1])[0])+","+(Fe[1]-Ye[1])+","+Fe[0]+","+Fe[1];for(var tt=2;tt<ne.length;tt++,Je++)_e+="S"+((Fe=V[Je])[0]-(Ye=ne[tt])[0])+","+(Fe[1]-Ye[1])+","+Fe[0]+","+Fe[1]}if(ce){var lt=V[Je];_e+="Q"+(Fe[0]+2*Ye[0]/3)+","+(Fe[1]+2*Ye[1]/3)+","+lt[0]+","+lt[1]}return _e}function vl(V,ne){for(var ce,_e=[],Ae=(1-ne)/2,Fe=V[0],We=V[1],Ye=1,Je=V.length;++Ye<Je;)ce=Fe,Fe=We,_e.push([Ae*((We=V[Ye])[0]-ce[0]),Ae*(We[1]-ce[1])]);return _e}function Ra(V){if(V.length<3)return Vi(V);var ne=1,ce=V.length,_e=V[0],Ae=_e[0],Fe=_e[1],We=[Ae,Ae,Ae,(_e=V[1])[0]],Ye=[Fe,Fe,Fe,_e[1]],Je=[Ae,",",Fe,"L",Wo(Co,We),",",Wo(Co,Ye)];for(V.push(V[ce-1]);++ne<=ce;)_e=V[ne],We.shift(),We.push(_e[0]),Ye.shift(),Ye.push(_e[1]),eo(Je,We,Ye);return V.pop(),Je.push("L",_e),Je.join("")}function Wo(V,ne){return V[0]*ne[0]+V[1]*ne[1]+V[2]*ne[2]+V[3]*ne[3]}zo.forEach(function(V,ne){ne.key=V,ne.closed=/-closed$/.test(V)});var qs=[0,2/3,1/3,0],Pu=[0,1/3,2/3,0],Co=[0,1/6,2/3,1/6];function eo(V,ne,ce){V.push("C",Wo(qs,ne),",",Wo(qs,ce),",",Wo(Pu,ne),",",Wo(Pu,ce),",",Wo(Co,ne),",",Wo(Co,ce))}function rs(V,ne){return(ne[1]-V[1])/(ne[0]-V[0])}function Ws(V){for(var ne,ce,_e,Ae=-1,Fe=V.length;++Ae<Fe;)ce=(ne=V[Ae])[0],_e=ne[1]-nt,ne[0]=ce*Math.cos(_e),ne[1]=ce*Math.sin(_e);return V}function Ls(V){var ne=or,ce=or,_e=0,Ae=An,Fe=lo,We=Vi,Ye=We.key,Je=We,tt="L",lt=.7;function yt(wt){var zt,Ut,Nt,$t=[],Bt=[],pn=[],an=-1,en=wt.length,Dn=Wn(ne),In=Wn(_e),Kn=ne===ce?function(){return Ut}:Wn(ce),Yn=_e===Ae?function(){return Nt}:Wn(Ae);function ir(){$t.push("M",We(V(pn),lt),tt,Je(V(Bt.reverse()),lt),"Z")}for(;++an<en;)Fe.call(this,zt=wt[an],an)?(Bt.push([Ut=+Dn.call(this,zt,an),Nt=+In.call(this,zt,an)]),pn.push([+Kn.call(this,zt,an),+Yn.call(this,zt,an)])):Bt.length&&(ir(),Bt=[],pn=[]);return Bt.length&&ir(),$t.length?$t.join(""):null}return yt.x=function(wt){return arguments.length?(ne=ce=wt,yt):ce},yt.x0=function(wt){return arguments.length?(ne=wt,yt):ne},yt.x1=function(wt){return arguments.length?(ce=wt,yt):ce},yt.y=function(wt){return arguments.length?(_e=Ae=wt,yt):Ae},yt.y0=function(wt){return arguments.length?(_e=wt,yt):_e},yt.y1=function(wt){return arguments.length?(Ae=wt,yt):Ae},yt.defined=function(wt){return arguments.length?(Fe=wt,yt):Fe},yt.interpolate=function(wt){return arguments.length?(Ye="function"==typeof wt?We=wt:(We=zo.get(wt)||Vi).key,Je=We.reverse||We,tt=We.closed?"M":"L",yt):Ye},yt.tension=function(wt){return arguments.length?(lt=wt,yt):lt},yt}function Ou(V){return V.source}function yl(V){return V.target}function Nl(V){return V.radius}function Zo(V){return[V.x,V.y]}function la(){return 64}function Yr(){return"circle"}function Kr(V){var ne=Math.sqrt(V/Pt);return"M0,"+ne+"A"+ne+","+ne+" 0 1,1 0,"+-ne+"A"+ne+","+ne+" 0 1,1 0,"+ne+"Z"}u.svg.line.radial=function(){var V=Hs(Ws);return V.radius=V.x,delete V.x,V.angle=V.y,delete V.y,V},ns.reverse=Po,Po.reverse=ns,u.svg.area=function(){return Ls(N)},u.svg.area.radial=function(){var V=Ls(Ws);return V.radius=V.x,delete V.x,V.innerRadius=V.x0,delete V.x0,V.outerRadius=V.x1,delete V.x1,V.angle=V.y,delete V.y,V.startAngle=V.y0,delete V.y0,V.endAngle=V.y1,delete V.y1,V},u.svg.chord=function(){var V=Ou,ne=yl,ce=Nl,_e=ml,Ae=Oa;function Fe(tt,lt){var yt,wt,zt=We(this,V,tt,lt),Ut=We(this,ne,tt,lt);return"M"+zt.p0+Ye(zt.r,zt.p1,zt.a1-zt.a0)+((yt=zt).a0==(wt=Ut).a0&&yt.a1==wt.a1?Je(0,0,0,zt.p0):Je(0,0,0,Ut.p0)+Ye(Ut.r,Ut.p1,Ut.a1-Ut.a0)+Je(0,0,0,zt.p0))+"Z"}function We(tt,lt,yt,wt){var zt=lt.call(tt,yt,wt),Ut=ce.call(tt,zt,wt),Nt=_e.call(tt,zt,wt)-nt,$t=Ae.call(tt,zt,wt)-nt;return{r:Ut,a0:Nt,a1:$t,p0:[Ut*Math.cos(Nt),Ut*Math.sin(Nt)],p1:[Ut*Math.cos($t),Ut*Math.sin($t)]}}function Ye(tt,lt,yt){return"A"+tt+","+tt+" 0 "+ +(yt>Pt)+",1 "+lt}function Je(tt,lt,yt,wt){return"Q 0,0 "+wt}return Fe.radius=function(tt){return arguments.length?(ce=Wn(tt),Fe):ce},Fe.source=function(tt){return arguments.length?(V=Wn(tt),Fe):V},Fe.target=function(tt){return arguments.length?(ne=Wn(tt),Fe):ne},Fe.startAngle=function(tt){return arguments.length?(_e=Wn(tt),Fe):_e},Fe.endAngle=function(tt){return arguments.length?(Ae=Wn(tt),Fe):Ae},Fe},u.svg.diagonal=function(){var V=Ou,ne=yl,ce=Zo;function _e(Ae,Fe){var We=V.call(this,Ae,Fe),Ye=ne.call(this,Ae,Fe),Je=(We.y+Ye.y)/2,tt=[We,{x:We.x,y:Je},{x:Ye.x,y:Je},Ye];return"M"+(tt=tt.map(ce))[0]+"C"+tt[1]+" "+tt[2]+" "+tt[3]}return _e.source=function(Ae){return arguments.length?(V=Wn(Ae),_e):V},_e.target=function(Ae){return arguments.length?(ne=Wn(Ae),_e):ne},_e.projection=function(Ae){return arguments.length?(ce=Ae,_e):ce},_e},u.svg.diagonal.radial=function(){var V=u.svg.diagonal(),ne=Zo,ce=V.projection;return V.projection=function(_e){return arguments.length?ce((Ae=ne=_e,function(){var Fe=Ae.apply(this,arguments),We=Fe[0],Ye=Fe[1]-nt;return[We*Math.cos(Ye),We*Math.sin(Ye)]})):ne;var Ae},V},u.svg.symbol=function(){var V=Yr,ne=la;function ce(_e,Ae){return(tu.get(V.call(this,_e,Ae))||Kr)(ne.call(this,_e,Ae))}return ce.type=function(_e){return arguments.length?(V=Wn(_e),ce):V},ce.size=function(_e){return arguments.length?(ne=Wn(_e),ce):ne},ce};var tu=u.map({circle:Kr,cross:function(V){var ne=Math.sqrt(V/5)/2;return"M"+-3*ne+","+-ne+"H"+-ne+"V"+-3*ne+"H"+ne+"V"+-ne+"H"+3*ne+"V"+ne+"H"+ne+"V"+3*ne+"H"+-ne+"V"+ne+"H"+-3*ne+"Z"},diamond:function(V){var ne=Math.sqrt(V/(2*Zs)),ce=ne*Zs;return"M0,"+-ne+"L"+ce+",0 0,"+ne+" "+-ce+",0Z"},square:function(V){var ne=Math.sqrt(V)/2;return"M"+-ne+","+-ne+"L"+ne+","+-ne+" "+ne+","+ne+" "+-ne+","+ne+"Z"},"triangle-down":function(V){var ne=Math.sqrt(V/ua),ce=ne*ua/2;return"M0,"+ce+"L"+ne+","+-ce+" "+-ne+","+-ce+"Z"},"triangle-up":function(V){var ne=Math.sqrt(V/ua),ce=ne*ua/2;return"M0,"+-ce+"L"+ne+","+ce+" "+-ne+","+ce+"Z"}});u.svg.symbolTypes=tu.keys();var ua=Math.sqrt(3),Zs=Math.tan(30*it);ke.transition=function(V){for(var ne,ce,_e=Fa||++Oo,Ae=xl(V),Fe=[],We=Ys||{time:Date.now(),ease:_a,delay:0,duration:250},Ye=-1,Je=this.length;++Ye<Je;){Fe.push(ne=[]);for(var tt=this[Ye],lt=-1,yt=tt.length;++lt<yt;)(ce=tt[lt])&&zl(ce,lt,Ae,_e,We),ne.push(ce)}return fa(Fe,Ae,_e)},ke.interrupt=function(V){return this.each(null==V?ca:nu(xl(V)))};var ca=nu(xl());function nu(V){return function(){var ne,ce,_e;(ne=this[V])&&(_e=ne[ce=ne.active])&&(_e.timer.c=null,_e.timer.t=NaN,--ne.count?delete ne[ce]:delete this[V],ne.active+=.5,_e.event&&_e.event.interrupt.call(this,this.__data__,_e.index))}}function fa(V,ne,ce){return oe(V,ri),V.namespace=ne,V.id=ce,V}var Fa,Ys,ri=[],Oo=0;function ms(V,ne,ce,_e){var Ae=V.id,Fe=V.namespace;return De(V,"function"==typeof ce?function(We,Ye,Je){We[Fe][Ae].tween.set(ne,_e(ce.call(We,We.__data__,Ye,Je)))}:(ce=_e(ce),function(We){We[Fe][Ae].tween.set(ne,ce)}))}function Na(V){return null==V&&(V=""),function(){this.textContent=V}}function xl(V){return null==V?"__transition__":"__transition_"+V+"__"}function zl(V,ne,ce,_e,Ae){var Fe,We,Ye,Je,tt,lt=V[ce]||(V[ce]={active:0,count:0}),yt=lt[_e];function wt(Ut){var Nt=lt.active,$t=lt[Nt];for(var Bt in $t&&($t.timer.c=null,$t.timer.t=NaN,--lt.count,delete lt[Nt],$t.event&&$t.event.interrupt.call(V,V.__data__,$t.index)),lt)if(+Bt<_e){var pn=lt[Bt];pn.timer.c=null,pn.timer.t=NaN,--lt.count,delete lt[Bt]}We.c=zt,rn(function(){return We.c&&zt(Ut||1)&&(We.c=null,We.t=NaN),1},0,Fe),lt.active=_e,yt.event&&yt.event.start.call(V,V.__data__,ne),tt=[],yt.tween.forEach(function(an,en){(en=en.call(V,V.__data__,ne))&&tt.push(en)}),Je=yt.ease,Ye=yt.duration}function zt(Ut){for(var Nt=Ut/Ye,$t=Je(Nt),Bt=tt.length;Bt>0;)tt[--Bt].call(V,$t);if(Nt>=1)return yt.event&&yt.event.end.call(V,V.__data__,ne),--lt.count?delete lt[_e]:delete V[ce],1}yt||(We=rn(function(Ut){var Nt=yt.delay;if(We.t=Nt+Fe,Nt<=Ut)return wt(Ut-Nt);We.c=wt},0,Fe=Ae.time),yt=lt[_e]={tween:new b,time:Fe,timer:We,delay:Ae.delay,duration:Ae.duration,ease:Ae.ease,index:ne},Ae=null,++lt.count)}ri.call=ke.call,ri.empty=ke.empty,ri.node=ke.node,ri.size=ke.size,u.transition=function(V,ne){return V&&V.transition?Fa?V.transition(ne):V:u.selection().transition(V)},u.transition.prototype=ri,ri.select=function(V){var ne,ce,_e,Ae=this.id,Fe=this.namespace,We=[];V=Pe(V);for(var Ye=-1,Je=this.length;++Ye<Je;){We.push(ne=[]);for(var tt=this[Ye],lt=-1,yt=tt.length;++lt<yt;)(_e=tt[lt])&&(ce=V.call(_e,_e.__data__,lt,Ye))?("__data__"in _e&&(ce.__data__=_e.__data__),zl(ce,lt,Fe,Ae,_e[Fe][Ae]),ne.push(ce)):ne.push(null)}return fa(We,Fe,Ae)},ri.selectAll=function(V){var ne,ce,_e,Ae,Fe,We=this.id,Ye=this.namespace,Je=[];V=Te(V);for(var tt=-1,lt=this.length;++tt<lt;)for(var yt=this[tt],wt=-1,zt=yt.length;++wt<zt;)if(_e=yt[wt]){Fe=_e[Ye][We],ce=V.call(_e,_e.__data__,wt,tt),Je.push(ne=[]);for(var Ut=-1,Nt=ce.length;++Ut<Nt;)(Ae=ce[Ut])&&zl(Ae,Ut,Ye,We,Fe),ne.push(Ae)}return fa(Je,Ye,We)},ri.filter=function(V){var ne,ce,_e=[];"function"!=typeof V&&(V=ve(V));for(var Ae=0,Fe=this.length;Ae<Fe;Ae++){_e.push(ne=[]);for(var We,Ye=0,Je=(We=this[Ae]).length;Ye<Je;Ye++)(ce=We[Ye])&&V.call(ce,ce.__data__,Ye,Ae)&&ne.push(ce)}return fa(_e,this.namespace,this.id)},ri.tween=function(V,ne){var ce=this.id,_e=this.namespace;return arguments.length<2?this.node()[_e][ce].tween.get(V):De(this,null==ne?function(Ae){Ae[_e][ce].tween.remove(V)}:function(Ae){Ae[_e][ce].tween.set(V,ne)})},ri.attr=function(V,ne){if(arguments.length<2){for(ne in V)this.attr(ne,V[ne]);return this}var ce="transform"==V?wa:La,_e=u.ns.qualify(V);function Ae(){this.removeAttribute(_e)}function Fe(){this.removeAttributeNS(_e.space,_e.local)}return ms(this,"attr."+V,ne,_e.local?function(We){return null==We?Fe:(We+="",function(){var Ye,Je=this.getAttributeNS(_e.space,_e.local);return Je!==We&&(Ye=ce(Je,We),function(tt){this.setAttributeNS(_e.space,_e.local,Ye(tt))})})}:function(We){return null==We?Ae:(We+="",function(){var Ye,Je=this.getAttribute(_e);return Je!==We&&(Ye=ce(Je,We),function(tt){this.setAttribute(_e,Ye(tt))})})})},ri.attrTween=function(V,ne){var ce=u.ns.qualify(V);return this.tween("attr."+V,ce.local?function(_e,Ae){var Fe=ne.call(this,_e,Ae,this.getAttributeNS(ce.space,ce.local));return Fe&&function(We){this.setAttributeNS(ce.space,ce.local,Fe(We))}}:function(_e,Ae){var Fe=ne.call(this,_e,Ae,this.getAttribute(ce));return Fe&&function(We){this.setAttribute(ce,Fe(We))}})},ri.style=function(V,ne,ce){var _e=arguments.length;if(_e<3){if("string"!=typeof V){for(ce in _e<2&&(ne=""),V)this.style(ce,V[ce],ne);return this}ce=""}function Ae(){this.style.removeProperty(V)}return ms(this,"style."+V,ne,function(Fe){return null==Fe?Ae:(Fe+="",function(){var We,Ye=t(this).getComputedStyle(this,null).getPropertyValue(V);return Ye!==Fe&&(We=La(Ye,Fe),function(Je){this.style.setProperty(V,We(Je),ce)})})})},ri.styleTween=function(V,ne,ce){return arguments.length<3&&(ce=""),this.tween("style."+V,function(_e,Ae){var Fe=ne.call(this,_e,Ae,t(this).getComputedStyle(this,null).getPropertyValue(V));return Fe&&function(We){this.style.setProperty(V,Fe(We),ce)}})},ri.text=function(V){return ms(this,"text",V,Na)},ri.remove=function(){var V=this.namespace;return this.each("end.transition",function(){var ne;this[V].count<2&&(ne=this.parentNode)&&ne.removeChild(this)})},ri.ease=function(V){var ne=this.id,ce=this.namespace;return arguments.length<1?this.node()[ce][ne].ease:("function"!=typeof V&&(V=u.ease.apply(u,arguments)),De(this,function(_e){_e[ce][ne].ease=V}))},ri.delay=function(V){var ne=this.id,ce=this.namespace;return arguments.length<1?this.node()[ce][ne].delay:De(this,"function"==typeof V?function(_e,Ae,Fe){_e[ce][ne].delay=+V.call(_e,_e.__data__,Ae,Fe)}:(V=+V,function(_e){_e[ce][ne].delay=V}))},ri.duration=function(V){var ne=this.id,ce=this.namespace;return arguments.length<1?this.node()[ce][ne].duration:De(this,"function"==typeof V?function(_e,Ae,Fe){_e[ce][ne].duration=Math.max(1,V.call(_e,_e.__data__,Ae,Fe))}:(V=Math.max(1,V),function(_e){_e[ce][ne].duration=V}))},ri.each=function(V,ne){var ce=this.id,_e=this.namespace;if(arguments.length<2){var Ae=Ys,Fe=Fa;try{Fa=ce,De(this,function(We,Ye,Je){Ys=We[_e][ce],V.call(We,We.__data__,Ye,Je)})}finally{Ys=Ae,Fa=Fe}}else De(this,function(We){var Ye=We[_e][ce];(Ye.event||(Ye.event=u.dispatch("start","end","interrupt"))).on(V,ne)});return this},ri.transition=function(){for(var V,ne,ce,_e=this.id,Ae=++Oo,Fe=this.namespace,We=[],Ye=0,Je=this.length;Ye<Je;Ye++){We.push(V=[]);for(var tt,lt=0,yt=(tt=this[Ye]).length;lt<yt;lt++)(ne=tt[lt])&&zl(ne,lt,Fe,Ae,{time:(ce=ne[Fe][_e]).time,ease:ce.ease,delay:ce.delay+ce.duration,duration:ce.duration}),V.push(ne)}return fa(We,Fe,Ae)},u.svg.axis=function(){var V,ne=u.scale.linear(),ce=Bl,_e=6,Ae=6,Fe=3,We=[10],Ye=null;function Je(tt){tt.each(function(){var lt,yt=u.select(this),wt=this.__chart__||ne,zt=this.__chart__=ne.copy(),Ut=Ye??(zt.ticks?zt.ticks.apply(zt,We):zt.domain()),Nt=V??(zt.tickFormat?zt.tickFormat.apply(zt,We):N),$t=yt.selectAll(".tick").data(Ut,zt),Bt=$t.enter().insert("g",".domain").attr("class","tick").style("opacity",Ct),pn=u.transition($t.exit()).style("opacity",Ct).remove(),an=u.transition($t.order()).style("opacity",1),en=Math.max(_e,0)+Fe,Dn=ho(zt),In=yt.selectAll(".domain").data([0]),Kn=(In.enter().append("path").attr("class","domain"),u.transition(In));Bt.append("line"),Bt.append("text");var Yn,ir,dr,yr,kr=Bt.select("line"),Cr=an.select("line"),Lr=$t.select("text").text(Nt),ni=Bt.select("text"),Qn=an.select("text"),wr="top"===ce||"left"===ce?-1:1;if("bottom"===ce||"top"===ce?(lt=j,Yn="x",dr="y",ir="x2",yr="y2",Lr.attr("dy",wr<0?"0em":".71em").style("text-anchor","middle"),Kn.attr("d","M"+Dn[0]+","+wr*Ae+"V0H"+Dn[1]+"V"+wr*Ae)):(lt=q,Yn="y",dr="x",ir="y2",yr="x2",Lr.attr("dy",".32em").style("text-anchor",wr<0?"end":"start"),Kn.attr("d","M"+wr*Ae+","+Dn[0]+"H0V"+Dn[1]+"H"+wr*Ae)),kr.attr(yr,wr*_e),ni.attr(dr,wr*en),Cr.attr(ir,0).attr(yr,wr*_e),Qn.attr(Yn,0).attr(dr,wr*en),zt.rangeBand){var Er=zt,jr=Er.rangeBand()/2;wt=zt=function(Jr){return Er(Jr)+jr}}else wt.rangeBand?wt=zt:pn.call(lt,zt,wt);Bt.call(lt,wt,zt),an.call(lt,zt,zt)})}return Je.scale=function(tt){return arguments.length?(ne=tt,Je):ne},Je.orient=function(tt){return arguments.length?(ce=tt in $s?tt+"":Bl,Je):ce},Je.ticks=function(){return arguments.length?(We=T(arguments),Je):We},Je.tickValues=function(tt){return arguments.length?(Ye=tt,Je):Ye},Je.tickFormat=function(tt){return arguments.length?(V=tt,Je):V},Je.tickSize=function(tt){var lt=arguments.length;return lt?(_e=+tt,Ae=+arguments[lt-1],Je):_e},Je.innerTickSize=function(tt){return arguments.length?(_e=+tt,Je):_e},Je.outerTickSize=function(tt){return arguments.length?(Ae=+tt,Je):Ae},Je.tickPadding=function(tt){return arguments.length?(Fe=+tt,Je):Fe},Je.tickSubdivide=function(){return arguments.length&&Je},Je};var Bl="bottom",$s={top:1,right:1,bottom:1,left:1};function j(V,ne,ce){V.attr("transform",function(_e){var Ae=ne(_e);return"translate("+(isFinite(Ae)?Ae:ce(_e))+",0)"})}function q(V,ne,ce){V.attr("transform",function(_e){var Ae=ne(_e);return"translate(0,"+(isFinite(Ae)?Ae:ce(_e))+")"})}u.svg.brush=function(){var V,ne,ce=K(lt,"brushstart","brush","brushend"),_e=null,Ae=null,Fe=[0,0],We=[0,0],Ye=!0,Je=!0,tt=ee[0];function lt(Nt){Nt.each(function(){var $t=u.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ut).on("touchstart.brush",Ut),Bt=$t.selectAll(".background").data([0]);Bt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),$t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var pn=$t.selectAll(".resize").data(tt,N);pn.exit().remove(),pn.enter().append("g").attr("class",function(In){return"resize "+In}).style("cursor",function(In){return G[In]}).append("rect").attr("x",function(In){return/[ew]$/.test(In)?-3:null}).attr("y",function(In){return/^[ns]/.test(In)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),pn.style("display",lt.empty()?"none":null);var an,en=u.transition($t),Dn=u.transition(Bt);_e&&(an=ho(_e),Dn.attr("x",an[0]).attr("width",an[1]-an[0]),wt(en)),Ae&&(an=ho(Ae),Dn.attr("y",an[0]).attr("height",an[1]-an[0]),zt(en)),yt(en)})}function yt(Nt){Nt.selectAll(".resize").attr("transform",function($t){return"translate("+Fe[+/e$/.test($t)]+","+We[+/^s/.test($t)]+")"})}function wt(Nt){Nt.select(".extent").attr("x",Fe[0]),Nt.selectAll(".extent,.n>rect,.s>rect").attr("width",Fe[1]-Fe[0])}function zt(Nt){Nt.select(".extent").attr("y",We[0]),Nt.selectAll(".extent,.e>rect,.w>rect").attr("height",We[1]-We[0])}function Ut(){var Nt,$t,Bt=this,pn=u.select(u.event.target),an=ce.of(Bt,arguments),en=u.select(Bt),Dn=pn.datum(),In=!/^(n|s)$/.test(Dn)&&_e,Kn=!/^(e|w)$/.test(Dn)&&Ae,Yn=pn.classed("extent"),ir=kt(Bt),dr=u.mouse(Bt),yr=u.select(t(Bt)).on("keydown.brush",function(){32==u.event.keyCode&&(Yn||(Nt=null,dr[0]-=Fe[1],dr[1]-=We[1],Yn=2),re())}).on("keyup.brush",function(){32==u.event.keyCode&&2==Yn&&(dr[0]+=Fe[1],dr[1]+=We[1],Yn=0,re())});if(u.event.changedTouches?yr.on("touchmove.brush",Lr).on("touchend.brush",Qn):yr.on("mousemove.brush",Lr).on("mouseup.brush",Qn),en.interrupt().selectAll("*").interrupt(),Yn)dr[0]=Fe[0]-dr[0],dr[1]=We[0]-dr[1];else if(Dn){var kr=+/w$/.test(Dn),Cr=+/^n/.test(Dn);$t=[Fe[1-kr]-dr[0],We[1-Cr]-dr[1]],dr[0]=Fe[kr],dr[1]=We[Cr]}else u.event.altKey&&(Nt=dr.slice());function Lr(){var wr=u.mouse(Bt),Er=!1;$t&&(wr[0]+=$t[0],wr[1]+=$t[1]),Yn||(u.event.altKey?(Nt||(Nt=[(Fe[0]+Fe[1])/2,(We[0]+We[1])/2]),dr[0]=Fe[+(wr[0]<Nt[0])],dr[1]=We[+(wr[1]<Nt[1])]):Nt=null),In&&ni(wr,_e,0)&&(wt(en),Er=!0),Kn&&ni(wr,Ae,1)&&(zt(en),Er=!0),Er&&(yt(en),an({type:"brush",mode:Yn?"move":"resize"}))}function ni(wr,Er,jr){var Jr,ci,bi=ho(Er),Hi=bi[0],po=bi[1],uo=dr[jr],Gi=jr?We:Fe,Mo=Gi[1]-Gi[0];if(Yn&&(Hi-=uo,po-=Mo+uo),Jr=(jr?Je:Ye)?Math.max(Hi,Math.min(po,wr[jr])):wr[jr],Yn?ci=(Jr+=uo)+Mo:(Nt&&(uo=Math.max(Hi,Math.min(po,2*Nt[jr]-Jr))),uo<Jr?(ci=Jr,Jr=uo):ci=uo),Gi[0]!=Jr||Gi[1]!=ci)return jr?ne=null:V=null,Gi[0]=Jr,Gi[1]=ci,!0}function Qn(){Lr(),en.style("pointer-events","all").selectAll(".resize").style("display",lt.empty()?"none":null),u.select("body").style("cursor",null),yr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ir(),an({type:"brushend"})}en.style("pointer-events","none").selectAll(".resize").style("display",null),u.select("body").style("cursor",pn.style("cursor")),an({type:"brushstart"}),Lr()}return lt.event=function(Nt){Nt.each(function(){var $t=ce.of(this,arguments),Bt={x:Fe,y:We,i:V,j:ne},pn=this.__chart__||Bt;this.__chart__=Bt,Fa?u.select(this).transition().each("start.brush",function(){V=pn.i,ne=pn.j,Fe=pn.x,We=pn.y,$t({type:"brushstart"})}).tween("brush:brush",function(){var an=Eo(Fe,Bt.x),en=Eo(We,Bt.y);return V=ne=null,function(Dn){Fe=Bt.x=an(Dn),We=Bt.y=en(Dn),$t({type:"brush",mode:"resize"})}}).each("end.brush",function(){V=Bt.i,ne=Bt.j,$t({type:"brush",mode:"resize"}),$t({type:"brushend"})}):($t({type:"brushstart"}),$t({type:"brush",mode:"resize"}),$t({type:"brushend"}))})},lt.x=function(Nt){return arguments.length?(tt=ee[!(_e=Nt)<<1|!Ae],lt):_e},lt.y=function(Nt){return arguments.length?(tt=ee[!_e<<1|!(Ae=Nt)],lt):Ae},lt.clamp=function(Nt){return arguments.length?(_e&&Ae?(Ye=!!Nt[0],Je=!!Nt[1]):_e?Ye=!!Nt:Ae&&(Je=!!Nt),lt):_e&&Ae?[Ye,Je]:_e?Ye:Ae?Je:null},lt.extent=function(Nt){var $t,Bt,pn,an,en;return arguments.length?(_e&&($t=Nt[0],Bt=Nt[1],Ae&&($t=$t[0],Bt=Bt[0]),V=[$t,Bt],_e.invert&&($t=_e($t),Bt=_e(Bt)),Bt<$t&&(en=$t,$t=Bt,Bt=en),$t==Fe[0]&&Bt==Fe[1]||(Fe=[$t,Bt])),Ae&&(pn=Nt[0],an=Nt[1],_e&&(pn=pn[1],an=an[1]),ne=[pn,an],Ae.invert&&(pn=Ae(pn),an=Ae(an)),an<pn&&(en=pn,pn=an,an=en),pn==We[0]&&an==We[1]||(We=[pn,an])),lt):(_e&&(V?($t=V[0],Bt=V[1]):($t=Fe[0],Bt=Fe[1],_e.invert&&($t=_e.invert($t),Bt=_e.invert(Bt)),Bt<$t&&(en=$t,$t=Bt,Bt=en))),Ae&&(ne?(pn=ne[0],an=ne[1]):(pn=We[0],an=We[1],Ae.invert&&(pn=Ae.invert(pn),an=Ae.invert(an)),an<pn&&(en=pn,pn=an,an=en))),_e&&Ae?[[$t,pn],[Bt,an]]:_e?[$t,Bt]:Ae&&[pn,an])},lt.clear=function(){return lt.empty()||(Fe=[0,0],We=[0,0],V=ne=null),lt},lt.empty=function(){return!!_e&&Fe[0]==Fe[1]||!!Ae&&We[0]==We[1]},u.rebind(lt,ce,"on")};var G={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ee=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function ye(V){return JSON.parse(V.responseText)}function Le(V){var ne=m.createRange();return ne.selectNode(m.body),ne.createContextualFragment(V.responseText)}u.text=pr(function(V){return V.responseText}),u.json=function(V,ne){return ar(V,"application/json",ye,ne)},u.html=function(V,ne){return ar(V,"text/html",Le,ne)},u.xml=pr(function(V){return V.responseXML}),void 0===(S="function"==typeof(C=u)?C.call(B,e,B,ie):C)||(ie.exports=S)}).apply(self)},88294:function(ie,B,e){"use strict";ie.exports=e(62849)},62849:function(ie,B,e){"use strict";var C=e(91358),S=e(53435),u=e(18863),A=e(21527),T=e(71299),m=e(46775),l=e(30120),t=e(64941),o=e(90660),r=e(27084);function n(a,s){for(var c=s[0],p=s[1],f=1/(s[2]-c),w=1/(s[3]-p),v=new Array(a.length),h=0,_=a.length/2;h<_;h++)v[2*h]=S((a[2*h]-c)*f,0,1),v[2*h+1]=S((a[2*h+1]-p)*w,0,1);return v}ie.exports=function(a,s){s||(s={}),a=l(a,"float64"),s=T(s,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var c=m(s.maxDepth,255),p=m(s.bounds,A(a,2));p[0]===p[2]&&p[2]++,p[1]===p[3]&&p[3]++;var f,w=n(a,p),v=a.length>>>1;s.dtype||(s.dtype="array"),"string"==typeof s.dtype?f=new(o(s.dtype))(v):s.dtype&&(f=s.dtype,Array.isArray(f)&&(f.length=v));for(var h=0;h<v;++h)f[h]=h;var _=[],x=[],b=[],M=[];!function z($,N,W,H,U,Z){if(!H.length)return null;var Y=_[U]||(_[U]=[]),ae=b[U]||(b[U]=[]),re=x[U]||(x[U]=[]),Q=Y.length;if(++U>c||Z>1073741824){for(var K=0;K<H.length;K++)Y.push(H[K]),ae.push(Z),re.push(null,null,null,null);return Q}if(Y.push(H[0]),ae.push(Z),H.length<=1)return re.push(null,null,null,null),Q;for(var te=.5*W,oe=$+te,ue=N+te,fe=[],he=[],me=[],ke=[],Pe=1,Te=H.length;Pe<Te;Pe++){var be=H[Pe],Ne=w[2*be+1];w[2*be]<oe?Ne<ue?fe.push(be):he.push(be):Ne<ue?me.push(be):ke.push(be)}return re.push(z($,N,te,fe,U,Z<<=2),z($,ue,te,he,U,Z+1),z(oe,N,te,me,U,Z+2),z(oe,ue,te,ke,U,Z+3)),Q}(0,0,1,f,0,1);for(var d=0,E=0;E<_.length;E++){var k=_[E];if(f.set)f.set(k,d);else for(var I=0,L=k.length;I<L;I++)f[I+d]=k[I];var P=d+_[E].length;M[E]=[d,P],d=P}return f.range=function(){for(var z,$=[],N=arguments.length;N--;)$[N]=arguments[N];if(t($[$.length-1])){var W=$.pop();$.length||null==W.x&&null==W.l&&null==W.left||($=[W],z={}),z=T(W,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else z={};$.length||($=p);var H,U=u.apply(void 0,$),Z=[Math.min(U.x,U.x+U.width),Math.min(U.y,U.y+U.height),Math.max(U.x,U.x+U.width),Math.max(U.y,U.y+U.height)],Y=Z[0],ae=Z[1],re=Z[2],Q=Z[3],K=n([Y,ae,re,Q],p),te=K[0],oe=K[1],ue=K[2],fe=K[3],he=m(z.level,_.length);if(null!=z.d&&("number"==typeof z.d?H=[z.d,z.d]:z.d.length&&(H=z.d),he=Math.min(Math.max(Math.ceil(-r(Math.abs(H[0])/(p[2]-p[0]))),Math.ceil(-r(Math.abs(H[1])/(p[3]-p[1])))),he)),he=Math.min(he,_.length),z.lod)return function(ke,Pe,Te,be,xe){for(var Ne=[],Se=0;Se<xe;Se++){var Ce=b[Se],pe=M[Se][0],de=R(ke,Pe,Se),se=R(Te,be,Se),we=C.ge(Ce,de),Re=C.gt(Ce,se,we,Ce.length-1);Ne[Se]=[we+pe,Re+pe]}return Ne}(te,oe,ue,fe,he);var me=[];return function ke(Pe,Te,be,xe,Ne,Se){if(null!==Ne&&null!==Se&&!(te>Pe+be||oe>Te+be||ue<Pe||fe<Te||xe>=he||Ne===Se)){var Ce=_[xe];void 0===Se&&(Se=Ce.length);for(var pe=Ne;pe<Se;pe++){var de=Ce[pe],se=a[2*de],we=a[2*de+1];se>=Y&&se<=re&&we>=ae&&we<=Q&&me.push(de)}var Re=x[xe],Ee=Re[4*Ne+0],Ue=Re[4*Ne+1],$e=Re[4*Ne+2],ve=Re[4*Ne+3],Ie=function(Ge,He){for(var Ke=null,et=0;null===Ke;)if(Ke=Ge[4*He+et],++et>Ge.length)return null;return Ke}(Re,Ne+1),De=.5*be,ze=xe+1;ke(Pe,Te,De,ze,Ee,Ue||$e||ve||Ie),ke(Pe,Te+De,De,ze,Ue,$e||ve||Ie),ke(Pe+De,Te,De,ze,$e,ve||Ie),ke(Pe+De,Te+De,De,ze,ve,Ie)}}(0,0,1,0,0,1),me},f;function R(z,$,N){for(var W=1,H=.5,U=.5,Z=.5,Y=0;Y<N;Y++)W<<=2,W+=z<H?$<U?0:1:$<U?2:3,Z*=.5,H+=z<H?-Z:Z,U+=$<U?-Z:Z;return W}}},30774:function(ie,B,e){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var C=e(60302),S=6378137;function u(m){var l=0;if(m&&m.length>0){l+=Math.abs(A(m[0]));for(var t=1;t<m.length;t++)l-=Math.abs(A(m[t]))}return l}function A(m){var l,t,o,r,n,a,s=0,c=m.length;if(c>2){for(a=0;a<c;a++)a===c-2?(o=c-2,r=c-1,n=0):a===c-1?(o=c-1,r=0,n=1):(o=a,r=a+1,n=a+2),l=m[o],t=m[r],s+=(T(m[n][0])-T(l[0]))*Math.sin(T(t[1]));s=s*S*S/2}return s}function T(m){return m*Math.PI/180}B.default=function(m){return C.geomReduce(m,function(l,t){return l+function(o){var r,n=0;switch(o.type){case"Polygon":return u(o.coordinates);case"MultiPolygon":for(r=0;r<o.coordinates.length;r++)n+=u(o.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},23132:function(ie,B){"use strict";function e(a,s,c){void 0===c&&(c={});var p={type:"Feature"};return(0===c.id||c.id)&&(p.id=c.id),c.bbox&&(p.bbox=c.bbox),p.properties=s||{},p.geometry=a,p}function C(a,s,c){if(void 0===c&&(c={}),!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");if(a.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(a[0])||!n(a[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:a},s,c)}function S(a,s,c){void 0===c&&(c={});for(var p=0,f=a;p<f.length;p++){var w=f[p];if(w.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var v=0;v<w[w.length-1].length;v++)if(w[w.length-1][v]!==w[0][v])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:a},s,c)}function u(a,s,c){if(void 0===c&&(c={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:a},s,c)}function A(a,s){void 0===s&&(s={});var c={type:"FeatureCollection"};return s.id&&(c.id=s.id),s.bbox&&(c.bbox=s.bbox),c.features=a,c}function T(a,s,c){return void 0===c&&(c={}),e({type:"MultiLineString",coordinates:a},s,c)}function m(a,s,c){return void 0===c&&(c={}),e({type:"MultiPoint",coordinates:a},s,c)}function l(a,s,c){return void 0===c&&(c={}),e({type:"MultiPolygon",coordinates:a},s,c)}function t(a,s){void 0===s&&(s="kilometers");var c=B.factors[s];if(!c)throw new Error(s+" units is invalid");return a*c}function o(a,s){void 0===s&&(s="kilometers");var c=B.factors[s];if(!c)throw new Error(s+" units is invalid");return a/c}function r(a){return a%(2*Math.PI)*180/Math.PI}function n(a){return!isNaN(a)&&null!==a&&!Array.isArray(a)}Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=6371008.8,B.factors={centimeters:100*B.earthRadius,centimetres:100*B.earthRadius,degrees:B.earthRadius/111325,feet:3.28084*B.earthRadius,inches:39.37*B.earthRadius,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:1e3*B.earthRadius,millimetres:1e3*B.earthRadius,nauticalmiles:B.earthRadius/1852,radians:1,yards:1.0936*B.earthRadius},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},B.feature=e,B.geometry=function(a,s,c){switch(void 0===c&&(c={}),a){case"Point":return C(s).geometry;case"LineString":return u(s).geometry;case"Polygon":return S(s).geometry;case"MultiPoint":return m(s).geometry;case"MultiLineString":return T(s).geometry;case"MultiPolygon":return l(s).geometry;default:throw new Error(a+" is invalid")}},B.point=C,B.points=function(a,s,c){return void 0===c&&(c={}),A(a.map(function(p){return C(p,s)}),c)},B.polygon=S,B.polygons=function(a,s,c){return void 0===c&&(c={}),A(a.map(function(p){return S(p,s)}),c)},B.lineString=u,B.lineStrings=function(a,s,c){return void 0===c&&(c={}),A(a.map(function(p){return u(p,s)}),c)},B.featureCollection=A,B.multiLineString=T,B.multiPoint=m,B.multiPolygon=l,B.geometryCollection=function(a,s,c){return void 0===c&&(c={}),e({type:"GeometryCollection",geometries:a},s,c)},B.round=function(a,s){if(void 0===s&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var c=Math.pow(10,s||0);return Math.round(a*c)/c},B.radiansToLength=t,B.lengthToRadians=o,B.lengthToDegrees=function(a,s){return r(o(a,s))},B.bearingToAzimuth=function(a){var s=a%360;return s<0&&(s+=360),s},B.radiansToDegrees=r,B.degreesToRadians=function(a){return a%360*Math.PI/180},B.convertLength=function(a,s,c){if(void 0===s&&(s="kilometers"),void 0===c&&(c="kilometers"),!(a>=0))throw new Error("length must be a positive number");return t(o(a,s),c)},B.convertArea=function(a,s,c){if(void 0===s&&(s="meters"),void 0===c&&(c="kilometers"),!(a>=0))throw new Error("area must be a positive number");var p=B.areaFactors[s];if(!p)throw new Error("invalid original units");var f=B.areaFactors[c];if(!f)throw new Error("invalid final units");return a/p*f},B.isNumber=n,B.isObject=function(a){return!!a&&a.constructor===Object},B.validateBBox=function(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(4!==a.length&&6!==a.length)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(s){if(!n(s))throw new Error("bbox must only contain numbers")})},B.validateId=function(a){if(!a)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof a))throw new Error("id must be a number or a string")}},60302:function(ie,B,e){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var C=e(23132);function S(o,r,n){if(null!==o)for(var a,s,c,p,f,w,v,h,_=0,x=0,b=o.type,M="FeatureCollection"===b,d="Feature"===b,E=M?o.features.length:1,k=0;k<E;k++){f=(h=!!(v=M?o.features[k].geometry:d?o.geometry:o)&&"GeometryCollection"===v.type)?v.geometries.length:1;for(var I=0;I<f;I++){var L=0,P=0;if(null!==(p=h?v.geometries[I]:v)){w=p.coordinates;var R=p.type;switch(_=!n||"Polygon"!==R&&"MultiPolygon"!==R?0:1,R){case null:break;case"Point":if(!1===r(w,x,k,L,P))return!1;x++,L++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(!1===r(w[a],x,k,L,P))return!1;x++,"MultiPoint"===R&&L++}"LineString"===R&&L++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(s=0;s<w[a].length-_;s++){if(!1===r(w[a][s],x,k,L,P))return!1;x++}"MultiLineString"===R&&L++,"Polygon"===R&&P++}"Polygon"===R&&L++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(P=0,s=0;s<w[a].length;s++){for(c=0;c<w[a][s].length-_;c++){if(!1===r(w[a][s][c],x,k,L,P))return!1;x++}P++}L++}break;case"GeometryCollection":for(a=0;a<p.geometries.length;a++)if(!1===S(p.geometries[a],r,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function u(o,r){var n;switch(o.type){case"FeatureCollection":for(n=0;n<o.features.length&&!1!==r(o.features[n].properties,n);n++);break;case"Feature":r(o.properties,0)}}function A(o,r){if("Feature"===o.type)r(o,0);else if("FeatureCollection"===o.type)for(var n=0;n<o.features.length&&!1!==r(o.features[n],n);n++);}function T(o,r){var n,a,s,c,p,f,w,v,h,_,x=0,b="FeatureCollection"===o.type,M="Feature"===o.type,d=b?o.features.length:1;for(n=0;n<d;n++){for(v=b?o.features[n].properties:M?o.properties:{},h=b?o.features[n].bbox:M?o.bbox:void 0,_=b?o.features[n].id:M?o.id:void 0,p=(w=!!(f=b?o.features[n].geometry:M?o.geometry:o)&&"GeometryCollection"===f.type)?f.geometries.length:1,s=0;s<p;s++)if(null!==(c=w?f.geometries[s]:f))switch(c.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(c,x,v,h,_))return!1;break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)if(!1===r(c.geometries[a],x,v,h,_))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,x,v,h,_))return!1;x++}}function m(o,r){T(o,function(n,a,s,c,p){var f,w=null===n?null:n.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return!1!==r(C.feature(n,s,{bbox:c,id:p}),a,0)&&void 0}switch(w){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon"}for(var v=0;v<n.coordinates.length;v++)if(!1===r(C.feature({type:f,coordinates:n.coordinates[v]},s),a,v))return!1})}function l(o,r){m(o,function(n,a,s){var c=0;if(n.geometry){var p=n.geometry.type;if("Point"!==p&&"MultiPoint"!==p){var f,w=0,v=0,h=0;return!1!==S(n,function(_,x,b,M,d){if(void 0===f||a>w||M>v||d>h)return f=_,w=a,v=M,h=d,void(c=0);var E=C.lineString([f,_],n.properties);if(!1===r(E,a,s,d,c))return!1;c++,f=_})&&void 0}}})}function t(o,r){if(!o)throw new Error("geojson is required");m(o,function(n,a,s){if(null!==n.geometry){var p=n.geometry.coordinates;switch(n.geometry.type){case"LineString":if(!1===r(n,a,s,0,0))return!1;break;case"Polygon":for(var f=0;f<p.length;f++)if(!1===r(C.lineString(p[f],n.properties),a,s,f))return!1}}})}B.coordEach=S,B.coordReduce=function(o,r,n,a){var s=n;return S(o,function(c,p,f,w,v){s=0===p&&void 0===n?c:r(s,c,p,f,w,v)},a),s},B.propEach=u,B.propReduce=function(o,r,n){var a=n;return u(o,function(s,c){a=0===c&&void 0===n?s:r(a,s,c)}),a},B.featureEach=A,B.featureReduce=function(o,r,n){var a=n;return A(o,function(s,c){a=0===c&&void 0===n?s:r(a,s,c)}),a},B.coordAll=function(o){var r=[];return S(o,function(n){r.push(n)}),r},B.geomEach=T,B.geomReduce=function(o,r,n){var a=n;return T(o,function(s,c,p,f,w){a=0===c&&void 0===n?s:r(a,s,c,p,f,w)}),a},B.flattenEach=m,B.flattenReduce=function(o,r,n){var a=n;return m(o,function(s,c,p){a=0===c&&0===p&&void 0===n?s:r(a,s,c,p)}),a},B.segmentEach=l,B.segmentReduce=function(o,r,n){var a=n,s=!1;return l(o,function(c,p,f,w,v){a=!1===s&&void 0===n?c:r(a,c,p,f,w,v),s=!0}),a},B.lineEach=t,B.lineReduce=function(o,r,n){var a=n;return t(o,function(s,c,p,f){a=0===c&&void 0===n?s:r(a,s,c,p,f)}),a},B.findSegment=function(o,r){if(!C.isObject(r=r||{}))throw new Error("options is invalid");var n,a=r.featureIndex||0,s=r.multiFeatureIndex||0,c=r.geometryIndex||0,p=r.segmentIndex||0,f=r.properties;switch(o.type){case"FeatureCollection":a<0&&(a=o.features.length+a),f=f||o.features[a].properties,n=o.features[a].geometry;break;case"Feature":f=f||o.properties,n=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=o;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var w=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=w.length+p-1),C.lineString([w[p],w[p+1]],f,r);case"Polygon":return c<0&&(c=w.length+c),p<0&&(p=w[c].length+p-1),C.lineString([w[c][p],w[c][p+1]],f,r);case"MultiLineString":return s<0&&(s=w.length+s),p<0&&(p=w[s].length+p-1),C.lineString([w[s][p],w[s][p+1]],f,r);case"MultiPolygon":return s<0&&(s=w.length+s),c<0&&(c=w[s].length+c),p<0&&(p=w[s][c].length-p-1),C.lineString([w[s][c][p],w[s][c][p+1]],f,r)}throw new Error("geojson is invalid")},B.findPoint=function(o,r){if(!C.isObject(r=r||{}))throw new Error("options is invalid");var n,a=r.featureIndex||0,s=r.multiFeatureIndex||0,c=r.geometryIndex||0,p=r.coordIndex||0,f=r.properties;switch(o.type){case"FeatureCollection":a<0&&(a=o.features.length+a),f=f||o.features[a].properties,n=o.features[a].geometry;break;case"Feature":f=f||o.properties,n=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=o;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var w=n.coordinates;switch(n.type){case"Point":return C.point(w,f,r);case"MultiPoint":return s<0&&(s=w.length+s),C.point(w[s],f,r);case"LineString":return p<0&&(p=w.length+p),C.point(w[p],f,r);case"Polygon":return c<0&&(c=w.length+c),p<0&&(p=w[c].length+p),C.point(w[c][p],f,r);case"MultiLineString":return s<0&&(s=w.length+s),p<0&&(p=w[s].length+p),C.point(w[s][p],f,r);case"MultiPolygon":return s<0&&(s=w.length+s),c<0&&(c=w[s].length+c),p<0&&(p=w[s][c].length-p),C.point(w[s][c][p],f,r)}throw new Error("geojson is invalid")}},85268:function(ie,B,e){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var C=e(27138);function S(u){var A=[1/0,1/0,-1/0,-1/0];return C.coordEach(u,function(T){A[0]>T[0]&&(A[0]=T[0]),A[1]>T[1]&&(A[1]=T[1]),A[2]<T[0]&&(A[2]=T[0]),A[3]<T[1]&&(A[3]=T[1])}),A}S.default=S,B.default=S},94228:function(ie,B){"use strict";function e(a,s,c){void 0===c&&(c={});var p={type:"Feature"};return(0===c.id||c.id)&&(p.id=c.id),c.bbox&&(p.bbox=c.bbox),p.properties=s||{},p.geometry=a,p}function C(a,s,c){if(void 0===c&&(c={}),!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");if(a.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(a[0])||!n(a[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:a},s,c)}function S(a,s,c){void 0===c&&(c={});for(var p=0,f=a;p<f.length;p++){var w=f[p];if(w.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var v=0;v<w[w.length-1].length;v++)if(w[w.length-1][v]!==w[0][v])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:a},s,c)}function u(a,s,c){if(void 0===c&&(c={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:a},s,c)}function A(a,s){void 0===s&&(s={});var c={type:"FeatureCollection"};return s.id&&(c.id=s.id),s.bbox&&(c.bbox=s.bbox),c.features=a,c}function T(a,s,c){return void 0===c&&(c={}),e({type:"MultiLineString",coordinates:a},s,c)}function m(a,s,c){return void 0===c&&(c={}),e({type:"MultiPoint",coordinates:a},s,c)}function l(a,s,c){return void 0===c&&(c={}),e({type:"MultiPolygon",coordinates:a},s,c)}function t(a,s){void 0===s&&(s="kilometers");var c=B.factors[s];if(!c)throw new Error(s+" units is invalid");return a*c}function o(a,s){void 0===s&&(s="kilometers");var c=B.factors[s];if(!c)throw new Error(s+" units is invalid");return a/c}function r(a){return a%(2*Math.PI)*180/Math.PI}function n(a){return!isNaN(a)&&null!==a&&!Array.isArray(a)}Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=6371008.8,B.factors={centimeters:100*B.earthRadius,centimetres:100*B.earthRadius,degrees:B.earthRadius/111325,feet:3.28084*B.earthRadius,inches:39.37*B.earthRadius,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:1e3*B.earthRadius,millimetres:1e3*B.earthRadius,nauticalmiles:B.earthRadius/1852,radians:1,yards:1.0936*B.earthRadius},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},B.feature=e,B.geometry=function(a,s,c){switch(void 0===c&&(c={}),a){case"Point":return C(s).geometry;case"LineString":return u(s).geometry;case"Polygon":return S(s).geometry;case"MultiPoint":return m(s).geometry;case"MultiLineString":return T(s).geometry;case"MultiPolygon":return l(s).geometry;default:throw new Error(a+" is invalid")}},B.point=C,B.points=function(a,s,c){return void 0===c&&(c={}),A(a.map(function(p){return C(p,s)}),c)},B.polygon=S,B.polygons=function(a,s,c){return void 0===c&&(c={}),A(a.map(function(p){return S(p,s)}),c)},B.lineString=u,B.lineStrings=function(a,s,c){return void 0===c&&(c={}),A(a.map(function(p){return u(p,s)}),c)},B.featureCollection=A,B.multiLineString=T,B.multiPoint=m,B.multiPolygon=l,B.geometryCollection=function(a,s,c){return void 0===c&&(c={}),e({type:"GeometryCollection",geometries:a},s,c)},B.round=function(a,s){if(void 0===s&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var c=Math.pow(10,s||0);return Math.round(a*c)/c},B.radiansToLength=t,B.lengthToRadians=o,B.lengthToDegrees=function(a,s){return r(o(a,s))},B.bearingToAzimuth=function(a){var s=a%360;return s<0&&(s+=360),s},B.radiansToDegrees=r,B.degreesToRadians=function(a){return a%360*Math.PI/180},B.convertLength=function(a,s,c){if(void 0===s&&(s="kilometers"),void 0===c&&(c="kilometers"),!(a>=0))throw new Error("length must be a positive number");return t(o(a,s),c)},B.convertArea=function(a,s,c){if(void 0===s&&(s="meters"),void 0===c&&(c="kilometers"),!(a>=0))throw new Error("area must be a positive number");var p=B.areaFactors[s];if(!p)throw new Error("invalid original units");var f=B.areaFactors[c];if(!f)throw new Error("invalid final units");return a/p*f},B.isNumber=n,B.isObject=function(a){return!!a&&a.constructor===Object},B.validateBBox=function(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(4!==a.length&&6!==a.length)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(s){if(!n(s))throw new Error("bbox must only contain numbers")})},B.validateId=function(a){if(!a)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof a))throw new Error("id must be a number or a string")}},27138:function(ie,B,e){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var C=e(94228);function S(o,r,n){if(null!==o)for(var a,s,c,p,f,w,v,h,_=0,x=0,b=o.type,M="FeatureCollection"===b,d="Feature"===b,E=M?o.features.length:1,k=0;k<E;k++){f=(h=!!(v=M?o.features[k].geometry:d?o.geometry:o)&&"GeometryCollection"===v.type)?v.geometries.length:1;for(var I=0;I<f;I++){var L=0,P=0;if(null!==(p=h?v.geometries[I]:v)){w=p.coordinates;var R=p.type;switch(_=!n||"Polygon"!==R&&"MultiPolygon"!==R?0:1,R){case null:break;case"Point":if(!1===r(w,x,k,L,P))return!1;x++,L++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(!1===r(w[a],x,k,L,P))return!1;x++,"MultiPoint"===R&&L++}"LineString"===R&&L++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(s=0;s<w[a].length-_;s++){if(!1===r(w[a][s],x,k,L,P))return!1;x++}"MultiLineString"===R&&L++,"Polygon"===R&&P++}"Polygon"===R&&L++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(P=0,s=0;s<w[a].length;s++){for(c=0;c<w[a][s].length-_;c++){if(!1===r(w[a][s][c],x,k,L,P))return!1;x++}P++}L++}break;case"GeometryCollection":for(a=0;a<p.geometries.length;a++)if(!1===S(p.geometries[a],r,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function u(o,r){var n;switch(o.type){case"FeatureCollection":for(n=0;n<o.features.length&&!1!==r(o.features[n].properties,n);n++);break;case"Feature":r(o.properties,0)}}function A(o,r){if("Feature"===o.type)r(o,0);else if("FeatureCollection"===o.type)for(var n=0;n<o.features.length&&!1!==r(o.features[n],n);n++);}function T(o,r){var n,a,s,c,p,f,w,v,h,_,x=0,b="FeatureCollection"===o.type,M="Feature"===o.type,d=b?o.features.length:1;for(n=0;n<d;n++){for(v=b?o.features[n].properties:M?o.properties:{},h=b?o.features[n].bbox:M?o.bbox:void 0,_=b?o.features[n].id:M?o.id:void 0,p=(w=!!(f=b?o.features[n].geometry:M?o.geometry:o)&&"GeometryCollection"===f.type)?f.geometries.length:1,s=0;s<p;s++)if(null!==(c=w?f.geometries[s]:f))switch(c.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(c,x,v,h,_))return!1;break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)if(!1===r(c.geometries[a],x,v,h,_))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,x,v,h,_))return!1;x++}}function m(o,r){T(o,function(n,a,s,c,p){var f,w=null===n?null:n.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return!1!==r(C.feature(n,s,{bbox:c,id:p}),a,0)&&void 0}switch(w){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon"}for(var v=0;v<n.coordinates.length;v++)if(!1===r(C.feature({type:f,coordinates:n.coordinates[v]},s),a,v))return!1})}function l(o,r){m(o,function(n,a,s){var c=0;if(n.geometry){var p=n.geometry.type;if("Point"!==p&&"MultiPoint"!==p){var f,w=0,v=0,h=0;return!1!==S(n,function(_,x,b,M,d){if(void 0===f||a>w||M>v||d>h)return f=_,w=a,v=M,h=d,void(c=0);var E=C.lineString([f,_],n.properties);if(!1===r(E,a,s,d,c))return!1;c++,f=_})&&void 0}}})}function t(o,r){if(!o)throw new Error("geojson is required");m(o,function(n,a,s){if(null!==n.geometry){var p=n.geometry.coordinates;switch(n.geometry.type){case"LineString":if(!1===r(n,a,s,0,0))return!1;break;case"Polygon":for(var f=0;f<p.length;f++)if(!1===r(C.lineString(p[f],n.properties),a,s,f))return!1}}})}B.coordEach=S,B.coordReduce=function(o,r,n,a){var s=n;return S(o,function(c,p,f,w,v){s=0===p&&void 0===n?c:r(s,c,p,f,w,v)},a),s},B.propEach=u,B.propReduce=function(o,r,n){var a=n;return u(o,function(s,c){a=0===c&&void 0===n?s:r(a,s,c)}),a},B.featureEach=A,B.featureReduce=function(o,r,n){var a=n;return A(o,function(s,c){a=0===c&&void 0===n?s:r(a,s,c)}),a},B.coordAll=function(o){var r=[];return S(o,function(n){r.push(n)}),r},B.geomEach=T,B.geomReduce=function(o,r,n){var a=n;return T(o,function(s,c,p,f,w){a=0===c&&void 0===n?s:r(a,s,c,p,f,w)}),a},B.flattenEach=m,B.flattenReduce=function(o,r,n){var a=n;return m(o,function(s,c,p){a=0===c&&0===p&&void 0===n?s:r(a,s,c,p)}),a},B.segmentEach=l,B.segmentReduce=function(o,r,n){var a=n,s=!1;return l(o,function(c,p,f,w,v){a=!1===s&&void 0===n?c:r(a,c,p,f,w,v),s=!0}),a},B.lineEach=t,B.lineReduce=function(o,r,n){var a=n;return t(o,function(s,c,p,f){a=0===c&&void 0===n?s:r(a,s,c,p,f)}),a},B.findSegment=function(o,r){if(!C.isObject(r=r||{}))throw new Error("options is invalid");var n,a=r.featureIndex||0,s=r.multiFeatureIndex||0,c=r.geometryIndex||0,p=r.segmentIndex||0,f=r.properties;switch(o.type){case"FeatureCollection":a<0&&(a=o.features.length+a),f=f||o.features[a].properties,n=o.features[a].geometry;break;case"Feature":f=f||o.properties,n=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=o;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var w=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=w.length+p-1),C.lineString([w[p],w[p+1]],f,r);case"Polygon":return c<0&&(c=w.length+c),p<0&&(p=w[c].length+p-1),C.lineString([w[c][p],w[c][p+1]],f,r);case"MultiLineString":return s<0&&(s=w.length+s),p<0&&(p=w[s].length+p-1),C.lineString([w[s][p],w[s][p+1]],f,r);case"MultiPolygon":return s<0&&(s=w.length+s),c<0&&(c=w[s].length+c),p<0&&(p=w[s][c].length-p-1),C.lineString([w[s][c][p],w[s][c][p+1]],f,r)}throw new Error("geojson is invalid")},B.findPoint=function(o,r){if(!C.isObject(r=r||{}))throw new Error("options is invalid");var n,a=r.featureIndex||0,s=r.multiFeatureIndex||0,c=r.geometryIndex||0,p=r.coordIndex||0,f=r.properties;switch(o.type){case"FeatureCollection":a<0&&(a=o.features.length+a),f=f||o.features[a].properties,n=o.features[a].geometry;break;case"Feature":f=f||o.properties,n=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=o;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var w=n.coordinates;switch(n.type){case"Point":return C.point(w,f,r);case"MultiPoint":return s<0&&(s=w.length+s),C.point(w[s],f,r);case"LineString":return p<0&&(p=w.length+p),C.point(w[p],f,r);case"Polygon":return c<0&&(c=w.length+c),p<0&&(p=w[c].length+p),C.point(w[c][p],f,r);case"MultiLineString":return s<0&&(s=w.length+s),p<0&&(p=w[s].length+p),C.point(w[s][p],f,r);case"MultiPolygon":return s<0&&(s=w.length+s),c<0&&(c=w[s].length+c),p<0&&(p=w[s][c].length-p),C.point(w[s][c][p],f,r)}throw new Error("geojson is invalid")}},29261:function(ie,B,e){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var C=e(88553),S=e(64182);B.default=function(u,A){void 0===A&&(A={});var T=0,m=0,l=0;return C.coordEach(u,function(t){T+=t[0],m+=t[1],l++}),S.point([T/l,m/l],A.properties)}},64182:function(ie,B){"use strict";function e(a,s,c){void 0===c&&(c={});var p={type:"Feature"};return(0===c.id||c.id)&&(p.id=c.id),c.bbox&&(p.bbox=c.bbox),p.properties=s||{},p.geometry=a,p}function C(a,s,c){return void 0===c&&(c={}),e({type:"Point",coordinates:a},s,c)}function S(a,s,c){void 0===c&&(c={});for(var p=0,f=a;p<f.length;p++){var w=f[p];if(w.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var v=0;v<w[w.length-1].length;v++)if(w[w.length-1][v]!==w[0][v])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:a},s,c)}function u(a,s,c){if(void 0===c&&(c={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:a},s,c)}function A(a,s){void 0===s&&(s={});var c={type:"FeatureCollection"};return s.id&&(c.id=s.id),s.bbox&&(c.bbox=s.bbox),c.features=a,c}function T(a,s,c){return void 0===c&&(c={}),e({type:"MultiLineString",coordinates:a},s,c)}function m(a,s,c){return void 0===c&&(c={}),e({type:"MultiPoint",coordinates:a},s,c)}function l(a,s,c){return void 0===c&&(c={}),e({type:"MultiPolygon",coordinates:a},s,c)}function t(a,s){void 0===s&&(s="kilometers");var c=B.factors[s];if(!c)throw new Error(s+" units is invalid");return a*c}function o(a,s){void 0===s&&(s="kilometers");var c=B.factors[s];if(!c)throw new Error(s+" units is invalid");return a/c}function r(a){return a%(2*Math.PI)*180/Math.PI}function n(a){return!isNaN(a)&&null!==a&&!Array.isArray(a)&&!/^\s*$/.test(a)}Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=6371008.8,B.factors={centimeters:100*B.earthRadius,centimetres:100*B.earthRadius,degrees:B.earthRadius/111325,feet:3.28084*B.earthRadius,inches:39.37*B.earthRadius,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:1e3*B.earthRadius,millimetres:1e3*B.earthRadius,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius/1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:.91441111923921},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},B.feature=e,B.geometry=function(a,s,c){switch(void 0===c&&(c={}),a){case"Point":return C(s).geometry;case"LineString":return u(s).geometry;case"Polygon":return S(s).geometry;case"MultiPoint":return m(s).geometry;case"MultiLineString":return T(s).geometry;case"MultiPolygon":return l(s).geometry;default:throw new Error(a+" is invalid")}},B.point=C,B.points=function(a,s,c){return void 0===c&&(c={}),A(a.map(function(p){return C(p,s)}),c)},B.polygon=S,B.polygons=function(a,s,c){return void 0===c&&(c={}),A(a.map(function(p){return S(p,s)}),c)},B.lineString=u,B.lineStrings=function(a,s,c){return void 0===c&&(c={}),A(a.map(function(p){return u(p,s)}),c)},B.featureCollection=A,B.multiLineString=T,B.multiPoint=m,B.multiPolygon=l,B.geometryCollection=function(a,s,c){return void 0===c&&(c={}),e({type:"GeometryCollection",geometries:a},s,c)},B.round=function(a,s){if(void 0===s&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var c=Math.pow(10,s||0);return Math.round(a*c)/c},B.radiansToLength=t,B.lengthToRadians=o,B.lengthToDegrees=function(a,s){return r(o(a,s))},B.bearingToAzimuth=function(a){var s=a%360;return s<0&&(s+=360),s},B.radiansToDegrees=r,B.degreesToRadians=function(a){return a%360*Math.PI/180},B.convertLength=function(a,s,c){if(void 0===s&&(s="kilometers"),void 0===c&&(c="kilometers"),!(a>=0))throw new Error("length must be a positive number");return t(o(a,s),c)},B.convertArea=function(a,s,c){if(void 0===s&&(s="meters"),void 0===c&&(c="kilometers"),!(a>=0))throw new Error("area must be a positive number");var p=B.areaFactors[s];if(!p)throw new Error("invalid original units");var f=B.areaFactors[c];if(!f)throw new Error("invalid final units");return a/p*f},B.isNumber=n,B.isObject=function(a){return!!a&&a.constructor===Object},B.validateBBox=function(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(4!==a.length&&6!==a.length)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(s){if(!n(s))throw new Error("bbox must only contain numbers")})},B.validateId=function(a){if(!a)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof a))throw new Error("id must be a number or a string")},B.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},B.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},B.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},B.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},B.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},B.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},B.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},88553:function(ie,B,e){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var C=e(64182);function S(o,r,n){if(null!==o)for(var a,s,c,p,f,w,v,h,_=0,x=0,b=o.type,M="FeatureCollection"===b,d="Feature"===b,E=M?o.features.length:1,k=0;k<E;k++){f=(h=!!(v=M?o.features[k].geometry:d?o.geometry:o)&&"GeometryCollection"===v.type)?v.geometries.length:1;for(var I=0;I<f;I++){var L=0,P=0;if(null!==(p=h?v.geometries[I]:v)){w=p.coordinates;var R=p.type;switch(_=!n||"Polygon"!==R&&"MultiPolygon"!==R?0:1,R){case null:break;case"Point":if(!1===r(w,x,k,L,P))return!1;x++,L++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(!1===r(w[a],x,k,L,P))return!1;x++,"MultiPoint"===R&&L++}"LineString"===R&&L++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(s=0;s<w[a].length-_;s++){if(!1===r(w[a][s],x,k,L,P))return!1;x++}"MultiLineString"===R&&L++,"Polygon"===R&&P++}"Polygon"===R&&L++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(P=0,s=0;s<w[a].length;s++){for(c=0;c<w[a][s].length-_;c++){if(!1===r(w[a][s][c],x,k,L,P))return!1;x++}P++}L++}break;case"GeometryCollection":for(a=0;a<p.geometries.length;a++)if(!1===S(p.geometries[a],r,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function u(o,r){var n;switch(o.type){case"FeatureCollection":for(n=0;n<o.features.length&&!1!==r(o.features[n].properties,n);n++);break;case"Feature":r(o.properties,0)}}function A(o,r){if("Feature"===o.type)r(o,0);else if("FeatureCollection"===o.type)for(var n=0;n<o.features.length&&!1!==r(o.features[n],n);n++);}function T(o,r){var n,a,s,c,p,f,w,v,h,_,x=0,b="FeatureCollection"===o.type,M="Feature"===o.type,d=b?o.features.length:1;for(n=0;n<d;n++){for(v=b?o.features[n].properties:M?o.properties:{},h=b?o.features[n].bbox:M?o.bbox:void 0,_=b?o.features[n].id:M?o.id:void 0,p=(w=!!(f=b?o.features[n].geometry:M?o.geometry:o)&&"GeometryCollection"===f.type)?f.geometries.length:1,s=0;s<p;s++)if(null!==(c=w?f.geometries[s]:f))switch(c.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(c,x,v,h,_))return!1;break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)if(!1===r(c.geometries[a],x,v,h,_))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,x,v,h,_))return!1;x++}}function m(o,r){T(o,function(n,a,s,c,p){var f,w=null===n?null:n.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return!1!==r(C.feature(n,s,{bbox:c,id:p}),a,0)&&void 0}switch(w){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon"}for(var v=0;v<n.coordinates.length;v++)if(!1===r(C.feature({type:f,coordinates:n.coordinates[v]},s),a,v))return!1})}function l(o,r){m(o,function(n,a,s){var c=0;if(n.geometry){var p=n.geometry.type;if("Point"!==p&&"MultiPoint"!==p){var f,w=0,v=0,h=0;return!1!==S(n,function(_,x,b,M,d){if(void 0===f||a>w||M>v||d>h)return f=_,w=a,v=M,h=d,void(c=0);var E=C.lineString([f,_],n.properties);if(!1===r(E,a,s,d,c))return!1;c++,f=_})&&void 0}}})}function t(o,r){if(!o)throw new Error("geojson is required");m(o,function(n,a,s){if(null!==n.geometry){var p=n.geometry.coordinates;switch(n.geometry.type){case"LineString":if(!1===r(n,a,s,0,0))return!1;break;case"Polygon":for(var f=0;f<p.length;f++)if(!1===r(C.lineString(p[f],n.properties),a,s,f))return!1}}})}B.coordEach=S,B.coordReduce=function(o,r,n,a){var s=n;return S(o,function(c,p,f,w,v){s=0===p&&void 0===n?c:r(s,c,p,f,w,v)},a),s},B.propEach=u,B.propReduce=function(o,r,n){var a=n;return u(o,function(s,c){a=0===c&&void 0===n?s:r(a,s,c)}),a},B.featureEach=A,B.featureReduce=function(o,r,n){var a=n;return A(o,function(s,c){a=0===c&&void 0===n?s:r(a,s,c)}),a},B.coordAll=function(o){var r=[];return S(o,function(n){r.push(n)}),r},B.geomEach=T,B.geomReduce=function(o,r,n){var a=n;return T(o,function(s,c,p,f,w){a=0===c&&void 0===n?s:r(a,s,c,p,f,w)}),a},B.flattenEach=m,B.flattenReduce=function(o,r,n){var a=n;return m(o,function(s,c,p){a=0===c&&0===p&&void 0===n?s:r(a,s,c,p)}),a},B.segmentEach=l,B.segmentReduce=function(o,r,n){var a=n,s=!1;return l(o,function(c,p,f,w,v){a=!1===s&&void 0===n?c:r(a,c,p,f,w,v),s=!0}),a},B.lineEach=t,B.lineReduce=function(o,r,n){var a=n;return t(o,function(s,c,p,f){a=0===c&&void 0===n?s:r(a,s,c,p,f)}),a},B.findSegment=function(o,r){if(!C.isObject(r=r||{}))throw new Error("options is invalid");var n,a=r.featureIndex||0,s=r.multiFeatureIndex||0,c=r.geometryIndex||0,p=r.segmentIndex||0,f=r.properties;switch(o.type){case"FeatureCollection":a<0&&(a=o.features.length+a),f=f||o.features[a].properties,n=o.features[a].geometry;break;case"Feature":f=f||o.properties,n=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=o;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var w=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=w.length+p-1),C.lineString([w[p],w[p+1]],f,r);case"Polygon":return c<0&&(c=w.length+c),p<0&&(p=w[c].length+p-1),C.lineString([w[c][p],w[c][p+1]],f,r);case"MultiLineString":return s<0&&(s=w.length+s),p<0&&(p=w[s].length+p-1),C.lineString([w[s][p],w[s][p+1]],f,r);case"MultiPolygon":return s<0&&(s=w.length+s),c<0&&(c=w[s].length+c),p<0&&(p=w[s][c].length-p-1),C.lineString([w[s][c][p],w[s][c][p+1]],f,r)}throw new Error("geojson is invalid")},B.findPoint=function(o,r){if(!C.isObject(r=r||{}))throw new Error("options is invalid");var n,a=r.featureIndex||0,s=r.multiFeatureIndex||0,c=r.geometryIndex||0,p=r.coordIndex||0,f=r.properties;switch(o.type){case"FeatureCollection":a<0&&(a=o.features.length+a),f=f||o.features[a].properties,n=o.features[a].geometry;break;case"Feature":f=f||o.properties,n=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=o;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var w=n.coordinates;switch(n.type){case"Point":return C.point(w,f,r);case"MultiPoint":return s<0&&(s=w.length+s),C.point(w[s],f,r);case"LineString":return p<0&&(p=w.length+p),C.point(w[p],f,r);case"Polygon":return c<0&&(c=w.length+c),p<0&&(p=w[c].length+p),C.point(w[c][p],f,r);case"MultiLineString":return s<0&&(s=w.length+s),p<0&&(p=w[s].length+p),C.point(w[s][p],f,r);case"MultiPolygon":return s<0&&(s=w.length+s),c<0&&(c=w[s].length+c),p<0&&(p=w[s][c].length-p),C.point(w[s][c][p],f,r)}throw new Error("geojson is invalid")}},65185:function(ie){ie.exports=function(B){var e=0,C=0,S=0,u=0;return B.map(function(A){var T=(A=A.slice())[0],m=T.toUpperCase();if(T!=m)switch(A[0]=m,T){case"a":A[6]+=S,A[7]+=u;break;case"v":A[1]+=u;break;case"h":A[1]+=S;break;default:for(var l=1;l<A.length;)A[l++]+=S,A[l++]+=u}switch(m){case"Z":S=e,u=C;break;case"H":S=A[1];break;case"V":u=A[1];break;case"M":S=e=A[1],u=C=A[2];break;default:S=A[A.length-2],u=A[A.length-1]}return A})}},21527:function(ie){"use strict";ie.exports=function(B,e){if(!B||null==B.length)throw Error("Argument should be an array");e=null==e?1:Math.floor(e);for(var C=Array(2*e),S=0;S<e;S++){for(var u=-1/0,A=1/0,T=S,m=B.length;T<m;T+=e)B[T]>u&&(u=B[T]),B[T]<A&&(A=B[T]);C[S]=A,C[e+S]=u}return C}},6851:function(ie){"use strict";ie.exports=function(B,e,C){if("function"==typeof Array.prototype.findIndex)return B.findIndex(e,C);if("function"!=typeof e)throw new TypeError("predicate must be a function");var S=Object(B),u=S.length;if(0===u)return-1;for(var A=0;A<u;A++)if(e.call(C,S[A],A,S))return A;return-1}},54:function(ie,B,e){"use strict";var C=e(21527);ie.exports=function(S,u,A){if(!S||null==S.length)throw Error("Argument should be an array");null==u&&(u=1),null==A&&(A=C(S,u));for(var T=0;T<u;T++){var m=A[u+T],l=A[T],t=T,o=S.length;if(m===1/0&&l===-1/0)for(t=T;t<o;t+=u)S[t]=S[t]===m?1:S[t]===l?0:.5;else if(m===1/0)for(t=T;t<o;t+=u)S[t]=S[t]===m?1:0;else if(l===-1/0)for(t=T;t<o;t+=u)S[t]=S[t]===l?0:1;else{var r=m-l;for(t=T;t<o;t+=u)isNaN(S[t])||(S[t]=0===r?.5:(S[t]-l)/r)}}return S}},57471:function(ie){ie.exports=function(B,e){var C="number"==typeof B,S="number"==typeof e;C&&!S?(e=B,B=0):C||S||(B=0,e=0);var u=(e|=0)-(B|=0);if(u<0)throw new Error("array length must be positive");for(var A=new Array(u),T=0,m=B;T<u;T++,m++)A[T]=m;return A}},32791:function(ie,B,e){"use strict";var C=e(90386);function S(N){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(N)}var u,A,T=e(79616).codes,m=T.ERR_AMBIGUOUS_ARGUMENT,l=T.ERR_INVALID_ARG_TYPE,t=T.ERR_INVALID_ARG_VALUE,o=T.ERR_INVALID_RETURN_VALUE,r=T.ERR_MISSING_ARGS,n=e(73894),a=e(43827).inspect,s=e(43827).types,c=s.isPromise,p=s.isRegExp,f=Object.assign?Object.assign:e(73523).assign,w=Object.is?Object.is:e(64003);function v(){var N=e(74061);u=N.isDeepEqual,A=N.isDeepStrictEqual}var h=!1,_=ie.exports=d,x={};function b(N){throw N.message instanceof Error?N.message:new n(N)}function M(N,W,H,U){if(!H){var Z=!1;if(0===W)Z=!0,U="No value argument passed to `assert.ok()`";else if(U instanceof Error)throw U;var Y=new n({actual:H,expected:!0,message:U,operator:"==",stackStartFn:N});throw Y.generatedMessage=Z,Y}}function d(){for(var N=arguments.length,W=new Array(N),H=0;H<N;H++)W[H]=arguments[H];M.apply(void 0,[d,W.length].concat(W))}_.fail=function N(W,H,U,Z,Y){var ae,re=arguments.length;if(0===re?ae="Failed":1===re?(U=W,W=void 0):(!1===h&&(h=!0,(C.emitWarning?C.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===re&&(Z="!=")),U instanceof Error)throw U;var Q={actual:W,expected:H,operator:void 0===Z?"fail":Z,stackStartFn:Y||N};void 0!==U&&(Q.message=U);var K=new n(Q);throw ae&&(K.message=ae,K.generatedMessage=!0),K},_.AssertionError=n,_.ok=d,_.equal=function N(W,H,U){if(arguments.length<2)throw new r("actual","expected");W!=H&&b({actual:W,expected:H,message:U,operator:"==",stackStartFn:N})},_.notEqual=function N(W,H,U){if(arguments.length<2)throw new r("actual","expected");W==H&&b({actual:W,expected:H,message:U,operator:"!=",stackStartFn:N})},_.deepEqual=function N(W,H,U){if(arguments.length<2)throw new r("actual","expected");void 0===u&&v(),u(W,H)||b({actual:W,expected:H,message:U,operator:"deepEqual",stackStartFn:N})},_.notDeepEqual=function N(W,H,U){if(arguments.length<2)throw new r("actual","expected");void 0===u&&v(),u(W,H)&&b({actual:W,expected:H,message:U,operator:"notDeepEqual",stackStartFn:N})},_.deepStrictEqual=function N(W,H,U){if(arguments.length<2)throw new r("actual","expected");void 0===u&&v(),A(W,H)||b({actual:W,expected:H,message:U,operator:"deepStrictEqual",stackStartFn:N})},_.notDeepStrictEqual=function N(W,H,U){if(arguments.length<2)throw new r("actual","expected");void 0===u&&v(),A(W,H)&&b({actual:W,expected:H,message:U,operator:"notDeepStrictEqual",stackStartFn:N})},_.strictEqual=function N(W,H,U){if(arguments.length<2)throw new r("actual","expected");w(W,H)||b({actual:W,expected:H,message:U,operator:"strictEqual",stackStartFn:N})},_.notStrictEqual=function N(W,H,U){if(arguments.length<2)throw new r("actual","expected");w(W,H)&&b({actual:W,expected:H,message:U,operator:"notStrictEqual",stackStartFn:N})};var E=function N(W,H,U){var Z=this;(function(Y,ae){if(!(Y instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,N),H.forEach(function(Y){Y in W&&(Z[Y]=void 0!==U&&"string"==typeof U[Y]&&p(W[Y])&&W[Y].test(U[Y])?U[Y]:W[Y])})};function k(N,W,H,U){if("function"!=typeof W){if(p(W))return W.test(N);if(2===arguments.length)throw new l("expected",["Function","RegExp"],W);if("object"!==S(N)||null===N){var Z=new n({actual:N,expected:W,message:H,operator:"deepStrictEqual",stackStartFn:U});throw Z.operator=U.name,Z}var Y=Object.keys(W);if(W instanceof Error)Y.push("name","message");else if(0===Y.length)throw new t("error",W,"may not be an empty object");return void 0===u&&v(),Y.forEach(function(ae){"string"==typeof N[ae]&&p(W[ae])&&W[ae].test(N[ae])||function(re,Q,K,te,oe,ue){if(!(K in re)||!A(re[K],Q[K])){if(!te){var fe=new E(re,oe),he=new E(Q,oe,re),me=new n({actual:fe,expected:he,operator:"deepStrictEqual",stackStartFn:ue});throw me.actual=re,me.expected=Q,me.operator=ue.name,me}b({actual:re,expected:Q,message:te,operator:ue.name,stackStartFn:ue})}}(N,W,ae,H,Y,U)}),!0}return void 0!==W.prototype&&N instanceof W||!Error.isPrototypeOf(W)&&!0===W.call({},N)}function I(N){if("function"!=typeof N)throw new l("fn","Function",N);try{N()}catch(W){return W}return x}function L(N){return c(N)||null!==N&&"object"===S(N)&&"function"==typeof N.then&&"function"==typeof N.catch}function P(N){return Promise.resolve().then(function(){var W;if("function"==typeof N){if(!L(W=N()))throw new o("instance of Promise","promiseFn",W)}else{if(!L(N))throw new l("promiseFn",["Function","Promise"],N);W=N}return Promise.resolve().then(function(){return W}).then(function(){return x}).catch(function(H){return H})})}function R(N,W,H,U){if("string"==typeof H){if(4===arguments.length)throw new l("error",["Object","Error","Function","RegExp"],H);if("object"===S(W)&&null!==W){if(W.message===H)throw new m("error/message",'The error message "'.concat(W.message,'" is identical to the message.'))}else if(W===H)throw new m("error/message",'The error "'.concat(W,'" is identical to the message.'));U=H,H=void 0}else if(null!=H&&"object"!==S(H)&&"function"!=typeof H)throw new l("error",["Object","Error","Function","RegExp"],H);if(W===x){var Z="";H&&H.name&&(Z+=" (".concat(H.name,")")),Z+=U?": ".concat(U):".",b({actual:void 0,expected:H,operator:N.name,message:"Missing expected ".concat("rejects"===N.name?"rejection":"exception").concat(Z),stackStartFn:N})}if(H&&!k(W,H,U,N))throw W}function z(N,W,H,U){if(W!==x){if("string"==typeof H&&(U=H,H=void 0),!H||k(W,H)){var Z=U?": ".concat(U):".";b({actual:W,expected:H,operator:N.name,message:"Got unwanted ".concat("doesNotReject"===N.name?"rejection":"exception").concat(Z,"\n")+'Actual message: "'.concat(W&&W.message,'"'),stackStartFn:N})}throw W}}function $(){for(var N=arguments.length,W=new Array(N),H=0;H<N;H++)W[H]=arguments[H];M.apply(void 0,[$,W.length].concat(W))}_.throws=function N(W){for(var H=arguments.length,U=new Array(H>1?H-1:0),Z=1;Z<H;Z++)U[Z-1]=arguments[Z];R.apply(void 0,[N,I(W)].concat(U))},_.rejects=function N(W){for(var H=arguments.length,U=new Array(H>1?H-1:0),Z=1;Z<H;Z++)U[Z-1]=arguments[Z];return P(W).then(function(Y){return R.apply(void 0,[N,Y].concat(U))})},_.doesNotThrow=function N(W){for(var H=arguments.length,U=new Array(H>1?H-1:0),Z=1;Z<H;Z++)U[Z-1]=arguments[Z];z.apply(void 0,[N,I(W)].concat(U))},_.doesNotReject=function N(W){for(var H=arguments.length,U=new Array(H>1?H-1:0),Z=1;Z<H;Z++)U[Z-1]=arguments[Z];return P(W).then(function(Y){return z.apply(void 0,[N,Y].concat(U))})},_.ifError=function N(W){if(null!=W){var H="ifError got unwanted exception: ";"object"===S(W)&&"string"==typeof W.message?H+=0===W.message.length&&W.constructor?W.constructor.name:W.message:H+=a(W);var U=new n({actual:W,expected:null,operator:"ifError",message:H,stackStartFn:N}),Z=W.stack;if("string"==typeof Z){var Y=Z.split("\n");Y.shift();for(var ae=U.stack.split("\n"),re=0;re<Y.length;re++){var Q=ae.indexOf(Y[re]);if(-1!==Q){ae=ae.slice(0,Q);break}}U.stack="".concat(ae.join("\n"),"\n").concat(Y.join("\n"))}throw U}},_.strict=f($,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict},73894:function(ie,B,e){"use strict";var C=e(90386);function S(b,M,d){return M in b?Object.defineProperty(b,M,{value:d,enumerable:!0,configurable:!0,writable:!0}):b[M]=d,b}function A(b,M){return!M||"object"!==r(M)&&"function"!=typeof M?T(b):M}function T(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function m(b){var M="function"==typeof Map?new Map:void 0;return m=function(d){if(null===d||-1===Function.toString.call(d).indexOf("[native code]"))return d;if("function"!=typeof d)throw new TypeError("Super expression must either be null or a function");if(void 0!==M){if(M.has(d))return M.get(d);M.set(d,k)}function k(){return l(d,arguments,o(this).constructor)}return k.prototype=Object.create(d.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),t(k,d)},m(b)}function l(b,M,d){return(l=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(E,k,I){var L=[null];L.push.apply(L,k);var P=new(Function.bind.apply(E,L));return I&&t(P,I.prototype),P}).apply(null,arguments)}function t(b,M){return(t=Object.setPrototypeOf||function(d,E){return d.__proto__=E,d})(b,M)}function o(b){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(b)}function r(b){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(b)}var n=e(43827).inspect,a=e(79616).codes.ERR_INVALID_ARG_TYPE;function s(b,M,d){return(void 0===d||d>b.length)&&(d=b.length),b.substring(d-M.length,d)===M}var c="",p="",f="",w="",v={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function h(b){var M=Object.keys(b),d=Object.create(Object.getPrototypeOf(b));return M.forEach(function(E){d[E]=b[E]}),Object.defineProperty(d,"message",{value:b.message}),d}function _(b){return n(b,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var x=function(b){function M(k){var I;if(function(ae,re){if(!(ae instanceof re))throw new TypeError("Cannot call a class as a function")}(this,M),"object"!==r(k)||null===k)throw new a("options","Object",k);var L=k.message,P=k.operator,R=k.stackStartFn,z=k.actual,$=k.expected,N=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=L)I=A(this,o(M).call(this,String(L)));else if(C.stderr&&C.stderr.isTTY&&(C.stderr&&C.stderr.getColorDepth&&1!==C.stderr.getColorDepth()?(c="\x1b[34m",p="\x1b[32m",w="\x1b[39m",f="\x1b[31m"):(c="",p="",w="",f="")),"object"===r(z)&&null!==z&&"object"===r($)&&null!==$&&"stack"in z&&z instanceof Error&&"stack"in $&&$ instanceof Error&&(z=h(z),$=h($)),"deepStrictEqual"===P||"strictEqual"===P)I=A(this,o(M).call(this,function(ae,re,Q){var K="",te="",oe=0,ue="",fe=!1,he=_(ae),me=he.split("\n"),ke=_(re).split("\n"),Pe=0,Te="";if("strictEqual"===Q&&"object"===r(ae)&&"object"===r(re)&&null!==ae&&null!==re&&(Q="strictEqualObject"),1===me.length&&1===ke.length&&me[0]!==ke[0]){var be=me[0].length+ke[0].length;if(be<=10){if(!("object"===r(ae)&&null!==ae||"object"===r(re)&&null!==re||0===ae&&0===re))return"".concat(v[Q],"\n\n")+"".concat(me[0]," !== ").concat(ke[0],"\n")}else if("strictEqualObject"!==Q&&be<(C.stderr&&C.stderr.isTTY?C.stderr.columns:80)){for(;me[0][Pe]===ke[0][Pe];)Pe++;Pe>2&&(Te="\n  ".concat(function($e,ve){if(ve=Math.floor(ve),0==$e.length||0==ve)return"";var Ie=$e.length*ve;for(ve=Math.floor(Math.log(ve)/Math.log(2));ve;)$e+=$e,ve--;return $e+$e.substring(0,Ie-$e.length)}(" ",Pe),"^"),Pe=0)}}for(var xe=me[me.length-1],Ne=ke[ke.length-1];xe===Ne&&(Pe++<2?ue="\n  ".concat(xe).concat(ue):K=xe,me.pop(),ke.pop(),0!==me.length&&0!==ke.length);)xe=me[me.length-1],Ne=ke[ke.length-1];var Se=Math.max(me.length,ke.length);if(0===Se){var Ce=he.split("\n");if(Ce.length>30)for(Ce[26]="".concat(c,"...").concat(w);Ce.length>27;)Ce.pop();return"".concat(v.notIdentical,"\n\n").concat(Ce.join("\n"),"\n")}Pe>3&&(ue="\n".concat(c,"...").concat(w).concat(ue),fe=!0),""!==K&&(ue="\n  ".concat(K).concat(ue),K="");var pe=0,de=v[Q]+"\n".concat(p,"+ actual").concat(w," ").concat(f,"- expected").concat(w),se=" ".concat(c,"...").concat(w," Lines skipped");for(Pe=0;Pe<Se;Pe++){var we=Pe-oe;if(me.length<Pe+1)we>1&&Pe>2&&(we>4?(te+="\n".concat(c,"...").concat(w),fe=!0):we>3&&(te+="\n  ".concat(ke[Pe-2]),pe++),te+="\n  ".concat(ke[Pe-1]),pe++),oe=Pe,K+="\n".concat(f,"-").concat(w," ").concat(ke[Pe]),pe++;else if(ke.length<Pe+1)we>1&&Pe>2&&(we>4?(te+="\n".concat(c,"...").concat(w),fe=!0):we>3&&(te+="\n  ".concat(me[Pe-2]),pe++),te+="\n  ".concat(me[Pe-1]),pe++),oe=Pe,te+="\n".concat(p,"+").concat(w," ").concat(me[Pe]),pe++;else{var Re=ke[Pe],Ee=me[Pe],Ue=Ee!==Re&&(!s(Ee,",")||Ee.slice(0,-1)!==Re);Ue&&s(Re,",")&&Re.slice(0,-1)===Ee&&(Ue=!1,Ee+=","),Ue?(we>1&&Pe>2&&(we>4?(te+="\n".concat(c,"...").concat(w),fe=!0):we>3&&(te+="\n  ".concat(me[Pe-2]),pe++),te+="\n  ".concat(me[Pe-1]),pe++),oe=Pe,te+="\n".concat(p,"+").concat(w," ").concat(Ee),K+="\n".concat(f,"-").concat(w," ").concat(Re),pe+=2):(te+=K,K="",1!==we&&0!==Pe||(te+="\n  ".concat(Ee),pe++))}if(pe>20&&Pe<Se-2)return"".concat(de).concat(se,"\n").concat(te,"\n").concat(c,"...").concat(w).concat(K,"\n")+"".concat(c,"...").concat(w)}return"".concat(de).concat(fe?se:"","\n").concat(te).concat(K).concat(ue).concat(Te)}(z,$,P)));else if("notDeepStrictEqual"===P||"notStrictEqual"===P){var W=v[P],H=_(z).split("\n");if("notStrictEqual"===P&&"object"===r(z)&&null!==z&&(W=v.notStrictEqualObject),H.length>30)for(H[26]="".concat(c,"...").concat(w);H.length>27;)H.pop();I=A(this,1===H.length?o(M).call(this,"".concat(W," ").concat(H[0])):o(M).call(this,"".concat(W,"\n\n").concat(H.join("\n"),"\n")))}else{var U=_(z),Z="",Y=v[P];"notDeepEqual"===P||"notEqual"===P?(U="".concat(v[P],"\n\n").concat(U)).length>1024&&(U="".concat(U.slice(0,1021),"...")):(Z="".concat(_($)),U.length>512&&(U="".concat(U.slice(0,509),"...")),Z.length>512&&(Z="".concat(Z.slice(0,509),"...")),"deepEqual"===P||"equal"===P?U="".concat(Y,"\n\n").concat(U,"\n\nshould equal\n\n"):Z=" ".concat(P," ").concat(Z)),I=A(this,o(M).call(this,"".concat(U).concat(Z)))}return Error.stackTraceLimit=N,I.generatedMessage=!L,Object.defineProperty(T(I),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),I.code="ERR_ASSERTION",I.actual=z,I.expected=$,I.operator=P,Error.captureStackTrace&&Error.captureStackTrace(T(I),R),I.name="AssertionError",A(I)}var E;return function(k,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(I&&I.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),I&&t(k,I)}(M,b),E=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:n.custom,value:function(k,I){return n(this,function(L){for(var P=1;P<arguments.length;P++){var R=null!=arguments[P]?arguments[P]:{},z=Object.keys(R);"function"==typeof Object.getOwnPropertySymbols&&(z=z.concat(Object.getOwnPropertySymbols(R).filter(function($){return Object.getOwnPropertyDescriptor(R,$).enumerable}))),z.forEach(function($){S(L,$,R[$])})}return L}({},I,{customInspect:!1,depth:0}))}}],E&&function u(b,M){for(var d=0;d<M.length;d++){var E=M[d];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}(M.prototype,E),M}(m(Error));ie.exports=x},79616:function(ie,B,e){"use strict";function C(o){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}function S(o){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(o)}function u(o,r){return(u=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n})(o,r)}var A,T,m={};function l(o,r,n){n||(n=Error);var a=function(s){function c(p,f,w){var v,h,_,x;return function(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}(this,c),(v=function(h,_){return!_||"object"!==C(_)&&"function"!=typeof _?function(x){if(void 0===x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(h):_}(this,S(c).call(this,(h=p,_=f,x=w,"string"==typeof r?r:r(h,_,x))))).code=o,v}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),f&&u(p,f)}(c,s),c}(n);m[o]=a}function t(o,r){if(Array.isArray(o)){var n=o.length;return o=o.map(function(a){return String(a)}),n>2?"one of ".concat(r," ").concat(o.slice(0,n-1).join(", "),", or ")+o[n-1]:2===n?"one of ".concat(r," ").concat(o[0]," or ").concat(o[1]):"of ".concat(r," ").concat(o[0])}return"of ".concat(r," ").concat(String(o))}l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",function(o,r,n){var a,c,p,f,v,_;if(void 0===A&&(A=e(32791)),A("string"==typeof o,"'name' must be a string"),"string"==typeof r&&("not ","not "===r.substr(0,4))?(a="must not be",r=r.replace(/^not /,"")):a="must be",v=o," argument",(void 0===_||_>v.length)&&(_=v.length)," argument"===v.substring(_-9,_))c="The ".concat(o," ").concat(a," ").concat(t(r,"type"));else{var w=("number"!=typeof f&&(f=0),f+1>(p=o).length||-1===p.indexOf(".",f)?"argument":"property");c='The "'.concat(o,'" ').concat(w," ").concat(a," ").concat(t(r,"type"))}return c+". Received type ".concat(C(n))},TypeError),l("ERR_INVALID_ARG_VALUE",function(o,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===T&&(T=e(43827));var a=T.inspect(r);return a.length>128&&(a="".concat(a.slice(0,128),"...")),"The argument '".concat(o,"' ").concat(n,". Received ").concat(a)},TypeError,RangeError),l("ERR_INVALID_RETURN_VALUE",function(o,r,n){var a;return a=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(C(n)),"Expected ".concat(o,' to be returned from the "').concat(r,'"')+" function but got ".concat(a,".")},TypeError),l("ERR_MISSING_ARGS",function(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];void 0===A&&(A=e(32791)),A(r.length>0,"At least one arg needs to be specified");var a="The ",s=r.length;switch(r=r.map(function(c){return'"'.concat(c,'"')}),s){case 1:a+="".concat(r[0]," argument");break;case 2:a+="".concat(r[0]," and ").concat(r[1]," arguments");break;default:a+=r.slice(0,s-1).join(", "),a+=", and ".concat(r[s-1]," arguments")}return"".concat(a," must be specified")},TypeError),ie.exports.codes=m},74061:function(ie,B,e){"use strict";function C(oe,ue){return function(fe){if(Array.isArray(fe))return fe}(oe)||function(fe,he){var me=[],ke=!0,Pe=!1,Te=void 0;try{for(var be,xe=fe[Symbol.iterator]();!(ke=(be=xe.next()).done)&&(me.push(be.value),!he||me.length!==he);ke=!0);}catch(Ne){Pe=!0,Te=Ne}finally{try{ke||null==xe.return||xe.return()}finally{if(Pe)throw Te}}return me}(oe,ue)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function S(oe){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ue){return typeof ue}:function(ue){return ue&&"function"==typeof Symbol&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue})(oe)}var u=void 0!==/a/g.flags,A=function(oe){var ue=[];return oe.forEach(function(fe){return ue.push(fe)}),ue},T=function(oe){var ue=[];return oe.forEach(function(fe,he){return ue.push([he,fe])}),ue},m=Object.is?Object.is:e(64003),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:e(15567);function o(oe){return oe.call.bind(oe)}var r=o(Object.prototype.hasOwnProperty),n=o(Object.prototype.propertyIsEnumerable),a=o(Object.prototype.toString),s=e(43827).types,c=s.isAnyArrayBuffer,p=s.isArrayBufferView,f=s.isDate,w=s.isMap,v=s.isRegExp,h=s.isSet,_=s.isNativeError,x=s.isBoxedPrimitive,b=s.isNumberObject,M=s.isStringObject,d=s.isBooleanObject,E=s.isBigIntObject,k=s.isSymbolObject,I=s.isFloat32Array,L=s.isFloat64Array;function P(oe){if(0===oe.length||oe.length>10)return!0;for(var ue=0;ue<oe.length;ue++){var fe=oe.charCodeAt(ue);if(fe<48||fe>57)return!0}return 10===oe.length&&oe>=Math.pow(2,32)}function R(oe){return Object.keys(oe).filter(P).concat(l(oe).filter(Object.prototype.propertyIsEnumerable.bind(oe)))}function z(oe,ue){if(oe===ue)return 0;for(var fe=oe.length,he=ue.length,me=0,ke=Math.min(fe,he);me<ke;++me)if(oe[me]!==ue[me]){fe=oe[me],he=ue[me];break}return fe<he?-1:he<fe?1:0}var $=0,N=1,W=2,H=3;function U(oe,ue,fe,he){if(oe===ue)return 0!==oe||!fe||m(oe,ue);if(fe){if("object"!==S(oe))return"number"==typeof oe&&t(oe)&&t(ue);if("object"!==S(ue)||null===oe||null===ue||Object.getPrototypeOf(oe)!==Object.getPrototypeOf(ue))return!1}else{if(null===oe||"object"!==S(oe))return(null===ue||"object"!==S(ue))&&oe==ue;if(null===ue||"object"!==S(ue))return!1}var me,ke,Pe,Te,pe,de,be=a(oe);if(be!==a(ue))return!1;if(Array.isArray(oe)){if(oe.length!==ue.length)return!1;var xe=R(oe),Ne=R(ue);return xe.length===Ne.length&&Y(oe,ue,fe,he,N,xe)}if("[object Object]"===be&&(!w(oe)&&w(ue)||!h(oe)&&h(ue)))return!1;if(f(oe)){if(!f(ue)||Date.prototype.getTime.call(oe)!==Date.prototype.getTime.call(ue))return!1}else if(v(oe)){if(!v(ue)||(Pe=oe,Te=ue,!(u?Pe.source===Te.source&&Pe.flags===Te.flags:RegExp.prototype.toString.call(Pe)===RegExp.prototype.toString.call(Te))))return!1}else if(_(oe)||oe instanceof Error){if(oe.message!==ue.message||oe.name!==ue.name)return!1}else{if(p(oe)){if(fe||!I(oe)&&!L(oe)){if((pe=oe).byteLength!==(de=ue).byteLength||0!==z(new Uint8Array(pe.buffer,pe.byteOffset,pe.byteLength),new Uint8Array(de.buffer,de.byteOffset,de.byteLength)))return!1}else if(!function(pe,de){if(pe.byteLength!==de.byteLength)return!1;for(var se=0;se<pe.byteLength;se++)if(pe[se]!==de[se])return!1;return!0}(oe,ue))return!1;var Se=R(oe),Ce=R(ue);return Se.length===Ce.length&&Y(oe,ue,fe,he,$,Se)}if(h(oe))return!(!h(ue)||oe.size!==ue.size)&&Y(oe,ue,fe,he,W);if(w(oe))return!(!w(ue)||oe.size!==ue.size)&&Y(oe,ue,fe,he,H);if(c(oe)){if((me=oe).byteLength!==(ke=ue).byteLength||0!==z(new Uint8Array(me),new Uint8Array(ke)))return!1}else if(x(oe)&&!function(pe,de){return b(pe)?b(de)&&m(Number.prototype.valueOf.call(pe),Number.prototype.valueOf.call(de)):M(pe)?M(de)&&String.prototype.valueOf.call(pe)===String.prototype.valueOf.call(de):d(pe)?d(de)&&Boolean.prototype.valueOf.call(pe)===Boolean.prototype.valueOf.call(de):E(pe)?E(de)&&BigInt.prototype.valueOf.call(pe)===BigInt.prototype.valueOf.call(de):k(de)&&Symbol.prototype.valueOf.call(pe)===Symbol.prototype.valueOf.call(de)}(oe,ue))return!1}return Y(oe,ue,fe,he,$)}function Z(oe,ue){return ue.filter(function(fe){return n(oe,fe)})}function Y(oe,ue,fe,he,me,ke){if(5===arguments.length){ke=Object.keys(oe);var Pe=Object.keys(ue);if(ke.length!==Pe.length)return!1}for(var Te=0;Te<ke.length;Te++)if(!r(ue,ke[Te]))return!1;if(fe&&5===arguments.length){var be=l(oe);if(0!==be.length){var xe=0;for(Te=0;Te<be.length;Te++){var Ne=be[Te];if(n(oe,Ne)){if(!n(ue,Ne))return!1;ke.push(Ne),xe++}else if(n(ue,Ne))return!1}var Se=l(ue);if(be.length!==Se.length&&Z(ue,Se).length!==xe)return!1}else{var Ce=l(ue);if(0!==Ce.length&&0!==Z(ue,Ce).length)return!1}}if(0===ke.length&&(me===$||me===N&&0===oe.length||0===oe.size))return!0;if(void 0===he)he={val1:new Map,val2:new Map,position:0};else{var pe=he.val1.get(oe);if(void 0!==pe){var de=he.val2.get(ue);if(void 0!==de)return pe===de}he.position++}he.val1.set(oe,he.position),he.val2.set(ue,he.position);var se=function(we,Re,Ee,Ue,$e,ve){var Ie=0;if(ve===W){if(!function(He,Ke,et,st){for(var mt=null,at=A(He),kt=0;kt<at.length;kt++){var St=at[kt];if("object"===S(St)&&null!==St)null===mt&&(mt=new Set),mt.add(St);else if(!Ke.has(St)){if(et||!Q(He,Ke,St))return!1;null===mt&&(mt=new Set),mt.add(St)}}if(null!==mt){for(var gt=A(Ke),dt=0;dt<gt.length;dt++){var Ct=gt[dt];if("object"===S(Ct)&&null!==Ct){if(!ae(mt,Ct,et,st))return!1}else if(!et&&!He.has(Ct)&&!ae(mt,Ct,et,st))return!1}return 0===mt.size}return!0}(we,Re,Ee,$e))return!1}else if(ve===H){if(!function(He,Ke,et,st){for(var mt=null,at=T(He),kt=0;kt<at.length;kt++){var St=C(at[kt],2),gt=St[0],dt=St[1];if("object"===S(gt)&&null!==gt)null===mt&&(mt=new Set),mt.add(gt);else{var Ct=Ke.get(gt);if(void 0===Ct&&!Ke.has(gt)||!U(dt,Ct,et,st)){if(et||!K(He,Ke,gt,dt,st))return!1;null===mt&&(mt=new Set),mt.add(gt)}}}if(null!==mt){for(var Ot=T(Ke),Pt=0;Pt<Ot.length;Pt++){var Ht=C(Ot[Pt],2),jt=(gt=Ht[0],Ht[1]);if("object"===S(gt)&&null!==gt){if(!te(mt,He,gt,jt,et,st))return!1}else if(!(et||He.has(gt)&&U(He.get(gt),jt,!1,st)||te(mt,He,gt,jt,!1,st)))return!1}return 0===mt.size}return!0}(we,Re,Ee,$e))return!1}else if(ve===N)for(;Ie<we.length;Ie++){if(!r(we,Ie)){if(r(Re,Ie))return!1;for(var De=Object.keys(we);Ie<De.length;Ie++){var ze=De[Ie];if(!r(Re,ze)||!U(we[ze],Re[ze],Ee,$e))return!1}return De.length===Object.keys(Re).length}if(!r(Re,Ie)||!U(we[Ie],Re[Ie],Ee,$e))return!1}for(Ie=0;Ie<Ue.length;Ie++){var Ge=Ue[Ie];if(!U(we[Ge],Re[Ge],Ee,$e))return!1}return!0}(oe,ue,fe,ke,he,me);return he.val1.delete(oe),he.val2.delete(ue),se}function ae(oe,ue,fe,he){for(var me=A(oe),ke=0;ke<me.length;ke++){var Pe=me[ke];if(U(ue,Pe,fe,he))return oe.delete(Pe),!0}return!1}function re(oe){switch(S(oe)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":oe=+oe;case"number":if(t(oe))return!1}return!0}function Q(oe,ue,fe){var he=re(fe);return he??(ue.has(he)&&!oe.has(he))}function K(oe,ue,fe,he,me){var ke=re(fe);if(null!=ke)return ke;var Pe=ue.get(ke);return!(void 0===Pe&&!ue.has(ke)||!U(he,Pe,!1,me))&&!oe.has(ke)&&U(he,Pe,!1,me)}function te(oe,ue,fe,he,me,ke){for(var Pe=A(oe),Te=0;Te<Pe.length;Te++){var be=Pe[Te];if(U(fe,be,me,ke)&&U(he,ue.get(be),me,ke))return oe.delete(be),!0}return!1}ie.exports={isDeepEqual:function(oe,ue){return U(oe,ue,!1)},isDeepStrictEqual:function(oe,ue){return U(oe,ue,!0)}}},95341:function(ie,B){"use strict";B.byteLength=function(l){var t=T(l),r=t[1];return 3*(t[0]+r)/4-r},B.toByteArray=function(l){var t,o,v,r=T(l),n=r[0],a=r[1],s=new S(3*(n+(v=a))/4-v),c=0,p=a>0?n-4:n;for(o=0;o<p;o+=4)t=C[l.charCodeAt(o)]<<18|C[l.charCodeAt(o+1)]<<12|C[l.charCodeAt(o+2)]<<6|C[l.charCodeAt(o+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;return 2===a&&(t=C[l.charCodeAt(o)]<<2|C[l.charCodeAt(o+1)]>>4,s[c++]=255&t),1===a&&(t=C[l.charCodeAt(o)]<<10|C[l.charCodeAt(o+1)]<<4|C[l.charCodeAt(o+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t),s},B.fromByteArray=function(l){for(var t,o=l.length,r=o%3,n=[],a=16383,s=0,c=o-r;s<c;s+=a)n.push(m(l,s,s+a>c?c:s+a));return 1===r?n.push(e[(t=l[o-1])>>2]+e[t<<4&63]+"=="):2===r&&n.push(e[(t=(l[o-2]<<8)+l[o-1])>>10]+e[t>>4&63]+e[t<<2&63]+"="),n.join("")};for(var e=[],C=[],S=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0;A<64;++A)e[A]=u[A],C[u.charCodeAt(A)]=A;function T(l){var t=l.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=l.indexOf("=");return-1===o&&(o=t),[o,o===t?0:4-o%4]}function m(l,t,o){for(var n,a=[],s=t;s<o;s+=3)a.push(e[(n=(l[s]<<16&16711680)+(l[s+1]<<8&65280)+(255&l[s+2]))>>18&63]+e[n>>12&63]+e[n>>6&63]+e[63&n]);return a.join("")}C["-".charCodeAt(0)]=62,C["_".charCodeAt(0)]=63},91358:function(ie){"use strict";function B(T,m,l,t,o){for(var r=o+1;t<=o;){var n=t+o>>>1,a=T[n];(void 0!==l?l(a,m):a-m)>=0?(r=n,o=n-1):t=n+1}return r}function e(T,m,l,t,o){for(var r=o+1;t<=o;){var n=t+o>>>1,a=T[n];(void 0!==l?l(a,m):a-m)>0?(r=n,o=n-1):t=n+1}return r}function C(T,m,l,t,o){for(var r=t-1;t<=o;){var n=t+o>>>1,a=T[n];(void 0!==l?l(a,m):a-m)<0?(r=n,t=n+1):o=n-1}return r}function S(T,m,l,t,o){for(var r=t-1;t<=o;){var n=t+o>>>1,a=T[n];(void 0!==l?l(a,m):a-m)<=0?(r=n,t=n+1):o=n-1}return r}function u(T,m,l,t,o){for(;t<=o;){var r=t+o>>>1,n=T[r],a=void 0!==l?l(n,m):n-m;if(0===a)return r;a<=0?t=r+1:o=r-1}return-1}function A(T,m,l,t,o,r){return"function"==typeof l?r(T,m,l,void 0===t?0:0|t,void 0===o?T.length-1:0|o):r(T,m,void 0,void 0===l?0:0|l,void 0===t?T.length-1:0|t)}ie.exports={ge:function(T,m,l,t,o){return A(T,m,l,t,o,B)},gt:function(T,m,l,t,o){return A(T,m,l,t,o,e)},lt:function(T,m,l,t,o){return A(T,m,l,t,o,C)},le:function(T,m,l,t,o){return A(T,m,l,t,o,S)},eq:function(T,m,l,t,o){return A(T,m,l,t,o,u)}}},13547:function(ie,B){"use strict";function e(S){var u=32;return(S&=-S)&&u--,65535&S&&(u-=16),16711935&S&&(u-=8),252645135&S&&(u-=4),858993459&S&&(u-=2),1431655765&S&&(u-=1),u}B.INT_BITS=32,B.INT_MAX=2147483647,B.INT_MIN=-2147483648,B.sign=function(S){return(S>0)-(S<0)},B.abs=function(S){var u=S>>31;return(S^u)-u},B.min=function(S,u){return u^(S^u)&-(S<u)},B.max=function(S,u){return S^(S^u)&-(S<u)},B.isPow2=function(S){return!(S&S-1||!S)},B.log2=function(S){var u,A;return u=(S>65535)<<4,u|=A=((S>>>=u)>255)<<3,u|=A=((S>>>=A)>15)<<2,(u|=A=((S>>>=A)>3)<<1)|(S>>>=A)>>1},B.log10=function(S){return S>=1e9?9:S>=1e8?8:S>=1e7?7:S>=1e6?6:S>=1e5?5:S>=1e4?4:S>=1e3?3:S>=100?2:S>=10?1:0},B.popCount=function(S){return 16843009*((S=(858993459&(S-=S>>>1&1431655765))+(S>>>2&858993459))+(S>>>4)&252645135)>>>24},B.countTrailingZeros=e,B.nextPow2=function(S){return S+=0===S,--S,S|=S>>>1,S|=S>>>2,S|=S>>>4,1+((S|=S>>>8)|S>>>16)},B.prevPow2=function(S){return S|=S>>>1,S|=S>>>2,S|=S>>>4,S|=S>>>8,(S|=S>>>16)-(S>>>1)},B.parity=function(S){return S^=S>>>16,S^=S>>>8,S^=S>>>4,27030>>>(S&=15)&1};var C=new Array(256);(function(S){for(var u=0;u<256;++u){var A=u,T=u,m=7;for(A>>>=1;A;A>>>=1)T<<=1,T|=1&A,--m;S[u]=T<<m&255}})(C),B.reverse=function(S){return C[255&S]<<24|C[S>>>8&255]<<16|C[S>>>16&255]<<8|C[S>>>24&255]},B.interleave2=function(S,u){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S&=65535)|S<<8))|S<<4))|S<<2))|S<<1))|(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u&=65535)|u<<8))|u<<4))|u<<2))|u<<1))<<1},B.deinterleave2=function(S,u){return(S=65535&((S=16711935&((S=252645135&((S=858993459&((S=S>>>u&1431655765)|S>>>1))|S>>>2))|S>>>4))|S>>>16))<<16>>16},B.interleave3=function(S,u,A){return S=1227133513&((S=3272356035&((S=251719695&((S=4278190335&((S&=1023)|S<<16))|S<<8))|S<<4))|S<<2),(S|=(u=1227133513&((u=3272356035&((u=251719695&((u=4278190335&((u&=1023)|u<<16))|u<<8))|u<<4))|u<<2))<<1)|(A=1227133513&((A=3272356035&((A=251719695&((A=4278190335&((A&=1023)|A<<16))|A<<8))|A<<4))|A<<2))<<2},B.deinterleave3=function(S,u){return(S=1023&((S=4278190335&((S=251719695&((S=3272356035&((S=S>>>u&1227133513)|S>>>2))|S>>>4))|S>>>8))|S>>>16))<<22>>22},B.nextCombination=function(S){var u=S|S-1;return u+1|(~u&-~u)-1>>>e(S)+1}},44781:function(ie,B,e){"use strict";var C=e(53435);ie.exports=function(T,m){m||(m={});var l,t,o,r,n,a,c,f,w,v=null==m.cutoff?.25:m.cutoff,h=null==m.radius?8:m.radius,_=m.channel||0;if(ArrayBuffer.isView(T)||Array.isArray(T)){if(!m.width||!m.height)throw Error("For raw data width and height should be provided by options");l=m.width,t=m.height,r=T,a=m.stride?m.stride:Math.floor(T.length/l/t)}else window.HTMLCanvasElement&&T instanceof window.HTMLCanvasElement?(r=(c=T).getContext("2d").getImageData(0,0,l=c.width,t=c.height).data,a=4):window.CanvasRenderingContext2D&&T instanceof window.CanvasRenderingContext2D?(l=(c=T.canvas).width,r=T.getImageData(0,0,l,t=c.height).data,a=4):window.ImageData&&T instanceof window.ImageData&&(l=T.width,t=T.height,r=T.data,a=4);if(o=Math.max(l,t),window.Uint8ClampedArray&&r instanceof window.Uint8ClampedArray||window.Uint8Array&&r instanceof window.Uint8Array)for(n=r,r=Array(l*t),f=0,w=n.length;f<w;f++)r[f]=n[f*a+_]/255;else if(1!==a)throw Error("Raw data can have only 1 value per pixel");var x=Array(l*t),b=Array(l*t),M=Array(o),d=Array(o),E=Array(o+1),k=Array(o);for(f=0,w=l*t;f<w;f++){var I=r[f];x[f]=1===I?0:0===I?S:Math.pow(Math.max(0,.5-I),2),b[f]=1===I?S:0===I?0:Math.pow(Math.max(0,I-.5),2)}u(x,l,t,M,d,k,E),u(b,l,t,M,d,k,E);var L=window.Float32Array?new Float32Array(l*t):new Array(l*t);for(f=0,w=l*t;f<w;f++)L[f]=C(1-((x[f]-b[f])/h+v),0,1);return L};var S=1e20;function u(T,m,l,t,o,r,n){for(var a=0;a<m;a++){for(var s=0;s<l;s++)t[s]=T[s*m+a];for(A(t,o,r,n,l),s=0;s<l;s++)T[s*m+a]=o[s]}for(s=0;s<l;s++){for(a=0;a<m;a++)t[a]=T[s*m+a];for(A(t,o,r,n,m),a=0;a<m;a++)T[s*m+a]=Math.sqrt(o[a])}}function A(T,m,l,t,o){l[0]=0,t[0]=-S,t[1]=+S;for(var r=1,n=0;r<o;r++){for(var a=(T[r]+r*r-(T[l[n]]+l[n]*l[n]))/(2*r-2*l[n]);a<=t[n];)n--,a=(T[r]+r*r-(T[l[n]]+l[n]*l[n]))/(2*r-2*l[n]);l[++n]=r,t[n]=a,t[n+1]=+S}for(r=0,n=0;r<o;r++){for(;t[n+1]<r;)n++;m[r]=(r-l[n])*(r-l[n])+T[l[n]]}}},6614:function(ie,B,e){"use strict";var C=e(68318),S=e(68222),u=S(C("String.prototype.indexOf"));ie.exports=function(A,T){var m=C(A,!!T);return"function"==typeof m&&u(A,".prototype.")>-1?S(m):m}},68222:function(ie,B,e){"use strict";var C=e(77575),S=e(68318),u=S("%Function.prototype.apply%"),A=S("%Function.prototype.call%"),T=S("%Reflect.apply%",!0)||C.call(A,u),m=S("%Object.getOwnPropertyDescriptor%",!0),l=S("%Object.defineProperty%",!0),t=S("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}ie.exports=function(r){var n=T(C,A,arguments);return m&&l&&m(n,"length").configurable&&l(n,"length",{value:1+t(0,r.length-(arguments.length-1))}),n};var o=function(){return T(C,u,arguments)};l?l(ie.exports,"apply",{value:o}):ie.exports.apply=o},53435:function(ie){ie.exports=function(B,e,C){return e<C?B<e?e:B>C?C:B:B<C?C:B>e?e:B}},6475:function(ie,B,e){"use strict";var C=e(53435);function S(u,A){null==A&&(A=!0);var T=u[0],m=u[1],l=u[2],t=u[3];return null==t&&(t=A?1:255),A&&(T*=255,m*=255,l*=255,t*=255),16777216*(T=255&C(T,0,255))+((m=255&C(m,0,255))<<16)+((l=255&C(l,0,255))<<8)+(255&C(t,0,255))}ie.exports=S,ie.exports.to=S,ie.exports.from=function(u,A){var T=(u=+u)>>>24,m=(16711680&u)>>>16,l=(65280&u)>>>8,t=255&u;return!1===A?[T,m,l,t]:[T/255,m/255,l/255,t/255]}},76857:function(ie){"use strict";ie.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(ie,B,e){"use strict";var C=e(36652),S=e(53435),u=e(90660);ie.exports=function(A,T){"float"!==T&&T||(T="array"),"uint"===T&&(T="uint8"),"uint_clamped"===T&&(T="uint8_clamped");var t,m=new(u(T))(4),l="uint8"!==T&&"uint8_clamped"!==T;return A.length&&"string"!=typeof A||((A=C(A))[0]/=255,A[1]/=255,A[2]/=255),(t=A)instanceof Uint8Array||t instanceof Uint8ClampedArray||Array.isArray(t)&&(t[0]>1||0===t[0])&&(t[1]>1||0===t[1])&&(t[2]>1||0===t[2])&&(!t[3]||t[3]>1)?(m[0]=A[0],m[1]=A[1],m[2]=A[2],m[3]=null!=A[3]?A[3]:255,l&&(m[0]/=255,m[1]/=255,m[2]/=255,m[3]/=255),m):(l?(m[0]=A[0],m[1]=A[1],m[2]=A[2],m[3]=null!=A[3]?A[3]:1):(m[0]=S(Math.floor(255*A[0]),0,255),m[1]=S(Math.floor(255*A[1]),0,255),m[2]=S(Math.floor(255*A[2]),0,255),m[3]=null==A[3]?255:S(Math.floor(255*A[3]),0,255)),m)}},90736:function(ie,B,e){"use strict";var C=e(76857),S=e(10973),u=e(46775);ie.exports=function(T){var m,l,t=[],o=1;if("string"==typeof T)if(C[T])t=C[T].slice(),l="rgb";else if("transparent"===T)o=0,l="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(T)){var r=T.slice(1);o=1,(s=r.length)<=4?(t=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],4===s&&(o=parseInt(r[3]+r[3],16)/255)):(t=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],8===s&&(o=parseInt(r[6]+r[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),l="rgb"}else if(m=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(T)){var n=m[1],a="rgb"===n;l=r=n.replace(/a$/,"");var s="cmyk"===r?4:"gray"===r?1:3;t=m[2].trim().split(/\s*,\s*/).map(function(p,f){if(/%$/.test(p))return f===s?parseFloat(p)/100:"rgb"===r?255*parseFloat(p)/100:parseFloat(p);if("h"===r[f]){if(/deg$/.test(p))return parseFloat(p);if(void 0!==A[p])return A[p]}return parseFloat(p)}),n===r&&t.push(1),o=a||void 0===t[s]?1:t[s],t=t.slice(0,s)}else T.length>10&&/[0-9](?:\s|\/)/.test(T)&&(t=T.match(/([0-9]+)/g).map(function(p){return parseFloat(p)}),l=T.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(T))if(S(T)){var c=u(T.r,T.red,T.R,null);null!==c?(l="rgb",t=[c,u(T.g,T.green,T.G),u(T.b,T.blue,T.B)]):(l="hsl",t=[u(T.h,T.hue,T.H),u(T.s,T.saturation,T.S),u(T.l,T.lightness,T.L,T.b,T.brightness)]),o=u(T.a,T.alpha,T.opacity,1),null!=T.opacity&&(o/=100)}else(Array.isArray(T)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(T))&&(t=[T[0],T[1],T[2]],l="rgb",o=4===T.length?T[3]:1);else l="rgb",t=[T>>>16,(65280&T)>>>8,255&T];return{space:l,values:t,alpha:o}};var A={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(ie,B,e){"use strict";var C=e(90736),S=e(80009),u=e(53435);ie.exports=function(A){var T,m=C(A);return m.space?((T=Array(3))[0]=u(m.values[0],0,255),T[1]=u(m.values[1],0,255),T[2]=u(m.values[2],0,255),"h"===m.space[0]&&(T=S.rgb(T)),T.push(u(m.alpha,0,1)),T):[]}},80009:function(ie,B,e){"use strict";var C=e(6866);ie.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(S){var u,A,T,m,l,t=S[0]/360,o=S[1]/100,r=S[2]/100;if(0===o)return[l=255*r,l,l];u=2*r-(A=r<.5?r*(1+o):r+o-r*o),m=[0,0,0];for(var n=0;n<3;n++)(T=t+.3333333333333333*-(n-1))<0?T++:T>1&&T--,m[n]=255*(l=6*T<1?u+6*(A-u)*T:2*T<1?A:3*T<2?u+(A-u)*(.6666666666666666-T)*6:u);return m}},C.hsl=function(S){var u,A,T=S[0]/255,m=S[1]/255,l=S[2]/255,t=Math.min(T,m,l),o=Math.max(T,m,l),r=o-t;return o===t?u=0:T===o?u=(m-l)/r:m===o?u=2+(l-T)/r:l===o&&(u=4+(T-m)/r),(u=Math.min(60*u,360))<0&&(u+=360),A=(t+o)/2,[u,100*(o===t?0:A<=.5?r/(o+t):r/(2-o-t)),100*A]}},6866:function(ie){"use strict";ie.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(ie){ie.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(ie,B,e){"use strict";ie.exports={parse:e(41004),stringify:e(53313)}},63625:function(ie,B,e){"use strict";var C=e(40402);ie.exports={isSize:function(S){return/^[\d\.]/.test(S)||-1!==S.indexOf("/")||-1!==C.indexOf(S)}}},41004:function(ie,B,e){"use strict";var C=e(90448),S=e(38732),u=e(41901),A=e(15659),T=e(96209),m=e(83794),l=e(99011),t=e(63625).isSize;ie.exports=r;var o=r.cache={};function r(a){if("string"!=typeof a)throw new Error("Font argument must be a string.");if(o[a])return o[a];if(""===a)throw new Error("Cannot parse an empty string.");if(-1!==u.indexOf(a))return o[a]={system:a};for(var s,c={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},p=l(a,/\s+/);s=p.shift();){if(-1!==S.indexOf(s))return["style","variant","weight","stretch"].forEach(function(w){c[w]=s}),o[a]=c;if(-1===T.indexOf(s))if("normal"!==s&&"small-caps"!==s)if(-1===m.indexOf(s)){if(-1===A.indexOf(s)){if(t(s)){var f=l(s,"/");if(c.size=f[0],null!=f[1]?c.lineHeight=n(f[1]):"/"===p[0]&&(p.shift(),c.lineHeight=n(p.shift())),!p.length)throw new Error("Missing required font-family.");return c.family=l(p.join(" "),/\s*,\s*/).map(C),o[a]=c}throw new Error("Unknown or unsupported font token: "+s)}c.weight=s}else c.stretch=s;else c.variant=s;else c.style=s}throw new Error("Missing required font-size.")}function n(a){var s=parseFloat(a);return s.toString()===a?s:a}},53313:function(ie,B,e){"use strict";var C=e(71299),S=e(63625).isSize,u=a(e(38732)),A=a(e(41901)),T=a(e(15659)),m=a(e(96209)),l=a(e(83794)),t={normal:1,"small-caps":1},o={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},r="serif";function n(s,c){if(s&&!c[s]&&!u[s])throw Error("Unknown keyword `"+s+"`");return s}function a(s){for(var c={},p=0;p<s.length;p++)c[s[p]]=1;return c}ie.exports=function(s){if((s=C(s,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return s.system&&n(s.system,A),s.system;if(n(s.style,m),n(s.variant,t),n(s.weight,T),n(s.stretch,l),null==s.size&&(s.size="1rem"),"number"==typeof s.size&&(s.size+="px"),!S)throw Error("Bad size value `"+s.size+"`");s.family||(s.family=r),Array.isArray(s.family)&&(s.family.length||(s.family=[r]),s.family=s.family.map(function(p){return o[p]?p:'"'+p+'"'}).join(", "));var c=[];return c.push(s.style),s.variant!==s.style&&c.push(s.variant),s.weight!==s.variant&&s.weight!==s.style&&c.push(s.weight),s.stretch!==s.weight&&s.stretch!==s.variant&&s.stretch!==s.style&&c.push(s.stretch),c.push(s.size+(null==s.lineHeight||"normal"===s.lineHeight||s.lineHeight+""=="1"?"":"/"+s.lineHeight)),c.push(s.family),c.filter(Boolean).join(" ")}},55174:function(ie,B,e){"use strict";var C,S=e(24582),u=e(10424),A=e(82527),T=e(19012),m=e(21780),l=e(16906),t=Function.prototype.bind,o=Object.defineProperty,r=Object.prototype.hasOwnProperty;C=function(n,a,s){var c,p=u(a)&&A(a.value);return delete(c=T(a)).writable,delete c.value,c.get=function(){return!s.overwriteDefinition&&r.call(this,n)?p:(a.value=t.call(p,s.resolveContext?s.resolveContext(this):this),o(this,n,a),this[n])},c},ie.exports=function(n){var a=m(arguments[1]);return S(a.resolveContext)&&A(a.resolveContext),l(n,function(s,c){return C(c,s,a)})}},62072:function(ie,B,e){"use strict";var C=e(24582),S=e(84985),u=e(95879),A=e(21780),T=e(66741),m=ie.exports=function(l,t){var o,r,n,a,s;return arguments.length<2||"string"!=typeof l?(a=t,t=l,l=null):a=arguments[2],C(l)?(o=T.call(l,"c"),r=T.call(l,"e"),n=T.call(l,"w")):(o=n=!0,r=!1),s={value:t,configurable:o,enumerable:r,writable:n},a?u(A(a),s):s};m.gs=function(l,t,o){var r,n,a,s;return"string"!=typeof l?(a=o,o=t,t=l,l=null):a=arguments[3],C(t)?S(t)?C(o)?S(o)||(a=o,o=void 0):o=void 0:(a=t,t=o=void 0):t=void 0,C(l)?(r=T.call(l,"c"),n=T.call(l,"e")):(r=!0,n=!1),s={get:t,set:o,configurable:r,enumerable:n},a?u(A(a),s):s}},33064:function(ie,B,e){"use strict";function C(a,s){return a<s?-1:a>s?1:a>=s?0:NaN}var S,u;function T(a,s){var c,p,f=a.length,w=-1;if(null==s){for(;++w<f;)if(null!=(c=a[w])&&c>=c)for(p=c;++w<f;)null!=(c=a[w])&&c>p&&(p=c)}else for(;++w<f;)if(null!=(c=s(a[w],w,a))&&c>=c)for(p=c;++w<f;)null!=(c=s(a[w],w,a))&&c>p&&(p=c);return p}function m(a){return null===a?NaN:+a}function l(a,s){var c,p=a.length,f=p,w=-1,v=0;if(null==s)for(;++w<p;)isNaN(c=m(a[w]))?--f:v+=c;else for(;++w<p;)isNaN(c=m(s(a[w],w,a)))?--f:v+=c;if(f)return v/f}function t(a){for(var s,c,p,f=a.length,w=-1,v=0;++w<f;)v+=a[w].length;for(c=new Array(v);--f>=0;)for(s=(p=a[f]).length;--s>=0;)c[--v]=p[s];return c}function o(a,s){var c,p,f=a.length,w=-1;if(null==s){for(;++w<f;)if(null!=(c=a[w])&&c>=c)for(p=c;++w<f;)null!=(c=a[w])&&p>c&&(p=c)}else for(;++w<f;)if(null!=(c=s(a[w],w,a))&&c>=c)for(p=c;++w<f;)null!=(c=s(a[w],w,a))&&p>c&&(p=c);return p}function r(a,s,c){a=+a,s=+s,c=(f=arguments.length)<2?(s=a,a=0,1):f<3?1:+c;for(var p=-1,f=0|Math.max(0,Math.ceil((s-a)/c)),w=new Array(f);++p<f;)w[p]=a+p*c;return w}function n(a,s){var c,p=a.length,f=-1,w=0;if(null==s)for(;++f<p;)(c=+a[f])&&(w+=c);else for(;++f<p;)(c=+s(a[f],f,a))&&(w+=c);return w}e.d(B,{j2:function(){return C},Fp:function(){return T},J6:function(){return l},TS:function(){return t},VV:function(){return o},w6:function(){return r},Sm:function(){return n}}),1===(S=C).length&&(u=S,S=function(a,s){return C(u(a),s)}),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},15140:function(ie,B,e){"use strict";e.d(B,{UI:function(){return A},b1:function(){return T}});var C="$";function S(){}function u(a,s){var c=new S;if(a instanceof S)a.each(function(h,_){c.set(_,h)});else if(Array.isArray(a)){var p,f=-1,w=a.length;if(null==s)for(;++f<w;)c.set(f,a[f]);else for(;++f<w;)c.set(s(p=a[f],f,a),p)}else if(a)for(var v in a)c.set(v,a[v]);return c}S.prototype=u.prototype={constructor:S,has:function(a){return C+a in this},get:function(a){return this[C+a]},set:function(a,s){return this[C+a]=s,this},remove:function(a){var s=C+a;return s in this&&delete this[s]},clear:function(){for(var a in this)a[0]===C&&delete this[a]},keys:function(){var a=[];for(var s in this)s[0]===C&&a.push(s.slice(1));return a},values:function(){var a=[];for(var s in this)s[0]===C&&a.push(this[s]);return a},entries:function(){var a=[];for(var s in this)s[0]===C&&a.push({key:s.slice(1),value:this[s]});return a},size:function(){var a=0;for(var s in this)s[0]===C&&++a;return a},empty:function(){for(var a in this)if(a[0]===C)return!1;return!0},each:function(a){for(var s in this)s[0]===C&&a(this[s],s.slice(1),this)}};var A=u;function T(){var a,s,c,p=[],f=[];function w(h,_,x,b){if(_>=p.length)return null!=a&&h.sort(a),null!=s?s(h):h;for(var M,d,E,k=-1,I=h.length,L=p[_++],P=A(),R=x();++k<I;)(E=P.get(M=L(d=h[k])+""))?E.push(d):P.set(M,[d]);return P.each(function(z,$){b(R,$,w(z,_,x,b))}),R}function v(h,_){if(++_>p.length)return h;var x,b=f[_-1];return null!=s&&_>=p.length?x=h.entries():(x=[],h.each(function(M,d){x.push({key:d,values:v(M,_)})})),null!=b?x.sort(function(M,d){return b(M.key,d.key)}):x}return c={object:function(h){return w(h,0,m,l)},map:function(h){return w(h,0,t,o)},entries:function(h){return v(w(h,0,t,o),0)},key:function(h){return p.push(h),c},sortKeys:function(h){return f[p.length-1]=h,c},sortValues:function(h){return a=h,c},rollup:function(h){return s=h,c}}}function m(){return{}}function l(a,s,c){a[s]=c}function t(){return A()}function o(a,s,c){a.set(s,c)}function r(){}var n=A.prototype;r.prototype=function(a,s){var c=new r;if(a instanceof r)a.each(function(w){c.add(w)});else if(a){var p=-1,f=a.length;if(null==s)for(;++p<f;)c.add(a[p]);else for(;++p<f;)c.add(s(a[p],p,a))}return c}.prototype={constructor:r,has:n.has,add:function(a){return this[C+(a+="")]=a,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(ie,B,e){"use strict";function C(be,xe){var Ne;function Se(){var Ce,pe,de=Ne.length,se=0,we=0;for(Ce=0;Ce<de;++Ce)se+=(pe=Ne[Ce]).x,we+=pe.y;for(se=se/de-be,we=we/de-xe,Ce=0;Ce<de;++Ce)(pe=Ne[Ce]).x-=se,pe.y-=we}return null==be&&(be=0),null==xe&&(xe=0),Se.initialize=function(Ce){Ne=Ce},Se.x=function(Ce){return arguments.length?(be=+Ce,Se):be},Se.y=function(Ce){return arguments.length?(xe=+Ce,Se):xe},Se}function S(be){return function(){return be}}function u(){return 1e-6*(Math.random()-.5)}function A(be,xe,Ne,Se){if(isNaN(xe)||isNaN(Ne))return be;var Ce,pe,de,se,we,Re,Ee,Ue,$e,ve=be._root,Ie={data:Se},De=be._x0,ze=be._y0,Ge=be._x1,He=be._y1;if(!ve)return be._root=Ie,be;for(;ve.length;)if((Re=xe>=(pe=(De+Ge)/2))?De=pe:Ge=pe,(Ee=Ne>=(de=(ze+He)/2))?ze=de:He=de,Ce=ve,!(ve=ve[Ue=Ee<<1|Re]))return Ce[Ue]=Ie,be;if(se=+be._x.call(null,ve.data),we=+be._y.call(null,ve.data),xe===se&&Ne===we)return Ie.next=ve,Ce?Ce[Ue]=Ie:be._root=Ie,be;do{Ce=Ce?Ce[Ue]=new Array(4):be._root=new Array(4),(Re=xe>=(pe=(De+Ge)/2))?De=pe:Ge=pe,(Ee=Ne>=(de=(ze+He)/2))?ze=de:He=de}while((Ue=Ee<<1|Re)==($e=(we>=de)<<1|se>=pe));return Ce[$e]=ve,Ce[Ue]=Ie,be}function T(be,xe,Ne,Se,Ce){this.node=be,this.x0=xe,this.y0=Ne,this.x1=Se,this.y1=Ce}function m(be){return be[0]}function l(be){return be[1]}function t(be,xe,Ne){var Se=new o(xe??m,Ne??l,NaN,NaN,NaN,NaN);return null==be?Se:Se.addAll(be)}function o(be,xe,Ne,Se,Ce,pe){this._x=be,this._y=xe,this._x0=Ne,this._y0=Se,this._x1=Ce,this._y1=pe,this._root=void 0}function r(be){for(var xe={data:be.data},Ne=xe;be=be.next;)Ne=Ne.next={data:be.data};return xe}e.r(B),e.d(B,{forceCenter:function(){return C},forceCollide:function(){return c},forceLink:function(){return v},forceManyBody:function(){return me},forceRadial:function(){return ke},forceSimulation:function(){return he},forceX:function(){return Pe},forceY:function(){return Te}});var n=t.prototype=o.prototype;function a(be){return be.x+be.vx}function s(be){return be.y+be.vy}function c(be){var xe,Ne,Se=1,Ce=1;function pe(){for(var we,Re,Ee,Ue,$e,ve,Ie,De=xe.length,ze=0;ze<Ce;++ze)for(Re=t(xe,a,s).visitAfter(de),we=0;we<De;++we)Ie=(ve=Ne[(Ee=xe[we]).index])*ve,Ue=Ee.x+Ee.vx,$e=Ee.y+Ee.vy,Re.visit(Ge);function Ge(He,Ke,et,st,mt){var at=He.data,kt=He.r,St=ve+kt;if(!at)return Ke>Ue+St||st<Ue-St||et>$e+St||mt<$e-St;if(at.index>Ee.index){var gt=Ue-at.x-at.vx,dt=$e-at.y-at.vy,Ct=gt*gt+dt*dt;Ct<St*St&&(0===gt&&(Ct+=(gt=u())*gt),0===dt&&(Ct+=(dt=u())*dt),Ct=(St-(Ct=Math.sqrt(Ct)))/Ct*Se,Ee.vx+=(gt*=Ct)*(St=(kt*=kt)/(Ie+kt)),Ee.vy+=(dt*=Ct)*St,at.vx-=gt*(St=1-St),at.vy-=dt*St)}}}function de(we){if(we.data)return we.r=Ne[we.data.index];for(var Re=we.r=0;Re<4;++Re)we[Re]&&we[Re].r>we.r&&(we.r=we[Re].r)}function se(){if(xe){var we,Re,Ee=xe.length;for(Ne=new Array(Ee),we=0;we<Ee;++we)Ne[(Re=xe[we]).index]=+be(Re,we,xe)}}return"function"!=typeof be&&(be=S(null==be?1:+be)),pe.initialize=function(we){xe=we,se()},pe.iterations=function(we){return arguments.length?(Ce=+we,pe):Ce},pe.strength=function(we){return arguments.length?(Se=+we,pe):Se},pe.radius=function(we){return arguments.length?(be="function"==typeof we?we:S(+we),se(),pe):be},pe}n.copy=function(){var be,xe,Ne=new o(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Se=this._root;if(!Se)return Ne;if(!Se.length)return Ne._root=r(Se),Ne;for(be=[{source:Se,target:Ne._root=new Array(4)}];Se=be.pop();)for(var Ce=0;Ce<4;++Ce)(xe=Se.source[Ce])&&(xe.length?be.push({source:xe,target:Se.target[Ce]=new Array(4)}):Se.target[Ce]=r(xe));return Ne},n.add=function(be){var xe=+this._x.call(null,be),Ne=+this._y.call(null,be);return A(this.cover(xe,Ne),xe,Ne,be)},n.addAll=function(be){var xe,Ne,Se,Ce,pe=be.length,de=new Array(pe),se=new Array(pe),we=1/0,Re=1/0,Ee=-1/0,Ue=-1/0;for(Ne=0;Ne<pe;++Ne)isNaN(Se=+this._x.call(null,xe=be[Ne]))||isNaN(Ce=+this._y.call(null,xe))||(de[Ne]=Se,se[Ne]=Ce,Se<we&&(we=Se),Se>Ee&&(Ee=Se),Ce<Re&&(Re=Ce),Ce>Ue&&(Ue=Ce));if(we>Ee||Re>Ue)return this;for(this.cover(we,Re).cover(Ee,Ue),Ne=0;Ne<pe;++Ne)A(this,de[Ne],se[Ne],be[Ne]);return this},n.cover=function(be,xe){if(isNaN(be=+be)||isNaN(xe=+xe))return this;var Ne=this._x0,Se=this._y0,Ce=this._x1,pe=this._y1;if(isNaN(Ne))Ce=(Ne=Math.floor(be))+1,pe=(Se=Math.floor(xe))+1;else{for(var de,se,we=Ce-Ne,Re=this._root;Ne>be||be>=Ce||Se>xe||xe>=pe;)switch(se=(xe<Se)<<1|be<Ne,(de=new Array(4))[se]=Re,Re=de,we*=2,se){case 0:Ce=Ne+we,pe=Se+we;break;case 1:Ne=Ce-we,pe=Se+we;break;case 2:Ce=Ne+we,Se=pe-we;break;case 3:Ne=Ce-we,Se=pe-we}this._root&&this._root.length&&(this._root=Re)}return this._x0=Ne,this._y0=Se,this._x1=Ce,this._y1=pe,this},n.data=function(){var be=[];return this.visit(function(xe){if(!xe.length)do{be.push(xe.data)}while(xe=xe.next)}),be},n.extent=function(be){return arguments.length?this.cover(+be[0][0],+be[0][1]).cover(+be[1][0],+be[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},n.find=function(be,xe,Ne){var Se,Ce,pe,de,se,we,Re,Ee=this._x0,Ue=this._y0,$e=this._x1,ve=this._y1,Ie=[],De=this._root;for(De&&Ie.push(new T(De,Ee,Ue,$e,ve)),null==Ne?Ne=1/0:(Ee=be-Ne,Ue=xe-Ne,$e=be+Ne,ve=xe+Ne,Ne*=Ne);we=Ie.pop();)if(!(!(De=we.node)||(Ce=we.x0)>$e||(pe=we.y0)>ve||(de=we.x1)<Ee||(se=we.y1)<Ue))if(De.length){var ze=(Ce+de)/2,Ge=(pe+se)/2;Ie.push(new T(De[3],ze,Ge,de,se),new T(De[2],Ce,Ge,ze,se),new T(De[1],ze,pe,de,Ge),new T(De[0],Ce,pe,ze,Ge)),(Re=(xe>=Ge)<<1|be>=ze)&&(we=Ie[Ie.length-1],Ie[Ie.length-1]=Ie[Ie.length-1-Re],Ie[Ie.length-1-Re]=we)}else{var He=be-+this._x.call(null,De.data),Ke=xe-+this._y.call(null,De.data),et=He*He+Ke*Ke;if(et<Ne){var st=Math.sqrt(Ne=et);Ee=be-st,Ue=xe-st,$e=be+st,ve=xe+st,Se=De.data}}return Se},n.remove=function(be){if(isNaN(pe=+this._x.call(null,be))||isNaN(de=+this._y.call(null,be)))return this;var xe,Ne,Se,Ce,pe,de,se,we,Re,Ee,Ue,$e,ve=this._root,Ie=this._x0,De=this._y0,ze=this._x1,Ge=this._y1;if(!ve)return this;if(ve.length)for(;;){if((Re=pe>=(se=(Ie+ze)/2))?Ie=se:ze=se,(Ee=de>=(we=(De+Ge)/2))?De=we:Ge=we,xe=ve,!(ve=ve[Ue=Ee<<1|Re]))return this;if(!ve.length)break;(xe[Ue+1&3]||xe[Ue+2&3]||xe[Ue+3&3])&&(Ne=xe,$e=Ue)}for(;ve.data!==be;)if(Se=ve,!(ve=ve.next))return this;return(Ce=ve.next)&&delete ve.next,Se?(Ce?Se.next=Ce:delete Se.next,this):xe?(Ce?xe[Ue]=Ce:delete xe[Ue],(ve=xe[0]||xe[1]||xe[2]||xe[3])&&ve===(xe[3]||xe[2]||xe[1]||xe[0])&&!ve.length&&(Ne?Ne[$e]=ve:this._root=ve),this):(this._root=Ce,this)},n.removeAll=function(be){for(var xe=0,Ne=be.length;xe<Ne;++xe)this.remove(be[xe]);return this},n.root=function(){return this._root},n.size=function(){var be=0;return this.visit(function(xe){if(!xe.length)do{++be}while(xe=xe.next)}),be},n.visit=function(be){var xe,Ne,Se,Ce,pe,de,se=[],we=this._root;for(we&&se.push(new T(we,this._x0,this._y0,this._x1,this._y1));xe=se.pop();)if(!be(we=xe.node,Se=xe.x0,Ce=xe.y0,pe=xe.x1,de=xe.y1)&&we.length){var Re=(Se+pe)/2,Ee=(Ce+de)/2;(Ne=we[3])&&se.push(new T(Ne,Re,Ee,pe,de)),(Ne=we[2])&&se.push(new T(Ne,Se,Ee,Re,de)),(Ne=we[1])&&se.push(new T(Ne,Re,Ce,pe,Ee)),(Ne=we[0])&&se.push(new T(Ne,Se,Ce,Re,Ee))}return this},n.visitAfter=function(be){var xe,Ne=[],Se=[];for(this._root&&Ne.push(new T(this._root,this._x0,this._y0,this._x1,this._y1));xe=Ne.pop();){var Ce=xe.node;if(Ce.length){var pe,de=xe.x0,se=xe.y0,we=xe.x1,Re=xe.y1,Ee=(de+we)/2,Ue=(se+Re)/2;(pe=Ce[0])&&Ne.push(new T(pe,de,se,Ee,Ue)),(pe=Ce[1])&&Ne.push(new T(pe,Ee,se,we,Ue)),(pe=Ce[2])&&Ne.push(new T(pe,de,Ue,Ee,Re)),(pe=Ce[3])&&Ne.push(new T(pe,Ee,Ue,we,Re))}Se.push(xe)}for(;xe=Se.pop();)be(xe.node,xe.x0,xe.y0,xe.x1,xe.y1);return this},n.x=function(be){return arguments.length?(this._x=be,this):this._x},n.y=function(be){return arguments.length?(this._y=be,this):this._y};var p=e(15140);function f(be){return be.index}function w(be,xe){var Ne=be.get(xe);if(!Ne)throw new Error("missing: "+xe);return Ne}function v(be){var xe,Ne,Se,Ce,pe,de=f,se=function(Ie){return 1/Math.min(Ce[Ie.source.index],Ce[Ie.target.index])},we=S(30),Re=1;function Ee(Ie){for(var De=0,ze=be.length;De<Re;++De)for(var Ge,He,Ke,et,st,mt,at,kt=0;kt<ze;++kt)He=(Ge=be[kt]).source,et=(Ke=Ge.target).x+Ke.vx-He.x-He.vx||u(),st=Ke.y+Ke.vy-He.y-He.vy||u(),et*=mt=((mt=Math.sqrt(et*et+st*st))-Ne[kt])/mt*Ie*xe[kt],st*=mt,Ke.vx-=et*(at=pe[kt]),Ke.vy-=st*at,He.vx+=et*(at=1-at),He.vy+=st*at}function Ue(){if(Se){var Ie,De,ze=Se.length,Ge=be.length,He=(0,p.UI)(Se,de);for(Ie=0,Ce=new Array(ze);Ie<Ge;++Ie)(De=be[Ie]).index=Ie,"object"!=typeof De.source&&(De.source=w(He,De.source)),"object"!=typeof De.target&&(De.target=w(He,De.target)),Ce[De.source.index]=(Ce[De.source.index]||0)+1,Ce[De.target.index]=(Ce[De.target.index]||0)+1;for(Ie=0,pe=new Array(Ge);Ie<Ge;++Ie)pe[Ie]=Ce[(De=be[Ie]).source.index]/(Ce[De.source.index]+Ce[De.target.index]);xe=new Array(Ge),$e(),Ne=new Array(Ge),ve()}}function $e(){if(Se)for(var Ie=0,De=be.length;Ie<De;++Ie)xe[Ie]=+se(be[Ie],Ie,be)}function ve(){if(Se)for(var Ie=0,De=be.length;Ie<De;++Ie)Ne[Ie]=+we(be[Ie],Ie,be)}return null==be&&(be=[]),Ee.initialize=function(Ie){Se=Ie,Ue()},Ee.links=function(Ie){return arguments.length?(be=Ie,Ue(),Ee):be},Ee.id=function(Ie){return arguments.length?(de=Ie,Ee):de},Ee.iterations=function(Ie){return arguments.length?(Re=+Ie,Ee):Re},Ee.strength=function(Ie){return arguments.length?(se="function"==typeof Ie?Ie:S(+Ie),$e(),Ee):se},Ee.distance=function(Ie){return arguments.length?(we="function"==typeof Ie?Ie:S(+Ie),ve(),Ee):we},Ee}var h={value:function(){}};function _(){for(var be,xe=0,Ne=arguments.length,Se={};xe<Ne;++xe){if(!(be=arguments[xe]+"")||be in Se||/[\s.]/.test(be))throw new Error("illegal type: "+be);Se[be]=[]}return new x(Se)}function x(be){this._=be}function b(be,xe){for(var Ne,Se=0,Ce=be.length;Se<Ce;++Se)if((Ne=be[Se]).name===xe)return Ne.value}function M(be,xe,Ne){for(var Se=0,Ce=be.length;Se<Ce;++Se)if(be[Se].name===xe){be[Se]=h,be=be.slice(0,Se).concat(be.slice(Se+1));break}return null!=Ne&&be.push({name:xe,value:Ne}),be}x.prototype=_.prototype={constructor:x,on:function(be,xe){var Ne,Se,Ce=this._,pe=(Se=Ce,(be+"").trim().split(/^|\s+/).map(function(we){var Re="",Ee=we.indexOf(".");if(Ee>=0&&(Re=we.slice(Ee+1),we=we.slice(0,Ee)),we&&!Se.hasOwnProperty(we))throw new Error("unknown type: "+we);return{type:we,name:Re}})),de=-1,se=pe.length;if(!(arguments.length<2)){if(null!=xe&&"function"!=typeof xe)throw new Error("invalid callback: "+xe);for(;++de<se;)if(Ne=(be=pe[de]).type)Ce[Ne]=M(Ce[Ne],be.name,xe);else if(null==xe)for(Ne in Ce)Ce[Ne]=M(Ce[Ne],be.name,null);return this}for(;++de<se;)if((Ne=(be=pe[de]).type)&&(Ne=b(Ce[Ne],be.name)))return Ne},copy:function(){var be={},xe=this._;for(var Ne in xe)be[Ne]=xe[Ne].slice();return new x(be)},call:function(be,xe){if((Ne=arguments.length-2)>0)for(var Ne,Se,Ce=new Array(Ne),pe=0;pe<Ne;++pe)Ce[pe]=arguments[pe+2];if(!this._.hasOwnProperty(be))throw new Error("unknown type: "+be);for(pe=0,Ne=(Se=this._[be]).length;pe<Ne;++pe)Se[pe].value.apply(xe,Ce)},apply:function(be,xe,Ne){if(!this._.hasOwnProperty(be))throw new Error("unknown type: "+be);for(var Se=this._[be],Ce=0,pe=Se.length;Ce<pe;++Ce)Se[Ce].value.apply(xe,Ne)}};var d,E,k=_,I=0,L=0,P=0,R=1e3,z=0,$=0,N=0,W="object"==typeof performance&&performance.now?performance:Date,H="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(be){setTimeout(be,17)};function U(){return $||(H(Z),$=W.now()+N)}function Z(){$=0}function Y(){this._call=this._time=this._next=null}function ae(be,xe,Ne){var Se=new Y;return Se.restart(be,xe,Ne),Se}function re(){$=(z=W.now())+N,I=L=0;try{!function(){U(),++I;for(var be,xe=d;xe;)(be=$-xe._time)>=0&&xe._call.call(null,be),xe=xe._next;--I}()}finally{I=0,function(){for(var be,xe,Ne=d,Se=1/0;Ne;)Ne._call?(Se>Ne._time&&(Se=Ne._time),be=Ne,Ne=Ne._next):(xe=Ne._next,Ne._next=null,Ne=be?be._next=xe:d=xe);E=be,K(Se)}(),$=0}}function Q(){var be=W.now(),xe=be-z;xe>R&&(N-=xe,z=be)}function K(be){I||(L&&(L=clearTimeout(L)),be-$>24?(be<1/0&&(L=setTimeout(re,be-W.now()-N)),P&&(P=clearInterval(P))):(P||(z=W.now(),P=setInterval(Q,R)),I=1,H(re)))}function te(be){return be.x}function oe(be){return be.y}Y.prototype=ae.prototype={constructor:Y,restart:function(be,xe,Ne){if("function"!=typeof be)throw new TypeError("callback is not a function");Ne=(null==Ne?U():+Ne)+(null==xe?0:+xe),this._next||E===this||(E?E._next=this:d=this,E=this),this._call=be,this._time=Ne,K()},stop:function(){this._call&&(this._call=null,this._time=1/0,K())}};var ue=10,fe=Math.PI*(3-Math.sqrt(5));function he(be){var xe,Ne=1,Se=.001,Ce=1-Math.pow(Se,1/300),pe=0,de=.6,se=(0,p.UI)(),we=ae(Ee),Re=k("tick","end");function Ee(){Ue(),Re.call("tick",xe),Ne<Se&&(we.stop(),Re.call("end",xe))}function Ue(Ie){var De,ze,Ge=be.length;void 0===Ie&&(Ie=1);for(var He=0;He<Ie;++He)for(Ne+=(pe-Ne)*Ce,se.each(function(Ke){Ke(Ne)}),De=0;De<Ge;++De)null==(ze=be[De]).fx?ze.x+=ze.vx*=de:(ze.x=ze.fx,ze.vx=0),null==ze.fy?ze.y+=ze.vy*=de:(ze.y=ze.fy,ze.vy=0);return xe}function $e(){for(var Ie,De=0,ze=be.length;De<ze;++De){if((Ie=be[De]).index=De,null!=Ie.fx&&(Ie.x=Ie.fx),null!=Ie.fy&&(Ie.y=Ie.fy),isNaN(Ie.x)||isNaN(Ie.y)){var Ge=ue*Math.sqrt(De),He=De*fe;Ie.x=Ge*Math.cos(He),Ie.y=Ge*Math.sin(He)}(isNaN(Ie.vx)||isNaN(Ie.vy))&&(Ie.vx=Ie.vy=0)}}function ve(Ie){return Ie.initialize&&Ie.initialize(be),Ie}return null==be&&(be=[]),$e(),xe={tick:Ue,restart:function(){return we.restart(Ee),xe},stop:function(){return we.stop(),xe},nodes:function(Ie){return arguments.length?(be=Ie,$e(),se.each(ve),xe):be},alpha:function(Ie){return arguments.length?(Ne=+Ie,xe):Ne},alphaMin:function(Ie){return arguments.length?(Se=+Ie,xe):Se},alphaDecay:function(Ie){return arguments.length?(Ce=+Ie,xe):+Ce},alphaTarget:function(Ie){return arguments.length?(pe=+Ie,xe):pe},velocityDecay:function(Ie){return arguments.length?(de=1-Ie,xe):1-de},force:function(Ie,De){return arguments.length>1?(null==De?se.remove(Ie):se.set(Ie,ve(De)),xe):se.get(Ie)},find:function(Ie,De,ze){var Ge,He,Ke,et,st,mt=0,at=be.length;for(null==ze?ze=1/0:ze*=ze,mt=0;mt<at;++mt)(Ke=(Ge=Ie-(et=be[mt]).x)*Ge+(He=De-et.y)*He)<ze&&(st=et,ze=Ke);return st},on:function(Ie,De){return arguments.length>1?(Re.on(Ie,De),xe):Re.on(Ie)}}}function me(){var be,xe,Ne,Se,Ce=S(-30),pe=1,de=1/0,se=.81;function we($e){var ve,Ie=be.length,De=t(be,te,oe).visitAfter(Ee);for(Ne=$e,ve=0;ve<Ie;++ve)xe=be[ve],De.visit(Ue)}function Re(){if(be){var $e,ve,Ie=be.length;for(Se=new Array(Ie),$e=0;$e<Ie;++$e)Se[(ve=be[$e]).index]=+Ce(ve,$e,be)}}function Ee($e){var ve,Ie,De,ze,Ge,He=0,Ke=0;if($e.length){for(De=ze=Ge=0;Ge<4;++Ge)(ve=$e[Ge])&&(Ie=Math.abs(ve.value))&&(He+=ve.value,Ke+=Ie,De+=Ie*ve.x,ze+=Ie*ve.y);$e.x=De/Ke,$e.y=ze/Ke}else{(ve=$e).x=ve.data.x,ve.y=ve.data.y;do{He+=Se[ve.data.index]}while(ve=ve.next)}$e.value=He}function Ue($e,ve,Ie,De){if(!$e.value)return!0;var ze=$e.x-xe.x,Ge=$e.y-xe.y,He=De-ve,Ke=ze*ze+Ge*Ge;if(He*He/se<Ke)return Ke<de&&(0===ze&&(Ke+=(ze=u())*ze),0===Ge&&(Ke+=(Ge=u())*Ge),Ke<pe&&(Ke=Math.sqrt(pe*Ke)),xe.vx+=ze*$e.value*Ne/Ke,xe.vy+=Ge*$e.value*Ne/Ke),!0;if(!($e.length||Ke>=de)){($e.data!==xe||$e.next)&&(0===ze&&(Ke+=(ze=u())*ze),0===Ge&&(Ke+=(Ge=u())*Ge),Ke<pe&&(Ke=Math.sqrt(pe*Ke)));do{$e.data!==xe&&(xe.vx+=ze*(He=Se[$e.data.index]*Ne/Ke),xe.vy+=Ge*He)}while($e=$e.next)}}return we.initialize=function($e){be=$e,Re()},we.strength=function($e){return arguments.length?(Ce="function"==typeof $e?$e:S(+$e),Re(),we):Ce},we.distanceMin=function($e){return arguments.length?(pe=$e*$e,we):Math.sqrt(pe)},we.distanceMax=function($e){return arguments.length?(de=$e*$e,we):Math.sqrt(de)},we.theta=function($e){return arguments.length?(se=$e*$e,we):Math.sqrt(se)},we}function ke(be,xe,Ne){var Se,Ce,pe,de=S(.1);function se(Re){for(var Ee=0,Ue=Se.length;Ee<Ue;++Ee){var $e=Se[Ee],ve=$e.x-xe||1e-6,Ie=$e.y-Ne||1e-6,De=Math.sqrt(ve*ve+Ie*Ie),ze=(pe[Ee]-De)*Ce[Ee]*Re/De;$e.vx+=ve*ze,$e.vy+=Ie*ze}}function we(){if(Se){var Re,Ee=Se.length;for(Ce=new Array(Ee),pe=new Array(Ee),Re=0;Re<Ee;++Re)pe[Re]=+be(Se[Re],Re,Se),Ce[Re]=isNaN(pe[Re])?0:+de(Se[Re],Re,Se)}}return"function"!=typeof be&&(be=S(+be)),null==xe&&(xe=0),null==Ne&&(Ne=0),se.initialize=function(Re){Se=Re,we()},se.strength=function(Re){return arguments.length?(de="function"==typeof Re?Re:S(+Re),we(),se):de},se.radius=function(Re){return arguments.length?(be="function"==typeof Re?Re:S(+Re),we(),se):be},se.x=function(Re){return arguments.length?(xe=+Re,se):xe},se.y=function(Re){return arguments.length?(Ne=+Re,se):Ne},se}function Pe(be){var xe,Ne,Se,Ce=S(.1);function pe(se){for(var we,Re=0,Ee=xe.length;Re<Ee;++Re)(we=xe[Re]).vx+=(Se[Re]-we.x)*Ne[Re]*se}function de(){if(xe){var se,we=xe.length;for(Ne=new Array(we),Se=new Array(we),se=0;se<we;++se)Ne[se]=isNaN(Se[se]=+be(xe[se],se,xe))?0:+Ce(xe[se],se,xe)}}return"function"!=typeof be&&(be=S(null==be?0:+be)),pe.initialize=function(se){xe=se,de()},pe.strength=function(se){return arguments.length?(Ce="function"==typeof se?se:S(+se),de(),pe):Ce},pe.x=function(se){return arguments.length?(be="function"==typeof se?se:S(+se),de(),pe):be},pe}function Te(be){var xe,Ne,Se,Ce=S(.1);function pe(se){for(var we,Re=0,Ee=xe.length;Re<Ee;++Re)(we=xe[Re]).vy+=(Se[Re]-we.y)*Ne[Re]*se}function de(){if(xe){var se,we=xe.length;for(Ne=new Array(we),Se=new Array(we),se=0;se<we;++se)Ne[se]=isNaN(Se[se]=+be(xe[se],se,xe))?0:+Ce(xe[se],se,xe)}}return"function"!=typeof be&&(be=S(null==be?0:+be)),pe.initialize=function(se){xe=se,de()},pe.strength=function(se){return arguments.length?(Ce="function"==typeof se?se:S(+se),de(),pe):Ce},pe.y=function(se){return arguments.length?(be="function"==typeof se?se:S(+se),de(),pe):be},pe}},60721:function(ie,B,e){"use strict";function C(c,p){if((f=(c=p?c.toExponential(p-1):c.toExponential()).indexOf("e"))<0)return null;var f,w=c.slice(0,f);return[w.length>1?w[0]+w.slice(2):w,+c.slice(f+1)]}e.d(B,{WU:function(){return r},FF:function(){return s}});var S,u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function A(c){if(!(p=u.exec(c)))throw new Error("invalid format: "+c);var p;return new T({fill:p[1],align:p[2],sign:p[3],symbol:p[4],zero:p[5],width:p[6],comma:p[7],precision:p[8]&&p[8].slice(1),trim:p[9],type:p[10]})}function T(c){this.fill=void 0===c.fill?" ":c.fill+"",this.align=void 0===c.align?">":c.align+"",this.sign=void 0===c.sign?"-":c.sign+"",this.symbol=void 0===c.symbol?"":c.symbol+"",this.zero=!!c.zero,this.width=void 0===c.width?void 0:+c.width,this.comma=!!c.comma,this.precision=void 0===c.precision?void 0:+c.precision,this.trim=!!c.trim,this.type=void 0===c.type?"":c.type+""}function m(c,p){var f=C(c,p);if(!f)return c+"";var w=f[0],v=f[1];return v<0?"0."+new Array(-v).join("0")+w:w.length>v+1?w.slice(0,v+1)+"."+w.slice(v+1):w+new Array(v-w.length+2).join("0")}A.prototype=T.prototype,T.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var l={"%":function(c,p){return(100*c).toFixed(p)},b:function(c){return Math.round(c).toString(2)},c:function(c){return c+""},d:function(c){return Math.abs(c=Math.round(c))>=1e21?c.toLocaleString("en").replace(/,/g,""):c.toString(10)},e:function(c,p){return c.toExponential(p)},f:function(c,p){return c.toFixed(p)},g:function(c,p){return c.toPrecision(p)},o:function(c){return Math.round(c).toString(8)},p:function(c,p){return m(100*c,p)},r:m,s:function(c,p){var f=C(c,p);if(!f)return c+"";var w=f[0],v=f[1],h=v-(S=3*Math.max(-8,Math.min(8,Math.floor(v/3))))+1,_=w.length;return h===_?w:h>_?w+new Array(h-_+1).join("0"):h>0?w.slice(0,h)+"."+w.slice(h):"0."+new Array(1-h).join("0")+C(c,Math.max(0,p+h-1))[0]},X:function(c){return Math.round(c).toString(16).toUpperCase()},x:function(c){return Math.round(c).toString(16)}};function t(c){return c}var o,r,n=Array.prototype.map,a=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function s(c){var p,f,k,w=void 0===c.grouping||void 0===c.thousands?t:(p=n.call(c.grouping,Number),f=c.thousands+"",function(k,I){for(var L=k.length,P=[],R=0,z=p[0],$=0;L>0&&z>0&&($+z+1>I&&(z=Math.max(1,I-$)),P.push(k.substring(L-=z,L+z)),!(($+=z+1)>I));)z=p[R=(R+1)%p.length];return P.reverse().join(f)}),v=void 0===c.currency?"":c.currency[0]+"",h=void 0===c.currency?"":c.currency[1]+"",_=void 0===c.decimal?".":c.decimal+"",x=void 0===c.numerals?t:(k=n.call(c.numerals,String),function(I){return I.replace(/[0-9]/g,function(L){return k[+L]})}),b=void 0===c.percent?"%":c.percent+"",M=void 0===c.minus?"-":c.minus+"",d=void 0===c.nan?"NaN":c.nan+"";function E(k){var I=(k=A(k)).fill,L=k.align,P=k.sign,R=k.symbol,z=k.zero,$=k.width,N=k.comma,W=k.precision,H=k.trim,U=k.type;"n"===U?(N=!0,U="g"):l[U]||(void 0===W&&(W=12),H=!0,U="g"),(z||"0"===I&&"="===L)&&(z=!0,I="0",L="=");var Z="$"===R?v:"#"===R&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",Y="$"===R?h:/[%p]/.test(U)?b:"",ae=l[U],re=/[defgprs%]/.test(U);function Q(K){var te,oe,ue,fe=Z,he=Y;if("c"===U)he=ae(K)+he,K="";else{var me=(K=+K)<0||1/K<0;if(K=isNaN(K)?d:ae(Math.abs(K),W),H&&(K=function(Te){e:for(var be,xe=Te.length,Ne=1,Se=-1;Ne<xe;++Ne)switch(Te[Ne]){case".":Se=be=Ne;break;case"0":0===Se&&(Se=Ne),be=Ne;break;default:if(!+Te[Ne])break e;Se>0&&(Se=0)}return Se>0?Te.slice(0,Se)+Te.slice(be+1):Te}(K)),me&&0==+K&&"+"!==P&&(me=!1),fe=(me?"("===P?P:M:"-"===P||"("===P?"":P)+fe,he=("s"===U?a[8+S/3]:"")+he+(me&&"("===P?")":""),re)for(te=-1,oe=K.length;++te<oe;)if(48>(ue=K.charCodeAt(te))||ue>57){he=(46===ue?_+K.slice(te+1):K.slice(te))+he,K=K.slice(0,te);break}}N&&!z&&(K=w(K,1/0));var ke=fe.length+K.length+he.length,Pe=ke<$?new Array($-ke+1).join(I):"";switch(N&&z&&(K=w(Pe+K,Pe.length?$-he.length:1/0),Pe=""),L){case"<":K=fe+K+he+Pe;break;case"=":K=fe+Pe+K+he;break;case"^":K=Pe.slice(0,ke=Pe.length>>1)+fe+K+he+Pe.slice(ke);break;default:K=Pe+fe+K+he}return x(K)}return W=void 0===W?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,W)):Math.max(0,Math.min(20,W)),Q.toString=function(){return k+""},Q}return{format:E,formatPrefix:function(k,I){var L,P=E(((k=A(k)).type="f",k)),R=3*Math.max(-8,Math.min(8,Math.floor((L=I,((L=C(Math.abs(L)))?L[1]:NaN)/3)))),z=Math.pow(10,-R),$=a[8+R/3];return function(N){return P(z*N)+$}}}}o=s({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),r=o.format},65704:function(ie,B,e){"use strict";e.r(B),e.d(B,{geoAiry:function(){return N},geoAiryRaw:function(){return $},geoAitoff:function(){return H},geoAitoffRaw:function(){return W},geoArmadillo:function(){return Z},geoArmadilloRaw:function(){return U},geoAugust:function(){return ae},geoAugustRaw:function(){return Y},geoBaker:function(){return te},geoBakerRaw:function(){return K},geoBerghaus:function(){return fe},geoBerghausRaw:function(){return ue},geoBertin1953:function(){return Ne},geoBertin1953Raw:function(){return xe},geoBoggs:function(){return Ee},geoBoggsRaw:function(){return Re},geoBonne:function(){return De},geoBonneRaw:function(){return Ie},geoBottomley:function(){return Ge},geoBottomleyRaw:function(){return ze},geoBromley:function(){return Ke},geoBromleyRaw:function(){return He},geoChamberlin:function(){return Ct},geoChamberlinAfrica:function(){return dt},geoChamberlinRaw:function(){return St},geoCollignon:function(){return Pt},geoCollignonRaw:function(){return Ot},geoCraig:function(){return jt},geoCraigRaw:function(){return Ht},geoCraster:function(){return Xe},geoCrasterRaw:function(){return it},geoCylindricalEqualArea:function(){return ft},geoCylindricalEqualAreaRaw:function(){return rt},geoCylindricalStereographic:function(){return je},geoCylindricalStereographicRaw:function(){return vt},geoEckert1:function(){return ut},geoEckert1Raw:function(){return Ve},geoEckert2:function(){return Tt},geoEckert2Raw:function(){return ct},geoEckert3:function(){return At},geoEckert3Raw:function(){return Mt},geoEckert4:function(){return Rt},geoEckert4Raw:function(){return bt},geoEckert5:function(){return _t},geoEckert5Raw:function(){return xt},geoEckert6:function(){return Gt},geoEckert6Raw:function(){return It},geoEisenlohr:function(){return cn},geoEisenlohrRaw:function(){return Zt},geoFahey:function(){return Qt},geoFaheyRaw:function(){return ln},geoFoucaut:function(){return Pn},geoFoucautRaw:function(){return kn},geoFoucautSinusoidal:function(){return tn},geoFoucautSinusoidalRaw:function(){return Tn},geoGilbert:function(){return vn},geoGingery:function(){return Wn},geoGingeryRaw:function(){return Un},geoGinzburg4:function(){return Ar},geoGinzburg4Raw:function(){return ar},geoGinzburg5:function(){return fr},geoGinzburg5Raw:function(){return hr},geoGinzburg6:function(){return Xt},geoGinzburg6Raw:function(){return Rr},geoGinzburg8:function(){return wn},geoGinzburg8Raw:function(){return rn},geoGinzburg9:function(){return Bn},geoGinzburg9Raw:function(){return Cn},geoGringorten:function(){return $n},geoGringortenQuincuncial:function(){return Ji},geoGringortenRaw:function(){return An},geoGuyou:function(){return Ft},geoGuyouRaw:function(){return Rn},geoHammer:function(){return Pe},geoHammerRaw:function(){return me},geoHammerRetroazimuthal:function(){return Ln},geoHammerRetroazimuthalRaw:function(){return fn},geoHealpix:function(){return rr},geoHealpixRaw:function(){return xn},geoHill:function(){return mr},geoHillRaw:function(){return Jn},geoHomolosine:function(){return lr},geoHomolosineRaw:function(){return Dr},geoHufnagel:function(){return sr},geoHufnagelRaw:function(){return Hr},geoHyperelliptical:function(){return fo},geoHyperellipticalRaw:function(){return ji},geoInterrupt:function(){return Yi},geoInterruptedBoggs:function(){return Ms},geoInterruptedHomolosine:function(){return fs},geoInterruptedMollweide:function(){return Vo},geoInterruptedMollweideHemispheres:function(){return ec},geoInterruptedQuarticAuthalic:function(){return Jl},geoInterruptedSinuMollweide:function(){return Tc},geoInterruptedSinusoidal:function(){return Cl},geoKavrayskiy7:function(){return Eo},geoKavrayskiy7Raw:function(){return La},geoLagrange:function(){return Ui},geoLagrangeRaw:function(){return Qs},geoLarrivee:function(){return ks},geoLarriveeRaw:function(){return Ha},geoLaskowski:function(){return el},geoLaskowskiRaw:function(){return ba},geoLittrow:function(){return Bs},geoLittrowRaw:function(){return _a},geoLoximuthal:function(){return Eu},geoLoximuthalRaw:function(){return ti},geoMiller:function(){return $l},geoMillerRaw:function(){return qr},geoModifiedStereographic:function(){return Pa},geoModifiedStereographicAlaska:function(){return Ta},geoModifiedStereographicGs48:function(){return Jo},geoModifiedStereographicGs50:function(){return Ga},geoModifiedStereographicLee:function(){return Ll},geoModifiedStereographicMiller:function(){return Fi},geoModifiedStereographicRaw:function(){return Xl},geoMollweide:function(){return de},geoMollweideRaw:function(){return pe},geoMtFlatPolarParabolic:function(){return Pl},geoMtFlatPolarParabolicRaw:function(){return ia},geoMtFlatPolarQuartic:function(){return Ki},geoMtFlatPolarQuarticRaw:function(){return Us},geoMtFlatPolarSinusoidal:function(){return Ol},geoMtFlatPolarSinusoidalRaw:function(){return qa},geoNaturalEarth:function(){return Wa.Z},geoNaturalEarth2:function(){return nc},geoNaturalEarth2Raw:function(){return ds},geoNaturalEarthRaw:function(){return Wa.K},geoNellHammer:function(){return rc},geoNellHammerRaw:function(){return Kl},geoNicolosi:function(){return Ea},geoNicolosiRaw:function(){return Rl},geoPatterson:function(){return Es},geoPattersonRaw:function(){return rl},geoPeirceQuincuncial:function(){return al},geoPierceQuincuncial:function(){return al},geoPolyconic:function(){return Lu},geoPolyconicRaw:function(){return dl},geoPolyhedral:function(){return No},geoPolyhedralButterfly:function(){return yu},geoPolyhedralCollignon:function(){return eu},geoPolyhedralWaterman:function(){return ho},geoProject:function(){return gs},geoQuantize:function(){return sa},geoQuincuncial:function(){return Qo},geoRectangularPolyconic:function(){return Br},geoRectangularPolyconicRaw:function(){return so},geoRobinson:function(){return ts},geoRobinsonRaw:function(){return es},geoSatellite:function(){return Is},geoSatelliteRaw:function(){return Ds},geoSinuMollweide:function(){return Mr},geoSinuMollweideRaw:function(){return Tr},geoSinusoidal:function(){return ve},geoSinusoidalRaw:function(){return $e},geoStitch:function(){return Wo},geoTimes:function(){return Pu},geoTimesRaw:function(){return qs},geoTwoPointAzimuthal:function(){return Ws},geoTwoPointAzimuthalRaw:function(){return eo},geoTwoPointAzimuthalUsa:function(){return rs},geoTwoPointEquidistant:function(){return yl},geoTwoPointEquidistantRaw:function(){return Ls},geoTwoPointEquidistantUsa:function(){return Ou},geoVanDerGrinten:function(){return Zo},geoVanDerGrinten2:function(){return Yr},geoVanDerGrinten2Raw:function(){return la},geoVanDerGrinten3:function(){return tu},geoVanDerGrinten3Raw:function(){return Kr},geoVanDerGrinten4:function(){return Zs},geoVanDerGrinten4Raw:function(){return ua},geoVanDerGrintenRaw:function(){return Nl},geoWagner:function(){return nu},geoWagner4:function(){return Oo},geoWagner4Raw:function(){return ri},geoWagner6:function(){return Na},geoWagner6Raw:function(){return ms},geoWagner7:function(){return fa},geoWagnerRaw:function(){return ca},geoWiechel:function(){return zl},geoWiechelRaw:function(){return xl},geoWinkel3:function(){return $s},geoWinkel3Raw:function(){return Bl}});var C=e(15002),S=Math.abs,u=Math.atan,A=Math.atan2,T=Math.cos,m=Math.exp,l=Math.floor,t=Math.log,o=Math.max,r=Math.min,n=Math.pow,a=Math.round,s=Math.sign||function(j){return j>0?1:j<0?-1:0},c=Math.sin,p=Math.tan,f=1e-6,w=1e-12,v=Math.PI,h=v/2,_=v/4,x=Math.SQRT1_2,b=P(2),M=P(v),d=2*v,E=180/v,k=v/180;function I(j){return j>1?h:j<-1?-h:Math.asin(j)}function L(j){return j>1?0:j<-1?v:Math.acos(j)}function P(j){return j>0?Math.sqrt(j):0}function R(j){return(m(j)-m(-j))/2}function z(j){return(m(j)+m(-j))/2}function $(j){var q=p(j/2),G=2*t(T(j/2))/(q*q);function ee(ye,Le){var V=T(ye),ne=T(Le),ce=c(Le),_e=ne*V,Ae=-((1-_e?t((1+_e)/2)/(1-_e):-.5)+G/(1+_e));return[Ae*ne*c(ye),Ae*ce]}return ee.invert=function(ye,Le){var V,ne=P(ye*ye+Le*Le),ce=-j/2,_e=50;if(!ne)return[0,0];do{var Ae=ce/2,Fe=T(Ae),We=c(Ae),Ye=We/Fe,Je=-t(S(Fe));ce-=V=(2/Ye*Je-G*Ye-ne)/(-Je/(We*We)+1-G/(2*Fe*Fe))*(Fe<0?.7:1)}while(S(V)>f&&--_e>0);var tt=c(ce);return[A(ye*tt,ne*T(ce)),I(Le*tt/ne)]},ee}function N(){var j=h,q=(0,C.r)($),G=q(j);return G.radius=function(ee){return arguments.length?q(j=ee*k):j*E},G.scale(179.976).clipAngle(147)}function W(j,q){var ye,G=T(q),ee=(ye=L(G*T(j/=2)))?ye/Math.sin(ye):1;return[2*G*c(j)*ee,c(q)*ee]}function H(){return(0,C.Z)(W).scale(152.63)}function U(j){var q=c(j),G=T(j),ee=j>=0?1:-1,ye=p(ee*j),Le=(1+q-G)/2;function V(ne,ce){var _e=T(ce),Ae=T(ne/=2);return[(1+_e)*c(ne),(ee*ce>-A(Ae,ye)-.001?0:10*-ee)+Le+c(ce)*G-(1+_e)*q*Ae]}return V.invert=function(ne,ce){var _e=0,Ae=0,Fe=50;do{var We=T(_e),Ye=c(_e),Je=T(Ae),tt=c(Ae),lt=1+Je,yt=lt*Ye-ne,wt=Le+tt*G-lt*q*We-ce,zt=lt*We/2,Ut=-Ye*tt,Nt=q*lt*Ye/2,$t=G*Je+q*We*tt,Bt=Ut*Nt-$t*zt,pn=(wt*Ut-yt*$t)/Bt/2,an=(yt*Nt-wt*zt)/Bt;S(an)>2&&(an/=2),_e-=pn,Ae-=an}while((S(pn)>f||S(an)>f)&&--Fe>0);return ee*Ae>-A(T(_e),ye)-.001?[2*_e,Ae]:null},V}function Z(){var j=20*k,q=j>=0?1:-1,G=p(q*j),ee=(0,C.r)(U),ye=ee(j),Le=ye.stream;return ye.parallel=function(V){return arguments.length?(G=p((q=(j=V*k)>=0?1:-1)*j),ee(j)):j*E},ye.stream=function(V){var ne=ye.rotate(),ce=Le(V),_e=(ye.rotate([0,0]),Le(V)),Ae=ye.precision();return ye.rotate(ne),ce.sphere=function(){_e.polygonStart(),_e.lineStart();for(var Fe=-180*q;q*Fe<180;Fe+=90*q)_e.point(Fe,90*q);if(j)for(;q*(Fe-=3*q*Ae)>=-180;)_e.point(Fe,q*-A(T(Fe*k/2),G)*E);_e.lineEnd(),_e.polygonEnd()},ce},ye.scale(218.695).center([0,28.0974])}function Y(j,q){var G=p(q/2),ee=P(1-G*G),ye=1+ee*T(j/=2),Le=c(j)*ee/ye,V=G/ye,ne=Le*Le,ce=V*V;return[1.3333333333333333*Le*(3+ne-3*ce),1.3333333333333333*V*(3+3*ne-ce)]}function ae(){return(0,C.Z)(Y).scale(66.1603)}W.invert=function(j,q){if(!(j*j+4*q*q>v*v+f)){var G=j,ee=q,ye=25;do{var Le,V=c(G),ne=c(G/2),ce=T(G/2),_e=c(ee),Ae=T(ee),Fe=c(2*ee),We=_e*_e,Ye=Ae*Ae,Je=ne*ne,tt=1-Ye*ce*ce,lt=tt?L(Ae*ce)*P(Le=1/tt):Le=0,yt=2*lt*Ae*ne-j,wt=lt*_e-q,zt=Le*(Ye*Je+lt*Ae*ce*We),Ut=Le*(.5*V*Fe-2*lt*_e*ne),Nt=.25*Le*(Fe*ne-lt*_e*Ye*V),$t=Le*(We*ce+lt*Je*Ae),Bt=Ut*Nt-$t*zt;if(!Bt)break;var pn=(wt*Ut-yt*$t)/Bt,an=(yt*Nt-wt*zt)/Bt;G-=pn,ee-=an}while((S(pn)>f||S(an)>f)&&--ye>0);return[G,ee]}},Y.invert=function(j,q){if(q*=.375,!(j*=.375)&&S(q)>1)return null;var _e,G=1+j*j+q*q,ee=P((G-P(G*G-4*q*q))/2),ye=I(ee)/3,Le=ee?(_e=S(q/ee),t(_e+P(_e*_e-1))/3):function(_e){return t(_e+P(_e*_e+1))}(S(j))/3,V=T(ye),ne=z(Le),ce=ne*ne-V*V;return[2*s(j)*A(R(Le)*V,.25-ce),2*s(q)*A(ne*c(ye),.25+ce)]};var re=P(8),Q=t(1+b);function K(j,q){var G=S(q);return G<_?[j,t(p(_+q/2))]:[j*T(G)*(2*b-1/c(G)),s(q)*(2*b*(G-_)-t(p(G/2)))]}function te(){return(0,C.Z)(K).scale(112.314)}K.invert=function(j,q){if((ee=S(q))<Q)return[j,2*u(m(q))-h];var G,ee,ye=_,Le=25;do{var V=T(ye/2),ne=p(ye/2);ye-=G=(re*(ye-_)-t(ne)-ee)/(re-V*V/(2*ne))}while(S(G)>w&&--Le>0);return[j/(T(ye)*(re-1/c(ye))),s(q)*ye]};var oe=e(17889);function ue(j){var q=2*v/j;function G(ee,ye){var Le=(0,oe.N)(ee,ye);if(S(ee)>h){var V=A(Le[1],Le[0]),ne=P(Le[0]*Le[0]+Le[1]*Le[1]),ce=q*a((V-h)/q)+h,_e=A(c(V-=ce),2-T(V));V=ce+I(v/ne*c(_e))-_e,Le[0]=ne*T(V),Le[1]=ne*c(V)}return Le}return G.invert=function(ee,ye){var Le=P(ee*ee+ye*ye);if(Le>h){var V=A(ye,ee),ne=q*a((V-h)/q)+h,ce=V>ne?-1:1,_e=Le*T(ne-V),Ae=1/p(ce*L((_e-v)/P(v*(v-2*_e)+Le*Le)));V=ne+2*u((Ae+ce*P(Ae*Ae-3))/3),ee=Le*T(V),ye=Le*c(V)}return oe.N.invert(ee,ye)},G}function fe(){var j=5,q=(0,C.r)(ue),G=q(j),ee=G.stream,ye=.01,Le=-T(ye*k),V=c(ye*k);return G.lobes=function(ne){return arguments.length?q(j=+ne):j},G.stream=function(ne){var ce=G.rotate(),_e=ee(ne),Ae=(G.rotate([0,0]),ee(ne));return G.rotate(ce),_e.sphere=function(){Ae.polygonStart(),Ae.lineStart();for(var Fe=0,We=360/j,Ye=2*v/j,Je=90-180/j,tt=h;Fe<j;++Fe,Je-=We,tt-=Ye)Ae.point(A(V*T(tt),Le)*E,I(V*c(tt))*E),Je<-90?(Ae.point(-90,-180-Je-ye),Ae.point(-90,-180-Je+ye)):(Ae.point(90,Je+ye),Ae.point(90,Je-ye));Ae.lineEnd(),Ae.polygonEnd()},_e},G.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var he=e(12956);function me(j,q){if(arguments.length<2&&(q=j),1===q)return he.l;if(q===1/0)return ke;function G(ee,ye){var Le=(0,he.l)(ee/q,ye);return Le[0]*=j,Le}return G.invert=function(ee,ye){var Le=he.l.invert(ee/j,ye);return Le[0]*=q,Le},G}function ke(j,q){return[j*T(q)/T(q/=2),2*c(q)]}function Pe(){var j=2,q=(0,C.r)(me),G=q(j);return G.coefficient=function(ee){return arguments.length?q(j=+ee):j},G.scale(169.529)}function Te(j,q,G){var ee,ye,Le,V=100;G=void 0===G?0:+G,q=+q;do{(ye=j(G))===(Le=j(G+f))&&(Le=ye+f),G-=ee=-1*f*(ye-q)/(ye-Le)}while(V-- >0&&S(ee)>f);return V<0?NaN:G}function be(j,q,G){return void 0===q&&(q=40),void 0===G&&(G=w),function(ee,ye,Le,V){var ne,ce,_e;Le=void 0===Le?0:+Le,V=void 0===V?0:+V;for(var Ae=0;Ae<q;Ae++){var Fe=j(Le,V),We=Fe[0]-ee,Ye=Fe[1]-ye;if(S(We)<G&&S(Ye)<G)break;var Je=We*We+Ye*Ye;if(Je>ne)Le-=ce/=2,V-=_e/=2;else{ne=Je;var tt=(Le>0?-1:1)*G,lt=(V>0?-1:1)*G,yt=j(Le+tt,V),wt=j(Le,V+lt),zt=(yt[0]-Fe[0])/tt,Ut=(yt[1]-Fe[1])/tt,Nt=(wt[0]-Fe[0])/lt,$t=(wt[1]-Fe[1])/lt,Bt=$t*zt-Ut*Nt,pn=(S(Bt)<.5?.5:1)/Bt;if(Le+=ce=(Ye*Nt-We*$t)*pn,V+=_e=(We*Ut-Ye*zt)*pn,S(ce)<G&&S(_e)<G)break}}return[Le,V]}}function xe(){var j=me(1.68,2);function q(G,ee){if(G+ee<-1.4){var ye=(G-ee+1.6)*(G+ee+1.4)/8;G+=ye,ee-=.8*ye*c(ee+v/2)}var Le=j(G,ee),V=(1-T(G*ee))/12;return Le[1]<0&&(Le[0]*=1+V),Le[1]>0&&(Le[1]*=1+V/1.5*Le[0]*Le[0]),Le}return q.invert=be(q),q}function Ne(){return(0,C.Z)(xe()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Se(j,q){var G,ee=j*c(q),ye=30;do{q-=G=(q+c(q)-ee)/(1+T(q))}while(S(G)>f&&--ye>0);return q/2}function Ce(j,q,G){function ee(ye,Le){return[j*ye*T(Le=Se(G,Le)),q*c(Le)]}return ee.invert=function(ye,Le){return Le=I(Le/q),[ye/(j*T(Le)),I((2*Le+c(2*Le))/G)]},ee}ke.invert=function(j,q){var G=2*I(q/2);return[j*T(G/2)/T(G),G]};var pe=Ce(b/h,b,v);function de(){return(0,C.Z)(pe).scale(169.529)}var se=2.00276,we=1.11072;function Re(j,q){var G=Se(v,q);return[se*j/(1/T(q)+we/T(G)),(q+b*c(G))/se]}function Ee(){return(0,C.Z)(Re).scale(160.857)}function Ue(j){var q=0,G=(0,C.r)(j),ee=G(q);return ee.parallel=function(ye){return arguments.length?G(q=ye*k):q*E},ee}function $e(j,q){return[j*T(q),q]}function ve(){return(0,C.Z)($e).scale(152.63)}function Ie(j){if(!j)return $e;var q=1/p(j);function G(ee,ye){var Le=q+j-ye,V=Le&&ee*T(ye)/Le;return[Le*c(V),q-Le*T(V)]}return G.invert=function(ee,ye){var Le=P(ee*ee+(ye=q-ye)*ye),V=q+j-Le;return[Le/T(V)*A(ee,ye),V]},G}function De(){return Ue(Ie).scale(123.082).center([0,26.1441]).parallel(45)}function ze(j){function q(G,ee){var ye=h-ee,Le=ye&&G*j*c(ye)/ye;return[ye*c(Le)/j,h-ye*T(Le)]}return q.invert=function(G,ee){var ye=G*j,Le=h-ee,V=P(ye*ye+Le*Le),ne=A(ye,Le);return[(V?V/c(V):1)*ne/j,h-V]},q}function Ge(){var j=.5,q=(0,C.r)(ze),G=q(j);return G.fraction=function(ee){return arguments.length?q(j=+ee):j},G.scale(158.837)}Re.invert=function(j,q){var G,ee,ye=se*q,Le=q<0?-_:_,V=25;do{ee=ye-b*c(Le),Le-=G=(c(2*Le)+2*Le-v*c(ee))/(2*T(2*Le)+2+v*T(ee)*b*T(Le))}while(S(G)>f&&--V>0);return ee=ye-b*c(Le),[j*(1/T(ee)+we/T(Le))/se,ee]},$e.invert=function(j,q){return[j/T(q),q]};var He=Ce(1,4/v,v);function Ke(){return(0,C.Z)(He).scale(152.63)}var et=e(66624),st=e(49386);function mt(j,q,G,ee,ye,Le){var V,ne=T(Le);if(S(j)>1||S(Le)>1)V=L(G*ye+q*ee*ne);else{var ce=c(j/2),_e=c(Le/2);V=2*I(P(ce*ce+q*ee*_e*_e))}return S(V)>f?[V,A(ee*c(Le),q*ye-G*ee*ne)]:[0,0]}function at(j,q,G){return L((j*j+q*q-G*G)/(2*j*q))}function kt(j){return j-2*v*l((j+v)/(2*v))}function St(j,q,G){for(var ee,ye=[[j[0],j[1],c(j[1]),T(j[1])],[q[0],q[1],c(q[1]),T(q[1])],[G[0],G[1],c(G[1]),T(G[1])]],Le=ye[2],V=0;V<3;++V,Le=ee)Le.v=mt((ee=ye[V])[1]-Le[1],Le[3],Le[2],ee[3],ee[2],ee[0]-Le[0]),Le.point=[0,0];var ne=at(ye[0].v[0],ye[2].v[0],ye[1].v[0]),ce=at(ye[0].v[0],ye[1].v[0],ye[2].v[0]),_e=v-ne;ye[2].point[1]=0,ye[0].point[0]=-(ye[1].point[0]=ye[0].v[0]/2);var Ae=[ye[2].point[0]=ye[0].point[0]+ye[2].v[0]*T(ne),2*(ye[0].point[1]=ye[1].point[1]=ye[2].v[0]*c(ne))];return function(Fe,We){var Ye,Je=c(We),tt=T(We),lt=new Array(3);for(Ye=0;Ye<3;++Ye){var yt=ye[Ye];if(lt[Ye]=mt(We-yt[1],yt[3],yt[2],tt,Je,Fe-yt[0]),!lt[Ye][0])return yt.point;lt[Ye][1]=kt(lt[Ye][1]-yt.v[1])}var wt=Ae.slice();for(Ye=0;Ye<3;++Ye){var Ut=at(ye[Ye].v[0],lt[Ye][0],lt[2==Ye?0:Ye+1][0]);lt[Ye][1]<0&&(Ut=-Ut),Ye?1==Ye?(wt[0]-=lt[Ye][0]*T(Ut=ce-Ut),wt[1]-=lt[Ye][0]*c(Ut)):(wt[0]+=lt[Ye][0]*T(Ut=_e-Ut),wt[1]+=lt[Ye][0]*c(Ut)):(wt[0]+=lt[Ye][0]*T(Ut),wt[1]-=lt[Ye][0]*c(Ut))}return wt[0]/=3,wt[1]/=3,wt}}function gt(j){return j[0]*=k,j[1]*=k,j}function dt(){return Ct([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Ct(j,q,G){var ee=(0,et.Z)({type:"MultiPoint",coordinates:[j,q,G]}),ye=[-ee[0],-ee[1]],Le=(0,st.Z)(ye),V=St(gt(Le(j)),gt(Le(q)),gt(Le(G)));V.invert=be(V);var ne=(0,C.Z)(V).rotate(ye),ce=ne.center;return delete ne.rotate,ne.center=function(_e){return arguments.length?ce(Le(_e)):Le.invert(ce())},ne.clipAngle(90)}function Ot(j,q){var G=P(1-c(q));return[2/M*j*G,M*(1-G)]}function Pt(){return(0,C.Z)(Ot).scale(95.6464).center([0,30])}function Ht(j){var q=p(j);function G(ee,ye){return[ee,(ee?ee/c(ee):1)*(c(ye)*T(ee)-q*T(ye))]}return G.invert=q?function(ee,ye){ee&&(ye*=c(ee)/ee);var Le=T(ee);return[ee,2*A(P(Le*Le+q*q-ye*ye)-Le,q-ye)]}:function(ee,ye){return[ee,I(ee?ye*p(ee)/ee:ye)]},G}function jt(){return Ue(Ht).scale(249.828).clipAngle(90)}Ot.invert=function(j,q){var G=(G=q/M-1)*G;return[G>0?j*P(v/G)/2:0,I(1-G)]};var nt=P(3);function it(j,q){return[nt*j*(2*T(2*q/3)-1)/M,nt*M*c(q/3)]}function Xe(){return(0,C.Z)(it).scale(156.19)}function rt(j){var q=T(j);function G(ee,ye){return[ee*q,c(ye)/q]}return G.invert=function(ee,ye){return[ee/q,I(ye*q)]},G}function ft(){return Ue(rt).parallel(38.58).scale(195.044)}function vt(j){var q=T(j);function G(ee,ye){return[ee*q,(1+q)*p(ye/2)]}return G.invert=function(ee,ye){return[ee/q,2*u(ye/(1+q))]},G}function je(){return Ue(vt).scale(124.75)}function Ve(j,q){var G=P(8/(3*v));return[G*j*(1-S(q)/v),G*q]}function ut(){return(0,C.Z)(Ve).scale(165.664)}function ct(j,q){var G=P(4-3*c(S(q)));return[2/P(6*v)*j*G,s(q)*P(2*v/3)*(2-G)]}function Tt(){return(0,C.Z)(ct).scale(165.664)}function Mt(j,q){var G=P(v*(4+v));return[2/G*j*(1+P(1-4*q*q/(v*v))),4/G*q]}function At(){return(0,C.Z)(Mt).scale(180.739)}function bt(j,q){var G=(2+h)*c(q);q/=2;for(var ee=0,ye=1/0;ee<10&&S(ye)>f;ee++){var Le=T(q);q-=ye=(q+c(q)*(Le+2)-G)/(2*Le*(1+Le))}return[2/P(v*(4+v))*j*(1+T(q)),2*P(v/(4+v))*c(q)]}function Rt(){return(0,C.Z)(bt).scale(180.739)}function xt(j,q){return[j*(1+T(q))/P(2+v),2*q/P(2+v)]}function _t(){return(0,C.Z)(xt).scale(173.044)}function It(j,q){for(var G=(1+h)*c(q),ee=0,ye=1/0;ee<10&&S(ye)>f;ee++)q-=ye=(q+c(q)-G)/(1+T(q));return G=P(2+v),[j*(1+T(q))/G,2*q/G]}function Gt(){return(0,C.Z)(It).scale(173.044)}it.invert=function(j,q){var G=3*I(q/(nt*M));return[M*j/(nt*(2*T(2*G/3)-1)),G]},Ve.invert=function(j,q){var G=P(8/(3*v)),ee=q/G;return[j/(G*(1-S(ee)/v)),ee]},ct.invert=function(j,q){var G=2-S(q)/P(2*v/3);return[j*P(6*v)/(2*G),s(q)*I((4-G*G)/3)]},Mt.invert=function(j,q){var G=P(v*(4+v))/2;return[j*G/(1+P(1-q*q*(4+v)/(4*v))),q*G/2]},bt.invert=function(j,q){var G=q*P((4+v)/v)/2,ee=I(G),ye=T(ee);return[j/(2/P(v*(4+v))*(1+ye)),I((ee+G*(ye+2))/(2+h))]},xt.invert=function(j,q){var G=P(2+v),ee=q*G/2;return[G*j/(1+T(ee)),ee]},It.invert=function(j,q){var G=1+h,ee=P(G/2);return[2*j*ee/(1+T(q*=ee)),I((q+c(q))/G)]};var Wt=3+2*b;function Zt(j,q){var G=c(j/=2),ee=T(j),ye=P(T(q)),Le=T(q/=2),V=c(q)/(Le+b*ee*ye),ne=P(2/(1+V*V)),ce=P((b*Le+(ee+G)*ye)/(b*Le+(ee-G)*ye));return[Wt*(ne*(ce-1/ce)-2*t(ce)),Wt*(ne*V*(ce+1/ce)-2*u(V))]}function cn(){return(0,C.Z)(Zt).scale(62.5271)}Zt.invert=function(j,q){if(!(G=Y.invert(j/1.2,1.065*q)))return null;var G,ee=G[0],ye=G[1],Le=20;j/=Wt,q/=Wt;do{var V=ee/2,ne=ye/2,ce=c(V),_e=T(V),Ae=c(ne),Fe=T(ne),We=T(ye),Ye=P(We),Je=Ae/(Fe+b*_e*Ye),tt=Je*Je,lt=P(2/(1+tt)),yt=(b*Fe+(_e+ce)*Ye)/(b*Fe+(_e-ce)*Ye),wt=P(yt),zt=wt-1/wt,Ut=wt+1/wt,Nt=lt*zt-2*t(wt)-j,$t=lt*Je*Ut-2*u(Je)-q,Bt=Ae&&x*Ye*ce*tt/Ae,pn=(b*_e*Fe+Ye)/(2*(Fe+b*_e*Ye)*(Fe+b*_e*Ye)*Ye),an=-.5*Je*lt*lt*lt,en=an*Bt,Dn=an*pn,In=(In=2*Fe+b*Ye*(_e-ce))*In*wt,Kn=(b*_e*Fe*Ye+We)/In,Yn=-b*ce*Ae/(Ye*In),ir=zt*en-2*Kn/wt+lt*(Kn+Kn/yt),dr=zt*Dn-2*Yn/wt+lt*(Yn+Yn/yt),yr=Je*Ut*en-2*Bt/(1+tt)+lt*Ut*Bt+lt*Je*(Kn-Kn/yt),kr=Je*Ut*Dn-2*pn/(1+tt)+lt*Ut*pn+lt*Je*(Yn-Yn/yt),Cr=dr*yr-kr*ir;if(!Cr)break;var Lr=($t*dr-Nt*kr)/Cr,ni=(Nt*yr-$t*ir)/Cr;ee-=Lr,ye=o(-h,r(h,ye-ni))}while((S(Lr)>f||S(ni)>f)&&--Le>0);return S(S(ye)-h)<f?[0,ye]:Le&&[ee,ye]};var nn=T(35*k);function ln(j,q){var G=p(q/2);return[j*nn*P(1-G*G),(1+nn)*G]}function Qt(){return(0,C.Z)(ln).scale(137.152)}function kn(j,q){var G=q/2,ee=T(G);return[2*j/M*T(q)*ee*ee,M*p(G)]}function Pn(){return(0,C.Z)(kn).scale(135.264)}function Tn(j){var q=1-j,G=ye(v,0)[0]-ye(-v,0)[0],ee=P(2*(ye(0,h)[1]-ye(0,-h)[1])/G);function ye(ne,ce){var _e=T(ce),Ae=c(ce);return[_e/(q+j*_e)*ne,q*ce+j*Ae]}function Le(ne,ce){var _e=ye(ne,ce);return[_e[0]*ee,_e[1]/ee]}function V(ne){return Le(0,ne)[1]}return Le.invert=function(ne,ce){var _e=Te(V,ce);return[ne/ee*(j+q/T(_e)),_e]},Le}function tn(){var j=.5,q=(0,C.r)(Tn),G=q(j);return G.alpha=function(ee){return arguments.length?q(j=+ee):j},G.scale(168.725)}ln.invert=function(j,q){var G=q/(1+nn);return[j&&j/(nn*P(1-G*G)),2*u(G)]},kn.invert=function(j,q){var G=u(q/M),ee=T(G),ye=2*G;return[j*M/2/(T(ye)*ee*ee),ye]};var gn=e(57962),hn=e(97492);function mn(j){return[j[0]/2,I(p(j[1]/2*k))*E]}function En(j){return[2*j[0],2*u(c(j[1]*k))*E]}function vn(j){null==j&&(j=gn.Z);var q=j(),G=(0,hn.Z)().scale(E).precision(0).clipAngle(null).translate([0,0]);function ee(Le){return q(mn(Le))}function ye(Le){ee[Le]=function(){return arguments.length?(q[Le].apply(q,arguments),ee):q[Le]()}}return q.invert&&(ee.invert=function(Le){return En(q.invert(Le))}),ee.stream=function(Le){var V=q.stream(Le),ne=G.stream({point:function(ce,_e){V.point(ce/2,I(p(-_e/2*k))*E)},lineStart:function(){V.lineStart()},lineEnd:function(){V.lineEnd()},polygonStart:function(){V.polygonStart()},polygonEnd:function(){V.polygonEnd()}});return ne.sphere=V.sphere,ne},ee.rotate=function(Le){return arguments.length?(G.rotate(Le),ee):G.rotate()},ee.center=function(Le){return arguments.length?(q.center(mn(Le)),ee):En(q.center())},ye("angle"),ye("clipAngle"),ye("clipExtent"),ye("fitExtent"),ye("fitHeight"),ye("fitSize"),ye("fitWidth"),ye("scale"),ye("translate"),ye("precision"),ee.scale(249.5)}function Un(j,q){var G=2*v/q,ee=j*j;function ye(Le,V){var ne=(0,oe.N)(Le,V),ce=ne[0],_e=ne[1],Ae=ce*ce+_e*_e;if(Ae>ee){var Fe=P(Ae),We=A(_e,ce),Ye=G*a(We/G),Je=We-Ye,tt=j*T(Je),lt=(j*c(Je)-Je*c(tt))/(h-tt),yt=Hn(Je,lt),wt=(v-j)/On(yt,tt,v);ce=Fe;var zt,Ut=50;do{ce-=zt=(j+On(yt,tt,ce)*wt-Fe)/(yt(ce)*wt)}while(S(zt)>f&&--Ut>0);_e=Je*c(ce),ce<h&&(_e-=lt*(ce-h));var Nt=c(Ye),$t=T(Ye);ne[0]=ce*$t-_e*Nt,ne[1]=ce*Nt+_e*$t}return ne}return ye.invert=function(Le,V){var ne=Le*Le+V*V;if(ne>ee){var ce=P(ne),_e=A(V,Le),Ae=G*a(_e/G),Fe=_e-Ae;Le=ce*T(Fe),V=ce*c(Fe);for(var We=Le-h,Ye=c(Le),Je=V/Ye,tt=Le<h?1/0:0,lt=10;;){var yt=j*c(Je),wt=j*T(Je),zt=c(wt),Ut=h-wt,Nt=(yt-Je*zt)/Ut,$t=Hn(Je,Nt);if(S(tt)<w||!--lt)break;Je-=tt=(Je*Ye-Nt*We-V)/(Ye-2*We*(Ut*(wt+Je*yt*T(wt)-zt)-yt*(yt-Je*zt))/(Ut*Ut))}Le=(ce=j+On($t,wt,Le)*(v-j)/On($t,wt,v))*T(_e=Ae+Je),V=ce*c(_e)}return oe.N.invert(Le,V)},ye}function Hn(j,q){return function(G){var ee=j*T(G);return G<h&&(ee-=q),P(1+ee*ee)}}function On(j,q,G){for(var ee=(G-q)/50,ye=j(q)+j(G),Le=1,V=q;Le<50;++Le)ye+=2*j(V+=ee);return.5*ye*ee}function Wn(){var j=6,q=30*k,G=T(q),ee=c(q),ye=(0,C.r)(Un),Le=ye(q,j),V=Le.stream,ne=-T(.01*k),ce=c(.01*k);return Le.radius=function(_e){return arguments.length?(G=T(q=_e*k),ee=c(q),ye(q,j)):q*E},Le.lobes=function(_e){return arguments.length?ye(q,j=+_e):j},Le.stream=function(_e){var Ae=Le.rotate(),Fe=V(_e),We=(Le.rotate([0,0]),V(_e));return Le.rotate(Ae),Fe.sphere=function(){We.polygonStart(),We.lineStart();for(var Ye=0,Je=2*v/j,tt=0;Ye<j;++Ye,tt-=Je)We.point(A(ce*T(tt),ne)*E,I(ce*c(tt))*E),We.point(A(ee*T(tt-Je/2),G)*E,I(ee*c(tt-Je/2))*E);We.lineEnd(),We.polygonEnd()},Fe},Le.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function pr(j,q,G,ee,ye,Le,V,ne){function ce(_e,Ae){if(!Ae)return[j*_e/v,0];var Fe=Ae*Ae,We=j+Fe*(q+Fe*(G+Fe*ee)),Ye=Ae*(ye-1+Fe*(Le-ne+Fe*V)),Je=(We*We+Ye*Ye)/(2*Ye),tt=_e*I(We/Je)/v;return[Je*c(tt),Ae*(1+Fe*ne)+Je*(1-T(tt))]}return arguments.length<8&&(ne=0),ce.invert=function(_e,Ae){var Fe,We,Ye=v*_e/j,Je=Ae,tt=50;do{var lt=Je*Je,yt=j+lt*(q+lt*(G+lt*ee)),wt=Je*(ye-1+lt*(Le-ne+lt*V)),zt=yt*yt+wt*wt,Ut=2*wt,Nt=zt/Ut,$t=Nt*Nt,Bt=I(yt/Nt)/v,pn=Ye*Bt,an=yt*yt,en=(2*q+lt*(4*G+6*lt*ee))*Je,Dn=ye+lt*(3*Le+5*lt*V),In=(2*(yt*en+wt*(Dn-1))*Ut-zt*(2*(Dn-1)))/(Ut*Ut),Kn=T(pn),Yn=c(pn),ir=Nt*Kn,dr=Nt*Yn,yr=Ye/v*(1/P(1-an/$t))*(en*Nt-yt*In)/$t,kr=dr-_e,Cr=Je*(1+lt*ne)+Nt-ir-Ae,Lr=In*Yn+ir*yr,ni=ir*Bt,Qn=1+In-(In*Kn-dr*yr),wr=dr*Bt,Er=Lr*wr-Qn*ni;if(!Er)break;Ye-=Fe=(Cr*Lr-kr*Qn)/Er,Je-=We=(kr*wr-Cr*ni)/Er}while((S(Fe)>f||S(We)>f)&&--tt>0);return[Ye,Je]},ce}var ar=pr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function Ar(){return(0,C.Z)(ar).scale(149.995)}var hr=pr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function fr(){return(0,C.Z)(hr).scale(153.93)}var Rr=pr(5/6*v,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Xt(){return(0,C.Z)(Rr).scale(130.945)}function rn(j,q){var G=j*j,ee=q*q;return[j*(1-.162388*ee)*(.87-952426e-9*G*G),q*(1+ee/12)]}function wn(){return(0,C.Z)(rn).scale(131.747)}rn.invert=function(j,q){var G,ee=j,ye=q,Le=50;do{var V=ye*ye;ye-=G=(ye*(1+V/12)-q)/(1+V/4)}while(S(G)>f&&--Le>0);Le=50,j/=1-.162388*V;do{var ne=(ne=ee*ee)*ne;ee-=G=(ee*(.87-952426e-9*ne)-j)/(.87-.00476213*ne)}while(S(G)>f&&--Le>0);return[ee,ye]};var Cn=pr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Bn(){return(0,C.Z)(Cn).scale(131.087)}function or(j){var q=j(h,0)[0]-j(-h,0)[0];function G(ee,ye){var Le=ee>0?-.5:.5,V=j(ee+Le*v,ye);return V[0]-=Le*q,V}return j.invert&&(G.invert=function(ee,ye){var Le=ee>0?-.5:.5,V=j.invert(ee+Le*q,ye),ne=V[0]-Le*v;return ne<-v?ne+=2*v:ne>v&&(ne-=2*v),V[0]=ne,V}),G}function An(j,q){var G=s(j),ee=s(q),ye=T(q),Le=T(j)*ye,V=c(j)*ye,ne=c(ee*q);j=S(A(V,ne)),q=I(Le),S(j-h)>f&&(j%=h);var ce=function(_e,Ae){if(Ae===h)return[0,0];var Fe,We,Ye=c(Ae),Je=Ye*Ye,tt=Je*Je,lt=1+tt,yt=1+3*tt,wt=1-tt,zt=I(1/P(lt)),Ut=wt+Je*lt*zt,Nt=(1-Ye)/Ut,$t=P(Nt),Bt=Nt*lt,pn=P(Bt),an=$t*wt;if(0===_e)return[0,-(an+Je*pn)];var en,Dn=T(Ae),In=1/Dn,Kn=2*Ye*Dn,Yn=(-Ut*Dn-(-3*Je+zt*yt)*Kn*(1-Ye))/(Ut*Ut),ir=-In*Kn,dr=-In*(Je*lt*Yn+Nt*yt*Kn),yr=-2*In*(wt*(.5*Yn/$t)-2*Je*$t*Kn),kr=4*_e/v;if(_e>.222*v||Ae<v/4&&_e>.175*v){if(Fe=(an+Je*P(Bt*(1+tt)-an*an))/(1+tt),_e>v/4)return[Fe,Fe];var Cr=Fe,Lr=.5*Fe;Fe=.5*(Lr+Cr),We=50;do{var ni=Fe*(yr+ir*P(Bt-Fe*Fe))+dr*I(Fe/pn)-kr;if(!ni)break;ni<0?Lr=Fe:Cr=Fe,Fe=.5*(Lr+Cr)}while(S(Cr-Lr)>f&&--We>0)}else{Fe=f,We=25;do{var Qn=Fe*Fe,wr=P(Bt-Qn),Er=yr+ir*wr,jr=Fe*Er+dr*I(Fe/pn)-kr;Fe-=en=wr?jr/(Er+(dr-ir*Qn)/wr):0}while(S(en)>f&&--We>0)}return[Fe,-an-Je*P(Bt-Fe*Fe)]}(j>v/4?h-j:j,q);return j>v/4&&(ne=ce[0],ce[0]=-ce[1],ce[1]=-ne),ce[0]*=G,ce[1]*=-ee,ce}function $n(){return(0,C.Z)(or(An)).scale(239.75)}function Xn(j,q){var G,ee,ye,Le,V,ne;if(q<f)return[(Le=c(j))-(G=q*(j-Le*(ee=T(j)))/4)*ee,ee+G*Le,1-q*Le*Le/2,j-G];if(q>=1-f)return G=(1-q)/4,ye=1/(ee=z(j)),[(Le=((ne=m(2*(ne=j)))-1)/(ne+1))+G*((V=ee*R(j))-j)/(ee*ee),ye-G*Le*ye*(V-j),ye+G*Le*ye*(V+j),2*u(m(j))-h+G*(V-j)/ee];var ce=[1,0,0,0,0,0,0,0,0],_e=[P(q),0,0,0,0,0,0,0,0],Ae=0;for(ee=P(1-q),V=1;S(_e[Ae]/ce[Ae])>f&&Ae<8;)G=ce[Ae++],_e[Ae]=(G-ee)/2,ce[Ae]=(G+ee)/2,ee=P(G*ee),V*=2;ye=V*ce[Ae]*j;do{ye=(I(Le=_e[Ae]*c(ee=ye)/ce[Ae])+ye)/2}while(--Ae);return[c(ye),Le=T(ye),Le/T(ye-ee),ye]}function Kt(j,q){if(!q)return j;if(1===q)return t(p(j/2+_));for(var G=1,ee=P(1-q),ye=P(q),Le=0;S(ye)>f;Le++){if(j%v){var V=u(ee*p(j)/G);V<0&&(V+=v),j+=V+~~(j/v)*v}else j+=j;ye=(G+ee)/2,ee=P(G*ee),ye=((G=ye)-ee)/2}return j/(n(2,Le)*G)}function Rn(j,q){var _e,Ae,Fe,We,Ye,G=(b-1)/(b+1),ee=P(1-G*G),ye=Kt(h,ee*ee),Le=t(p(v/4+S(q)/2)),V=m(-1*Le)/P(G),ne=(_e=V*T(-1*j),We=(Ae=V*c(-1*j))+1,[.5*((_e>=0?h:-h)-A(Ye=1-(Fe=_e*_e)-Ae*Ae,2*_e)),-.25*t(Ye*Ye+4*Fe)+.5*t(We*We+Fe)]),ce=function(_e,Ae,Fe){var We=S(_e),Ye=R(S(Ae));if(We){var Je=1/c(We),tt=1/(p(We)*p(We)),lt=-(tt+Fe*(Ye*Ye*Je*Je)-1+Fe),yt=(-lt+P(lt*lt-(Fe-1)*tt*4))/2;return[Kt(u(1/P(yt)),Fe)*s(_e),Kt(u(P((yt/tt-1)/Fe)),1-Fe)*s(Ae)]}return[0,Kt(u(Ye),1-Fe)*s(Ae)]}(ne[0],ne[1],ee*ee);return[-ce[1],(q>=0?1:-1)*(.5*ye-ce[0])]}function Ft(){return(0,C.Z)(or(Rn)).scale(151.496)}An.invert=function(j,q){S(j)>1&&(j=2*s(j)-j),S(q)>1&&(q=2*s(q)-q);var G=s(j),ee=s(q),ye=-G*j,Le=-ee*q,V=Le/ye<1,ne=function(Fe,We){for(var Ye=0,Je=1,tt=.5,lt=50;;){var yt=tt*tt,wt=P(tt),zt=I(1/P(1+yt)),Ut=1-yt+tt*(1+yt)*zt,Nt=(1-wt)/Ut,$t=P(Nt),Bt=Nt*(1+yt),pn=$t*(1-yt),an=P(Bt-Fe*Fe),en=We+pn+tt*an;if(S(Je-Ye)<w||0==--lt||0===en)break;en>0?Ye=tt:Je=tt,tt=.5*(Ye+Je)}if(!lt)return null;var Dn=I(wt),In=T(Dn),Kn=1/In,Yn=2*wt*In,ir=(-Ut*In-(-3*tt+zt*(1+3*yt))*Yn*(1-wt))/(Ut*Ut);return[v/4*(Fe*(-2*Kn*(.5*ir/$t*(1-yt)-2*tt*$t*Yn)+-Kn*Yn*an)+-Kn*(tt*(1+yt)*ir+Nt*(1+3*yt)*Yn)*I(Fe/P(Bt))),Dn]}(V?Le:ye,V?ye:Le),ce=ne[0],_e=ne[1],Ae=T(_e);return V&&(ce=-h-ce),[G*(A(c(ce)*Ae,-c(_e))+v),ee*I(T(ce)*Ae)]},Rn.invert=function(j,q){var G,ee,ye,Le,V,ne,We,Ye,Je,ce=(b-1)/(b+1),_e=P(1-ce*ce),Ae=(ee=-j,ye=_e*_e,(G=.5*Kt(h,_e*_e)-q)?(Le=Xn(G,ye),ee?(ne=(V=Xn(ee,1-ye))[1]*V[1]+ye*Le[0]*Le[0]*V[0]*V[0],[[Le[0]*V[2]/ne,Le[1]*Le[2]*V[0]*V[1]/ne],[Le[1]*V[1]/ne,-Le[0]*Le[2]*V[0]*V[2]/ne],[Le[2]*V[1]*V[2]/ne,-ye*Le[0]*Le[1]*V[0]/ne]]):[[Le[0],0],[Le[1],0],[Le[2],0]]):[[0,(V=Xn(ee,1-ye))[0]/V[1]],[1/V[1],0],[V[2]/V[1],0]]),Fe=[((We=Ae[0])[0]*(Ye=Ae[1])[0]+We[1]*Ye[1])/(Je=Ye[0]*Ye[0]+Ye[1]*Ye[1]),(We[1]*Ye[0]-We[0]*Ye[1])/Je];return[A(Fe[1],Fe[0])/-1,2*u(m(-.5*t(ce*Fe[0]*Fe[0]+ce*Fe[1]*Fe[1])))-h]};var on=e(7613);function fn(j){var q=c(j),G=T(j),ee=Sn(j);function ye(Le,V){var ne=ee(Le,V);Le=ne[0];var ce=c(V=ne[1]),_e=T(V),Ae=T(Le),Fe=L(q*ce+G*_e*Ae),We=c(Fe),Ye=S(We)>f?Fe/We:1;return[Ye*G*c(Le),(S(Le)>h?Ye:-Ye)*(q*_e-G*ce*Ae)]}return ee.invert=Sn(-j),ye.invert=function(Le,V){var ne=P(Le*Le+V*V),ce=-c(ne),_e=T(ne),Ae=ne*_e,Fe=-V*ce,We=ne*q,Ye=P(Ae*Ae+Fe*Fe-We*We),Je=A(Ae*We+Fe*Ye,Fe*We-Ae*Ye),tt=(ne>h?-1:1)*A(Le*ce,ne*T(Je)*_e+V*c(Je)*ce);return ee.invert(tt,Je)},ye}function Sn(j){var q=c(j),G=T(j);return function(ee,ye){var Le=T(ye),V=T(ee)*Le,ne=c(ee)*Le,ce=c(ye);return[A(ne,V*G-ce*q),I(ce*G+V*q)]}}function Ln(){var j=0,q=(0,C.r)(fn),G=q(j),ee=G.rotate,ye=G.stream,Le=(0,on.Z)();return G.parallel=function(V){if(!arguments.length)return j*E;var ne=G.rotate();return q(j=V*k).rotate(ne)},G.rotate=function(V){return arguments.length?(ee.call(G,[V[0],V[1]-j*E]),Le.center([-V[0],-V[1]]),G):((V=ee.call(G))[1]+=j*E,V)},G.stream=function(V){return(V=ye(V)).sphere=function(){V.polygonStart();var ne,ce=Le.radius(89.99)().coordinates[0],_e=ce.length-1,Ae=-1;for(V.lineStart();++Ae<_e;)V.point((ne=ce[Ae])[0],ne[1]);for(V.lineEnd(),_e=(ce=Le.radius(90.01)().coordinates[0]).length-1,V.lineStart();--Ae>=0;)V.point((ne=ce[Ae])[0],ne[1]);V.lineEnd(),V.polygonEnd()},V},G.scale(79.4187).parallel(45).clipAngle(179.999)}var jn=e(33064),bn=e(72736),sn=I(1-1/3)*E,un=rt(0);function xn(j){var q=sn*k,G=Ot(v,q)[0]-Ot(-v,q)[0],ee=un(0,q)[1],ye=Ot(0,q)[1],Le=M-ye,V=d/j,ne=4/d,ce=ee+Le*Le*4/d;function _e(Ae,Fe){var We,Ye=S(Fe);if(Ye>q){var Je=r(j-1,o(0,l((Ae+v)/V)));(We=Ot(Ae+=v*(j-1)/j-Je*V,Ye))[0]=We[0]*d/G-d*(j-1)/(2*j)+Je*d/j,We[1]=ee+4*(We[1]-ye)*Le/d,Fe<0&&(We[1]=-We[1])}else We=un(Ae,Fe);return We[0]*=ne,We[1]/=ce,We}return _e.invert=function(Ae,Fe){Ae/=ne;var We=S(Fe*=ce);if(We>ee){var Ye=r(j-1,o(0,l((Ae+v)/V))),Je=Ot.invert(Ae=(Ae+v*(j-1)/j-Ye*V)*G/d,.25*(We-ee)*d/Le+ye);return Je[0]-=v*(j-1)/j-Ye*V,Fe<0&&(Je[1]=-Je[1]),Je}return un.invert(Ae,Fe)},_e}function _n(j,q){return[j,1&q?90-f:sn]}function Vn(j,q){return[j,1&q?-90+f:-sn]}function Gn(j){return[j[0]*(1-f),j[1]]}function rr(){var j=4,q=(0,C.r)(xn),G=q(j),ee=G.stream;return G.lobes=function(ye){return arguments.length?q(j=+ye):j},G.stream=function(ye){var Le=G.rotate(),V=ee(ye),ne=(G.rotate([0,0]),ee(ye));return G.rotate(Le),V.sphere=function(){var ce,_e;(0,bn.Z)((_e=[].concat((0,jn.w6)(-180,180+(ce=180/j)/2,ce).map(_n),(0,jn.w6)(180,-180-ce/2,-ce).map(Vn)),{type:"Polygon",coordinates:[180===ce?_e.map(Gn):_e]}),ne)},V},G.scale(239.75)}function Jn(j){var q,G=1+j,ee=I(c(1/G)),ye=2*P(v/(q=v+4*ee*G)),Le=.5*ye*(G+P(j*(2+j))),V=j*j,ne=G*G;function ce(_e,Ae){var Fe,We,Ye=1-c(Ae);if(Ye&&Ye<2){var Je,tt=h-Ae,lt=25;do{var yt=c(tt),wt=T(tt),zt=ee+A(yt,G-wt),Ut=1+ne-2*G*wt;tt-=Je=(tt-V*ee-G*yt+Ut*zt-.5*Ye*q)/(2*G*yt*zt)}while(S(Je)>w&&--lt>0);Fe=ye*P(Ut),We=_e*zt/v}else Fe=ye*(j+Ye),We=_e*ee/v;return[Fe*c(We),Le-Fe*T(We)]}return ce.invert=function(_e,Ae){var Fe=_e*_e+(Ae-=Le)*Ae,We=(1+ne-Fe/(ye*ye))/(2*G),Ye=L(We),Je=c(Ye),tt=ee+A(Je,G-We);return[I(_e/P(Fe))*v/tt,I(1-2*(Ye-V*ee-G*Je+(1+ne-2*G*We)*tt)/q)]},ce}function mr(){var j=1,q=(0,C.r)(Jn),G=q(j);return G.ratio=function(ee){return arguments.length?q(j=+ee):j},G.scale(167.774).center([0,18.67])}var er=.7109889596207567,ur=.0528035274542;function Tr(j,q){return q>-er?((j=pe(j,q))[1]+=ur,j):$e(j,q)}function Mr(){return(0,C.Z)(Tr).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Dr(j,q){return S(q)>er?((j=pe(j,q))[1]-=q>0?ur:-ur,j):$e(j,q)}function lr(){return(0,C.Z)(Dr).scale(152.63)}function Hr(j,q,G,ee){var ye=P(4*v/(2*G+(1+j-q/2)*c(2*G)+(j+q)/2*c(4*G)+q/2*c(6*G))),Le=P(ee*c(G)*P((1+j*T(2*G)+q*T(4*G))/(1+j+q))),V=G*ce(1);function ne(Fe){return P(1+j*T(2*Fe)+q*T(4*Fe))}function ce(Fe){var We=Fe*G;return(2*We+(1+j-q/2)*c(2*We)+(j+q)/2*c(4*We)+q/2*c(6*We))/G}function _e(Fe){return ne(Fe)*c(Fe)}var Ae=function(Fe,We){var Ye=G*Te(ce,V*c(We)/G,We/v);isNaN(Ye)&&(Ye=G*s(We));var Je=ye*ne(Ye);return[Je*Le*Fe/v*T(Ye),Je/Le*c(Ye)]};return Ae.invert=function(Fe,We){var Ye=Te(_e,We*Le/ye);return[Fe*v/(T(Ye)*ye*Le*ne(Ye)),I(G*ce(Ye/G)/V)]},0===G&&(ye=P(ee/v),(Ae=function(Fe,We){return[Fe*ye,c(We)/ye]}).invert=function(Fe,We){return[Fe/ye,I(We*ye)]}),Ae}function sr(){var j=1,q=0,G=45*k,ee=2,ye=(0,C.r)(Hr),Le=ye(j,q,G,ee);return Le.a=function(V){return arguments.length?ye(j=+V,q,G,ee):j},Le.b=function(V){return arguments.length?ye(j,q=+V,G,ee):q},Le.psiMax=function(V){return arguments.length?ye(j,q,G=+V*k,ee):G*E},Le.ratio=function(V){return arguments.length?ye(j,q,G,ee=+V):ee},Le.scale(180.739)}function Or(j,q,G,ee,ye,Le,V,ne,ce,_e,Ae){if(Ae.nanEncountered)return NaN;var Fe,We,Ye,Je,tt,lt,yt,wt,zt,Ut;if(We=j(q+.25*(Fe=G-q)),Ye=j(G-.25*Fe),isNaN(We))Ae.nanEncountered=!0;else{if(!isNaN(Ye))return Ut=((lt=(Je=Fe*(ee+4*We+ye)/12)+(tt=Fe*(ye+4*Ye+Le)/12))-V)/15,_e>ce?(Ae.maxDepthCount++,lt+Ut):Math.abs(Ut)<ne?lt+Ut:(wt=Or(j,q,yt=q+.5*Fe,ee,We,ye,Je,.5*ne,ce,_e+1,Ae),isNaN(wt)?(Ae.nanEncountered=!0,NaN):(zt=Or(j,yt,G,ye,Ye,Le,tt,.5*ne,ce,_e+1,Ae),isNaN(zt)?(Ae.nanEncountered=!0,NaN):wt+zt));Ae.nanEncountered=!0}}function Qr(j,q,G,ee,ye){void 0===ee&&(ee=1e-8),void 0===ye&&(ye=20);var Le=j(q),V=j(.5*(q+G)),ne=j(G);return Or(j,q,G,Le,V,ne,(Le+4*V+ne)*(G-q)/6,ee,ye,1,{maxDepthCount:0,nanEncountered:!1})}function ji(j,q,G){function ee(Ye){return j+(1-j)*n(1-n(Ye,q),1/q)}function ye(Ye){return Qr(ee,0,Ye,1e-4)}for(var Le=1/ye(1),V=1e3,ne=1.00000001*Le,ce=[],_e=0;_e<=V;_e++)ce.push(ye(_e/V)*ne);function Ae(Ye){var Je=0,tt=V,lt=500;do{ce[lt]>Ye?tt=lt:Je=lt,lt=Je+tt>>1}while(lt>Je);var yt=ce[lt+1]-ce[lt];return yt&&(yt=(Ye-ce[lt+1])/yt),(lt+1+yt)/V}var Fe=2*Ae(1)/v*Le/G,We=function(Ye,Je){var tt=Ae(S(c(Je))),lt=ee(tt)*Ye;return tt/=Fe,[lt,Je>=0?tt:-tt]};return We.invert=function(Ye,Je){var tt;return S(Je*=Fe)<1&&(tt=s(Je)*I(ye(S(Je))*Le)),[Ye/ee(S(Je)),tt]},We}function fo(){var j=0,q=2.5,G=1.183136,ee=(0,C.r)(ji),ye=ee(j,q,G);return ye.alpha=function(Le){return arguments.length?ee(j=+Le,q,G):j},ye.k=function(Le){return arguments.length?ee(j,q=+Le,G):q},ye.gamma=function(Le){return arguments.length?ee(j,q,G=+Le):G},ye.scale(152.63)}function no(j,q){return S(j[0]-q[0])<f&&S(j[1]-q[1])<f}function ro(j,q){for(var G,ee,ye,Le=-1,V=j.length,ne=j[0],ce=[];++Le<V;){ee=((G=j[Le])[0]-ne[0])/q,ye=(G[1]-ne[1])/q;for(var _e=0;_e<q;++_e)ce.push([ne[0]+_e*ee,ne[1]+_e*ye]);ne=G}return ce.push(G),ce}function Yi(j,q,G){var ee,ye;function Le(ce,_e){for(var Ae=_e<0?-1:1,Fe=q[+(_e<0)],We=0,Ye=Fe.length-1;We<Ye&&ce>Fe[We][2][0];++We);var Je=j(ce-Fe[We][1][0],_e);return Je[0]+=j(Fe[We][1][0],Ae*_e>Ae*Fe[We][0][1]?Fe[We][0][1]:_e)[0],Je}G?Le.invert=G(Le):j.invert&&(Le.invert=function(ce,_e){for(var Ae=ye[+(_e<0)],Fe=q[+(_e<0)],We=0,Ye=Ae.length;We<Ye;++We){var Je=Ae[We];if(Je[0][0]<=ce&&ce<Je[1][0]&&Je[0][1]<=_e&&_e<Je[1][1]){var tt=j.invert(ce-j(Fe[We][1][0],0)[0],_e);return tt[0]+=Fe[We][1][0],no(Le(tt[0],tt[1]),[ce,_e])?tt:null}}});var V=(0,C.Z)(Le),ne=V.stream;return V.stream=function(ce){var _e=V.rotate(),Ae=ne(ce),Fe=(V.rotate([0,0]),ne(ce));return V.rotate(_e),Ae.sphere=function(){(0,bn.Z)(ee,Fe)},Ae},V.lobes=function(ce){return arguments.length?(ee=function(_e){var Ae,Fe,Ye,Je,lt,yt=[],wt=_e[0].length;for(lt=0;lt<wt;++lt)Fe=(Ae=_e[0][lt])[0][0],yt.push(ro([[Fe+f,Ae[0][1]+f],[Fe+f,(Ye=Ae[1][1])-f],[(Je=Ae[2][0])-f,Ye-f],[Je-f,Ae[2][1]+f]],30));for(lt=_e[1].length-1;lt>=0;--lt)Fe=(Ae=_e[1][lt])[0][0],yt.push(ro([[(Je=Ae[2][0])-f,Ae[2][1]-f],[Je-f,(Ye=Ae[1][1])+f],[Fe+f,Ye+f],[Fe+f,Ae[0][1]-f]],30));return{type:"Polygon",coordinates:[(0,jn.TS)(yt)]}}(ce),q=ce.map(function(_e){return _e.map(function(Ae){return[[Ae[0][0]*k,Ae[0][1]*k],[Ae[1][0]*k,Ae[1][1]*k],[Ae[2][0]*k,Ae[2][1]*k]]})}),ye=q.map(function(_e){return _e.map(function(Ae){var Fe,We=j(Ae[0][0],Ae[0][1])[0],Ye=j(Ae[2][0],Ae[2][1])[0],Je=j(Ae[1][0],Ae[0][1])[1],tt=j(Ae[1][0],Ae[1][1])[1];return Je>tt&&(Fe=Je,Je=tt,tt=Fe),[[We,Je],[Ye,tt]]})}),V):q.map(function(_e){return _e.map(function(Ae){return[[Ae[0][0]*E,Ae[0][1]*E],[Ae[1][0]*E,Ae[1][1]*E],[Ae[2][0]*E,Ae[2][1]*E]]})})},null!=q&&V.lobes(q),V}Tr.invert=function(j,q){return q>-er?pe.invert(j,q-ur):$e.invert(j,q)},Dr.invert=function(j,q){return S(q)>er?pe.invert(j,q+(q>0?ur:-ur)):$e.invert(j,q)};var To=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ms(){return Yi(Re,To).scale(160.857)}var $r=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function fs(){return Yi(Dr,$r).scale(152.63)}var gu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Vo(){return Yi(pe,gu).scale(169.529)}var Sl=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ec(){return Yi(pe,Sl).scale(169.529).rotate([20,0])}var Pi=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Tc(){return Yi(Tr,Pi,be).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var El=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Cl(){return Yi($e,El).scale(152.63).rotate([-20,0])}function La(j,q){return[3/d*j*P(v*v/3-q*q),q]}function Eo(){return(0,C.Z)(La).scale(158.837)}function Qs(j){function q(G,ee){if(S(S(ee)-h)<f)return[0,ee<0?-2:2];var ye=c(ee),Le=n((1+ye)/(1-ye),j/2),V=.5*(Le+1/Le)+T(G*=j);return[2*c(G)/V,(Le-1/Le)/V]}return q.invert=function(G,ee){var ye=S(ee);if(S(ye-2)<f)return G?null:[0,s(ee)*h];if(ye>2)return null;var Le=(G/=2)*G,V=(ee/=2)*ee,ne=2*ee/(1+Le+V);return ne=n((1+ne)/(1-ne),1/j),[A(2*G,1-Le-V)/j,I((ne-1)/(ne+1))]},q}function Ui(){var j=.5,q=(0,C.r)(Qs),G=q(j);return G.spacing=function(ee){return arguments.length?q(j=+ee):j},G.scale(124.75)}La.invert=function(j,q){return[d/3*j/P(v*v/3-q*q),q]};var As=v/b;function Ha(j,q){return[j*(1+P(T(q)))/2,q/(T(q/2)*T(j/6))]}function ks(){return(0,C.Z)(Ha).scale(97.2672)}function ba(j,q){var G=j*j,ee=q*q;return[j*(.975534+ee*(-.0143059*G-.119161+-.0547009*ee)),q*(1.00384+G*(.0802894+-.02855*ee+199025e-9*G)+ee*(.0998909+-.0491032*ee))]}function el(){return(0,C.Z)(ba).scale(139.98)}function _a(j,q){return[c(j)/T(q),p(q)*T(j)]}function Bs(){return(0,C.Z)(_a).scale(144.049).clipAngle(89.999)}function ti(j){var q=T(j),G=p(_+j/2);function ee(ye,Le){var V=Le-j,ne=S(V)<f?ye*q:S(ne=_+Le/2)<f||S(S(ne)-h)<f?0:ye*V/t(p(ne)/G);return[ne,V]}return ee.invert=function(ye,Le){var V,ne=Le+j;return[S(Le)<f?ye/q:S(V=_+ne/2)<f||S(S(V)-h)<f?0:ye*t(p(V)/G)/Le,ne]},ee}function Eu(){return Ue(ti).parallel(40).scale(158.837)}function qr(j,q){return[j,1.25*t(p(_+.4*q))]}function $l(){return(0,C.Z)(qr).scale(108.318)}function Xl(j){var q=j.length-1;function G(ee,ye){for(var Le,V=T(ye),ne=2/(1+V*T(ee)),ce=ne*V*c(ee),_e=ne*c(ye),Ae=q,Fe=j[Ae],We=Fe[0],Ye=Fe[1];--Ae>=0;)We=(Fe=j[Ae])[0]+ce*(Le=We)-_e*Ye,Ye=Fe[1]+ce*Ye+_e*Le;return[We=ce*(Le=We)-_e*Ye,Ye=ce*Ye+_e*Le]}return G.invert=function(ee,ye){var Le=20,V=ee,ne=ye;do{for(var ce,_e=q,Ae=j[_e],Fe=Ae[0],We=Ae[1],Ye=0,Je=0;--_e>=0;)Ye=Fe+V*(ce=Ye)-ne*Je,Je=We+V*Je+ne*ce,Fe=(Ae=j[_e])[0]+V*(ce=Fe)-ne*We,We=Ae[1]+V*We+ne*ce;var tt,lt,yt=(Ye=Fe+V*(ce=Ye)-ne*Je)*Ye+(Je=We+V*Je+ne*ce)*Je;V-=tt=((Fe=V*(ce=Fe)-ne*We-ee)*Ye+(We=V*We+ne*ce-ye)*Je)/yt,ne-=lt=(We*Ye-Fe*Je)/yt}while(S(tt)+S(lt)>f*f&&--Le>0);if(Le){var wt=P(V*V+ne*ne),zt=2*u(.5*wt),Ut=c(zt);return[A(V*Ut,wt*T(zt)),wt?I(ne*Ut/wt):0]}},G}Ha.invert=function(j,q){var G=S(j),ee=S(q),ye=f,Le=h;ee<As?Le*=ee/As:ye+=6*L(As/ee);for(var V=0;V<25;V++){var ne=c(Le),ce=P(T(Le)),_e=c(Le/2),Ae=T(Le/2),Fe=c(ye/6),We=T(ye/6),Ye=.5*ye*(1+ce)-G,Je=Le/(Ae*We)-ee,tt=ce?-.25*ye*ne/ce:0,lt=.5*(1+ce),yt=(1+.5*Le*_e/Ae)/(Ae*We),wt=Le/Ae*(Fe/6)/(We*We),zt=tt*wt-yt*lt,Ut=(Ye*wt-Je*lt)/zt,Nt=(Je*tt-Ye*yt)/zt;if(Le-=Ut,ye-=Nt,S(Ut)<f&&S(Nt)<f)break}return[j<0?-ye:ye,q<0?-Le:Le]},ba.invert=function(j,q){var G=s(j)*v,ee=q/2,ye=50;do{var Le=G*G,V=ee*ee,ne=G*ee,ce=G*(.975534+V*(-.0143059*Le-.119161+-.0547009*V))-j,_e=ee*(1.00384+Le*(.0802894+-.02855*V+199025e-9*Le)+V*(.0998909+-.0491032*V))-q,Ae=.975534-V*(.119161+3*Le*.0143059+.0547009*V),Fe=-ne*(.238322+.2188036*V+.0286118*Le),We=ne*(.1605788+7961e-7*Le+-.0571*V),Ye=1.00384+Le*(.0802894+199025e-9*Le)+V*(3*(.0998909-.02855*Le)-.245516*V),Je=Fe*We-Ye*Ae,tt=(_e*Fe-ce*Ye)/Je,lt=(ce*We-_e*Ae)/Je;G-=tt,ee-=lt}while((S(tt)>f||S(lt)>f)&&--ye>0);return ye&&[G,ee]},_a.invert=function(j,q){var G=j*j,ee=q*q+1,ye=G+ee,Le=j?x*P((ye-P(ye*ye-4*G))/G):1/P(ee);return[I(j*Le),s(q)*L(Le)]},qr.invert=function(j,q){return[j,2.5*u(m(.8*q))-.625*v]};var Dl=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Cu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],tc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Il=[[.9245,0],[0,0],[.01943,0]],wa=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Ta(){return Pa(Dl,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Jo(){return Pa(Cu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Ga(){return Pa(tc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Fi(){return Pa(Il,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Ll(){return Pa(wa,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Pa(j,q){var G=(0,C.Z)(Xl(j)).rotate(q).clipAngle(90),ee=(0,st.Z)(q),ye=G.center;return delete G.rotate,G.center=function(Le){return arguments.length?ye(ee(Le)):ee.invert(ye())},G}var js=P(6),hs=P(7);function ia(j,q){var G=I(7*c(q)/(3*js));return[js*j*(2*T(2*G/3)-1)/hs,9*c(G/3)/hs]}function Pl(){return(0,C.Z)(ia).scale(164.859)}function Us(j,q){for(var G,ee=(1+x)*c(q),ye=q,Le=0;Le<25&&(ye-=G=(c(ye/2)+c(ye)-ee)/(.5*T(ye/2)+T(ye)),!(S(G)<f));Le++);return[j*(1+2*T(ye)/T(ye/2))/(3*b),2*P(3)*c(ye/2)/P(2+b)]}function Ki(){return(0,C.Z)(Us).scale(188.209)}function qa(j,q){for(var G,ee=P(6/(4+v)),ye=(1+v/4)*c(q),Le=q/2,V=0;V<25&&(Le-=G=(Le/2+c(Le)-ye)/(.5+T(Le)),!(S(G)<f));V++);return[ee*(.5+T(Le))*j/1.5,ee*Le]}function Ol(){return(0,C.Z)(qa).scale(166.518)}ia.invert=function(j,q){var G=3*I(q*hs/9);return[j*hs/(js*(2*T(2*G/3)-1)),I(3*c(G)*js/7)]},Us.invert=function(j,q){var G=q*P(2+b)/(2*P(3)),ee=2*I(G);return[3*b*j/(1+2*T(ee)/T(ee/2)),I((G+c(ee))/(1+x))]},qa.invert=function(j,q){var G=P(6/(4+v)),ee=q/G;return S(S(ee)-h)<f&&(ee=ee<0?-h:h),[1.5*j/(G*(.5+T(ee))),I((ee/2+c(ee))/(1+v/4))]};var Wa=e(26867);function ds(j,q){var G=q*q,ee=G*G,ye=G*ee;return[j*(.84719-.13063*G+ye*ye*(.05494*G-.04515-.02326*ee+.00331*ye)),q*(1.01183+ee*ee*(.01926*G-.02625-.00396*ee))]}function nc(){return(0,C.Z)(ds).scale(175.295)}function Kl(j,q){return[j*(1+T(q))/2,2*(q-p(q/2))]}function rc(){return(0,C.Z)(Kl).scale(152.63)}ds.invert=function(j,q){var G,ee,ye,Le,V=q,ne=25;do{V-=G=(V*(1.01183+(ye=(ee=V*V)*ee)*ye*(.01926*ee-.02625-.00396*ye))-q)/(1.01183+ye*ye*(.21186*ee-.23625+-.05148*ye))}while(S(G)>w&&--ne>0);return[j/(.84719-.13063*(ee=V*V)+(Le=ee*(ye=ee*ee))*Le*(.05494*ee-.04515-.02326*ye+.00331*Le)),V]},Kl.invert=function(j,q){for(var G=q/2,ee=0,ye=1/0;ee<10&&S(ye)>f;++ee){var Le=T(q/2);q-=ye=(q-p(q/2)-G)/(1-.5/(Le*Le))}return[2*j/(1+T(q)),q]};var Du=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Jl(){return Yi(me(1/0),Du).rotate([20,0]).scale(152.63)}function Rl(j,q){var G=c(q),ee=T(q),ye=s(j);if(0===j||S(q)===h)return[0,q];if(0===q)return[j,0];if(S(j)===h)return[j*ee,h*G];var Le=v/(2*j)-2*j/v,V=2*q/v,ne=(1-V*V)/(G-V),ce=Le*Le,_e=ne*ne,Ae=1+ce/_e,Fe=1+_e/ce,We=(Le*G/ne-Le/2)/Ae,Ye=(_e*G/ce+ne/2)/Fe,Je=Ye*Ye-(_e*G*G/ce+ne*G-1)/Fe;return[h*(We+P(We*We+ee*ee/Ae)*ye),h*(Ye+P(Je<0?0:Je)*s(-q*Le)*ye)]}function Ea(){return(0,C.Z)(Rl).scale(127.267)}Rl.invert=function(j,q){var G=(j/=h)*j,ee=G+(q/=h)*q,ye=v*v;return[j?(ee-1+P((1-ee)*(1-ee)+4*G))/(2*j)*h:0,Te(function(Le){return ee*(v*c(Le)-2*Le)*v+4*Le*Le*(q-c(Le))+2*v*Le-ye*q},0)]};var tl=1.0148,Ss=.23185,nl=-.14499,Vs=.02406,mu=tl,ps=5*Ss,Iu=7*nl,ic=9*Vs,vu=1.790857183;function rl(j,q){var G=q*q;return[j,q*(tl+G*G*(Ss+G*(nl+Vs*G)))]}function Es(){return(0,C.Z)(rl).scale(139.319)}function dl(j,q){if(S(q)<f)return[j,0];var G=p(q),ee=j*c(q);return[c(ee)/G,q+(1-T(ee))/G]}function Lu(){return(0,C.Z)(dl).scale(103.74)}rl.invert=function(j,q){q>vu?q=vu:q<-1.790857183&&(q=-1.790857183);var G,ee=q;do{var ye=ee*ee;ee-=G=(ee*(tl+ye*ye*(Ss+ye*(nl+Vs*ye)))-q)/(mu+ye*ye*(ps+ye*(Iu+ic*ye)))}while(S(G)>f);return[j,ee]},dl.invert=function(j,q){if(S(q)<f)return[j,0];var G,ee=j*j+q*q,ye=.5*q,Le=10;do{var V=p(ye),ne=1/T(ye),ce=ee-2*q*ye+ye*ye;ye-=G=(V*ce+2*(ye-q))/(2+ce*ne*ne+2*(ye-q)*V)}while(S(G)>f&&--Le>0);return V=p(ye),[(S(q)<S(ye+1/V)?I(j*V):s(q)*s(j)*(L(S(j*V))+h))/c(ye),ye]};var Fl=e(77338),oa=e(83074);function Ql(j,q){return[j[0]*q[0]+j[1]*q[3],j[0]*q[1]+j[1]*q[4],j[0]*q[2]+j[1]*q[5]+j[2],j[3]*q[0]+j[4]*q[3],j[3]*q[1]+j[4]*q[4],j[3]*q[2]+j[4]*q[5]+j[5]]}function pl(j,q){return[j[0]-q[0],j[1]-q[1]]}function yi(j){return P(j[0]*j[0]+j[1]*j[1])}function No(j,q,G){function ee(ne,ce){var _e,Ae=q(ne,ce),Fe=Ae.project([ne*E,ce*E]);return(_e=Ae.transform)?[_e[0]*Fe[0]+_e[1]*Fe[1]+_e[2],-(_e[3]*Fe[0]+_e[4]*Fe[1]+_e[5])]:(Fe[1]=-Fe[1],Fe)}function ye(ne,ce){var lt,yt,_e=ne.project.invert,Ae=ne.transform,Fe=ce;if(Ae&&(Fe=[(Ae=[(yt=1/((lt=Ae)[0]*lt[4]-lt[1]*lt[3]))*lt[4],-yt*lt[1],yt*(lt[1]*lt[5]-lt[2]*lt[4]),-yt*lt[3],yt*lt[0],yt*(lt[2]*lt[3]-lt[0]*lt[5])])[0]*Fe[0]+Ae[1]*Fe[1]+Ae[2],Ae[3]*Fe[0]+Ae[4]*Fe[1]+Ae[5]]),_e&&ne===function(lt){return q(lt[0]*k,lt[1]*k)}(We=_e(Fe)))return We;for(var We,Ye=ne.children,Je=0,tt=Ye&&Ye.length;Je<tt;++Je)if(We=ye(Ye[Je],ce))return We}(function ne(ce,_e){if(ce.edges=function(Nt){for(var $t=Nt.length,Bt=[],pn=Nt[$t-1],an=0;an<$t;++an)Bt.push([pn,pn=Nt[an]]);return Bt}(ce.face),_e.face){var Ae=ce.shared=function(Nt,$t){for(var Bt,pn,an=Nt.length,en=null,Dn=0;Dn<an;++Dn){Bt=Nt[Dn];for(var In=$t.length;--In>=0;)if(Bt[0]===(pn=$t[In])[0]&&Bt[1]===pn[1]){if(en)return[en,Bt];en=Bt}}}(ce.face,_e.face),Fe=(tt=Ae.map(_e.project),lt=Ae.map(ce.project),yt=pl(tt[1],tt[0]),wt=pl(lt[1],lt[0]),zt=A((Nt=yt)[0]*($t=wt)[1]-Nt[1]*$t[0],Nt[0]*$t[0]+Nt[1]*$t[1]),Ut=yi(yt)/yi(wt),Ql([1,0,tt[0][0],0,1,tt[0][1]],Ql([Ut,0,0,0,Ut,0],Ql([T(zt),c(zt),0,-c(zt),T(zt),0],[1,0,-lt[0][0],0,1,-lt[0][1]]))));ce.transform=_e.transform?Ql(_e.transform,Fe):Fe;for(var We=_e.edges,Ye=0,Je=We.length;Ye<Je;++Ye)Ni(Ae[0],We[Ye][1])&&Ni(Ae[1],We[Ye][0])&&(We[Ye]=ce),Ni(Ae[0],We[Ye][0])&&Ni(Ae[1],We[Ye][1])&&(We[Ye]=ce);for(Ye=0,Je=(We=ce.edges).length;Ye<Je;++Ye)Ni(Ae[0],We[Ye][0])&&Ni(Ae[1],We[Ye][1])&&(We[Ye]=_e),Ni(Ae[0],We[Ye][1])&&Ni(Ae[1],We[Ye][0])&&(We[Ye]=_e)}else ce.transform=_e.transform;var Nt,$t,tt,lt,yt,wt,zt,Ut;return ce.children&&ce.children.forEach(function(Nt){ne(Nt,ce)}),ce})(j,{transform:null}),fi(j)&&(ee.invert=function(ne,ce){var _e=ye(j,[ne,-ce]);return _e&&(_e[0]*=k,_e[1]*=k,_e)});var Le=(0,C.Z)(ee),V=Le.stream;return Le.stream=function(ne){var ce=Le.rotate(),_e=V(ne),Ae=(Le.rotate([0,0]),V(ne));return Le.rotate(ce),_e.sphere=function(){Ae.polygonStart(),Ae.lineStart(),Ai(Ae,j),Ae.lineEnd(),Ae.polygonEnd()},_e},Le.angle(null==G?-30:G*E)}function Ai(j,q,G){var ee,ye,Le=q.edges,V=Le.length,ne={type:"MultiPoint",coordinates:q.face},ce=q.face.filter(function(tt){return 90!==S(tt[1])}),_e=(0,Fl.Z)({type:"MultiPoint",coordinates:ce}),Ae=!1,Fe=-1,We=_e[1][0]-_e[0][0],Ye=180===We||360===We?[(_e[0][0]+_e[1][0])/2,(_e[0][1]+_e[1][1])/2]:(0,et.Z)(ne);if(G)for(;++Fe<V&&Le[Fe]!==G;);++Fe;for(var Je=0;Je<V;++Je)ye=Le[(Je+Fe)%V],Array.isArray(ye)?(Ae||(j.point((ee=(0,oa.Z)(ye[0],Ye)(f))[0],ee[1]),Ae=!0),j.point((ee=(0,oa.Z)(ye[1],Ye)(f))[0],ee[1])):(Ae=!1,ye!==G&&Ai(j,ye,q))}function Ni(j,q){return j&&q&&j[0]===q[0]&&j[1]===q[1]}function fi(j){return j.project.invert||j.children&&j.children.some(fi)}var Si=e(98936),Ho=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Cs=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(j){return j.map(function(q){return Ho[q]})});function yu(j){j=j||function(G){var ee=(0,et.Z)({type:"MultiPoint",coordinates:G});return(0,Si.Z)().scale(1).translate([0,0]).rotate([-ee[0],-ee[1]])};var q=Cs.map(function(G){return{face:G,project:j(G)}});return[-1,0,0,1,0,1,4,5].forEach(function(G,ee){var ye=q[G];ye&&(ye.children||(ye.children=[])).push(q[ee])}),No(q[0],function(G,ee){return q[G<-v/2?ee<0?6:4:G<0?ee<0?2:0:G<v/2?ee<0?3:1:ee<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var il=2/P(3);function ol(j,q){var G=Ot(j,q);return[G[0]*il,G[1]]}function eu(j){j=j||function(G){var ee=(0,et.Z)({type:"MultiPoint",coordinates:G});return(0,C.Z)(ol).translate([0,0]).scale(1).rotate(ee[1]>0?[-ee[0],0]:[180-ee[0],180])};var q=Cs.map(function(G){return{face:G,project:j(G)}});return[-1,0,0,1,0,1,4,5].forEach(function(G,ee){var ye=q[G];ye&&(ye.children||(ye.children=[])).push(q[ee])}),No(q[0],function(G,ee){return q[G<-v/2?ee<0?6:4:G<0?ee<0?2:0:G<v/2?ee<0?3:1:ee<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function ho(j){j=j||function(Le){var V=6===Le.length?(0,et.Z)({type:"MultiPoint",coordinates:Le}):Le[0];return(0,Si.Z)().scale(1).translate([0,0]).rotate([-V[0],-V[1]])};var q=Cs.map(function(Le){for(var V,ne=Le.map(pi),ce=ne.length,_e=ne[ce-1],Ae=[],Fe=0;Fe<ce;++Fe)Ae.push(li([.9486832980505138*_e[0]+.31622776601683794*(V=ne[Fe])[0],.9486832980505138*_e[1]+.31622776601683794*V[1],.9486832980505138*_e[2]+.31622776601683794*V[2]]),li([.9486832980505138*V[0]+.31622776601683794*_e[0],.9486832980505138*V[1]+.31622776601683794*_e[1],.9486832980505138*V[2]+.31622776601683794*_e[2]])),_e=V;return Ae}),G=[],ee=[-1,0,0,1,0,1,4,5];q.forEach(function(Le,V){for(var ne,ce,_e=Cs[V],Ae=_e.length,Fe=G[V]=[],We=0;We<Ae;++We)q.push([_e[We],Le[(2*We+2)%(2*Ae)],Le[(2*We+1)%(2*Ae)]]),ee.push(V),Fe.push((ne=pi(Le[(2*We+2)%(2*Ae)]),ce=pi(Le[(2*We+1)%(2*Ae)]),[ne[1]*ce[2]-ne[2]*ce[1],ne[2]*ce[0]-ne[0]*ce[2],ne[0]*ce[1]-ne[1]*ce[0]]))});var ye=q.map(function(Le){return{project:j(Le),face:Le}});return ee.forEach(function(Le,V){var ne=ye[Le];ne&&(ne.children||(ne.children=[])).push(ye[V])}),No(ye[0],function(Le,V){var ne=T(V),ce=[ne*T(Le),ne*c(Le),c(V)],_e=Le<-v/2?V<0?6:4:Le<0?V<0?2:0:Le<v/2?V<0?3:1:V<0?7:5,Ae=G[_e];return ye[Ur(Ae[0],ce)<0?8+3*_e:Ur(Ae[1],ce)<0?8+3*_e+1:Ur(Ae[2],ce)<0?8+3*_e+2:_e]}).angle(-30).scale(110.625).center([0,45])}function Ur(j,q){for(var G=0,ee=j.length,ye=0;G<ee;++G)ye+=j[G]*q[G];return ye}function li(j){return[A(j[1],j[0])*E,I(o(-1,r(1,j[2])))*E]}function pi(j){var q=j[0]*k,G=j[1]*k,ee=T(G);return[ee*T(q),ee*c(q),c(G)]}function aa(){}function gs(j,q){var G,ee=q.stream;if(!ee)throw new Error("invalid projection");switch(j&&j.type){case"Feature":G=Io;break;case"FeatureCollection":G=Oi;break;default:G=Ci}return G(j,ee)}function Oi(j,q){return{type:"FeatureCollection",features:j.features.map(function(G){return Io(G,q)})}}function Io(j,q){return{type:"Feature",id:j.id,properties:j.properties,geometry:Ci(j.geometry,q)}}function Ci(j,q){if(!j)return null;if("GeometryCollection"===j.type)return ye=q,{type:"GeometryCollection",geometries:j.geometries.map(function(Le){return Ci(Le,ye)})};var ye,G;switch(j.type){case"Point":case"MultiPoint":G=ui;break;case"LineString":case"MultiLineString":G=Ca;break;case"Polygon":case"MultiPolygon":case"Sphere":G=Go;break;default:return null}return(0,bn.Z)(j,q(G)),G.result()}ol.invert=function(j,q){return Ot.invert(j/il,q)};var wo=[],Lo=[],ui={point:function(j,q){wo.push([j,q])},result:function(){var j=wo.length?wo.length<2?{type:"Point",coordinates:wo[0]}:{type:"MultiPoint",coordinates:wo}:null;return wo=[],j}},Ca={lineStart:aa,point:function(j,q){wo.push([j,q])},lineEnd:function(){wo.length&&(Lo.push(wo),wo=[])},result:function(){var j=Lo.length?Lo.length<2?{type:"LineString",coordinates:Lo[0]}:{type:"MultiLineString",coordinates:Lo}:null;return Lo=[],j}},Go={polygonStart:aa,lineStart:aa,point:function(j,q){wo.push([j,q])},lineEnd:function(){var j=wo.length;if(j){do{wo.push(wo[0].slice())}while(++j<4);Lo.push(wo),wo=[]}},polygonEnd:aa,result:function(){if(!Lo.length)return null;var j=[],q=[];return Lo.forEach(function(G){!function(ee){if((ye=ee.length)<4)return!1;for(var ye,Le=0,V=ee[ye-1][1]*ee[0][0]-ee[ye-1][0]*ee[0][1];++Le<ye;)V+=ee[Le-1][1]*ee[Le][0]-ee[Le-1][0]*ee[Le][1];return V<=0}(G)?q.push(G):j.push([G])}),q.forEach(function(G){var ee=G[0];j.some(function(ye){if(function(Le,V){for(var ne=V[0],ce=V[1],_e=!1,Ae=0,Fe=Le.length,We=Fe-1;Ae<Fe;We=Ae++){var Ye=Le[Ae],Je=Ye[0],tt=Ye[1],lt=Le[We],wt=lt[1];tt>ce^wt>ce&&ne<(lt[0]-Je)*(ce-tt)/(wt-tt)+Je&&(_e=!_e)}return _e}(ye[0],ee))return ye.push(G),!0})||j.push([G])}),Lo=[],j.length?j.length>1?{type:"MultiPolygon",coordinates:j}:{type:"Polygon",coordinates:j[0]}:null}};function Qo(j){var q=j(h,0)[0]-j(-h,0)[0];function G(ee,ye){var Le=S(ee)<h,V=j(Le?ee:ee>0?ee-v:ee+v,ye),ne=(V[0]-V[1])*x,ce=(V[0]+V[1])*x;if(Le)return[ne,ce];var _e=q*x,Ae=ne>0^ce>0?-1:1;return[Ae*ne-s(ce)*_e,Ae*ce-s(ne)*_e]}return j.invert&&(G.invert=function(ee,ye){var Le=(ee+ye)*x,V=(ye-ee)*x,ne=S(Le)<.5*q&&S(V)<.5*q;if(!ne){var ce=q*x,_e=Le>0^V>0?-1:1,Ae=-_e*ee+(V>0?1:-1)*ce,Fe=-_e*ye+(Le>0?1:-1)*ce;Le=(-Ae-Fe)*x,V=(Ae-Fe)*x}var We=j.invert(Le,V);return ne||(We[0]+=Le>0?v:-v),We}),(0,C.Z)(G).rotate([-90,-90,45]).clipAngle(179.999)}function Ji(){return Qo(An).scale(176.423)}function al(){return Qo(Rn).scale(111.48)}function sa(j,q){if(!(0<=(q=+q)&&q<=20))throw new Error("invalid digits");function G(_e){var Ae=_e.length,Fe=2,We=new Array(Ae);for(We[0]=+_e[0].toFixed(q),We[1]=+_e[1].toFixed(q);Fe<Ae;)We[Fe]=_e[Fe],++Fe;return We}function ee(_e){return _e.map(G)}function ye(_e){for(var Ae=G(_e[0]),Fe=[Ae],We=1;We<_e.length;We++){var Ye=G(_e[We]);(Ye.length>2||Ye[0]!=Ae[0]||Ye[1]!=Ae[1])&&(Fe.push(Ye),Ae=Ye)}return 1===Fe.length&&_e.length>1&&Fe.push(G(_e[_e.length-1])),Fe}function Le(_e){return _e.map(ye)}function V(_e){if(null==_e)return _e;var Ae;switch(_e.type){case"GeometryCollection":Ae={type:"GeometryCollection",geometries:_e.geometries.map(V)};break;case"Point":Ae={type:"Point",coordinates:G(_e.coordinates)};break;case"MultiPoint":Ae={type:_e.type,coordinates:ee(_e.coordinates)};break;case"LineString":Ae={type:_e.type,coordinates:ye(_e.coordinates)};break;case"MultiLineString":case"Polygon":Ae={type:_e.type,coordinates:Le(_e.coordinates)};break;case"MultiPolygon":Ae={type:"MultiPolygon",coordinates:_e.coordinates.map(Le)};break;default:return _e}return null!=_e.bbox&&(Ae.bbox=_e.bbox),Ae}function ne(_e){var Ae={type:"Feature",properties:_e.properties,geometry:V(_e.geometry)};return null!=_e.id&&(Ae.id=_e.id),null!=_e.bbox&&(Ae.bbox=_e.bbox),Ae}if(null!=j)switch(j.type){case"Feature":return ne(j);case"FeatureCollection":var ce={type:"FeatureCollection",features:j.features.map(ne)};return null!=j.bbox&&(ce.bbox=j.bbox),ce;default:return V(j)}return j}function so(j){var q=c(j);function G(ee,ye){var Le=q?p(ee*q/2)/q:ee/2;if(!ye)return[2*Le,-j];var V=2*u(Le*c(ye)),ne=1/p(ye);return[c(V)*ne,ye+(1-T(V))*ne-j]}return G.invert=function(ee,ye){if(S(ye+=j)<f)return[q?2*u(q*ee/2)/q:ee,0];var Le,V=ee*ee+ye*ye,ne=0,ce=10;do{var _e=p(ne),Ae=1/T(ne),Fe=V-2*ye*ne+ne*ne;ne-=Le=(_e*Fe+2*(ne-ye))/(2+Fe*Ae*Ae+2*(ne-ye)*_e)}while(S(Le)>f&&--ce>0);var We=ee*(_e=p(ne)),Ye=p(S(ye)<S(ne+1/_e)?.5*I(We):.5*L(We)+v/4)/c(ne);return[q?2*u(q*Ye)/q:2*Ye,ne]},G}function Br(){return Ue(so).scale(131.215)}var ea=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function es(j,q){var G,ee=r(18,36*S(q)/v),ye=l(ee),Le=ee-ye,V=(G=ea[ye])[0],ne=G[1],ce=(G=ea[++ye])[0],_e=G[1],Ae=(G=ea[r(19,++ye)])[0],Fe=G[1];return[j*(ce+Le*(Ae-V)/2+Le*Le*(Ae-2*ce+V)/2),(q>0?h:-h)*(_e+Le*(Fe-ne)/2+Le*Le*(Fe-2*_e+ne)/2)]}function ts(){return(0,C.Z)(es).scale(152.63)}function Ds(j,q){var G=function(V){function ne(ce,_e){var Ae=T(_e),Fe=(V-1)/(V-Ae*T(ce));return[Fe*Ae*c(ce),Fe*c(_e)]}return ne.invert=function(ce,_e){var Ae=ce*ce+_e*_e,Fe=P(Ae),We=(V-P(1-Ae*(V+1)/(V-1)))/((V-1)/Fe+Fe/(V-1));return[A(ce*We,Fe*P(1-We*We)),Fe?I(_e*We/Fe):0]},ne}(j);if(!q)return G;var ee=T(q),ye=c(q);function Le(V,ne){var ce=G(V,ne),_e=ce[1],Ae=_e*ye/(j-1)+ee;return[ce[0]*ee/Ae,_e/Ae]}return Le.invert=function(V,ne){var ce=(j-1)/(j-1-ne*ye);return G.invert(ce*V,ce*ne*ee)},Le}function Is(){var j=2,q=0,G=(0,C.r)(Ds),ee=G(j,q);return ee.distance=function(ye){return arguments.length?G(j=+ye,q):j},ee.tilt=function(ye){return arguments.length?G(j,q=ye*k):q*E},ee.scale(432.147).clipAngle(L(1/j)*E-1e-6)}ea.forEach(function(j){j[1]*=1.0144}),es.invert=function(j,q){var G=q/h,ee=90*G,ye=r(18,S(ee/5)),Le=o(0,l(ye));do{var V=ea[Le][1],ne=ea[Le+1][1],ce=ea[r(19,Le+2)][1],_e=ce-V,Ae=ce-2*ne+V,Fe=2*(S(G)-ne)/_e,We=Ae/_e,Ye=Fe*(1-We*Fe*(1-2*We*Fe));if(Ye>=0||1===Le){ee=(q>=0?5:-5)*(Ye+ye);var Je,tt=50;do{Ye=(ye=r(18,S(ee)/5))-(Le=l(ye)),V=ea[Le][1],ne=ea[Le+1][1],ce=ea[r(19,Le+2)][1],ee-=(Je=(q>=0?h:-h)*(ne+Ye*(ce-V)/2+Ye*Ye*(ce-2*ne+V)/2)-q)*E}while(S(Je)>w&&--tt>0);break}}while(--Le>=0);var lt=ea[Le][0],yt=ea[Le+1][0],wt=ea[r(19,Le+2)][0];return[j/(yt+Ye*(wt-lt)/2+Ye*Ye*(wt-2*yt+lt)/2),ee*k]};var xi=1e-4,zr=1e4,Za=-180,ml=Za+xi,Oa=180,qo=Oa-xi,Ma=-90,Aa=Ma+xi,lo=90,Hs=lo-xi;function zo(j){return j.length>0}function Vi(j){return j===Ma||j===lo?[0,j]:[Za,(q=j,Math.floor(q*zr)/zr)];var q}function Gs(j){var q=j[0],G=j[1],ee=!1;return q<=ml?(q=Za,ee=!0):q>=qo&&(q=Oa,ee=!0),G<=Aa?(G=Ma,ee=!0):G>=Hs&&(G=lo,ee=!0),ee?[q,G]:j}function ns(j){return j.map(Gs)}function Po(j,q,G){for(var ee=0,ye=j.length;ee<ye;++ee){var Le=j[ee].slice();G.push({index:-1,polygon:q,ring:Le});for(var V=0,ne=Le.length;V<ne;++V){var ce=Le[V],_e=ce[0],Ae=ce[1];if(_e<=ml||_e>=qo||Ae<=Aa||Ae>=Hs){Le[V]=Gs(ce);for(var Fe=V+1;Fe<ne;++Fe){var We=Le[Fe],Ye=We[0],Je=We[1];if(Ye>ml&&Ye<qo&&Je>Aa&&Je<Hs)break}if(Fe===V+1)continue;if(V){var tt={index:-1,polygon:q,ring:Le.slice(0,V+1)};tt.ring[tt.ring.length-1]=Vi(Ae),G[G.length-1]=tt}else G.pop();if(Fe>=ne)break;G.push({index:-1,polygon:q,ring:Le=Le.slice(Fe-1)}),Le[0]=Vi(Le[0][1]),V=-1,ne=Le.length}}}}function Mi(j){var q,G,ee,ye,Le,V,ne=j.length,ce={},_e={};for(q=0;q<ne;++q)(ee=(G=j[q]).ring[0])[0]!==(Le=G.ring[G.ring.length-1])[0]||ee[1]!==Le[1]?(G.index=q,ce[ee]=_e[Le]=G):(G.polygon.push(G.ring),j[q]=null);for(q=0;q<ne;++q)if(G=j[q]){if(ye=_e[ee=G.ring[0]],V=ce[Le=G.ring[G.ring.length-1]],delete ce[ee],delete _e[Le],ee[0]===Le[0]&&ee[1]===Le[1]){G.polygon.push(G.ring);continue}ye?(delete _e[ee],delete ce[ye.ring[0]],ye.ring.pop(),j[ye.index]=null,G={index:-1,polygon:ye.polygon,ring:ye.ring.concat(G.ring)},ye===V?G.polygon.push(G.ring):(G.index=ne++,j.push(ce[G.ring[0]]=_e[G.ring[G.ring.length-1]]=G))):V?(delete ce[Le],delete _e[V.ring[V.ring.length-1]],G.ring.pop(),G={index:ne++,polygon:V.polygon,ring:G.ring.concat(V.ring)},j[V.index]=null,j.push(ce[G.ring[0]]=_e[G.ring[G.ring.length-1]]=G)):(G.ring.push(G.ring[0]),G.polygon.push(G.ring))}}function vl(j){var q={type:"Feature",geometry:Ra(j.geometry)};return null!=j.id&&(q.id=j.id),null!=j.bbox&&(q.bbox=j.bbox),null!=j.properties&&(q.properties=j.properties),q}function Ra(j){if(null==j)return j;var q,G,ee,ye;switch(j.type){case"GeometryCollection":q={type:"GeometryCollection",geometries:j.geometries.map(Ra)};break;case"Point":q={type:"Point",coordinates:Gs(j.coordinates)};break;case"MultiPoint":case"LineString":q={type:j.type,coordinates:ns(j.coordinates)};break;case"MultiLineString":q={type:"MultiLineString",coordinates:j.coordinates.map(ns)};break;case"Polygon":var Le=[];Po(j.coordinates,Le,G=[]),Mi(G),q={type:"Polygon",coordinates:Le};break;case"MultiPolygon":G=[],ee=-1,ye=j.coordinates.length;for(var V=new Array(ye);++ee<ye;)Po(j.coordinates[ee],V[ee]=[],G);Mi(G),q={type:"MultiPolygon",coordinates:V.filter(zo)};break;default:return j}return null!=j.bbox&&(q.bbox=j.bbox),q}function Wo(j){if(null==j)return j;switch(j.type){case"Feature":return vl(j);case"FeatureCollection":var q={type:"FeatureCollection",features:j.features.map(vl)};return null!=j.bbox&&(q.bbox=j.bbox),q;default:return Ra(j)}}function qs(j,q){var G=p(q/2),ee=c(_*G);return[j*(.74482-.34588*ee*ee),1.70711*G]}function Pu(){return(0,C.Z)(qs).scale(146.153)}function Co(j,q,G){var ee=(0,oa.Z)(q,G),ye=ee(.5),Le=(0,st.Z)([-ye[0],-ye[1]])(q),V=ee.distance/2,ne=-I(c(Le[1]*k)/c(V)),ce=[-ye[0],-ye[1],-(Le[0]>0?v-ne:ne)*E],_e=(0,C.Z)(j(V)).rotate(ce),Ae=(0,st.Z)(ce),Fe=_e.center;return delete _e.rotate,_e.center=function(We){return arguments.length?Fe(Ae(We)):Ae.invert(Fe())},_e.clipAngle(90)}function eo(j){var q=T(j);function G(ee,ye){var Le=(0,Si.M)(ee,ye);return Le[0]*=q,Le}return G.invert=function(ee,ye){return Si.M.invert(ee/q,ye)},G}function rs(){return Ws([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Ws(j,q){return Co(eo,j,q)}function Ls(j){if(!(j*=2))return oe.N;var q=-j/2,G=-q,ee=j*j,ye=p(G),Le=.5/c(G);function V(ne,ce){var _e=L(T(ce)*T(ne-q)),Ae=L(T(ce)*T(ne-G));return[((_e*=_e)-(Ae*=Ae))/(2*j),(ce<0?-1:1)*P(4*ee*Ae-(ee-_e+Ae)*(ee-_e+Ae))/(2*j)]}return V.invert=function(ne,ce){var _e,Ae,Fe=ce*ce,We=T(P(Fe+(_e=ne+q)*_e)),Ye=T(P(Fe+(_e=ne+G)*_e));return[A(Ae=We-Ye,_e=(We+Ye)*ye),(ce<0?-1:1)*L(P(_e*_e+Ae*Ae)*Le)]},V}function Ou(){return yl([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function yl(j,q){return Co(Ls,j,q)}function Nl(j,q){if(S(q)<f)return[j,0];var G=S(q/h),ee=I(G);if(S(j)<f||S(S(q)-h)<f)return[0,s(q)*v*p(ee/2)];var ye=T(ee),Le=S(v/j-j/v)/2,V=Le*Le,ne=ye/(G+ye-1),ce=ne*(2/G-1),_e=ce*ce,Ae=_e+V,Fe=ne-_e,We=V+ne;return[s(j)*v*(Le*Fe+P(V*Fe*Fe-Ae*(ne*ne-_e)))/Ae,s(q)*v*(ce*We-Le*P((V+1)*Ae-We*We))/Ae]}function Zo(){return(0,C.Z)(Nl).scale(79.4183)}function la(j,q){if(S(q)<f)return[j,0];var G=S(q/h),ee=I(G);if(S(j)<f||S(S(q)-h)<f)return[0,s(q)*v*p(ee/2)];var ye=T(ee),Le=S(v/j-j/v)/2,V=Le*Le,ne=ye*(P(1+V)-Le*ye)/(1+V*G*G);return[s(j)*v*ne,s(q)*v*P(1-ne*(2*Le+ne))]}function Yr(){return(0,C.Z)(la).scale(79.4183)}function Kr(j,q){if(S(q)<f)return[j,0];var G=q/h,ee=I(G);if(S(j)<f||S(S(q)-h)<f)return[0,v*p(ee/2)];var ye=(v/j-j/v)/2,Le=G/(1+T(ee));return[v*(s(j)*P(ye*ye+1-Le*Le)-ye),v*Le]}function tu(){return(0,C.Z)(Kr).scale(79.4183)}function ua(j,q){if(!q)return[j,0];var G=S(q);if(!j||G===h)return[0,q];var ee=G/h,ye=ee*ee,Le=(8*ee-ye*(ye+2)-5)/(2*ye*(ee-1)),V=Le*Le,ne=ee*Le,ce=ye+V+2*ne,_e=ee+3*Le,Ae=j/h,Fe=Ae+1/Ae,We=s(S(j)-h)*P(Fe*Fe-4),Ye=We*We,Je=(We*(ce+V-1)+2*P(ce*(ye+V*Ye-1)+(1-ye)*(ye*(_e*_e+4*V)+12*ne*V+4*V*V)))/(4*ce+Ye);return[s(j)*h*Je,s(q)*h*P(1+We*S(Je)-Je*Je)]}function Zs(){return(0,C.Z)(ua).scale(127.16)}function ca(j,q,G,ee){var ye=v/3;j=o(j,f),q=o(q,f),j=r(j,h),q=r(q,v-f),G=o(G,0),G=r(G,100-f);var Le=(ee=o(ee,f))/100,V=L((G/100+1)*T(ye))/ye,ne=c(j)/c(V*h),ce=q/v,_e=P(Le*c(j/2)/c(q/2));return function(Ae,Fe,We,Ye,Je){function tt(lt,yt){var wt=We*c(Ye*yt),zt=P(1-wt*wt),Ut=P(2/(1+zt*T(lt*=Je)));return[Ae*zt*Ut*c(lt),Fe*wt*Ut]}return tt.invert=function(lt,yt){var wt=lt/Ae,zt=yt/Fe,Ut=P(wt*wt+zt*zt),Nt=2*I(Ut/2);return[A(lt*p(Nt),Ae*Ut)/Je,Ut&&I(yt*c(Nt)/(Fe*We*Ut))/Ye]},tt}(_e/P(ce*ne*V),1/(_e*P(ce*ne*V)),ne,V,ce)}function nu(){var j=65*k,q=60*k,G=20,ee=200,ye=(0,C.r)(ca),Le=ye(j,q,G,ee);return Le.poleline=function(V){return arguments.length?ye(j=+V*k,q,G,ee):j*E},Le.parallels=function(V){return arguments.length?ye(j,q=+V*k,G,ee):q*E},Le.inflation=function(V){return arguments.length?ye(j,q,G=+V,ee):G},Le.ratio=function(V){return arguments.length?ye(j,q,G,ee=+V):ee},Le.scale(163.775)}function fa(){return nu().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}qs.invert=function(j,q){var G=q/1.70711,ee=c(_*G);return[j/(.74482-.34588*ee*ee),2*u(G)]},Nl.invert=function(j,q){if(S(q)<f)return[j,0];if(S(j)<f)return[0,h*c(2*u(q/v))];var G=(j/=v)*j,ee=(q/=v)*q,ye=G+ee,Le=ye*ye,V=-S(q)*(1+ye),ne=V-2*ee+G,ce=-2*V+1+2*ee+Le,_e=ee/ce+(2*ne*ne*ne/(ce*ce*ce)-9*V*ne/(ce*ce))/27,Ae=(V-ne*ne/(3*ce))/ce,Fe=2*P(-Ae/3),We=L(3*_e/(Ae*Fe))/3;return[v*(ye-1+P(1+2*(G-ee)+Le))/(2*j),s(q)*v*(-Fe*T(We+v/3)-ne/(3*ce))]},la.invert=function(j,q){if(!j)return[0,h*c(2*u(q/v))];var G=S(j/v),ee=(1-G*G-(q/=v)*q)/(2*G),ye=P(ee*ee+1);return[s(j)*v*(ye-ee),s(q)*h*c(2*A(P((1-2*ee*G)*(ee+ye)-G),P(ye+ee+G)))]},Kr.invert=function(j,q){if(!q)return[j,0];var G=q/v,ee=(v*v*(1-G*G)-j*j)/(2*v*j);return[j?v*(s(j)*P(ee*ee+1)-ee):0,h*c(2*u(G))]},ua.invert=function(j,q){var G;if(!j||!q)return[j,q];q/=v;var ee=s(j)*j/h,ye=(ee*ee-1+4*q*q)/S(ee),Le=ye*ye,V=2*q,ne=50;do{var ce=V*V,_e=(8*V-ce*(ce+2)-5)/(2*ce*(V-1)),Ae=(3*V-ce*V-10)/(2*ce*V),Fe=_e*_e,We=V*_e,Ye=V+_e,Je=Ye*Ye,tt=V+3*_e,lt=-2*Ye*(4*We*Fe+(1-4*ce+3*ce*ce)*(1+Ae)+Fe*(14*ce-6-Le+(8*ce-8-2*Le)*Ae)+We*(12*ce-8+(10*ce-10-Le)*Ae)),yt=P(Je*(ce+Fe*Le-1)+(1-ce)*(ce*(tt*tt+4*Fe)+Fe*(12*We+4*Fe)));V-=G=(ye*(Je+Fe-1)+2*yt-ee*(4*Je+Le))/(ye*(2*_e*Ae+2*Ye*(1+Ae))+lt/yt-8*Ye*(ye*(-1+Fe+Je)+2*yt)*(1+Ae)/(Le+4*Je))}while(G>f&&--ne>0);return[s(j)*(P(ye*ye+4)+ye)*v/4,h*V]};var Fa=4*v+3*P(3),Ys=2*P(2*v*P(3)/Fa),ri=Ce(Ys*P(3)/v,Ys,Fa/6);function Oo(){return(0,C.Z)(ri).scale(176.84)}function ms(j,q){return[j*P(1-3*q*q/(v*v)),q]}function Na(){return(0,C.Z)(ms).scale(152.63)}function xl(j,q){var G=T(q),ee=T(j)*G,ye=1-ee,Le=T(j=A(c(j)*G,-c(q))),V=c(j);return[V*(G=P(1-ee*ee))-Le*ye,-Le*G-V*ye]}function zl(){return(0,C.Z)(xl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Bl(j,q){var G=W(j,q);return[(G[0]+j/h)/2,(G[1]+q)/2]}function $s(){return(0,C.Z)(Bl).scale(158.837)}ms.invert=function(j,q){return[j/P(1-3*q*q/(v*v)),q]},xl.invert=function(j,q){var G=(j*j+q*q)/-2,ee=P(-G*(2+G)),ye=q*G+j*ee,Le=j*G-q*ee,V=P(Le*Le+ye*ye);return[A(ee*ye,V*(1+G)),V?-I(ee*Le/V):0]},Bl.invert=function(j,q){var G=j,ee=q,ye=25;do{var Le,V=T(ee),ne=c(ee),ce=c(2*ee),_e=ne*ne,Ae=V*V,Fe=c(G),We=T(G/2),Ye=c(G/2),Je=Ye*Ye,tt=1-Ae*We*We,lt=tt?L(V*We)*P(Le=1/tt):Le=0,yt=.5*(2*lt*V*Ye+G/h)-j,wt=.5*(lt*ne+ee)-q,zt=.5*Le*(Ae*Je+lt*V*We*_e)+.5/h,Ut=Le*(Fe*ce/4-lt*ne*Ye),Nt=.125*Le*(ce*Ye-lt*ne*Ae*Fe),$t=.5*Le*(_e*We+lt*Je*V)+.5,Bt=Ut*Nt-$t*zt,pn=(wt*Ut-yt*$t)/Bt,an=(yt*Nt-wt*zt)/Bt;G-=pn,ee-=an}while((S(pn)>f||S(an)>f)&&--ye>0);return[G,ee]}},33940:function(ie,B,e){"use strict";function C(){return new S}function S(){this.reset()}e.d(B,{Z:function(){return C}}),S.prototype={constructor:S,reset:function(){this.s=this.t=0},add:function(T){A(u,T,this.t),A(this,u.s,this.s),this.s?this.t+=u.t:this.s=u.t},valueOf:function(){return this.s}};var u=new S;function A(T,m,l){var t=T.s=m+l,o=t-m;T.t=m-(t-o)+(l-o)}},97860:function(ie,B,e){"use strict";e.d(B,{L9:function(){return r},ZP:function(){return w},gL:function(){return a}});var C,S,u,A,T,m=e(33940),l=e(39695),t=e(73182),o=e(72736),r=(0,m.Z)(),n=(0,m.Z)(),a={point:t.Z,lineStart:t.Z,lineEnd:t.Z,polygonStart:function(){r.reset(),a.lineStart=s,a.lineEnd=c},polygonEnd:function(){var v=+r;n.add(v<0?l.BZ+v:v),this.lineStart=this.lineEnd=this.point=t.Z},sphere:function(){n.add(l.BZ)}};function s(){a.point=p}function c(){f(C,S)}function p(v,h){a.point=f,C=v,S=h,u=v*=l.uR,A=(0,l.mC)(h=(h*=l.uR)/2+l.pu),T=(0,l.O$)(h)}function f(v,h){h=(h*=l.uR)/2+l.pu;var _=(v*=l.uR)-u,x=_>=0?1:-1,b=x*_,M=(0,l.mC)(h),d=(0,l.O$)(h),E=T*d,k=A*M+E*(0,l.mC)(b),I=E*x*(0,l.O$)(b);r.add((0,l.fv)(I,k)),u=v,A=M,T=d}function w(v){return n.reset(),(0,o.Z)(v,a),2*n}},77338:function(ie,B,e){"use strict";e.d(B,{Z:function(){return L}});var C,S,u,A,T,m,l,t,o,r,n=e(33940),a=e(97860),s=e(7620),c=e(39695),p=e(72736),f=(0,n.Z)(),w={point:v,lineStart:_,lineEnd:x,polygonStart:function(){w.point=b,w.lineStart=M,w.lineEnd=d,f.reset(),a.gL.polygonStart()},polygonEnd:function(){a.gL.polygonEnd(),w.point=v,w.lineStart=_,w.lineEnd=x,a.L9<0?(C=-(u=180),S=-(A=90)):f>c.Ho?A=90:f<-c.Ho&&(S=-90),r[0]=C,r[1]=u},sphere:function(){C=-(u=180),S=-(A=90)}};function v(P,R){o.push(r=[C=P,u=P]),R<S&&(S=R),R>A&&(A=R)}function h(P,R){var z=(0,s.Og)([P*c.uR,R*c.uR]);if(t){var $=(0,s.T5)(t,z),W=(0,s.T5)([$[1],-$[0],0],$);(0,s.iJ)(W),W=(0,s.Y1)(W);var H,U=P-T,Z=U>0?1:-1,Y=W[0]*c.RW*Z,ae=(0,c.Wn)(U)>180;ae^(Z*T<Y&&Y<Z*P)?(H=W[1]*c.RW)>A&&(A=H):ae^(Z*T<(Y=(Y+360)%360-180)&&Y<Z*P)?(H=-W[1]*c.RW)<S&&(S=H):(R<S&&(S=R),R>A&&(A=R)),ae?P<T?E(C,P)>E(C,u)&&(u=P):E(P,u)>E(C,u)&&(C=P):u>=C?(P<C&&(C=P),P>u&&(u=P)):P>T?E(C,P)>E(C,u)&&(u=P):E(P,u)>E(C,u)&&(C=P)}else o.push(r=[C=P,u=P]);R<S&&(S=R),R>A&&(A=R),t=z,T=P}function _(){w.point=h}function x(){r[0]=C,r[1]=u,w.point=v,t=null}function b(P,R){if(t){var z=P-T;f.add((0,c.Wn)(z)>180?z+(z>0?360:-360):z)}else m=P,l=R;a.gL.point(P,R),h(P,R)}function M(){a.gL.lineStart()}function d(){b(m,l),a.gL.lineEnd(),(0,c.Wn)(f)>c.Ho&&(C=-(u=180)),r[0]=C,r[1]=u,t=null}function E(P,R){return(R-=P)<0?R+360:R}function k(P,R){return P[0]-R[0]}function I(P,R){return P[0]<=P[1]?P[0]<=R&&R<=P[1]:R<P[0]||P[1]<R}function L(P){var R,z,$,N,W,H,U;if(A=u=-(C=S=1/0),o=[],(0,p.Z)(P,w),z=o.length){for(o.sort(k),R=1,W=[$=o[0]];R<z;++R)I($,(N=o[R])[0])||I($,N[1])?(E($[0],N[1])>E($[0],$[1])&&($[1]=N[1]),E(N[0],$[1])>E($[0],$[1])&&($[0]=N[0])):W.push($=N);for(H=-1/0,R=0,$=W[z=W.length-1];R<=z;$=N,++R)(U=E($[1],(N=W[R])[0]))>H&&(H=U,C=N[0],u=$[1])}return o=r=null,C===1/0||S===1/0?[[NaN,NaN],[NaN,NaN]]:[[C,S],[u,A]]}},7620:function(ie,B,e){"use strict";e.d(B,{Og:function(){return u},T:function(){return l},T5:function(){return T},Y1:function(){return S},iJ:function(){return t},j9:function(){return A},s0:function(){return m}});var C=e(39695);function S(o){return[(0,C.fv)(o[1],o[0]),(0,C.ZR)(o[2])]}function u(o){var r=o[0],n=o[1],a=(0,C.mC)(n);return[a*(0,C.mC)(r),a*(0,C.O$)(r),(0,C.O$)(n)]}function A(o,r){return o[0]*r[0]+o[1]*r[1]+o[2]*r[2]}function T(o,r){return[o[1]*r[2]-o[2]*r[1],o[2]*r[0]-o[0]*r[2],o[0]*r[1]-o[1]*r[0]]}function m(o,r){o[0]+=r[0],o[1]+=r[1],o[2]+=r[2]}function l(o,r){return[o[0]*r,o[1]*r,o[2]*r]}function t(o){var r=(0,C._b)(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);o[0]/=r,o[1]/=r,o[2]/=r}},66624:function(ie,B,e){"use strict";e.d(B,{Z:function(){return z}});var C,S,u,A,T,m,l,t,o,r,n,a,s,c,p,f,w=e(39695),v=e(73182),h=e(72736),_={sphere:v.Z,point:x,lineStart:M,lineEnd:k,polygonStart:function(){_.lineStart=I,_.lineEnd=L},polygonEnd:function(){_.lineStart=M,_.lineEnd=k}};function x($,N){$*=w.uR;var W=(0,w.mC)(N*=w.uR);b(W*(0,w.mC)($),W*(0,w.O$)($),(0,w.O$)(N))}function b($,N,W){++C,u+=($-u)/C,A+=(N-A)/C,T+=(W-T)/C}function M(){_.point=d}function d($,N){$*=w.uR;var W=(0,w.mC)(N*=w.uR);c=W*(0,w.mC)($),p=W*(0,w.O$)($),f=(0,w.O$)(N),_.point=E,b(c,p,f)}function E($,N){$*=w.uR;var W=(0,w.mC)(N*=w.uR),H=W*(0,w.mC)($),U=W*(0,w.O$)($),Z=(0,w.O$)(N),Y=(0,w.fv)((0,w._b)((Y=p*Z-f*U)*Y+(Y=f*H-c*Z)*Y+(Y=c*U-p*H)*Y),c*H+p*U+f*Z);S+=Y,m+=Y*(c+(c=H)),l+=Y*(p+(p=U)),t+=Y*(f+(f=Z)),b(c,p,f)}function k(){_.point=x}function I(){_.point=P}function L(){R(a,s),_.point=x}function P($,N){a=$,s=N,$*=w.uR,N*=w.uR,_.point=R;var W=(0,w.mC)(N);c=W*(0,w.mC)($),p=W*(0,w.O$)($),f=(0,w.O$)(N),b(c,p,f)}function R($,N){$*=w.uR;var W=(0,w.mC)(N*=w.uR),H=W*(0,w.mC)($),U=W*(0,w.O$)($),Z=(0,w.O$)(N),Y=p*Z-f*U,ae=f*H-c*Z,re=c*U-p*H,Q=(0,w._b)(Y*Y+ae*ae+re*re),K=(0,w.ZR)(Q),te=Q&&-K/Q;o+=te*Y,r+=te*ae,n+=te*re,S+=K,m+=K*(c+(c=H)),l+=K*(p+(p=U)),t+=K*(f+(f=Z)),b(c,p,f)}function z($){C=S=u=A=T=m=l=t=o=r=n=0,(0,h.Z)($,_);var N=o,W=r,H=n,U=N*N+W*W+H*H;return U<w.aW&&(N=m,W=l,H=t,S<w.Ho&&(N=u,W=A,H=T),(U=N*N+W*W+H*H)<w.aW)?[NaN,NaN]:[(0,w.fv)(W,N)*w.RW,(0,w.ZR)(H/(0,w._b)(U))*w.RW]}},7613:function(ie,B,e){"use strict";e.d(B,{m:function(){return T},Z:function(){return l}});var C=e(7620);function S(t){return function(){return t}}var u=e(39695),A=e(49386);function T(t,o,r,n,a,s){if(r){var c=(0,u.mC)(o),p=(0,u.O$)(o),f=n*r;null==a?(a=o+n*u.BZ,s=o-f/2):(a=m(c,a),s=m(c,s),(n>0?a<s:a>s)&&(a+=n*u.BZ));for(var w,v=a;n>0?v>s:v<s;v-=f)w=(0,C.Y1)([c,-p*(0,u.mC)(v),-p*(0,u.O$)(v)]),t.point(w[0],w[1])}}function m(t,o){(o=(0,C.Og)(o))[0]-=t,(0,C.iJ)(o);var r=(0,u.Kh)(-o[1]);return((-o[2]<0?-r:r)+u.BZ-u.Ho)%u.BZ}function l(){var t,o,r=S([0,0]),n=S(90),a=S(6),s={point:function(p,f){t.push(p=o(p,f)),p[0]*=u.RW,p[1]*=u.RW}};function c(){var p=r.apply(this,arguments),f=n.apply(this,arguments)*u.uR,w=a.apply(this,arguments)*u.uR;return t=[],o=(0,A.I)(-p[0]*u.uR,-p[1]*u.uR,0).invert,T(s,f,w,1),p={type:"Polygon",coordinates:[t]},t=o=null,p}return c.center=function(p){return arguments.length?(r="function"==typeof p?p:S([+p[0],+p[1]]),c):r},c.radius=function(p){return arguments.length?(n="function"==typeof p?p:S(+p),c):n},c.precision=function(p){return arguments.length?(a="function"==typeof p?p:S(+p),c):a},c}},87070:function(ie,B,e){"use strict";var C=e(97023),S=e(39695);B.Z=(0,C.Z)(function(){return!0},function(u){var A,T=NaN,m=NaN,l=NaN;return{lineStart:function(){u.lineStart(),A=1},point:function(t,o){var a,s,c,p,f,w,v,r=t>0?S.pi:-S.pi,n=(0,S.Wn)(t-T);(0,S.Wn)(n-S.pi)<S.Ho?(u.point(T,m=(m+o)/2>0?S.ou:-S.ou),u.point(l,m),u.lineEnd(),u.lineStart(),u.point(r,m),u.point(t,m),A=0):l!==r&&n>=S.pi&&((0,S.Wn)(T-l)<S.Ho&&(T-=l*S.Ho),(0,S.Wn)(t-r)<S.Ho&&(t-=r*S.Ho),s=m,p=o,v=(0,S.O$)((a=T)-(c=t)),m=(0,S.Wn)(v)>S.Ho?(0,S.z4)(((0,S.O$)(s)*(w=(0,S.mC)(p))*(0,S.O$)(c)-(0,S.O$)(p)*(f=(0,S.mC)(s))*(0,S.O$)(a))/(f*w*v)):(s+p)/2,u.point(l,m),u.lineEnd(),u.lineStart(),u.point(r,m),A=0),u.point(T=t,m=o),l=r},lineEnd:function(){u.lineEnd(),T=m=NaN},clean:function(){return 2-A}}},function(u,A,T,m){var l;if(null==u)m.point(-S.pi,l=T*S.ou),m.point(0,l),m.point(S.pi,l),m.point(S.pi,0),m.point(S.pi,-l),m.point(0,-l),m.point(-S.pi,-l),m.point(-S.pi,0),m.point(-S.pi,l);else if((0,S.Wn)(u[0]-A[0])>S.Ho){var t=u[0]<A[0]?S.pi:-S.pi;m.point(-t,l=T*t/2),m.point(0,l),m.point(t,l)}else m.point(A[0],A[1])},[-S.pi,-S.ou])},85272:function(ie,B,e){"use strict";e.d(B,{Z:function(){return S}});var C=e(73182);function S(){var u,A=[];return{point:function(T,m,l){u.push([T,m,l])},lineStart:function(){A.push(u=[])},lineEnd:C.Z,rejoin:function(){A.length>1&&A.push(A.pop().concat(A.shift()))},result:function(){var T=A;return A=[],u=null,T}}}},1457:function(ie,B,e){"use strict";e.d(B,{Z:function(){return m}});var C=e(7620),S=e(7613),u=e(39695),A=e(67108),T=e(97023);function m(l){var t=(0,u.mC)(l),o=6*u.uR,r=t>0,n=(0,u.Wn)(t)>u.Ho;function a(p,f){return(0,u.mC)(p)*(0,u.mC)(f)>t}function s(p,f,w){var v=(0,C.Og)(p),h=(0,C.Og)(f),_=[1,0,0],x=(0,C.T5)(v,h),b=(0,C.j9)(x,x),M=x[0],d=b-M*M;if(!d)return!w&&p;var E=t*b/d,k=-t*M/d,I=(0,C.T5)(_,x),L=(0,C.T)(_,E),P=(0,C.T)(x,k);(0,C.s0)(L,P);var R=I,z=(0,C.j9)(L,R),$=(0,C.j9)(R,R),N=z*z-$*((0,C.j9)(L,L)-1);if(!(N<0)){var W=(0,u._b)(N),H=(0,C.T)(R,(-z-W)/$);if((0,C.s0)(H,L),H=(0,C.Y1)(H),!w)return H;var U,Z=p[0],Y=f[0],ae=p[1],re=f[1];Y<Z&&(U=Z,Z=Y,Y=U);var Q=Y-Z,K=(0,u.Wn)(Q-u.pi)<u.Ho;if(!K&&re<ae&&(U=ae,ae=re,re=U),K||Q<u.Ho?K?ae+re>0^H[1]<((0,u.Wn)(H[0]-Z)<u.Ho?ae:re):ae<=H[1]&&H[1]<=re:Q>u.pi^(Z<=H[0]&&H[0]<=Y)){var te=(0,C.T)(R,(-z+W)/$);return(0,C.s0)(te,L),[H,(0,C.Y1)(te)]}}}function c(p,f){var w=r?l:u.pi-l,v=0;return p<-w?v|=1:p>w&&(v|=2),f<-w?v|=4:f>w&&(v|=8),v}return(0,T.Z)(a,function(p){var f,w,v,h,_;return{lineStart:function(){h=v=!1,_=1},point:function(x,b){var M,d=[x,b],E=a(x,b),k=r?E?0:c(x,b):E?c(x+(x<0?u.pi:-u.pi),b):0;if(!f&&(h=v=E)&&p.lineStart(),E!==v&&(!(M=s(f,d))||(0,A.Z)(f,M)||(0,A.Z)(d,M))&&(d[2]=1),E!==v)_=0,E?(p.lineStart(),M=s(d,f),p.point(M[0],M[1])):(M=s(f,d),p.point(M[0],M[1],2),p.lineEnd()),f=M;else if(n&&f&&r^E){var I;k&w||!(I=s(d,f,!0))||(_=0,r?(p.lineStart(),p.point(I[0][0],I[0][1]),p.point(I[1][0],I[1][1]),p.lineEnd()):(p.point(I[1][0],I[1][1]),p.lineEnd(),p.lineStart(),p.point(I[0][0],I[0][1],3)))}!E||f&&(0,A.Z)(f,d)||p.point(d[0],d[1]),f=d,v=E,w=k},lineEnd:function(){v&&p.lineEnd(),f=null},clean:function(){return _|(h&&v)<<1}}},function(p,f,w,v){(0,S.m)(v,l,o,w,p,f)},r?[0,-l]:[-u.pi,l-u.pi])}},97023:function(ie,B,e){"use strict";e.d(B,{Z:function(){return m}});var C=e(85272),S=e(46225),u=e(39695),A=e(23071),T=e(33064);function m(o,r,n,a){return function(s){var c,p,f,w=r(s),v=(0,C.Z)(),h=r(v),_=!1,x={point:b,lineStart:d,lineEnd:E,polygonStart:function(){x.point=k,x.lineStart=I,x.lineEnd=L,p=[],c=[]},polygonEnd:function(){x.point=b,x.lineStart=d,x.lineEnd=E,p=(0,T.TS)(p);var P=(0,A.Z)(c,a);p.length?(_||(s.polygonStart(),_=!0),(0,S.Z)(p,t,P,n,s)):P&&(_||(s.polygonStart(),_=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),_&&(s.polygonEnd(),_=!1),p=c=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function b(P,R){o(P,R)&&s.point(P,R)}function M(P,R){w.point(P,R)}function d(){x.point=M,w.lineStart()}function E(){x.point=b,w.lineEnd()}function k(P,R){f.push([P,R]),h.point(P,R)}function I(){h.lineStart(),f=[]}function L(){k(f[0][0],f[0][1]),h.lineEnd();var P,R,z,$,N=h.clean(),W=v.result(),H=W.length;if(f.pop(),c.push(f),f=null,H)if(1&N){if((R=(z=W[0]).length-1)>0){for(_||(s.polygonStart(),_=!0),s.lineStart(),P=0;P<R;++P)s.point(($=z[P])[0],$[1]);s.lineEnd()}}else H>1&&2&N&&W.push(W.pop().concat(W.shift())),p.push(W.filter(l))}return x}}function l(o){return o.length>1}function t(o,r){return((o=o.x)[0]<0?o[1]-u.ou-u.Ho:u.ou-o[1])-((r=r.x)[0]<0?r[1]-u.ou-u.Ho:u.ou-r[1])}},87605:function(ie,B,e){"use strict";e.d(B,{Z:function(){return l}});var C=e(39695),S=e(85272),u=e(46225),A=e(33064),T=1e9,m=-T;function l(t,o,r,n){function a(w,v){return t<=w&&w<=r&&o<=v&&v<=n}function s(w,v,h,_){var x=0,b=0;if(null==w||(x=c(w,h))!==(b=c(v,h))||f(w,v)<0^h>0)do{_.point(0===x||3===x?t:r,x>1?n:o)}while((x=(x+h+4)%4)!==b);else _.point(v[0],v[1])}function c(w,v){return(0,C.Wn)(w[0]-t)<C.Ho?v>0?0:3:(0,C.Wn)(w[0]-r)<C.Ho?v>0?2:1:(0,C.Wn)(w[1]-o)<C.Ho?v>0?1:0:v>0?3:2}function p(w,v){return f(w.x,v.x)}function f(w,v){var h=c(w,1),_=c(v,1);return h!==_?h-_:0===h?v[1]-w[1]:1===h?w[0]-v[0]:2===h?w[1]-v[1]:v[0]-w[0]}return function(w){var v,h,_,x,b,M,d,E,k,I,L,P=w,R=(0,S.Z)(),z={point:$,lineStart:function(){z.point=N,h&&h.push(_=[]),I=!0,k=!1,d=E=NaN},lineEnd:function(){v&&(N(x,b),M&&k&&R.rejoin(),v.push(R.result())),z.point=$,k&&P.lineEnd()},polygonStart:function(){P=R,v=[],h=[],L=!0},polygonEnd:function(){var W=function(){for(var Z=0,Y=0,ae=h.length;Y<ae;++Y)for(var re,Q,K=h[Y],te=1,oe=K.length,ue=K[0],fe=ue[0],he=ue[1];te<oe;++te)re=fe,Q=he,fe=(ue=K[te])[0],he=ue[1],Q<=n?he>n&&(fe-re)*(n-Q)>(he-Q)*(t-re)&&++Z:he<=n&&(fe-re)*(n-Q)<(he-Q)*(t-re)&&--Z;return Z}(),H=L&&W,U=(v=(0,A.TS)(v)).length;(H||U)&&(w.polygonStart(),H&&(w.lineStart(),s(null,null,1,w),w.lineEnd()),U&&(0,u.Z)(v,p,W,s,w),w.polygonEnd()),P=w,v=h=_=null}};function $(W,H){a(W,H)&&P.point(W,H)}function N(W,H){var U=a(W,H);if(h&&_.push([W,H]),I)x=W,b=H,M=U,I=!1,U&&(P.lineStart(),P.point(W,H));else if(U&&k)P.point(W,H);else{var Z=[d=Math.max(m,Math.min(T,d)),E=Math.max(m,Math.min(T,E))],Y=[W=Math.max(m,Math.min(T,W)),H=Math.max(m,Math.min(T,H))];!function(ae,re,Q,K,te,oe){var ue,fe=ae[0],he=ae[1],me=0,ke=1,Pe=re[0]-fe,Te=re[1]-he;if(ue=Q-fe,Pe||!(ue>0)){if(ue/=Pe,Pe<0){if(ue<me)return;ue<ke&&(ke=ue)}else if(Pe>0){if(ue>ke)return;ue>me&&(me=ue)}if(ue=te-fe,Pe||!(ue<0)){if(ue/=Pe,Pe<0){if(ue>ke)return;ue>me&&(me=ue)}else if(Pe>0){if(ue<me)return;ue<ke&&(ke=ue)}if(ue=K-he,Te||!(ue>0)){if(ue/=Te,Te<0){if(ue<me)return;ue<ke&&(ke=ue)}else if(Te>0){if(ue>ke)return;ue>me&&(me=ue)}if(ue=oe-he,Te||!(ue<0)){if(ue/=Te,Te<0){if(ue>ke)return;ue>me&&(me=ue)}else if(Te>0){if(ue<me)return;ue<ke&&(ke=ue)}return me>0&&(ae[0]=fe+me*Pe,ae[1]=he+me*Te),ke<1&&(re[0]=fe+ke*Pe,re[1]=he+ke*Te),!0}}}}}(Z,Y,t,o,r,n)?U&&(P.lineStart(),P.point(W,H),L=!1):(k||(P.lineStart(),P.point(Z[0],Z[1])),P.point(Y[0],Y[1]),U||P.lineEnd(),L=!1)}d=W,E=H,k=U}return z}}},46225:function(ie,B,e){"use strict";e.d(B,{Z:function(){return A}});var C=e(67108),S=e(39695);function u(m,l,t,o){this.x=m,this.z=l,this.o=t,this.e=o,this.v=!1,this.n=this.p=null}function A(m,l,t,o,r){var n,a,s=[],c=[];if(m.forEach(function(_){if(!((x=_.length-1)<=0)){var x,b,M=_[0],d=_[x];if((0,C.Z)(M,d)){if(!M[2]&&!d[2]){for(r.lineStart(),n=0;n<x;++n)r.point((M=_[n])[0],M[1]);return void r.lineEnd()}d[0]+=2*S.Ho}s.push(b=new u(M,_,null,!0)),c.push(b.o=new u(M,null,b,!1)),s.push(b=new u(d,_,null,!1)),c.push(b.o=new u(d,null,b,!0))}}),s.length){for(c.sort(l),T(s),T(c),n=0,a=c.length;n<a;++n)c[n].e=t=!t;for(var p,f,w=s[0];;){for(var v=w,h=!0;v.v;)if((v=v.n)===w)return;p=v.z,r.lineStart();do{if(v.v=v.o.v=!0,v.e){if(h)for(n=0,a=p.length;n<a;++n)r.point((f=p[n])[0],f[1]);else o(v.x,v.n.x,1,r);v=v.n}else{if(h)for(n=(p=v.p.z).length-1;n>=0;--n)r.point((f=p[n])[0],f[1]);else o(v.x,v.p.x,-1,r);v=v.p}p=(v=v.o).z,h=!h}while(!v.v);r.lineEnd()}}}function T(m){if(l=m.length){for(var l,t,o=0,r=m[0];++o<l;)r.n=t=m[o],t.p=r,r=t;r.n=t=m[0],t.p=r}}},96059:function(ie,B,e){"use strict";function C(S,u){function A(T,m){return T=S(T,m),u(T[0],T[1])}return S.invert&&u.invert&&(A.invert=function(T,m){return(T=u.invert(T,m))&&S.invert(T[0],T[1])}),A}e.d(B,{Z:function(){return C}})},8593:function(ie,B,e){"use strict";function C(S){return S}e.d(B,{Z:function(){return C}})},27362:function(ie,B,e){"use strict";e.r(B),e.d(B,{geoAlbers:function(){return At},geoAlbersUsa:function(){return Rt},geoArea:function(){return C.ZP},geoAzimuthalEqualArea:function(){return xt.Z},geoAzimuthalEqualAreaRaw:function(){return xt.l},geoAzimuthalEquidistant:function(){return _t.Z},geoAzimuthalEquidistantRaw:function(){return _t.N},geoBounds:function(){return S.Z},geoCentroid:function(){return u.Z},geoCircle:function(){return A.Z},geoClipAntimeridian:function(){return T.Z},geoClipCircle:function(){return m.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return l.Z},geoConicConformal:function(){return ln},geoConicConformalRaw:function(){return nn},geoConicEqualArea:function(){return Mt},geoConicEqualAreaRaw:function(){return Tt},geoConicEquidistant:function(){return Pn},geoConicEquidistantRaw:function(){return kn},geoContains:function(){return W},geoDistance:function(){return E},geoEqualEarth:function(){return vn},geoEqualEarthRaw:function(){return En},geoEquirectangular:function(){return Qt.Z},geoEquirectangularRaw:function(){return Qt.k},geoGnomonic:function(){return Un.Z},geoGnomonicRaw:function(){return Un.M},geoGraticule:function(){return Y},geoGraticule10:function(){return ae},geoIdentity:function(){return On},geoInterpolate:function(){return oe.Z},geoLength:function(){return b},geoMercator:function(){return Wt},geoMercatorRaw:function(){return Gt},geoNaturalEarth1:function(){return Wn.Z},geoNaturalEarth1Raw:function(){return Wn.K},geoOrthographic:function(){return pr.Z},geoOrthographicRaw:function(){return pr.I},geoPath:function(){return Ve},geoProjection:function(){return ut.Z},geoProjectionMutator:function(){return ut.r},geoRotation:function(){return It.Z},geoStereographic:function(){return hr},geoStereographicRaw:function(){return Ar},geoStream:function(){return f.Z},geoTransform:function(){return Hn.Z},geoTransverseMercator:function(){return Rr},geoTransverseMercatorRaw:function(){return fr}});var C=e(97860),S=e(77338),u=e(66624),A=e(7613),T=e(87070),m=e(1457),l=e(87605);function t(){var Xt,rn,wn,Cn=0,Bn=0,or=960,An=500;return wn={stream:function($n){return Xt&&rn===$n?Xt:Xt=(0,l.Z)(Cn,Bn,or,An)(rn=$n)},extent:function($n){return arguments.length?(Cn=+$n[0][0],Bn=+$n[0][1],or=+$n[1][0],An=+$n[1][1],Xt=rn=null,wn):[[Cn,Bn],[or,An]]}}}var o,r,n,a=e(23071),s=e(33940),c=e(39695),p=e(73182),f=e(72736),w=(0,s.Z)(),v={sphere:p.Z,point:p.Z,lineStart:function(){v.point=_,v.lineEnd=h},lineEnd:p.Z,polygonStart:p.Z,polygonEnd:p.Z};function h(){v.point=v.lineEnd=p.Z}function _(Xt,rn){o=Xt*=c.uR,r=(0,c.O$)(rn*=c.uR),n=(0,c.mC)(rn),v.point=x}function x(Xt,rn){Xt*=c.uR;var wn=(0,c.O$)(rn*=c.uR),Cn=(0,c.mC)(rn),Bn=(0,c.Wn)(Xt-o),or=(0,c.mC)(Bn),An=Cn*(0,c.O$)(Bn),$n=n*wn-r*Cn*or,Xn=r*wn+n*Cn*or;w.add((0,c.fv)((0,c._b)(An*An+$n*$n),Xn)),o=Xt,r=wn,n=Cn}function b(Xt){return w.reset(),(0,f.Z)(Xt,v),+w}var M=[null,null],d={type:"LineString",coordinates:M};function E(Xt,rn){return M[0]=Xt,M[1]=rn,b(d)}var k={Feature:function(Xt,rn){return L(Xt.geometry,rn)},FeatureCollection:function(Xt,rn){for(var wn=Xt.features,Cn=-1,Bn=wn.length;++Cn<Bn;)if(L(wn[Cn].geometry,rn))return!0;return!1}},I={Sphere:function(){return!0},Point:function(Xt,rn){return P(Xt.coordinates,rn)},MultiPoint:function(Xt,rn){for(var wn=Xt.coordinates,Cn=-1,Bn=wn.length;++Cn<Bn;)if(P(wn[Cn],rn))return!0;return!1},LineString:function(Xt,rn){return R(Xt.coordinates,rn)},MultiLineString:function(Xt,rn){for(var wn=Xt.coordinates,Cn=-1,Bn=wn.length;++Cn<Bn;)if(R(wn[Cn],rn))return!0;return!1},Polygon:function(Xt,rn){return z(Xt.coordinates,rn)},MultiPolygon:function(Xt,rn){for(var wn=Xt.coordinates,Cn=-1,Bn=wn.length;++Cn<Bn;)if(z(wn[Cn],rn))return!0;return!1},GeometryCollection:function(Xt,rn){for(var wn=Xt.geometries,Cn=-1,Bn=wn.length;++Cn<Bn;)if(L(wn[Cn],rn))return!0;return!1}};function L(Xt,rn){return!(!Xt||!I.hasOwnProperty(Xt.type))&&I[Xt.type](Xt,rn)}function P(Xt,rn){return 0===E(Xt,rn)}function R(Xt,rn){for(var wn,Cn,Bn,or=0,An=Xt.length;or<An;or++){if(0===(Cn=E(Xt[or],rn))||or>0&&(Bn=E(Xt[or],Xt[or-1]))>0&&wn<=Bn&&Cn<=Bn&&(wn+Cn-Bn)*(1-Math.pow((wn-Cn)/Bn,2))<c.aW*Bn)return!0;wn=Cn}return!1}function z(Xt,rn){return!!(0,a.Z)(Xt.map($),N(rn))}function $(Xt){return(Xt=Xt.map(N)).pop(),Xt}function N(Xt){return[Xt[0]*c.uR,Xt[1]*c.uR]}function W(Xt,rn){return(Xt&&k.hasOwnProperty(Xt.type)?k[Xt.type]:L)(Xt,rn)}var H=e(33064);function U(Xt,rn,wn){var Cn=(0,H.w6)(Xt,rn-c.Ho,wn).concat(rn);return function(Bn){return Cn.map(function(or){return[Bn,or]})}}function Z(Xt,rn,wn){var Cn=(0,H.w6)(Xt,rn-c.Ho,wn).concat(rn);return function(Bn){return Cn.map(function(or){return[or,Bn]})}}function Y(){var Xt,rn,wn,Cn,Bn,or,An,$n,Xn,Kt,Rn,Ft,on=10,fn=on,Sn=90,Ln=360,jn=2.5;function bn(){return{type:"MultiLineString",coordinates:sn()}}function sn(){return(0,H.w6)((0,c.mD)(Cn/Sn)*Sn,wn,Sn).map(Rn).concat((0,H.w6)((0,c.mD)($n/Ln)*Ln,An,Ln).map(Ft)).concat((0,H.w6)((0,c.mD)(rn/on)*on,Xt,on).filter(function(un){return(0,c.Wn)(un%Sn)>c.Ho}).map(Xn)).concat((0,H.w6)((0,c.mD)(or/fn)*fn,Bn,fn).filter(function(un){return(0,c.Wn)(un%Ln)>c.Ho}).map(Kt))}return bn.lines=function(){return sn().map(function(un){return{type:"LineString",coordinates:un}})},bn.outline=function(){return{type:"Polygon",coordinates:[Rn(Cn).concat(Ft(An).slice(1),Rn(wn).reverse().slice(1),Ft($n).reverse().slice(1))]}},bn.extent=function(un){return arguments.length?bn.extentMajor(un).extentMinor(un):bn.extentMinor()},bn.extentMajor=function(un){return arguments.length?($n=+un[0][1],An=+un[1][1],(Cn=+un[0][0])>(wn=+un[1][0])&&(un=Cn,Cn=wn,wn=un),$n>An&&(un=$n,$n=An,An=un),bn.precision(jn)):[[Cn,$n],[wn,An]]},bn.extentMinor=function(un){return arguments.length?(or=+un[0][1],Bn=+un[1][1],(rn=+un[0][0])>(Xt=+un[1][0])&&(un=rn,rn=Xt,Xt=un),or>Bn&&(un=or,or=Bn,Bn=un),bn.precision(jn)):[[rn,or],[Xt,Bn]]},bn.step=function(un){return arguments.length?bn.stepMajor(un).stepMinor(un):bn.stepMinor()},bn.stepMajor=function(un){return arguments.length?(Sn=+un[0],Ln=+un[1],bn):[Sn,Ln]},bn.stepMinor=function(un){return arguments.length?(on=+un[0],fn=+un[1],bn):[on,fn]},bn.precision=function(un){return arguments.length?(jn=+un,Xn=U(or,Bn,90),Kt=Z(rn,Xt,jn),Rn=U($n,An,90),Ft=Z(Cn,wn,jn),bn):jn},bn.extentMajor([[-180,-90+c.Ho],[180,90-c.Ho]]).extentMinor([[-180,-80-c.Ho],[180,80+c.Ho]])}function ae(){return Y()()}var re,Q,K,te,oe=e(83074),ue=e(8593),fe=(0,s.Z)(),he=(0,s.Z)(),me={point:p.Z,lineStart:p.Z,lineEnd:p.Z,polygonStart:function(){me.lineStart=ke,me.lineEnd=be},polygonEnd:function(){me.lineStart=me.lineEnd=me.point=p.Z,fe.add((0,c.Wn)(he)),he.reset()},result:function(){var Xt=fe/2;return fe.reset(),Xt}};function ke(){me.point=Pe}function Pe(Xt,rn){me.point=Te,re=K=Xt,Q=te=rn}function Te(Xt,rn){he.add(te*Xt-K*rn),K=Xt,te=rn}function be(){Te(re,Q)}var xe,Ne,Se,Ce,pe=me,de=e(3559),se=0,we=0,Re=0,Ee=0,Ue=0,$e=0,ve=0,Ie=0,De=0,ze={point:Ge,lineStart:He,lineEnd:st,polygonStart:function(){ze.lineStart=mt,ze.lineEnd=at},polygonEnd:function(){ze.point=Ge,ze.lineStart=He,ze.lineEnd=st},result:function(){var Xt=De?[ve/De,Ie/De]:$e?[Ee/$e,Ue/$e]:Re?[se/Re,we/Re]:[NaN,NaN];return se=we=Re=Ee=Ue=$e=ve=Ie=De=0,Xt}};function Ge(Xt,rn){se+=Xt,we+=rn,++Re}function He(){ze.point=Ke}function Ke(Xt,rn){ze.point=et,Ge(Se=Xt,Ce=rn)}function et(Xt,rn){var wn=Xt-Se,Cn=rn-Ce,Bn=(0,c._b)(wn*wn+Cn*Cn);Ee+=Bn*(Se+Xt)/2,Ue+=Bn*(Ce+rn)/2,$e+=Bn,Ge(Se=Xt,Ce=rn)}function st(){ze.point=Ge}function mt(){ze.point=kt}function at(){St(xe,Ne)}function kt(Xt,rn){ze.point=St,Ge(xe=Se=Xt,Ne=Ce=rn)}function St(Xt,rn){var wn=Xt-Se,Cn=rn-Ce,Bn=(0,c._b)(wn*wn+Cn*Cn);Ee+=Bn*(Se+Xt)/2,Ue+=Bn*(Ce+rn)/2,$e+=Bn,ve+=(Bn=Ce*Xt-Se*rn)*(Se+Xt),Ie+=Bn*(Ce+rn),De+=3*Bn,Ge(Se=Xt,Ce=rn)}var gt=ze;function dt(Xt){this._context=Xt}dt.prototype={_radius:4.5,pointRadius:function(Xt){return this._radius=Xt,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(Xt,rn){switch(this._point){case 0:this._context.moveTo(Xt,rn),this._point=1;break;case 1:this._context.lineTo(Xt,rn);break;default:this._context.moveTo(Xt+this._radius,rn),this._context.arc(Xt,rn,this._radius,0,c.BZ)}},result:p.Z};var Ct,Ot,Pt,Ht,jt,nt=(0,s.Z)(),it={point:p.Z,lineStart:function(){it.point=Xe},lineEnd:function(){Ct&&rt(Ot,Pt),it.point=p.Z},polygonStart:function(){Ct=!0},polygonEnd:function(){Ct=null},result:function(){var Xt=+nt;return nt.reset(),Xt}};function Xe(Xt,rn){it.point=rt,Ot=Ht=Xt,Pt=jt=rn}function rt(Xt,rn){nt.add((0,c._b)((Ht-=Xt)*Ht+(jt-=rn)*jt)),Ht=Xt,jt=rn}var ft=it;function vt(){this._string=[]}function je(Xt){return"m0,"+Xt+"a"+Xt+","+Xt+" 0 1,1 0,"+-2*Xt+"a"+Xt+","+Xt+" 0 1,1 0,"+2*Xt+"z"}function Ve(Xt,rn){var wn,Cn,Bn=4.5;function or(An){return An&&("function"==typeof Bn&&Cn.pointRadius(+Bn.apply(this,arguments)),(0,f.Z)(An,wn(Cn))),Cn.result()}return or.area=function(An){return(0,f.Z)(An,wn(pe)),pe.result()},or.measure=function(An){return(0,f.Z)(An,wn(ft)),ft.result()},or.bounds=function(An){return(0,f.Z)(An,wn(de.Z)),de.Z.result()},or.centroid=function(An){return(0,f.Z)(An,wn(gt)),gt.result()},or.projection=function(An){return arguments.length?(wn=null==An?(Xt=null,ue.Z):(Xt=An).stream,or):Xt},or.context=function(An){return arguments.length?(Cn=null==An?(rn=null,new vt):new dt(rn=An),"function"!=typeof Bn&&Cn.pointRadius(Bn),or):rn},or.pointRadius=function(An){return arguments.length?(Bn="function"==typeof An?An:(Cn.pointRadius(+An),+An),or):Bn},or.projection(Xt).context(rn)}vt.prototype={_radius:4.5,_circle:je(4.5),pointRadius:function(Xt){return(Xt=+Xt)!==this._radius&&(this._radius=Xt,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(Xt,rn){switch(this._point){case 0:this._string.push("M",Xt,",",rn),this._point=1;break;case 1:this._string.push("L",Xt,",",rn);break;default:null==this._circle&&(this._circle=je(this._radius)),this._string.push("M",Xt,",",rn,this._circle)}},result:function(){if(this._string.length){var Xt=this._string.join("");return this._string=[],Xt}return null}};var ut=e(15002);function ct(Xt){var rn=0,wn=c.pi/3,Cn=(0,ut.r)(Xt),Bn=Cn(rn,wn);return Bn.parallels=function(or){return arguments.length?Cn(rn=or[0]*c.uR,wn=or[1]*c.uR):[rn*c.RW,wn*c.RW]},Bn}function Tt(Xt,rn){var wn=(0,c.O$)(Xt),Cn=(wn+(0,c.O$)(rn))/2;if((0,c.Wn)(Cn)<c.Ho)return function($n){var Xn=(0,c.mC)($n);function Kt(Rn,Ft){return[Rn*Xn,(0,c.O$)(Ft)/Xn]}return Kt.invert=function(Rn,Ft){return[Rn/Xn,(0,c.ZR)(Ft*Xn)]},Kt}(Xt);var Bn=1+wn*(2*Cn-wn),or=(0,c._b)(Bn)/Cn;function An($n,Xn){var Kt=(0,c._b)(Bn-2*Cn*(0,c.O$)(Xn))/Cn;return[Kt*(0,c.O$)($n*=Cn),or-Kt*(0,c.mC)($n)]}return An.invert=function($n,Xn){var Kt=or-Xn,Rn=(0,c.fv)($n,(0,c.Wn)(Kt))*(0,c.Xx)(Kt);return Kt*Cn<0&&(Rn-=c.pi*(0,c.Xx)($n)*(0,c.Xx)(Kt)),[Rn/Cn,(0,c.ZR)((Bn-($n*$n+Kt*Kt)*Cn*Cn)/(2*Cn))]},An}function Mt(){return ct(Tt).scale(155.424).center([0,33.6442])}function At(){return Mt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var bt=e(47589);function Rt(){var Xt,rn,wn,Cn,Bn,or,An=At(),$n=Mt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Xn=Mt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Kt={point:function(on,fn){or=[on,fn]}};function Rn(on){var fn=on[0],Sn=on[1];return or=null,wn.point(fn,Sn),or||(Cn.point(fn,Sn),or)||(Bn.point(fn,Sn),or)}function Ft(){return Xt=rn=null,Rn}return Rn.invert=function(on){var fn=An.scale(),Sn=An.translate(),Ln=(on[0]-Sn[0])/fn,jn=(on[1]-Sn[1])/fn;return(jn>=.12&&jn<.234&&Ln>=-.425&&Ln<-.214?$n:jn>=.166&&jn<.234&&Ln>=-.214&&Ln<-.115?Xn:An).invert(on)},Rn.stream=function(on){return Xt&&rn===on?Xt:(fn=[An.stream(rn=on),$n.stream(on),Xn.stream(on)],Sn=fn.length,Xt={point:function(Ln,jn){for(var bn=-1;++bn<Sn;)fn[bn].point(Ln,jn)},sphere:function(){for(var Ln=-1;++Ln<Sn;)fn[Ln].sphere()},lineStart:function(){for(var Ln=-1;++Ln<Sn;)fn[Ln].lineStart()},lineEnd:function(){for(var Ln=-1;++Ln<Sn;)fn[Ln].lineEnd()},polygonStart:function(){for(var Ln=-1;++Ln<Sn;)fn[Ln].polygonStart()},polygonEnd:function(){for(var Ln=-1;++Ln<Sn;)fn[Ln].polygonEnd()}});var fn,Sn},Rn.precision=function(on){return arguments.length?(An.precision(on),$n.precision(on),Xn.precision(on),Ft()):An.precision()},Rn.scale=function(on){return arguments.length?(An.scale(on),$n.scale(.35*on),Xn.scale(on),Rn.translate(An.translate())):An.scale()},Rn.translate=function(on){if(!arguments.length)return An.translate();var fn=An.scale(),Sn=+on[0],Ln=+on[1];return wn=An.translate(on).clipExtent([[Sn-.455*fn,Ln-.238*fn],[Sn+.455*fn,Ln+.238*fn]]).stream(Kt),Cn=$n.translate([Sn-.307*fn,Ln+.201*fn]).clipExtent([[Sn-.425*fn+c.Ho,Ln+.12*fn+c.Ho],[Sn-.214*fn-c.Ho,Ln+.234*fn-c.Ho]]).stream(Kt),Bn=Xn.translate([Sn-.205*fn,Ln+.212*fn]).clipExtent([[Sn-.214*fn+c.Ho,Ln+.166*fn+c.Ho],[Sn-.115*fn-c.Ho,Ln+.234*fn-c.Ho]]).stream(Kt),Ft()},Rn.fitExtent=function(on,fn){return(0,bt.qg)(Rn,on,fn)},Rn.fitSize=function(on,fn){return(0,bt.mF)(Rn,on,fn)},Rn.fitWidth=function(on,fn){return(0,bt.V6)(Rn,on,fn)},Rn.fitHeight=function(on,fn){return(0,bt.rf)(Rn,on,fn)},Rn.scale(1070)}var xt=e(12956),_t=e(17889),It=e(49386);function Gt(Xt,rn){return[Xt,(0,c.cM)((0,c.OR)((c.ou+rn)/2))]}function Wt(){return Zt(Gt).scale(961/c.BZ)}function Zt(Xt){var rn,wn,Cn,Bn=(0,ut.Z)(Xt),or=Bn.center,An=Bn.scale,$n=Bn.translate,Xn=Bn.clipExtent,Kt=null;function Rn(){var Ft=c.pi*An(),on=Bn((0,It.Z)(Bn.rotate()).invert([0,0]));return Xn(null==Kt?[[on[0]-Ft,on[1]-Ft],[on[0]+Ft,on[1]+Ft]]:Xt===Gt?[[Math.max(on[0]-Ft,Kt),rn],[Math.min(on[0]+Ft,wn),Cn]]:[[Kt,Math.max(on[1]-Ft,rn)],[wn,Math.min(on[1]+Ft,Cn)]])}return Bn.scale=function(Ft){return arguments.length?(An(Ft),Rn()):An()},Bn.translate=function(Ft){return arguments.length?($n(Ft),Rn()):$n()},Bn.center=function(Ft){return arguments.length?(or(Ft),Rn()):or()},Bn.clipExtent=function(Ft){return arguments.length?(null==Ft?Kt=rn=wn=Cn=null:(Kt=+Ft[0][0],rn=+Ft[0][1],wn=+Ft[1][0],Cn=+Ft[1][1]),Rn()):null==Kt?null:[[Kt,rn],[wn,Cn]]},Rn()}function cn(Xt){return(0,c.OR)((c.ou+Xt)/2)}function nn(Xt,rn){var wn=(0,c.mC)(Xt),Cn=Xt===rn?(0,c.O$)(Xt):(0,c.cM)(wn/(0,c.mC)(rn))/(0,c.cM)(cn(rn)/cn(Xt)),Bn=wn*(0,c.sQ)(cn(Xt),Cn)/Cn;if(!Cn)return Gt;function or(An,$n){Bn>0?$n<-c.ou+c.Ho&&($n=-c.ou+c.Ho):$n>c.ou-c.Ho&&($n=c.ou-c.Ho);var Xn=Bn/(0,c.sQ)(cn($n),Cn);return[Xn*(0,c.O$)(Cn*An),Bn-Xn*(0,c.mC)(Cn*An)]}return or.invert=function(An,$n){var Xn=Bn-$n,Kt=(0,c.Xx)(Cn)*(0,c._b)(An*An+Xn*Xn),Rn=(0,c.fv)(An,(0,c.Wn)(Xn))*(0,c.Xx)(Xn);return Xn*Cn<0&&(Rn-=c.pi*(0,c.Xx)(An)*(0,c.Xx)(Xn)),[Rn/Cn,2*(0,c.z4)((0,c.sQ)(Bn/Kt,1/Cn))-c.ou]},or}function ln(){return ct(nn).scale(109.5).parallels([30,30])}Gt.invert=function(Xt,rn){return[Xt,2*(0,c.z4)((0,c.Qq)(rn))-c.ou]};var Qt=e(97492);function kn(Xt,rn){var wn=(0,c.mC)(Xt),Cn=Xt===rn?(0,c.O$)(Xt):(wn-(0,c.mC)(rn))/(rn-Xt),Bn=wn/Cn+Xt;if((0,c.Wn)(Cn)<c.Ho)return Qt.k;function or(An,$n){var Xn=Bn-$n,Kt=Cn*An;return[Xn*(0,c.O$)(Kt),Bn-Xn*(0,c.mC)(Kt)]}return or.invert=function(An,$n){var Xn=Bn-$n,Kt=(0,c.fv)(An,(0,c.Wn)(Xn))*(0,c.Xx)(Xn);return Xn*Cn<0&&(Kt-=c.pi*(0,c.Xx)(An)*(0,c.Xx)(Xn)),[Kt/Cn,Bn-(0,c.Xx)(Cn)*(0,c._b)(An*An+Xn*Xn)]},or}function Pn(){return ct(kn).scale(131.154).center([0,13.9389])}var Tn=1.340264,tn=-.081106,gn=893e-6,hn=.003796,mn=(0,c._b)(3)/2;function En(Xt,rn){var wn=(0,c.ZR)(mn*(0,c.O$)(rn)),Cn=wn*wn,Bn=Cn*Cn*Cn;return[Xt*(0,c.mC)(wn)/(mn*(Tn+3*tn*Cn+Bn*(7*gn+9*hn*Cn))),wn*(Tn+tn*Cn+Bn*(gn+hn*Cn))]}function vn(){return(0,ut.Z)(En).scale(177.158)}En.invert=function(Xt,rn){for(var wn,Cn=rn,Bn=Cn*Cn,or=Bn*Bn*Bn,An=0;An<12&&(or=(Bn=(Cn-=wn=(Cn*(Tn+tn*Bn+or*(gn+hn*Bn))-rn)/(Tn+3*tn*Bn+or*(7*gn+9*hn*Bn)))*Cn)*Bn*Bn,!((0,c.Wn)(wn)<c.aW));++An);return[mn*Xt*(Tn+3*tn*Bn+or*(7*gn+9*hn*Bn))/(0,c.mC)(Cn),(0,c.ZR)((0,c.O$)(Cn)/mn)]};var Un=e(98936),Hn=e(64684);function On(){var Xt,rn,wn,Cn,Bn,or,An,$n=1,Xn=0,Kt=0,Rn=1,Ft=1,on=0,fn=null,Sn=1,Ln=1,jn=(0,Hn.l)({point:function(xn,_n){var Vn=un([xn,_n]);this.stream.point(Vn[0],Vn[1])}}),bn=ue.Z;function sn(){return Sn=$n*Rn,Ln=$n*Ft,or=An=null,un}function un(xn){var _n=xn[0]*Sn,Vn=xn[1]*Ln;if(on){var Gn=Vn*Xt-_n*rn;_n=_n*Xt+Vn*rn,Vn=Gn}return[_n+Xn,Vn+Kt]}return un.invert=function(xn){var _n=xn[0]-Xn,Vn=xn[1]-Kt;if(on){var Gn=Vn*Xt+_n*rn;_n=_n*Xt-Vn*rn,Vn=Gn}return[_n/Sn,Vn/Ln]},un.stream=function(xn){return or&&An===xn?or:or=jn(bn(An=xn))},un.postclip=function(xn){return arguments.length?(bn=xn,fn=wn=Cn=Bn=null,sn()):bn},un.clipExtent=function(xn){return arguments.length?(bn=null==xn?(fn=wn=Cn=Bn=null,ue.Z):(0,l.Z)(fn=+xn[0][0],wn=+xn[0][1],Cn=+xn[1][0],Bn=+xn[1][1]),sn()):null==fn?null:[[fn,wn],[Cn,Bn]]},un.scale=function(xn){return arguments.length?($n=+xn,sn()):$n},un.translate=function(xn){return arguments.length?(Xn=+xn[0],Kt=+xn[1],sn()):[Xn,Kt]},un.angle=function(xn){return arguments.length?(rn=(0,c.O$)(on=xn%360*c.uR),Xt=(0,c.mC)(on),sn()):on*c.RW},un.reflectX=function(xn){return arguments.length?(Rn=xn?-1:1,sn()):Rn<0},un.reflectY=function(xn){return arguments.length?(Ft=xn?-1:1,sn()):Ft<0},un.fitExtent=function(xn,_n){return(0,bt.qg)(un,xn,_n)},un.fitSize=function(xn,_n){return(0,bt.mF)(un,xn,_n)},un.fitWidth=function(xn,_n){return(0,bt.V6)(un,xn,_n)},un.fitHeight=function(xn,_n){return(0,bt.rf)(un,xn,_n)},un}var Wn=e(26867),pr=e(57962),ar=e(25382);function Ar(Xt,rn){var wn=(0,c.mC)(rn),Cn=1+(0,c.mC)(Xt)*wn;return[wn*(0,c.O$)(Xt)/Cn,(0,c.O$)(rn)/Cn]}function hr(){return(0,ut.Z)(Ar).scale(250).clipAngle(142)}function fr(Xt,rn){return[(0,c.cM)((0,c.OR)((c.ou+rn)/2)),-Xt]}function Rr(){var Xt=Zt(fr),rn=Xt.center,wn=Xt.rotate;return Xt.center=function(Cn){return arguments.length?rn([-Cn[1],Cn[0]]):[(Cn=rn())[1],-Cn[0]]},Xt.rotate=function(Cn){return arguments.length?wn([Cn[0],Cn[1],Cn.length>2?Cn[2]+90:90]):[(Cn=wn())[0],Cn[1],Cn[2]-90]},wn([0,0,90]).scale(159.155)}Ar.invert=(0,ar.O)(function(Xt){return 2*(0,c.z4)(Xt)}),fr.invert=function(Xt,rn){return[-rn,2*(0,c.z4)((0,c.Qq)(Xt))-c.ou]}},83074:function(ie,B,e){"use strict";e.d(B,{Z:function(){return S}});var C=e(39695);function S(u,A){var T=u[0]*C.uR,m=u[1]*C.uR,l=A[0]*C.uR,t=A[1]*C.uR,o=(0,C.mC)(m),r=(0,C.O$)(m),n=(0,C.mC)(t),a=(0,C.O$)(t),s=o*(0,C.mC)(T),c=o*(0,C.O$)(T),p=n*(0,C.mC)(l),f=n*(0,C.O$)(l),w=2*(0,C.ZR)((0,C._b)((0,C.Jy)(t-m)+o*n*(0,C.Jy)(l-T))),v=(0,C.O$)(w),h=w?function(_){var x=(0,C.O$)(_*=w)/v,b=(0,C.O$)(w-_)/v,M=b*s+x*p,d=b*c+x*f,E=b*r+x*a;return[(0,C.fv)(d,M)*C.RW,(0,C.fv)(E,(0,C._b)(M*M+d*d))*C.RW]}:function(){return[T*C.RW,m*C.RW]};return h.distance=w,h}},39695:function(ie,B,e){"use strict";e.d(B,{BZ:function(){return m},Ho:function(){return C},Jy:function(){return M},Kh:function(){return x},O$:function(){return w},OR:function(){return _},Qq:function(){return c},RW:function(){return l},Wn:function(){return o},Xx:function(){return v},ZR:function(){return b},_b:function(){return h},aW:function(){return S},cM:function(){return p},fv:function(){return n},mC:function(){return a},mD:function(){return s},ou:function(){return A},pi:function(){return u},pu:function(){return T},sQ:function(){return f},uR:function(){return t},z4:function(){return r}});var C=1e-6,S=1e-12,u=Math.PI,A=u/2,T=u/4,m=2*u,l=180/u,t=u/180,o=Math.abs,r=Math.atan,n=Math.atan2,a=Math.cos,s=Math.ceil,c=Math.exp,p=Math.log,f=Math.pow,w=Math.sin,v=Math.sign||function(d){return d>0?1:d<0?-1:0},h=Math.sqrt,_=Math.tan;function x(d){return d>1?0:d<-1?u:Math.acos(d)}function b(d){return d>1?A:d<-1?-A:Math.asin(d)}function M(d){return(d=w(d/2))*d}},73182:function(ie,B,e){"use strict";function C(){}e.d(B,{Z:function(){return C}})},3559:function(ie,B,e){"use strict";var C=e(73182),S=1/0,u=S,A=-S,T=A;B.Z={point:function(l,t){l<S&&(S=l),l>A&&(A=l),t<u&&(u=t),t>T&&(T=t)},lineStart:C.Z,lineEnd:C.Z,polygonStart:C.Z,polygonEnd:C.Z,result:function(){var l=[[S,u],[A,T]];return A=T=-(u=S=1/0),l}}},67108:function(ie,B,e){"use strict";e.d(B,{Z:function(){return S}});var C=e(39695);function S(u,A){return(0,C.Wn)(u[0]-A[0])<C.Ho&&(0,C.Wn)(u[1]-A[1])<C.Ho}},23071:function(ie,B,e){"use strict";e.d(B,{Z:function(){return m}});var C=e(33940),S=e(7620),u=e(39695),A=(0,C.Z)();function T(l){return(0,u.Wn)(l[0])<=u.pi?l[0]:(0,u.Xx)(l[0])*(((0,u.Wn)(l[0])+u.pi)%u.BZ-u.pi)}function m(l,t){var o=T(t),r=t[1],n=(0,u.O$)(r),a=[(0,u.O$)(o),-(0,u.mC)(o),0],s=0,c=0;A.reset(),1===n?r=u.ou+u.Ho:-1===n&&(r=-u.ou-u.Ho);for(var p=0,f=l.length;p<f;++p)if(v=(w=l[p]).length)for(var w,v,h=w[v-1],_=T(h),x=h[1]/2+u.pu,b=(0,u.O$)(x),M=(0,u.mC)(x),d=0;d<v;++d,_=k,b=L,M=P,h=E){var E=w[d],k=T(E),I=E[1]/2+u.pu,L=(0,u.O$)(I),P=(0,u.mC)(I),R=k-_,z=R>=0?1:-1,$=z*R,N=$>u.pi,W=b*L;if(A.add((0,u.fv)(W*z*(0,u.O$)($),M*P+W*(0,u.mC)($))),s+=N?R+z*u.BZ:R,N^_>=o^k>=o){var H=(0,S.T5)((0,S.Og)(h),(0,S.Og)(E));(0,S.iJ)(H);var U=(0,S.T5)(a,H);(0,S.iJ)(U);var Z=(N^R>=0?-1:1)*(0,u.ZR)(U[2]);(r>Z||r===Z&&(H[0]||H[1]))&&(c+=N^R>=0?1:-1)}}return(s<-u.Ho||s<u.Ho&&A<-u.Ho)^1&c}},25382:function(ie,B,e){"use strict";e.d(B,{O:function(){return u},W:function(){return S}});var C=e(39695);function S(A){return function(T,m){var l=(0,C.mC)(T),t=(0,C.mC)(m),o=A(l*t);return[o*t*(0,C.O$)(T),o*(0,C.O$)(m)]}}function u(A){return function(T,m){var l=(0,C._b)(T*T+m*m),t=A(l),o=(0,C.O$)(t),r=(0,C.mC)(t);return[(0,C.fv)(T*o,l*r),(0,C.ZR)(l&&m*o/l)]}}},12956:function(ie,B,e){"use strict";e.d(B,{Z:function(){return T},l:function(){return A}});var C=e(39695),S=e(25382),u=e(15002),A=(0,S.W)(function(m){return(0,C._b)(2/(1+m))});function T(){return(0,u.Z)(A).scale(124.75).clipAngle(179.999)}A.invert=(0,S.O)(function(m){return 2*(0,C.ZR)(m/2)})},17889:function(ie,B,e){"use strict";e.d(B,{N:function(){return A},Z:function(){return T}});var C=e(39695),S=e(25382),u=e(15002),A=(0,S.W)(function(m){return(m=(0,C.Kh)(m))&&m/(0,C.O$)(m)});function T(){return(0,u.Z)(A).scale(79.4188).clipAngle(179.999)}A.invert=(0,S.O)(function(m){return m})},97492:function(ie,B,e){"use strict";e.d(B,{Z:function(){return u},k:function(){return S}});var C=e(15002);function S(A,T){return[A,T]}function u(){return(0,C.Z)(S).scale(152.63)}S.invert=S},47589:function(ie,B,e){"use strict";e.d(B,{V6:function(){return m},mF:function(){return T},qg:function(){return A},rf:function(){return l}});var C=e(72736),S=e(3559);function u(t,o,r){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=n&&t.clipExtent(null),(0,C.Z)(r,t.stream(S.Z)),o(S.Z.result()),null!=n&&t.clipExtent(n),t}function A(t,o,r){return u(t,function(n){var a=o[1][0]-o[0][0],s=o[1][1]-o[0][1],c=Math.min(a/(n[1][0]-n[0][0]),s/(n[1][1]-n[0][1])),p=+o[0][0]+(a-c*(n[1][0]+n[0][0]))/2,f=+o[0][1]+(s-c*(n[1][1]+n[0][1]))/2;t.scale(150*c).translate([p,f])},r)}function T(t,o,r){return A(t,[[0,0],o],r)}function m(t,o,r){return u(t,function(n){var a=+o,s=a/(n[1][0]-n[0][0]),c=(a-s*(n[1][0]+n[0][0]))/2,p=-s*n[0][1];t.scale(150*s).translate([c,p])},r)}function l(t,o,r){return u(t,function(n){var a=+o,s=a/(n[1][1]-n[0][1]),c=-s*n[0][0],p=(a-s*(n[1][1]+n[0][1]))/2;t.scale(150*s).translate([c,p])},r)}},98936:function(ie,B,e){"use strict";e.d(B,{M:function(){return A},Z:function(){return T}});var C=e(39695),S=e(25382),u=e(15002);function A(m,l){var t=(0,C.mC)(l),o=(0,C.mC)(m)*t;return[t*(0,C.O$)(m)/o,(0,C.O$)(l)/o]}function T(){return(0,u.Z)(A).scale(144.049).clipAngle(60)}A.invert=(0,S.O)(C.z4)},15002:function(ie,B,e){"use strict";e.d(B,{Z:function(){return w},r:function(){return v}});var C=e(87070),S=e(1457),u=e(87605),A=e(96059),T=e(8593),m=e(39695),l=e(49386),t=e(64684),o=e(47589),r=e(7620),n=16,a=(0,m.mC)(30*m.uR);function s(h,_){return+_?function(x,b){function M(d,E,k,I,L,P,R,z,$,N,W,H,U,Z){var Y=R-d,ae=z-E,re=Y*Y+ae*ae;if(re>4*b&&U--){var Q=I+N,K=L+W,te=P+H,oe=(0,m._b)(Q*Q+K*K+te*te),ue=(0,m.ZR)(te/=oe),fe=(0,m.Wn)((0,m.Wn)(te)-1)<m.Ho||(0,m.Wn)(k-$)<m.Ho?(k+$)/2:(0,m.fv)(K,Q),he=x(fe,ue),me=he[0],ke=he[1],Pe=me-d,Te=ke-E,be=ae*Pe-Y*Te;(be*be/re>b||(0,m.Wn)((Y*Pe+ae*Te)/re-.5)>.3||I*N+L*W+P*H<a)&&(M(d,E,k,I,L,P,me,ke,fe,Q/=oe,K/=oe,te,U,Z),Z.point(me,ke),M(me,ke,fe,Q,K,te,R,z,$,N,W,H,U,Z))}}return function(d){var E,k,I,L,P,R,z,$,N,W,H,U,Z={point:Y,lineStart:ae,lineEnd:Q,polygonStart:function(){d.polygonStart(),Z.lineStart=K},polygonEnd:function(){d.polygonEnd(),Z.lineStart=ae}};function Y(ue,fe){ue=x(ue,fe),d.point(ue[0],ue[1])}function ae(){$=NaN,Z.point=re,d.lineStart()}function re(ue,fe){var he=(0,r.Og)([ue,fe]),me=x(ue,fe);M($,N,z,W,H,U,$=me[0],N=me[1],z=ue,W=he[0],H=he[1],U=he[2],n,d),d.point($,N)}function Q(){Z.point=Y,d.lineEnd()}function K(){ae(),Z.point=te,Z.lineEnd=oe}function te(ue,fe){re(E=ue,fe),k=$,I=N,L=W,P=H,R=U,Z.point=re}function oe(){M($,N,z,W,H,U,k,I,E,L,P,R,n,d),Z.lineEnd=Q,Q()}return Z}}(h,_):(x=h,(0,t.l)({point:function(b,M){b=x(b,M),this.stream.point(b[0],b[1])}}));var x}var c=(0,t.l)({point:function(h,_){this.stream.point(h*m.uR,_*m.uR)}});function p(h,_,x,b,M){function d(E,k){return[_+h*(E*=b),x-h*(k*=M)]}return d.invert=function(E,k){return[(E-_)/h*b,(x-k)/h*M]},d}function f(h,_,x,b,M,d){var E=(0,m.mC)(d),k=(0,m.O$)(d),I=E*h,L=k*h,P=E/h,R=k/h,z=(k*x-E*_)/h,$=(k*_+E*x)/h;function N(W,H){return[I*(W*=b)-L*(H*=M)+_,x-L*W-I*H]}return N.invert=function(W,H){return[b*(P*W-R*H+z),M*($-R*W-P*H)]},N}function w(h){return v(function(){return h})()}function v(h){var _,x,b,M,d,E,k,I,L,P,R=150,z=480,$=250,N=0,W=0,H=0,U=0,Z=0,Y=0,ae=1,re=1,Q=null,K=C.Z,te=null,oe=T.Z,ue=.5;function fe(Pe){return I(Pe[0]*m.uR,Pe[1]*m.uR)}function he(Pe){return(Pe=I.invert(Pe[0],Pe[1]))&&[Pe[0]*m.RW,Pe[1]*m.RW]}function me(){var Pe=f(R,0,0,ae,re,Y).apply(null,_(N,W)),Te=(Y?f:p)(R,z-Pe[0],$-Pe[1],ae,re,Y);return x=(0,l.I)(H,U,Z),k=(0,A.Z)(_,Te),I=(0,A.Z)(x,k),E=s(k,ue),ke()}function ke(){return L=P=null,fe}return fe.stream=function(Pe){return L&&P===Pe?L:L=c((Te=x,(0,t.l)({point:function(be,xe){var Ne=Te(be,xe);return this.stream.point(Ne[0],Ne[1])}}))(K(E(oe(P=Pe)))));var Te},fe.preclip=function(Pe){return arguments.length?(K=Pe,Q=void 0,ke()):K},fe.postclip=function(Pe){return arguments.length?(oe=Pe,te=b=M=d=null,ke()):oe},fe.clipAngle=function(Pe){return arguments.length?(K=+Pe?(0,S.Z)(Q=Pe*m.uR):(Q=null,C.Z),ke()):Q*m.RW},fe.clipExtent=function(Pe){return arguments.length?(oe=null==Pe?(te=b=M=d=null,T.Z):(0,u.Z)(te=+Pe[0][0],b=+Pe[0][1],M=+Pe[1][0],d=+Pe[1][1]),ke()):null==te?null:[[te,b],[M,d]]},fe.scale=function(Pe){return arguments.length?(R=+Pe,me()):R},fe.translate=function(Pe){return arguments.length?(z=+Pe[0],$=+Pe[1],me()):[z,$]},fe.center=function(Pe){return arguments.length?(N=Pe[0]%360*m.uR,W=Pe[1]%360*m.uR,me()):[N*m.RW,W*m.RW]},fe.rotate=function(Pe){return arguments.length?(H=Pe[0]%360*m.uR,U=Pe[1]%360*m.uR,Z=Pe.length>2?Pe[2]%360*m.uR:0,me()):[H*m.RW,U*m.RW,Z*m.RW]},fe.angle=function(Pe){return arguments.length?(Y=Pe%360*m.uR,me()):Y*m.RW},fe.reflectX=function(Pe){return arguments.length?(ae=Pe?-1:1,me()):ae<0},fe.reflectY=function(Pe){return arguments.length?(re=Pe?-1:1,me()):re<0},fe.precision=function(Pe){return arguments.length?(E=s(k,ue=Pe*Pe),ke()):(0,m._b)(ue)},fe.fitExtent=function(Pe,Te){return(0,o.qg)(fe,Pe,Te)},fe.fitSize=function(Pe,Te){return(0,o.mF)(fe,Pe,Te)},fe.fitWidth=function(Pe,Te){return(0,o.V6)(fe,Pe,Te)},fe.fitHeight=function(Pe,Te){return(0,o.rf)(fe,Pe,Te)},function(){return _=h.apply(this,arguments),fe.invert=_.invert&&he,me()}}},26867:function(ie,B,e){"use strict";e.d(B,{K:function(){return u},Z:function(){return A}});var C=e(15002),S=e(39695);function u(T,m){var l=m*m,t=l*l;return[T*(.8707-.131979*l+t*(t*(.003971*l-.001529*t)-.013791)),m*(1.007226+l*(.015085+t*(.028874*l-.044475-.005916*t)))]}function A(){return(0,C.Z)(u).scale(175.295)}u.invert=function(T,m){var l,t=m,o=25;do{var r=t*t,n=r*r;t-=l=(t*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))-m)/(1.007226+r*(.045255+n*(.259866*r-.311325-.06507600000000001*n)))}while((0,S.Wn)(l)>S.Ho&&--o>0);return[T/(.8707+(r=t*t)*(r*(r*r*r*(.003971-.001529*r)-.013791)-.131979)),t]}},57962:function(ie,B,e){"use strict";e.d(B,{I:function(){return A},Z:function(){return T}});var C=e(39695),S=e(25382),u=e(15002);function A(m,l){return[(0,C.mC)(l)*(0,C.O$)(m),(0,C.O$)(l)]}function T(){return(0,u.Z)(A).scale(249.5).clipAngle(90+C.Ho)}A.invert=(0,S.O)(C.ZR)},49386:function(ie,B,e){"use strict";e.d(B,{I:function(){return A},Z:function(){return t}});var C=e(96059),S=e(39695);function u(o,r){return[(0,S.Wn)(o)>S.pi?o+Math.round(-o/S.BZ)*S.BZ:o,r]}function A(o,r,n){return(o%=S.BZ)?r||n?(0,C.Z)(m(o),l(r,n)):m(o):r||n?l(r,n):u}function T(o){return function(r,n){return[(r+=o)>S.pi?r-S.BZ:r<-S.pi?r+S.BZ:r,n]}}function m(o){var r=T(o);return r.invert=T(-o),r}function l(o,r){var n=(0,S.mC)(o),a=(0,S.O$)(o),s=(0,S.mC)(r),c=(0,S.O$)(r);function p(f,w){var v=(0,S.mC)(w),h=(0,S.mC)(f)*v,_=(0,S.O$)(f)*v,x=(0,S.O$)(w),b=x*n+h*a;return[(0,S.fv)(_*s-b*c,h*n-x*a),(0,S.ZR)(b*s+_*c)]}return p.invert=function(f,w){var v=(0,S.mC)(w),h=(0,S.mC)(f)*v,_=(0,S.O$)(f)*v,x=(0,S.O$)(w),b=x*s-_*c;return[(0,S.fv)(_*s+x*c,h*n+b*a),(0,S.ZR)(b*n-h*a)]},p}function t(o){function r(n){return(n=o(n[0]*S.uR,n[1]*S.uR))[0]*=S.RW,n[1]*=S.RW,n}return o=A(o[0]*S.uR,o[1]*S.uR,o.length>2?o[2]*S.uR:0),r.invert=function(n){return(n=o.invert(n[0]*S.uR,n[1]*S.uR))[0]*=S.RW,n[1]*=S.RW,n},r}u.invert=u},72736:function(ie,B,e){"use strict";function C(l,t){l&&u.hasOwnProperty(l.type)&&u[l.type](l,t)}e.d(B,{Z:function(){return m}});var S={Feature:function(l,t){C(l.geometry,t)},FeatureCollection:function(l,t){for(var o=l.features,r=-1,n=o.length;++r<n;)C(o[r].geometry,t)}},u={Sphere:function(l,t){t.sphere()},Point:function(l,t){t.point((l=l.coordinates)[0],l[1],l[2])},MultiPoint:function(l,t){for(var o=l.coordinates,r=-1,n=o.length;++r<n;)t.point((l=o[r])[0],l[1],l[2])},LineString:function(l,t){A(l.coordinates,t,0)},MultiLineString:function(l,t){for(var o=l.coordinates,r=-1,n=o.length;++r<n;)A(o[r],t,0)},Polygon:function(l,t){T(l.coordinates,t)},MultiPolygon:function(l,t){for(var o=l.coordinates,r=-1,n=o.length;++r<n;)T(o[r],t)},GeometryCollection:function(l,t){for(var o=l.geometries,r=-1,n=o.length;++r<n;)C(o[r],t)}};function A(l,t,o){var r,n=-1,a=l.length-o;for(t.lineStart();++n<a;)t.point((r=l[n])[0],r[1],r[2]);t.lineEnd()}function T(l,t){var o=-1,r=l.length;for(t.polygonStart();++o<r;)A(l[o],t,1);t.polygonEnd()}function m(l,t){l&&S.hasOwnProperty(l.type)?S[l.type](l,t):C(l,t)}},64684:function(ie,B,e){"use strict";function C(A){return{stream:S(A)}}function S(A){return function(T){var m=new u;for(var l in A)m[l]=A[l];return m.stream=T,m}}function u(){}e.d(B,{Z:function(){return C},l:function(){return S}}),u.prototype={constructor:u,point:function(A,T){this.stream.point(A,T)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(ie,B,e){"use strict";function C(de,se){return de.parent===se.parent?1:2}function S(de,se){return de+se.x}function u(de,se){return Math.max(de,se.y)}function A(){var de=C,se=1,we=1,Re=!1;function Ee(Ue){var $e,ve=0;Ue.eachAfter(function(He){var et,Ke=He.children;Ke?(He.x=(et=Ke).reduce(S,0)/et.length,He.y=function(et){return 1+et.reduce(u,0)}(Ke)):(He.x=$e?ve+=de(He,$e):0,He.y=0,$e=He)});var Ie=function(He){for(var Ke;Ke=He.children;)He=Ke[0];return He}(Ue),De=function(He){for(var Ke;Ke=He.children;)He=Ke[Ke.length-1];return He}(Ue),ze=Ie.x-de(Ie,De)/2,Ge=De.x+de(De,Ie)/2;return Ue.eachAfter(Re?function(He){He.x=(He.x-Ue.x)*se,He.y=(Ue.y-He.y)*we}:function(He){He.x=(He.x-ze)/(Ge-ze)*se,He.y=(1-(Ue.y?He.y/Ue.y:1))*we})}return Ee.separation=function(Ue){return arguments.length?(de=Ue,Ee):de},Ee.size=function(Ue){return arguments.length?(Re=!1,se=+Ue[0],we=+Ue[1],Ee):Re?null:[se,we]},Ee.nodeSize=function(Ue){return arguments.length?(Re=!0,se=+Ue[0],we=+Ue[1],Ee):Re?[se,we]:null},Ee}function T(de){var se=0,we=de.children,Re=we&&we.length;if(Re)for(;--Re>=0;)se+=we[Re].value;else se=1;de.value=se}function m(de,se){var we,Re,Ee,Ue,$e,ve=new r(de),Ie=+de.value&&(ve.value=de.value),De=[ve];for(null==se&&(se=l);we=De.pop();)if(Ie&&(we.value=+we.data.value),(Ee=se(we.data))&&($e=Ee.length))for(we.children=new Array($e),Ue=$e-1;Ue>=0;--Ue)De.push(Re=we.children[Ue]=new r(Ee[Ue])),Re.parent=we,Re.depth=we.depth+1;return ve.eachBefore(o)}function l(de){return de.children}function t(de){de.data=de.data.data}function o(de){var se=0;do{de.height=se}while((de=de.parent)&&de.height<++se)}function r(de){this.data=de,this.depth=this.height=0,this.parent=null}e.r(B),e.d(B,{cluster:function(){return A},hierarchy:function(){return m},pack:function(){return R},packEnclose:function(){return a},packSiblings:function(){return E},partition:function(){return U},stratify:function(){return K},tree:function(){return ke},treemap:function(){return Ne},treemapBinary:function(){return Se},treemapDice:function(){return H},treemapResquarify:function(){return pe},treemapSlice:function(){return Pe},treemapSliceDice:function(){return Ce},treemapSquarify:function(){return xe}}),r.prototype=m.prototype={constructor:r,count:function(){return this.eachAfter(T)},each:function(de){var se,we,Re,Ee,Ue=this,$e=[Ue];do{for(se=$e.reverse(),$e=[];Ue=se.pop();)if(de(Ue),we=Ue.children)for(Re=0,Ee=we.length;Re<Ee;++Re)$e.push(we[Re])}while($e.length);return this},eachAfter:function(de){for(var se,we,Re,Ee=this,Ue=[Ee],$e=[];Ee=Ue.pop();)if($e.push(Ee),se=Ee.children)for(we=0,Re=se.length;we<Re;++we)Ue.push(se[we]);for(;Ee=$e.pop();)de(Ee);return this},eachBefore:function(de){for(var se,we,Re=this,Ee=[Re];Re=Ee.pop();)if(de(Re),se=Re.children)for(we=se.length-1;we>=0;--we)Ee.push(se[we]);return this},sum:function(de){return this.eachAfter(function(se){for(var we=+de(se.data)||0,Re=se.children,Ee=Re&&Re.length;--Ee>=0;)we+=Re[Ee].value;se.value=we})},sort:function(de){return this.eachBefore(function(se){se.children&&se.children.sort(de)})},path:function(de){for(var se=this,we=function(Ue,$e){if(Ue===$e)return Ue;var ve=Ue.ancestors(),Ie=$e.ancestors(),De=null;for(Ue=ve.pop(),$e=Ie.pop();Ue===$e;)De=Ue,Ue=ve.pop(),$e=Ie.pop();return De}(se,de),Re=[se];se!==we;)Re.push(se=se.parent);for(var Ee=Re.length;de!==we;)Re.splice(Ee,0,de),de=de.parent;return Re},ancestors:function(){for(var de=this,se=[de];de=de.parent;)se.push(de);return se},descendants:function(){var de=[];return this.each(function(se){de.push(se)}),de},leaves:function(){var de=[];return this.eachBefore(function(se){se.children||de.push(se)}),de},links:function(){var de=this,se=[];return de.each(function(we){we!==de&&se.push({source:we.parent,target:we})}),se},copy:function(){return m(this).eachBefore(t)}};var n=Array.prototype.slice;function a(de){for(var se,we,Re=0,Ee=(de=function($e){for(var ve,Ie,De=$e.length;De;)Ie=Math.random()*De--|0,ve=$e[De],$e[De]=$e[Ie],$e[Ie]=ve;return $e}(n.call(de))).length,Ue=[];Re<Ee;)se=de[Re],we&&p(we,se)?++Re:(we=w(Ue=s(Ue,se)),Re=0);return we}function s(de,se){var we,Re;if(f(se,de))return[se];for(we=0;we<de.length;++we)if(c(se,de[we])&&f(v(de[we],se),de))return[de[we],se];for(we=0;we<de.length-1;++we)for(Re=we+1;Re<de.length;++Re)if(c(v(de[we],de[Re]),se)&&c(v(de[we],se),de[Re])&&c(v(de[Re],se),de[we])&&f(h(de[we],de[Re],se),de))return[de[we],de[Re],se];throw new Error}function c(de,se){var we=de.r-se.r,Re=se.x-de.x,Ee=se.y-de.y;return we<0||we*we<Re*Re+Ee*Ee}function p(de,se){var we=de.r-se.r+1e-6,Re=se.x-de.x,Ee=se.y-de.y;return we>0&&we*we>Re*Re+Ee*Ee}function f(de,se){for(var we=0;we<se.length;++we)if(!p(de,se[we]))return!1;return!0}function w(de){switch(de.length){case 1:return{x:(se=de[0]).x,y:se.y,r:se.r};case 2:return v(de[0],de[1]);case 3:return h(de[0],de[1],de[2])}var se}function v(de,se){var we=de.x,Re=de.y,Ee=de.r,Ue=se.x,$e=se.y,ve=se.r,Ie=Ue-we,De=$e-Re,ze=ve-Ee,Ge=Math.sqrt(Ie*Ie+De*De);return{x:(we+Ue+Ie/Ge*ze)/2,y:(Re+$e+De/Ge*ze)/2,r:(Ge+Ee+ve)/2}}function h(de,se,we){var Re=de.x,Ee=de.y,Ue=de.r,$e=se.x,ve=se.y,Ie=se.r,De=we.x,ze=we.y,Ge=we.r,He=Re-$e,Ke=Re-De,et=Ee-ve,st=Ee-ze,mt=Ie-Ue,at=Ge-Ue,kt=Re*Re+Ee*Ee-Ue*Ue,St=kt-$e*$e-ve*ve+Ie*Ie,gt=kt-De*De-ze*ze+Ge*Ge,dt=Ke*et-He*st,Ct=(et*gt-st*St)/(2*dt)-Re,Ot=(st*mt-et*at)/dt,Pt=(Ke*St-He*gt)/(2*dt)-Ee,Ht=(He*at-Ke*mt)/dt,jt=Ot*Ot+Ht*Ht-1,nt=2*(Ue+Ct*Ot+Pt*Ht),it=Ct*Ct+Pt*Pt-Ue*Ue,Xe=-(jt?(nt+Math.sqrt(nt*nt-4*jt*it))/(2*jt):it/nt);return{x:Re+Ct+Ot*Xe,y:Ee+Pt+Ht*Xe,r:Xe}}function _(de,se,we){var Re,Ee,Ue,$e,ve=de.x-se.x,Ie=de.y-se.y,De=ve*ve+Ie*Ie;De?(Ee=se.r+we.r,$e=de.r+we.r,(Ee*=Ee)>($e*=$e)?(Re=(De+$e-Ee)/(2*De),Ue=Math.sqrt(Math.max(0,$e/De-Re*Re)),we.x=de.x-Re*ve-Ue*Ie,we.y=de.y-Re*Ie+Ue*ve):(Re=(De+Ee-$e)/(2*De),Ue=Math.sqrt(Math.max(0,Ee/De-Re*Re)),we.x=se.x+Re*ve-Ue*Ie,we.y=se.y+Re*Ie+Ue*ve)):(we.x=se.x+we.r,we.y=se.y)}function x(de,se){var we=de.r+se.r-1e-6,Re=se.x-de.x,Ee=se.y-de.y;return we>0&&we*we>Re*Re+Ee*Ee}function b(de){var se=de._,we=de.next._,Re=se.r+we.r,Ee=(se.x*we.r+we.x*se.r)/Re,Ue=(se.y*we.r+we.y*se.r)/Re;return Ee*Ee+Ue*Ue}function M(de){this._=de,this.next=null,this.previous=null}function d(de){if(!(Ee=de.length))return 0;var se,we,Re,Ee,Ue,$e,ve,Ie,De,ze,Ge;if((se=de[0]).x=0,se.y=0,!(Ee>1))return se.r;if(se.x=-(we=de[1]).r,we.x=se.r,we.y=0,!(Ee>2))return se.r+we.r;_(we,se,Re=de[2]),se=new M(se),we=new M(we),Re=new M(Re),se.next=Re.previous=we,we.next=se.previous=Re,Re.next=we.previous=se;e:for(ve=3;ve<Ee;++ve){_(se._,we._,Re=de[ve]),Re=new M(Re),Ie=we.next,De=se.previous,ze=we._.r,Ge=se._.r;do{if(ze<=Ge){if(x(Ie._,Re._)){se.next=we=Ie,we.previous=se,--ve;continue e}ze+=Ie._.r,Ie=Ie.next}else{if(x(De._,Re._)){(se=De).next=we,we.previous=se,--ve;continue e}Ge+=De._.r,De=De.previous}}while(Ie!==De.next);for(Re.previous=se,Re.next=we,se.next=we.previous=we=Re,Ue=b(se);(Re=Re.next)!==we;)($e=b(Re))<Ue&&(se=Re,Ue=$e);we=se.next}for(se=[we._],Re=we;(Re=Re.next)!==we;)se.push(Re._);for(Re=a(se),ve=0;ve<Ee;++ve)(se=de[ve]).x-=Re.x,se.y-=Re.y;return Re.r}function E(de){return d(de),de}function k(de){if("function"!=typeof de)throw new Error;return de}function I(){return 0}function L(de){return function(){return de}}function P(de){return Math.sqrt(de.value)}function R(){var de=null,se=1,we=1,Re=I;function Ee(Ue){return Ue.x=se/2,Ue.y=we/2,de?Ue.eachBefore(z(de)).eachAfter($(Re,.5)).eachBefore(N(1)):Ue.eachBefore(z(P)).eachAfter($(I,1)).eachAfter($(Re,Ue.r/Math.min(se,we))).eachBefore(N(Math.min(se,we)/(2*Ue.r))),Ue}return Ee.radius=function(Ue){return arguments.length?(de=null==($e=Ue)?null:k($e),Ee):de;var $e},Ee.size=function(Ue){return arguments.length?(se=+Ue[0],we=+Ue[1],Ee):[se,we]},Ee.padding=function(Ue){return arguments.length?(Re="function"==typeof Ue?Ue:L(+Ue),Ee):Re},Ee}function z(de){return function(se){se.children||(se.r=Math.max(0,+de(se)||0))}}function $(de,se){return function(we){if(Re=we.children){var Re,Ee,Ue,$e=Re.length,ve=de(we)*se||0;if(ve)for(Ee=0;Ee<$e;++Ee)Re[Ee].r+=ve;if(Ue=d(Re),ve)for(Ee=0;Ee<$e;++Ee)Re[Ee].r-=ve;we.r=Ue+ve}}}function N(de){return function(se){var we=se.parent;se.r*=de,we&&(se.x=we.x+de*se.x,se.y=we.y+de*se.y)}}function W(de){de.x0=Math.round(de.x0),de.y0=Math.round(de.y0),de.x1=Math.round(de.x1),de.y1=Math.round(de.y1)}function H(de,se,we,Re,Ee){for(var Ue,$e=de.children,ve=-1,Ie=$e.length,De=de.value&&(Re-se)/de.value;++ve<Ie;)(Ue=$e[ve]).y0=we,Ue.y1=Ee,Ue.x0=se,Ue.x1=se+=Ue.value*De}function U(){var de=1,se=1,we=0,Re=!1;function Ee(Ue){var ve,Ie,$e=Ue.height+1;return Ue.x0=Ue.y0=we,Ue.x1=de,Ue.y1=se/$e,Ue.eachBefore((ve=se,Ie=$e,function(De){De.children&&H(De,De.x0,ve*(De.depth+1)/Ie,De.x1,ve*(De.depth+2)/Ie);var ze=De.x0,Ge=De.y0,He=De.x1-we,Ke=De.y1-we;He<ze&&(ze=He=(ze+He)/2),Ke<Ge&&(Ge=Ke=(Ge+Ke)/2),De.x0=ze,De.y0=Ge,De.x1=He,De.y1=Ke})),Re&&Ue.eachBefore(W),Ue}return Ee.round=function(Ue){return arguments.length?(Re=!!Ue,Ee):Re},Ee.size=function(Ue){return arguments.length?(de=+Ue[0],se=+Ue[1],Ee):[de,se]},Ee.padding=function(Ue){return arguments.length?(we=+Ue,Ee):we},Ee}var Z="$",Y={depth:-1},ae={};function re(de){return de.id}function Q(de){return de.parentId}function K(){var de=re,se=Q;function we(Re){var Ee,Ue,$e,ve,Ie,De,ze,Ge=Re.length,He=new Array(Ge),Ke={};for(Ue=0;Ue<Ge;++Ue)Ie=He[Ue]=new r(Ee=Re[Ue]),null!=(De=de(Ee,Ue,Re))&&(De+="")&&(Ke[ze=Z+(Ie.id=De)]=ze in Ke?ae:Ie);for(Ue=0;Ue<Ge;++Ue)if(Ie=He[Ue],null!=(De=se(Re[Ue],Ue,Re))&&(De+="")){if(!(ve=Ke[Z+De]))throw new Error("missing: "+De);if(ve===ae)throw new Error("ambiguous: "+De);ve.children?ve.children.push(Ie):ve.children=[Ie],Ie.parent=ve}else{if($e)throw new Error("multiple roots");$e=Ie}if(!$e)throw new Error("no root");if($e.parent=Y,$e.eachBefore(function(et){et.depth=et.parent.depth+1,--Ge}).eachBefore(o),$e.parent=null,Ge>0)throw new Error("cycle");return $e}return we.id=function(Re){return arguments.length?(de=k(Re),we):de},we.parentId=function(Re){return arguments.length?(se=k(Re),we):se},we}function te(de,se){return de.parent===se.parent?1:2}function oe(de){var se=de.children;return se?se[0]:de.t}function ue(de){var se=de.children;return se?se[se.length-1]:de.t}function fe(de,se,we){var Re=we/(se.i-de.i);se.c-=Re,se.s+=we,de.c+=Re,se.z+=we,se.m+=we}function he(de,se,we){return de.a.parent===se.parent?de.a:we}function me(de,se){this._=de,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=se}function ke(){var de=te,se=1,we=1,Re=null;function Ee(Ie){var De=function(at){for(var kt,St,gt,dt,Ct,Ot=new me(at,0),Pt=[Ot];kt=Pt.pop();)if(gt=kt._.children)for(kt.children=new Array(Ct=gt.length),dt=Ct-1;dt>=0;--dt)Pt.push(St=kt.children[dt]=new me(gt[dt],dt)),St.parent=kt;return(Ot.parent=new me(null,0)).children=[Ot],Ot}(Ie);if(De.eachAfter(Ue),De.parent.m=-De.z,De.eachBefore($e),Re)Ie.eachBefore(ve);else{var ze=Ie,Ge=Ie,He=Ie;Ie.eachBefore(function(at){at.x<ze.x&&(ze=at),at.x>Ge.x&&(Ge=at),at.depth>He.depth&&(He=at)});var Ke=ze===Ge?1:de(ze,Ge)/2,et=Ke-ze.x,st=se/(Ge.x+Ke+et),mt=we/(He.depth||1);Ie.eachBefore(function(at){at.x=(at.x+et)*st,at.y=at.depth*mt})}return Ie}function Ue(Ie){var De=Ie.children,ze=Ie.parent.children,Ge=Ie.i?ze[Ie.i-1]:null;if(De){!function(Ke){for(var et,st=0,mt=0,at=Ke.children,kt=at.length;--kt>=0;)(et=at[kt]).z+=st,et.m+=st,st+=et.s+(mt+=et.c)}(Ie);var He=(De[0].z+De[De.length-1].z)/2;Ge?(Ie.z=Ge.z+de(Ie._,Ge._),Ie.m=Ie.z-He):Ie.z=He}else Ge&&(Ie.z=Ge.z+de(Ie._,Ge._));Ie.parent.A=function(Ke,et,st){if(et){for(var mt,at=Ke,kt=Ke,St=et,gt=at.parent.children[0],dt=at.m,Ct=kt.m,Ot=St.m,Pt=gt.m;St=ue(St),at=oe(at),St&&at;)gt=oe(gt),(kt=ue(kt)).a=Ke,(mt=St.z+Ot-at.z-dt+de(St._,at._))>0&&(fe(he(St,Ke,st),Ke,mt),dt+=mt,Ct+=mt),Ot+=St.m,dt+=at.m,Pt+=gt.m,Ct+=kt.m;St&&!ue(kt)&&(kt.t=St,kt.m+=Ot-Ct),at&&!oe(gt)&&(gt.t=at,gt.m+=dt-Pt,st=Ke)}return st}(Ie,Ge,Ie.parent.A||ze[0])}function $e(Ie){Ie._.x=Ie.z+Ie.parent.m,Ie.m+=Ie.parent.m}function ve(Ie){Ie.x*=se,Ie.y=Ie.depth*we}return Ee.separation=function(Ie){return arguments.length?(de=Ie,Ee):de},Ee.size=function(Ie){return arguments.length?(Re=!1,se=+Ie[0],we=+Ie[1],Ee):Re?null:[se,we]},Ee.nodeSize=function(Ie){return arguments.length?(Re=!0,se=+Ie[0],we=+Ie[1],Ee):Re?[se,we]:null},Ee}function Pe(de,se,we,Re,Ee){for(var Ue,$e=de.children,ve=-1,Ie=$e.length,De=de.value&&(Ee-we)/de.value;++ve<Ie;)(Ue=$e[ve]).x0=se,Ue.x1=Re,Ue.y0=we,Ue.y1=we+=Ue.value*De}me.prototype=Object.create(r.prototype);var Te=(1+Math.sqrt(5))/2;function be(de,se,we,Re,Ee,Ue){for(var $e,ve,Ie,De,ze,Ge,He,Ke,et,st,mt,at=[],kt=se.children,St=0,gt=0,dt=kt.length,Ct=se.value;St<dt;){Ie=Ee-we,De=Ue-Re;do{ze=kt[gt++].value}while(!ze&&gt<dt);for(Ge=He=ze,mt=ze*ze*(st=Math.max(De/Ie,Ie/De)/(Ct*de)),et=Math.max(He/mt,mt/Ge);gt<dt;++gt){if(ze+=ve=kt[gt].value,ve<Ge&&(Ge=ve),ve>He&&(He=ve),mt=ze*ze*st,(Ke=Math.max(He/mt,mt/Ge))>et){ze-=ve;break}et=Ke}at.push($e={value:ze,dice:Ie<De,children:kt.slice(St,gt)}),$e.dice?H($e,we,Re,Ee,Ct?Re+=De*ze/Ct:Ue):Pe($e,we,Re,Ct?we+=Ie*ze/Ct:Ee,Ue),Ct-=ze,St=gt}return at}var xe=function de(se){function we(Re,Ee,Ue,$e,ve){be(se,Re,Ee,Ue,$e,ve)}return we.ratio=function(Re){return de((Re=+Re)>1?Re:1)},we}(Te);function Ne(){var de=xe,se=!1,we=1,Re=1,Ee=[0],Ue=I,$e=I,ve=I,Ie=I,De=I;function ze(He){return He.x0=He.y0=0,He.x1=we,He.y1=Re,He.eachBefore(Ge),Ee=[0],se&&He.eachBefore(W),He}function Ge(He){var Ke=Ee[He.depth],et=He.x0+Ke,st=He.y0+Ke,mt=He.x1-Ke,at=He.y1-Ke;mt<et&&(et=mt=(et+mt)/2),at<st&&(st=at=(st+at)/2),He.x0=et,He.y0=st,He.x1=mt,He.y1=at,He.children&&(Ke=Ee[He.depth+1]=Ue(He)/2,et+=De(He)-Ke,st+=$e(He)-Ke,(mt-=ve(He)-Ke)<et&&(et=mt=(et+mt)/2),(at-=Ie(He)-Ke)<st&&(st=at=(st+at)/2),de(He,et,st,mt,at))}return ze.round=function(He){return arguments.length?(se=!!He,ze):se},ze.size=function(He){return arguments.length?(we=+He[0],Re=+He[1],ze):[we,Re]},ze.tile=function(He){return arguments.length?(de=k(He),ze):de},ze.padding=function(He){return arguments.length?ze.paddingInner(He).paddingOuter(He):ze.paddingInner()},ze.paddingInner=function(He){return arguments.length?(Ue="function"==typeof He?He:L(+He),ze):Ue},ze.paddingOuter=function(He){return arguments.length?ze.paddingTop(He).paddingRight(He).paddingBottom(He).paddingLeft(He):ze.paddingTop()},ze.paddingTop=function(He){return arguments.length?($e="function"==typeof He?He:L(+He),ze):$e},ze.paddingRight=function(He){return arguments.length?(ve="function"==typeof He?He:L(+He),ze):ve},ze.paddingBottom=function(He){return arguments.length?(Ie="function"==typeof He?He:L(+He),ze):Ie},ze.paddingLeft=function(He){return arguments.length?(De="function"==typeof He?He:L(+He),ze):De},ze}function Se(de,se,we,Re,Ee){var Ue,$e,ve=de.children,Ie=ve.length,De=new Array(Ie+1);for(De[0]=$e=Ue=0;Ue<Ie;++Ue)De[Ue+1]=$e+=ve[Ue].value;!function ze(Ge,He,Ke,et,st,mt,at){if(Ge>=He-1){var kt=ve[Ge];return kt.x0=et,kt.y0=st,kt.x1=mt,void(kt.y1=at)}for(var St=De[Ge],gt=Ke/2+St,dt=Ge+1,Ct=He-1;dt<Ct;){var Ot=dt+Ct>>>1;De[Ot]<gt?dt=Ot+1:Ct=Ot}gt-De[dt-1]<De[dt]-gt&&Ge+1<dt&&--dt;var Pt=De[dt]-St,Ht=Ke-Pt;if(mt-et>at-st){var jt=(et*Ht+mt*Pt)/Ke;ze(Ge,dt,Pt,et,st,jt,at),ze(dt,He,Ht,jt,st,mt,at)}else{var nt=(st*Ht+at*Pt)/Ke;ze(Ge,dt,Pt,et,st,mt,nt),ze(dt,He,Ht,et,nt,mt,at)}}(0,Ie,de.value,se,we,Re,Ee)}function Ce(de,se,we,Re,Ee){(1&de.depth?Pe:H)(de,se,we,Re,Ee)}var pe=function de(se){function we(Re,Ee,Ue,$e,ve){if((Ie=Re._squarify)&&Ie.ratio===se)for(var Ie,De,ze,Ge,He,Ke=-1,et=Ie.length,st=Re.value;++Ke<et;){for(ze=(De=Ie[Ke]).children,Ge=De.value=0,He=ze.length;Ge<He;++Ge)De.value+=ze[Ge].value;De.dice?H(De,Ee,Ue,$e,Ue+=(ve-Ue)*De.value/st):Pe(De,Ee,Ue,Ee+=($e-Ee)*De.value/st,ve),st-=De.value}else Re._squarify=Ie=be(se,Re,Ee,Ue,$e,ve),Ie.ratio=se}return we.ratio=function(Re){return de((Re=+Re)>1?Re:1)},we}(Te)},45879:function(ie,B,e){"use strict";e.d(B,{h5:function(){return p}});var C=Math.PI,S=2*C,u=1e-6,A=S-u;function T(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function m(){return new T}T.prototype=m.prototype={constructor:T,moveTo:function(f,w){this._+="M"+(this._x0=this._x1=+f)+","+(this._y0=this._y1=+w)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(f,w){this._+="L"+(this._x1=+f)+","+(this._y1=+w)},quadraticCurveTo:function(f,w,v,h){this._+="Q"+ +f+","+ +w+","+(this._x1=+v)+","+(this._y1=+h)},bezierCurveTo:function(f,w,v,h,_,x){this._+="C"+ +f+","+ +w+","+ +v+","+ +h+","+(this._x1=+_)+","+(this._y1=+x)},arcTo:function(f,w,v,h,_){var x=this._x1,b=this._y1,M=(v=+v)-(f=+f),d=(h=+h)-(w=+w),E=x-f,k=b-w,I=E*E+k*k;if((_=+_)<0)throw new Error("negative radius: "+_);if(null===this._x1)this._+="M"+(this._x1=f)+","+(this._y1=w);else if(I>u)if(Math.abs(k*M-d*E)>u&&_){var L=v-x,P=h-b,R=M*M+d*d,z=L*L+P*P,$=Math.sqrt(R),N=Math.sqrt(I),W=_*Math.tan((C-Math.acos((R+I-z)/(2*$*N)))/2),H=W/N,U=W/$;Math.abs(H-1)>u&&(this._+="L"+(f+H*E)+","+(w+H*k)),this._+="A"+_+","+_+",0,0,"+ +(k*L>E*P)+","+(this._x1=f+U*M)+","+(this._y1=w+U*d)}else this._+="L"+(this._x1=f)+","+(this._y1=w)},arc:function(f,w,v,h,_,x){f=+f,w=+w,x=!!x;var b=(v=+v)*Math.cos(h),M=v*Math.sin(h),d=f+b,E=w+M,k=1^x,I=x?h-_:_-h;if(v<0)throw new Error("negative radius: "+v);null===this._x1?this._+="M"+d+","+E:(Math.abs(this._x1-d)>u||Math.abs(this._y1-E)>u)&&(this._+="L"+d+","+E),v&&(I<0&&(I=I%S+S),I>A?this._+="A"+v+","+v+",0,1,"+k+","+(f-b)+","+(w-M)+"A"+v+","+v+",0,1,"+k+","+(this._x1=d)+","+(this._y1=E):I>u&&(this._+="A"+v+","+v+",0,"+ +(I>=C)+","+k+","+(this._x1=f+v*Math.cos(_))+","+(this._y1=w+v*Math.sin(_))))},rect:function(f,w,v,h){this._+="M"+(this._x0=this._x1=+f)+","+(this._y0=this._y1=+w)+"h"+ +v+"v"+ +h+"h"+-v+"Z"},toString:function(){return this._}};var l=m,t=Array.prototype.slice;function o(f){return function(){return f}}function r(f){return f[0]}function n(f){return f[1]}function a(f){return f.source}function s(f){return f.target}function c(f,w,v,h,_){f.moveTo(w,v),f.bezierCurveTo(w=(w+h)/2,v,w,_,h,_)}function p(){return function(f){var w=a,v=s,h=r,_=n,x=null;function b(){var M,d=t.call(arguments),E=w.apply(this,d),k=v.apply(this,d);if(x||(x=M=l()),f(x,+h.apply(this,(d[0]=E,d)),+_.apply(this,d),+h.apply(this,(d[0]=k,d)),+_.apply(this,d)),M)return x=null,M+""||null}return b.source=function(M){return arguments.length?(w=M,b):w},b.target=function(M){return arguments.length?(v=M,b):v},b.x=function(M){return arguments.length?(h="function"==typeof M?M:o(+M),b):h},b.y=function(M){return arguments.length?(_="function"==typeof M?M:o(+M),b):_},b.context=function(M){return arguments.length?(x=M??null,b):x},b}(c)}},84096:function(ie,B,e){"use strict";e.d(B,{i$:function(){return a},Dq:function(){return r},g0:function(){return s}});var C=e(58176),S=e(48480),u=e(59879),A=e(82301),T=e(34823),m=e(79791);function l(dt){if(0<=dt.y&&dt.y<100){var Ct=new Date(-1,dt.m,dt.d,dt.H,dt.M,dt.S,dt.L);return Ct.setFullYear(dt.y),Ct}return new Date(dt.y,dt.m,dt.d,dt.H,dt.M,dt.S,dt.L)}function t(dt){if(0<=dt.y&&dt.y<100){var Ct=new Date(Date.UTC(-1,dt.m,dt.d,dt.H,dt.M,dt.S,dt.L));return Ct.setUTCFullYear(dt.y),Ct}return new Date(Date.UTC(dt.y,dt.m,dt.d,dt.H,dt.M,dt.S,dt.L))}function o(dt,Ct,Ot){return{y:dt,m:Ct,d:Ot,H:0,M:0,S:0,L:0}}function r(dt){var Ct=dt.dateTime,Ot=dt.date,Pt=dt.time,Ht=dt.periods,jt=dt.days,nt=dt.shortDays,it=dt.months,Xe=dt.shortMonths,rt=_(Ht),ft=x(Ht),vt=_(jt),je=x(jt),Ve=_(nt),ut=x(nt),ct=_(it),Tt=x(it),Mt=_(Xe),At=x(Xe),bt={a:function(Wt){return nt[Wt.getDay()]},A:function(Wt){return jt[Wt.getDay()]},b:function(Wt){return Xe[Wt.getMonth()]},B:function(Wt){return it[Wt.getMonth()]},c:null,d:K,e:K,f:he,H:te,I:oe,j:ue,L:fe,m:me,M:ke,p:function(Wt){return Ht[+(Wt.getHours()>=12)]},q:function(Wt){return 1+~~(Wt.getMonth()/3)},Q:St,s:gt,S:Pe,u:Te,U:be,V:xe,w:Ne,W:Se,x:null,X:null,y:Ce,Y:pe,Z:de,"%":kt},Rt={a:function(Wt){return nt[Wt.getUTCDay()]},A:function(Wt){return jt[Wt.getUTCDay()]},b:function(Wt){return Xe[Wt.getUTCMonth()]},B:function(Wt){return it[Wt.getUTCMonth()]},c:null,d:se,e:se,f:$e,H:we,I:Re,j:Ee,L:Ue,m:ve,M:Ie,p:function(Wt){return Ht[+(Wt.getUTCHours()>=12)]},q:function(Wt){return 1+~~(Wt.getUTCMonth()/3)},Q:St,s:gt,S:De,u:ze,U:Ge,V:He,w:Ke,W:et,x:null,X:null,y:st,Y:mt,Z:at,"%":kt},xt={a:function(Wt,Zt,cn){var nn=Ve.exec(Zt.slice(cn));return nn?(Wt.w=ut[nn[0].toLowerCase()],cn+nn[0].length):-1},A:function(Wt,Zt,cn){var nn=vt.exec(Zt.slice(cn));return nn?(Wt.w=je[nn[0].toLowerCase()],cn+nn[0].length):-1},b:function(Wt,Zt,cn){var nn=Mt.exec(Zt.slice(cn));return nn?(Wt.m=At[nn[0].toLowerCase()],cn+nn[0].length):-1},B:function(Wt,Zt,cn){var nn=ct.exec(Zt.slice(cn));return nn?(Wt.m=Tt[nn[0].toLowerCase()],cn+nn[0].length):-1},c:function(Wt,Zt,cn){return Gt(Wt,Ct,Zt,cn)},d:$,e:$,f:Y,H:W,I:W,j:N,L:Z,m:z,M:H,p:function(Wt,Zt,cn){var nn=rt.exec(Zt.slice(cn));return nn?(Wt.p=ft[nn[0].toLowerCase()],cn+nn[0].length):-1},q:R,Q:re,s:Q,S:U,u:M,U:d,V:E,w:b,W:k,x:function(Wt,Zt,cn){return Gt(Wt,Ot,Zt,cn)},X:function(Wt,Zt,cn){return Gt(Wt,Pt,Zt,cn)},y:L,Y:I,Z:P,"%":ae};function _t(Wt,Zt){return function(cn){var nn,ln,Qt,kn=[],Pn=-1,Tn=0,tn=Wt.length;for(cn instanceof Date||(cn=new Date(+cn));++Pn<tn;)37===Wt.charCodeAt(Pn)&&(kn.push(Wt.slice(Tn,Pn)),null!=(ln=c[nn=Wt.charAt(++Pn)])?nn=Wt.charAt(++Pn):ln="e"===nn?" ":"0",(Qt=Zt[nn])&&(nn=Qt(cn,ln)),kn.push(nn),Tn=Pn+1);return kn.push(Wt.slice(Tn,Pn)),kn.join("")}}function It(Wt,Zt){return function(cn){var nn,ln,Qt=o(1900,void 0,1);if(Gt(Qt,Wt,cn+="",0)!=cn.length)return null;if("Q"in Qt)return new Date(Qt.Q);if("s"in Qt)return new Date(1e3*Qt.s+("L"in Qt?Qt.L:0));if(Zt&&!("Z"in Qt)&&(Qt.Z=0),"p"in Qt&&(Qt.H=Qt.H%12+12*Qt.p),void 0===Qt.m&&(Qt.m="q"in Qt?Qt.q:0),"V"in Qt){if(Qt.V<1||Qt.V>53)return null;"w"in Qt||(Qt.w=1),"Z"in Qt?(ln=(nn=t(o(Qt.y,0,1))).getUTCDay(),nn=ln>4||0===ln?C.l6.ceil(nn):(0,C.l6)(nn),nn=S.Z.offset(nn,7*(Qt.V-1)),Qt.y=nn.getUTCFullYear(),Qt.m=nn.getUTCMonth(),Qt.d=nn.getUTCDate()+(Qt.w+6)%7):(ln=(nn=l(o(Qt.y,0,1))).getDay(),nn=ln>4||0===ln?u.wA.ceil(nn):(0,u.wA)(nn),nn=A.Z.offset(nn,7*(Qt.V-1)),Qt.y=nn.getFullYear(),Qt.m=nn.getMonth(),Qt.d=nn.getDate()+(Qt.w+6)%7)}else("W"in Qt||"U"in Qt)&&("w"in Qt||(Qt.w="u"in Qt?Qt.u%7:"W"in Qt?1:0),ln="Z"in Qt?t(o(Qt.y,0,1)).getUTCDay():l(o(Qt.y,0,1)).getDay(),Qt.m=0,Qt.d="W"in Qt?(Qt.w+6)%7+7*Qt.W-(ln+5)%7:Qt.w+7*Qt.U-(ln+6)%7);return"Z"in Qt?(Qt.H+=Qt.Z/100|0,Qt.M+=Qt.Z%100,t(Qt)):l(Qt)}}function Gt(Wt,Zt,cn,nn){for(var ln,Qt,kn=0,Pn=Zt.length,Tn=cn.length;kn<Pn;){if(nn>=Tn)return-1;if(37===(ln=Zt.charCodeAt(kn++))){if(ln=Zt.charAt(kn++),!(Qt=xt[ln in c?Zt.charAt(kn++):ln])||(nn=Qt(Wt,cn,nn))<0)return-1}else if(ln!=cn.charCodeAt(nn++))return-1}return nn}return bt.x=_t(Ot,bt),bt.X=_t(Pt,bt),bt.c=_t(Ct,bt),Rt.x=_t(Ot,Rt),Rt.X=_t(Pt,Rt),Rt.c=_t(Ct,Rt),{format:function(Wt){var Zt=_t(Wt+="",bt);return Zt.toString=function(){return Wt},Zt},parse:function(Wt){var Zt=It(Wt+="",!1);return Zt.toString=function(){return Wt},Zt},utcFormat:function(Wt){var Zt=_t(Wt+="",Rt);return Zt.toString=function(){return Wt},Zt},utcParse:function(Wt){var Zt=It(Wt+="",!0);return Zt.toString=function(){return Wt},Zt}}}var n,a,s,c={"-":"",_:" ",0:"0"},p=/^\s*\d+/,f=/^%/,w=/[\\^$*+?|[\]().{}]/g;function v(dt,Ct,Ot){var Pt=dt<0?"-":"",Ht=(Pt?-dt:dt)+"",jt=Ht.length;return Pt+(jt<Ot?new Array(Ot-jt+1).join(Ct)+Ht:Ht)}function h(dt){return dt.replace(w,"\\$&")}function _(dt){return new RegExp("^(?:"+dt.map(h).join("|")+")","i")}function x(dt){for(var Ct={},Ot=-1,Pt=dt.length;++Ot<Pt;)Ct[dt[Ot].toLowerCase()]=Ot;return Ct}function b(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+1));return Pt?(dt.w=+Pt[0],Ot+Pt[0].length):-1}function M(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+1));return Pt?(dt.u=+Pt[0],Ot+Pt[0].length):-1}function d(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+2));return Pt?(dt.U=+Pt[0],Ot+Pt[0].length):-1}function E(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+2));return Pt?(dt.V=+Pt[0],Ot+Pt[0].length):-1}function k(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+2));return Pt?(dt.W=+Pt[0],Ot+Pt[0].length):-1}function I(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+4));return Pt?(dt.y=+Pt[0],Ot+Pt[0].length):-1}function L(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+2));return Pt?(dt.y=+Pt[0]+(+Pt[0]>68?1900:2e3),Ot+Pt[0].length):-1}function P(dt,Ct,Ot){var Pt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Ct.slice(Ot,Ot+6));return Pt?(dt.Z=Pt[1]?0:-(Pt[2]+(Pt[3]||"00")),Ot+Pt[0].length):-1}function R(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+1));return Pt?(dt.q=3*Pt[0]-3,Ot+Pt[0].length):-1}function z(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+2));return Pt?(dt.m=Pt[0]-1,Ot+Pt[0].length):-1}function $(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+2));return Pt?(dt.d=+Pt[0],Ot+Pt[0].length):-1}function N(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+3));return Pt?(dt.m=0,dt.d=+Pt[0],Ot+Pt[0].length):-1}function W(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+2));return Pt?(dt.H=+Pt[0],Ot+Pt[0].length):-1}function H(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+2));return Pt?(dt.M=+Pt[0],Ot+Pt[0].length):-1}function U(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+2));return Pt?(dt.S=+Pt[0],Ot+Pt[0].length):-1}function Z(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+3));return Pt?(dt.L=+Pt[0],Ot+Pt[0].length):-1}function Y(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot,Ot+6));return Pt?(dt.L=Math.floor(Pt[0]/1e3),Ot+Pt[0].length):-1}function ae(dt,Ct,Ot){var Pt=f.exec(Ct.slice(Ot,Ot+1));return Pt?Ot+Pt[0].length:-1}function re(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot));return Pt?(dt.Q=+Pt[0],Ot+Pt[0].length):-1}function Q(dt,Ct,Ot){var Pt=p.exec(Ct.slice(Ot));return Pt?(dt.s=+Pt[0],Ot+Pt[0].length):-1}function K(dt,Ct){return v(dt.getDate(),Ct,2)}function te(dt,Ct){return v(dt.getHours(),Ct,2)}function oe(dt,Ct){return v(dt.getHours()%12||12,Ct,2)}function ue(dt,Ct){return v(1+A.Z.count((0,T.Z)(dt),dt),Ct,3)}function fe(dt,Ct){return v(dt.getMilliseconds(),Ct,3)}function he(dt,Ct){return fe(dt,Ct)+"000"}function me(dt,Ct){return v(dt.getMonth()+1,Ct,2)}function ke(dt,Ct){return v(dt.getMinutes(),Ct,2)}function Pe(dt,Ct){return v(dt.getSeconds(),Ct,2)}function Te(dt){var Ct=dt.getDay();return 0===Ct?7:Ct}function be(dt,Ct){return v(u.OM.count((0,T.Z)(dt)-1,dt),Ct,2)}function xe(dt,Ct){var Ot=dt.getDay();return dt=Ot>=4||0===Ot?(0,u.bL)(dt):u.bL.ceil(dt),v(u.bL.count((0,T.Z)(dt),dt)+(4===(0,T.Z)(dt).getDay()),Ct,2)}function Ne(dt){return dt.getDay()}function Se(dt,Ct){return v(u.wA.count((0,T.Z)(dt)-1,dt),Ct,2)}function Ce(dt,Ct){return v(dt.getFullYear()%100,Ct,2)}function pe(dt,Ct){return v(dt.getFullYear()%1e4,Ct,4)}function de(dt){var Ct=dt.getTimezoneOffset();return(Ct>0?"-":(Ct*=-1,"+"))+v(Ct/60|0,"0",2)+v(Ct%60,"0",2)}function se(dt,Ct){return v(dt.getUTCDate(),Ct,2)}function we(dt,Ct){return v(dt.getUTCHours(),Ct,2)}function Re(dt,Ct){return v(dt.getUTCHours()%12||12,Ct,2)}function Ee(dt,Ct){return v(1+S.Z.count((0,m.Z)(dt),dt),Ct,3)}function Ue(dt,Ct){return v(dt.getUTCMilliseconds(),Ct,3)}function $e(dt,Ct){return Ue(dt,Ct)+"000"}function ve(dt,Ct){return v(dt.getUTCMonth()+1,Ct,2)}function Ie(dt,Ct){return v(dt.getUTCMinutes(),Ct,2)}function De(dt,Ct){return v(dt.getUTCSeconds(),Ct,2)}function ze(dt){var Ct=dt.getUTCDay();return 0===Ct?7:Ct}function Ge(dt,Ct){return v(C.Ox.count((0,m.Z)(dt)-1,dt),Ct,2)}function He(dt,Ct){var Ot=dt.getUTCDay();return dt=Ot>=4||0===Ot?(0,C.hB)(dt):C.hB.ceil(dt),v(C.hB.count((0,m.Z)(dt),dt)+(4===(0,m.Z)(dt).getUTCDay()),Ct,2)}function Ke(dt){return dt.getUTCDay()}function et(dt,Ct){return v(C.l6.count((0,m.Z)(dt)-1,dt),Ct,2)}function st(dt,Ct){return v(dt.getUTCFullYear()%100,Ct,2)}function mt(dt,Ct){return v(dt.getUTCFullYear()%1e4,Ct,4)}function at(){return"+0000"}function kt(){return"%"}function St(dt){return+dt}function gt(dt){return Math.floor(+dt/1e3)}n=r({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),a=n.format,s=n.utcFormat},82301:function(ie,B,e){"use strict";e.d(B,{a:function(){return A}});var C=e(30052),S=e(54263),u=(0,C.Z)(function(T){T.setHours(0,0,0,0)},function(T,m){T.setDate(T.getDate()+m)},function(T,m){return(m-T-(m.getTimezoneOffset()-T.getTimezoneOffset())*S.yB)/S.UD},function(T){return T.getDate()-1});B.Z=u;var A=u.range},54263:function(ie,B,e){"use strict";e.d(B,{UD:function(){return A},Y2:function(){return u},Ym:function(){return C},iM:function(){return T},yB:function(){return S}});var C=1e3,S=6e4,u=36e5,A=864e5,T=6048e5},81041:function(ie,B,e){"use strict";e.r(B),e.d(B,{timeDay:function(){return p.Z},timeDays:function(){return p.a},timeFriday:function(){return f.mC},timeFridays:function(){return f.b$},timeHour:function(){return s},timeHours:function(){return c},timeInterval:function(){return C.Z},timeMillisecond:function(){return u},timeMilliseconds:function(){return A},timeMinute:function(){return r},timeMinutes:function(){return n},timeMonday:function(){return f.wA},timeMondays:function(){return f.bJ},timeMonth:function(){return v},timeMonths:function(){return h},timeSaturday:function(){return f.EY},timeSaturdays:function(){return f.Ff},timeSecond:function(){return l},timeSeconds:function(){return t},timeSunday:function(){return f.OM},timeSundays:function(){return f.vm},timeThursday:function(){return f.bL},timeThursdays:function(){return f.$t},timeTuesday:function(){return f.sy},timeTuesdays:function(){return f.aU},timeWednesday:function(){return f.zg},timeWednesdays:function(){return f.Ld},timeWeek:function(){return f.OM},timeWeeks:function(){return f.vm},timeYear:function(){return _.Z},timeYears:function(){return _.g},utcDay:function(){return I.Z},utcDays:function(){return I.y},utcFriday:function(){return L.QQ},utcFridays:function(){return L.fz},utcHour:function(){return E},utcHours:function(){return k},utcMillisecond:function(){return u},utcMilliseconds:function(){return A},utcMinute:function(){return b},utcMinutes:function(){return M},utcMonday:function(){return L.l6},utcMondays:function(){return L.$3},utcMonth:function(){return R},utcMonths:function(){return z},utcSaturday:function(){return L.g4},utcSaturdays:function(){return L.Q_},utcSecond:function(){return l},utcSeconds:function(){return t},utcSunday:function(){return L.Ox},utcSundays:function(){return L.SU},utcThursday:function(){return L.hB},utcThursdays:function(){return L.xj},utcTuesday:function(){return L.J1},utcTuesdays:function(){return L.DK},utcWednesday:function(){return L.b3},utcWednesdays:function(){return L.uy},utcWeek:function(){return L.Ox},utcWeeks:function(){return L.SU},utcYear:function(){return $.Z},utcYears:function(){return $.D}});var C=e(30052),S=(0,C.Z)(function(){},function(N,W){N.setTime(+N+W)},function(N,W){return W-N});S.every=function(N){return N=Math.floor(N),isFinite(N)&&N>0?N>1?(0,C.Z)(function(W){W.setTime(Math.floor(W/N)*N)},function(W,H){W.setTime(+W+H*N)},function(W,H){return(H-W)/N}):S:null};var u=S,A=S.range,T=e(54263),m=(0,C.Z)(function(N){N.setTime(N-N.getMilliseconds())},function(N,W){N.setTime(+N+W*T.Ym)},function(N,W){return(W-N)/T.Ym},function(N){return N.getUTCSeconds()}),l=m,t=m.range,o=(0,C.Z)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*T.Ym)},function(N,W){N.setTime(+N+W*T.yB)},function(N,W){return(W-N)/T.yB},function(N){return N.getMinutes()}),r=o,n=o.range,a=(0,C.Z)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*T.Ym-N.getMinutes()*T.yB)},function(N,W){N.setTime(+N+W*T.Y2)},function(N,W){return(W-N)/T.Y2},function(N){return N.getHours()}),s=a,c=a.range,p=e(82301),f=e(59879),w=(0,C.Z)(function(N){N.setDate(1),N.setHours(0,0,0,0)},function(N,W){N.setMonth(N.getMonth()+W)},function(N,W){return W.getMonth()-N.getMonth()+12*(W.getFullYear()-N.getFullYear())},function(N){return N.getMonth()}),v=w,h=w.range,_=e(34823),x=(0,C.Z)(function(N){N.setUTCSeconds(0,0)},function(N,W){N.setTime(+N+W*T.yB)},function(N,W){return(W-N)/T.yB},function(N){return N.getUTCMinutes()}),b=x,M=x.range,d=(0,C.Z)(function(N){N.setUTCMinutes(0,0,0)},function(N,W){N.setTime(+N+W*T.Y2)},function(N,W){return(W-N)/T.Y2},function(N){return N.getUTCHours()}),E=d,k=d.range,I=e(48480),L=e(58176),P=(0,C.Z)(function(N){N.setUTCDate(1),N.setUTCHours(0,0,0,0)},function(N,W){N.setUTCMonth(N.getUTCMonth()+W)},function(N,W){return W.getUTCMonth()-N.getUTCMonth()+12*(W.getUTCFullYear()-N.getUTCFullYear())},function(N){return N.getUTCMonth()}),R=P,z=P.range,$=e(79791)},30052:function(ie,B,e){"use strict";e.d(B,{Z:function(){return u}});var C=new Date,S=new Date;function u(A,T,m,l){function t(o){return A(o=0===arguments.length?new Date:new Date(+o)),o}return t.floor=function(o){return A(o=new Date(+o)),o},t.ceil=function(o){return A(o=new Date(o-1)),T(o,1),A(o),o},t.round=function(o){var r=t(o),n=t.ceil(o);return o-r<n-o?r:n},t.offset=function(o,r){return T(o=new Date(+o),null==r?1:Math.floor(r)),o},t.range=function(o,r,n){var a,s=[];if(o=t.ceil(o),n=null==n?1:Math.floor(n),!(o<r&&n>0))return s;do{s.push(a=new Date(+o)),T(o,n),A(o)}while(a<o&&o<r);return s},t.filter=function(o){return u(function(r){if(r>=r)for(;A(r),!o(r);)r.setTime(r-1)},function(r,n){if(r>=r)if(n<0)for(;++n<=0;)for(;T(r,-1),!o(r););else for(;--n>=0;)for(;T(r,1),!o(r););})},m&&(t.count=function(o,r){return C.setTime(+o),S.setTime(+r),A(C),A(S),Math.floor(m(C,S))},t.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?t.filter(l?function(r){return l(r)%o==0}:function(r){return t.count(0,r)%o==0}):t:null}),t}},48480:function(ie,B,e){"use strict";e.d(B,{y:function(){return A}});var C=e(30052),S=e(54263),u=(0,C.Z)(function(T){T.setUTCHours(0,0,0,0)},function(T,m){T.setUTCDate(T.getUTCDate()+m)},function(T,m){return(m-T)/S.UD},function(T){return T.getUTCDate()-1});B.Z=u;var A=u.range},58176:function(ie,B,e){"use strict";e.d(B,{$3:function(){return a},DK:function(){return s},J1:function(){return m},Ox:function(){return A},QQ:function(){return o},Q_:function(){return w},SU:function(){return n},b3:function(){return l},fz:function(){return f},g4:function(){return r},hB:function(){return t},l6:function(){return T},uy:function(){return c},xj:function(){return p}});var C=e(30052),S=e(54263);function u(v){return(0,C.Z)(function(h){h.setUTCDate(h.getUTCDate()-(h.getUTCDay()+7-v)%7),h.setUTCHours(0,0,0,0)},function(h,_){h.setUTCDate(h.getUTCDate()+7*_)},function(h,_){return(_-h)/S.iM})}var A=u(0),T=u(1),m=u(2),l=u(3),t=u(4),o=u(5),r=u(6),n=A.range,a=T.range,s=m.range,c=l.range,p=t.range,f=o.range,w=r.range},79791:function(ie,B,e){"use strict";e.d(B,{D:function(){return u}});var C=e(30052),S=(0,C.Z)(function(A){A.setUTCMonth(0,1),A.setUTCHours(0,0,0,0)},function(A,T){A.setUTCFullYear(A.getUTCFullYear()+T)},function(A,T){return T.getUTCFullYear()-A.getUTCFullYear()},function(A){return A.getUTCFullYear()});S.every=function(A){return isFinite(A=Math.floor(A))&&A>0?(0,C.Z)(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/A)*A),T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,m){T.setUTCFullYear(T.getUTCFullYear()+m*A)}):null},B.Z=S;var u=S.range},59879:function(ie,B,e){"use strict";e.d(B,{$t:function(){return p},EY:function(){return r},Ff:function(){return w},Ld:function(){return c},OM:function(){return A},aU:function(){return s},b$:function(){return f},bJ:function(){return a},bL:function(){return t},mC:function(){return o},sy:function(){return m},vm:function(){return n},wA:function(){return T},zg:function(){return l}});var C=e(30052),S=e(54263);function u(v){return(0,C.Z)(function(h){h.setDate(h.getDate()-(h.getDay()+7-v)%7),h.setHours(0,0,0,0)},function(h,_){h.setDate(h.getDate()+7*_)},function(h,_){return(_-h-(_.getTimezoneOffset()-h.getTimezoneOffset())*S.yB)/S.iM})}var A=u(0),T=u(1),m=u(2),l=u(3),t=u(4),o=u(5),r=u(6),n=A.range,a=T.range,s=m.range,c=l.range,p=t.range,f=o.range,w=r.range},34823:function(ie,B,e){"use strict";e.d(B,{g:function(){return u}});var C=e(30052),S=(0,C.Z)(function(A){A.setMonth(0,1),A.setHours(0,0,0,0)},function(A,T){A.setFullYear(A.getFullYear()+T)},function(A,T){return T.getFullYear()-A.getFullYear()},function(A){return A.getFullYear()});S.every=function(A){return isFinite(A=Math.floor(A))&&A>0?(0,C.Z)(function(T){T.setFullYear(Math.floor(T.getFullYear()/A)*A),T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,m){T.setFullYear(T.getFullYear()+m*A)}):null},B.Z=S;var u=S.range},17045:function(ie,B,e){"use strict";var C=e(8709),S="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),u=Object.prototype.toString,A=Array.prototype.concat,T=Object.defineProperty,m=e(55622)(),l=T&&m,t=function(r,n,a,s){if(n in r)if(!0===s){if(r[n]===a)return}else if("function"!=typeof(c=s)||"[object Function]"!==u.call(c)||!s())return;var c;l?T(r,n,{configurable:!0,enumerable:!1,value:a,writable:!0}):r[n]=a},o=function(r,n){var a=arguments.length>2?arguments[2]:{},s=C(n);S&&(s=A.call(s,Object.getOwnPropertySymbols(n)));for(var c=0;c<s.length;c+=1)t(r,s[c],n[s[c]],a[s[c]])};o.supportsDescriptors=!!l,ie.exports=o},46775:function(ie){ie.exports=function(){for(var B=0;B<arguments.length;B++)if(void 0!==arguments[B])return arguments[B]}},53545:function(ie){"use strict";ie.exports=C;var B=(C.canvas=document.createElement("canvas")).getContext("2d"),e=S([32,126]);function C(u,A){Array.isArray(u)&&(u=u.join(", "));var T,m={},l=16,t=.05;A&&(2===A.length&&"number"==typeof A[0]?T=S(A):Array.isArray(A)?T=A:(A.o?T=S(A.o):A.pairs&&(T=A.pairs),A.fontSize&&(l=A.fontSize),null!=A.threshold&&(t=A.threshold))),T||(T=e),B.font=l+"px "+u;for(var o=0;o<T.length;o++){var r=T[o],n=B.measureText(r[0]).width+B.measureText(r[1]).width,a=B.measureText(r).width;Math.abs(n-a)>l*t&&(m[r]=(a-n)/l*1e3)}return m}function S(u){for(var A=[],T=u[0];T<=u[1];T++)for(var m=String.fromCharCode(T),l=u[0];l<u[1];l++){var t=m+String.fromCharCode(l);A.push(t)}return A}C.createPairs=S,C.ascii=e},31457:function(ie,B,e){var C=e(65185),S=e(18625),u={M:"moveTo",C:"bezierCurveTo"};ie.exports=function(A,T){A.beginPath(),S(C(T)).forEach(function(m){var l=m[0],t=m.slice(1);A[u[l]].apply(A,t)}),A.closePath()}},90660:function(ie){ie.exports=function(B){switch(B){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(ie){"use strict";function B(e,C,S){var u=0|e[S];if(u<=0)return[];var A,T=new Array(u);if(S===e.length-1)for(A=0;A<u;++A)T[A]=C;else for(A=0;A<u;++A)T[A]=B(e,C,S+1);return T}ie.exports=function(e,C){switch(void 0===C&&(C=0),typeof e){case"number":if(e>0)return function(S,u){var A,T;for(A=new Array(S),T=0;T<S;++T)A[T]=u;return A}(0|e,C);break;case"object":if("number"==typeof e.length)return B(e,C,0)}return[]}},11474:function(ie){"use strict";function B(E,k,I){I=I||2;var L,P,R,z,$,N,W,H=k&&k.length,U=H?k[0]*I:E.length,Z=e(E,0,U,I,!0),Y=[];if(!Z||Z.next===Z.prev)return Y;if(H&&(Z=function(re,Q,K,te){var oe,ue,fe,he=[];for(oe=0,ue=Q.length;oe<ue;oe++)(fe=e(re,Q[oe]*te,oe<ue-1?Q[oe+1]*te:re.length,te,!1))===fe.next&&(fe.steiner=!0),he.push(n(fe));for(he.sort(l),oe=0;oe<he.length;oe++)t(he[oe],K),K=C(K,K.next);return K}(E,k,Z,I)),E.length>80*I){L=R=E[0],P=z=E[1];for(var ae=I;ae<U;ae+=I)($=E[ae])<L&&(L=$),(N=E[ae+1])<P&&(P=N),$>R&&(R=$),N>z&&(z=N);W=0!==(W=Math.max(R-L,z-P))?1/W:0}return S(Z,Y,I,L,P,W),Y}function e(E,k,I,L,P){var R,z;if(P===d(E,k,I,L)>0)for(R=k;R<I;R+=L)z=x(R,E[R],E[R+1],z);else for(R=I-L;R>=k;R-=L)z=x(R,E[R],E[R+1],z);return z&&p(z,z.next)&&(b(z),z=z.next),z}function C(E,k){if(!E)return E;k||(k=E);var I,L=E;do{if(I=!1,L.steiner||!p(L,L.next)&&0!==c(L.prev,L,L.next))L=L.next;else{if(b(L),(L=k=L.prev)===L.next)break;I=!0}}while(I||L!==k);return k}function S(E,k,I,L,P,R,z){if(E){!z&&R&&function(H,U,Z,Y){var ae=H;do{null===ae.z&&(ae.z=r(ae.x,ae.y,U,Z,Y)),ae.prevZ=ae.prev,ae.nextZ=ae.next,ae=ae.next}while(ae!==H);ae.prevZ.nextZ=null,ae.prevZ=null,function(re){var Q,K,te,oe,ue,fe,he,me,ke=1;do{for(K=re,re=null,ue=null,fe=0;K;){for(fe++,te=K,he=0,Q=0;Q<ke&&(he++,te=te.nextZ);Q++);for(me=ke;he>0||me>0&&te;)0!==he&&(0===me||!te||K.z<=te.z)?(oe=K,K=K.nextZ,he--):(oe=te,te=te.nextZ,me--),ue?ue.nextZ=oe:re=oe,oe.prevZ=ue,ue=oe;K=te}ue.nextZ=null,ke*=2}while(fe>1)}(ae)}(E,L,P,R);for(var $,N,W=E;E.prev!==E.next;)if($=E.prev,N=E.next,R?A(E,L,P,R):u(E))k.push($.i/I),k.push(E.i/I),k.push(N.i/I),b(E),E=N.next,W=N.next;else if((E=N)===W){z?1===z?S(E=T(C(E),k,I),k,I,L,P,R,2):2===z&&m(E,k,I,L,P,R):S(C(E),k,I,L,P,R,1);break}}}function u(E){var k=E.prev,I=E,L=E.next;if(c(k,I,L)>=0)return!1;for(var P=E.next.next;P!==E.prev;){if(a(k.x,k.y,I.x,I.y,L.x,L.y,P.x,P.y)&&c(P.prev,P,P.next)>=0)return!1;P=P.next}return!0}function A(E,k,I,L){var P=E.prev,R=E,z=E.next;if(c(P,R,z)>=0)return!1;for(var W=P.x>R.x?P.x>z.x?P.x:z.x:R.x>z.x?R.x:z.x,H=P.y>R.y?P.y>z.y?P.y:z.y:R.y>z.y?R.y:z.y,U=r(P.x<R.x?P.x<z.x?P.x:z.x:R.x<z.x?R.x:z.x,P.y<R.y?P.y<z.y?P.y:z.y:R.y<z.y?R.y:z.y,k,I,L),Z=r(W,H,k,I,L),Y=E.prevZ,ae=E.nextZ;Y&&Y.z>=U&&ae&&ae.z<=Z;){if(Y!==E.prev&&Y!==E.next&&a(P.x,P.y,R.x,R.y,z.x,z.y,Y.x,Y.y)&&c(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,ae!==E.prev&&ae!==E.next&&a(P.x,P.y,R.x,R.y,z.x,z.y,ae.x,ae.y)&&c(ae.prev,ae,ae.next)>=0))return!1;ae=ae.nextZ}for(;Y&&Y.z>=U;){if(Y!==E.prev&&Y!==E.next&&a(P.x,P.y,R.x,R.y,z.x,z.y,Y.x,Y.y)&&c(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;ae&&ae.z<=Z;){if(ae!==E.prev&&ae!==E.next&&a(P.x,P.y,R.x,R.y,z.x,z.y,ae.x,ae.y)&&c(ae.prev,ae,ae.next)>=0)return!1;ae=ae.nextZ}return!0}function T(E,k,I){var L=E;do{var P=L.prev,R=L.next.next;!p(P,R)&&f(P,L,L.next,R)&&h(P,R)&&h(R,P)&&(k.push(P.i/I),k.push(L.i/I),k.push(R.i/I),b(L),b(L.next),L=E=R),L=L.next}while(L!==E);return C(L)}function m(E,k,I,L,P,R){var z=E;do{for(var $=z.next.next;$!==z.prev;){if(z.i!==$.i&&s(z,$)){var N=_(z,$);return z=C(z,z.next),N=C(N,N.next),S(z,k,I,L,P,R),void S(N,k,I,L,P,R)}$=$.next}z=z.next}while(z!==E)}function l(E,k){return E.x-k.x}function t(E,k){if(k=function(L,P){var R,z=P,$=L.x,N=L.y,W=-1/0;do{if(N<=z.y&&N>=z.next.y&&z.next.y!==z.y){var H=z.x+(N-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(H<=$&&H>W){if(W=H,H===$){if(N===z.y)return z;if(N===z.next.y)return z.next}R=z.x<z.next.x?z:z.next}}z=z.next}while(z!==P);if(!R)return null;if($===W)return R;var U,Z=R,Y=R.x,ae=R.y,re=1/0;z=R;do{$>=z.x&&z.x>=Y&&$!==z.x&&a(N<ae?$:W,N,Y,ae,N<ae?W:$,N,z.x,z.y)&&(U=Math.abs(N-z.y)/($-z.x),h(z,L)&&(U<re||U===re&&(z.x>R.x||z.x===R.x&&o(R,z)))&&(R=z,re=U)),z=z.next}while(z!==Z);return R}(E,k)){var I=_(k,E);C(k,k.next),C(I,I.next)}}function o(E,k){return c(E.prev,E,k.prev)<0&&c(k.next,E,E.next)<0}function r(E,k,I,L,P){return(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E=32767*(E-I)*P)|E<<8))|E<<4))|E<<2))|E<<1))|(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k=32767*(k-L)*P)|k<<8))|k<<4))|k<<2))|k<<1))<<1}function n(E){var k=E,I=E;do{(k.x<I.x||k.x===I.x&&k.y<I.y)&&(I=k),k=k.next}while(k!==E);return I}function a(E,k,I,L,P,R,z,$){return(P-z)*(k-$)-(E-z)*(R-$)>=0&&(E-z)*(L-$)-(I-z)*(k-$)>=0&&(I-z)*(R-$)-(P-z)*(L-$)>=0}function s(E,k){return E.next.i!==k.i&&E.prev.i!==k.i&&!function(I,L){var P=I;do{if(P.i!==I.i&&P.next.i!==I.i&&P.i!==L.i&&P.next.i!==L.i&&f(P,P.next,I,L))return!0;P=P.next}while(P!==I);return!1}(E,k)&&(h(E,k)&&h(k,E)&&function(I,L){var P=I,R=!1,z=(I.x+L.x)/2,$=(I.y+L.y)/2;do{P.y>$!=P.next.y>$&&P.next.y!==P.y&&z<(P.next.x-P.x)*($-P.y)/(P.next.y-P.y)+P.x&&(R=!R),P=P.next}while(P!==I);return R}(E,k)&&(c(E.prev,E,k.prev)||c(E,k.prev,k))||p(E,k)&&c(E.prev,E,E.next)>0&&c(k.prev,k,k.next)>0)}function c(E,k,I){return(k.y-E.y)*(I.x-k.x)-(k.x-E.x)*(I.y-k.y)}function p(E,k){return E.x===k.x&&E.y===k.y}function f(E,k,I,L){var P=v(c(E,k,I)),R=v(c(E,k,L)),z=v(c(I,L,E)),$=v(c(I,L,k));return P!==R&&z!==$||!(0!==P||!w(E,I,k))||!(0!==R||!w(E,L,k))||!(0!==z||!w(I,E,L))||!(0!==$||!w(I,k,L))}function w(E,k,I){return k.x<=Math.max(E.x,I.x)&&k.x>=Math.min(E.x,I.x)&&k.y<=Math.max(E.y,I.y)&&k.y>=Math.min(E.y,I.y)}function v(E){return E>0?1:E<0?-1:0}function h(E,k){return c(E.prev,E,E.next)<0?c(E,k,E.next)>=0&&c(E,E.prev,k)>=0:c(E,k,E.prev)<0||c(E,E.next,k)<0}function _(E,k){var I=new M(E.i,E.x,E.y),L=new M(k.i,k.x,k.y),P=E.next,R=k.prev;return E.next=k,k.prev=E,I.next=P,P.prev=I,L.next=I,I.prev=L,R.next=L,L.prev=R,L}function x(E,k,I,L){var P=new M(E,k,I);return L?(P.next=L.next,P.prev=L,L.next.prev=P,L.next=P):(P.prev=P,P.next=P),P}function b(E){E.next.prev=E.prev,E.prev.next=E.next,E.prevZ&&(E.prevZ.nextZ=E.nextZ),E.nextZ&&(E.nextZ.prevZ=E.prevZ)}function M(E,k,I){this.i=E,this.x=k,this.y=I,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function d(E,k,I,L){for(var P=0,R=k,z=I-L;R<I;R+=L)P+=(E[z]-E[R])*(E[R+1]+E[z+1]),z=R;return P}ie.exports=B,ie.exports.default=B,B.deviation=function(E,k,I,L){var P=k&&k.length,z=Math.abs(d(E,0,P?k[0]*I:E.length,I));if(P)for(var $=0,N=k.length;$<N;$++)z-=Math.abs(d(E,k[$]*I,$<N-1?k[$+1]*I:E.length,I));var U=0;for($=0;$<L.length;$+=3){var Z=L[$]*I,Y=L[$+1]*I,ae=L[$+2]*I;U+=Math.abs((E[Z]-E[ae])*(E[Y+1]-E[Z+1])-(E[Z]-E[Y])*(E[ae+1]-E[Z+1]))}return 0===z&&0===U?0:Math.abs((U-z)/z)},B.flatten=function(E){for(var k=E[0][0].length,I={vertices:[],holes:[],dimensions:k},L=0,P=0;P<E.length;P++){for(var R=0;R<E[P].length;R++)for(var z=0;z<k;z++)I.vertices.push(E[P][R][z]);P>0&&I.holes.push(L+=E[P-1].length)}return I}},2502:function(ie,B,e){var C=e(68664);ie.exports=function(S,u){var A,T=[],m=[],l=[],t={},o=[];function r(h){l[h]=!1,t.hasOwnProperty(h)&&Object.keys(t[h]).forEach(function(_){delete t[h][_],l[_]&&r(_)})}function n(h){var _,x,b=!1;for(m.push(h),l[h]=!0,_=0;_<o[h].length;_++)(x=o[h][_])===A?(a(A,m),b=!0):l[x]||(b=n(x));if(b)r(h);else for(_=0;_<o[h].length;_++){var M=t[x=o[h][_]];M||(t[x]=M={}),M[x]=!0}return m.pop(),b}function a(h,_){var x=[].concat(_).concat(h);u?u(n):T.push(x)}function s(h){!function(I){for(var L=0;L<S.length;L++)L<I&&(S[L]=[]),S[L]=S[L].filter(function(P){return P>=I})}(h);for(var _,x=C(S).components.filter(function(I){return I.length>1}),b=1/0,M=0;M<x.length;M++)for(var d=0;d<x[M].length;d++)x[M][d]<b&&(b=x[M][d],_=M);var E=x[_];return!!E&&{leastVertex:b,adjList:S.map(function(I,L){return-1===E.indexOf(L)?[]:I.filter(function(P){return-1!==E.indexOf(P)})})}}A=0;for(var c=S.length;A<c;){var p=s(A);if(A=p.leastVertex,o=p.adjList){for(var f=0;f<o.length;f++)for(var w=0;w<o[f].length;w++){var v=o[f][w];l[+v]=!1,t[v]={}}n(A),A+=1}else A=c}return u?void 0:T}},16134:function(ie,B,e){"use strict";var C=e(36672);ie.exports=function(){return C(this).length=0,this}},4892:function(ie,B,e){"use strict";ie.exports=e(64404)()?Array.from:e(49441)},64404:function(ie){"use strict";ie.exports=function(){var B,e,C=Array.from;return"function"==typeof C&&!(!(e=C(B=["raz","dwa"]))||e===B||"dwa"!==e[1])}},49441:function(ie,B,e){"use strict";var C=e(8260).iterator,S=e(73051),u=e(33717),A=e(35976),T=e(78513),m=e(36672),l=e(95296),t=e(87963),o=Array.isArray,r=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},a=Object.defineProperty;ie.exports=function(s){var c,p,f,w,v,h,_,x,b,M,d=arguments[1],E=arguments[2];if(s=Object(m(s)),l(d)&&T(d),this&&this!==Array&&u(this))c=this;else{if(!d){if(S(s))return 1!==(v=s.length)?Array.apply(null,s):((w=new Array(1))[0]=s[0],w);if(o(s)){for(w=new Array(v=s.length),p=0;p<v;++p)w[p]=s[p];return w}}w=[]}if(!o(s))if(void 0!==(b=s[C])){for(_=T(b).call(s),c&&(w=new c),x=_.next(),p=0;!x.done;)M=d?r.call(d,E,x.value,p):x.value,c?(n.value=M,a(w,p,n)):w[p]=M,x=_.next(),++p;v=p}else if(t(s)){for(v=s.length,c&&(w=new c),p=0,f=0;p<v;++p)M=s[p],p+1<v&&(h=M.charCodeAt(0))>=55296&&h<=56319&&(M+=s[++p]),M=d?r.call(d,E,M,f):M,c?(n.value=M,a(w,f,n)):w[f]=M,++f;v=f}if(void 0===v)for(v=A(s.length),c&&(w=new c(v)),p=0;p<v;++p)M=d?r.call(d,E,s[p],p):s[p],c?(n.value=M,a(w,p,n)):w[p]=M;return c&&(n.value=null,w.length=v),w}},73051:function(ie){"use strict";var B=Object.prototype.toString,e=B.call(function(){return arguments}());ie.exports=function(C){return B.call(C)===e}},33717:function(ie){"use strict";var B=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);ie.exports=function(C){return"function"==typeof C&&e(B.call(C))}},52345:function(ie){"use strict";ie.exports=function(){}},9953:function(ie,B,e){"use strict";ie.exports=e(90436)()?Math.sign:e(6069)},90436:function(ie){"use strict";ie.exports=function(){var B=Math.sign;return"function"==typeof B&&1===B(10)&&-1===B(-20)}},6069:function(ie){"use strict";ie.exports=function(B){return B=Number(B),isNaN(B)||0===B?B:B>0?1:-1}},56247:function(ie,B,e){"use strict";var C=e(9953),S=Math.abs,u=Math.floor;ie.exports=function(A){return isNaN(A)?0:0!==(A=Number(A))&&isFinite(A)?C(A)*u(S(A)):A}},35976:function(ie,B,e){"use strict";var C=e(56247),S=Math.max;ie.exports=function(u){return S(0,C(u))}},67260:function(ie,B,e){"use strict";var C=e(78513),S=e(36672),u=Function.prototype.bind,A=Function.prototype.call,T=Object.keys,m=Object.prototype.propertyIsEnumerable;ie.exports=function(l,t){return function(o,r){var n,a=arguments[2],s=arguments[3];return o=Object(S(o)),C(r),n=T(o),s&&n.sort("function"==typeof s?u.call(s,o):void 0),"function"!=typeof l&&(l=n[l]),A.call(l,n,function(c,p){return m.call(o,c)?A.call(r,a,o[c],c,o,p):t})}}},95879:function(ie,B,e){"use strict";ie.exports=e(73583)()?Object.assign:e(34205)},73583:function(ie){"use strict";ie.exports=function(){var B,e=Object.assign;return"function"==typeof e&&(e(B={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),B.foo+B.bar+B.trzy==="razdwatrzy")}},34205:function(ie,B,e){"use strict";var C=e(68700),S=e(36672),u=Math.max;ie.exports=function(A,T){var m,l,t,o=u(arguments.length,2);for(A=Object(S(A)),t=function(r){try{A[r]=T[r]}catch(n){m||(m=n)}},l=1;l<o;++l)C(T=arguments[l]).forEach(t);if(void 0!==m)throw m;return A}},19012:function(ie,B,e){"use strict";var C=e(4892),S=e(95879),u=e(36672);ie.exports=function(A){var T=Object(u(A)),m=arguments[1],l=Object(arguments[2]);if(T!==A&&!m)return T;var t={};return m?C(m,function(o){(l.ensure||o in A)&&(t[o]=A[o])}):S(t,A),t}},52818:function(ie,B,e){"use strict";var C,S,u,A,T=Object.create;e(33247)()||(C=e(51882)),ie.exports=C?1!==C.level?T:(S={},u={},A={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(m){u[m]="__proto__"!==m?A:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(S,u),Object.defineProperty(C,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:S}),function(m,l){return T(null===m?S:m,l)}):T},96437:function(ie,B,e){"use strict";ie.exports=e(67260)("forEach")},99611:function(ie,B,e){"use strict";var C=e(95296),S={function:!0,object:!0};ie.exports=function(u){return C(u)&&S[typeof u]||!1}},95296:function(ie,B,e){"use strict";var C=e(52345)();ie.exports=function(S){return S!==C&&null!==S}},68700:function(ie,B,e){"use strict";ie.exports=e(13895)()?Object.keys:e(25217)},13895:function(ie){"use strict";ie.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(ie,B,e){"use strict";var C=e(95296),S=Object.keys;ie.exports=function(u){return S(C(u)?Object(u):u)}},16906:function(ie,B,e){"use strict";var C=e(78513),S=e(96437),u=Function.prototype.call;ie.exports=function(A,T){var m={},l=arguments[2];return C(T),S(A,function(t,o,r,n){m[o]=u.call(T,l,t,o,r,n)}),m}},21780:function(ie,B,e){"use strict";var C=e(95296),S=Array.prototype.forEach,u=Object.create;ie.exports=function(A){var T=u(null);return S.call(arguments,function(m){C(m)&&function(l,t){var o;for(o in l)t[o]=l[o]}(Object(m),T)}),T}},1496:function(ie,B,e){"use strict";ie.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(ie){"use strict";var B=Object.create,e=Object.getPrototypeOf,C={};ie.exports=function(){var S=Object.setPrototypeOf;return"function"==typeof S&&e(S((arguments[0]||B)(null),C))===C}},51882:function(ie,B,e){"use strict";var C,S,u,A,T=e(99611),m=e(36672),l=Object.prototype.isPrototypeOf,t=Object.defineProperty,o={configurable:!0,enumerable:!1,writable:!0,value:void 0};C=function(r,n){if(m(r),null===n||T(n))return r;throw new TypeError("Prototype must be null or an object")},ie.exports=(S=function(){var r,n=Object.create(null),a={},s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{(r=s.set).call(n,a)}catch{}if(Object.getPrototypeOf(n)===a)return{set:r,level:2}}return n.__proto__=a,Object.getPrototypeOf(n)===a?{level:2}:((n={}).__proto__=a,Object.getPrototypeOf(n)===a&&{level:1})}())?(2===S.level?S.set?(A=S.set,u=function(r,n){return A.call(C(r,n),n),r}):u=function(r,n){return C(r,n).__proto__=n,r}:u=function r(n,a){var s;return C(n,a),(s=l.call(r.nullPolyfill,n))&&delete r.nullPolyfill.__proto__,null===a&&(a=r.nullPolyfill),n.__proto__=a,s&&t(r.nullPolyfill,"__proto__",o),n},Object.defineProperty(u,"level",{configurable:!1,enumerable:!1,writable:!1,value:S.level})):null,e(52818)},78513:function(ie){"use strict";ie.exports=function(B){if("function"!=typeof B)throw new TypeError(B+" is not a function");return B}},98976:function(ie,B,e){"use strict";var C=e(99611);ie.exports=function(S){if(!C(S))throw new TypeError(S+" is not an Object");return S}},36672:function(ie,B,e){"use strict";var C=e(95296);ie.exports=function(S){if(!C(S))throw new TypeError("Cannot use null or undefined");return S}},66741:function(ie,B,e){"use strict";ie.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(ie){"use strict";var B="razdwatrzy";ie.exports=function(){return"function"==typeof B.contains&&!0===B.contains("dwa")&&!1===B.contains("foo")}},60381:function(ie){"use strict";var B=String.prototype.indexOf;ie.exports=function(e){return B.call(this,e,arguments[1])>-1}},87963:function(ie){"use strict";var B=Object.prototype.toString,e=B.call("");ie.exports=function(C){return"string"==typeof C||C&&"object"==typeof C&&(C instanceof String||B.call(C)===e)||!1}},43043:function(ie){"use strict";var B=Object.create(null),e=Math.random;ie.exports=function(){var C;do{C=e().toString(36).slice(2)}while(B[C]);return C}},32411:function(ie,B,e){"use strict";var C,S=e(1496),u=e(66741),A=e(62072),T=e(8260),m=e(95426),l=Object.defineProperty;C=ie.exports=function(t,o){if(!(this instanceof C))throw new TypeError("Constructor requires 'new'");m.call(this,t),o=o?u.call(o,"key+value")?"key+value":u.call(o,"key")?"key":"value":"value",l(this,"__kind__",A("",o))},S&&S(C,m),delete C.prototype.constructor,C.prototype=Object.create(m.prototype,{_resolve:A(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t})}),l(C.prototype,T.toStringTag,A("c","Array Iterator"))},27515:function(ie,B,e){"use strict";var C=e(73051),S=e(78513),u=e(87963),A=e(66661),T=Array.isArray,m=Function.prototype.call,l=Array.prototype.some;ie.exports=function(t,o){var r,n,a,s,c,p,f,w,v=arguments[2];if(T(t)||C(t)?r="array":u(t)?r="string":t=A(t),S(o),a=function(){s=!0},"array"!==r)if("string"!==r)for(n=t.next();!n.done;){if(m.call(o,v,n.value,a),s)return;n=t.next()}else for(p=t.length,c=0;c<p&&(f=t[c],c+1<p&&(w=f.charCodeAt(0))>=55296&&w<=56319&&(f+=t[++c]),m.call(o,v,f,a),!s);++c);else l.call(t,function(h){return m.call(o,v,h,a),s})}},66661:function(ie,B,e){"use strict";var C=e(73051),S=e(87963),u=e(32411),A=e(259),T=e(58095),m=e(8260).iterator;ie.exports=function(l){return"function"==typeof T(l)[m]?l[m]():C(l)?new u(l):S(l)?new A(l):new u(l)}},95426:function(ie,B,e){"use strict";var C,S=e(16134),u=e(95879),A=e(78513),T=e(36672),m=e(62072),l=e(55174),t=e(8260),o=Object.defineProperty,r=Object.defineProperties;ie.exports=C=function(n,a){if(!(this instanceof C))throw new TypeError("Constructor requires 'new'");r(this,{__list__:m("w",T(n)),__context__:m("w",a),__nextIndex__:m("w",0)}),a&&(A(a.on),a.on("_add",this._onAdd),a.on("_delete",this._onDelete),a.on("_clear",this._onClear))},delete C.prototype.constructor,r(C.prototype,u({_next:m(function(){var n;if(this.__list__)return this.__redo__&&void 0!==(n=this.__redo__.shift())?n:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:m(function(){return this._createResult(this._next())}),_createResult:m(function(n){return void 0===n?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:m(function(n){return this.__list__[n]}),_unBind:m(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:m(function(){return"[object "+(this[t.toStringTag]||"Object")+"]"})},l({_onAdd:m(function(n){n>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(a,s){a>=n&&(this.__redo__[s]=++a)},this),this.__redo__.push(n)):o(this,"__redo__",m("c",[n])))}),_onDelete:m(function(n){var a;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(a=this.__redo__.indexOf(n))&&this.__redo__.splice(a,1),this.__redo__.forEach(function(s,c){s>n&&(this.__redo__[c]=--s)},this)))}),_onClear:m(function(){this.__redo__&&S.call(this.__redo__),this.__nextIndex__=0})}))),o(C.prototype,t.iterator,m(function(){return this}))},35940:function(ie,B,e){"use strict";var C=e(73051),S=e(95296),u=e(87963),A=e(8260).iterator,T=Array.isArray;ie.exports=function(m){return!(!S(m)||!T(m)&&!u(m)&&!C(m)&&"function"!=typeof m[A])}},259:function(ie,B,e){"use strict";var C,S=e(1496),u=e(62072),A=e(8260),T=e(95426),m=Object.defineProperty;C=ie.exports=function(l){if(!(this instanceof C))throw new TypeError("Constructor requires 'new'");l=String(l),T.call(this,l),m(this,"__length__",u("",l.length))},S&&S(C,T),delete C.prototype.constructor,C.prototype=Object.create(T.prototype,{_next:u(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:u(function(l){var t,o=this.__list__[l];return this.__nextIndex__===this.__length__?o:(t=o.charCodeAt(0))>=55296&&t<=56319?o+this.__list__[this.__nextIndex__++]:o})}),m(C.prototype,A.toStringTag,u("c","String Iterator"))},58095:function(ie,B,e){"use strict";var C=e(35940);ie.exports=function(S){if(!C(S))throw new TypeError(S+" is not iterable");return S}},73523:function(ie){"use strict";function B(e,C){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var S=Object(e),u=1;u<arguments.length;u++){var A=arguments[u];if(null!=A)for(var T=Object.keys(Object(A)),m=0,l=T.length;m<l;m++){var t=T[m],o=Object.getOwnPropertyDescriptor(A,t);void 0!==o&&o.enumerable&&(S[t]=A[t])}}return S}ie.exports={assign:B,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:B})}}},8260:function(ie,B,e){"use strict";ie.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(ie,B,e){"use strict";var C=e(94908),S={object:!0,symbol:!0};ie.exports=function(){var u,A=C.Symbol;if("function"!=typeof A)return!1;u=A("test symbol");try{String(u)}catch{return!1}return!!S[typeof A.iterator]&&!!S[typeof A.toPrimitive]&&!!S[typeof A.toStringTag]}},82276:function(ie){"use strict";ie.exports=function(B){return!!B&&("symbol"==typeof B||!!B.constructor&&"Symbol"===B.constructor.name&&"Symbol"===B[B.constructor.toStringTag])}},29366:function(ie,B,e){"use strict";var C=e(62072),u=Object.defineProperty,A=Object.prototype,T=(0,Object.create)(null);ie.exports=function(m){for(var l,t,o=0;T[m+(o||"")];)++o;return T[m+=o||""]=!0,u(A,l="@@"+m,C.gs(null,function(r){t||(t=!0,u(this,l,C(r)),t=!1)})),l}},92842:function(ie,B,e){"use strict";var C=e(62072),S=e(94908).Symbol;ie.exports=function(u){return Object.defineProperties(u,{hasInstance:C("",S&&S.hasInstance||u("hasInstance")),isConcatSpreadable:C("",S&&S.isConcatSpreadable||u("isConcatSpreadable")),iterator:C("",S&&S.iterator||u("iterator")),match:C("",S&&S.match||u("match")),replace:C("",S&&S.replace||u("replace")),search:C("",S&&S.search||u("search")),species:C("",S&&S.species||u("species")),split:C("",S&&S.split||u("split")),toPrimitive:C("",S&&S.toPrimitive||u("toPrimitive")),toStringTag:C("",S&&S.toStringTag||u("toStringTag")),unscopables:C("",S&&S.unscopables||u("unscopables"))})}},13304:function(ie,B,e){"use strict";var C=e(62072),S=e(53308),u=Object.create(null);ie.exports=function(A){return Object.defineProperties(A,{for:C(function(T){return u[T]?u[T]:u[T]=A(String(T))}),keyFor:C(function(T){var m;for(m in S(T),u)if(u[m]===T)return m})})}},18415:function(ie,B,e){"use strict";var C,S,u,A=e(62072),T=e(53308),m=e(94908).Symbol,l=e(29366),t=e(92842),o=e(13304),r=Object.create,n=Object.defineProperties,a=Object.defineProperty;if("function"==typeof m)try{String(m()),u=!0}catch{}else m=null;S=function(s){if(this instanceof S)throw new TypeError("Symbol is not a constructor");return C(s)},ie.exports=C=function s(c){var p;if(this instanceof s)throw new TypeError("Symbol is not a constructor");return u?m(c):(p=r(S.prototype),c=void 0===c?"":String(c),n(p,{__description__:A("",c),__name__:A("",l(c))}))},t(C),o(C),n(S.prototype,{constructor:A(C),toString:A("",function(){return this.__name__})}),n(C.prototype,{toString:A(function(){return"Symbol ("+T(this).__description__+")"}),valueOf:A(function(){return T(this)})}),a(C.prototype,C.toPrimitive,A("",function(){var s=T(this);return"symbol"==typeof s?s:s.toString()})),a(C.prototype,C.toStringTag,A("c","Symbol")),a(S.prototype,C.toStringTag,A("c",C.prototype[C.toStringTag])),a(S.prototype,C.toPrimitive,A("c",C.prototype[C.toPrimitive]))},53308:function(ie,B,e){"use strict";var C=e(82276);ie.exports=function(S){if(!C(S))throw new TypeError(S+" is not a symbol");return S}},83522:function(ie,B,e){"use strict";ie.exports=e(96402)()?WeakMap:e(329)},96402:function(ie){"use strict";ie.exports=function(){var B,e;if("function"!=typeof WeakMap)return!1;try{B=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return"[object WeakMap]"===String(B)&&"function"==typeof B.set&&B.set({},1)===B&&"function"==typeof B.delete&&"function"==typeof B.has&&"one"===B.get(e)}},96416:function(ie){"use strict";ie.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},329:function(ie,B,e){"use strict";var C,S=e(95296),u=e(1496),A=e(98976),T=e(36672),m=e(43043),l=e(62072),t=e(66661),o=e(27515),r=e(8260).toStringTag,n=e(96416),a=Array.isArray,s=Object.defineProperty,c=Object.prototype.hasOwnProperty,p=Object.getPrototypeOf;ie.exports=C=function(){var f,w=arguments[0];if(!(this instanceof C))throw new TypeError("Constructor requires 'new'");return f=n&&u&&WeakMap!==C?u(new WeakMap,p(this)):this,S(w)&&(a(w)||(w=t(w))),s(f,"__weakMapData__",l("c","$weakMap$"+m())),w&&o(w,function(v){T(v),f.set(v[0],v[1])}),f},n&&(u&&u(C,WeakMap),C.prototype=Object.create(WeakMap.prototype,{constructor:l(C)})),Object.defineProperties(C.prototype,{delete:l(function(f){return!!c.call(A(f),this.__weakMapData__)&&(delete f[this.__weakMapData__],!0)}),get:l(function(f){if(c.call(A(f),this.__weakMapData__))return f[this.__weakMapData__]}),has:l(function(f){return c.call(A(f),this.__weakMapData__)}),set:l(function(f,w){return s(A(f),this.__weakMapData__,l("c",w)),this}),toString:l(function(){return"[object WeakMap]"})}),s(C.prototype,r,l("c","WeakMap"))},15398:function(ie){"use strict";var B,e="object"==typeof Reflect?Reflect:null,C=e&&"function"==typeof e.apply?e.apply:function(c,p,f){return Function.prototype.apply.call(c,p,f)};B=e&&"function"==typeof e.ownKeys?e.ownKeys:Object.getOwnPropertySymbols?function(c){return Object.getOwnPropertyNames(c).concat(Object.getOwnPropertySymbols(c))}:function(c){return Object.getOwnPropertyNames(c)};var S=Number.isNaN||function(c){return c!=c};function u(){u.init.call(this)}ie.exports=u,ie.exports.once=function(c,p){return new Promise(function(f,w){function v(_){c.removeListener(p,h),w(_)}function h(){"function"==typeof c.removeListener&&c.removeListener("error",v),f([].slice.call(arguments))}var _;s(c,p,h,{once:!0}),"error"!==p&&("function"==typeof(_=c).on&&s(_,"error",v,{once:!0}))})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var A=10;function T(c){if("function"!=typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c)}function m(c){return void 0===c._maxListeners?u.defaultMaxListeners:c._maxListeners}function l(c,p,f,w){var v,h,_;if(T(f),void 0===(h=c._events)?(h=c._events=Object.create(null),c._eventsCount=0):(void 0!==h.newListener&&(c.emit("newListener",p,f.listener?f.listener:f),h=c._events),_=h[p]),void 0===_)_=h[p]=f,++c._eventsCount;else if("function"==typeof _?_=h[p]=w?[f,_]:[_,f]:w?_.unshift(f):_.push(f),(v=m(c))>0&&_.length>v&&!_.warned){_.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+_.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=c,b.type=p,b.count=_.length,console&&console.warn&&console.warn(b)}return c}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(c,p,f){var w={fired:!1,wrapFn:void 0,target:c,type:p,listener:f},v=t.bind(w);return v.listener=f,w.wrapFn=v,v}function r(c,p,f){var w=c._events;if(void 0===w)return[];var v=w[p];return void 0===v?[]:"function"==typeof v?f?[v.listener||v]:[v]:f?function(h){for(var _=new Array(h.length),x=0;x<_.length;++x)_[x]=h[x].listener||h[x];return _}(v):a(v,v.length)}function n(c){var p=this._events;if(void 0!==p){var f=p[c];if("function"==typeof f)return 1;if(void 0!==f)return f.length}return 0}function a(c,p){for(var f=new Array(p),w=0;w<p;++w)f[w]=c[w];return f}function s(c,p,f,w){if("function"==typeof c.on)w.once?c.once(p,f):c.on(p,f);else{if("function"!=typeof c.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof c);c.addEventListener(p,function v(h){w.once&&c.removeEventListener(p,v),f(h)})}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(c){if("number"!=typeof c||c<0||S(c))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+c+".");A=c}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(c){if("number"!=typeof c||c<0||S(c))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+c+".");return this._maxListeners=c,this},u.prototype.getMaxListeners=function(){return m(this)},u.prototype.emit=function(c){for(var p=[],f=1;f<arguments.length;f++)p.push(arguments[f]);var w="error"===c,v=this._events;if(void 0!==v)w=w&&void 0===v.error;else if(!w)return!1;if(w){var h;if(p.length>0&&(h=p[0]),h instanceof Error)throw h;var _=new Error("Unhandled error."+(h?" ("+h.message+")":""));throw _.context=h,_}var x=v[c];if(void 0===x)return!1;if("function"==typeof x)C(x,this,p);else{var b=x.length,M=a(x,b);for(f=0;f<b;++f)C(M[f],this,p)}return!0},u.prototype.on=u.prototype.addListener=function(c,p){return l(this,c,p,!1)},u.prototype.prependListener=function(c,p){return l(this,c,p,!0)},u.prototype.once=function(c,p){return T(p),this.on(c,o(this,c,p)),this},u.prototype.prependOnceListener=function(c,p){return T(p),this.prependListener(c,o(this,c,p)),this},u.prototype.off=u.prototype.removeListener=function(c,p){var f,w,v,h,_;if(T(p),void 0===(w=this._events))return this;if(void 0===(f=w[c]))return this;if(f===p||f.listener===p)0==--this._eventsCount?this._events=Object.create(null):(delete w[c],w.removeListener&&this.emit("removeListener",c,f.listener||p));else if("function"!=typeof f){for(v=-1,h=f.length-1;h>=0;h--)if(f[h]===p||f[h].listener===p){_=f[h].listener,v=h;break}if(v<0)return this;0===v?f.shift():function(x,b){for(;b+1<x.length;b++)x[b]=x[b+1];x.pop()}(f,v),1===f.length&&(w[c]=f[0]),void 0!==w.removeListener&&this.emit("removeListener",c,_||p)}return this},u.prototype.removeAllListeners=function(c){var p,f,w;if(void 0===(f=this._events))return this;if(void 0===f.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==f[c]&&(0==--this._eventsCount?this._events=Object.create(null):delete f[c]),this;if(0===arguments.length){var v,h=Object.keys(f);for(w=0;w<h.length;++w)"removeListener"!==(v=h[w])&&this.removeAllListeners(v);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(p=f[c]))this.removeListener(c,p);else if(void 0!==p)for(w=p.length-1;w>=0;w--)this.removeListener(c,p[w]);return this},u.prototype.listeners=function(c){return r(this,c,!0)},u.prototype.rawListeners=function(c){return r(this,c,!1)},u.listenerCount=function(c,p){return"function"==typeof c.listenerCount?c.listenerCount(p):n.call(c,p)},u.prototype.listenerCount=n,u.prototype.eventNames=function(){return this._eventsCount>0?B(this._events):[]}},60774:function(ie){var B=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};ie.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return B()}try{return __global__||B()}finally{delete Object.prototype.__global__}}()},94908:function(ie,B,e){"use strict";ie.exports=e(51152)()?globalThis:e(60774)},51152:function(ie){"use strict";ie.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},92770:function(ie,B,e){"use strict";var C=e(18546);ie.exports=function(S){var u=typeof S;if("string"===u){var A=S;if(0==(S=+S)&&C(A))return!1}else if("number"!==u)return!1;return S-S<1}},30120:function(ie,B,e){var C=e(90660);ie.exports=function(S,u,A){if(!S)throw new TypeError("must specify data as first parameter");if(A=0|+(A||0),Array.isArray(S)&&S[0]&&"number"==typeof S[0][0]){var T,m,l,t,o=S[0].length,r=S.length*o;u&&"string"!=typeof u||(u=new(C(u||"float32"))(r+A));var n=u.length-A;if(r!==n)throw new Error("source length "+r+" ("+o+"x"+S.length+") does not match destination length "+n);for(T=0,l=A;T<S.length;T++)for(m=0;m<o;m++)u[l++]=null===S[T][m]?NaN:S[T][m]}else if(u&&"string"!=typeof u)u.set(S,A);else{var a=C(u||"float32");if(Array.isArray(S)||"array"===u)for(T=0,l=A,t=(u=new a(S.length+A)).length;l<t;l++,T++)u[l]=null===S[T]?NaN:S[T];else 0===A?u=new a(S):(u=new a(S.length+A)).set(S,A)}return u}},68016:function(ie,B,e){"use strict";var C=e(53313),S=[32,126];ie.exports=function(u){var A=(u=u||{}).shape?u.shape:u.canvas?[u.canvas.width,u.canvas.height]:[512,512],T=u.canvas||document.createElement("canvas"),m=u.font,l="number"==typeof u.step?[u.step,u.step]:u.step||[32,32],t=u.chars||S;if(m&&"string"!=typeof m&&(m=C(m)),Array.isArray(t)){if(2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]){for(var o=[],r=t[0],n=0;r<=t[1];r++)o[n++]=String.fromCharCode(r);t=o}}else t=String(t).split("");A=A.slice(),T.width=A[0],T.height=A[1];var a=T.getContext("2d");a.fillStyle="#000",a.fillRect(0,0,T.width,T.height),a.font=m,a.textAlign="center",a.textBaseline="middle",a.fillStyle="#fff";var s=l[0]/2,c=l[1]/2;for(r=0;r<t.length;r++)a.fillText(t[r],s,c),(s+=l[0])>A[0]-l[0]/2&&(s=l[0]/2,c+=l[1]);return T}},32879:function(ie){"use strict";function B(u,A){A||(A={}),("string"==typeof u||Array.isArray(u))&&(A.family=u);var T=Array.isArray(A.family)?A.family.join(", "):A.family;if(!T)throw Error("`family` must be defined");var m=A.size||A.fontSize||A.em||48,t=(u=[A.style||A.fontStyle||"",A.weight||A.fontWeight||"",m].join(" ")+"px "+T,A.origin||"top");if(B.cache[T]&&m<=B.cache[T].em)return e(B.cache[T],t);var o=A.canvas||B.canvas,r=o.getContext("2d"),n={upper:void 0!==A.upper?A.upper:"H",lower:void 0!==A.lower?A.lower:"x",descent:void 0!==A.descent?A.descent:"p",ascent:void 0!==A.ascent?A.ascent:"h",tittle:void 0!==A.tittle?A.tittle:"i",overshoot:void 0!==A.overshoot?A.overshoot:"O"},a=Math.ceil(1.5*m);o.height=a,o.width=.5*a,r.font=u;var s="H",c={top:0};r.clearRect(0,0,a,a),r.textBaseline="top",r.fillStyle="black",r.fillText(s,0,0);var p=C(r.getImageData(0,0,a,a));r.clearRect(0,0,a,a),r.textBaseline="bottom",r.fillText(s,0,a);var f=C(r.getImageData(0,0,a,a));c.lineHeight=c.bottom=a-f+p,r.clearRect(0,0,a,a),r.textBaseline="alphabetic",r.fillText(s,0,a);var w=a-C(r.getImageData(0,0,a,a))-1+p;c.baseline=c.alphabetic=w,r.clearRect(0,0,a,a),r.textBaseline="middle",r.fillText(s,0,.5*a);var v=C(r.getImageData(0,0,a,a));c.median=c.middle=a-v-1+p-.5*a,r.clearRect(0,0,a,a),r.textBaseline="hanging",r.fillText(s,0,.5*a);var h=C(r.getImageData(0,0,a,a));c.hanging=a-h-1+p-.5*a,r.clearRect(0,0,a,a),r.textBaseline="ideographic",r.fillText(s,0,a);var _=C(r.getImageData(0,0,a,a));if(c.ideographic=a-_-1+p,n.upper&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(n.upper,0,0),c.upper=C(r.getImageData(0,0,a,a)),c.capHeight=c.baseline-c.upper),n.lower&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(n.lower,0,0),c.lower=C(r.getImageData(0,0,a,a)),c.xHeight=c.baseline-c.lower),n.tittle&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(n.tittle,0,0),c.tittle=C(r.getImageData(0,0,a,a))),n.ascent&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(n.ascent,0,0),c.ascent=C(r.getImageData(0,0,a,a))),n.descent&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(n.descent,0,0),c.descent=S(r.getImageData(0,0,a,a))),n.overshoot){r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(n.overshoot,0,0);var x=S(r.getImageData(0,0,a,a));c.overshoot=x-w}for(var b in c)c[b]/=m;return c.em=m,B.cache[T]=c,e(c,t)}function e(u,A){var T={};for(var m in"string"==typeof A&&(A=u[A]),u)"em"!==m&&(T[m]=u[m]-A);return T}function C(u){for(var A=u.height,T=u.data,m=3;m<T.length;m+=4)if(0!==T[m])return Math.floor(.25*(m-3)/A)}function S(u){for(var A=u.height,T=u.data,m=T.length-1;m>0;m-=4)if(0!==T[m])return Math.floor(.25*(m-3)/A)}ie.exports=B,B.canvas=document.createElement("canvas"),B.cache={}},31353:function(ie,B,e){"use strict";var C=e(85395),S=Object.prototype.toString,u=Object.prototype.hasOwnProperty;ie.exports=function(A,T,m){if(!C(T))throw new TypeError("iterator must be a function");var l;arguments.length>=3&&(l=m),"[object Array]"===S.call(A)?function(t,o,r){for(var n=0,a=t.length;n<a;n++)u.call(t,n)&&(null==r?o(t[n],n,t):o.call(r,t[n],n,t))}(A,T,l):"string"==typeof A?function(t,o,r){for(var n=0,a=t.length;n<a;n++)null==r?o(t.charAt(n),n,t):o.call(r,t.charAt(n),n,t)}(A,T,l):function(t,o,r){for(var n in t)u.call(t,n)&&(null==r?o(t[n],n,t):o.call(r,t[n],n,t))}(A,T,l)}},73047:function(ie){"use strict";var B=Array.prototype.slice,e=Object.prototype.toString;ie.exports=function(C){var S=this;if("function"!=typeof S||"[object Function]"!==e.call(S))throw new TypeError("Function.prototype.bind called on incompatible "+S);for(var u,A=B.call(arguments,1),T=Math.max(0,S.length-A.length),m=[],l=0;l<T;l++)m.push("$"+l);if(u=Function("binder","return function ("+m.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof u){var o=S.apply(this,A.concat(B.call(arguments)));return Object(o)===o?o:this}return S.apply(C,A.concat(B.call(arguments)))}),S.prototype){var t=function(){};t.prototype=S.prototype,u.prototype=new t,t.prototype=null}return u}},77575:function(ie,B,e){"use strict";var C=e(73047);ie.exports=Function.prototype.bind||C},86249:function(ie){ie.exports=function(B,e){if("string"!=typeof B)throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var C=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(C.width=e.width),"number"==typeof e.height&&(C.height=e.height);var S,u=e;try{var A=[B];0===B.indexOf("webgl")&&A.push("experimental-"+B);for(var T=0;T<A.length;T++)if(S=C.getContext(A[T],u))return S}catch{S=null}return S||null}},68318:function(ie,B,e){"use strict";var C,S=SyntaxError,u=Function,A=TypeError,T=function(I){try{return u('"use strict"; return ('+I+").constructor;")()}catch{}},m=Object.getOwnPropertyDescriptor;if(m)try{m({},"")}catch{m=null}var l=function(){throw new A},t=m?function(){try{return l}catch{try{return m(arguments,"callee").get}catch{return l}}}():l,o=e(57877)(),r=Object.getPrototypeOf||function(I){return I.__proto__},n={},a=typeof Uint8Array>"u"?C:r(Uint8Array),s={"%AggregateError%":typeof AggregateError>"u"?C:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?C:ArrayBuffer,"%ArrayIteratorPrototype%":o?r([][Symbol.iterator]()):C,"%AsyncFromSyncIteratorPrototype%":C,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?C:Atomics,"%BigInt%":typeof BigInt>"u"?C:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?C:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?C:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?C:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?C:Float32Array,"%Float64Array%":typeof Float64Array>"u"?C:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?C:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?C:Int8Array,"%Int16Array%":typeof Int16Array>"u"?C:Int16Array,"%Int32Array%":typeof Int32Array>"u"?C:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":o?r(r([][Symbol.iterator]())):C,"%JSON%":"object"==typeof JSON?JSON:C,"%Map%":typeof Map>"u"?C:Map,"%MapIteratorPrototype%":typeof Map<"u"&&o?r((new Map)[Symbol.iterator]()):C,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?C:Promise,"%Proxy%":typeof Proxy>"u"?C:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?C:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?C:Set,"%SetIteratorPrototype%":typeof Set<"u"&&o?r((new Set)[Symbol.iterator]()):C,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?C:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":o?r(""[Symbol.iterator]()):C,"%Symbol%":o?Symbol:C,"%SyntaxError%":S,"%ThrowTypeError%":t,"%TypedArray%":a,"%TypeError%":A,"%Uint8Array%":typeof Uint8Array>"u"?C:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?C:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?C:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?C:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?C:WeakMap,"%WeakRef%":typeof WeakRef>"u"?C:WeakRef,"%WeakSet%":typeof WeakSet>"u"?C:WeakSet};try{null.error}catch(I){var c=r(r(I));s["%Error.prototype%"]=c}var p=function I(L){var P;if("%AsyncFunction%"===L)P=T("async function () {}");else if("%GeneratorFunction%"===L)P=T("function* () {}");else if("%AsyncGeneratorFunction%"===L)P=T("async function* () {}");else if("%AsyncGenerator%"===L){var R=I("%AsyncGeneratorFunction%");R&&(P=R.prototype)}else if("%AsyncIteratorPrototype%"===L){var z=I("%AsyncGenerator%");z&&(P=r(z.prototype))}return s[L]=P,P},f={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=e(77575),v=e(35065),h=w.call(Function.call,Array.prototype.concat),_=w.call(Function.apply,Array.prototype.splice),x=w.call(Function.call,String.prototype.replace),b=w.call(Function.call,String.prototype.slice),M=w.call(Function.call,RegExp.prototype.exec),d=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,k=function(I,L){var P,R=I;if(v(f,R)&&(R="%"+(P=f[R])[0]+"%"),v(s,R)){var z=s[R];if(z===n&&(z=p(R)),void 0===z&&!L)throw new A("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:P,name:R,value:z}}throw new S("intrinsic "+I+" does not exist!")};ie.exports=function(I,L){if("string"!=typeof I||0===I.length)throw new A("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof L)throw new A('"allowMissing" argument must be a boolean');if(null===M(/^%?[^%]*%?$/,I))throw new S("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var P=function(K){var te=b(K,0,1),oe=b(K,-1);if("%"===te&&"%"!==oe)throw new S("invalid intrinsic syntax, expected closing `%`");if("%"===oe&&"%"!==te)throw new S("invalid intrinsic syntax, expected opening `%`");var ue=[];return x(K,d,function(fe,he,me,ke){ue[ue.length]=me?x(ke,E,"$1"):he||fe}),ue}(I),R=P.length>0?P[0]:"",z=k("%"+R+"%",L),$=z.name,N=z.value,W=!1,H=z.alias;H&&(R=H[0],_(P,h([0,1],H)));for(var U=1,Z=!0;U<P.length;U+=1){var Y=P[U],ae=b(Y,0,1),re=b(Y,-1);if(('"'===ae||"'"===ae||"`"===ae||'"'===re||"'"===re||"`"===re)&&ae!==re)throw new S("property names with quotes must have matching quotes");if("constructor"!==Y&&Z||(W=!0),v(s,$="%"+(R+="."+Y)+"%"))N=s[$];else if(null!=N){if(!(Y in N)){if(!L)throw new A("base intrinsic for "+I+" exists, but the property is not available.");return}if(m&&U+1>=P.length){var Q=m(N,Y);N=(Z=!!Q)&&"get"in Q&&!("originalValue"in Q.get)?Q.get:N[Y]}else Z=v(N,Y),N=N[Y];Z&&!W&&(s[$]=N)}}return N}},85400:function(ie){ie.exports=function(B,e){var C=e[0],S=e[1],u=e[2],A=e[3],T=e[4],m=e[5],l=e[6],t=e[7],o=e[8],r=e[9],n=e[10],a=e[11],s=e[12],c=e[13],p=e[14],f=e[15];return B[0]=m*(n*f-a*p)-r*(l*f-t*p)+c*(l*a-t*n),B[1]=-(S*(n*f-a*p)-r*(u*f-A*p)+c*(u*a-A*n)),B[2]=S*(l*f-t*p)-m*(u*f-A*p)+c*(u*t-A*l),B[3]=-(S*(l*a-t*n)-m*(u*a-A*n)+r*(u*t-A*l)),B[4]=-(T*(n*f-a*p)-o*(l*f-t*p)+s*(l*a-t*n)),B[5]=C*(n*f-a*p)-o*(u*f-A*p)+s*(u*a-A*n),B[6]=-(C*(l*f-t*p)-T*(u*f-A*p)+s*(u*t-A*l)),B[7]=C*(l*a-t*n)-T*(u*a-A*n)+o*(u*t-A*l),B[8]=T*(r*f-a*c)-o*(m*f-t*c)+s*(m*a-t*r),B[9]=-(C*(r*f-a*c)-o*(S*f-A*c)+s*(S*a-A*r)),B[10]=C*(m*f-t*c)-T*(S*f-A*c)+s*(S*t-A*m),B[11]=-(C*(m*a-t*r)-T*(S*a-A*r)+o*(S*t-A*m)),B[12]=-(T*(r*p-n*c)-o*(m*p-l*c)+s*(m*n-l*r)),B[13]=C*(r*p-n*c)-o*(S*p-u*c)+s*(S*n-u*r),B[14]=-(C*(m*p-l*c)-T*(S*p-u*c)+s*(S*l-u*m)),B[15]=C*(m*n-l*r)-T*(S*n-u*r)+o*(S*l-u*m),B}},42331:function(ie){ie.exports=function(B){var e=new Float32Array(16);return e[0]=B[0],e[1]=B[1],e[2]=B[2],e[3]=B[3],e[4]=B[4],e[5]=B[5],e[6]=B[6],e[7]=B[7],e[8]=B[8],e[9]=B[9],e[10]=B[10],e[11]=B[11],e[12]=B[12],e[13]=B[13],e[14]=B[14],e[15]=B[15],e}},31042:function(ie){ie.exports=function(B,e){return B[0]=e[0],B[1]=e[1],B[2]=e[2],B[3]=e[3],B[4]=e[4],B[5]=e[5],B[6]=e[6],B[7]=e[7],B[8]=e[8],B[9]=e[9],B[10]=e[10],B[11]=e[11],B[12]=e[12],B[13]=e[13],B[14]=e[14],B[15]=e[15],B}},11902:function(ie){ie.exports=function(){var B=new Float32Array(16);return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},89887:function(ie){ie.exports=function(B){var e=B[0],C=B[1],S=B[2],u=B[3],A=B[4],T=B[5],m=B[6],l=B[7],t=B[8],o=B[9],r=B[10],n=B[11],a=B[12],s=B[13],c=B[14],p=B[15];return(e*T-C*A)*(r*p-n*c)-(e*m-S*A)*(o*p-n*s)+(e*l-u*A)*(o*c-r*s)+(C*m-S*T)*(t*p-n*a)-(C*l-u*T)*(t*c-r*a)+(S*l-u*m)*(t*s-o*a)}},27812:function(ie){ie.exports=function(B,e){var C=e[0],S=e[1],u=e[2],A=e[3],T=C+C,m=S+S,l=u+u,t=C*T,o=S*T,r=S*m,n=u*T,a=u*m,s=u*l,c=A*T,p=A*m,f=A*l;return B[0]=1-r-s,B[1]=o+f,B[2]=n-p,B[3]=0,B[4]=o-f,B[5]=1-t-s,B[6]=a+c,B[7]=0,B[8]=n+p,B[9]=a-c,B[10]=1-t-r,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},34045:function(ie){ie.exports=function(B,e,C){var S,u,A,T=C[0],m=C[1],l=C[2],t=Math.sqrt(T*T+m*m+l*l);return Math.abs(t)<1e-6?null:(T*=t=1/t,m*=t,l*=t,S=Math.sin(e),A=1-(u=Math.cos(e)),B[0]=T*T*A+u,B[1]=m*T*A+l*S,B[2]=l*T*A-m*S,B[3]=0,B[4]=T*m*A-l*S,B[5]=m*m*A+u,B[6]=l*m*A+T*S,B[7]=0,B[8]=T*l*A+m*S,B[9]=m*l*A-T*S,B[10]=l*l*A+u,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B)}},45973:function(ie){ie.exports=function(B,e,C){var S=e[0],u=e[1],A=e[2],T=e[3],m=S+S,l=u+u,t=A+A,o=S*m,r=S*l,n=S*t,a=u*l,s=u*t,c=A*t,p=T*m,f=T*l,w=T*t;return B[0]=1-(a+c),B[1]=r+w,B[2]=n-f,B[3]=0,B[4]=r-w,B[5]=1-(o+c),B[6]=s+p,B[7]=0,B[8]=n+f,B[9]=s-p,B[10]=1-(o+a),B[11]=0,B[12]=C[0],B[13]=C[1],B[14]=C[2],B[15]=1,B}},81472:function(ie){ie.exports=function(B,e){return B[0]=e[0],B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=e[1],B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=e[2],B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},14669:function(ie){ie.exports=function(B,e){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=e[0],B[13]=e[1],B[14]=e[2],B[15]=1,B}},75262:function(ie){ie.exports=function(B,e){var C=Math.sin(e),S=Math.cos(e);return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=S,B[6]=C,B[7]=0,B[8]=0,B[9]=-C,B[10]=S,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},331:function(ie){ie.exports=function(B,e){var C=Math.sin(e),S=Math.cos(e);return B[0]=S,B[1]=0,B[2]=-C,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=C,B[9]=0,B[10]=S,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},11049:function(ie){ie.exports=function(B,e){var C=Math.sin(e),S=Math.cos(e);return B[0]=S,B[1]=C,B[2]=0,B[3]=0,B[4]=-C,B[5]=S,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},75195:function(ie){ie.exports=function(B,e,C,S,u,A,T){var m=1/(C-e),l=1/(u-S),t=1/(A-T);return B[0]=2*A*m,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=2*A*l,B[6]=0,B[7]=0,B[8]=(C+e)*m,B[9]=(u+S)*l,B[10]=(T+A)*t,B[11]=-1,B[12]=0,B[13]=0,B[14]=T*A*2*t,B[15]=0,B}},71551:function(ie){ie.exports=function(B){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},79576:function(ie,B,e){ie.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(ie){ie.exports=function(B,e){var C=e[0],S=e[1],u=e[2],A=e[3],T=e[4],m=e[5],l=e[6],t=e[7],o=e[8],r=e[9],n=e[10],a=e[11],s=e[12],c=e[13],p=e[14],f=e[15],w=C*m-S*T,v=C*l-u*T,h=C*t-A*T,_=S*l-u*m,x=S*t-A*m,b=u*t-A*l,M=o*c-r*s,d=o*p-n*s,E=o*f-a*s,k=r*p-n*c,I=r*f-a*c,L=n*f-a*p,P=w*L-v*I+h*k+_*E-x*d+b*M;return P?(B[0]=(m*L-l*I+t*k)*(P=1/P),B[1]=(u*I-S*L-A*k)*P,B[2]=(c*b-p*x+f*_)*P,B[3]=(n*x-r*b-a*_)*P,B[4]=(l*E-T*L-t*d)*P,B[5]=(C*L-u*E+A*d)*P,B[6]=(p*h-s*b-f*v)*P,B[7]=(o*b-n*h+a*v)*P,B[8]=(T*I-m*E+t*M)*P,B[9]=(S*E-C*I-A*M)*P,B[10]=(s*x-c*h+f*w)*P,B[11]=(r*h-o*x-a*w)*P,B[12]=(m*d-T*k-l*M)*P,B[13]=(C*k-S*d+u*M)*P,B[14]=(c*v-s*_-p*w)*P,B[15]=(o*_-r*v+n*w)*P,B):null}},65551:function(ie,B,e){var C=e(71551);ie.exports=function(S,u,A,T){var m,l,t,o,r,n,a,s,c,p,f=u[0],w=u[1],v=u[2],h=T[0],_=T[1],x=T[2],b=A[0],M=A[1],d=A[2];return Math.abs(f-b)<1e-6&&Math.abs(w-M)<1e-6&&Math.abs(v-d)<1e-6?C(S):(a=f-b,s=w-M,c=v-d,m=_*(c*=p=1/Math.sqrt(a*a+s*s+c*c))-x*(s*=p),l=x*(a*=p)-h*c,t=h*s-_*a,(p=Math.sqrt(m*m+l*l+t*t))?(m*=p=1/p,l*=p,t*=p):(m=0,l=0,t=0),o=s*t-c*l,r=c*m-a*t,n=a*l-s*m,(p=Math.sqrt(o*o+r*r+n*n))?(o*=p=1/p,r*=p,n*=p):(o=0,r=0,n=0),S[0]=m,S[1]=o,S[2]=a,S[3]=0,S[4]=l,S[5]=r,S[6]=s,S[7]=0,S[8]=t,S[9]=n,S[10]=c,S[11]=0,S[12]=-(m*f+l*w+t*v),S[13]=-(o*f+r*w+n*v),S[14]=-(a*f+s*w+c*v),S[15]=1,S)}},91362:function(ie){ie.exports=function(B,e,C){var S=e[0],u=e[1],A=e[2],T=e[3],m=e[4],l=e[5],t=e[6],o=e[7],r=e[8],n=e[9],a=e[10],s=e[11],c=e[12],p=e[13],f=e[14],w=e[15],v=C[0],h=C[1],_=C[2],x=C[3];return B[0]=v*S+h*m+_*r+x*c,B[1]=v*u+h*l+_*n+x*p,B[2]=v*A+h*t+_*a+x*f,B[3]=v*T+h*o+_*s+x*w,B[4]=(v=C[4])*S+(h=C[5])*m+(_=C[6])*r+(x=C[7])*c,B[5]=v*u+h*l+_*n+x*p,B[6]=v*A+h*t+_*a+x*f,B[7]=v*T+h*o+_*s+x*w,B[8]=(v=C[8])*S+(h=C[9])*m+(_=C[10])*r+(x=C[11])*c,B[9]=v*u+h*l+_*n+x*p,B[10]=v*A+h*t+_*a+x*f,B[11]=v*T+h*o+_*s+x*w,B[12]=(v=C[12])*S+(h=C[13])*m+(_=C[14])*r+(x=C[15])*c,B[13]=v*u+h*l+_*n+x*p,B[14]=v*A+h*t+_*a+x*f,B[15]=v*T+h*o+_*s+x*w,B}},60378:function(ie){ie.exports=function(B,e,C,S,u,A,T){var m=1/(e-C),l=1/(S-u),t=1/(A-T);return B[0]=-2*m,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=-2*l,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=2*t,B[11]=0,B[12]=(e+C)*m,B[13]=(u+S)*l,B[14]=(T+A)*t,B[15]=1,B}},7864:function(ie){ie.exports=function(B,e,C,S,u){var A=1/Math.tan(e/2),T=1/(S-u);return B[0]=A/C,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=A,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=(u+S)*T,B[11]=-1,B[12]=0,B[13]=0,B[14]=2*u*S*T,B[15]=0,B}},35279:function(ie){ie.exports=function(B,e,C,S){var u=Math.tan(e.upDegrees*Math.PI/180),A=Math.tan(e.downDegrees*Math.PI/180),T=Math.tan(e.leftDegrees*Math.PI/180),m=Math.tan(e.rightDegrees*Math.PI/180),l=2/(T+m),t=2/(u+A);return B[0]=l,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=t,B[6]=0,B[7]=0,B[8]=-(T-m)*l*.5,B[9]=(u-A)*t*.5,B[10]=S/(C-S),B[11]=-1,B[12]=0,B[13]=0,B[14]=S*C/(C-S),B[15]=0,B}},65074:function(ie){ie.exports=function(B,e,C,S){var u,A,T,m,l,t,o,r,n,a,s,c,p,f,w,v,h,_,x,b,M,d,E,k,I=S[0],L=S[1],P=S[2],R=Math.sqrt(I*I+L*L+P*P);return Math.abs(R)<1e-6?null:(I*=R=1/R,L*=R,P*=R,u=Math.sin(C),T=1-(A=Math.cos(C)),l=e[1],t=e[2],o=e[3],n=e[5],a=e[6],s=e[7],p=e[9],f=e[10],w=e[11],x=I*L*T-P*u,b=L*L*T+A,M=P*L*T+I*u,d=I*P*T+L*u,E=L*P*T-I*u,k=P*P*T+A,B[0]=(m=e[0])*(v=I*I*T+A)+(r=e[4])*(h=L*I*T+P*u)+(c=e[8])*(_=P*I*T-L*u),B[1]=l*v+n*h+p*_,B[2]=t*v+a*h+f*_,B[3]=o*v+s*h+w*_,B[4]=m*x+r*b+c*M,B[5]=l*x+n*b+p*M,B[6]=t*x+a*b+f*M,B[7]=o*x+s*b+w*M,B[8]=m*d+r*E+c*k,B[9]=l*d+n*E+p*k,B[10]=t*d+a*E+f*k,B[11]=o*d+s*E+w*k,e!==B&&(B[12]=e[12],B[13]=e[13],B[14]=e[14],B[15]=e[15]),B)}},35545:function(ie){ie.exports=function(B,e,C){var S=Math.sin(C),u=Math.cos(C),A=e[4],T=e[5],m=e[6],l=e[7],t=e[8],o=e[9],r=e[10],n=e[11];return e!==B&&(B[0]=e[0],B[1]=e[1],B[2]=e[2],B[3]=e[3],B[12]=e[12],B[13]=e[13],B[14]=e[14],B[15]=e[15]),B[4]=A*u+t*S,B[5]=T*u+o*S,B[6]=m*u+r*S,B[7]=l*u+n*S,B[8]=t*u-A*S,B[9]=o*u-T*S,B[10]=r*u-m*S,B[11]=n*u-l*S,B}},94918:function(ie){ie.exports=function(B,e,C){var S=Math.sin(C),u=Math.cos(C),A=e[0],T=e[1],m=e[2],l=e[3],t=e[8],o=e[9],r=e[10],n=e[11];return e!==B&&(B[4]=e[4],B[5]=e[5],B[6]=e[6],B[7]=e[7],B[12]=e[12],B[13]=e[13],B[14]=e[14],B[15]=e[15]),B[0]=A*u-t*S,B[1]=T*u-o*S,B[2]=m*u-r*S,B[3]=l*u-n*S,B[8]=A*S+t*u,B[9]=T*S+o*u,B[10]=m*S+r*u,B[11]=l*S+n*u,B}},15692:function(ie){ie.exports=function(B,e,C){var S=Math.sin(C),u=Math.cos(C),A=e[0],T=e[1],m=e[2],l=e[3],t=e[4],o=e[5],r=e[6],n=e[7];return e!==B&&(B[8]=e[8],B[9]=e[9],B[10]=e[10],B[11]=e[11],B[12]=e[12],B[13]=e[13],B[14]=e[14],B[15]=e[15]),B[0]=A*u+t*S,B[1]=T*u+o*S,B[2]=m*u+r*S,B[3]=l*u+n*S,B[4]=t*u-A*S,B[5]=o*u-T*S,B[6]=r*u-m*S,B[7]=n*u-l*S,B}},10789:function(ie){ie.exports=function(B,e,C){var S=C[0],u=C[1],A=C[2];return B[0]=e[0]*S,B[1]=e[1]*S,B[2]=e[2]*S,B[3]=e[3]*S,B[4]=e[4]*u,B[5]=e[5]*u,B[6]=e[6]*u,B[7]=e[7]*u,B[8]=e[8]*A,B[9]=e[9]*A,B[10]=e[10]*A,B[11]=e[11]*A,B[12]=e[12],B[13]=e[13],B[14]=e[14],B[15]=e[15],B}},6726:function(ie){ie.exports=function(B){return"mat4("+B[0]+", "+B[1]+", "+B[2]+", "+B[3]+", "+B[4]+", "+B[5]+", "+B[6]+", "+B[7]+", "+B[8]+", "+B[9]+", "+B[10]+", "+B[11]+", "+B[12]+", "+B[13]+", "+B[14]+", "+B[15]+")"}},31283:function(ie){ie.exports=function(B,e,C){var S,u,A,T,m,l,t,o,r,n,a,s,c=C[0],p=C[1],f=C[2];return e===B?(B[12]=e[0]*c+e[4]*p+e[8]*f+e[12],B[13]=e[1]*c+e[5]*p+e[9]*f+e[13],B[14]=e[2]*c+e[6]*p+e[10]*f+e[14],B[15]=e[3]*c+e[7]*p+e[11]*f+e[15]):(u=e[1],A=e[2],T=e[3],m=e[4],l=e[5],t=e[6],o=e[7],r=e[8],n=e[9],a=e[10],s=e[11],B[0]=S=e[0],B[1]=u,B[2]=A,B[3]=T,B[4]=m,B[5]=l,B[6]=t,B[7]=o,B[8]=r,B[9]=n,B[10]=a,B[11]=s,B[12]=S*c+m*p+r*f+e[12],B[13]=u*c+l*p+n*f+e[13],B[14]=A*c+t*p+a*f+e[14],B[15]=T*c+o*p+s*f+e[15]),B}},88654:function(ie){ie.exports=function(B,e){if(B===e){var C=e[1],S=e[2],u=e[3],A=e[6],T=e[7],m=e[11];B[1]=e[4],B[2]=e[8],B[3]=e[12],B[4]=C,B[6]=e[9],B[7]=e[13],B[8]=S,B[9]=A,B[11]=e[14],B[12]=u,B[13]=T,B[14]=m}else B[0]=e[0],B[1]=e[4],B[2]=e[8],B[3]=e[12],B[4]=e[1],B[5]=e[5],B[6]=e[9],B[7]=e[13],B[8]=e[2],B[9]=e[6],B[10]=e[10],B[11]=e[14],B[12]=e[3],B[13]=e[7],B[14]=e[11],B[15]=e[15];return B}},42505:function(ie,B,e){"use strict";var C=e(72791),S=e(71299),u=e(98580),A=e(12018),T=e(83522),m=e(25075),l=e(68016),t=e(58404),o=e(18863),r=e(10973),n=e(25677),a=e(75686),s=e(53545),c=e(56131),p=e(32879),f=e(30120),w=e(13547).nextPow2,v=new T,h=!1;if(document.body){var _=document.body.appendChild(document.createElement("div"));_.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(_).fontStretch&&(h=!0),document.body.removeChild(_)}var x=function(b){var M;this.gl="function"==typeof(M=b)&&M._gl&&M.prop&&M.texture&&M.buffer?(b={regl:b}).regl._gl:A(b),this.shader=v.get(this.gl),this.regl=this.shader?this.shader.regl:b.regl||u({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),v.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(r(b)?b:{})};x.prototype.createShader=function(){var b=this.regl,M=b({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:b.prop("count"),offset:b.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:b.this("sizeBuffer")},width:{offset:0,stride:8,buffer:b.this("sizeBuffer")},char:b.this("charBuffer"),position:b.this("position")},uniforms:{atlasSize:function(d,E){return[E.atlas.width,E.atlas.height]},atlasDim:function(d,E){return[E.atlas.cols,E.atlas.rows]},atlas:function(d,E){return E.atlas.texture},charStep:function(d,E){return E.atlas.step},em:function(d,E){return E.atlas.em},color:b.prop("color"),opacity:b.prop("opacity"),viewport:b.this("viewportArray"),scale:b.this("scale"),align:b.prop("align"),baseline:b.prop("baseline"),translate:b.this("translate"),positionOffset:b.prop("positionOffset")},primitive:"points",viewport:b.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:b,draw:M,atlas:{}}},x.prototype.update=function(b){var M=this;if("string"==typeof b)b={text:b};else if(!b)return;null!=(b=S(b,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(this.opacity=Array.isArray(b.opacity)?b.opacity.map(function(se){return parseFloat(se)}):parseFloat(b.opacity)),null!=b.viewport&&(this.viewport=o(b.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=b.kerning&&(this.kerning=b.kerning),null!=b.offset&&("number"==typeof b.offset&&(b.offset=[b.offset,0]),this.positionOffset=f(b.offset)),b.direction&&(this.direction=b.direction),b.range&&(this.range=b.range,this.scale=[1/(b.range[2]-b.range[0]),1/(b.range[3]-b.range[1])],this.translate=[-b.range[0],-b.range[1]]),b.scale&&(this.scale=b.scale),b.translate&&(this.translate=b.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||b.font||(b.font=x.baseFontSize+"px sans-serif");var d,E=!1,k=!1;if(b.font&&(Array.isArray(b.font)?b.font:[b.font]).forEach(function(se,we){if("string"==typeof se)try{se=C.parse(se)}catch{se=C.parse(x.baseFontSize+"px "+se)}else se=C.parse(C.stringify(se));var Re=C.stringify({size:x.baseFontSize,family:se.family,stretch:h?se.stretch:void 0,variant:se.variant,weight:se.weight,style:se.style}),Ee=n(se.size),Ue=Math.round(Ee[0]*a(Ee[1]));if(Ue!==M.fontSize[we]&&(k=!0,M.fontSize[we]=Ue),!(M.font[we]&&Re==M.font[we].baseString||(E=!0,M.font[we]=x.fonts[Re],M.font[we]))){var $e=se.family.join(", "),ve=[se.style];se.style!=se.variant&&ve.push(se.variant),se.variant!=se.weight&&ve.push(se.weight),h&&se.weight!=se.stretch&&ve.push(se.stretch),M.font[we]={baseString:Re,family:$e,weight:se.weight,stretch:se.stretch,style:se.style,variant:se.variant,width:{},kerning:{},metrics:p($e,{origin:"top",fontSize:x.baseFontSize,fontStyle:ve.join(" ")})},x.fonts[Re]=M.font[we]}}),(E||k)&&this.font.forEach(function(se,we){var Re=C.stringify({size:M.fontSize[we],family:se.family,stretch:h?se.stretch:void 0,variant:se.variant,weight:se.weight,style:se.style});M.fontAtlas[we]=M.shader.atlas[Re],M.fontAtlas[we]||(M.shader.atlas[Re]=M.fontAtlas[we]={fontString:Re,step:2*Math.ceil(M.fontSize[we]*se.metrics.bottom*.5),em:M.fontSize[we],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:M.regl.texture()}),null==b.text&&(b.text=M.text)}),"string"==typeof b.text&&b.position&&b.position.length>2){for(var I=Array(.5*b.position.length),L=0;L<I.length;L++)I[L]=b.text;b.text=I}if(null!=b.text||E){if(this.textOffsets=[0],Array.isArray(b.text)){this.count=b.text[0].length,this.counts=[this.count];for(var P=1;P<b.text.length;P++)this.textOffsets[P]=this.textOffsets[P-1]+b.text[P-1].length,this.count+=b.text[P].length,this.counts.push(b.text[P].length);this.text=b.text.join("")}else this.text=b.text,this.count=this.text.length,this.counts=[this.count];d=[],this.font.forEach(function(se,we){x.atlasContext.font=se.baseString;for(var Re=M.fontAtlas[we],Ee=0;Ee<M.text.length;Ee++){var Ue=M.text.charAt(Ee);if(null==Re.ids[Ue]&&(Re.ids[Ue]=Re.chars.length,Re.chars.push(Ue),d.push(Ue)),null==se.width[Ue]&&(se.width[Ue]=x.atlasContext.measureText(Ue).width/x.baseFontSize,M.kerning)){var $e=[];for(var ve in se.width)$e.push(ve+Ue,Ue+ve);c(se.kerning,s(se.family,{pairs:$e}))}}})}if(b.position)if(b.position.length>2){for(var R=!b.position[0].length,z=t.mallocFloat(2*this.count),$=0,N=0;$<this.counts.length;$++){var W=this.counts[$];if(R)for(var H=0;H<W;H++)z[N++]=b.position[2*$],z[N++]=b.position[2*$+1];else for(var U=0;U<W;U++)z[N++]=b.position[$][0],z[N++]=b.position[$][1]}this.position.call?this.position({type:"float",data:z}):this.position=this.regl.buffer({type:"float",data:z}),t.freeFloat(z)}else this.position.destroy&&this.position.destroy(),this.position={constant:b.position};if(b.text||E){var Z=t.mallocUint8(this.count),Y=t.mallocFloat(2*this.count);this.textWidth=[];for(var ae=0,re=0;ae<this.counts.length;ae++){for(var Q=this.counts[ae],K=this.font[ae]||this.font[0],te=this.fontAtlas[ae]||this.fontAtlas[0],oe=0;oe<Q;oe++){var ue=this.text.charAt(re),fe=this.text.charAt(re-1);if(Z[re]=te.ids[ue],Y[2*re]=K.width[ue],oe){var ke=Y[2*re-1]+.5*Y[2*re-2]+.5*Y[2*re];if(this.kerning){var Pe=K.kerning[fe+ue];Pe&&(ke+=.001*Pe)}Y[2*re+1]=ke}else Y[2*re+1]=.5*Y[2*re];re++}this.textWidth.push(Y.length?.5*Y[2*re-2]+Y[2*re-1]:0)}b.align||(b.align=this.align),this.charBuffer({data:Z,type:"uint8",usage:"stream"}),this.sizeBuffer({data:Y,type:"float",usage:"stream"}),t.freeUint8(Z),t.freeFloat(Y),d.length&&this.font.forEach(function(se,we){var Re=M.fontAtlas[we],Ee=Re.step,Ue=Math.floor(x.maxAtlasSize/Ee),$e=Math.min(Ue,Re.chars.length),ve=Math.ceil(Re.chars.length/$e),Ie=w($e*Ee),De=w(ve*Ee);Re.width=Ie,Re.height=De,Re.rows=ve,Re.cols=$e,Re.em&&Re.texture({data:l({canvas:x.atlasCanvas,font:Re.fontString,chars:Re.chars,shape:[Ie,De],step:[Ee,Ee]})})})}if(b.align&&(this.align=b.align,this.alignOffset=this.textWidth.map(function(se,we){var Re=Array.isArray(M.align)?M.align.length>1?M.align[we]:M.align[0]:M.align;if("number"==typeof Re)return Re;switch(Re){case"right":case"end":return-se;case"center":case"centre":case"middle":return.5*-se}return 0})),null==this.baseline&&null==b.baseline&&(b.baseline=0),null!=b.baseline&&(this.baseline=b.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(se,we){var Re=(M.font[we]||M.font[0]).metrics,Ee=0;return-1*((Ee+=.5*Re.bottom)+("number"==typeof se?se-Re.baseline:-Re[se]))})),null!=b.color)if(b.color||(b.color="transparent"),"string"!=typeof b.color&&isNaN(b.color)){var Te;if("number"==typeof b.color[0]&&b.color.length>this.counts.length){var be=b.color.length;Te=t.mallocUint8(be);for(var xe=(b.color.subarray||b.color.slice).bind(b.color),Ne=0;Ne<be;Ne+=4)Te.set(m(xe(Ne,Ne+4),"uint8"),Ne)}else{var Se=b.color.length;Te=t.mallocUint8(4*Se);for(var Ce=0;Ce<Se;Ce++)Te.set(m(b.color[Ce]||0,"uint8"),4*Ce)}this.color=Te}else this.color=m(b.color,"uint8");if(b.position||b.text||b.color||b.baseline||b.align||b.font||b.offset||b.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var pe=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(pe);for(var de=0;de<this.batch.length;de++)this.batch[de]={count:this.counts.length>1?this.counts[de]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[de]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*de,4*de+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[de]:this.opacity,baseline:null!=this.baselineOffset[de]?this.baselineOffset[de]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[de]?this.alignOffset[de]:this.alignOffset[0]:0,atlas:this.fontAtlas[de]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*de,2*de+2):this.positionOffset}}else this.batch=this.count?[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:[]},x.prototype.destroy=function(){},x.prototype.kerning=!0,x.prototype.position={constant:new Float32Array(2)},x.prototype.translate=null,x.prototype.scale=null,x.prototype.font=null,x.prototype.text="",x.prototype.positionOffset=[0,0],x.prototype.opacity=1,x.prototype.color=new Uint8Array([0,0,0,255]),x.prototype.alignOffset=[0,0],x.maxAtlasSize=1024,x.atlasCanvas=document.createElement("canvas"),x.atlasContext=x.atlasCanvas.getContext("2d",{alpha:!1}),x.baseFontSize=64,x.fonts={},ie.exports=x},12018:function(ie,B,e){"use strict";var C=e(71299);function S(T){if(T.container)if(T.container==document.body)document.body.style.width||(T.canvas.width=T.width||T.pixelRatio*e.g.innerWidth),document.body.style.height||(T.canvas.height=T.height||T.pixelRatio*e.g.innerHeight);else{var m=T.container.getBoundingClientRect();T.canvas.width=T.width||m.right-m.left,T.canvas.height=T.height||m.bottom-m.top}}function u(T){return"function"==typeof T.getContext&&"width"in T&&"height"in T}function A(){var T=document.createElement("canvas");return T.style.position="absolute",T.style.top=0,T.style.left=0,T}ie.exports=function(T){var m,t;if(T?"string"==typeof T&&(T={container:T}):T={},(T=u(T)||"string"==typeof(m=T).nodeName&&"function"==typeof m.appendChild&&"function"==typeof m.getBoundingClientRect?{container:T}:(t=T,"function"==typeof t.drawArrays||"function"==typeof t.drawElements?{gl:T}:C(T,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0))).pixelRatio||(T.pixelRatio=e.g.pixelRatio||1),T.gl)return T.gl;if(T.canvas&&(T.container=T.canvas.parentNode),T.container){if("string"==typeof T.container){var l=document.querySelector(T.container);if(!l)throw Error("Element "+T.container+" is not found");T.container=l}u(T.container)?(T.canvas=T.container,T.container=T.canvas.parentNode):T.canvas||(T.canvas=A(),T.container.appendChild(T.canvas),S(T))}else if(!T.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");T.container=document.body||document.documentElement,T.canvas=A(),T.container.appendChild(T.canvas),S(T)}return T.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{T.gl=T.canvas.getContext(t,T.attrs)}catch{}return T.gl}),T.gl}},56068:function(ie){ie.exports=function(B){"string"==typeof B&&(B=[B]);for(var e=[].slice.call(arguments,1),C=[],S=0;S<B.length-1;S++)C.push(B[S],e[S]||"");return C.push(B[S]),C.join("")}},40383:function(ie,B,e){"use strict";var C=e(68318)("%Object.getOwnPropertyDescriptor%",!0);if(C)try{C([],"length")}catch{C=null}ie.exports=C},57035:function(ie,B,e){"use strict";var C,S=e(54404);C="function"==typeof e.g.matchMedia?!e.g.matchMedia("(hover: none)").matches:S,ie.exports=C},38520:function(ie,B,e){"use strict";var C=e(54404);ie.exports=C&&function(){var S=!1;try{var u=Object.defineProperty({},"passive",{get:function(){S=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{S=!1}return S}()},55622:function(ie,B,e){"use strict";var C=e(68318)("%Object.defineProperty%",!0),S=function(){if(C)try{return C({},"a",{value:1}),!0}catch{return!1}return!1};S.hasArrayLengthDefineBug=function(){if(!S())return null;try{return 1!==C([],"length",{value:1}).length}catch{return!0}},ie.exports=S},57877:function(ie,B,e){"use strict";var C=typeof Symbol<"u"&&Symbol,S=e(35638);ie.exports=function(){return"function"==typeof C&&"function"==typeof Symbol&&"symbol"==typeof C("foo")&&"symbol"==typeof Symbol("bar")&&S()}},35638:function(ie){"use strict";ie.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var B={},e=Symbol("test"),C=Object(e);if("string"==typeof e||"[object Symbol]"!==Object.prototype.toString.call(e)||"[object Symbol]"!==Object.prototype.toString.call(C))return!1;for(e in B[e]=42,B)return!1;if("function"==typeof Object.keys&&0!==Object.keys(B).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(B).length)return!1;var S=Object.getOwnPropertySymbols(B);if(1!==S.length||S[0]!==e||!Object.prototype.propertyIsEnumerable.call(B,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var u=Object.getOwnPropertyDescriptor(B,e);if(42!==u.value||!0!==u.enumerable)return!1}return!0}},84543:function(ie,B,e){"use strict";var C=e(35638);ie.exports=function(){return C()&&!!Symbol.toStringTag}},35065:function(ie,B,e){"use strict";var C=e(77575);ie.exports=C.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(ie,B){B.read=function(e,C,S,u,A){var T,m,l=8*A-u-1,t=(1<<l)-1,o=t>>1,r=-7,n=S?A-1:0,a=S?-1:1,s=e[C+n];for(n+=a,T=s&(1<<-r)-1,s>>=-r,r+=l;r>0;T=256*T+e[C+n],n+=a,r-=8);for(m=T&(1<<-r)-1,T>>=-r,r+=u;r>0;m=256*m+e[C+n],n+=a,r-=8);if(0===T)T=1-o;else{if(T===t)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,u),T-=o}return(s?-1:1)*m*Math.pow(2,T-u)},B.write=function(e,C,S,u,A,T){var m,l,t,o=8*T-A-1,r=(1<<o)-1,n=r>>1,a=23===A?Math.pow(2,-24)-Math.pow(2,-77):0,s=u?0:T-1,c=u?1:-1,p=C<0||0===C&&1/C<0?1:0;for(C=Math.abs(C),isNaN(C)||C===1/0?(l=isNaN(C)?1:0,m=r):(m=Math.floor(Math.log(C)/Math.LN2),C*(t=Math.pow(2,-m))<1&&(m--,t*=2),(C+=m+n>=1?a/t:a*Math.pow(2,1-n))*t>=2&&(m++,t/=2),m+n>=r?(l=0,m=r):m+n>=1?(l=(C*t-1)*Math.pow(2,A),m+=n):(l=C*Math.pow(2,n-1)*Math.pow(2,A),m=0));A>=8;e[S+s]=255&l,s+=c,l/=256,A-=8);for(m=m<<A|l,o+=A;o>0;e[S+s]=255&m,s+=c,m/=256,o-=8);e[S+s-c]|=128*p}},42018:function(ie){ie.exports="function"==typeof Object.create?function(B,e){e&&(B.super_=e,B.prototype=Object.create(e.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}))}:function(B,e){if(e){B.super_=e;var C=function(){};C.prototype=e.prototype,B.prototype=new C,B.prototype.constructor=B}}},47216:function(ie,B,e){"use strict";var C=e(84543)(),S=e(6614)("Object.prototype.toString"),u=function(m){return!(C&&m&&"object"==typeof m&&Symbol.toStringTag in m)&&"[object Arguments]"===S(m)},A=function(m){return!!u(m)||null!==m&&"object"==typeof m&&"number"==typeof m.length&&m.length>=0&&"[object Array]"!==S(m)&&"[object Function]"===S(m.callee)},T=function(){return u(arguments)}();u.isLegacyArguments=A,ie.exports=T?u:A},54404:function(ie){ie.exports=!0},85395:function(ie){"use strict";var B,e,C=Function.prototype.toString,S="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof S&&"function"==typeof Object.defineProperty)try{B=Object.defineProperty({},"length",{get:function(){throw e}}),e={},S(function(){throw 42},null,B)}catch(n){n!==e&&(S=null)}else S=null;var u=/^\s*class\b/,A=function(n){try{var a=C.call(n);return u.test(a)}catch{return!1}},T=function(n){try{return!A(n)&&(C.call(n),!0)}catch{return!1}},m=Object.prototype.toString,l="function"==typeof Symbol&&!!Symbol.toStringTag,t=!(0 in[,]),o=function(){return!1};if("object"==typeof document){var r=document.all;m.call(r)===m.call(document.all)&&(o=function(n){if((t||!n)&&(void 0===n||"object"==typeof n))try{var a=m.call(n);return("[object HTMLAllCollection]"===a||"[object HTML document.all class]"===a||"[object HTMLCollection]"===a||"[object Object]"===a)&&null==n("")}catch{}return!1})}ie.exports=S?function(n){if(o(n))return!0;if(!n||"function"!=typeof n&&"object"!=typeof n)return!1;try{S(n,null,B)}catch(a){if(a!==e)return!1}return!A(n)&&T(n)}:function(n){if(o(n))return!0;if(!n||"function"!=typeof n&&"object"!=typeof n)return!1;if(l)return T(n);if(A(n))return!1;var a=m.call(n);return!("[object Function]"!==a&&"[object GeneratorFunction]"!==a&&!/^\[object HTML/.test(a))&&T(n)}},65481:function(ie,B,e){"use strict";var C,S=Object.prototype.toString,u=Function.prototype.toString,A=/^\s*(?:function)?\*/,T=e(84543)(),m=Object.getPrototypeOf;ie.exports=function(l){if("function"!=typeof l)return!1;if(A.test(u.call(l)))return!0;if(!T)return"[object GeneratorFunction]"===S.call(l);if(!m)return!1;if(void 0===C){var t=function(){if(!T)return!1;try{return Function("return function*() {}")()}catch{}}();C=!!t&&m(t)}return m(l)===C}},62683:function(ie){"use strict";ie.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(ie){"use strict";ie.exports=function(B){return B!=B}},15567:function(ie,B,e){"use strict";var C=e(68222),S=e(17045),u=e(64274),A=e(14922),T=e(22442),m=C(A(),Number);S(m,{getPolyfill:A,implementation:u,shim:T}),ie.exports=m},14922:function(ie,B,e){"use strict";var C=e(64274);ie.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:C}},22442:function(ie,B,e){"use strict";var C=e(17045),S=e(14922);ie.exports=function(){var u=S();return C(Number,{isNaN:u},{isNaN:function(){return Number.isNaN!==u}}),u}},64941:function(ie){"use strict";ie.exports=function(B){var e=typeof B;return null!==B&&("object"===e||"function"===e)}},10973:function(ie){"use strict";var B=Object.prototype.toString;ie.exports=function(e){var C;return"[object Object]"===B.call(e)&&(null===(C=Object.getPrototypeOf(e))||C===Object.getPrototypeOf({}))}},18546:function(ie){"use strict";ie.exports=function(B){for(var e,C=B.length,S=0;S<C;S++)if(((e=B.charCodeAt(S))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}},89546:function(ie){"use strict";ie.exports=function(B){return"string"==typeof B&&(B=B.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(B)&&/[\dz]$/i.test(B)&&B.length>4))}},9187:function(ie,B,e){"use strict";var C=e(31353),S=e(72077),u=e(6614),A=u("Object.prototype.toString"),T=e(84543)(),m=e(40383),l=typeof globalThis>"u"?e.g:globalThis,t=S(),o=u("Array.prototype.indexOf",!0)||function(s,c){for(var p=0;p<s.length;p+=1)if(s[p]===c)return p;return-1},r=u("String.prototype.slice"),n={},a=Object.getPrototypeOf;T&&m&&a&&C(t,function(s){var c=new l[s];if(Symbol.toStringTag in c){var p=a(c),f=m(p,Symbol.toStringTag);if(!f){var w=a(p);f=m(w,Symbol.toStringTag)}n[s]=f.get}}),ie.exports=function(s){if(!s||"object"!=typeof s)return!1;if(!T||!(Symbol.toStringTag in s)){var c=r(A(s),8,-1);return o(t,c)>-1}return!!m&&(p=s,f=!1,C(n,function(w,v){if(!f)try{f=w.call(p)===v}catch{}}),f);var p,f}},44517:function(ie){ie.exports=function(){"use strict";var B,e,C;function S(u,A){if(B)if(e){var T="var sharedChunk = {}; ("+B+")(sharedChunk); ("+e+")(sharedChunk);",m={};B(m),(C=A(m)).workerUrl=window.URL.createObjectURL(new Blob([T],{type:"text/javascript"}))}else e=A;else B=A}return S(0,function(u){function A(D,F){return D(F={exports:{}},F.exports),F.exports}var T="1.10.1",m=l;function l(D,F,J,ge){this.cx=3*D,this.bx=3*(J-D)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*F,this.by=3*(ge-F)-this.cy,this.ay=1-this.cy-this.by,this.p1x=D,this.p1y=ge,this.p2x=J,this.p2y=ge}l.prototype.sampleCurveX=function(D){return((this.ax*D+this.bx)*D+this.cx)*D},l.prototype.sampleCurveY=function(D){return((this.ay*D+this.by)*D+this.cy)*D},l.prototype.sampleCurveDerivativeX=function(D){return(3*this.ax*D+2*this.bx)*D+this.cx},l.prototype.solveCurveX=function(D,F){var J,ge,Oe,Be,Ze;for(void 0===F&&(F=1e-6),Oe=D,Ze=0;Ze<8;Ze++){if(Be=this.sampleCurveX(Oe)-D,Math.abs(Be)<F)return Oe;var ot=this.sampleCurveDerivativeX(Oe);if(Math.abs(ot)<1e-6)break;Oe-=Be/ot}if((Oe=D)<(J=0))return J;if(Oe>(ge=1))return ge;for(;J<ge;){if(Be=this.sampleCurveX(Oe),Math.abs(Be-D)<F)return Oe;D>Be?J=Oe:ge=Oe,Oe=.5*(ge-J)+J}return Oe},l.prototype.solve=function(D,F){return this.sampleCurveY(this.solveCurveX(D,F))};var t=o;function o(D,F){this.x=D,this.y=F}function r(D,F,J,ge){var Oe=new m(D,F,J,ge);return function(Be){return Oe.solve(Be)}}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,F){return this.clone()._rotateAround(D,F)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var F=D.x-this.x,J=D.y-this.y;return F*F+J*J},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,F){return Math.atan2(this.x*F-this.y*D,this.x*D+this.y*F)},_matMult:function(D){var J=D[2]*this.x+D[3]*this.y;return this.x=D[0]*this.x+D[1]*this.y,this.y=J,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var F=Math.cos(D),J=Math.sin(D),Oe=J*this.x+F*this.y;return this.x=F*this.x-J*this.y,this.y=Oe,this},_rotateAround:function(D,F){var J=Math.cos(D),ge=Math.sin(D),Be=F.y+ge*(this.x-F.x)+J*(this.y-F.y);return this.x=F.x+J*(this.x-F.x)-ge*(this.y-F.y),this.y=Be,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(D){return D instanceof o?D:Array.isArray(D)?new o(D[0],D[1]):D};var n=r(.25,.1,.25,1);function a(D,F,J){return Math.min(J,Math.max(F,D))}function s(D,F,J){var ge=J-F,Oe=((D-F)%ge+ge)%ge+F;return Oe===F?J:Oe}function c(D){for(var F=[],J=arguments.length-1;J-- >0;)F[J]=arguments[J+1];for(var ge=0,Oe=F;ge<Oe.length;ge+=1){var Be=Oe[ge];for(var Ze in Be)D[Ze]=Be[Ze]}return D}var p=1;function f(){return p++}function w(){return function D(F){return F?(F^16*Math.random()>>F/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,D)}()}function v(D){return!!D&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D)}function h(D,F){D.forEach(function(J){F[J]&&(F[J]=F[J].bind(F))})}function _(D,F){return-1!==D.indexOf(F,D.length-F.length)}function x(D,F,J){var ge={};for(var Oe in D)ge[Oe]=F.call(J||this,D[Oe],Oe,D);return ge}function b(D,F,J){var ge={};for(var Oe in D)F.call(J||this,D[Oe],Oe,D)&&(ge[Oe]=D[Oe]);return ge}function M(D){return Array.isArray(D)?D.map(M):"object"==typeof D&&D?x(D,M):D}var d={};function E(D){d[D]||(typeof console<"u"&&console.warn(D),d[D]=!0)}function k(D,F,J){return(J.y-D.y)*(F.x-D.x)>(F.y-D.y)*(J.x-D.x)}function I(D){for(var F=0,J=0,ge=D.length,Oe=ge-1,Be=void 0,Ze=void 0;J<ge;Oe=J++)F+=((Ze=D[Oe]).x-(Be=D[J]).x)*(Be.y+Ze.y);return F}function L(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function P(D){var F={};if(D.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ge,Oe,Be,Ze){var ot=Be||Ze;return F[Oe]=!ot||ot.toLowerCase(),""}),F["max-age"]){var J=parseInt(F["max-age"],10);isNaN(J)?delete F["max-age"]:F["max-age"]=J}return F}var R=null;function z(D){if(null==R){var F=D.navigator?D.navigator.userAgent:null;R=!!D.safari||!(!F||!(/\b(iPad|iPhone|iPod)\b/.test(F)||F.match("Safari")&&!F.match("Chrome")))}return R}function $(D){try{var F=self[D];return F.setItem("_mapbox_test_",1),F.removeItem("_mapbox_test_"),!0}catch{return!1}}var N,W,H,U,Z=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),Y=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,ae=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,re={now:Z,frame:function(D){var F=Y(D);return{cancel:function(){return ae(F)}}},getImageData:function(D,F){void 0===F&&(F=0);var J=self.document.createElement("canvas"),ge=J.getContext("2d");if(!ge)throw new Error("failed to create canvas 2d context");return J.width=D.width,J.height=D.height,ge.drawImage(D,0,0,D.width,D.height),ge.getImageData(-F,-F,D.width+2*F,D.height+2*F)},resolveURL:function(D){return N||(N=self.document.createElement("a")),N.href=D,N.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==W&&(W=self.matchMedia("(prefers-reduced-motion: reduce)")),W.matches)}},Q={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},K={supported:!1,testSupport:function(D){!te&&U&&(oe?ue(D):H=D)}},te=!1,oe=!1;function ue(D){var F=D.createTexture();D.bindTexture(D.TEXTURE_2D,F);try{if(D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,U),D.isContextLost())return;K.supported=!0}catch{}D.deleteTexture(F),te=!0}self.document&&((U=self.document.createElement("img")).onload=function(){H&&ue(H),H=null,oe=!0},U.onerror=function(){te=!0,H=null},U.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var fe="01",he=function(D,F){this._transformRequestFn=D,this._customAccessToken=F,this._createSkuToken()};function me(D){return 0===D.indexOf("mapbox:")}he.prototype._createSkuToken=function(){var D=function(){for(var F="",J=0;J<10;J++)F+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",fe,F].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},he.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},he.prototype.transformRequest=function(D,F){return this._transformRequestFn&&this._transformRequestFn(D,F)||{url:D}},he.prototype.normalizeStyleURL=function(D,F){if(!me(D))return D;var J=be(D);return J.path="/styles/v1"+J.path,this._makeAPIURL(J,this._customAccessToken||F)},he.prototype.normalizeGlyphsURL=function(D,F){if(!me(D))return D;var J=be(D);return J.path="/fonts/v1"+J.path,this._makeAPIURL(J,this._customAccessToken||F)},he.prototype.normalizeSourceURL=function(D,F){if(!me(D))return D;var J=be(D);return J.path="/v4/"+J.authority+".json",J.params.push("secure"),this._makeAPIURL(J,this._customAccessToken||F)},he.prototype.normalizeSpriteURL=function(D,F,J,ge){var Oe=be(D);return me(D)?(Oe.path="/styles/v1"+Oe.path+"/sprite"+F+J,this._makeAPIURL(Oe,this._customAccessToken||ge)):(Oe.path+=""+F+J,xe(Oe))},he.prototype.normalizeTileURL=function(D,F){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!me(D))return D;var J=be(D);J.path=J.path.replace(/(\.(png|jpg)\d*)(?=$)/,(re.devicePixelRatio>=2||512===F?"@2x":"")+(K.supported?".webp":"$1")),J.path=J.path.replace(/^.+\/v4\//,"/"),J.path="/v4"+J.path;var Be=this._customAccessToken||function(Ze){for(var ot=0,pt=Ze;ot<pt.length;ot+=1){var Et=pt[ot].match(/^access_token=(.*)$/);if(Et)return Et[1]}return null}(J.params)||Q.ACCESS_TOKEN;return Q.REQUIRE_ACCESS_TOKEN&&Be&&this._skuToken&&J.params.push("sku="+this._skuToken),this._makeAPIURL(J,Be)},he.prototype.canonicalizeTileURL=function(D,F){var J=be(D);if(!J.path.match(/(^\/v4\/)/)||!J.path.match(/\.[\w]+$/))return D;var ge="mapbox://tiles/";ge+=J.path.replace("/v4/","");var Oe=J.params;return F&&(Oe=Oe.filter(function(Be){return!Be.match(/^access_token=/)})),Oe.length&&(ge+="?"+Oe.join("&")),ge},he.prototype.canonicalizeTileset=function(D,F){for(var J=!!F&&me(F),ge=[],Oe=0,Be=D.tiles||[];Oe<Be.length;Oe+=1){var Ze=Be[Oe];Pe(Ze)?ge.push(this.canonicalizeTileURL(Ze,J)):ge.push(Ze)}return ge},he.prototype._makeAPIURL=function(D,F){var J="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ge=be(Q.API_URL);if(D.protocol=ge.protocol,D.authority=ge.authority,"/"!==ge.path&&(D.path=""+ge.path+D.path),!Q.REQUIRE_ACCESS_TOKEN)return xe(D);if(!(F=F||Q.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+J);if("s"===F[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+J);return D.params=D.params.filter(function(Oe){return-1===Oe.indexOf("access_token")}),D.params.push("access_token="+F),xe(D)};var ke=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Pe(D){return ke.test(D)}var Te=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function be(D){var F=D.match(Te);if(!F)throw new Error("Unable to parse URL object");return{protocol:F[1],authority:F[2],path:F[3]||"/",params:F[4]?F[4].split("&"):[]}}function xe(D){var F=D.params.length?"?"+D.params.join("&"):"";return D.protocol+"://"+D.authority+D.path+F}var Ne="mapbox.eventData";function Se(D){if(!D)return null;var J=D.split(".");if(!J||3!==J.length)return null;try{return JSON.parse(decodeURIComponent(self.atob(J[1]).split("").map(function(ge){return"%"+("00"+ge.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var Ce=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Ce.prototype.getStorageKey=function(D){var F,ge=Se(Q.ACCESS_TOKEN);return F=ge&&ge.u?self.btoa(encodeURIComponent(ge.u).replace(/%([0-9A-F]{2})/g,function(Oe,Be){return String.fromCharCode(+("0x"+Be))})):Q.ACCESS_TOKEN||"",D?Ne+"."+D+":"+F:Ne+":"+F},Ce.prototype.fetchEventData=function(){var D=$("localStorage"),F=this.getStorageKey(),J=this.getStorageKey("uuid");if(D)try{var ge=self.localStorage.getItem(F);ge&&(this.eventData=JSON.parse(ge));var Oe=self.localStorage.getItem(J);Oe&&(this.anonId=Oe)}catch{E("Unable to read from LocalStorage")}},Ce.prototype.saveEventData=function(){var D=$("localStorage"),F=this.getStorageKey(),J=this.getStorageKey("uuid");if(D)try{self.localStorage.setItem(J,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(F,JSON.stringify(this.eventData))}catch{E("Unable to write to LocalStorage")}},Ce.prototype.processRequests=function(D){},Ce.prototype.postEvent=function(D,F,J,ge){var Oe=this;if(Q.EVENTS_URL){var Be=be(Q.EVENTS_URL);Be.params.push("access_token="+(ge||Q.ACCESS_TOKEN||""));var Ze={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:T,skuId:fe,userId:this.anonId},ot=F?c(Ze,F):Ze,pt={url:xe(Be),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ot])};this.pendingRequest=Pt(pt,function(Et){Oe.pendingRequest=null,J(Et),Oe.saveEventData(),Oe.processRequests(ge)})}},Ce.prototype.queueRequest=function(D,F){this.queue.push(D),this.processRequests(F)};var pe,de,se=function(D){function F(){D.call(this,"map.load"),this.success={},this.skuToken=""}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.postMapLoadEvent=function(J,ge,Oe,Be){this.skuToken=Oe,(Q.EVENTS_URL&&Be||Q.ACCESS_TOKEN&&Array.isArray(J)&&J.some(function(Ze){return me(Ze)||Pe(Ze)}))&&this.queueRequest({id:ge,timestamp:Date.now()},Be)},F.prototype.processRequests=function(J){var ge=this;if(!this.pendingRequest&&0!==this.queue.length){var Oe=this.queue.shift(),Be=Oe.id,Ze=Oe.timestamp;Be&&this.success[Be]||(this.anonId||this.fetchEventData(),v(this.anonId)||(this.anonId=w()),this.postEvent(Ze,{skuToken:this.skuToken},function(ot){ot||Be&&(ge.success[Be]=!0)},J))}},F}(Ce),we=function(D){function F(J){D.call(this,"appUserTurnstile"),this._customAccessToken=J}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.postTurnstileEvent=function(J,ge){Q.EVENTS_URL&&Q.ACCESS_TOKEN&&Array.isArray(J)&&J.some(function(Oe){return me(Oe)||Pe(Oe)})&&this.queueRequest(Date.now(),ge)},F.prototype.processRequests=function(J){var ge=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Oe=Se(Q.ACCESS_TOKEN),Be=Oe?Oe.u:Q.ACCESS_TOKEN,Ze=Be!==this.eventData.tokenU;v(this.anonId)||(this.anonId=w(),Ze=!0);var ot=this.queue.shift();if(this.eventData.lastSuccess){var pt=new Date(this.eventData.lastSuccess),Et=new Date(ot),Dt=(ot-this.eventData.lastSuccess)/864e5;Ze=Ze||Dt>=1||Dt<-1||pt.getDate()!==Et.getDate()}else Ze=!0;if(!Ze)return this.processRequests();this.postEvent(ot,{"enabled.telemetry":!1},function(Vt){Vt||(ge.eventData.lastSuccess=ot,ge.eventData.tokenU=Be)},J)}},F}(Ce),Re=new we,Ee=Re.postTurnstileEvent.bind(Re),Ue=new se,$e=Ue.postMapLoadEvent.bind(Ue),ve="mapbox-tiles",Ie=500,De=50,ze=42e4;function Ge(){self.caches&&!pe&&(pe=self.caches.open(ve))}function Ke(D){var F=D.indexOf("?");return F<0?D:D.slice(0,F)}var st,mt=1/0;function at(){return null==st&&(st=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),st}var kt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(kt);var St=function(D){function F(J,ge,Oe){401===ge&&Pe(Oe)&&(J+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),D.call(this,J),this.status=ge,this.url=Oe,this.name=this.constructor.name,this.message=J}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},F}(Error),gt=L()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function dt(D,F){var J,ge=new self.AbortController,Oe=new self.Request(D.url,{method:D.method||"GET",body:D.body,credentials:D.credentials,headers:D.headers,referrer:gt(),signal:ge.signal}),Be=!1,Ze=!1,ot=(J=Oe.url).indexOf("sku=")>0&&Pe(J);"json"===D.type&&Oe.headers.set("Accept","application/json");var pt=function(Dt,Vt,Jt){if(!Ze){if(Dt&&"SecurityError"!==Dt.message&&E(Dt),Vt&&Jt)return Et(Vt);var qt=Date.now();self.fetch(Oe).then(function(dn){if(dn.ok){var yn=ot?dn.clone():null;return Et(dn,yn,qt)}return F(new St(dn.statusText,dn.status,D.url))}).catch(function(dn){20!==dn.code&&F(new Error(dn.message))})}},Et=function(Dt,Vt,Jt){("arrayBuffer"===D.type?Dt.arrayBuffer():"json"===D.type?Dt.json():Dt.text()).then(function(qt){Ze||(Vt&&Jt&&function He(D,F,J){if(Ge(),pe){var ge={status:F.status,statusText:F.statusText,headers:new self.Headers};F.headers.forEach(function(Be,Ze){return ge.headers.set(Ze,Be)});var Oe=P(F.headers.get("Cache-Control")||"");Oe["no-store"]||(Oe["max-age"]&&ge.headers.set("Expires",new Date(J+1e3*Oe["max-age"]).toUTCString()),new Date(ge.headers.get("Expires")).getTime()-J<ze||function(Be,Ze){if(void 0===de)try{new Response(new ReadableStream),de=!0}catch{de=!1}de?Ze(Be.body):Be.blob().then(Ze)}(F,function(Be){var Ze=new self.Response(Be,ge);Ge(),pe&&pe.then(function(ot){return ot.put(Ke(D.url),Ze)}).catch(function(ot){return E(ot.message)})}))}}(Oe,Vt,Jt),Be=!0,F(null,qt,Dt.headers.get("Cache-Control"),Dt.headers.get("Expires")))}).catch(function(qt){Ze||F(new Error(qt.message))})};return ot?function et(D,F){if(Ge(),!pe)return F(null);var J=Ke(D.url);pe.then(function(ge){ge.match(J).then(function(Oe){var Be=function(Ze){if(!Ze)return!1;var ot=new Date(Ze.headers.get("Expires")||0),pt=P(Ze.headers.get("Cache-Control")||"");return ot>Date.now()&&!pt["no-cache"]}(Oe);ge.delete(J),Be&&ge.put(J,Oe.clone()),F(null,Oe,Be)}).catch(F)}).catch(F)}(Oe,pt):pt(null,null),{cancel:function(){Ze=!0,Be||ge.abort()}}}var Ht,jt,Ct=function(D,F){if(!(/^file:/.test(J=D.url)||/^file:/.test(gt())&&!/^\w+:/.test(J))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return dt(D,F);if(L()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",D,F,void 0,!0)}var J;return function(ge,Oe){var Be=new self.XMLHttpRequest;for(var Ze in Be.open(ge.method||"GET",ge.url,!0),"arrayBuffer"===ge.type&&(Be.responseType="arraybuffer"),ge.headers)Be.setRequestHeader(Ze,ge.headers[Ze]);return"json"===ge.type&&(Be.responseType="text",Be.setRequestHeader("Accept","application/json")),Be.withCredentials="include"===ge.credentials,Be.onerror=function(){Oe(new Error(Be.statusText))},Be.onload=function(){if((Be.status>=200&&Be.status<300||0===Be.status)&&null!==Be.response){var ot=Be.response;if("json"===ge.type)try{ot=JSON.parse(Be.response)}catch(pt){return Oe(pt)}Oe(null,ot,Be.getResponseHeader("Cache-Control"),Be.getResponseHeader("Expires"))}else Oe(new St(Be.statusText,Be.status,ge.url))},Be.send(ge.body),{cancel:function(){return Be.abort()}}}(D,F)},Ot=function(D,F){return Ct(c(D,{type:"arrayBuffer"}),F)},Pt=function(D,F){return Ct(c(D,{method:"POST"}),F)};Ht=[],jt=0;var nt=function(D,F){if(K.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),jt>=Q.MAX_PARALLEL_IMAGE_REQUESTS){var J={requestParameters:D,callback:F,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ht.push(J),J}jt++;var ge=!1,Oe=function(){if(!ge)for(ge=!0,jt--;Ht.length&&jt<Q.MAX_PARALLEL_IMAGE_REQUESTS;){var Ze=Ht.shift();Ze.cancelled||(Ze.cancel=nt(Ze.requestParameters,Ze.callback).cancel)}},Be=Ot(D,function(Ze,ot,pt,Et){var Vt,Jt;Oe(),Ze?F(Ze):ot&&(at()?(Vt=F,Jt=new self.Blob([new Uint8Array(ot)],{type:"image/png"}),self.createImageBitmap(Jt).then(function(qt){Vt(null,qt)}).catch(function(qt){Vt(new Error("Could not load image because of "+qt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(Dt,Vt,Jt,qt){var dn=new self.Image,yn=self.URL;dn.onload=function(){Vt(null,dn),yn.revokeObjectURL(dn.src)},dn.onerror=function(){return Vt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Fn=new self.Blob([new Uint8Array(Dt)],{type:"image/png"});dn.cacheControl=Jt,dn.expires=qt,dn.src=Dt.byteLength?yn.createObjectURL(Fn):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(ot,F,pt,Et))});return{cancel:function(){Be.cancel(),Oe()}}};function it(D,F,J){J[D]&&-1!==J[D].indexOf(F)||(J[D]=J[D]||[],J[D].push(F))}function Xe(D,F,J){if(J&&J[D]){var ge=J[D].indexOf(F);-1!==ge&&J[D].splice(ge,1)}}var rt=function(D,F){void 0===F&&(F={}),c(this,F),this.type=D},ft=function(D){function F(J,ge){void 0===ge&&(ge={}),D.call(this,"error",c({error:J},ge))}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(rt),vt=function(){};vt.prototype.on=function(D,F){return this._listeners=this._listeners||{},it(D,F,this._listeners),this},vt.prototype.off=function(D,F){return Xe(D,F,this._listeners),Xe(D,F,this._oneTimeListeners),this},vt.prototype.once=function(D,F){return this._oneTimeListeners=this._oneTimeListeners||{},it(D,F,this._oneTimeListeners),this},vt.prototype.fire=function(D,F){"string"==typeof D&&(D=new rt(D,F||{}));var J=D.type;if(this.listens(J)){D.target=this;for(var ge=0,Oe=this._listeners&&this._listeners[J]?this._listeners[J].slice():[];ge<Oe.length;ge+=1)Oe[ge].call(this,D);for(var Be=0,Ze=this._oneTimeListeners&&this._oneTimeListeners[J]?this._oneTimeListeners[J].slice():[];Be<Ze.length;Be+=1){var ot=Ze[Be];Xe(J,ot,this._oneTimeListeners),ot.call(this,D)}var pt=this._eventedParent;pt&&(c(D,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),pt.fire(D))}else D instanceof ft&&console.error(D.error);return this},vt.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},vt.prototype.setEventedParent=function(D,F){return this._eventedParent=D,this._eventedParentData=F,this};var je={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ve=function(D,F,J,ge){this.message=(D?D+": ":"")+J,ge&&(this.identifier=ge),null!=F&&F.__line__&&(this.line=F.__line__)};function ut(D){var J=D.value;return J?[new Ve(D.key,J,"constants have been deprecated as of v8")]:[]}function ct(D){for(var F=[],J=arguments.length-1;J-- >0;)F[J]=arguments[J+1];for(var ge=0,Oe=F;ge<Oe.length;ge+=1){var Be=Oe[ge];for(var Ze in Be)D[Ze]=Be[Ze]}return D}function Tt(D){return D instanceof Number||D instanceof String||D instanceof Boolean?D.valueOf():D}function Mt(D){if(Array.isArray(D))return D.map(Mt);if(D instanceof Object&&!(D instanceof Number||D instanceof String||D instanceof Boolean)){var F={};for(var J in D)F[J]=Mt(D[J]);return F}return Tt(D)}var At=function(D){function F(J,ge){D.call(this,ge),this.message=ge,this.key=J}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(Error),bt=function(D,F){void 0===F&&(F=[]),this.parent=D,this.bindings={};for(var J=0,ge=F;J<ge.length;J+=1){var Oe=ge[J];this.bindings[Oe[0]]=Oe[1]}};bt.prototype.concat=function(D){return new bt(this,D)},bt.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},bt.prototype.has=function(D){return!!this.bindings[D]||!!this.parent&&this.parent.has(D)};var Rt={kind:"null"},xt={kind:"number"},_t={kind:"string"},It={kind:"boolean"},Gt={kind:"color"},Wt={kind:"object"},Zt={kind:"value"},cn={kind:"collator"},nn={kind:"formatted"},ln={kind:"resolvedImage"};function Qt(D,F){return{kind:"array",itemType:D,N:F}}function kn(D){if("array"===D.kind){var F=kn(D.itemType);return"number"==typeof D.N?"array<"+F+", "+D.N+">":"value"===D.itemType.kind?"array":"array<"+F+">"}return D.kind}var Pn=[Rt,xt,_t,It,Gt,nn,Wt,Qt(Zt),ln];function Tn(D,F){if("error"===F.kind)return null;if("array"===D.kind){if("array"===F.kind&&(0===F.N&&"value"===F.itemType.kind||!Tn(D.itemType,F.itemType))&&("number"!=typeof D.N||D.N===F.N))return null}else{if(D.kind===F.kind)return null;if("value"===D.kind)for(var J=0,ge=Pn;J<ge.length;J+=1)if(!Tn(ge[J],F))return null}return"Expected "+kn(D)+" but found "+kn(F)+" instead."}function tn(D,F){return F.some(function(J){return J.kind===D.kind})}function gn(D,F){return F.some(function(J){return"null"===J?null===D:"array"===J?Array.isArray(D):"object"===J?D&&!Array.isArray(D)&&"object"==typeof D:J===typeof D})}var mn=A(function(D,F){var J={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ge(pt){return(pt=Math.round(pt))<0?0:pt>255?255:pt}function Be(pt){return ge("%"===pt[pt.length-1]?parseFloat(pt)/100*255:parseInt(pt))}function Ze(pt){return function Oe(pt){return pt<0?0:pt>1?1:pt}("%"===pt[pt.length-1]?parseFloat(pt)/100:parseFloat(pt))}function ot(pt,Et,Dt){return Dt<0?Dt+=1:Dt>1&&(Dt-=1),6*Dt<1?pt+(Et-pt)*Dt*6:2*Dt<1?Et:3*Dt<2?pt+(Et-pt)*(2/3-Dt)*6:pt}try{F.parseCSSColor=function(pt){var Et,Dt=pt.replace(/ /g,"").toLowerCase();if(Dt in J)return J[Dt].slice();if("#"===Dt[0])return 4===Dt.length?(Et=parseInt(Dt.substr(1),16))>=0&&Et<=4095?[(3840&Et)>>4|(3840&Et)>>8,240&Et|(240&Et)>>4,15&Et|(15&Et)<<4,1]:null:7===Dt.length&&(Et=parseInt(Dt.substr(1),16))>=0&&Et<=16777215?[(16711680&Et)>>16,(65280&Et)>>8,255&Et,1]:null;var Vt=Dt.indexOf("("),Jt=Dt.indexOf(")");if(-1!==Vt&&Jt+1===Dt.length){var qt=Dt.substr(0,Vt),dn=Dt.substr(Vt+1,Jt-(Vt+1)).split(","),yn=1;switch(qt){case"rgba":if(4!==dn.length)return null;yn=Ze(dn.pop());case"rgb":return 3!==dn.length?null:[Be(dn[0]),Be(dn[1]),Be(dn[2]),yn];case"hsla":if(4!==dn.length)return null;yn=Ze(dn.pop());case"hsl":if(3!==dn.length)return null;var Fn=(parseFloat(dn[0])%360+360)%360/360,Nn=Ze(dn[1]),qn=Ze(dn[2]),Zn=qn<=.5?qn*(Nn+1):qn+Nn-qn*Nn,tr=2*qn-Zn;return[ge(255*ot(tr,Zn,Fn+1/3)),ge(255*ot(tr,Zn,Fn)),ge(255*ot(tr,Zn,Fn-1/3)),yn];default:return null}}return null}}catch{}}).parseCSSColor,En=function(D,F,J,ge){void 0===ge&&(ge=1),this.r=D,this.g=F,this.b=J,this.a=ge};En.parse=function(D){if(D){if(D instanceof En)return D;if("string"==typeof D){var F=mn(D);if(F)return new En(F[0]/255*F[3],F[1]/255*F[3],F[2]/255*F[3],F[3])}}},En.prototype.toString=function(){var D=this.toArray(),J=D[1],ge=D[2],Oe=D[3];return"rgba("+Math.round(D[0])+","+Math.round(J)+","+Math.round(ge)+","+Oe+")"},En.prototype.toArray=function(){var D=this,Oe=D.a;return 0===Oe?[0,0,0,0]:[255*D.r/Oe,255*D.g/Oe,255*D.b/Oe,Oe]},En.black=new En(0,0,0,1),En.white=new En(1,1,1,1),En.transparent=new En(0,0,0,0),En.red=new En(1,0,0,1);var vn=function(D,F,J){this.sensitivity=D?F?"variant":"case":F?"accent":"base",this.locale=J,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};vn.prototype.compare=function(D,F){return this.collator.compare(D,F)},vn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Un=function(D,F,J,ge,Oe){this.text=D,this.image=F,this.scale=J,this.fontStack=ge,this.textColor=Oe},Hn=function(D){this.sections=D};Hn.fromString=function(D){return new Hn([new Un(D,null,null,null,null)])},Hn.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(D){return 0!==D.text.length||D.image&&0!==D.image.name.length})},Hn.factory=function(D){return D instanceof Hn?D:Hn.fromString(D)},Hn.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(D){return D.text}).join("")},Hn.prototype.serialize=function(){for(var D=["format"],F=0,J=this.sections;F<J.length;F+=1){var ge=J[F];if(ge.image)D.push(["image",ge.image.name]);else{D.push(ge.text);var Oe={};ge.fontStack&&(Oe["text-font"]=["literal",ge.fontStack.split(",")]),ge.scale&&(Oe["font-scale"]=ge.scale),ge.textColor&&(Oe["text-color"]=["rgba"].concat(ge.textColor.toArray())),D.push(Oe)}}return D};var On=function(D){this.name=D.name,this.available=D.available};function Wn(D,F,J,ge){return"number"==typeof D&&D>=0&&D<=255&&"number"==typeof F&&F>=0&&F<=255&&"number"==typeof J&&J>=0&&J<=255?void 0===ge||"number"==typeof ge&&ge>=0&&ge<=1?null:"Invalid rgba value ["+[D,F,J,ge].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof ge?[D,F,J,ge]:[D,F,J]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function pr(D){if(null===D||"string"==typeof D||"boolean"==typeof D||"number"==typeof D||D instanceof En||D instanceof vn||D instanceof Hn||D instanceof On)return!0;if(Array.isArray(D)){for(var F=0,J=D;F<J.length;F+=1)if(!pr(J[F]))return!1;return!0}if("object"==typeof D){for(var ge in D)if(!pr(D[ge]))return!1;return!0}return!1}function ar(D){if(null===D)return Rt;if("string"==typeof D)return _t;if("boolean"==typeof D)return It;if("number"==typeof D)return xt;if(D instanceof En)return Gt;if(D instanceof vn)return cn;if(D instanceof Hn)return nn;if(D instanceof On)return ln;if(Array.isArray(D)){for(var F,J=D.length,ge=0,Oe=D;ge<Oe.length;ge+=1){var Be=ar(Oe[ge]);if(F){if(F===Be)continue;F=Zt;break}F=Be}return Qt(F||Zt,J)}return Wt}function Ar(D){var F=typeof D;return null===D?"":"string"===F||"number"===F||"boolean"===F?String(D):D instanceof En||D instanceof Hn||D instanceof On?D.toString():JSON.stringify(D)}On.prototype.toString=function(){return this.name},On.fromString=function(D){return D?new On({name:D,available:!1}):null},On.prototype.serialize=function(){return["image",this.name]};var hr=function(D,F){this.type=D,this.value=F};hr.parse=function(D,F){if(2!==D.length)return F.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!pr(D[1]))return F.error("invalid value");var J=D[1],ge=ar(J),Oe=F.expectedType;return"array"!==ge.kind||0!==ge.N||!Oe||"array"!==Oe.kind||"number"==typeof Oe.N&&0!==Oe.N||(ge=Oe),new hr(ge,J)},hr.prototype.evaluate=function(){return this.value},hr.prototype.eachChild=function(){},hr.prototype.outputDefined=function(){return!0},hr.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof En?["rgba"].concat(this.value.toArray()):this.value instanceof Hn?this.value.serialize():this.value};var fr=function(D){this.name="ExpressionEvaluationError",this.message=D};fr.prototype.toJSON=function(){return this.message};var Rr={string:_t,number:xt,boolean:It,object:Wt},Xt=function(D,F){this.type=D,this.args=F};Xt.parse=function(D,F){if(D.length<2)return F.error("Expected at least one argument.");var J,ge=1,Oe=D[0];if("array"===Oe){var Be,Ze;if(D.length>2){var ot=D[1];if("string"!=typeof ot||!(ot in Rr)||"object"===ot)return F.error('The item type argument of "array" must be one of string, number, boolean',1);Be=Rr[ot],ge++}else Be=Zt;if(D.length>3){if(null!==D[2]&&("number"!=typeof D[2]||D[2]<0||D[2]!==Math.floor(D[2])))return F.error('The length argument to "array" must be a positive integer literal',2);Ze=D[2],ge++}J=Qt(Be,Ze)}else J=Rr[Oe];for(var pt=[];ge<D.length;ge++){var Et=F.parse(D[ge],ge,Zt);if(!Et)return null;pt.push(Et)}return new Xt(J,pt)},Xt.prototype.evaluate=function(D){for(var F=0;F<this.args.length;F++){var J=this.args[F].evaluate(D);if(!Tn(this.type,ar(J)))return J;if(F===this.args.length-1)throw new fr("Expected value to be of type "+kn(this.type)+", but found "+kn(ar(J))+" instead.")}return null},Xt.prototype.eachChild=function(D){this.args.forEach(D)},Xt.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Xt.prototype.serialize=function(){var D=this.type,F=[D.kind];if("array"===D.kind){var J=D.itemType;if("string"===J.kind||"number"===J.kind||"boolean"===J.kind){F.push(J.kind);var ge=D.N;("number"==typeof ge||this.args.length>1)&&F.push(ge)}}return F.concat(this.args.map(function(Oe){return Oe.serialize()}))};var rn=function(D){this.type=nn,this.sections=D};rn.parse=function(D,F){if(D.length<2)return F.error("Expected at least one argument.");var J=D[1];if(!Array.isArray(J)&&"object"==typeof J)return F.error("First argument must be an image or text section.");for(var ge=[],Oe=!1,Be=1;Be<=D.length-1;++Be){var Ze=D[Be];if(Oe&&"object"==typeof Ze&&!Array.isArray(Ze)){Oe=!1;var ot=null;if(Ze["font-scale"]&&!(ot=F.parse(Ze["font-scale"],1,xt)))return null;var pt=null;if(Ze["text-font"]&&!(pt=F.parse(Ze["text-font"],1,Qt(_t))))return null;var Et=null;if(Ze["text-color"]&&!(Et=F.parse(Ze["text-color"],1,Gt)))return null;var Dt=ge[ge.length-1];Dt.scale=ot,Dt.font=pt,Dt.textColor=Et}else{var Vt=F.parse(D[Be],1,Zt);if(!Vt)return null;var Jt=Vt.type.kind;if("string"!==Jt&&"value"!==Jt&&"null"!==Jt&&"resolvedImage"!==Jt)return F.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Oe=!0,ge.push({content:Vt,scale:null,font:null,textColor:null})}}return new rn(ge)},rn.prototype.evaluate=function(D){return new Hn(this.sections.map(function(F){var J=F.content.evaluate(D);return ar(J)===ln?new Un("",J,null,null,null):new Un(Ar(J),null,F.scale?F.scale.evaluate(D):null,F.font?F.font.evaluate(D).join(","):null,F.textColor?F.textColor.evaluate(D):null)}))},rn.prototype.eachChild=function(D){for(var F=0,J=this.sections;F<J.length;F+=1){var ge=J[F];D(ge.content),ge.scale&&D(ge.scale),ge.font&&D(ge.font),ge.textColor&&D(ge.textColor)}},rn.prototype.outputDefined=function(){return!1},rn.prototype.serialize=function(){for(var D=["format"],F=0,J=this.sections;F<J.length;F+=1){var ge=J[F];D.push(ge.content.serialize());var Oe={};ge.scale&&(Oe["font-scale"]=ge.scale.serialize()),ge.font&&(Oe["text-font"]=ge.font.serialize()),ge.textColor&&(Oe["text-color"]=ge.textColor.serialize()),D.push(Oe)}return D};var wn=function(D){this.type=ln,this.input=D};wn.parse=function(D,F){if(2!==D.length)return F.error("Expected two arguments.");var J=F.parse(D[1],1,_t);return J?new wn(J):F.error("No image name provided.")},wn.prototype.evaluate=function(D){var F=this.input.evaluate(D),J=On.fromString(F);return J&&D.availableImages&&(J.available=D.availableImages.indexOf(F)>-1),J},wn.prototype.eachChild=function(D){D(this.input)},wn.prototype.outputDefined=function(){return!1},wn.prototype.serialize=function(){return["image",this.input.serialize()]};var Cn={"to-boolean":It,"to-color":Gt,"to-number":xt,"to-string":_t},Bn=function(D,F){this.type=D,this.args=F};Bn.parse=function(D,F){if(D.length<2)return F.error("Expected at least one argument.");var J=D[0];if(("to-boolean"===J||"to-string"===J)&&2!==D.length)return F.error("Expected one argument.");for(var ge=Cn[J],Oe=[],Be=1;Be<D.length;Be++){var Ze=F.parse(D[Be],Be,Zt);if(!Ze)return null;Oe.push(Ze)}return new Bn(ge,Oe)},Bn.prototype.evaluate=function(D){if("boolean"===this.type.kind)return!!this.args[0].evaluate(D);if("color"===this.type.kind){for(var F,J,ge=0,Oe=this.args;ge<Oe.length;ge+=1){if(J=null,(F=Oe[ge].evaluate(D))instanceof En)return F;if("string"==typeof F){var Be=D.parseColor(F);if(Be)return Be}else if(Array.isArray(F)&&!(J=F.length<3||F.length>4?"Invalid rbga value "+JSON.stringify(F)+": expected an array containing either three or four numeric values.":Wn(F[0],F[1],F[2],F[3])))return new En(F[0]/255,F[1]/255,F[2]/255,F[3])}throw new fr(J||"Could not parse color from value '"+("string"==typeof F?F:String(JSON.stringify(F)))+"'")}if("number"===this.type.kind){for(var Ze=null,ot=0,pt=this.args;ot<pt.length;ot+=1){if(null===(Ze=pt[ot].evaluate(D)))return 0;var Et=Number(Ze);if(!isNaN(Et))return Et}throw new fr("Could not convert "+JSON.stringify(Ze)+" to number.")}return"formatted"===this.type.kind?Hn.fromString(Ar(this.args[0].evaluate(D))):"resolvedImage"===this.type.kind?On.fromString(Ar(this.args[0].evaluate(D))):Ar(this.args[0].evaluate(D))},Bn.prototype.eachChild=function(D){this.args.forEach(D)},Bn.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Bn.prototype.serialize=function(){if("formatted"===this.type.kind)return new rn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new wn(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(F){D.push(F.serialize())}),D};var or=["Unknown","Point","LineString","Polygon"],An=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};An.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},An.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?or[this.feature.type]:this.feature.type:null},An.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},An.prototype.canonicalID=function(){return this.canonical},An.prototype.properties=function(){return this.feature&&this.feature.properties||{}},An.prototype.parseColor=function(D){var F=this._parseColorCache[D];return F||(F=this._parseColorCache[D]=En.parse(D)),F};var $n=function(D,F,J,ge){this.name=D,this.type=F,this._evaluate=J,this.args=ge};$n.prototype.evaluate=function(D){return this._evaluate(D,this.args)},$n.prototype.eachChild=function(D){this.args.forEach(D)},$n.prototype.outputDefined=function(){return!1},$n.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},$n.parse=function(D,F){var J,ge=D[0],Oe=$n.definitions[ge];if(!Oe)return F.error('Unknown expression "'+ge+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Be=Array.isArray(Oe)?Oe[0]:Oe.type,Ze=Array.isArray(Oe)?[[Oe[1],Oe[2]]]:Oe.overloads,ot=Ze.filter(function(hi){var Zr=hi[0];return!Array.isArray(Zr)||Zr.length===D.length-1}),pt=null,Et=0,Dt=ot;Et<Dt.length;Et+=1){var Vt=Dt[Et],Jt=Vt[0],qt=Vt[1];pt=new Mr(F.registry,F.path,null,F.scope);for(var dn=[],yn=!1,Fn=1;Fn<D.length;Fn++){var Nn=D[Fn],qn=Array.isArray(Jt)?Jt[Fn-1]:Jt.type,Zn=pt.parse(Nn,1+dn.length,qn);if(!Zn){yn=!0;break}dn.push(Zn)}if(!yn)if(Array.isArray(Jt)&&Jt.length!==dn.length)pt.error("Expected "+Jt.length+" arguments, but found "+dn.length+" instead.");else{for(var tr=0;tr<dn.length;tr++){var cr=Array.isArray(Jt)?Jt[tr]:Jt.type,vr=dn[tr];pt.concat(tr+1).checkSubtype(cr,vr.type)}if(0===pt.errors.length)return new $n(ge,Be,qt,dn)}}if(1===ot.length)(J=F.errors).push.apply(J,pt.errors);else{for(var Pr=(ot.length?ot:Ze).map(function(hi){return Zr=hi[0],Array.isArray(Zr)?"("+Zr.map(kn).join(", ")+")":"("+kn(Zr.type)+"...)";var Zr}).join(" | "),Sr=[],Nr=1;Nr<D.length;Nr++){var Gr=F.parse(D[Nr],1+Sr.length);if(!Gr)return null;Sr.push(kn(Gr.type))}F.error("Expected arguments of type "+Pr+", but found ("+Sr.join(", ")+") instead.")}return null},$n.register=function(D,F){for(var J in $n.definitions=F,F)D[J]=$n};var Xn=function(D,F,J){this.type=cn,this.locale=J,this.caseSensitive=D,this.diacriticSensitive=F};Xn.parse=function(D,F){if(2!==D.length)return F.error("Expected one argument.");var J=D[1];if("object"!=typeof J||Array.isArray(J))return F.error("Collator options argument must be an object.");var ge=F.parse(void 0!==J["case-sensitive"]&&J["case-sensitive"],1,It);if(!ge)return null;var Oe=F.parse(void 0!==J["diacritic-sensitive"]&&J["diacritic-sensitive"],1,It);if(!Oe)return null;var Be=null;return J.locale&&!(Be=F.parse(J.locale,1,_t))?null:new Xn(ge,Oe,Be)},Xn.prototype.evaluate=function(D){return new vn(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},Xn.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},Xn.prototype.outputDefined=function(){return!1},Xn.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var Kt=8192;function Rn(D,F){D[0]=Math.min(D[0],F[0]),D[1]=Math.min(D[1],F[1]),D[2]=Math.max(D[2],F[0]),D[3]=Math.max(D[3],F[1])}function Ft(D,F){return!(D[0]<=F[0]||D[2]>=F[2]||D[1]<=F[1]||D[3]>=F[3])}function on(D,F){var ge=(180+D[0])/360,Oe=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D[1]*Math.PI/360)))/360,Be=Math.pow(2,F.z);return[Math.round(ge*Be*Kt),Math.round(Oe*Be*Kt)]}function fn(D,F,J){return F[1]>D[1]!=J[1]>D[1]&&D[0]<(J[0]-F[0])*(D[1]-F[1])/(J[1]-F[1])+F[0]}function Sn(D,F){for(var J=!1,ge=0,Oe=F.length;ge<Oe;ge++)for(var Be=F[ge],Ze=0,ot=Be.length;Ze<ot-1;Ze++){if(void 0,void 0,void 0,void 0,(Vt=(pt=D)[0]-(Et=Be[Ze])[0])*(dn=pt[1]-(Dt=Be[Ze+1])[1])-(qt=pt[0]-Dt[0])*(Jt=pt[1]-Et[1])==0&&Vt*qt<=0&&Jt*dn<=0)return!1;fn(D,Be[Ze],Be[Ze+1])&&(J=!J)}var pt,Et,Dt,Vt,Jt,qt,dn;return J}function Ln(D,F){for(var J=0;J<F.length;J++)if(Sn(D,F[J]))return!0;return!1}function jn(D,F,J,ge){var pt=ge[0]-J[0],Et=ge[1]-J[1],Dt=(D[0]-J[0])*Et-pt*(D[1]-J[1]),Vt=(F[0]-J[0])*Et-pt*(F[1]-J[1]);return Dt>0&&Vt<0||Dt<0&&Vt>0}function bn(D,F,J){for(var ge=0,Oe=J;ge<Oe.length;ge+=1)for(var Be=Oe[ge],Ze=0;Ze<Be.length-1;++Ze)if(void 0,void 0,(Vt=[(Dt=Be[Ze+1])[0]-(Et=Be[Ze])[0],Dt[1]-Et[1]])[0]*(Jt=[(pt=F)[0]-(ot=D)[0],pt[1]-ot[1]])[1]-Vt[1]*Jt[0]!=0&&jn(ot,pt,Et,Dt)&&jn(Et,Dt,ot,pt))return!0;var ot,pt,Et,Dt,Vt,Jt;return!1}function sn(D,F){for(var J=0;J<D.length;++J)if(!Sn(D[J],F))return!1;for(var ge=0;ge<D.length-1;++ge)if(bn(D[ge],D[ge+1],F))return!1;return!0}function un(D,F){for(var J=0;J<F.length;J++)if(sn(D,F[J]))return!0;return!1}function xn(D,F,J){for(var ge=[],Oe=0;Oe<D.length;Oe++){for(var Be=[],Ze=0;Ze<D[Oe].length;Ze++){var ot=on(D[Oe][Ze],J);Rn(F,ot),Be.push(ot)}ge.push(Be)}return ge}function _n(D,F,J){for(var ge=[],Oe=0;Oe<D.length;Oe++){var Be=xn(D[Oe],F,J);ge.push(Be)}return ge}function Vn(D,F,J,ge){if(D[0]<J[0]||D[0]>J[2]){var Oe=.5*ge,Be=D[0]-J[0]>Oe?-ge:J[0]-D[0]>Oe?ge:0;0===Be&&(Be=D[0]-J[2]>Oe?-ge:J[2]-D[0]>Oe?ge:0),D[0]+=Be}Rn(F,D)}function Gn(D,F,J,ge){for(var Oe=Math.pow(2,ge.z)*Kt,Be=[ge.x*Kt,ge.y*Kt],Ze=[],ot=0,pt=D;ot<pt.length;ot+=1)for(var Et=0,Dt=pt[ot];Et<Dt.length;Et+=1){var Vt=Dt[Et],Jt=[Vt.x+Be[0],Vt.y+Be[1]];Vn(Jt,F,J,Oe),Ze.push(Jt)}return Ze}function rr(D,F,J,ge){for(var Oe=Math.pow(2,ge.z)*Kt,Be=[ge.x*Kt,ge.y*Kt],Ze=[],ot=0,pt=D;ot<pt.length;ot+=1){for(var Et=[],Dt=0,Vt=pt[ot];Dt<Vt.length;Dt+=1){var Jt=Vt[Dt],qt=[Jt.x+Be[0],Jt.y+Be[1]];Rn(F,qt),Et.push(qt)}Ze.push(Et)}if(F[2]-F[0]<=Oe/2){(qn=F)[0]=qn[1]=1/0,qn[2]=qn[3]=-1/0;for(var dn=0,yn=Ze;dn<yn.length;dn+=1)for(var Fn=0,Nn=yn[dn];Fn<Nn.length;Fn+=1)Vn(Nn[Fn],F,J,Oe)}var qn;return Ze}var Jn=function(D,F){this.type=It,this.geojson=D,this.geometries=F};function mr(D){if(D instanceof $n&&("get"===D.name&&1===D.args.length||"feature-state"===D.name||"has"===D.name&&1===D.args.length||"properties"===D.name||"geometry-type"===D.name||"id"===D.name||/^filter-/.test(D.name))||D instanceof Jn)return!1;var F=!0;return D.eachChild(function(J){F&&!mr(J)&&(F=!1)}),F}function er(D){if(D instanceof $n&&"feature-state"===D.name)return!1;var F=!0;return D.eachChild(function(J){F&&!er(J)&&(F=!1)}),F}function ur(D,F){if(D instanceof $n&&F.indexOf(D.name)>=0)return!1;var J=!0;return D.eachChild(function(ge){J&&!ur(ge,F)&&(J=!1)}),J}Jn.parse=function(D,F){if(2!==D.length)return F.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(pr(D[1])){var J=D[1];if("FeatureCollection"===J.type)for(var ge=0;ge<J.features.length;++ge){var Oe=J.features[ge].geometry.type;if("Polygon"===Oe||"MultiPolygon"===Oe)return new Jn(J,J.features[ge].geometry)}else if("Feature"===J.type){var Be=J.geometry.type;if("Polygon"===Be||"MultiPolygon"===Be)return new Jn(J,J.geometry)}else if("Polygon"===J.type||"MultiPolygon"===J.type)return new Jn(J,J)}return F.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Jn.prototype.evaluate=function(D){if(null!=D.geometry()&&null!=D.canonicalID()){if("Point"===D.geometryType())return function(F,J){var ge=[1/0,1/0,-1/0,-1/0],Oe=[1/0,1/0,-1/0,-1/0],Be=F.canonicalID();if("Polygon"===J.type){var Ze=xn(J.coordinates,Oe,Be),ot=Gn(F.geometry(),ge,Oe,Be);if(!Ft(ge,Oe))return!1;for(var pt=0,Et=ot;pt<Et.length;pt+=1)if(!Sn(Et[pt],Ze))return!1}if("MultiPolygon"===J.type){var Dt=_n(J.coordinates,Oe,Be),Vt=Gn(F.geometry(),ge,Oe,Be);if(!Ft(ge,Oe))return!1;for(var Jt=0,qt=Vt;Jt<qt.length;Jt+=1)if(!Ln(qt[Jt],Dt))return!1}return!0}(D,this.geometries);if("LineString"===D.geometryType())return function(F,J){var ge=[1/0,1/0,-1/0,-1/0],Oe=[1/0,1/0,-1/0,-1/0],Be=F.canonicalID();if("Polygon"===J.type){var Ze=xn(J.coordinates,Oe,Be),ot=rr(F.geometry(),ge,Oe,Be);if(!Ft(ge,Oe))return!1;for(var pt=0,Et=ot;pt<Et.length;pt+=1)if(!sn(Et[pt],Ze))return!1}if("MultiPolygon"===J.type){var Dt=_n(J.coordinates,Oe,Be),Vt=rr(F.geometry(),ge,Oe,Be);if(!Ft(ge,Oe))return!1;for(var Jt=0,qt=Vt;Jt<qt.length;Jt+=1)if(!un(qt[Jt],Dt))return!1}return!0}(D,this.geometries)}return!1},Jn.prototype.eachChild=function(){},Jn.prototype.outputDefined=function(){return!0},Jn.prototype.serialize=function(){return["within",this.geojson]};var Tr=function(D,F){this.type=F.type,this.name=D,this.boundExpression=F};Tr.parse=function(D,F){if(2!==D.length||"string"!=typeof D[1])return F.error("'var' expression requires exactly one string literal argument.");var J=D[1];return F.scope.has(J)?new Tr(J,F.scope.get(J)):F.error('Unknown variable "'+J+'". Make sure "'+J+'" has been bound in an enclosing "let" expression before using it.',1)},Tr.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},Tr.prototype.eachChild=function(){},Tr.prototype.outputDefined=function(){return!1},Tr.prototype.serialize=function(){return["var",this.name]};var Mr=function(D,F,J,ge,Oe){void 0===F&&(F=[]),void 0===ge&&(ge=new bt),void 0===Oe&&(Oe=[]),this.registry=D,this.path=F,this.key=F.map(function(Be){return"["+Be+"]"}).join(""),this.scope=ge,this.errors=Oe,this.expectedType=J};function Dr(D){if(D instanceof Tr)return Dr(D.boundExpression);if(D instanceof $n&&"error"===D.name||D instanceof Xn||D instanceof Jn)return!1;var F=D instanceof Bn||D instanceof Xt,J=!0;return D.eachChild(function(ge){J=F?J&&Dr(ge):J&&ge instanceof hr}),!!J&&mr(D)&&ur(D,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function lr(D,F){for(var J,Oe=D.length-1,Be=0,Ze=Oe,ot=0;Be<=Ze;)if((J=D[ot=Math.floor((Be+Ze)/2)])<=F){if(ot===Oe||F<D[ot+1])return ot;Be=ot+1}else{if(!(J>F))throw new fr("Input is not a number.");Ze=ot-1}return 0}Mr.prototype.parse=function(D,F,J,ge,Oe){return void 0===Oe&&(Oe={}),F?this.concat(F,J,ge)._parse(D,Oe):this._parse(D,Oe)},Mr.prototype._parse=function(D,F){function J(Et,Dt,Vt){return"assert"===Vt?new Xt(Dt,[Et]):"coerce"===Vt?new Bn(Dt,[Et]):Et}if(null!==D&&"string"!=typeof D&&"boolean"!=typeof D&&"number"!=typeof D||(D=["literal",D]),Array.isArray(D)){if(0===D.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ge=D[0];if("string"!=typeof ge)return this.error("Expression name must be a string, but found "+typeof ge+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Oe=this.registry[ge];if(Oe){var Be=Oe.parse(D,this);if(!Be)return null;if(this.expectedType){var Ze=this.expectedType,ot=Be.type;if("string"!==Ze.kind&&"number"!==Ze.kind&&"boolean"!==Ze.kind&&"object"!==Ze.kind&&"array"!==Ze.kind||"value"!==ot.kind)if("color"!==Ze.kind&&"formatted"!==Ze.kind&&"resolvedImage"!==Ze.kind||"value"!==ot.kind&&"string"!==ot.kind){if(this.checkSubtype(Ze,ot))return null}else Be=J(Be,Ze,F.typeAnnotation||"coerce");else Be=J(Be,Ze,F.typeAnnotation||"assert")}if(!(Be instanceof hr)&&"resolvedImage"!==Be.type.kind&&Dr(Be)){var pt=new An;try{Be=new hr(Be.type,Be.evaluate(pt))}catch(Et){return this.error(Et.message),null}}return Be}return this.error('Unknown expression "'+ge+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===D?"'undefined' value invalid. Use null instead.":"object"==typeof D?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof D+" instead.")},Mr.prototype.concat=function(D,F,J){var ge="number"==typeof D?this.path.concat(D):this.path,Oe=J?this.scope.concat(J):this.scope;return new Mr(this.registry,ge,F||null,Oe,this.errors)},Mr.prototype.error=function(D){for(var F=[],J=arguments.length-1;J-- >0;)F[J]=arguments[J+1];var ge=""+this.key+F.map(function(Oe){return"["+Oe+"]"}).join("");this.errors.push(new At(ge,D))},Mr.prototype.checkSubtype=function(D,F){var J=Tn(D,F);return J&&this.error(J),J};var Hr=function(D,F,J){this.type=D,this.input=F,this.labels=[],this.outputs=[];for(var ge=0,Oe=J;ge<Oe.length;ge+=1){var Be=Oe[ge],ot=Be[1];this.labels.push(Be[0]),this.outputs.push(ot)}};function sr(D,F,J){return D*(1-J)+F*J}Hr.parse=function(D,F){if(D.length-1<4)return F.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!=0)return F.error("Expected an even number of arguments.");var J=F.parse(D[1],1,xt);if(!J)return null;var ge=[],Oe=null;F.expectedType&&"value"!==F.expectedType.kind&&(Oe=F.expectedType);for(var Be=1;Be<D.length;Be+=2){var Ze=1===Be?-1/0:D[Be],ot=D[Be+1],pt=Be,Et=Be+1;if("number"!=typeof Ze)return F.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',pt);if(ge.length&&ge[ge.length-1][0]>=Ze)return F.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',pt);var Dt=F.parse(ot,Et,Oe);if(!Dt)return null;Oe=Oe||Dt.type,ge.push([Ze,Dt])}return new Hr(Oe,J,ge)},Hr.prototype.evaluate=function(D){var F=this.labels,J=this.outputs;if(1===F.length)return J[0].evaluate(D);var ge=this.input.evaluate(D);if(ge<=F[0])return J[0].evaluate(D);var Oe=F.length;return ge>=F[Oe-1]?J[Oe-1].evaluate(D):J[lr(F,ge)].evaluate(D)},Hr.prototype.eachChild=function(D){D(this.input);for(var F=0,J=this.outputs;F<J.length;F+=1)D(J[F])},Hr.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Hr.prototype.serialize=function(){for(var D=["step",this.input.serialize()],F=0;F<this.labels.length;F++)F>0&&D.push(this.labels[F]),D.push(this.outputs[F].serialize());return D};var Or=Object.freeze({__proto__:null,number:sr,color:function(D,F,J){return new En(sr(D.r,F.r,J),sr(D.g,F.g,J),sr(D.b,F.b,J),sr(D.a,F.a,J))},array:function(D,F,J){return D.map(function(ge,Oe){return sr(ge,F[Oe],J)})}}),no=4/29,ro=6/29,Yi=3*ro*ro,To=ro*ro*ro,Ms=Math.PI/180,$r=180/Math.PI;function fs(D){return D>To?Math.pow(D,.3333333333333333):D/Yi+no}function gu(D){return D>ro?D*D*D:Yi*(D-no)}function Vo(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055)}function Sl(D){return(D/=255)<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function ec(D){var F=Sl(D.r),J=Sl(D.g),ge=Sl(D.b),Oe=fs((.4124564*F+.3575761*J+.1804375*ge)/.95047),Be=fs((.2126729*F+.7151522*J+.072175*ge)/1);return{l:116*Be-16,a:500*(Oe-Be),b:200*(Be-fs((.0193339*F+.119192*J+.9503041*ge)/1.08883)),alpha:D.a}}function Pi(D){var F=(D.l+16)/116,J=isNaN(D.a)?F:F+D.a/500,ge=isNaN(D.b)?F:F-D.b/200;return F=1*gu(F),J=.95047*gu(J),ge=1.08883*gu(ge),new En(Vo(3.2404542*J-1.5371385*F-.4985314*ge),Vo(-.969266*J+1.8760108*F+.041556*ge),Vo(.0556434*J-.2040259*F+1.0572252*ge),D.alpha)}function Tc(D,F,J){var ge=F-D;return D+J*(ge>180||ge<-180?ge-360*Math.round(ge/360):ge)}var El={forward:ec,reverse:Pi,interpolate:function(D,F,J){return{l:sr(D.l,F.l,J),a:sr(D.a,F.a,J),b:sr(D.b,F.b,J),alpha:sr(D.alpha,F.alpha,J)}}},Cl={forward:function(D){var F=ec(D),J=F.l,ge=F.a,Oe=F.b,Be=Math.atan2(Oe,ge)*$r;return{h:Be<0?Be+360:Be,c:Math.sqrt(ge*ge+Oe*Oe),l:J,alpha:D.a}},reverse:function(D){var F=D.h*Ms,J=D.c;return Pi({l:D.l,a:Math.cos(F)*J,b:Math.sin(F)*J,alpha:D.alpha})},interpolate:function(D,F,J){return{h:Tc(D.h,F.h,J),c:sr(D.c,F.c,J),l:sr(D.l,F.l,J),alpha:sr(D.alpha,F.alpha,J)}}},La=Object.freeze({__proto__:null,lab:El,hcl:Cl}),Eo=function(D,F,J,ge,Oe){this.type=D,this.operator=F,this.interpolation=J,this.input=ge,this.labels=[],this.outputs=[];for(var Be=0,Ze=Oe;Be<Ze.length;Be+=1){var ot=Ze[Be],Et=ot[1];this.labels.push(ot[0]),this.outputs.push(Et)}};function Qs(D,F,J,ge){var Oe=ge-J,Be=D-J;return 0===Oe?0:1===F?Be/Oe:(Math.pow(F,Be)-1)/(Math.pow(F,Oe)-1)}Eo.interpolationFactor=function(D,F,J,ge){var Oe=0;if("exponential"===D.name)Oe=Qs(F,D.base,J,ge);else if("linear"===D.name)Oe=Qs(F,1,J,ge);else if("cubic-bezier"===D.name){var Be=D.controlPoints;Oe=new m(Be[0],Be[1],Be[2],Be[3]).solve(Qs(F,1,J,ge))}return Oe},Eo.parse=function(D,F){var J=D[0],ge=D[1],Oe=D[2],Be=D.slice(3);if(!Array.isArray(ge)||0===ge.length)return F.error("Expected an interpolation type expression.",1);if("linear"===ge[0])ge={name:"linear"};else if("exponential"===ge[0]){var Ze=ge[1];if("number"!=typeof Ze)return F.error("Exponential interpolation requires a numeric base.",1,1);ge={name:"exponential",base:Ze}}else{if("cubic-bezier"!==ge[0])return F.error("Unknown interpolation type "+String(ge[0]),1,0);var ot=ge.slice(1);if(4!==ot.length||ot.some(function(Fn){return"number"!=typeof Fn||Fn<0||Fn>1}))return F.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ge={name:"cubic-bezier",controlPoints:ot}}if(D.length-1<4)return F.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!=0)return F.error("Expected an even number of arguments.");if(!(Oe=F.parse(Oe,2,xt)))return null;var pt=[],Et=null;"interpolate-hcl"===J||"interpolate-lab"===J?Et=Gt:F.expectedType&&"value"!==F.expectedType.kind&&(Et=F.expectedType);for(var Dt=0;Dt<Be.length;Dt+=2){var Vt=Be[Dt],Jt=Be[Dt+1],qt=Dt+3,dn=Dt+4;if("number"!=typeof Vt)return F.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',qt);if(pt.length&&pt[pt.length-1][0]>=Vt)return F.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',qt);var yn=F.parse(Jt,dn,Et);if(!yn)return null;Et=Et||yn.type,pt.push([Vt,yn])}return"number"===Et.kind||"color"===Et.kind||"array"===Et.kind&&"number"===Et.itemType.kind&&"number"==typeof Et.N?new Eo(Et,J,ge,Oe,pt):F.error("Type "+kn(Et)+" is not interpolatable.")},Eo.prototype.evaluate=function(D){var F=this.labels,J=this.outputs;if(1===F.length)return J[0].evaluate(D);var ge=this.input.evaluate(D);if(ge<=F[0])return J[0].evaluate(D);var Oe=F.length;if(ge>=F[Oe-1])return J[Oe-1].evaluate(D);var Be=lr(F,ge),pt=Eo.interpolationFactor(this.interpolation,ge,F[Be],F[Be+1]),Et=J[Be].evaluate(D),Dt=J[Be+1].evaluate(D);return"interpolate"===this.operator?Or[this.type.kind.toLowerCase()](Et,Dt,pt):"interpolate-hcl"===this.operator?Cl.reverse(Cl.interpolate(Cl.forward(Et),Cl.forward(Dt),pt)):El.reverse(El.interpolate(El.forward(Et),El.forward(Dt),pt))},Eo.prototype.eachChild=function(D){D(this.input);for(var F=0,J=this.outputs;F<J.length;F+=1)D(J[F])},Eo.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Eo.prototype.serialize=function(){var D;D="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var F=[this.operator,D,this.input.serialize()],J=0;J<this.labels.length;J++)F.push(this.labels[J],this.outputs[J].serialize());return F};var Ui=function(D,F){this.type=D,this.args=F};Ui.parse=function(D,F){if(D.length<2)return F.error("Expectected at least one argument.");var J=null,ge=F.expectedType;ge&&"value"!==ge.kind&&(J=ge);for(var Oe=[],Be=0,Ze=D.slice(1);Be<Ze.length;Be+=1){var pt=F.parse(Ze[Be],1+Oe.length,J,void 0,{typeAnnotation:"omit"});if(!pt)return null;J=J||pt.type,Oe.push(pt)}var Et=ge&&Oe.some(function(Dt){return Tn(ge,Dt.type)});return new Ui(Et?Zt:J,Oe)},Ui.prototype.evaluate=function(D){for(var F,J=null,ge=0,Oe=0,Be=this.args;Oe<Be.length&&(ge++,(J=Be[Oe].evaluate(D))&&J instanceof On&&!J.available&&(F||(F=J.name),J=null,ge===this.args.length&&(J=F)),null===J);Oe+=1);return J},Ui.prototype.eachChild=function(D){this.args.forEach(D)},Ui.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Ui.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(F){D.push(F.serialize())}),D};var As=function(D,F){this.type=F.type,this.bindings=[].concat(D),this.result=F};As.prototype.evaluate=function(D){return this.result.evaluate(D)},As.prototype.eachChild=function(D){for(var F=0,J=this.bindings;F<J.length;F+=1)D(J[F][1]);D(this.result)},As.parse=function(D,F){if(D.length<4)return F.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var J=[],ge=1;ge<D.length-1;ge+=2){var Oe=D[ge];if("string"!=typeof Oe)return F.error("Expected string, but found "+typeof Oe+" instead.",ge);if(/[^a-zA-Z0-9_]/.test(Oe))return F.error("Variable names must contain only alphanumeric characters or '_'.",ge);var Be=F.parse(D[ge+1],ge+1);if(!Be)return null;J.push([Oe,Be])}var Ze=F.parse(D[D.length-1],D.length-1,F.expectedType,J);return Ze?new As(J,Ze):null},As.prototype.outputDefined=function(){return this.result.outputDefined()},As.prototype.serialize=function(){for(var D=["let"],F=0,J=this.bindings;F<J.length;F+=1){var ge=J[F];D.push(ge[0],ge[1].serialize())}return D.push(this.result.serialize()),D};var Ha=function(D,F,J){this.type=D,this.index=F,this.input=J};Ha.parse=function(D,F){if(3!==D.length)return F.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var J=F.parse(D[1],1,xt),ge=F.parse(D[2],2,Qt(F.expectedType||Zt));return J&&ge?new Ha(ge.type.itemType,J,ge):null},Ha.prototype.evaluate=function(D){var F=this.index.evaluate(D),J=this.input.evaluate(D);if(F<0)throw new fr("Array index out of bounds: "+F+" < 0.");if(F>=J.length)throw new fr("Array index out of bounds: "+F+" > "+(J.length-1)+".");if(F!==Math.floor(F))throw new fr("Array index must be an integer, but found "+F+" instead.");return J[F]},Ha.prototype.eachChild=function(D){D(this.index),D(this.input)},Ha.prototype.outputDefined=function(){return!1},Ha.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ks=function(D,F){this.type=It,this.needle=D,this.haystack=F};ks.parse=function(D,F){if(3!==D.length)return F.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var J=F.parse(D[1],1,Zt),ge=F.parse(D[2],2,Zt);return J&&ge?tn(J.type,[It,_t,xt,Rt,Zt])?new ks(J,ge):F.error("Expected first argument to be of type boolean, string, number or null, but found "+kn(J.type)+" instead"):null},ks.prototype.evaluate=function(D){var F=this.needle.evaluate(D),J=this.haystack.evaluate(D);if(!J)return!1;if(!gn(F,["boolean","string","number","null"]))throw new fr("Expected first argument to be of type boolean, string, number or null, but found "+kn(ar(F))+" instead.");if(!gn(J,["string","array"]))throw new fr("Expected second argument to be of type array or string, but found "+kn(ar(J))+" instead.");return J.indexOf(F)>=0},ks.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},ks.prototype.outputDefined=function(){return!0},ks.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ba=function(D,F,J){this.type=xt,this.needle=D,this.haystack=F,this.fromIndex=J};ba.parse=function(D,F){if(D.length<=2||D.length>=5)return F.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var J=F.parse(D[1],1,Zt),ge=F.parse(D[2],2,Zt);if(!J||!ge)return null;if(!tn(J.type,[It,_t,xt,Rt,Zt]))return F.error("Expected first argument to be of type boolean, string, number or null, but found "+kn(J.type)+" instead");if(4===D.length){var Oe=F.parse(D[3],3,xt);return Oe?new ba(J,ge,Oe):null}return new ba(J,ge)},ba.prototype.evaluate=function(D){var F=this.needle.evaluate(D),J=this.haystack.evaluate(D);if(!gn(F,["boolean","string","number","null"]))throw new fr("Expected first argument to be of type boolean, string, number or null, but found "+kn(ar(F))+" instead.");if(!gn(J,["string","array"]))throw new fr("Expected second argument to be of type array or string, but found "+kn(ar(J))+" instead.");if(this.fromIndex){var ge=this.fromIndex.evaluate(D);return J.indexOf(F,ge)}return J.indexOf(F)},ba.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},ba.prototype.outputDefined=function(){return!1},ba.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var el=function(D,F,J,ge,Oe,Be){this.inputType=D,this.type=F,this.input=J,this.cases=ge,this.outputs=Oe,this.otherwise=Be};el.parse=function(D,F){if(D.length<5)return F.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!=1)return F.error("Expected an even number of arguments.");var J,ge;F.expectedType&&"value"!==F.expectedType.kind&&(ge=F.expectedType);for(var Oe={},Be=[],Ze=2;Ze<D.length-1;Ze+=2){var ot=D[Ze],pt=D[Ze+1];Array.isArray(ot)||(ot=[ot]);var Et=F.concat(Ze);if(0===ot.length)return Et.error("Expected at least one branch label.");for(var Dt=0,Vt=ot;Dt<Vt.length;Dt+=1){var Jt=Vt[Dt];if("number"!=typeof Jt&&"string"!=typeof Jt)return Et.error("Branch labels must be numbers or strings.");if("number"==typeof Jt&&Math.abs(Jt)>Number.MAX_SAFE_INTEGER)return Et.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof Jt&&Math.floor(Jt)!==Jt)return Et.error("Numeric branch labels must be integer values.");if(J){if(Et.checkSubtype(J,ar(Jt)))return null}else J=ar(Jt);if(void 0!==Oe[String(Jt)])return Et.error("Branch labels must be unique.");Oe[String(Jt)]=Be.length}var qt=F.parse(pt,Ze,ge);if(!qt)return null;ge=ge||qt.type,Be.push(qt)}var dn=F.parse(D[1],1,Zt);if(!dn)return null;var yn=F.parse(D[D.length-1],D.length-1,ge);return yn?"value"!==dn.type.kind&&F.concat(1).checkSubtype(J,dn.type)?null:new el(J,ge,dn,Oe,Be,yn):null},el.prototype.evaluate=function(D){var F=this.input.evaluate(D);return(ar(F)===this.inputType&&this.outputs[this.cases[F]]||this.otherwise).evaluate(D)},el.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},el.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},el.prototype.serialize=function(){for(var D=this,F=["match",this.input.serialize()],J=[],ge={},Oe=0,Be=Object.keys(this.cases).sort();Oe<Be.length;Oe+=1){var Ze=Be[Oe];void 0===(Vt=ge[this.cases[Ze]])?(ge[this.cases[Ze]]=J.length,J.push([this.cases[Ze],[Ze]])):J[Vt][1].push(Ze)}for(var ot=function(qt){return"number"===D.inputType.kind?Number(qt):qt},pt=0,Et=J;pt<Et.length;pt+=1){var Dt=Et[pt],Vt=Dt[0],Jt=Dt[1];F.push(1===Jt.length?ot(Jt[0]):Jt.map(ot)),F.push(this.outputs[outputIndex$1].serialize())}return F.push(this.otherwise.serialize()),F};var _a=function(D,F,J){this.type=D,this.branches=F,this.otherwise=J};_a.parse=function(D,F){if(D.length<4)return F.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!=0)return F.error("Expected an odd number of arguments.");var J;F.expectedType&&"value"!==F.expectedType.kind&&(J=F.expectedType);for(var ge=[],Oe=1;Oe<D.length-1;Oe+=2){var Be=F.parse(D[Oe],Oe,It);if(!Be)return null;var Ze=F.parse(D[Oe+1],Oe+1,J);if(!Ze)return null;ge.push([Be,Ze]),J=J||Ze.type}var ot=F.parse(D[D.length-1],D.length-1,J);return ot?new _a(J,ge,ot):null},_a.prototype.evaluate=function(D){for(var F=0,J=this.branches;F<J.length;F+=1){var ge=J[F],Be=ge[1];if(ge[0].evaluate(D))return Be.evaluate(D)}return this.otherwise.evaluate(D)},_a.prototype.eachChild=function(D){for(var F=0,J=this.branches;F<J.length;F+=1){var ge=J[F],Be=ge[1];D(ge[0]),D(Be)}D(this.otherwise)},_a.prototype.outputDefined=function(){return this.branches.every(function(D){return D[1].outputDefined()})&&this.otherwise.outputDefined()},_a.prototype.serialize=function(){var D=["case"];return this.eachChild(function(F){D.push(F.serialize())}),D};var Bs=function(D,F,J,ge){this.type=D,this.input=F,this.beginIndex=J,this.endIndex=ge};function ti(D,F){return"=="===D||"!="===D?"boolean"===F.kind||"string"===F.kind||"number"===F.kind||"null"===F.kind||"value"===F.kind:"string"===F.kind||"number"===F.kind||"value"===F.kind}function Eu(D,F,J,ge){return 0===ge.compare(F,J)}function qr(D,F,J){var ge="=="!==D&&"!="!==D;return function(){function Oe(Be,Ze,ot){this.type=It,this.lhs=Be,this.rhs=Ze,this.collator=ot,this.hasUntypedArgument="value"===Be.type.kind||"value"===Ze.type.kind}return Oe.parse=function(Be,Ze){if(3!==Be.length&&4!==Be.length)return Ze.error("Expected two or three arguments.");var ot=Be[0],pt=Ze.parse(Be[1],1,Zt);if(!pt)return null;if(!ti(ot,pt.type))return Ze.concat(1).error('"'+ot+"\" comparisons are not supported for type '"+kn(pt.type)+"'.");var Et=Ze.parse(Be[2],2,Zt);if(!Et)return null;if(!ti(ot,Et.type))return Ze.concat(2).error('"'+ot+"\" comparisons are not supported for type '"+kn(Et.type)+"'.");if(pt.type.kind!==Et.type.kind&&"value"!==pt.type.kind&&"value"!==Et.type.kind)return Ze.error("Cannot compare types '"+kn(pt.type)+"' and '"+kn(Et.type)+"'.");ge&&("value"===pt.type.kind&&"value"!==Et.type.kind?pt=new Xt(Et.type,[pt]):"value"!==pt.type.kind&&"value"===Et.type.kind&&(Et=new Xt(pt.type,[Et])));var Dt=null;if(4===Be.length){if("string"!==pt.type.kind&&"string"!==Et.type.kind&&"value"!==pt.type.kind&&"value"!==Et.type.kind)return Ze.error("Cannot use collator to compare non-string types.");if(!(Dt=Ze.parse(Be[3],3,cn)))return null}return new Oe(pt,Et,Dt)},Oe.prototype.evaluate=function(Be){var Ze=this.lhs.evaluate(Be),ot=this.rhs.evaluate(Be);if(ge&&this.hasUntypedArgument){var pt=ar(Ze),Et=ar(ot);if(pt.kind!==Et.kind||"string"!==pt.kind&&"number"!==pt.kind)throw new fr('Expected arguments for "'+D+'" to be (string, string) or (number, number), but found ('+pt.kind+", "+Et.kind+") instead.")}if(this.collator&&!ge&&this.hasUntypedArgument){var Dt=ar(Ze),Vt=ar(ot);if("string"!==Dt.kind||"string"!==Vt.kind)return F(Be,Ze,ot)}return this.collator?J(Be,Ze,ot,this.collator.evaluate(Be)):F(Be,Ze,ot)},Oe.prototype.eachChild=function(Be){Be(this.lhs),Be(this.rhs),this.collator&&Be(this.collator)},Oe.prototype.outputDefined=function(){return!0},Oe.prototype.serialize=function(){var Be=[D];return this.eachChild(function(Ze){Be.push(Ze.serialize())}),Be},Oe}()}Bs.parse=function(D,F){if(D.length<=2||D.length>=5)return F.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var J=F.parse(D[1],1,Zt),ge=F.parse(D[2],2,xt);if(!J||!ge)return null;if(!tn(J.type,[Qt(Zt),_t,Zt]))return F.error("Expected first argument to be of type array or string, but found "+kn(J.type)+" instead");if(4===D.length){var Oe=F.parse(D[3],3,xt);return Oe?new Bs(J.type,J,ge,Oe):null}return new Bs(J.type,J,ge)},Bs.prototype.evaluate=function(D){var F=this.input.evaluate(D),J=this.beginIndex.evaluate(D);if(!gn(F,["string","array"]))throw new fr("Expected first argument to be of type array or string, but found "+kn(ar(F))+" instead.");if(this.endIndex){var ge=this.endIndex.evaluate(D);return F.slice(J,ge)}return F.slice(J)},Bs.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},Bs.prototype.outputDefined=function(){return!1},Bs.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var $l=qr("==",function(D,F,J){return F===J},Eu),Xl=qr("!=",function(D,F,J){return F!==J},function(D,F,J,ge){return!Eu(0,F,J,ge)}),Dl=qr("<",function(D,F,J){return F<J},function(D,F,J,ge){return ge.compare(F,J)<0}),Cu=qr(">",function(D,F,J){return F>J},function(D,F,J,ge){return ge.compare(F,J)>0}),tc=qr("<=",function(D,F,J){return F<=J},function(D,F,J,ge){return ge.compare(F,J)<=0}),Il=qr(">=",function(D,F,J){return F>=J},function(D,F,J,ge){return ge.compare(F,J)>=0}),wa=function(D,F,J,ge,Oe){this.type=_t,this.number=D,this.locale=F,this.currency=J,this.minFractionDigits=ge,this.maxFractionDigits=Oe};wa.parse=function(D,F){if(3!==D.length)return F.error("Expected two arguments.");var J=F.parse(D[1],1,xt);if(!J)return null;var ge=D[2];if("object"!=typeof ge||Array.isArray(ge))return F.error("NumberFormat options argument must be an object.");var Oe=null;if(ge.locale&&!(Oe=F.parse(ge.locale,1,_t)))return null;var Be=null;if(ge.currency&&!(Be=F.parse(ge.currency,1,_t)))return null;var Ze=null;if(ge["min-fraction-digits"]&&!(Ze=F.parse(ge["min-fraction-digits"],1,xt)))return null;var ot=null;return ge["max-fraction-digits"]&&!(ot=F.parse(ge["max-fraction-digits"],1,xt))?null:new wa(J,Oe,Be,Ze,ot)},wa.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},wa.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},wa.prototype.outputDefined=function(){return!1},wa.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var Ta=function(D){this.type=xt,this.input=D};Ta.parse=function(D,F){if(2!==D.length)return F.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var J=F.parse(D[1],1);return J?"array"!==J.type.kind&&"string"!==J.type.kind&&"value"!==J.type.kind?F.error("Expected argument of type string or array, but found "+kn(J.type)+" instead."):new Ta(J):null},Ta.prototype.evaluate=function(D){var F=this.input.evaluate(D);if("string"==typeof F||Array.isArray(F))return F.length;throw new fr("Expected value to be of type string or array, but found "+kn(ar(F))+" instead.")},Ta.prototype.eachChild=function(D){D(this.input)},Ta.prototype.outputDefined=function(){return!1},Ta.prototype.serialize=function(){var D=["length"];return this.eachChild(function(F){D.push(F.serialize())}),D};var Jo={"==":$l,"!=":Xl,">":Cu,"<":Dl,">=":Il,"<=":tc,array:Xt,at:Ha,boolean:Xt,case:_a,coalesce:Ui,collator:Xn,format:rn,image:wn,in:ks,"index-of":ba,interpolate:Eo,"interpolate-hcl":Eo,"interpolate-lab":Eo,length:Ta,let:As,literal:hr,match:el,number:Xt,"number-format":wa,object:Xt,slice:Bs,step:Hr,string:Xt,"to-boolean":Bn,"to-color":Bn,"to-number":Bn,"to-string":Bn,var:Tr,within:Jn};function Ga(D,F){var J=F[0],ge=F[1],Oe=F[2],Be=F[3];J=J.evaluate(D),ge=ge.evaluate(D),Oe=Oe.evaluate(D);var Ze=Be?Be.evaluate(D):1,ot=Wn(J,ge,Oe,Ze);if(ot)throw new fr(ot);return new En(J/255*Ze,ge/255*Ze,Oe/255*Ze,Ze)}function Fi(D,F){return D in F}function Ll(D,F){var J=F[D];return void 0===J?null:J}function Pa(D){return{type:D}}function js(D){return{result:"success",value:D}}function hs(D){return{result:"error",value:D}}function ia(D){return"data-driven"===D["property-type"]||"cross-faded-data-driven"===D["property-type"]}function Pl(D){return!!D.expression&&D.expression.parameters.indexOf("zoom")>-1}function Us(D){return!!D.expression&&D.expression.interpolated}function Ki(D){return D instanceof Number?"number":D instanceof String?"string":D instanceof Boolean?"boolean":Array.isArray(D)?"array":null===D?"null":typeof D}function qa(D){return"object"==typeof D&&null!==D&&!Array.isArray(D)}function Ol(D){return D}function Wa(D,F){var J,ge,Oe,Be="color"===F.type,Ze=D.stops&&"object"==typeof D.stops[0][0],pt=Ze||!(Ze||void 0!==D.property),Et=D.type||(Us(F)?"exponential":"interval");if(Be&&((D=ct({},D)).stops&&(D.stops=D.stops.map(function(Sr){return[Sr[0],En.parse(Sr[1])]})),D.default=En.parse(D.default?D.default:F.default)),D.colorSpace&&"rgb"!==D.colorSpace&&!La[D.colorSpace])throw new Error("Unknown color space: "+D.colorSpace);if("exponential"===Et)J=rc;else if("interval"===Et)J=Kl;else if("categorical"===Et){J=nc,ge=Object.create(null);for(var Dt=0,Vt=D.stops;Dt<Vt.length;Dt+=1){var Jt=Vt[Dt];ge[Jt[0]]=Jt[1]}Oe=typeof D.stops[0][0]}else{if("identity"!==Et)throw new Error('Unknown function type "'+Et+'"');J=Du}if(Ze){for(var qt={},dn=[],yn=0;yn<D.stops.length;yn++){var Fn=D.stops[yn],Nn=Fn[0].zoom;void 0===qt[Nn]&&(qt[Nn]={zoom:Nn,type:D.type,property:D.property,default:D.default,stops:[]},dn.push(Nn)),qt[Nn].stops.push([Fn[0].value,Fn[1]])}for(var qn=[],Zn=0,tr=dn;Zn<tr.length;Zn+=1){var cr=tr[Zn];qn.push([qt[cr].zoom,Wa(qt[cr],F)])}var vr={name:"linear"};return{kind:"composite",interpolationType:vr,interpolationFactor:Eo.interpolationFactor.bind(void 0,vr),zoomStops:qn.map(function(Sr){return Sr[0]}),evaluate:function(Sr,Nr){var Gr=Sr.zoom;return rc({stops:qn,base:D.base},F,Gr).evaluate(Gr,Nr)}}}if(pt){var Pr="exponential"===Et?{name:"exponential",base:void 0!==D.base?D.base:1}:null;return{kind:"camera",interpolationType:Pr,interpolationFactor:Eo.interpolationFactor.bind(void 0,Pr),zoomStops:D.stops.map(function(Sr){return Sr[0]}),evaluate:function(Sr){return J(D,F,Sr.zoom,ge,Oe)}}}return{kind:"source",evaluate:function(Sr,Nr){var Gr=Nr&&Nr.properties?Nr.properties[D.property]:void 0;return void 0===Gr?ds(D.default,F.default):J(D,F,Gr,ge,Oe)}}}function ds(D,F,J){return void 0!==D?D:void 0!==F?F:void 0!==J?J:void 0}function nc(D,F,J,ge,Oe){return ds(typeof J===Oe?ge[J]:void 0,D.default,F.default)}function Kl(D,F,J){if("number"!==Ki(J))return ds(D.default,F.default);var ge=D.stops.length;if(1===ge||J<=D.stops[0][0])return D.stops[0][1];if(J>=D.stops[ge-1][0])return D.stops[ge-1][1];var Oe=lr(D.stops.map(function(Be){return Be[0]}),J);return D.stops[Oe][1]}function rc(D,F,J){var ge=void 0!==D.base?D.base:1;if("number"!==Ki(J))return ds(D.default,F.default);var Oe=D.stops.length;if(1===Oe||J<=D.stops[0][0])return D.stops[0][1];if(J>=D.stops[Oe-1][0])return D.stops[Oe-1][1];var Jt,qt,yn,Fn,Be=lr(D.stops.map(function(Vt){return Vt[0]}),J),Ze=(Jt=ge,Fn=J-(qt=D.stops[Be][0]),0==(yn=D.stops[Be+1][0]-qt)?0:1===Jt?Fn/yn:(Math.pow(Jt,Fn)-1)/(Math.pow(Jt,yn)-1)),ot=D.stops[Be][1],pt=D.stops[Be+1][1],Et=Or[F.type]||Ol;if(D.colorSpace&&"rgb"!==D.colorSpace){var Dt=La[D.colorSpace];Et=function(Vt,Jt){return Dt.reverse(Dt.interpolate(Dt.forward(Vt),Dt.forward(Jt),Ze))}}return"function"==typeof ot.evaluate?{evaluate:function(){for(var Vt=[],Jt=arguments.length;Jt--;)Vt[Jt]=arguments[Jt];var qt=ot.evaluate.apply(void 0,Vt),dn=pt.evaluate.apply(void 0,Vt);if(void 0!==qt&&void 0!==dn)return Et(qt,dn,Ze)}}:Et(ot,pt,Ze)}function Du(D,F,J){return"color"===F.type?J=En.parse(J):"formatted"===F.type?J=Hn.fromString(J.toString()):"resolvedImage"===F.type?J=On.fromString(J.toString()):Ki(J)===F.type||"enum"===F.type&&F.values[J]||(J=void 0),ds(J,D.default,F.default)}$n.register(Jo,{error:[{kind:"error"},[_t],function(D,F){throw new fr(F[0].evaluate(D))}],typeof:[_t,[Zt],function(D,F){return kn(ar(F[0].evaluate(D)))}],"to-rgba":[Qt(xt,4),[Gt],function(D,F){return F[0].evaluate(D).toArray()}],rgb:[Gt,[xt,xt,xt],Ga],rgba:[Gt,[xt,xt,xt,xt],Ga],has:{type:It,overloads:[[[_t],function(D,F){return Fi(F[0].evaluate(D),D.properties())}],[[_t,Wt],function(D,F){var ge=F[1];return Fi(F[0].evaluate(D),ge.evaluate(D))}]]},get:{type:Zt,overloads:[[[_t],function(D,F){return Ll(F[0].evaluate(D),D.properties())}],[[_t,Wt],function(D,F){var ge=F[1];return Ll(F[0].evaluate(D),ge.evaluate(D))}]]},"feature-state":[Zt,[_t],function(D,F){return Ll(F[0].evaluate(D),D.featureState||{})}],properties:[Wt,[],function(D){return D.properties()}],"geometry-type":[_t,[],function(D){return D.geometryType()}],id:[Zt,[],function(D){return D.id()}],zoom:[xt,[],function(D){return D.globals.zoom}],"heatmap-density":[xt,[],function(D){return D.globals.heatmapDensity||0}],"line-progress":[xt,[],function(D){return D.globals.lineProgress||0}],accumulated:[Zt,[],function(D){return void 0===D.globals.accumulated?null:D.globals.accumulated}],"+":[xt,Pa(xt),function(D,F){for(var J=0,ge=0,Oe=F;ge<Oe.length;ge+=1)J+=Oe[ge].evaluate(D);return J}],"*":[xt,Pa(xt),function(D,F){for(var J=1,ge=0,Oe=F;ge<Oe.length;ge+=1)J*=Oe[ge].evaluate(D);return J}],"-":{type:xt,overloads:[[[xt,xt],function(D,F){var ge=F[1];return F[0].evaluate(D)-ge.evaluate(D)}],[[xt],function(D,F){return-F[0].evaluate(D)}]]},"/":[xt,[xt,xt],function(D,F){var ge=F[1];return F[0].evaluate(D)/ge.evaluate(D)}],"%":[xt,[xt,xt],function(D,F){var ge=F[1];return F[0].evaluate(D)%ge.evaluate(D)}],ln2:[xt,[],function(){return Math.LN2}],pi:[xt,[],function(){return Math.PI}],e:[xt,[],function(){return Math.E}],"^":[xt,[xt,xt],function(D,F){var ge=F[1];return Math.pow(F[0].evaluate(D),ge.evaluate(D))}],sqrt:[xt,[xt],function(D,F){return Math.sqrt(F[0].evaluate(D))}],log10:[xt,[xt],function(D,F){return Math.log(F[0].evaluate(D))/Math.LN10}],ln:[xt,[xt],function(D,F){return Math.log(F[0].evaluate(D))}],log2:[xt,[xt],function(D,F){return Math.log(F[0].evaluate(D))/Math.LN2}],sin:[xt,[xt],function(D,F){return Math.sin(F[0].evaluate(D))}],cos:[xt,[xt],function(D,F){return Math.cos(F[0].evaluate(D))}],tan:[xt,[xt],function(D,F){return Math.tan(F[0].evaluate(D))}],asin:[xt,[xt],function(D,F){return Math.asin(F[0].evaluate(D))}],acos:[xt,[xt],function(D,F){return Math.acos(F[0].evaluate(D))}],atan:[xt,[xt],function(D,F){return Math.atan(F[0].evaluate(D))}],min:[xt,Pa(xt),function(D,F){return Math.min.apply(Math,F.map(function(J){return J.evaluate(D)}))}],max:[xt,Pa(xt),function(D,F){return Math.max.apply(Math,F.map(function(J){return J.evaluate(D)}))}],abs:[xt,[xt],function(D,F){return Math.abs(F[0].evaluate(D))}],round:[xt,[xt],function(D,F){var J=F[0].evaluate(D);return J<0?-Math.round(-J):Math.round(J)}],floor:[xt,[xt],function(D,F){return Math.floor(F[0].evaluate(D))}],ceil:[xt,[xt],function(D,F){return Math.ceil(F[0].evaluate(D))}],"filter-==":[It,[_t,Zt],function(D,F){var J=F[0],ge=F[1];return D.properties()[J.value]===ge.value}],"filter-id-==":[It,[Zt],function(D,F){var J=F[0];return D.id()===J.value}],"filter-type-==":[It,[_t],function(D,F){var J=F[0];return D.geometryType()===J.value}],"filter-<":[It,[_t,Zt],function(D,F){var J=F[0],ge=F[1],Oe=D.properties()[J.value],Be=ge.value;return typeof Oe==typeof Be&&Oe<Be}],"filter-id-<":[It,[Zt],function(D,F){var J=F[0],ge=D.id(),Oe=J.value;return typeof ge==typeof Oe&&ge<Oe}],"filter->":[It,[_t,Zt],function(D,F){var J=F[0],ge=F[1],Oe=D.properties()[J.value],Be=ge.value;return typeof Oe==typeof Be&&Oe>Be}],"filter-id->":[It,[Zt],function(D,F){var J=F[0],ge=D.id(),Oe=J.value;return typeof ge==typeof Oe&&ge>Oe}],"filter-<=":[It,[_t,Zt],function(D,F){var J=F[0],ge=F[1],Oe=D.properties()[J.value],Be=ge.value;return typeof Oe==typeof Be&&Oe<=Be}],"filter-id-<=":[It,[Zt],function(D,F){var J=F[0],ge=D.id(),Oe=J.value;return typeof ge==typeof Oe&&ge<=Oe}],"filter->=":[It,[_t,Zt],function(D,F){var J=F[0],ge=F[1],Oe=D.properties()[J.value],Be=ge.value;return typeof Oe==typeof Be&&Oe>=Be}],"filter-id->=":[It,[Zt],function(D,F){var J=F[0],ge=D.id(),Oe=J.value;return typeof ge==typeof Oe&&ge>=Oe}],"filter-has":[It,[Zt],function(D,F){return F[0].value in D.properties()}],"filter-has-id":[It,[],function(D){return null!==D.id()&&void 0!==D.id()}],"filter-type-in":[It,[Qt(_t)],function(D,F){return F[0].value.indexOf(D.geometryType())>=0}],"filter-id-in":[It,[Qt(Zt)],function(D,F){return F[0].value.indexOf(D.id())>=0}],"filter-in-small":[It,[_t,Qt(Zt)],function(D,F){var J=F[0];return F[1].value.indexOf(D.properties()[J.value])>=0}],"filter-in-large":[It,[_t,Qt(Zt)],function(D,F){var J=F[0],ge=F[1];return function(Oe,Be,Ze,ot){for(;Ze<=ot;){var pt=Ze+ot>>1;if(Be[pt]===Oe)return!0;Be[pt]>Oe?ot=pt-1:Ze=pt+1}return!1}(D.properties()[J.value],ge.value,0,ge.value.length-1)}],all:{type:It,overloads:[[[It,It],function(D,F){var ge=F[1];return F[0].evaluate(D)&&ge.evaluate(D)}],[Pa(It),function(D,F){for(var J=0,ge=F;J<ge.length;J+=1)if(!ge[J].evaluate(D))return!1;return!0}]]},any:{type:It,overloads:[[[It,It],function(D,F){var ge=F[1];return F[0].evaluate(D)||ge.evaluate(D)}],[Pa(It),function(D,F){for(var J=0,ge=F;J<ge.length;J+=1)if(ge[J].evaluate(D))return!0;return!1}]]},"!":[It,[It],function(D,F){return!F[0].evaluate(D)}],"is-supported-script":[It,[_t],function(D,F){var ge=D.globals&&D.globals.isSupportedScript;return!ge||ge(F[0].evaluate(D))}],upcase:[_t,[_t],function(D,F){return F[0].evaluate(D).toUpperCase()}],downcase:[_t,[_t],function(D,F){return F[0].evaluate(D).toLowerCase()}],concat:[_t,Pa(Zt),function(D,F){return F.map(function(J){return Ar(J.evaluate(D))}).join("")}],"resolved-locale":[_t,[cn],function(D,F){return F[0].evaluate(D).resolvedLocale()}]});var Jl=function(D,F){var J;this.expression=D,this._warningHistory={},this._evaluator=new An,this._defaultValue=F?"color"===(J=F).type&&qa(J.default)?new En(0,0,0,0):"color"===J.type?En.parse(J.default)||null:void 0===J.default?null:J.default:null,this._enumValues=F&&"enum"===F.type?F.values:null};function Rl(D){return Array.isArray(D)&&D.length>0&&"string"==typeof D[0]&&D[0]in Jo}function Ea(D,F){var Oe,Be,J=new Mr(Jo,[],F?(Be={color:Gt,string:_t,number:xt,enum:_t,boolean:It,formatted:nn,resolvedImage:ln},"array"===(Oe=F).type?Qt(Be[Oe.value]||Zt,Oe.length):Be[Oe.type]):void 0),ge=J.parse(D,void 0,void 0,void 0,F&&"string"===F.type?{typeAnnotation:"coerce"}:void 0);return ge?js(new Jl(ge,F)):hs(J.errors)}Jl.prototype.evaluateWithoutErrorHandling=function(D,F,J,ge,Oe,Be){return this._evaluator.globals=D,this._evaluator.feature=F,this._evaluator.featureState=J,this._evaluator.canonical=ge,this._evaluator.availableImages=Oe||null,this._evaluator.formattedSection=Be,this.expression.evaluate(this._evaluator)},Jl.prototype.evaluate=function(D,F,J,ge,Oe,Be){this._evaluator.globals=D,this._evaluator.feature=F||null,this._evaluator.featureState=J||null,this._evaluator.canonical=ge,this._evaluator.availableImages=Oe||null,this._evaluator.formattedSection=Be||null;try{var Ze=this.expression.evaluate(this._evaluator);if(null==Ze||"number"==typeof Ze&&Ze!=Ze)return this._defaultValue;if(this._enumValues&&!(Ze in this._enumValues))throw new fr("Expected value to be one of "+Object.keys(this._enumValues).map(function(ot){return JSON.stringify(ot)}).join(", ")+", but found "+JSON.stringify(Ze)+" instead.");return Ze}catch(ot){return this._warningHistory[ot.message]||(this._warningHistory[ot.message]=!0,typeof console<"u"&&console.warn(ot.message)),this._defaultValue}};var tl=function(D,F){this.kind=D,this._styleExpression=F,this.isStateDependent="constant"!==D&&!er(F.expression)};tl.prototype.evaluateWithoutErrorHandling=function(D,F,J,ge,Oe,Be){return this._styleExpression.evaluateWithoutErrorHandling(D,F,J,ge,Oe,Be)},tl.prototype.evaluate=function(D,F,J,ge,Oe,Be){return this._styleExpression.evaluate(D,F,J,ge,Oe,Be)};var Ss=function(D,F,J,ge){this.kind=D,this.zoomStops=J,this._styleExpression=F,this.isStateDependent="camera"!==D&&!er(F.expression),this.interpolationType=ge};function nl(D,F){if("error"===(D=Ea(D,F)).result)return D;var J=D.value.expression,ge=mr(J);if(!ge&&!ia(F))return hs([new At("","data expressions not supported")]);var Oe=ur(J,["zoom"]);if(!Oe&&!Pl(F))return hs([new At("","zoom expressions not supported")]);var Be=mu(J);return Be||Oe?Be instanceof At?hs([Be]):Be instanceof Eo&&!Us(F)?hs([new At("",'"interpolate" expressions cannot be used with this property')]):js(Be?new Ss(ge?"camera":"composite",D.value,Be.labels,Be instanceof Eo?Be.interpolation:void 0):new tl(ge?"constant":"source",D.value)):hs([new At("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Ss.prototype.evaluateWithoutErrorHandling=function(D,F,J,ge,Oe,Be){return this._styleExpression.evaluateWithoutErrorHandling(D,F,J,ge,Oe,Be)},Ss.prototype.evaluate=function(D,F,J,ge,Oe,Be){return this._styleExpression.evaluate(D,F,J,ge,Oe,Be)},Ss.prototype.interpolationFactor=function(D,F,J){return this.interpolationType?Eo.interpolationFactor(this.interpolationType,D,F,J):0};var Vs=function(D,F){this._parameters=D,this._specification=F,ct(this,Wa(this._parameters,this._specification))};function mu(D){var F=null;if(D instanceof As)F=mu(D.result);else if(D instanceof Ui)for(var J=0,ge=D.args;J<ge.length&&!(F=mu(ge[J]));J+=1);else(D instanceof Hr||D instanceof Eo)&&D.input instanceof $n&&"zoom"===D.input.name&&(F=D);return F instanceof At||D.eachChild(function(Be){var Ze=mu(Be);Ze instanceof At?F=Ze:!F&&Ze?F=new At("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):F&&Ze&&F!==Ze&&(F=new At("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),F}function ps(D){var F=D.key,J=D.value,ge=D.valueSpec||{},Oe=D.objectElementValidators||{},Be=D.style,Ze=D.styleSpec,ot=[],pt=Ki(J);if("object"!==pt)return[new Ve(F,J,"object expected, "+pt+" found")];for(var Et in J){var Dt=Et.split(".")[0],Vt=ge[Dt]||ge["*"],Jt=void 0;if(Oe[Dt])Jt=Oe[Dt];else if(ge[Dt])Jt=pi;else if(Oe["*"])Jt=Oe["*"];else{if(!ge["*"]){ot.push(new Ve(F,J[Et],'unknown property "'+Et+'"'));continue}Jt=pi}ot=ot.concat(Jt({key:(F&&F+".")+Et,value:J[Et],valueSpec:Vt,style:Be,styleSpec:Ze,object:J,objectKey:Et},J))}for(var qt in ge)Oe[qt]||ge[qt].required&&void 0===ge[qt].default&&void 0===J[qt]&&ot.push(new Ve(F,J,'missing required property "'+qt+'"'));return ot}function Iu(D){var F=D.value,J=D.valueSpec,ge=D.style,Oe=D.styleSpec,Be=D.key,Ze=D.arrayElementValidator||pi;if("array"!==Ki(F))return[new Ve(Be,F,"array expected, "+Ki(F)+" found")];if(J.length&&F.length!==J.length)return[new Ve(Be,F,"array length "+J.length+" expected, length "+F.length+" found")];if(J["min-length"]&&F.length<J["min-length"])return[new Ve(Be,F,"array length at least "+J["min-length"]+" expected, length "+F.length+" found")];var ot={type:J.value,values:J.values};Oe.$version<7&&(ot.function=J.function),"object"===Ki(J.value)&&(ot=J.value);for(var pt=[],Et=0;Et<F.length;Et++)pt=pt.concat(Ze({array:F,arrayIndex:Et,value:F[Et],valueSpec:ot,style:ge,styleSpec:Oe,key:Be+"["+Et+"]"}));return pt}function ic(D){var F=D.key,J=D.value,ge=D.valueSpec,Oe=Ki(J);return"number"===Oe&&J!=J&&(Oe="NaN"),"number"!==Oe?[new Ve(F,J,"number expected, "+Oe+" found")]:"minimum"in ge&&J<ge.minimum?[new Ve(F,J,J+" is less than the minimum value "+ge.minimum)]:"maximum"in ge&&J>ge.maximum?[new Ve(F,J,J+" is greater than the maximum value "+ge.maximum)]:[]}function vu(D){var F,J,ge,Oe=D.valueSpec,Be=Tt(D.value.type),Ze={},ot="categorical"!==Be&&void 0===D.value.property,pt=!ot,Et="array"===Ki(D.value.stops)&&"array"===Ki(D.value.stops[0])&&"object"===Ki(D.value.stops[0][0]),Dt=ps({key:D.key,value:D.value,valueSpec:D.styleSpec.function,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{stops:function(qt){if("identity"===Be)return[new Ve(qt.key,qt.value,'identity function may not have a "stops" property')];var dn=[],yn=qt.value;return dn=dn.concat(Iu({key:qt.key,value:yn,valueSpec:qt.valueSpec,style:qt.style,styleSpec:qt.styleSpec,arrayElementValidator:Vt})),"array"===Ki(yn)&&0===yn.length&&dn.push(new Ve(qt.key,yn,"array must have at least one stop")),dn},default:function(qt){return pi({key:qt.key,value:qt.value,valueSpec:Oe,style:qt.style,styleSpec:qt.styleSpec})}}});return"identity"===Be&&ot&&Dt.push(new Ve(D.key,D.value,'missing required property "property"')),"identity"===Be||D.value.stops||Dt.push(new Ve(D.key,D.value,'missing required property "stops"')),"exponential"===Be&&D.valueSpec.expression&&!Us(D.valueSpec)&&Dt.push(new Ve(D.key,D.value,"exponential functions not supported")),D.styleSpec.$version>=8&&(pt&&!ia(D.valueSpec)?Dt.push(new Ve(D.key,D.value,"property functions not supported")):ot&&!Pl(D.valueSpec)&&Dt.push(new Ve(D.key,D.value,"zoom functions not supported"))),"categorical"!==Be&&!Et||void 0!==D.value.property||Dt.push(new Ve(D.key,D.value,'"property" property is required')),Dt;function Vt(qt){var dn=[],yn=qt.value,Fn=qt.key;if("array"!==Ki(yn))return[new Ve(Fn,yn,"array expected, "+Ki(yn)+" found")];if(2!==yn.length)return[new Ve(Fn,yn,"array length 2 expected, length "+yn.length+" found")];if(Et){if("object"!==Ki(yn[0]))return[new Ve(Fn,yn,"object expected, "+Ki(yn[0])+" found")];if(void 0===yn[0].zoom)return[new Ve(Fn,yn,"object stop key must have zoom")];if(void 0===yn[0].value)return[new Ve(Fn,yn,"object stop key must have value")];if(ge&&ge>Tt(yn[0].zoom))return[new Ve(Fn,yn[0].zoom,"stop zoom values must appear in ascending order")];Tt(yn[0].zoom)!==ge&&(ge=Tt(yn[0].zoom),J=void 0,Ze={}),dn=dn.concat(ps({key:Fn+"[0]",value:yn[0],valueSpec:{zoom:{}},style:qt.style,styleSpec:qt.styleSpec,objectElementValidators:{zoom:ic,value:Jt}}))}else dn=dn.concat(Jt({key:Fn+"[0]",value:yn[0],valueSpec:{},style:qt.style,styleSpec:qt.styleSpec},yn));return Rl(Mt(yn[1]))?dn.concat([new Ve(Fn+"[1]",yn[1],"expressions are not allowed in function stops.")]):dn.concat(pi({key:Fn+"[1]",value:yn[1],valueSpec:Oe,style:qt.style,styleSpec:qt.styleSpec}))}function Jt(qt,dn){var yn=Ki(qt.value),Fn=Tt(qt.value),Nn=null!==qt.value?qt.value:dn;if(F){if(yn!==F)return[new Ve(qt.key,Nn,yn+" stop domain type must match previous stop domain type "+F)]}else F=yn;if("number"!==yn&&"string"!==yn&&"boolean"!==yn)return[new Ve(qt.key,Nn,"stop domain value must be a number, string, or boolean")];if("number"!==yn&&"categorical"!==Be){var qn="number expected, "+yn+" found";return ia(Oe)&&void 0===Be&&(qn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ve(qt.key,Nn,qn)]}return"categorical"!==Be||"number"!==yn||isFinite(Fn)&&Math.floor(Fn)===Fn?"categorical"!==Be&&"number"===yn&&void 0!==J&&Fn<J?[new Ve(qt.key,Nn,"stop domain values must appear in ascending order")]:(J=Fn,"categorical"===Be&&Fn in Ze?[new Ve(qt.key,Nn,"stop domain values must be unique")]:(Ze[Fn]=!0,[])):[new Ve(qt.key,Nn,"integer expected, found "+Fn)]}}function rl(D){var F=("property"===D.expressionContext?nl:Ea)(Mt(D.value),D.valueSpec);if("error"===F.result)return F.value.map(function(ge){return new Ve(""+D.key+ge.key,D.value,ge.message)});var J=F.value.expression||F.value._styleExpression.expression;if("property"===D.expressionContext&&"text-font"===D.propertyKey&&!J.outputDefined())return[new Ve(D.key,D.value,'Invalid data expression for "'+D.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===D.expressionContext&&"layout"===D.propertyType&&!er(J))return[new Ve(D.key,D.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===D.expressionContext&&!er(J))return[new Ve(D.key,D.value,'"feature-state" data expressions are not supported with filters.')];if(D.expressionContext&&0===D.expressionContext.indexOf("cluster")){if(!ur(J,["zoom","feature-state"]))return[new Ve(D.key,D.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===D.expressionContext&&!mr(J))return[new Ve(D.key,D.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Es(D){var F=D.key,J=D.value,ge=D.valueSpec,Oe=[];return Array.isArray(ge.values)?-1===ge.values.indexOf(Tt(J))&&Oe.push(new Ve(F,J,"expected one of ["+ge.values.join(", ")+"], "+JSON.stringify(J)+" found")):-1===Object.keys(ge.values).indexOf(Tt(J))&&Oe.push(new Ve(F,J,"expected one of ["+Object.keys(ge.values).join(", ")+"], "+JSON.stringify(J)+" found")),Oe}function dl(D){if(!0===D||!1===D)return!0;if(!Array.isArray(D)||0===D.length)return!1;switch(D[0]){case"has":return D.length>=2&&"$id"!==D[1]&&"$type"!==D[1];case"in":return D.length>=3&&("string"!=typeof D[1]||Array.isArray(D[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==D.length||Array.isArray(D[1])||Array.isArray(D[2]);case"any":case"all":for(var F=0,J=D.slice(1);F<J.length;F+=1){var ge=J[F];if(!dl(ge)&&"boolean"!=typeof ge)return!1}return!0;default:return!0}}Vs.deserialize=function(D){return new Vs(D._parameters,D._specification)},Vs.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};var Lu={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Fl(D){if(null==D)return{filter:function(){return!0},needGeometry:!1};dl(D)||(D=pl(D));var F=Ea(D,Lu);if("error"===F.result)throw new Error(F.value.map(function(J){return J.key+": "+J.message}).join(", "));return{filter:function(J,ge,Oe){return F.value.evaluate(J,ge,{},Oe)},needGeometry:Ql(D)}}function oa(D,F){return D<F?-1:D>F?1:0}function Ql(D){if(!Array.isArray(D))return!1;if("within"===D[0])return!0;for(var F=1;F<D.length;F++)if(Ql(D[F]))return!0;return!1}function pl(D){if(!D)return!0;var F,J=D[0];return D.length<=1?"any"!==J:"=="===J?yi(D[1],D[2],"=="):"!="===J?Ni(yi(D[1],D[2],"==")):"<"===J||">"===J||"<="===J||">="===J?yi(D[1],D[2],J):"any"===J?(F=D.slice(1),["any"].concat(F.map(pl))):"all"===J?["all"].concat(D.slice(1).map(pl)):"none"===J?["all"].concat(D.slice(1).map(pl).map(Ni)):"in"===J?No(D[1],D.slice(2)):"!in"===J?Ni(No(D[1],D.slice(2))):"has"===J?Ai(D[1]):"!has"===J?Ni(Ai(D[1])):"within"!==J||D}function yi(D,F,J){switch(D){case"$type":return["filter-type-"+J,F];case"$id":return["filter-id-"+J,F];default:return["filter-"+J,D,F]}}function No(D,F){if(0===F.length)return!1;switch(D){case"$type":return["filter-type-in",["literal",F]];case"$id":return["filter-id-in",["literal",F]];default:return F.length>200&&!F.some(function(J){return typeof J!=typeof F[0]})?["filter-in-large",D,["literal",F.sort(oa)]]:["filter-in-small",D,["literal",F]]}}function Ai(D){switch(D){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",D]}}function Ni(D){return["!",D]}function fi(D){return dl(Mt(D.value))?rl(ct({},D,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Si(D)}function Si(D){var F=D.value,J=D.key;if("array"!==Ki(F))return[new Ve(J,F,"array expected, "+Ki(F)+" found")];var ge,Oe=D.styleSpec,Be=[];if(F.length<1)return[new Ve(J,F,"filter array must have at least 1 element")];switch(Be=Be.concat(Es({key:J+"[0]",value:F[0],valueSpec:Oe.filter_operator,style:D.style,styleSpec:D.styleSpec})),Tt(F[0])){case"<":case"<=":case">":case">=":F.length>=2&&"$type"===Tt(F[1])&&Be.push(new Ve(J,F,'"$type" cannot be use with operator "'+F[0]+'"'));case"==":case"!=":3!==F.length&&Be.push(new Ve(J,F,'filter array for operator "'+F[0]+'" must have 3 elements'));case"in":case"!in":F.length>=2&&"string"!==(ge=Ki(F[1]))&&Be.push(new Ve(J+"[1]",F[1],"string expected, "+ge+" found"));for(var Ze=2;Ze<F.length;Ze++)ge=Ki(F[Ze]),"$type"===Tt(F[1])?Be=Be.concat(Es({key:J+"["+Ze+"]",value:F[Ze],valueSpec:Oe.geometry_type,style:D.style,styleSpec:D.styleSpec})):"string"!==ge&&"number"!==ge&&"boolean"!==ge&&Be.push(new Ve(J+"["+Ze+"]",F[Ze],"string, number, or boolean expected, "+ge+" found"));break;case"any":case"all":case"none":for(var ot=1;ot<F.length;ot++)Be=Be.concat(Si({key:J+"["+ot+"]",value:F[ot],style:D.style,styleSpec:D.styleSpec}));break;case"has":case"!has":ge=Ki(F[1]),2!==F.length?Be.push(new Ve(J,F,'filter array for "'+F[0]+'" operator must have 2 elements')):"string"!==ge&&Be.push(new Ve(J+"[1]",F[1],"string expected, "+ge+" found"));break;case"within":ge=Ki(F[1]),2!==F.length?Be.push(new Ve(J,F,'filter array for "'+F[0]+'" operator must have 2 elements')):"object"!==ge&&Be.push(new Ve(J+"[1]",F[1],"object expected, "+ge+" found"))}return Be}function Ho(D,F){var J=D.key,ge=D.style,Oe=D.styleSpec,Be=D.value,Ze=D.objectKey,ot=Oe[F+"_"+D.layerType];if(!ot)return[];var pt=Ze.match(/^(.*)-transition$/);if("paint"===F&&pt&&ot[pt[1]]&&ot[pt[1]].transition)return pi({key:J,value:Be,valueSpec:Oe.transition,style:ge,styleSpec:Oe});var Et,Dt=D.valueSpec||ot[Ze];if(!Dt)return[new Ve(J,Be,'unknown property "'+Ze+'"')];if("string"===Ki(Be)&&ia(Dt)&&!Dt.tokens&&(Et=/^{([^}]+)}$/.exec(Be)))return[new Ve(J,Be,'"'+Ze+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Et[1])+" }`.")];var Vt=[];return"symbol"===D.layerType&&("text-field"===Ze&&ge&&!ge.glyphs&&Vt.push(new Ve(J,Be,'use of "text-field" requires a style "glyphs" property')),"text-font"===Ze&&qa(Mt(Be))&&"identity"===Tt(Be.type)&&Vt.push(new Ve(J,Be,'"text-font" does not support identity functions'))),Vt.concat(pi({key:D.key,value:Be,valueSpec:Dt,style:ge,styleSpec:Oe,expressionContext:"property",propertyType:F,propertyKey:Ze}))}function Cs(D){return Ho(D,"paint")}function yu(D){return Ho(D,"layout")}function il(D){var F=[],J=D.value,ge=D.key,Oe=D.style,Be=D.styleSpec;J.type||J.ref||F.push(new Ve(ge,J,'either "type" or "ref" is required'));var Ze,ot=Tt(J.type),pt=Tt(J.ref);if(J.id)for(var Et=Tt(J.id),Dt=0;Dt<D.arrayIndex;Dt++){var Vt=Oe.layers[Dt];Tt(Vt.id)===Et&&F.push(new Ve(ge,J.id,'duplicate layer id "'+J.id+'", previously used at line '+Vt.id.__line__))}if("ref"in J)["type","source","source-layer","filter","layout"].forEach(function(dn){dn in J&&F.push(new Ve(ge,J[dn],'"'+dn+'" is prohibited for ref layers'))}),Oe.layers.forEach(function(dn){Tt(dn.id)===pt&&(Ze=dn)}),Ze?Ze.ref?F.push(new Ve(ge,J.ref,"ref cannot reference another ref layer")):ot=Tt(Ze.type):F.push(new Ve(ge,J.ref,'ref layer "'+pt+'" not found'));else if("background"!==ot)if(J.source){var Jt=Oe.sources&&Oe.sources[J.source],qt=Jt&&Tt(Jt.type);Jt?"vector"===qt&&"raster"===ot?F.push(new Ve(ge,J.source,'layer "'+J.id+'" requires a raster source')):"raster"===qt&&"raster"!==ot?F.push(new Ve(ge,J.source,'layer "'+J.id+'" requires a vector source')):"vector"!==qt||J["source-layer"]?"raster-dem"===qt&&"hillshade"!==ot?F.push(new Ve(ge,J.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==ot||!J.paint||!J.paint["line-gradient"]||"geojson"===qt&&Jt.lineMetrics||F.push(new Ve(ge,J,'layer "'+J.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):F.push(new Ve(ge,J,'layer "'+J.id+'" must specify a "source-layer"')):F.push(new Ve(ge,J.source,'source "'+J.source+'" not found'))}else F.push(new Ve(ge,J,'missing required property "source"'));return F=F.concat(ps({key:ge,value:J,valueSpec:Be.layer,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return pi({key:ge+".type",value:J.type,valueSpec:Be.layer.type,style:D.style,styleSpec:D.styleSpec,object:J,objectKey:"type"})},filter:fi,layout:function(dn){return ps({layer:J,key:dn.key,value:dn.value,style:dn.style,styleSpec:dn.styleSpec,objectElementValidators:{"*":function(yn){return yu(ct({layerType:ot},yn))}}})},paint:function(dn){return ps({layer:J,key:dn.key,value:dn.value,style:dn.style,styleSpec:dn.styleSpec,objectElementValidators:{"*":function(yn){return Cs(ct({layerType:ot},yn))}}})}}}))}function ol(D){var F=D.value,J=D.key,ge=Ki(F);return"string"!==ge?[new Ve(J,F,"string expected, "+ge+" found")]:[]}var eu={promoteId:function(D){var F=D.key,J=D.value;if("string"===Ki(J))return ol({key:F,value:J});var ge=[];for(var Oe in J)ge.push.apply(ge,ol({key:F+"."+Oe,value:J[Oe]}));return ge}};function ho(D){var F=D.value,J=D.key,ge=D.styleSpec,Oe=D.style;if(!F.type)return[new Ve(J,F,'"type" is required')];var Be,Ze=Tt(F.type);switch(Ze){case"vector":case"raster":case"raster-dem":return ps({key:J,value:F,valueSpec:ge["source_"+Ze.replace("-","_")],style:D.style,styleSpec:ge,objectElementValidators:eu});case"geojson":if(Be=ps({key:J,value:F,valueSpec:ge.source_geojson,style:Oe,styleSpec:ge,objectElementValidators:eu}),F.cluster)for(var ot in F.clusterProperties){var pt=F.clusterProperties[ot],Et=pt[0],Vt="string"==typeof Et?[Et,["accumulated"],["get",ot]]:Et;Be.push.apply(Be,rl({key:J+"."+ot+".map",value:pt[1],expressionContext:"cluster-map"})),Be.push.apply(Be,rl({key:J+"."+ot+".reduce",value:Vt,expressionContext:"cluster-reduce"}))}return Be;case"video":return ps({key:J,value:F,valueSpec:ge.source_video,style:Oe,styleSpec:ge});case"image":return ps({key:J,value:F,valueSpec:ge.source_image,style:Oe,styleSpec:ge});case"canvas":return[new Ve(J,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Es({key:J+".type",value:F.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Oe,styleSpec:ge})}}function Ur(D){var F=D.value,J=D.styleSpec,ge=J.light,Oe=D.style,Be=[],Ze=Ki(F);if(void 0===F)return Be;if("object"!==Ze)return Be.concat([new Ve("light",F,"object expected, "+Ze+" found")]);for(var ot in F){var pt=ot.match(/^(.*)-transition$/);Be=Be.concat(pt&&ge[pt[1]]&&ge[pt[1]].transition?pi({key:ot,value:F[ot],valueSpec:J.transition,style:Oe,styleSpec:J}):ge[ot]?pi({key:ot,value:F[ot],valueSpec:ge[ot],style:Oe,styleSpec:J}):[new Ve(ot,F[ot],'unknown property "'+ot+'"')])}return Be}var li={"*":function(){return[]},array:Iu,boolean:function(D){var F=D.value,J=D.key,ge=Ki(F);return"boolean"!==ge?[new Ve(J,F,"boolean expected, "+ge+" found")]:[]},number:ic,color:function(D){var F=D.key,J=D.value,ge=Ki(J);return"string"!==ge?[new Ve(F,J,"color expected, "+ge+" found")]:null===mn(J)?[new Ve(F,J,'color expected, "'+J+'" found')]:[]},constants:ut,enum:Es,filter:fi,function:vu,layer:il,object:ps,source:ho,light:Ur,string:ol,formatted:function(D){return 0===ol(D).length?[]:rl(D)},resolvedImage:function(D){return 0===ol(D).length?[]:rl(D)}};function pi(D){var F=D.value,J=D.valueSpec,ge=D.styleSpec;return J.expression&&qa(Tt(F))?vu(D):J.expression&&Rl(Mt(F))?rl(D):J.type&&li[J.type]?li[J.type](D):ps(ct({},D,{valueSpec:J.type?ge[J.type]:J}))}function aa(D){var F=D.value,J=D.key,ge=ol(D);return ge.length||(-1===F.indexOf("{fontstack}")&&ge.push(new Ve(J,F,'"glyphs" url must include a "{fontstack}" token')),-1===F.indexOf("{range}")&&ge.push(new Ve(J,F,'"glyphs" url must include a "{range}" token'))),ge}function gs(D,F){void 0===F&&(F=je);var J=[];return J=J.concat(pi({key:"",value:D,valueSpec:F.$root,styleSpec:F,style:D,objectElementValidators:{glyphs:aa,"*":function(){return[]}}})),D.constants&&(J=J.concat(ut({key:"constants",value:D.constants,style:D,styleSpec:F}))),Oi(J)}function Oi(D){return[].concat(D).sort(function(F,J){return F.line-J.line})}function Io(D){return function(){for(var F=[],J=arguments.length;J--;)F[J]=arguments[J];return Oi(D.apply(this,F))}}gs.source=Io(ho),gs.light=Io(Ur),gs.layer=Io(il),gs.filter=Io(fi),gs.paintProperty=Io(Cs),gs.layoutProperty=Io(yu);var Ci=gs,wo=Ci.light,Lo=Ci.paintProperty,ui=Ci.layoutProperty;function Ca(D,F){var J=!1;if(F&&F.length)for(var ge=0,Oe=F;ge<Oe.length;ge+=1)D.fire(new ft(new Error(Oe[ge].message))),J=!0;return J}var Go=Ji,Qo=3;function Ji(D,F,J){var ge=this.cells=[];if(D instanceof ArrayBuffer){this.arrayBuffer=D;var Oe=new Int32Array(this.arrayBuffer);D=Oe[0],this.d=(F=Oe[1])+2*(J=Oe[2]);for(var Be=0;Be<this.d*this.d;Be++){var Ze=Oe[Qo+Be],ot=Oe[Qo+Be+1];ge.push(Ze===ot?null:Oe.subarray(Ze,ot))}var Et=Oe[Qo+ge.length+1];this.keys=Oe.subarray(Oe[Qo+ge.length],Et),this.bboxes=Oe.subarray(Et),this.insert=this._insertReadonly}else{this.d=F+2*J;for(var Dt=0;Dt<this.d*this.d;Dt++)ge.push([]);this.keys=[],this.bboxes=[]}this.n=F,this.extent=D,this.padding=J,this.scale=F/D,this.uid=0;var Vt=J/F*D;this.min=-Vt,this.max=D+Vt}Ji.prototype.insert=function(D,F,J,ge,Oe){this._forEachCell(F,J,ge,Oe,this._insertCell,this.uid++),this.keys.push(D),this.bboxes.push(F),this.bboxes.push(J),this.bboxes.push(ge),this.bboxes.push(Oe)},Ji.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ji.prototype._insertCell=function(D,F,J,ge,Oe,Be){this.cells[Oe].push(Be)},Ji.prototype.query=function(D,F,J,ge,Oe){var Be=this.min,Ze=this.max;if(D<=Be&&F<=Be&&Ze<=J&&Ze<=ge&&!Oe)return Array.prototype.slice.call(this.keys);var ot=[];return this._forEachCell(D,F,J,ge,this._queryCell,ot,{},Oe),ot},Ji.prototype._queryCell=function(D,F,J,ge,Oe,Be,Ze,ot){var pt=this.cells[Oe];if(null!==pt)for(var Et=this.keys,Dt=this.bboxes,Vt=0;Vt<pt.length;Vt++){var Jt=pt[Vt];if(void 0===Ze[Jt]){var qt=4*Jt;(ot?ot(Dt[qt+0],Dt[qt+1],Dt[qt+2],Dt[qt+3]):D<=Dt[qt+2]&&F<=Dt[qt+3]&&J>=Dt[qt+0]&&ge>=Dt[qt+1])?(Ze[Jt]=!0,Be.push(Et[Jt])):Ze[Jt]=!1}}},Ji.prototype._forEachCell=function(D,F,J,ge,Oe,Be,Ze,ot){for(var pt=this._convertToCellCoord(D),Et=this._convertToCellCoord(F),Dt=this._convertToCellCoord(J),Vt=this._convertToCellCoord(ge),Jt=pt;Jt<=Dt;Jt++)for(var qt=Et;qt<=Vt;qt++){var dn=this.d*qt+Jt;if((!ot||ot(this._convertFromCellCoord(Jt),this._convertFromCellCoord(qt),this._convertFromCellCoord(Jt+1),this._convertFromCellCoord(qt+1)))&&Oe.call(this,D,F,J,ge,dn,Be,Ze,ot))return}},Ji.prototype._convertFromCellCoord=function(D){return(D-this.padding)/this.scale},Ji.prototype._convertToCellCoord=function(D){return Math.max(0,Math.min(this.d-1,Math.floor(D*this.scale)+this.padding))},Ji.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var D=this.cells,F=Qo+this.cells.length+1+1,J=0,ge=0;ge<this.cells.length;ge++)J+=this.cells[ge].length;var Oe=new Int32Array(F+J+this.keys.length+this.bboxes.length);Oe[0]=this.extent,Oe[1]=this.n,Oe[2]=this.padding;for(var Be=F,Ze=0;Ze<D.length;Ze++){var ot=D[Ze];Oe[Qo+Ze]=Be,Oe.set(ot,Be),Be+=ot.length}return Oe[Qo+D.length]=Be,Oe.set(this.keys,Be),Oe[Qo+D.length+1]=Be+=this.keys.length,Oe.set(this.bboxes,Be),Be+=this.bboxes.length,Oe.buffer};var al=self.ImageData,sa=self.ImageBitmap,so={};function Br(D,F,J){void 0===J&&(J={}),Object.defineProperty(F,"_classRegistryKey",{value:D,writeable:!1}),so[D]={klass:F,omit:J.omit||[],shallow:J.shallow||[]}}for(var ea in Br("Object",Object),Go.serialize=function(D,F){var J=D.toArrayBuffer();return F&&F.push(J),{buffer:J}},Go.deserialize=function(D){return new Go(D.buffer)},Br("Grid",Go),Br("Color",En),Br("Error",Error),Br("ResolvedImage",On),Br("StylePropertyFunction",Vs),Br("StyleExpression",Jl,{omit:["_evaluator"]}),Br("ZoomDependentExpression",Ss),Br("ZoomConstantExpression",tl),Br("CompoundExpression",$n,{omit:["_evaluate"]}),Jo)Jo[ea]._classRegistryKey||Br("Expression_"+ea,Jo[ea]);function es(D){return D&&typeof ArrayBuffer<"u"&&(D instanceof ArrayBuffer||D.constructor&&"ArrayBuffer"===D.constructor.name)}function ts(D){return sa&&D instanceof sa}function Ds(D,F){if(null==D||"boolean"==typeof D||"number"==typeof D||"string"==typeof D||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp)return D;if(es(D)||ts(D))return F&&F.push(D),D;if(ArrayBuffer.isView(D)){var J=D;return F&&F.push(J.buffer),J}if(D instanceof al)return F&&F.push(D.data.buffer),D;if(Array.isArray(D)){for(var ge=[],Oe=0,Be=D;Oe<Be.length;Oe+=1)ge.push(Ds(Be[Oe],F));return ge}if("object"==typeof D){var ot=D.constructor,pt=ot._classRegistryKey;if(!pt)throw new Error("can't serialize object of unregistered class");var Et=ot.serialize?ot.serialize(D,F):{};if(!ot.serialize){for(var Dt in D)if(D.hasOwnProperty(Dt)&&!(so[pt].omit.indexOf(Dt)>=0)){var Vt=D[Dt];Et[Dt]=so[pt].shallow.indexOf(Dt)>=0?Vt:Ds(Vt,F)}D instanceof Error&&(Et.message=D.message)}if(Et.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==pt&&(Et.$name=pt),Et}throw new Error("can't serialize object of type "+typeof D)}function Is(D){if(null==D||"boolean"==typeof D||"number"==typeof D||"string"==typeof D||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp||es(D)||ts(D)||ArrayBuffer.isView(D)||D instanceof al)return D;if(Array.isArray(D))return D.map(Is);if("object"==typeof D){var F=D.$name||"Object",J=so[F].klass;if(!J)throw new Error("can't deserialize unregistered class "+F);if(J.deserialize)return J.deserialize(D);for(var ge=Object.create(J.prototype),Oe=0,Be=Object.keys(D);Oe<Be.length;Oe+=1){var Ze=Be[Oe];if("$name"!==Ze){var ot=D[Ze];ge[Ze]=so[F].shallow.indexOf(Ze)>=0?ot:Is(ot)}}return ge}throw new Error("can't deserialize object of type "+typeof D)}var xi=function(){this.first=!0};xi.prototype.update=function(D,F){var J=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=J,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=J,!0):(this.lastFloorZoom>J?(this.lastIntegerZoom=J+1,this.lastIntegerZoomTime=F):this.lastFloorZoom<J&&(this.lastIntegerZoom=J,this.lastIntegerZoomTime=F),D!==this.lastZoom&&(this.lastZoom=D,this.lastFloorZoom=J,!0))};var zr={"Latin-1 Supplement":function(D){return D>=128&&D<=255},Arabic:function(D){return D>=1536&&D<=1791},"Arabic Supplement":function(D){return D>=1872&&D<=1919},"Arabic Extended-A":function(D){return D>=2208&&D<=2303},"Hangul Jamo":function(D){return D>=4352&&D<=4607},"Unified Canadian Aboriginal Syllabics":function(D){return D>=5120&&D<=5759},Khmer:function(D){return D>=6016&&D<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(D){return D>=6320&&D<=6399},"General Punctuation":function(D){return D>=8192&&D<=8303},"Letterlike Symbols":function(D){return D>=8448&&D<=8527},"Number Forms":function(D){return D>=8528&&D<=8591},"Miscellaneous Technical":function(D){return D>=8960&&D<=9215},"Control Pictures":function(D){return D>=9216&&D<=9279},"Optical Character Recognition":function(D){return D>=9280&&D<=9311},"Enclosed Alphanumerics":function(D){return D>=9312&&D<=9471},"Geometric Shapes":function(D){return D>=9632&&D<=9727},"Miscellaneous Symbols":function(D){return D>=9728&&D<=9983},"Miscellaneous Symbols and Arrows":function(D){return D>=11008&&D<=11263},"CJK Radicals Supplement":function(D){return D>=11904&&D<=12031},"Kangxi Radicals":function(D){return D>=12032&&D<=12255},"Ideographic Description Characters":function(D){return D>=12272&&D<=12287},"CJK Symbols and Punctuation":function(D){return D>=12288&&D<=12351},Hiragana:function(D){return D>=12352&&D<=12447},Katakana:function(D){return D>=12448&&D<=12543},Bopomofo:function(D){return D>=12544&&D<=12591},"Hangul Compatibility Jamo":function(D){return D>=12592&&D<=12687},Kanbun:function(D){return D>=12688&&D<=12703},"Bopomofo Extended":function(D){return D>=12704&&D<=12735},"CJK Strokes":function(D){return D>=12736&&D<=12783},"Katakana Phonetic Extensions":function(D){return D>=12784&&D<=12799},"Enclosed CJK Letters and Months":function(D){return D>=12800&&D<=13055},"CJK Compatibility":function(D){return D>=13056&&D<=13311},"CJK Unified Ideographs Extension A":function(D){return D>=13312&&D<=19903},"Yijing Hexagram Symbols":function(D){return D>=19904&&D<=19967},"CJK Unified Ideographs":function(D){return D>=19968&&D<=40959},"Yi Syllables":function(D){return D>=40960&&D<=42127},"Yi Radicals":function(D){return D>=42128&&D<=42191},"Hangul Jamo Extended-A":function(D){return D>=43360&&D<=43391},"Hangul Syllables":function(D){return D>=44032&&D<=55215},"Hangul Jamo Extended-B":function(D){return D>=55216&&D<=55295},"Private Use Area":function(D){return D>=57344&&D<=63743},"CJK Compatibility Ideographs":function(D){return D>=63744&&D<=64255},"Arabic Presentation Forms-A":function(D){return D>=64336&&D<=65023},"Vertical Forms":function(D){return D>=65040&&D<=65055},"CJK Compatibility Forms":function(D){return D>=65072&&D<=65103},"Small Form Variants":function(D){return D>=65104&&D<=65135},"Arabic Presentation Forms-B":function(D){return D>=65136&&D<=65279},"Halfwidth and Fullwidth Forms":function(D){return D>=65280&&D<=65519}};function Za(D){for(var F=0,J=D;F<J.length;F+=1)if(ml(J[F].charCodeAt(0)))return!0;return!1}function ml(D){return!(746!==D&&747!==D&&(D<4352||!(zr["Bopomofo Extended"](D)||zr.Bopomofo(D)||zr["CJK Compatibility Forms"](D)&&!(D>=65097&&D<=65103)||zr["CJK Compatibility Ideographs"](D)||zr["CJK Compatibility"](D)||zr["CJK Radicals Supplement"](D)||zr["CJK Strokes"](D)||!(!zr["CJK Symbols and Punctuation"](D)||D>=12296&&D<=12305||D>=12308&&D<=12319||12336===D)||zr["CJK Unified Ideographs Extension A"](D)||zr["CJK Unified Ideographs"](D)||zr["Enclosed CJK Letters and Months"](D)||zr["Hangul Compatibility Jamo"](D)||zr["Hangul Jamo Extended-A"](D)||zr["Hangul Jamo Extended-B"](D)||zr["Hangul Jamo"](D)||zr["Hangul Syllables"](D)||zr.Hiragana(D)||zr["Ideographic Description Characters"](D)||zr.Kanbun(D)||zr["Kangxi Radicals"](D)||zr["Katakana Phonetic Extensions"](D)||zr.Katakana(D)&&12540!==D||!(!zr["Halfwidth and Fullwidth Forms"](D)||65288===D||65289===D||65293===D||D>=65306&&D<=65310||65339===D||65341===D||65343===D||D>=65371&&D<=65503||65507===D||D>=65512&&D<=65519)||!(!zr["Small Form Variants"](D)||D>=65112&&D<=65118||D>=65123&&D<=65126)||zr["Unified Canadian Aboriginal Syllabics"](D)||zr["Unified Canadian Aboriginal Syllabics Extended"](D)||zr["Vertical Forms"](D)||zr["Yijing Hexagram Symbols"](D)||zr["Yi Syllables"](D)||zr["Yi Radicals"](D))))}function Oa(D){return!(ml(D)||(F=D,zr["Latin-1 Supplement"](F)&&(167===F||169===F||174===F||177===F||188===F||189===F||190===F||215===F||247===F)||zr["General Punctuation"](F)&&(8214===F||8224===F||8225===F||8240===F||8241===F||8251===F||8252===F||8258===F||8263===F||8264===F||8265===F||8273===F)||zr["Letterlike Symbols"](F)||zr["Number Forms"](F)||zr["Miscellaneous Technical"](F)&&(F>=8960&&F<=8967||F>=8972&&F<=8991||F>=8996&&F<=9e3||9003===F||F>=9085&&F<=9114||F>=9150&&F<=9165||9167===F||F>=9169&&F<=9179||F>=9186&&F<=9215)||zr["Control Pictures"](F)&&9251!==F||zr["Optical Character Recognition"](F)||zr["Enclosed Alphanumerics"](F)||zr["Geometric Shapes"](F)||zr["Miscellaneous Symbols"](F)&&!(F>=9754&&F<=9759)||zr["Miscellaneous Symbols and Arrows"](F)&&(F>=11026&&F<=11055||F>=11088&&F<=11097||F>=11192&&F<=11243)||zr["CJK Symbols and Punctuation"](F)||zr.Katakana(F)||zr["Private Use Area"](F)||zr["CJK Compatibility Forms"](F)||zr["Small Form Variants"](F)||zr["Halfwidth and Fullwidth Forms"](F)||8734===F||8756===F||8757===F||F>=9984&&F<=10087||F>=10102&&F<=10131||65532===F||65533===F));var F}function qo(D){return zr.Arabic(D)||zr["Arabic Supplement"](D)||zr["Arabic Extended-A"](D)||zr["Arabic Presentation Forms-A"](D)||zr["Arabic Presentation Forms-B"](D)}function Ma(D){return D>=1424&&D<=2303||zr["Arabic Presentation Forms-A"](D)||zr["Arabic Presentation Forms-B"](D)}function Aa(D,F){return!(!F&&Ma(D)||D>=2304&&D<=3583||D>=3840&&D<=4255||zr.Khmer(D))}function lo(D){for(var F=0,J=D;F<J.length;F+=1)if(Ma(J[F].charCodeAt(0)))return!0;return!1}var Hs="deferred",zo="loading",Vi="loaded",ns=null,Po="unavailable",Mi=null,vl=function(D){D&&"string"==typeof D&&D.indexOf("NetworkError")>-1&&(Po="error"),ns&&ns(D)};function Ra(){Wo.fire(new rt("pluginStateChange",{pluginStatus:Po,pluginURL:Mi}))}var Wo=new vt,qs=function(){return Po},Pu=function(){if(Po!==Hs||!Mi)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Po=zo,Ra(),Mi&&Ot({url:Mi},function(D){D?vl(D):(Po=Vi,Ra())})},Co={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Po===Vi||null!=Co.applyArabicShaping},isLoading:function(){return Po===zo},setState:function(D){Po=D.pluginStatus,Mi=D.pluginURL},isParsed:function(){return null!=Co.applyArabicShaping&&null!=Co.processBidirectionalText&&null!=Co.processStyledBidirectionalText},getPluginURL:function(){return Mi}},eo=function(D,F){this.zoom=D,F?(this.now=F.now,this.fadeDuration=F.fadeDuration,this.zoomHistory=F.zoomHistory,this.transition=F.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new xi,this.transition={})};eo.prototype.isSupportedScript=function(D){return function(F,J){for(var ge=0,Oe=F;ge<Oe.length;ge+=1)if(!Aa(Oe[ge].charCodeAt(0),J))return!1;return!0}(D,Co.isLoaded())},eo.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},eo.prototype.getCrossfadeParameters=function(){var D=this.zoom,F=D-Math.floor(D),J=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:F+(1-F)*J}:{fromScale:.5,toScale:1,t:1-(1-J)*F}};var rs=function(D,F){this.property=D,this.value=F,this.expression=function(J,ge){if(qa(J))return new Vs(J,ge);if(Rl(J)){var Oe=nl(J,ge);if("error"===Oe.result)throw new Error(Oe.value.map(function(Ze){return Ze.key+": "+Ze.message}).join(", "));return Oe.value}var Be=J;return"string"==typeof J&&"color"===ge.type&&(Be=En.parse(J)),{kind:"constant",evaluate:function(){return Be}}}(void 0===F?D.specification.default:F,D.specification)};rs.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},rs.prototype.possiblyEvaluate=function(D,F,J){return this.property.possiblyEvaluate(this,D,F,J)};var Ws=function(D){this.property=D,this.value=new rs(D,void 0)};Ws.prototype.transitioned=function(D,F){return new Ou(this.property,this.value,F,c({},D.transition,this.transition),D.now)},Ws.prototype.untransitioned=function(){return new Ou(this.property,this.value,null,{},0)};var Ls=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};Ls.prototype.getValue=function(D){return M(this._values[D].value.value)},Ls.prototype.setValue=function(D,F){this._values.hasOwnProperty(D)||(this._values[D]=new Ws(this._values[D].property)),this._values[D].value=new rs(this._values[D].property,null===F?void 0:M(F))},Ls.prototype.getTransition=function(D){return M(this._values[D].transition)},Ls.prototype.setTransition=function(D,F){this._values.hasOwnProperty(D)||(this._values[D]=new Ws(this._values[D].property)),this._values[D].transition=M(F)||void 0},Ls.prototype.serialize=function(){for(var D={},F=0,J=Object.keys(this._values);F<J.length;F+=1){var ge=J[F],Oe=this.getValue(ge);void 0!==Oe&&(D[ge]=Oe);var Be=this.getTransition(ge);void 0!==Be&&(D[ge+"-transition"]=Be)}return D},Ls.prototype.transitioned=function(D,F){for(var J=new yl(this._properties),ge=0,Oe=Object.keys(this._values);ge<Oe.length;ge+=1){var Be=Oe[ge];J._values[Be]=this._values[Be].transitioned(D,F._values[Be])}return J},Ls.prototype.untransitioned=function(){for(var D=new yl(this._properties),F=0,J=Object.keys(this._values);F<J.length;F+=1){var ge=J[F];D._values[ge]=this._values[ge].untransitioned()}return D};var Ou=function(D,F,J,ge,Oe){this.property=D,this.value=F,this.begin=Oe+ge.delay||0,this.end=this.begin+ge.duration||0,D.specification.transition&&(ge.delay||ge.duration)&&(this.prior=J)};Ou.prototype.possiblyEvaluate=function(D,F,J){var ge=D.now||0,Oe=this.value.possiblyEvaluate(D,F,J),Be=this.prior;if(Be){if(ge>this.end)return this.prior=null,Oe;if(this.value.isDataDriven())return this.prior=null,Oe;if(ge<this.begin)return Be.possiblyEvaluate(D,F,J);var Ze=(ge-this.begin)/(this.end-this.begin);return this.property.interpolate(Be.possiblyEvaluate(D,F,J),Oe,function(ot){if(ot<=0)return 0;if(ot>=1)return 1;var pt=ot*ot,Et=pt*ot;return 4*(ot<.5?Et:3*(ot-pt)+Et-.75)}(Ze))}return Oe};var yl=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};yl.prototype.possiblyEvaluate=function(D,F,J){for(var ge=new la(this._properties),Oe=0,Be=Object.keys(this._values);Oe<Be.length;Oe+=1){var Ze=Be[Oe];ge._values[Ze]=this._values[Ze].possiblyEvaluate(D,F,J)}return ge},yl.prototype.hasTransition=function(){for(var D=0,F=Object.keys(this._values);D<F.length;D+=1)if(this._values[F[D]].prior)return!0;return!1};var Nl=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};Nl.prototype.getValue=function(D){return M(this._values[D].value)},Nl.prototype.setValue=function(D,F){this._values[D]=new rs(this._values[D].property,null===F?void 0:M(F))},Nl.prototype.serialize=function(){for(var D={},F=0,J=Object.keys(this._values);F<J.length;F+=1){var ge=J[F],Oe=this.getValue(ge);void 0!==Oe&&(D[ge]=Oe)}return D},Nl.prototype.possiblyEvaluate=function(D,F,J){for(var ge=new la(this._properties),Oe=0,Be=Object.keys(this._values);Oe<Be.length;Oe+=1){var Ze=Be[Oe];ge._values[Ze]=this._values[Ze].possiblyEvaluate(D,F,J)}return ge};var Zo=function(D,F,J){this.property=D,this.value=F,this.parameters=J};Zo.prototype.isConstant=function(){return"constant"===this.value.kind},Zo.prototype.constantOr=function(D){return"constant"===this.value.kind?this.value.value:D},Zo.prototype.evaluate=function(D,F,J,ge){return this.property.evaluate(this.value,this.parameters,D,F,J,ge)};var la=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};la.prototype.get=function(D){return this._values[D]};var Yr=function(D){this.specification=D};Yr.prototype.possiblyEvaluate=function(D,F){return D.expression.evaluate(F)},Yr.prototype.interpolate=function(D,F,J){var ge=Or[this.specification.type];return ge?ge(D,F,J):D};var Kr=function(D,F){this.specification=D,this.overrides=F};Kr.prototype.possiblyEvaluate=function(D,F,J,ge){return new Zo(this,"constant"===D.expression.kind||"camera"===D.expression.kind?{kind:"constant",value:D.expression.evaluate(F,null,{},J,ge)}:D.expression,F)},Kr.prototype.interpolate=function(D,F,J){if("constant"!==D.value.kind||"constant"!==F.value.kind)return D;if(void 0===D.value.value||void 0===F.value.value)return new Zo(this,{kind:"constant",value:void 0},D.parameters);var ge=Or[this.specification.type];return ge?new Zo(this,{kind:"constant",value:ge(D.value.value,F.value.value,J)},D.parameters):D},Kr.prototype.evaluate=function(D,F,J,ge,Oe,Be){return"constant"===D.kind?D.value:D.evaluate(F,J,ge,Oe,Be)};var tu=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.possiblyEvaluate=function(J,ge,Oe,Be){if(void 0===J.value)return new Zo(this,{kind:"constant",value:void 0},ge);if("constant"===J.expression.kind){var Ze=J.expression.evaluate(ge,null,{},Oe,Be),ot="resolvedImage"===J.property.specification.type&&"string"!=typeof Ze?Ze.name:Ze,pt=this._calculate(ot,ot,ot,ge);return new Zo(this,{kind:"constant",value:pt},ge)}if("camera"===J.expression.kind){var Et=this._calculate(J.expression.evaluate({zoom:ge.zoom-1}),J.expression.evaluate({zoom:ge.zoom}),J.expression.evaluate({zoom:ge.zoom+1}),ge);return new Zo(this,{kind:"constant",value:Et},ge)}return new Zo(this,J.expression,ge)},F.prototype.evaluate=function(J,ge,Oe,Be,Ze,ot){if("source"===J.kind){var pt=J.evaluate(ge,Oe,Be,Ze,ot);return this._calculate(pt,pt,pt,ge)}return"composite"===J.kind?this._calculate(J.evaluate({zoom:Math.floor(ge.zoom)-1},Oe,Be),J.evaluate({zoom:Math.floor(ge.zoom)},Oe,Be),J.evaluate({zoom:Math.floor(ge.zoom)+1},Oe,Be),ge):J.value},F.prototype._calculate=function(J,ge,Oe,Be){return Be.zoom>Be.zoomHistory.lastIntegerZoom?{from:J,to:ge}:{from:Oe,to:ge}},F.prototype.interpolate=function(J){return J},F}(Kr),ua=function(D){this.specification=D};ua.prototype.possiblyEvaluate=function(D,F,J,ge){if(void 0!==D.value){if("constant"===D.expression.kind){var Oe=D.expression.evaluate(F,null,{},J,ge);return this._calculate(Oe,Oe,Oe,F)}return this._calculate(D.expression.evaluate(new eo(Math.floor(F.zoom-1),F)),D.expression.evaluate(new eo(Math.floor(F.zoom),F)),D.expression.evaluate(new eo(Math.floor(F.zoom+1),F)),F)}},ua.prototype._calculate=function(D,F,J,ge){return ge.zoom>ge.zoomHistory.lastIntegerZoom?{from:D,to:F}:{from:J,to:F}},ua.prototype.interpolate=function(D){return D};var Zs=function(D){this.specification=D};Zs.prototype.possiblyEvaluate=function(D,F,J,ge){return!!D.expression.evaluate(F,null,{},J,ge)},Zs.prototype.interpolate=function(){return!1};var ca=function(D){for(var F in this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],D){var J=D[F];J.specification.overridable&&this.overridableProperties.push(F);var ge=this.defaultPropertyValues[F]=new rs(J,void 0),Oe=this.defaultTransitionablePropertyValues[F]=new Ws(J);this.defaultTransitioningPropertyValues[F]=Oe.untransitioned(),this.defaultPossiblyEvaluatedValues[F]=ge.possiblyEvaluate({})}};Br("DataDrivenProperty",Kr),Br("DataConstantProperty",Yr),Br("CrossFadedDataDrivenProperty",tu),Br("CrossFadedProperty",ua),Br("ColorRampProperty",Zs);var nu="-transition",fa=function(D){function F(J,ge){if(D.call(this),this.id=J.id,this.type=J.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==J.type&&(this.metadata=J.metadata,this.minzoom=J.minzoom,this.maxzoom=J.maxzoom,"background"!==J.type&&(this.source=J.source,this.sourceLayer=J["source-layer"],this.filter=J.filter),ge.layout&&(this._unevaluatedLayout=new Nl(ge.layout)),ge.paint)){for(var Oe in this._transitionablePaint=new Ls(ge.paint),J.paint)this.setPaintProperty(Oe,J.paint[Oe],{validate:!1});for(var Be in J.layout)this.setLayoutProperty(Be,J.layout[Be],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new la(ge.paint)}}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},F.prototype.getLayoutProperty=function(J){return"visibility"===J?this.visibility:this._unevaluatedLayout.getValue(J)},F.prototype.setLayoutProperty=function(J,ge,Oe){void 0===Oe&&(Oe={}),null!=ge&&this._validate(ui,"layers."+this.id+".layout."+J,J,ge,Oe)||("visibility"!==J?this._unevaluatedLayout.setValue(J,ge):this.visibility=ge)},F.prototype.getPaintProperty=function(J){return _(J,nu)?this._transitionablePaint.getTransition(J.slice(0,-11)):this._transitionablePaint.getValue(J)},F.prototype.setPaintProperty=function(J,ge,Oe){if(void 0===Oe&&(Oe={}),null!=ge&&this._validate(Lo,"layers."+this.id+".paint."+J,J,ge,Oe))return!1;if(_(J,nu))return this._transitionablePaint.setTransition(J.slice(0,-11),ge||void 0),!1;var Ze=this._transitionablePaint._values[J],ot="cross-faded-data-driven"===Ze.property.specification["property-type"],pt=Ze.value.isDataDriven(),Et=Ze.value;this._transitionablePaint.setValue(J,ge),this._handleSpecialPaintPropertyUpdate(J);var Dt=this._transitionablePaint._values[J].value;return Dt.isDataDriven()||pt||ot||this._handleOverridablePaintPropertyUpdate(J,Et,Dt)},F.prototype._handleSpecialPaintPropertyUpdate=function(J){},F.prototype._handleOverridablePaintPropertyUpdate=function(J,ge,Oe){return!1},F.prototype.isHidden=function(J){return!!(this.minzoom&&J<this.minzoom)||!!(this.maxzoom&&J>=this.maxzoom)||"none"===this.visibility},F.prototype.updateTransitions=function(J){this._transitioningPaint=this._transitionablePaint.transitioned(J,this._transitioningPaint)},F.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},F.prototype.recalculate=function(J,ge){J.getCrossfadeParameters&&(this._crossfadeParameters=J.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(J,void 0,ge)),this.paint=this._transitioningPaint.possiblyEvaluate(J,void 0,ge)},F.prototype.serialize=function(){var J={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(J.layout=J.layout||{},J.layout.visibility=this.visibility),b(J,function(ge,Oe){return!(void 0===ge||"layout"===Oe&&!Object.keys(ge).length||"paint"===Oe&&!Object.keys(ge).length)})},F.prototype._validate=function(J,ge,Oe,Be,Ze){return void 0===Ze&&(Ze={}),(!Ze||!1!==Ze.validate)&&Ca(this,J.call(Ci,{key:ge,layerType:this.type,objectKey:Oe,value:Be,styleSpec:je,style:{glyphs:!0,sprite:!0}}))},F.prototype.is3D=function(){return!1},F.prototype.isTileClipped=function(){return!1},F.prototype.hasOffscreenPass=function(){return!1},F.prototype.resize=function(){},F.prototype.isStateDependent=function(){for(var J in this.paint._values){var ge=this.paint.get(J);if(ge instanceof Zo&&ia(ge.property.specification)&&("source"===ge.value.kind||"composite"===ge.value.kind)&&ge.value.isStateDependent)return!0}return!1},F}(vt),Fa={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ys=function(D,F){this._structArray=D,this._pos1=F*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ri=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Oo(D,F){void 0===F&&(F=1);var J=0,ge=0;return{members:D.map(function(Oe){var Ze=Fa[Oe.type].BYTES_PER_ELEMENT,ot=J=ms(J,Math.max(F,Ze)),pt=Oe.components||1;return ge=Math.max(ge,Ze),J+=Ze*pt,{name:Oe.name,type:Oe.type,components:pt,offset:ot}}),size:ms(J,Math.max(ge,F)),alignment:F}}function ms(D,F){return Math.ceil(D/F)*F}ri.serialize=function(D,F){return D._trim(),F&&(D.isTransferred=!0,F.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},ri.deserialize=function(D){var F=Object.create(this.prototype);return F.arrayBuffer=D.arrayBuffer,F.length=D.length,F.capacity=D.arrayBuffer.byteLength/F.bytesPerElement,F._refreshViews(),F},ri.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ri.prototype.clear=function(){this.length=0},ri.prototype.resize=function(D){this.reserve(D),this.length=D},ri.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var F=this.uint8;this._refreshViews(),F&&this.uint8.set(F)}},ri.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Na=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge){var Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,J,ge)},F.prototype.emplace=function(J,ge,Oe){var Be=2*J;return this.int16[Be+0]=ge,this.int16[Be+1]=Oe,J},F}(ri);Na.prototype.bytesPerElement=4,Br("StructArrayLayout2i4",Na);var xl=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe,Be){var Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,J,ge,Oe,Be)},F.prototype.emplace=function(J,ge,Oe,Be,Ze){var ot=4*J;return this.int16[ot+0]=ge,this.int16[ot+1]=Oe,this.int16[ot+2]=Be,this.int16[ot+3]=Ze,J},F}(ri);xl.prototype.bytesPerElement=8,Br("StructArrayLayout4i8",xl);var zl=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe,Be,Ze,ot){var pt=this.length;return this.resize(pt+1),this.emplace(pt,J,ge,Oe,Be,Ze,ot)},F.prototype.emplace=function(J,ge,Oe,Be,Ze,ot,pt){var Et=6*J;return this.int16[Et+0]=ge,this.int16[Et+1]=Oe,this.int16[Et+2]=Be,this.int16[Et+3]=Ze,this.int16[Et+4]=ot,this.int16[Et+5]=pt,J},F}(ri);zl.prototype.bytesPerElement=12,Br("StructArrayLayout2i4i12",zl);var Bl=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe,Be,Ze,ot){var pt=this.length;return this.resize(pt+1),this.emplace(pt,J,ge,Oe,Be,Ze,ot)},F.prototype.emplace=function(J,ge,Oe,Be,Ze,ot,pt){var Et=4*J,Dt=8*J;return this.int16[Et+0]=ge,this.int16[Et+1]=Oe,this.uint8[Dt+4]=Be,this.uint8[Dt+5]=Ze,this.uint8[Dt+6]=ot,this.uint8[Dt+7]=pt,J},F}(ri);Bl.prototype.bytesPerElement=8,Br("StructArrayLayout2i4ub8",Bl);var $s=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt){var Jt=this.length;return this.resize(Jt+1),this.emplace(Jt,J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt)},F.prototype.emplace=function(J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt){var qt=9*J,dn=18*J;return this.uint16[qt+0]=ge,this.uint16[qt+1]=Oe,this.uint16[qt+2]=Be,this.uint16[qt+3]=Ze,this.uint16[qt+4]=ot,this.uint16[qt+5]=pt,this.uint16[qt+6]=Et,this.uint16[qt+7]=Dt,this.uint8[dn+16]=Vt,this.uint8[dn+17]=Jt,J},F}(ri);$s.prototype.bytesPerElement=18,Br("StructArrayLayout8ui2ub18",$s);var j=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt,qt){var dn=this.length;return this.resize(dn+1),this.emplace(dn,J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt,qt)},F.prototype.emplace=function(J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt,qt,dn){var yn=12*J;return this.int16[yn+0]=ge,this.int16[yn+1]=Oe,this.int16[yn+2]=Be,this.int16[yn+3]=Ze,this.uint16[yn+4]=ot,this.uint16[yn+5]=pt,this.uint16[yn+6]=Et,this.uint16[yn+7]=Dt,this.int16[yn+8]=Vt,this.int16[yn+9]=Jt,this.int16[yn+10]=qt,this.int16[yn+11]=dn,J},F}(ri);j.prototype.bytesPerElement=24,Br("StructArrayLayout4i4ui4i24",j);var q=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe){var Be=this.length;return this.resize(Be+1),this.emplace(Be,J,ge,Oe)},F.prototype.emplace=function(J,ge,Oe,Be){var Ze=3*J;return this.float32[Ze+0]=ge,this.float32[Ze+1]=Oe,this.float32[Ze+2]=Be,J},F}(ri);q.prototype.bytesPerElement=12,Br("StructArrayLayout3f12",q);var G=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J){var ge=this.length;return this.resize(ge+1),this.emplace(ge,J)},F.prototype.emplace=function(J,ge){return this.uint32[1*J+0]=ge,J},F}(ri);G.prototype.bytesPerElement=4,Br("StructArrayLayout1ul4",G);var ee=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe,Be,Ze,ot,pt,Et,Dt){var Vt=this.length;return this.resize(Vt+1),this.emplace(Vt,J,ge,Oe,Be,Ze,ot,pt,Et,Dt)},F.prototype.emplace=function(J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt){var Jt=10*J,qt=5*J;return this.int16[Jt+0]=ge,this.int16[Jt+1]=Oe,this.int16[Jt+2]=Be,this.int16[Jt+3]=Ze,this.int16[Jt+4]=ot,this.int16[Jt+5]=pt,this.uint32[qt+3]=Et,this.uint16[Jt+8]=Dt,this.uint16[Jt+9]=Vt,J},F}(ri);ee.prototype.bytesPerElement=20,Br("StructArrayLayout6i1ul2ui20",ee);var ye=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe,Be,Ze,ot){var pt=this.length;return this.resize(pt+1),this.emplace(pt,J,ge,Oe,Be,Ze,ot)},F.prototype.emplace=function(J,ge,Oe,Be,Ze,ot,pt){var Et=6*J;return this.int16[Et+0]=ge,this.int16[Et+1]=Oe,this.int16[Et+2]=Be,this.int16[Et+3]=Ze,this.int16[Et+4]=ot,this.int16[Et+5]=pt,J},F}(ri);ye.prototype.bytesPerElement=12,Br("StructArrayLayout2i2i2i12",ye);var Le=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe,Be,Ze){var ot=this.length;return this.resize(ot+1),this.emplace(ot,J,ge,Oe,Be,Ze)},F.prototype.emplace=function(J,ge,Oe,Be,Ze,ot){var pt=4*J,Et=8*J;return this.float32[pt+0]=ge,this.float32[pt+1]=Oe,this.float32[pt+2]=Be,this.int16[Et+6]=Ze,this.int16[Et+7]=ot,J},F}(ri);Le.prototype.bytesPerElement=16,Br("StructArrayLayout2f1f2i16",Le);var V=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe,Be){var Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,J,ge,Oe,Be)},F.prototype.emplace=function(J,ge,Oe,Be,Ze){var ot=12*J,pt=3*J;return this.uint8[ot+0]=ge,this.uint8[ot+1]=Oe,this.float32[pt+1]=Be,this.float32[pt+2]=Ze,J},F}(ri);V.prototype.bytesPerElement=12,Br("StructArrayLayout2ub2f12",V);var ne=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe){var Be=this.length;return this.resize(Be+1),this.emplace(Be,J,ge,Oe)},F.prototype.emplace=function(J,ge,Oe,Be){var Ze=3*J;return this.uint16[Ze+0]=ge,this.uint16[Ze+1]=Oe,this.uint16[Ze+2]=Be,J},F}(ri);ne.prototype.bytesPerElement=6,Br("StructArrayLayout3ui6",ne);var ce=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt,qt,dn,yn,Fn,Nn,qn){var Zn=this.length;return this.resize(Zn+1),this.emplace(Zn,J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt,qt,dn,yn,Fn,Nn,qn)},F.prototype.emplace=function(J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt,qt,dn,yn,Fn,Nn,qn,Zn){var tr=24*J,cr=12*J,vr=48*J;return this.int16[tr+0]=ge,this.int16[tr+1]=Oe,this.uint16[tr+2]=Be,this.uint16[tr+3]=Ze,this.uint32[cr+2]=ot,this.uint32[cr+3]=pt,this.uint32[cr+4]=Et,this.uint16[tr+10]=Dt,this.uint16[tr+11]=Vt,this.uint16[tr+12]=Jt,this.float32[cr+7]=qt,this.float32[cr+8]=dn,this.uint8[vr+36]=yn,this.uint8[vr+37]=Fn,this.uint8[vr+38]=Nn,this.uint32[cr+10]=qn,this.int16[tr+22]=Zn,J},F}(ri);ce.prototype.bytesPerElement=48,Br("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ce);var _e=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt,qt,dn,yn,Fn,Nn,qn,Zn,tr,cr,vr,Pr,Sr,Nr,Gr,hi,Zr,oi){var ei=this.length;return this.resize(ei+1),this.emplace(ei,J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt,qt,dn,yn,Fn,Nn,qn,Zn,tr,cr,vr,Pr,Sr,Nr,Gr,hi,Zr,oi)},F.prototype.emplace=function(J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt,qt,dn,yn,Fn,Nn,qn,Zn,tr,cr,vr,Pr,Sr,Nr,Gr,hi,Zr,oi,ei){var Vr=34*J,Ei=17*J;return this.int16[Vr+0]=ge,this.int16[Vr+1]=Oe,this.int16[Vr+2]=Be,this.int16[Vr+3]=Ze,this.int16[Vr+4]=ot,this.int16[Vr+5]=pt,this.int16[Vr+6]=Et,this.int16[Vr+7]=Dt,this.uint16[Vr+8]=Vt,this.uint16[Vr+9]=Jt,this.uint16[Vr+10]=qt,this.uint16[Vr+11]=dn,this.uint16[Vr+12]=yn,this.uint16[Vr+13]=Fn,this.uint16[Vr+14]=Nn,this.uint16[Vr+15]=qn,this.uint16[Vr+16]=Zn,this.uint16[Vr+17]=tr,this.uint16[Vr+18]=cr,this.uint16[Vr+19]=vr,this.uint16[Vr+20]=Pr,this.uint16[Vr+21]=Sr,this.uint16[Vr+22]=Nr,this.uint32[Ei+12]=Gr,this.float32[Ei+13]=hi,this.float32[Ei+14]=Zr,this.float32[Ei+15]=oi,this.float32[Ei+16]=ei,J},F}(ri);_e.prototype.bytesPerElement=68,Br("StructArrayLayout8i15ui1ul4f68",_e);var Ae=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J){var ge=this.length;return this.resize(ge+1),this.emplace(ge,J)},F.prototype.emplace=function(J,ge){return this.float32[1*J+0]=ge,J},F}(ri);Ae.prototype.bytesPerElement=4,Br("StructArrayLayout1f4",Ae);var Fe=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe){var Be=this.length;return this.resize(Be+1),this.emplace(Be,J,ge,Oe)},F.prototype.emplace=function(J,ge,Oe,Be){var Ze=3*J;return this.int16[Ze+0]=ge,this.int16[Ze+1]=Oe,this.int16[Ze+2]=Be,J},F}(ri);Fe.prototype.bytesPerElement=6,Br("StructArrayLayout3i6",Fe);var We=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe){var Be=this.length;return this.resize(Be+1),this.emplace(Be,J,ge,Oe)},F.prototype.emplace=function(J,ge,Oe,Be){var ot=4*J;return this.uint32[2*J+0]=ge,this.uint16[ot+2]=Oe,this.uint16[ot+3]=Be,J},F}(ri);We.prototype.bytesPerElement=8,Br("StructArrayLayout1ul2ui8",We);var Ye=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge){var Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,J,ge)},F.prototype.emplace=function(J,ge,Oe){var Be=2*J;return this.uint16[Be+0]=ge,this.uint16[Be+1]=Oe,J},F}(ri);Ye.prototype.bytesPerElement=4,Br("StructArrayLayout2ui4",Ye);var Je=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J){var ge=this.length;return this.resize(ge+1),this.emplace(ge,J)},F.prototype.emplace=function(J,ge){return this.uint16[1*J+0]=ge,J},F}(ri);Je.prototype.bytesPerElement=2,Br("StructArrayLayout1ui2",Je);var tt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge){var Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,J,ge)},F.prototype.emplace=function(J,ge,Oe){var Be=2*J;return this.float32[Be+0]=ge,this.float32[Be+1]=Oe,J},F}(ri);tt.prototype.bytesPerElement=8,Br("StructArrayLayout2f8",tt);var lt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(J,ge,Oe,Be){var Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,J,ge,Oe,Be)},F.prototype.emplace=function(J,ge,Oe,Be,Ze){var ot=4*J;return this.float32[ot+0]=ge,this.float32[ot+1]=Oe,this.float32[ot+2]=Be,this.float32[ot+3]=Ze,J},F}(ri);lt.prototype.bytesPerElement=16,Br("StructArrayLayout4f16",lt);var yt=function(D){function F(){D.apply(this,arguments)}D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F;var J={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return J.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},J.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},J.x1.get=function(){return this._structArray.int16[this._pos2+2]},J.y1.get=function(){return this._structArray.int16[this._pos2+3]},J.x2.get=function(){return this._structArray.int16[this._pos2+4]},J.y2.get=function(){return this._structArray.int16[this._pos2+5]},J.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},J.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},J.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},J.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(F.prototype,J),F}(Ys);yt.prototype.size=20;var wt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.get=function(J){return new yt(this,J)},F}(ee);Br("CollisionBoxArray",wt);var zt=function(D){function F(){D.apply(this,arguments)}D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F;var J={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return J.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},J.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},J.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},J.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},J.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},J.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},J.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},J.segment.get=function(){return this._structArray.uint16[this._pos2+10]},J.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},J.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},J.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},J.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},J.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},J.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},J.placedOrientation.set=function(ge){this._structArray.uint8[this._pos1+37]=ge},J.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},J.hidden.set=function(ge){this._structArray.uint8[this._pos1+38]=ge},J.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},J.crossTileID.set=function(ge){this._structArray.uint32[this._pos4+10]=ge},J.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(F.prototype,J),F}(Ys);zt.prototype.size=48;var Ut=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.get=function(J){return new zt(this,J)},F}(ce);Br("PlacedSymbolArray",Ut);var Nt=function(D){function F(){D.apply(this,arguments)}D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F;var J={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return J.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},J.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},J.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},J.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},J.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},J.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},J.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},J.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},J.key.get=function(){return this._structArray.uint16[this._pos2+8]},J.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},J.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},J.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},J.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},J.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},J.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},J.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},J.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},J.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},J.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},J.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},J.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},J.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},J.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},J.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},J.crossTileID.set=function(ge){this._structArray.uint32[this._pos4+12]=ge},J.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},J.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},J.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},J.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(F.prototype,J),F}(Ys);Nt.prototype.size=68;var $t=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.get=function(J){return new Nt(this,J)},F}(_e);Br("SymbolInstanceArray",$t);var Bt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.getoffsetX=function(J){return this.float32[1*J+0]},F}(Ae);Br("GlyphOffsetArray",Bt);var pn=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.getx=function(J){return this.int16[3*J+0]},F.prototype.gety=function(J){return this.int16[3*J+1]},F.prototype.gettileUnitDistanceFromAnchor=function(J){return this.int16[3*J+2]},F}(Fe);Br("SymbolLineVertexArray",pn);var an=function(D){function F(){D.apply(this,arguments)}D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F;var J={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return J.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},J.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},J.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(F.prototype,J),F}(Ys);an.prototype.size=8;var en=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.get=function(J){return new an(this,J)},F}(We);Br("FeatureIndexArray",en);var Dn=Oo([{name:"a_pos",components:2,type:"Int16"}],4).members,In=function(D){void 0===D&&(D=[]),this.segments=D};function Kn(D,F){return 256*(D=a(Math.floor(D),0,255))+a(Math.floor(F),0,255)}In.prototype.prepareSegment=function(D,F,J,ge){var Oe=this.segments[this.segments.length-1];return D>In.MAX_VERTEX_ARRAY_LENGTH&&E("Max vertices per segment is "+In.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!Oe||Oe.vertexLength+D>In.MAX_VERTEX_ARRAY_LENGTH||Oe.sortKey!==ge)&&(Oe={vertexOffset:F.length,primitiveOffset:J.length,vertexLength:0,primitiveLength:0},void 0!==ge&&(Oe.sortKey=ge),this.segments.push(Oe)),Oe},In.prototype.get=function(){return this.segments},In.prototype.destroy=function(){for(var D=0,F=this.segments;D<F.length;D+=1){var J=F[D];for(var ge in J.vaos)J.vaos[ge].destroy()}},In.simpleSegment=function(D,F,J,ge){return new In([{vertexOffset:D,primitiveOffset:F,vertexLength:J,primitiveLength:ge,vaos:{},sortKey:0}])},In.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Br("SegmentVector",In);var Yn=Oo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),ir=A(function(D){D.exports=function(F,J){var ge,Oe,Be,Ze,ot,pt,Et,Dt;for(Oe=F.length-(ge=3&F.length),Be=J,ot=3432918353,pt=461845907,Dt=0;Dt<Oe;)Et=255&F.charCodeAt(Dt)|(255&F.charCodeAt(++Dt))<<8|(255&F.charCodeAt(++Dt))<<16|(255&F.charCodeAt(++Dt))<<24,++Dt,Be=27492+(65535&(Ze=5*(65535&(Be=(Be^=Et=(65535&(Et=(Et=(65535&Et)*ot+(((Et>>>16)*ot&65535)<<16)&4294967295)<<15|Et>>>17))*pt+(((Et>>>16)*pt&65535)<<16)&4294967295)<<13|Be>>>19))+((5*(Be>>>16)&65535)<<16)&4294967295))+((58964+(Ze>>>16)&65535)<<16);switch(Et=0,ge){case 3:Et^=(255&F.charCodeAt(Dt+2))<<16;case 2:Et^=(255&F.charCodeAt(Dt+1))<<8;case 1:Be^=Et=(65535&(Et=(Et=(65535&(Et^=255&F.charCodeAt(Dt)))*ot+(((Et>>>16)*ot&65535)<<16)&4294967295)<<15|Et>>>17))*pt+(((Et>>>16)*pt&65535)<<16)&4294967295}return Be^=F.length,Be=2246822507*(65535&(Be^=Be>>>16))+((2246822507*(Be>>>16)&65535)<<16)&4294967295,Be=3266489909*(65535&(Be^=Be>>>13))+((3266489909*(Be>>>16)&65535)<<16)&4294967295,(Be^=Be>>>16)>>>0}}),dr=A(function(D){D.exports=function(F,J){for(var ge,Oe=F.length,Be=J^Oe,Ze=0;Oe>=4;)ge=1540483477*(65535&(ge=255&F.charCodeAt(Ze)|(255&F.charCodeAt(++Ze))<<8|(255&F.charCodeAt(++Ze))<<16|(255&F.charCodeAt(++Ze))<<24))+((1540483477*(ge>>>16)&65535)<<16),Be=1540483477*(65535&Be)+((1540483477*(Be>>>16)&65535)<<16)^(ge=1540483477*(65535&(ge^=ge>>>24))+((1540483477*(ge>>>16)&65535)<<16)),Oe-=4,++Ze;switch(Oe){case 3:Be^=(255&F.charCodeAt(Ze+2))<<16;case 2:Be^=(255&F.charCodeAt(Ze+1))<<8;case 1:Be=1540483477*(65535&(Be^=255&F.charCodeAt(Ze)))+((1540483477*(Be>>>16)&65535)<<16)}return Be=1540483477*(65535&(Be^=Be>>>13))+((1540483477*(Be>>>16)&65535)<<16),(Be^=Be>>>15)>>>0}}),yr=ir,Cr=dr;yr.murmur3=ir,yr.murmur2=Cr;var Lr=function(){this.ids=[],this.positions=[],this.indexed=!1};Lr.prototype.add=function(D,F,J,ge){this.ids.push(Qn(D)),this.positions.push(F,J,ge)},Lr.prototype.getPositions=function(D){for(var F=Qn(D),J=0,ge=this.ids.length-1;J<ge;){var Oe=J+ge>>1;this.ids[Oe]>=F?ge=Oe:J=Oe+1}for(var Be=[];this.ids[J]===F;)Be.push({index:this.positions[3*J],start:this.positions[3*J+1],end:this.positions[3*J+2]}),J++;return Be},Lr.serialize=function(D,F){var J=new Float64Array(D.ids),ge=new Uint32Array(D.positions);return wr(J,ge,0,J.length-1),F&&F.push(J.buffer,ge.buffer),{ids:J,positions:ge}},Lr.deserialize=function(D){var F=new Lr;return F.ids=D.ids,F.positions=D.positions,F.indexed=!0,F};var ni=Math.pow(2,53)-1;function Qn(D){var F=+D;return!isNaN(F)&&F<=ni?F:yr(String(D))}function wr(D,F,J,ge){for(;J<ge;){for(var Oe=D[J+ge>>1],Be=J-1,Ze=ge+1;;){do{Be++}while(D[Be]<Oe);do{Ze--}while(D[Ze]>Oe);if(Be>=Ze)break;Er(D,Be,Ze),Er(F,3*Be,3*Ze),Er(F,3*Be+1,3*Ze+1),Er(F,3*Be+2,3*Ze+2)}Ze-J<ge-Ze?(wr(D,F,J,Ze),J=Ze+1):(wr(D,F,Ze+1,ge),ge=Ze)}}function Er(D,F,J){var ge=D[F];D[F]=D[J],D[J]=ge}Br("FeaturePositionMap",Lr);var jr=function(D,F){this.gl=D.gl,this.location=F},Jr=function(D){function F(J,ge){D.call(this,J,ge),this.current=0}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(J){this.current!==J&&(this.current=J,this.gl.uniform1i(this.location,J))},F}(jr),ci=function(D){function F(J,ge){D.call(this,J,ge),this.current=0}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(J){this.current!==J&&(this.current=J,this.gl.uniform1f(this.location,J))},F}(jr),bi=function(D){function F(J,ge){D.call(this,J,ge),this.current=[0,0]}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(J){J[0]===this.current[0]&&J[1]===this.current[1]||(this.current=J,this.gl.uniform2f(this.location,J[0],J[1]))},F}(jr),Hi=function(D){function F(J,ge){D.call(this,J,ge),this.current=[0,0,0]}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(J){J[0]===this.current[0]&&J[1]===this.current[1]&&J[2]===this.current[2]||(this.current=J,this.gl.uniform3f(this.location,J[0],J[1],J[2]))},F}(jr),po=function(D){function F(J,ge){D.call(this,J,ge),this.current=[0,0,0,0]}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(J){J[0]===this.current[0]&&J[1]===this.current[1]&&J[2]===this.current[2]&&J[3]===this.current[3]||(this.current=J,this.gl.uniform4f(this.location,J[0],J[1],J[2],J[3]))},F}(jr),uo=function(D){function F(J,ge){D.call(this,J,ge),this.current=En.transparent}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(J){J.r===this.current.r&&J.g===this.current.g&&J.b===this.current.b&&J.a===this.current.a||(this.current=J,this.gl.uniform4f(this.location,J.r,J.g,J.b,J.a))},F}(jr),Gi=new Float32Array(16),Mo=function(D){function F(J,ge){D.call(this,J,ge),this.current=Gi}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(J){if(J[12]!==this.current[12]||J[0]!==this.current[0])return this.current=J,void this.gl.uniformMatrix4fv(this.location,!1,J);for(var ge=1;ge<16;ge++)if(J[ge]!==this.current[ge]){this.current=J,this.gl.uniformMatrix4fv(this.location,!1,J);break}},F}(jr);function Ko(D){return[Kn(255*D.r,255*D.g),Kn(255*D.b,255*D.a)]}var Wr=function(D,F,J){this.value=D,this.uniformNames=F.map(function(ge){return"u_"+ge}),this.type=J};Wr.prototype.setUniform=function(D,F,J){D.set(J.constantOr(this.value))},Wr.prototype.getBinding=function(D,F,J){return"color"===this.type?new uo(D,F):new ci(D,F)};var Bo=function(D,F){this.uniformNames=F.map(function(J){return"u_"+J}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Bo.prototype.setConstantPatternPositions=function(D,F){this.pixelRatioFrom=F.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=F.tlbr,this.patternTo=D.tlbr},Bo.prototype.setUniform=function(D,F,J,ge){var Oe="u_pattern_to"===ge?this.patternTo:"u_pattern_from"===ge?this.patternFrom:"u_pixel_ratio_to"===ge?this.pixelRatioTo:"u_pixel_ratio_from"===ge?this.pixelRatioFrom:null;Oe&&D.set(Oe)},Bo.prototype.getBinding=function(D,F,J){return"u_pattern"===J.substr(0,9)?new po(D,F):new ci(D,F)};var qi=function(D,F,J,ge){this.expression=D,this.type=J,this.maxValue=0,this.paintVertexAttributes=F.map(function(Oe){return{name:"a_"+Oe,type:"Float32",components:"color"===J?2:1,offset:0}}),this.paintVertexArray=new ge};qi.prototype.populatePaintArray=function(D,F,J,ge,Oe){var Be=this.paintVertexArray.length,Ze=this.expression.evaluate(new eo(0),F,{},ge,[],Oe);this.paintVertexArray.resize(D),this._setPaintValue(Be,D,Ze)},qi.prototype.updatePaintArray=function(D,F,J,ge){var Oe=this.expression.evaluate({zoom:0},J,ge);this._setPaintValue(D,F,Oe)},qi.prototype._setPaintValue=function(D,F,J){if("color"===this.type)for(var ge=Ko(J),Oe=D;Oe<F;Oe++)this.paintVertexArray.emplace(Oe,ge[0],ge[1]);else{for(var Be=D;Be<F;Be++)this.paintVertexArray.emplace(Be,J);this.maxValue=Math.max(this.maxValue,Math.abs(J))}},qi.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},qi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ki=function(D,F,J,ge,Oe,Be){this.expression=D,this.uniformNames=F.map(function(Ze){return"u_"+Ze+"_t"}),this.type=J,this.useIntegerZoom=ge,this.zoom=Oe,this.maxValue=0,this.paintVertexAttributes=F.map(function(Ze){return{name:"a_"+Ze,type:"Float32",components:"color"===J?4:2,offset:0}}),this.paintVertexArray=new Be};ki.prototype.populatePaintArray=function(D,F,J,ge,Oe){var Be=this.expression.evaluate(new eo(this.zoom),F,{},ge,[],Oe),Ze=this.expression.evaluate(new eo(this.zoom+1),F,{},ge,[],Oe),ot=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(ot,D,Be,Ze)},ki.prototype.updatePaintArray=function(D,F,J,ge){var Oe=this.expression.evaluate({zoom:this.zoom},J,ge),Be=this.expression.evaluate({zoom:this.zoom+1},J,ge);this._setPaintValue(D,F,Oe,Be)},ki.prototype._setPaintValue=function(D,F,J,ge){if("color"===this.type)for(var Oe=Ko(J),Be=Ko(ge),Ze=D;Ze<F;Ze++)this.paintVertexArray.emplace(Ze,Oe[0],Oe[1],Be[0],Be[1]);else{for(var ot=D;ot<F;ot++)this.paintVertexArray.emplace(ot,J,ge);this.maxValue=Math.max(this.maxValue,Math.abs(J),Math.abs(ge))}},ki.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ki.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ki.prototype.setUniform=function(D,F){var J=this.useIntegerZoom?Math.floor(F.zoom):F.zoom,ge=a(this.expression.interpolationFactor(J,this.zoom,this.zoom+1),0,1);D.set(ge)},ki.prototype.getBinding=function(D,F,J){return new ci(D,F)};var go=function(D,F,J,ge,Oe,Be){this.expression=D,this.type=F,this.useIntegerZoom=J,this.zoom=ge,this.layerId=Be,this.zoomInPaintVertexArray=new Oe,this.zoomOutPaintVertexArray=new Oe};go.prototype.populatePaintArray=function(D,F,J){var ge=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(ge,D,F.patterns&&F.patterns[this.layerId],J)},go.prototype.updatePaintArray=function(D,F,J,ge,Oe){this._setPaintValues(D,F,J.patterns&&J.patterns[this.layerId],Oe)},go.prototype._setPaintValues=function(D,F,J,ge){if(ge&&J){var ot=ge[J.min],pt=ge[J.mid],Et=ge[J.max];if(ot&&pt&&Et)for(var Dt=D;Dt<F;Dt++)this.zoomInPaintVertexArray.emplace(Dt,pt.tl[0],pt.tl[1],pt.br[0],pt.br[1],ot.tl[0],ot.tl[1],ot.br[0],ot.br[1],pt.pixelRatio,ot.pixelRatio),this.zoomOutPaintVertexArray.emplace(Dt,pt.tl[0],pt.tl[1],pt.br[0],pt.br[1],Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],pt.pixelRatio,Et.pixelRatio)}},go.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,Yn.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,Yn.members,this.expression.isStateDependent))},go.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var io=function(D,F,J,ge){this.binders={},this.layoutAttributes=ge,this._buffers=[];var Oe=[];for(var Be in D.paint._values)if(J(Be)){var Ze=D.paint.get(Be);if(Ze instanceof Zo&&ia(Ze.property.specification)){var ot=Yo(Be,D.type),pt=Ze.value,Et=Ze.property.specification.type,Dt=Ze.property.useIntegerZoom,Vt=Ze.property.specification["property-type"],Jt="cross-faded"===Vt||"cross-faded-data-driven"===Vt;if("constant"===pt.kind)this.binders[Be]=Jt?new Bo(pt.value,ot):new Wr(pt.value,ot,Et),Oe.push("/u_"+Be);else if("source"===pt.kind||Jt){var qt=Ao(Be,Et,"source");this.binders[Be]=Jt?new go(pt,Et,Dt,F,qt,D.id):new qi(pt,ot,Et,qt),Oe.push("/a_"+Be)}else{var dn=Ao(Be,Et,"composite");this.binders[Be]=new ki(pt,ot,Et,Dt,F,dn),Oe.push("/z_"+Be)}}}this.cacheKey=Oe.sort().join("")};io.prototype.getMaxValue=function(D){var F=this.binders[D];return F instanceof qi||F instanceof ki?F.maxValue:0},io.prototype.populatePaintArrays=function(D,F,J,ge,Oe){for(var Be in this.binders){var Ze=this.binders[Be];(Ze instanceof qi||Ze instanceof ki||Ze instanceof go)&&Ze.populatePaintArray(D,F,J,ge,Oe)}},io.prototype.setConstantPatternPositions=function(D,F){for(var J in this.binders){var ge=this.binders[J];ge instanceof Bo&&ge.setConstantPatternPositions(D,F)}},io.prototype.updatePaintArrays=function(D,F,J,ge,Oe){var Be=!1;for(var Ze in D)for(var ot=0,pt=F.getPositions(Ze);ot<pt.length;ot+=1){var Et=pt[ot],Dt=J.feature(Et.index);for(var Vt in this.binders){var Jt=this.binders[Vt];if((Jt instanceof qi||Jt instanceof ki||Jt instanceof go)&&!0===Jt.expression.isStateDependent){var qt=ge.paint.get(Vt);Jt.expression=qt.value,Jt.updatePaintArray(Et.start,Et.end,Dt,D[Ze],Oe),Be=!0}}}return Be},io.prototype.defines=function(){var D=[];for(var F in this.binders){var J=this.binders[F];(J instanceof Wr||J instanceof Bo)&&D.push.apply(D,J.uniformNames.map(function(ge){return"#define HAS_UNIFORM_"+ge}))}return D},io.prototype.getPaintVertexBuffers=function(){return this._buffers},io.prototype.getUniforms=function(D,F){var J=[];for(var ge in this.binders){var Oe=this.binders[ge];if(Oe instanceof Wr||Oe instanceof Bo||Oe instanceof ki)for(var Be=0,Ze=Oe.uniformNames;Be<Ze.length;Be+=1){var ot=Ze[Be];if(F[ot]){var pt=Oe.getBinding(D,F[ot],ot);J.push({name:ot,property:ge,binding:pt})}}}return J},io.prototype.setUniforms=function(D,F,J,ge){for(var Oe=0,Be=F;Oe<Be.length;Oe+=1){var Ze=Be[Oe],ot=Ze.name,pt=Ze.property;this.binders[pt].setUniform(Ze.binding,ge,J.get(pt),ot)}},io.prototype.updatePaintBuffers=function(D){for(var F in this._buffers=[],this.binders){var J=this.binders[F];if(D&&J instanceof go){var ge=2===D.fromScale?J.zoomInPaintVertexBuffer:J.zoomOutPaintVertexBuffer;ge&&this._buffers.push(ge)}else(J instanceof qi||J instanceof ki)&&J.paintVertexBuffer&&this._buffers.push(J.paintVertexBuffer)}},io.prototype.upload=function(D){for(var F in this.binders){var J=this.binders[F];(J instanceof qi||J instanceof ki||J instanceof go)&&J.upload(D)}this.updatePaintBuffers()},io.prototype.destroy=function(){for(var D in this.binders){var F=this.binders[D];(F instanceof qi||F instanceof ki||F instanceof go)&&F.destroy()}};var mo=function(D,F,J,ge){void 0===ge&&(ge=function(){return!0}),this.programConfigurations={};for(var Oe=0,Be=F;Oe<Be.length;Oe+=1){var Ze=Be[Oe];this.programConfigurations[Ze.id]=new io(Ze,J,ge,D)}this.needsUpload=!1,this._featureMap=new Lr,this._bufferOffset=0};function Yo(D,F){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[D]||[D.replace(F+"-","").replace(/-/g,"_")]}function Ao(D,F,J){var Oe={"line-pattern":{source:$s,composite:$s},"fill-pattern":{source:$s,composite:$s},"fill-extrusion-pattern":{source:$s,composite:$s}}[D];return Oe&&Oe[J]||{color:{source:tt,composite:lt},number:{source:Ae,composite:tt}}[F][J]}mo.prototype.populatePaintArrays=function(D,F,J,ge,Oe,Be){for(var Ze in this.programConfigurations)this.programConfigurations[Ze].populatePaintArrays(D,F,ge,Oe,Be);void 0!==F.id&&this._featureMap.add(F.id,J,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},mo.prototype.updatePaintArrays=function(D,F,J,ge){for(var Oe=0,Be=J;Oe<Be.length;Oe+=1){var Ze=Be[Oe];this.needsUpload=this.programConfigurations[Ze.id].updatePaintArrays(D,this._featureMap,F,Ze,ge)||this.needsUpload}},mo.prototype.get=function(D){return this.programConfigurations[D]},mo.prototype.upload=function(D){if(this.needsUpload){for(var F in this.programConfigurations)this.programConfigurations[F].upload(D);this.needsUpload=!1}},mo.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()},Br("ConstantBinder",Wr),Br("CrossFadedConstantBinder",Bo),Br("SourceExpressionBinder",qi),Br("CrossFadedCompositeBinder",go),Br("CompositeExpressionBinder",ki),Br("ProgramConfiguration",io,{omit:["_buffers"]}),Br("ProgramConfigurationSet",mo);var $i=8192,za=(15,{min:-1*Math.pow(2,14),max:Math.pow(2,14)-1});function is(D){for(var F=$i/D.extent,J=D.loadGeometry(),ge=0;ge<J.length;ge++)for(var Oe=J[ge],Be=0;Be<Oe.length;Be++){var Ze=Oe[Be];Ze.x=Math.round(Ze.x*F),Ze.y=Math.round(Ze.y*F),(Ze.x<za.min||Ze.x>za.max||Ze.y<za.min||Ze.y>za.max)&&(E("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ze.x=a(Ze.x,za.min,za.max),Ze.y=a(Ze.y,za.min,za.max))}return J}function xr(D,F,J,ge,Oe){D.emplaceBack(2*F+(ge+1)/2,2*J+(Oe+1)/2)}var si=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Na,this.indexArray=new ne,this.segments=new In,this.programConfigurations=new mo(Dn,D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};function vs(D,F){for(var J=0;J<D.length;J++)if(Ac(F,D[J]))return!0;for(var ge=0;ge<F.length;ge++)if(Ac(D,F[ge]))return!0;return!!Ru(D,F)}function Kc(D,F,J){return!!Ac(D,F)||!!Mc(F,D,J)}function Ba(D,F){if(1===D.length)return Oh(F,D[0]);for(var J=0;J<F.length;J++)for(var ge=F[J],Oe=0;Oe<ge.length;Oe++)if(Ac(D,ge[Oe]))return!0;for(var Be=0;Be<D.length;Be++)if(Oh(F,D[Be]))return!0;for(var Ze=0;Ze<F.length;Ze++)if(Ru(D,F[Ze]))return!0;return!1}function Ph(D,F,J){if(D.length>1){if(Ru(D,F))return!0;for(var ge=0;ge<F.length;ge++)if(Mc(F[ge],D,J))return!0}for(var Oe=0;Oe<D.length;Oe++)if(Mc(D[Oe],F,J))return!0;return!1}function Ru(D,F){if(0===D.length||0===F.length)return!1;for(var J=0;J<D.length-1;J++)for(var ge=D[J],Oe=D[J+1],Be=0;Be<F.length-1;Be++)if(Xs(ge,Oe,F[Be],F[Be+1]))return!0;return!1}function Xs(D,F,J,ge){return k(D,J,ge)!==k(F,J,ge)&&k(D,F,J)!==k(D,F,ge)}function Mc(D,F,J){var ge=J*J;if(1===F.length)return D.distSqr(F[0])<ge;for(var Oe=1;Oe<F.length;Oe++)if(Fu(D,F[Oe-1],F[Oe])<ge)return!0;return!1}function Fu(D,F,J){var ge=F.distSqr(J);if(0===ge)return D.distSqr(F);var Oe=((D.x-F.x)*(J.x-F.x)+(D.y-F.y)*(J.y-F.y))/ge;return D.distSqr(Oe<0?F:Oe>1?J:J.sub(F)._mult(Oe)._add(F))}function Oh(D,F){for(var J,ge,Oe,Be=!1,Ze=0;Ze<D.length;Ze++)for(var ot=0,pt=(J=D[Ze]).length-1;ot<J.length;pt=ot++)(ge=J[ot]).y>F.y!=(Oe=J[pt]).y>F.y&&F.x<(Oe.x-ge.x)*(F.y-ge.y)/(Oe.y-ge.y)+ge.x&&(Be=!Be);return Be}function Ac(D,F){for(var J=!1,ge=0,Oe=D.length-1;ge<D.length;Oe=ge++){var Be=D[ge],Ze=D[Oe];Be.y>F.y!=Ze.y>F.y&&F.x<(Ze.x-Be.x)*(F.y-Be.y)/(Ze.y-Be.y)+Be.x&&(J=!J)}return J}function Jc(D,F,J){var ge=J[0],Oe=J[2];if(D.x<ge.x&&F.x<ge.x||D.x>Oe.x&&F.x>Oe.x||D.y<ge.y&&F.y<ge.y||D.y>Oe.y&&F.y>Oe.y)return!1;var Be=k(D,F,J[0]);return Be!==k(D,F,J[1])||Be!==k(D,F,J[2])||Be!==k(D,F,J[3])}function Ya(D,F,J){var ge=F.paint.get(D).value;return"constant"===ge.kind?ge.value:J.programConfigurations.get(F.id).getMaxValue(D)}function jl(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function Gf(D,F,J,ge,Oe){if(!F[0]&&!F[1])return D;var Be=t.convert(F)._mult(Oe);"viewport"===J&&Be._rotate(-ge);for(var Ze=[],ot=0;ot<D.length;ot++)Ze.push(D[ot].sub(Be));return Ze}si.prototype.populate=function(D,F,J){var ge=this.layers[0],Oe=[],Be=null;"circle"===ge.type&&(Be=ge.layout.get("circle-sort-key"));for(var Ze=0,ot=D;Ze<ot.length;Ze+=1){var pt=ot[Ze],Et=pt.feature,Dt=pt.id,Vt=pt.index,Jt=pt.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,dn={type:Et.type,id:Dt,properties:Et.properties,geometry:qt?is(Et):[]};if(this.layers[0]._featureFilter.filter(new eo(this.zoom),dn,J)){qt||(dn.geometry=is(Et));var yn=Be?Be.evaluate(dn,{},J):void 0;Oe.push({id:Dt,properties:Et.properties,type:Et.type,sourceLayerIndex:Jt,index:Vt,geometry:dn.geometry,patterns:{},sortKey:yn})}}Be&&Oe.sort(function(Nr,Gr){return Nr.sortKey-Gr.sortKey});for(var Nn=0,qn=Oe;Nn<qn.length;Nn+=1){var Zn=qn[Nn],cr=Zn.geometry,vr=Zn.index,Pr=Zn.sourceLayerIndex,Sr=D[vr].feature;this.addFeature(Zn,cr,vr,J),F.featureIndex.insert(Sr,cr,vr,Pr,this.index)}},si.prototype.update=function(D,F,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,F,this.stateDependentLayers,J)},si.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},si.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},si.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Dn),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},si.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},si.prototype.addFeature=function(D,F,J,ge){for(var Oe=0,Be=F;Oe<Be.length;Oe+=1)for(var Ze=0,ot=Be[Oe];Ze<ot.length;Ze+=1){var pt=ot[Ze],Et=pt.x,Dt=pt.y;if(!(Et<0||Et>=$i||Dt<0||Dt>=$i)){var Vt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),Jt=Vt.vertexLength;xr(this.layoutVertexArray,Et,Dt,-1,-1),xr(this.layoutVertexArray,Et,Dt,1,-1),xr(this.layoutVertexArray,Et,Dt,1,1),xr(this.layoutVertexArray,Et,Dt,-1,1),this.indexArray.emplaceBack(Jt,Jt+1,Jt+2),this.indexArray.emplaceBack(Jt,Jt+3,Jt+2),Vt.vertexLength+=4,Vt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,J,{},ge)},Br("CircleBucket",si,{omit:["layers"]});var Qc=new ca({"circle-sort-key":new Kr(je.layout_circle["circle-sort-key"])}),Nu={paint:new ca({"circle-radius":new Kr(je.paint_circle["circle-radius"]),"circle-color":new Kr(je.paint_circle["circle-color"]),"circle-blur":new Kr(je.paint_circle["circle-blur"]),"circle-opacity":new Kr(je.paint_circle["circle-opacity"]),"circle-translate":new Yr(je.paint_circle["circle-translate"]),"circle-translate-anchor":new Yr(je.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Yr(je.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Yr(je.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Kr(je.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Kr(je.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Kr(je.paint_circle["circle-stroke-opacity"])}),layout:Qc},sl=typeof Float32Array<"u"?Float32Array:Array;function Rh(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}function ag(D,F,J){var ge=F[0],Oe=F[1],Be=F[2],Ze=F[3],ot=F[4],pt=F[5],Et=F[6],Dt=F[7],Vt=F[8],Jt=F[9],qt=F[10],dn=F[11],yn=F[12],Fn=F[13],Nn=F[14],qn=F[15],Zn=J[0],tr=J[1],cr=J[2],vr=J[3];return D[0]=Zn*ge+tr*ot+cr*Vt+vr*yn,D[1]=Zn*Oe+tr*pt+cr*Jt+vr*Fn,D[2]=Zn*Be+tr*Et+cr*qt+vr*Nn,D[3]=Zn*Ze+tr*Dt+cr*dn+vr*qn,D[4]=(Zn=J[4])*ge+(tr=J[5])*ot+(cr=J[6])*Vt+(vr=J[7])*yn,D[5]=Zn*Oe+tr*pt+cr*Jt+vr*Fn,D[6]=Zn*Be+tr*Et+cr*qt+vr*Nn,D[7]=Zn*Ze+tr*Dt+cr*dn+vr*qn,D[8]=(Zn=J[8])*ge+(tr=J[9])*ot+(cr=J[10])*Vt+(vr=J[11])*yn,D[9]=Zn*Oe+tr*pt+cr*Jt+vr*Fn,D[10]=Zn*Be+tr*Et+cr*qt+vr*Nn,D[11]=Zn*Ze+tr*Dt+cr*dn+vr*qn,D[12]=(Zn=J[12])*ge+(tr=J[13])*ot+(cr=J[14])*Vt+(vr=J[15])*yn,D[13]=Zn*Oe+tr*pt+cr*Jt+vr*Fn,D[14]=Zn*Be+tr*Et+cr*qt+vr*Nn,D[15]=Zn*Ze+tr*Dt+cr*dn+vr*qn,D}Math.hypot||(Math.hypot=function(){for(var D=arguments,F=0,J=arguments.length;J--;)F+=D[J]*D[J];return Math.sqrt(F)});var ef,D,uv=ag;function qf(D,F,J){var ge=F[0],Oe=F[1],Be=F[2],Ze=F[3];return D[0]=J[0]*ge+J[4]*Oe+J[8]*Be+J[12]*Ze,D[1]=J[1]*ge+J[5]*Oe+J[9]*Be+J[13]*Ze,D[2]=J[2]*ge+J[6]*Oe+J[10]*Be+J[14]*Ze,D[3]=J[3]*ge+J[7]*Oe+J[11]*Be+J[15]*Ze,D}ef=new sl(3),sl!=Float32Array&&(ef[0]=0,ef[1]=0,ef[2]=0),D=new sl(4),sl!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0,D[3]=0);var cv=(function(){var D=new sl(2);sl!=Float32Array&&(D[0]=0,D[1]=0)}(),function(D){function F(J){D.call(this,J,Nu)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.createBucket=function(J){return new si(J)},F.prototype.queryRadius=function(J){var ge=J;return Ya("circle-radius",this,ge)+Ya("circle-stroke-width",this,ge)+jl(this.paint.get("circle-translate"))},F.prototype.queryIntersectsFeature=function(J,ge,Oe,Be,Ze,ot,pt,Et){for(var Dt=Gf(J,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ot.angle,pt),Vt=this.paint.get("circle-radius").evaluate(ge,Oe)+this.paint.get("circle-stroke-width").evaluate(ge,Oe),Jt="map"===this.paint.get("circle-pitch-alignment"),qt=Jt?Dt:function(Pr,Sr){return Pr.map(function(Nr){return vp(Nr,Sr)})}(Dt,Et),dn=Jt?Vt*pt:Vt,yn=0,Fn=Be;yn<Fn.length;yn+=1)for(var Nn=0,qn=Fn[yn];Nn<qn.length;Nn+=1){var Zn=qn[Nn],tr=Jt?Zn:vp(Zn,Et),cr=dn,vr=qf([],[Zn.x,Zn.y,0,1],Et);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?cr*=vr[3]/ot.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(cr*=ot.cameraToCenterDistance/vr[3]),Kc(qt,tr,cr))return!0}return!1},F}(fa));function vp(D,F){var J=qf([],[D.x,D.y,0,1],F);return new t(J[0]/J[3],J[1]/J[3])}var Fh=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(si);function Nh(D,F,J,ge){var Oe=F.width,Be=F.height;if(ge){if(ge instanceof Uint8ClampedArray)ge=new Uint8Array(ge.buffer);else if(ge.length!==Oe*Be*J)throw new RangeError("mismatched image size")}else ge=new Uint8Array(Oe*Be*J);return D.width=Oe,D.height=Be,D.data=ge,D}function yp(D,F,J){var ge=F.width,Oe=F.height;if(ge!==D.width||Oe!==D.height){var Be=Nh({},{width:ge,height:Oe},J);zh(D,Be,{x:0,y:0},{x:0,y:0},{width:Math.min(D.width,ge),height:Math.min(D.height,Oe)},J),D.width=ge,D.height=Oe,D.data=Be.data}}function zh(D,F,J,ge,Oe,Be){if(0===Oe.width||0===Oe.height)return F;if(Oe.width>D.width||Oe.height>D.height||J.x>D.width-Oe.width||J.y>D.height-Oe.height)throw new RangeError("out of range source coordinates for image copy");if(Oe.width>F.width||Oe.height>F.height||ge.x>F.width-Oe.width||ge.y>F.height-Oe.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ze=D.data,ot=F.data,pt=0;pt<Oe.height;pt++)for(var Et=((J.y+pt)*D.width+J.x)*Be,Dt=((ge.y+pt)*F.width+ge.x)*Be,Vt=0;Vt<Oe.width*Be;Vt++)ot[Dt+Vt]=Ze[Et+Vt];return F}Br("HeatmapBucket",Fh,{omit:["layers"]});var oc=function(D,F){Nh(this,D,1,F)};oc.prototype.resize=function(D){yp(this,D,1)},oc.prototype.clone=function(){return new oc({width:this.width,height:this.height},new Uint8Array(this.data))},oc.copy=function(D,F,J,ge,Oe){zh(D,F,J,ge,Oe,1)};var os=function(D,F){Nh(this,D,4,F)};os.prototype.resize=function(D){yp(this,D,4)},os.prototype.replace=function(D,F){F?this.data.set(D):this.data=D instanceof Uint8ClampedArray?new Uint8Array(D.buffer):D},os.prototype.clone=function(){return new os({width:this.width,height:this.height},new Uint8Array(this.data))},os.copy=function(D,F,J,ge,Oe){zh(D,F,J,ge,Oe,4)},Br("AlphaImage",oc),Br("RGBAImage",os);var fv={paint:new ca({"heatmap-radius":new Kr(je.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Kr(je.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Yr(je.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Zs(je.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Yr(je.paint_heatmap["heatmap-opacity"])})};function sg(D,F){for(var J=new Uint8Array(1024),ge={},Oe=0,Be=0;Oe<256;Oe++,Be+=4){ge[F]=Oe/255;var Ze=D.evaluate(ge);J[Be+0]=Math.floor(255*Ze.r/Ze.a),J[Be+1]=Math.floor(255*Ze.g/Ze.a),J[Be+2]=Math.floor(255*Ze.b/Ze.a),J[Be+3]=Math.floor(255*Ze.a)}return new os({width:256,height:1},J)}var Ks=function(D){function F(J){D.call(this,J,fv),this._updateColorRamp()}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.createBucket=function(J){return new Fh(J)},F.prototype._handleSpecialPaintPropertyUpdate=function(J){"heatmap-color"===J&&this._updateColorRamp()},F.prototype._updateColorRamp=function(){this.colorRamp=sg(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},F.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},F.prototype.queryRadius=function(){return 0},F.prototype.queryIntersectsFeature=function(){return!1},F.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},F}(fa),kc={paint:new ca({"hillshade-illumination-direction":new Yr(je.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Yr(je.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Yr(je.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Yr(je.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Yr(je.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Yr(je.paint_hillshade["hillshade-accent-color"])})},ha=function(D){function F(J){D.call(this,J,kc)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},F}(fa),lg=Oo([{name:"a_pos",components:2,type:"Int16"}],4).members,xp=Bh,hv=Bh;function Bh(D,F,J){J=J||2;var ge,Oe,Be,Ze,ot,pt,Et,Dt=F&&F.length,Vt=Dt?F[0]*J:D.length,Jt=bp(D,0,Vt,J,!0),qt=[];if(!Jt||Jt.next===Jt.prev)return qt;if(Dt&&(Jt=function(yn,Fn,Nn,qn){var Zn,tr,cr,vr=[];for(Zn=0,tr=Fn.length;Zn<tr;Zn++)(cr=bp(yn,Fn[Zn]*qn,Zn<tr-1?Fn[Zn+1]*qn:yn.length,qn,!1))===cr.next&&(cr.steiner=!0),vr.push(pv(cr));for(vr.sort(Vh),Zn=0;Zn<vr.length;Zn++)_p(vr[Zn],Nn),Nn=zu(Nn,Nn.next);return Nn}(D,F,Jt,J)),D.length>80*J){ge=Be=D[0],Oe=Ze=D[1];for(var dn=J;dn<Vt;dn+=J)(ot=D[dn])<ge&&(ge=ot),(pt=D[dn+1])<Oe&&(Oe=pt),ot>Be&&(Be=ot),pt>Ze&&(Ze=pt);Et=0!==(Et=Math.max(Be-ge,Ze-Oe))?1/Et:0}return ac(Jt,qt,J,ge,Oe,Et),qt}function bp(D,F,J,ge,Oe){var Be,Ze;if(Oe===Mp(D,F,J,ge)>0)for(Be=F;Be<J;Be+=ge)Ze=mv(Be,D[Be],D[Be+1],Ze);else for(Be=J-ge;Be>=F;Be-=ge)Ze=mv(Be,D[Be],D[Be+1],Ze);return Ze&&wp(Ze,Ze.next)&&(tf(Ze),Ze=Ze.next),Ze}function zu(D,F){if(!D)return D;F||(F=D);var J,ge=D;do{if(J=!1,ge.steiner||!wp(ge,ge.next)&&0!==da(ge.prev,ge,ge.next))ge=ge.next;else{if(tf(ge),(ge=F=ge.prev)===ge.next)break;J=!0}}while(J||ge!==F);return F}function ac(D,F,J,ge,Oe,Be,Ze){if(D){!Ze&&Be&&function(Dt,Vt,Jt,qt){var dn=Dt;do{null===dn.z&&(dn.z=Hh(dn.x,dn.y,Vt,Jt,qt)),dn.prevZ=dn.prev,dn.nextZ=dn.next,dn=dn.next}while(dn!==Dt);dn.prevZ.nextZ=null,dn.prevZ=null,function(yn){var Fn,Nn,qn,Zn,tr,cr,vr,Pr,Sr=1;do{for(Nn=yn,yn=null,tr=null,cr=0;Nn;){for(cr++,qn=Nn,vr=0,Fn=0;Fn<Sr&&(vr++,qn=qn.nextZ);Fn++);for(Pr=Sr;vr>0||Pr>0&&qn;)0!==vr&&(0===Pr||!qn||Nn.z<=qn.z)?(Zn=Nn,Nn=Nn.nextZ,vr--):(Zn=qn,qn=qn.nextZ,Pr--),tr?tr.nextZ=Zn:yn=Zn,Zn.prevZ=tr,tr=Zn;Nn=qn}tr.nextZ=null,Sr*=2}while(cr>1)}(dn)}(D,ge,Oe,Be);for(var ot,pt,Et=D;D.prev!==D.next;)if(ot=D.prev,pt=D.next,Be?dv(D,ge,Oe,Be):sc(D))F.push(ot.i/J),F.push(D.i/J),F.push(pt.i/J),tf(D),D=pt.next,Et=pt.next;else if((D=pt)===Et){Ze?1===Ze?ac(D=jh(zu(D),F,J),F,J,ge,Oe,Be,2):2===Ze&&Uh(D,F,J,ge,Oe,Be):ac(zu(D),F,J,ge,Oe,Be,1);break}}}function sc(D){var F=D.prev,J=D,ge=D.next;if(da(F,J,ge)>=0)return!1;for(var Oe=D.next.next;Oe!==D.prev;){if(ru(F.x,F.y,J.x,J.y,ge.x,ge.y,Oe.x,Oe.y)&&da(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.next}return!0}function dv(D,F,J,ge){var Oe=D.prev,Be=D,Ze=D.next;if(da(Oe,Be,Ze)>=0)return!1;for(var Et=Oe.x>Be.x?Oe.x>Ze.x?Oe.x:Ze.x:Be.x>Ze.x?Be.x:Ze.x,Dt=Oe.y>Be.y?Oe.y>Ze.y?Oe.y:Ze.y:Be.y>Ze.y?Be.y:Ze.y,Vt=Hh(Oe.x<Be.x?Oe.x<Ze.x?Oe.x:Ze.x:Be.x<Ze.x?Be.x:Ze.x,Oe.y<Be.y?Oe.y<Ze.y?Oe.y:Ze.y:Be.y<Ze.y?Be.y:Ze.y,F,J,ge),Jt=Hh(Et,Dt,F,J,ge),qt=D.prevZ,dn=D.nextZ;qt&&qt.z>=Vt&&dn&&dn.z<=Jt;){if(qt!==D.prev&&qt!==D.next&&ru(Oe.x,Oe.y,Be.x,Be.y,Ze.x,Ze.y,qt.x,qt.y)&&da(qt.prev,qt,qt.next)>=0||(qt=qt.prevZ,dn!==D.prev&&dn!==D.next&&ru(Oe.x,Oe.y,Be.x,Be.y,Ze.x,Ze.y,dn.x,dn.y)&&da(dn.prev,dn,dn.next)>=0))return!1;dn=dn.nextZ}for(;qt&&qt.z>=Vt;){if(qt!==D.prev&&qt!==D.next&&ru(Oe.x,Oe.y,Be.x,Be.y,Ze.x,Ze.y,qt.x,qt.y)&&da(qt.prev,qt,qt.next)>=0)return!1;qt=qt.prevZ}for(;dn&&dn.z<=Jt;){if(dn!==D.prev&&dn!==D.next&&ru(Oe.x,Oe.y,Be.x,Be.y,Ze.x,Ze.y,dn.x,dn.y)&&da(dn.prev,dn,dn.next)>=0)return!1;dn=dn.nextZ}return!0}function jh(D,F,J){var ge=D;do{var Oe=ge.prev,Be=ge.next.next;!wp(Oe,Be)&&Gh(Oe,ge,ge.next,Be)&&Zf(Oe,Be)&&Zf(Be,Oe)&&(F.push(Oe.i/J),F.push(ge.i/J),F.push(Be.i/J),tf(ge),tf(ge.next),ge=D=Be),ge=ge.next}while(ge!==D);return zu(ge)}function Uh(D,F,J,ge,Oe,Be){var Ze=D;do{for(var ot=Ze.next.next;ot!==Ze.prev;){if(Ze.i!==ot.i&&Wf(Ze,ot)){var pt=gv(Ze,ot);return Ze=zu(Ze,Ze.next),pt=zu(pt,pt.next),ac(Ze,F,J,ge,Oe,Be),void ac(pt,F,J,ge,Oe,Be)}ot=ot.next}Ze=Ze.next}while(Ze!==D)}function Vh(D,F){return D.x-F.x}function _p(D,F){if(F=function(ge,Oe){var Be,Ze=Oe,ot=ge.x,pt=ge.y,Et=-1/0;do{if(pt<=Ze.y&&pt>=Ze.next.y&&Ze.next.y!==Ze.y){var Dt=Ze.x+(pt-Ze.y)*(Ze.next.x-Ze.x)/(Ze.next.y-Ze.y);if(Dt<=ot&&Dt>Et){if(Et=Dt,Dt===ot){if(pt===Ze.y)return Ze;if(pt===Ze.next.y)return Ze.next}Be=Ze.x<Ze.next.x?Ze:Ze.next}}Ze=Ze.next}while(Ze!==Oe);if(!Be)return null;if(ot===Et)return Be;var Vt,Jt=Be,qt=Be.x,dn=Be.y,yn=1/0;Ze=Be;do{ot>=Ze.x&&Ze.x>=qt&&ot!==Ze.x&&ru(pt<dn?ot:Et,pt,qt,dn,pt<dn?Et:ot,pt,Ze.x,Ze.y)&&(Vt=Math.abs(pt-Ze.y)/(ot-Ze.x),Zf(Ze,ge)&&(Vt<yn||Vt===yn&&(Ze.x>Be.x||Ze.x===Be.x&&ug(Be,Ze)))&&(Be=Ze,yn=Vt)),Ze=Ze.next}while(Ze!==Jt);return Be}(D,F)){var J=gv(F,D);zu(F,F.next),zu(J,J.next)}}function ug(D,F){return da(D.prev,D,F.prev)<0&&da(F.next,D,D.next)<0}function Hh(D,F,J,ge,Oe){return(D=1431655765&((D=858993459&((D=252645135&((D=16711935&((D=32767*(D-J)*Oe)|D<<8))|D<<4))|D<<2))|D<<1))|(F=1431655765&((F=858993459&((F=252645135&((F=16711935&((F=32767*(F-ge)*Oe)|F<<8))|F<<4))|F<<2))|F<<1))<<1}function pv(D){var F=D,J=D;do{(F.x<J.x||F.x===J.x&&F.y<J.y)&&(J=F),F=F.next}while(F!==D);return J}function ru(D,F,J,ge,Oe,Be,Ze,ot){return(Oe-Ze)*(F-ot)-(D-Ze)*(Be-ot)>=0&&(D-Ze)*(ge-ot)-(J-Ze)*(F-ot)>=0&&(J-Ze)*(Be-ot)-(Oe-Ze)*(ge-ot)>=0}function Wf(D,F){return D.next.i!==F.i&&D.prev.i!==F.i&&!function(J,ge){var Oe=J;do{if(Oe.i!==J.i&&Oe.next.i!==J.i&&Oe.i!==ge.i&&Oe.next.i!==ge.i&&Gh(Oe,Oe.next,J,ge))return!0;Oe=Oe.next}while(Oe!==J);return!1}(D,F)&&(Zf(D,F)&&Zf(F,D)&&function(J,ge){var Oe=J,Be=!1,Ze=(J.x+ge.x)/2,ot=(J.y+ge.y)/2;do{Oe.y>ot!=Oe.next.y>ot&&Oe.next.y!==Oe.y&&Ze<(Oe.next.x-Oe.x)*(ot-Oe.y)/(Oe.next.y-Oe.y)+Oe.x&&(Be=!Be),Oe=Oe.next}while(Oe!==J);return Be}(D,F)&&(da(D.prev,D,F.prev)||da(D,F.prev,F))||wp(D,F)&&da(D.prev,D,D.next)>0&&da(F.prev,F,F.next)>0)}function da(D,F,J){return(F.y-D.y)*(J.x-F.x)-(F.x-D.x)*(J.y-F.y)}function wp(D,F){return D.x===F.x&&D.y===F.y}function Gh(D,F,J,ge){var Oe=qh(da(D,F,J)),Be=qh(da(D,F,ge)),Ze=qh(da(J,ge,D)),ot=qh(da(J,ge,F));return Oe!==Be&&Ze!==ot||!(0!==Oe||!Tp(D,J,F))||!(0!==Be||!Tp(D,ge,F))||!(0!==Ze||!Tp(J,D,ge))||!(0!==ot||!Tp(J,F,ge))}function Tp(D,F,J){return F.x<=Math.max(D.x,J.x)&&F.x>=Math.min(D.x,J.x)&&F.y<=Math.max(D.y,J.y)&&F.y>=Math.min(D.y,J.y)}function qh(D){return D>0?1:D<0?-1:0}function Zf(D,F){return da(D.prev,D,D.next)<0?da(D,F,D.next)>=0&&da(D,D.prev,F)>=0:da(D,F,D.prev)<0||da(D,D.next,F)<0}function gv(D,F){var J=new nf(D.i,D.x,D.y),ge=new nf(F.i,F.x,F.y),Oe=D.next,Be=F.prev;return D.next=F,F.prev=D,J.next=Oe,Oe.prev=J,ge.next=J,J.prev=ge,Be.next=ge,ge.prev=Be,ge}function mv(D,F,J,ge){var Oe=new nf(D,F,J);return ge?(Oe.next=ge.next,Oe.prev=ge,ge.next.prev=Oe,ge.next=Oe):(Oe.prev=Oe,Oe.next=Oe),Oe}function tf(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function nf(D,F,J){this.i=D,this.x=F,this.y=J,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Mp(D,F,J,ge){for(var Oe=0,Be=F,Ze=J-ge;Be<J;Be+=ge)Oe+=(D[Ze]-D[Be])*(D[Be+1]+D[Ze+1]),Ze=Be;return Oe}function Wh(D,F,J,ge,Oe){Zh(D,F,J||0,ge||D.length-1,Oe||_x)}function Zh(D,F,J,ge,Oe){for(;ge>J;){if(ge-J>600){var Be=ge-J+1,Ze=F-J+1,ot=Math.log(Be),pt=.5*Math.exp(2*ot/3),Et=.5*Math.sqrt(ot*pt*(Be-pt)/Be)*(Ze-Be/2<0?-1:1);Zh(D,F,Math.max(J,Math.floor(F-Ze*pt/Be+Et)),Math.min(ge,Math.floor(F+(Be-Ze)*pt/Be+Et)),Oe)}var Dt=D[F],Vt=J,Jt=ge;for(lc(D,J,F),Oe(D[ge],Dt)>0&&lc(D,J,ge);Vt<Jt;){for(lc(D,Vt,Jt),Vt++,Jt--;Oe(D[Vt],Dt)<0;)Vt++;for(;Oe(D[Jt],Dt)>0;)Jt--}0===Oe(D[J],Dt)?lc(D,J,Jt):lc(D,++Jt,ge),Jt<=F&&(J=Jt+1),F<=Jt&&(ge=Jt-1)}}function lc(D,F,J){var ge=D[F];D[F]=D[J],D[J]=ge}function _x(D,F){return D<F?-1:D>F?1:0}function Yh(D,F){var J=D.length;if(J<=1)return[D];for(var ge,Oe,Be=[],Ze=0;Ze<J;Ze++){var ot=I(D[Ze]);0!==ot&&(D[Ze].area=Math.abs(ot),void 0===Oe&&(Oe=ot<0),Oe===ot<0?(ge&&Be.push(ge),ge=[D[Ze]]):ge.push(D[Ze]))}if(ge&&Be.push(ge),F>1)for(var pt=0;pt<Be.length;pt++)Be[pt].length<=F||(Wh(Be[pt],F,1,Be[pt].length-1,cg),Be[pt]=Be[pt].slice(0,F));return Be}function cg(D,F){return F.area-D.area}function Ap(D,F,J){for(var ge=J.patternDependencies,Oe=!1,Be=0,Ze=F;Be<Ze.length;Be+=1){var ot=Ze[Be].paint.get(D+"-pattern");ot.isConstant()||(Oe=!0);var pt=ot.constantOr(null);pt&&(Oe=!0,ge[pt.to]=!0,ge[pt.from]=!0)}return Oe}function Ul(D,F,J,ge,Oe){for(var Be=Oe.patternDependencies,Ze=0,ot=F;Ze<ot.length;Ze+=1){var pt=ot[Ze],Et=pt.paint.get(D+"-pattern").value;if("constant"!==Et.kind){var Dt=Et.evaluate({zoom:ge-1},J,{},Oe.availableImages),Vt=Et.evaluate({zoom:ge},J,{},Oe.availableImages),Jt=Et.evaluate({zoom:ge+1},J,{},Oe.availableImages);Vt=Vt&&Vt.name?Vt.name:Vt,Jt=Jt&&Jt.name?Jt.name:Jt,Be[Dt=Dt&&Dt.name?Dt.name:Dt]=!0,Be[Vt]=!0,Be[Jt]=!0,J.patterns[pt.id]={min:Dt,mid:Vt,max:Jt}}}return J}Bh.deviation=function(D,F,J,ge){var Oe=F&&F.length,Ze=Math.abs(Mp(D,0,Oe?F[0]*J:D.length,J));if(Oe)for(var ot=0,pt=F.length;ot<pt;ot++)Ze-=Math.abs(Mp(D,F[ot]*J,ot<pt-1?F[ot+1]*J:D.length,J));var Vt=0;for(ot=0;ot<ge.length;ot+=3){var Jt=ge[ot]*J,qt=ge[ot+1]*J,dn=ge[ot+2]*J;Vt+=Math.abs((D[Jt]-D[dn])*(D[qt+1]-D[Jt+1])-(D[Jt]-D[qt])*(D[dn+1]-D[Jt+1]))}return 0===Ze&&0===Vt?0:Math.abs((Vt-Ze)/Ze)},Bh.flatten=function(D){for(var F=D[0][0].length,J={vertices:[],holes:[],dimensions:F},ge=0,Oe=0;Oe<D.length;Oe++){for(var Be=0;Be<D[Oe].length;Be++)for(var Ze=0;Ze<F;Ze++)J.vertices.push(D[Oe][Be][Ze]);Oe>0&&J.holes.push(ge+=D[Oe-1].length)}return J},xp.default=hv;var iu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Na,this.indexArray=new ne,this.indexArray2=new Ye,this.programConfigurations=new mo(lg,D.layers,D.zoom),this.segments=new In,this.segments2=new In,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};iu.prototype.populate=function(D,F,J){this.hasPattern=Ap("fill",this.layers,F);for(var ge=this.layers[0].layout.get("fill-sort-key"),Oe=[],Be=0,Ze=D;Be<Ze.length;Be+=1){var ot=Ze[Be],pt=ot.feature,Et=ot.id,Dt=ot.index,Vt=ot.sourceLayerIndex,Jt=this.layers[0]._featureFilter.needGeometry,qt={type:pt.type,id:Et,properties:pt.properties,geometry:Jt?is(pt):[]};if(this.layers[0]._featureFilter.filter(new eo(this.zoom),qt,J)){Jt||(qt.geometry=is(pt));var dn=ge?ge.evaluate(qt,{},J,F.availableImages):void 0;Oe.push({id:Et,properties:pt.properties,type:pt.type,sourceLayerIndex:Vt,index:Dt,geometry:qt.geometry,patterns:{},sortKey:dn})}}ge&&Oe.sort(function(Nr,Gr){return Nr.sortKey-Gr.sortKey});for(var Fn=0,Nn=Oe;Fn<Nn.length;Fn+=1){var qn=Nn[Fn],tr=qn.geometry,cr=qn.index,vr=qn.sourceLayerIndex;if(this.hasPattern){var Pr=Ul("fill",this.layers,qn,this.zoom,F);this.patternFeatures.push(Pr)}else this.addFeature(qn,tr,cr,J,{});F.featureIndex.insert(D[cr].feature,tr,cr,vr,this.index)}},iu.prototype.update=function(D,F,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,F,this.stateDependentLayers,J)},iu.prototype.addFeatures=function(D,F,J){for(var ge=0,Oe=this.patternFeatures;ge<Oe.length;ge+=1){var Be=Oe[ge];this.addFeature(Be,Be.geometry,Be.index,F,J)}},iu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},iu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},iu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,lg),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},iu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},iu.prototype.addFeature=function(D,F,J,ge,Oe){for(var Be=0,Ze=Yh(F,500);Be<Ze.length;Be+=1){for(var ot=Ze[Be],pt=0,Et=0,Dt=ot;Et<Dt.length;Et+=1)pt+=Dt[Et].length;for(var Vt=this.segments.prepareSegment(pt,this.layoutVertexArray,this.indexArray),Jt=Vt.vertexLength,qt=[],dn=[],yn=0,Fn=ot;yn<Fn.length;yn+=1){var Nn=Fn[yn];if(0!==Nn.length){Nn!==ot[0]&&dn.push(qt.length/2);var qn=this.segments2.prepareSegment(Nn.length,this.layoutVertexArray,this.indexArray2),Zn=qn.vertexLength;this.layoutVertexArray.emplaceBack(Nn[0].x,Nn[0].y),this.indexArray2.emplaceBack(Zn+Nn.length-1,Zn),qt.push(Nn[0].x),qt.push(Nn[0].y);for(var tr=1;tr<Nn.length;tr++)this.layoutVertexArray.emplaceBack(Nn[tr].x,Nn[tr].y),this.indexArray2.emplaceBack(Zn+tr-1,Zn+tr),qt.push(Nn[tr].x),qt.push(Nn[tr].y);qn.vertexLength+=Nn.length,qn.primitiveLength+=Nn.length}}for(var cr=xp(qt,dn),vr=0;vr<cr.length;vr+=3)this.indexArray.emplaceBack(Jt+cr[vr],Jt+cr[vr+1],Jt+cr[vr+2]);Vt.vertexLength+=pt,Vt.primitiveLength+=cr.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,J,Oe,ge)},Br("FillBucket",iu,{omit:["layers","patternFeatures"]});var $h=new ca({"fill-sort-key":new Kr(je.layout_fill["fill-sort-key"])}),kp={paint:new ca({"fill-antialias":new Yr(je.paint_fill["fill-antialias"]),"fill-opacity":new Kr(je.paint_fill["fill-opacity"]),"fill-color":new Kr(je.paint_fill["fill-color"]),"fill-outline-color":new Kr(je.paint_fill["fill-outline-color"]),"fill-translate":new Yr(je.paint_fill["fill-translate"]),"fill-translate-anchor":new Yr(je.paint_fill["fill-translate-anchor"]),"fill-pattern":new tu(je.paint_fill["fill-pattern"])}),layout:$h},fg=function(D){function F(J){D.call(this,J,kp)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.recalculate=function(J,ge){D.prototype.recalculate.call(this,J,ge);var Oe=this.paint._values["fill-outline-color"];"constant"===Oe.value.kind&&void 0===Oe.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},F.prototype.createBucket=function(J){return new iu(J)},F.prototype.queryRadius=function(){return jl(this.paint.get("fill-translate"))},F.prototype.queryIntersectsFeature=function(J,ge,Oe,Be,Ze,ot,pt){return Ba(Gf(J,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ot.angle,pt),Be)},F.prototype.isTileClipped=function(){return!0},F}(fa),Xh=Oo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Kh=rf;function rf(D,F,J,ge,Oe){this.properties={},this.extent=J,this.type=0,this._pbf=D,this._geometry=-1,this._keys=ge,this._values=Oe,D.readFields(hg,this,F)}function hg(D,F,J){1==D?F.id=J.readVarint():2==D?function(ge,Oe){for(var Be=ge.readVarint()+ge.pos;ge.pos<Be;){var Ze=Oe._keys[ge.readVarint()],ot=Oe._values[ge.readVarint()];Oe.properties[Ze]=ot}}(J,F):3==D?F.type=J.readVarint():4==D&&(F._geometry=J.pos)}function dg(D){for(var F,J,ge=0,Oe=0,Be=D.length,Ze=Be-1;Oe<Be;Ze=Oe++)ge+=((J=D[Ze]).x-(F=D[Oe]).x)*(F.y+J.y);return ge}rf.types=["Unknown","Point","LineString","Polygon"],rf.prototype.loadGeometry=function(){var D=this._pbf;D.pos=this._geometry;for(var F,J=D.readVarint()+D.pos,ge=1,Oe=0,Be=0,Ze=0,ot=[];D.pos<J;){if(Oe<=0){var pt=D.readVarint();ge=7&pt,Oe=pt>>3}if(Oe--,1===ge||2===ge)Be+=D.readSVarint(),Ze+=D.readSVarint(),1===ge&&(F&&ot.push(F),F=[]),F.push(new t(Be,Ze));else{if(7!==ge)throw new Error("unknown command "+ge);F&&F.push(F[0].clone())}}return F&&ot.push(F),ot},rf.prototype.bbox=function(){var D=this._pbf;D.pos=this._geometry;for(var F=D.readVarint()+D.pos,J=1,ge=0,Oe=0,Be=0,Ze=1/0,ot=-1/0,pt=1/0,Et=-1/0;D.pos<F;){if(ge<=0){var Dt=D.readVarint();J=7&Dt,ge=Dt>>3}if(ge--,1===J||2===J)(Oe+=D.readSVarint())<Ze&&(Ze=Oe),Oe>ot&&(ot=Oe),(Be+=D.readSVarint())<pt&&(pt=Be),Be>Et&&(Et=Be);else if(7!==J)throw new Error("unknown command "+J)}return[Ze,pt,ot,Et]},rf.prototype.toGeoJSON=function(D,F,J){var ge,Oe,Be=this.extent*Math.pow(2,J),Ze=this.extent*D,ot=this.extent*F,pt=this.loadGeometry(),Et=rf.types[this.type];function Dt(qt){for(var dn=0;dn<qt.length;dn++){var yn=qt[dn];qt[dn]=[360*(yn.x+Ze)/Be-180,360/Math.PI*Math.atan(Math.exp((180-360*(yn.y+ot)/Be)*Math.PI/180))-90]}}switch(this.type){case 1:var Vt=[];for(ge=0;ge<pt.length;ge++)Vt[ge]=pt[ge][0];Dt(pt=Vt);break;case 2:for(ge=0;ge<pt.length;ge++)Dt(pt[ge]);break;case 3:for(pt=function(qt){var dn=qt.length;if(dn<=1)return[qt];for(var yn,Fn,Nn=[],qn=0;qn<dn;qn++){var Zn=dg(qt[qn]);0!==Zn&&(void 0===Fn&&(Fn=Zn<0),Fn===Zn<0?(yn&&Nn.push(yn),yn=[qt[qn]]):yn.push(qt[qn]))}return yn&&Nn.push(yn),Nn}(pt),ge=0;ge<pt.length;ge++)for(Oe=0;Oe<pt[ge].length;Oe++)Dt(pt[ge][Oe])}1===pt.length?pt=pt[0]:Et="Multi"+Et;var Jt={type:"Feature",geometry:{type:Et,coordinates:pt},properties:this.properties};return"id"in this&&(Jt.id=this.id),Jt};var Sp=Ep;function Ep(D,F){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=D,this._keys=[],this._values=[],this._features=[],D.readFields(vv,this,F),this.length=this._features.length}function vv(D,F,J){15===D?F.version=J.readVarint():1===D?F.name=J.readString():5===D?F.extent=J.readVarint():2===D?F._features.push(J.pos):3===D?F._keys.push(J.readString()):4===D&&F._values.push(function(ge){for(var Oe=null,Be=ge.readVarint()+ge.pos;ge.pos<Be;){var Ze=ge.readVarint()>>3;Oe=1===Ze?ge.readString():2===Ze?ge.readFloat():3===Ze?ge.readDouble():4===Ze?ge.readVarint64():5===Ze?ge.readVarint():6===Ze?ge.readSVarint():7===Ze?ge.readBoolean():null}return Oe}(J))}function Jh(D,F,J){if(3===D){var ge=new Sp(J,J.readVarint()+J.pos);ge.length&&(F[ge.name]=ge)}}Ep.prototype.feature=function(D){if(D<0||D>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[D];var F=this._pbf.readVarint()+this._pbf.pos;return new Kh(this._pbf,F,this.extent,this._keys,this._values)};var Vl={VectorTile:function(D,F){this.layers=D.readFields(Jh,{},F)},VectorTileFeature:Kh,VectorTileLayer:Sp},yv=Vl.VectorTileFeature.types,Qh=Math.pow(2,13);function af(D,F,J,ge,Oe,Be,Ze,ot){D.emplaceBack(F,J,2*Math.floor(ge*Qh)+Ze,Oe*Qh*2,Be*Qh*2,Math.round(ot))}var Ps=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new zl,this.indexArray=new ne,this.programConfigurations=new mo(Xh,D.layers,D.zoom),this.segments=new In,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};function xv(D,F){return D.x===F.x&&(D.x<0||D.x>$i)||D.y===F.y&&(D.y<0||D.y>$i)}Ps.prototype.populate=function(D,F,J){this.features=[],this.hasPattern=Ap("fill-extrusion",this.layers,F);for(var ge=0,Oe=D;ge<Oe.length;ge+=1){var Be=Oe[ge],Ze=Be.feature,ot=Be.id,pt=Be.index,Et=Be.sourceLayerIndex,Dt=this.layers[0]._featureFilter.needGeometry,Vt={type:Ze.type,id:ot,properties:Ze.properties,geometry:Dt?is(Ze):[]};if(this.layers[0]._featureFilter.filter(new eo(this.zoom),Vt,J)){var Jt={id:ot,sourceLayerIndex:Et,index:pt,geometry:Dt?Vt.geometry:is(Ze),properties:Ze.properties,type:Ze.type,patterns:{}};void 0!==Ze.id&&(Jt.id=Ze.id),this.hasPattern?this.features.push(Ul("fill-extrusion",this.layers,Jt,this.zoom,F)):this.addFeature(Jt,Jt.geometry,pt,J,{}),F.featureIndex.insert(Ze,Jt.geometry,pt,Et,this.index,!0)}}},Ps.prototype.addFeatures=function(D,F,J){for(var ge=0,Oe=this.features;ge<Oe.length;ge+=1){var Be=Oe[ge];this.addFeature(Be,Be.geometry,Be.index,F,J)}},Ps.prototype.update=function(D,F,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,F,this.stateDependentLayers,J)},Ps.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ps.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ps.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Xh),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Ps.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ps.prototype.addFeature=function(D,F,J,ge,Oe){for(var Be=0,Ze=Yh(F,500);Be<Ze.length;Be+=1){for(var ot=Ze[Be],pt=0,Et=0,Dt=ot;Et<Dt.length;Et+=1)pt+=Dt[Et].length;for(var Vt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Jt=0,qt=ot;Jt<qt.length;Jt+=1){var dn=qt[Jt];if(0!==dn.length&&!((Ei=dn).every(function(mi){return mi.x<0})||Ei.every(function(mi){return mi.x>$i})||Ei.every(function(mi){return mi.y<0})||Ei.every(function(mi){return mi.y>$i})))for(var yn=0,Fn=0;Fn<dn.length;Fn++){var Nn=dn[Fn];if(Fn>=1){var qn=dn[Fn-1];if(!xv(Nn,qn)){Vt.vertexLength+4>In.MAX_VERTEX_ARRAY_LENGTH&&(Vt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Zn=Nn.sub(qn)._perp()._unit(),tr=qn.dist(Nn);yn+tr>32768&&(yn=0),af(this.layoutVertexArray,Nn.x,Nn.y,Zn.x,Zn.y,0,0,yn),af(this.layoutVertexArray,Nn.x,Nn.y,Zn.x,Zn.y,0,1,yn),af(this.layoutVertexArray,qn.x,qn.y,Zn.x,Zn.y,0,0,yn+=tr),af(this.layoutVertexArray,qn.x,qn.y,Zn.x,Zn.y,0,1,yn);var cr=Vt.vertexLength;this.indexArray.emplaceBack(cr,cr+2,cr+1),this.indexArray.emplaceBack(cr+1,cr+2,cr+3),Vt.vertexLength+=4,Vt.primitiveLength+=2}}}}if(Vt.vertexLength+pt>In.MAX_VERTEX_ARRAY_LENGTH&&(Vt=this.segments.prepareSegment(pt,this.layoutVertexArray,this.indexArray)),"Polygon"===yv[D.type]){for(var vr=[],Pr=[],Sr=Vt.vertexLength,Nr=0,Gr=ot;Nr<Gr.length;Nr+=1){var hi=Gr[Nr];if(0!==hi.length){hi!==ot[0]&&Pr.push(vr.length/2);for(var Zr=0;Zr<hi.length;Zr++){var oi=hi[Zr];af(this.layoutVertexArray,oi.x,oi.y,0,0,1,1,0),vr.push(oi.x),vr.push(oi.y)}}}for(var ei=xp(vr,Pr),Vr=0;Vr<ei.length;Vr+=3)this.indexArray.emplaceBack(Sr+ei[Vr],Sr+ei[Vr+2],Sr+ei[Vr+1]);Vt.primitiveLength+=ei.length/3,Vt.vertexLength+=pt}}var Ei;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,J,Oe,ge)},Br("FillExtrusionBucket",Ps,{omit:["layers","features"]});var pg={paint:new ca({"fill-extrusion-opacity":new Yr(je["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Kr(je["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Yr(je["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Yr(je["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new tu(je["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Kr(je["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Kr(je["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Yr(je["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Cp=function(D){function F(J){D.call(this,J,pg)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.createBucket=function(J){return new Ps(J)},F.prototype.queryRadius=function(){return jl(this.paint.get("fill-extrusion-translate"))},F.prototype.is3D=function(){return!0},F.prototype.queryIntersectsFeature=function(J,ge,Oe,Be,Ze,ot,pt,Et){var Dt=Gf(J,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ot.angle,pt),Vt=this.paint.get("fill-extrusion-height").evaluate(ge,Oe),Jt=this.paint.get("fill-extrusion-base").evaluate(ge,Oe),qt=function(yn,Fn,Nn,qn){for(var Zn=[],tr=0,cr=yn;tr<cr.length;tr+=1){var vr=cr[tr],Pr=[vr.x,vr.y,0,1];qf(Pr,Pr,Fn),Zn.push(new t(Pr[0]/Pr[3],Pr[1]/Pr[3]))}return Zn}(Dt,Et),dn=function(yn,Fn,Nn,qn){for(var Zn=[],tr=[],cr=qn[8]*Fn,vr=qn[9]*Fn,Pr=qn[10]*Fn,Sr=qn[11]*Fn,Nr=qn[8]*Nn,Gr=qn[9]*Nn,hi=qn[10]*Nn,Zr=qn[11]*Nn,oi=0,ei=yn;oi<ei.length;oi+=1){for(var Vr=[],Ei=[],mi=0,vo=ei[oi];mi<vo.length;mi+=1){var ii=vo[mi],oo=ii.x,xo=ii.y,ko=qn[0]*oo+qn[4]*xo+qn[12],So=qn[1]*oo+qn[5]*xo+qn[13],bo=qn[2]*oo+qn[6]*xo+qn[14],ga=qn[3]*oo+qn[7]*xo+qn[15],Ro=bo+Pr,Fo=ga+Sr,ma=ko+Nr,ja=So+Gr,Fs=bo+hi,$a=ga+Zr,Da=new t((ko+cr)/Fo,(So+vr)/Fo);Da.z=Ro/Fo,Vr.push(Da);var Xa=new t(ma/$a,ja/$a);Xa.z=Fs/$a,Ei.push(Xa)}Zn.push(Vr),tr.push(Ei)}return[Zn,tr]}(Be,Jt,Vt,Et);return function(yn,Fn,Nn){var qn=1/0;Ba(Nn,Fn)&&(qn=Dp(Nn,Fn[0]));for(var Zn=0;Zn<Fn.length;Zn++)for(var tr=Fn[Zn],cr=yn[Zn],vr=0;vr<tr.length-1;vr++){var Pr=tr[vr],Gr=[Pr,tr[vr+1],cr[vr+1],cr[vr],Pr];vs(Nn,Gr)&&(qn=Math.min(qn,Dp(Nn,Gr)))}return qn!==1/0&&qn}(dn[0],dn[1],qt)},F}(fa);function Yf(D,F){return D.x*F.x+D.y*F.y}function Dp(D,F){if(1===D.length){for(var J,ge=0,Oe=F[ge++];!J||Oe.equals(J);)if(!(J=F[ge++]))return 1/0;for(;ge<F.length;ge++){var Be=F[ge],Ze=D[0],ot=J.sub(Oe),pt=Be.sub(Oe),Et=Ze.sub(Oe),Dt=Yf(ot,ot),Vt=Yf(ot,pt),Jt=Yf(pt,pt),qt=Yf(Et,ot),dn=Yf(Et,pt),yn=Dt*Jt-Vt*Vt,Fn=(Jt*qt-Vt*dn)/yn,Nn=(Dt*dn-Vt*qt)/yn,Zn=Oe.z*(1-Fn-Nn)+J.z*Fn+Be.z*Nn;if(isFinite(Zn))return Zn}return 1/0}for(var tr=1/0,cr=0,vr=F;cr<vr.length;cr+=1)tr=Math.min(tr,vr[cr].z);return tr}var $f=Oo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,sf=Vl.VectorTileFeature.types,lf=Math.cos(Math.PI/180*37.5),Sc=Math.pow(2,14)/.5,ys=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Bl,this.indexArray=new ne,this.programConfigurations=new mo($f,D.layers,D.zoom),this.segments=new In,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};ys.prototype.populate=function(D,F,J){this.hasPattern=Ap("line",this.layers,F);for(var ge=this.layers[0].layout.get("line-sort-key"),Oe=[],Be=0,Ze=D;Be<Ze.length;Be+=1){var ot=Ze[Be],pt=ot.feature,Et=ot.id,Dt=ot.index,Vt=ot.sourceLayerIndex,Jt=this.layers[0]._featureFilter.needGeometry,qt={type:pt.type,id:Et,properties:pt.properties,geometry:Jt?is(pt):[]};if(this.layers[0]._featureFilter.filter(new eo(this.zoom),qt,J)){Jt||(qt.geometry=is(pt));var dn=ge?ge.evaluate(qt,{},J):void 0;Oe.push({id:Et,properties:pt.properties,type:pt.type,sourceLayerIndex:Vt,index:Dt,geometry:qt.geometry,patterns:{},sortKey:dn})}}ge&&Oe.sort(function(Nr,Gr){return Nr.sortKey-Gr.sortKey});for(var Fn=0,Nn=Oe;Fn<Nn.length;Fn+=1){var qn=Nn[Fn],tr=qn.geometry,cr=qn.index,vr=qn.sourceLayerIndex;if(this.hasPattern){var Pr=Ul("line",this.layers,qn,this.zoom,F);this.patternFeatures.push(Pr)}else this.addFeature(qn,tr,cr,J,{});F.featureIndex.insert(D[cr].feature,tr,cr,vr,this.index)}},ys.prototype.update=function(D,F,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,F,this.stateDependentLayers,J)},ys.prototype.addFeatures=function(D,F,J){for(var ge=0,Oe=this.patternFeatures;ge<Oe.length;ge+=1){var Be=Oe[ge];this.addFeature(Be,Be.geometry,Be.index,F,J)}},ys.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ys.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ys.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,$f),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},ys.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ys.prototype.addFeature=function(D,F,J,ge,Oe){for(var Be=this.layers[0].layout,Ze=Be.get("line-join").evaluate(D,{}),ot=Be.get("line-cap"),pt=Be.get("line-miter-limit"),Et=Be.get("line-round-limit"),Dt=0,Vt=F;Dt<Vt.length;Dt+=1)this.addLine(Vt[Dt],D,Ze,ot,pt,Et);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,J,Oe,ge)},ys.prototype.addLine=function(D,F,J,ge,Oe,Be){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,F.properties&&F.properties.hasOwnProperty("mapbox_clip_start")&&F.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+F.properties.mapbox_clip_start,this.clipEnd=+F.properties.mapbox_clip_end;for(var Ze=0;Ze<D.length-1;Ze++)this.totalDistance+=D[Ze].dist(D[Ze+1]);this.updateScaledDistance()}for(var ot="Polygon"===sf[F.type],pt=D.length;pt>=2&&D[pt-1].equals(D[pt-2]);)pt--;for(var Et=0;Et<pt-1&&D[Et].equals(D[Et+1]);)Et++;if(!(pt<(ot?3:2))){"bevel"===J&&(Oe=1.05);var Dt,Vt=this.overscaling<=16?15*$i/(512*this.overscaling):0,Jt=this.segments.prepareSegment(10*pt,this.layoutVertexArray,this.indexArray),qt=void 0,dn=void 0,yn=void 0,Fn=void 0;this.e1=this.e2=-1,ot&&(Fn=D[Et].sub(Dt=D[pt-2])._unit()._perp());for(var Nn=Et;Nn<pt;Nn++)if(!(dn=Nn===pt-1?ot?D[Et+1]:void 0:D[Nn+1])||!D[Nn].equals(dn)){Fn&&(yn=Fn),Dt&&(qt=Dt),Dt=D[Nn],Fn=dn?dn.sub(Dt)._unit()._perp():yn;var qn=(yn=yn||Fn).add(Fn);0===qn.x&&0===qn.y||qn._unit();var Zn=yn.x*Fn.x+yn.y*Fn.y,tr=qn.x*Fn.x+qn.y*Fn.y,cr=0!==tr?1/tr:1/0,vr=2*Math.sqrt(2-2*tr),Pr=tr<lf&&qt&&dn,Sr=yn.x*Fn.y-yn.y*Fn.x>0;if(Pr&&Nn>Et){var Nr=Dt.dist(qt);if(Nr>2*Vt){var Gr=Dt.sub(Dt.sub(qt)._mult(Vt/Nr)._round());this.updateDistance(qt,Gr),this.addCurrentVertex(Gr,yn,0,0,Jt),qt=Gr}}var hi=qt&&dn,Zr=hi?J:ot?"butt":ge;if(hi&&"round"===Zr&&(cr<Be?Zr="miter":cr<=2&&(Zr="fakeround")),"miter"===Zr&&cr>Oe&&(Zr="bevel"),"bevel"===Zr&&(cr>2&&(Zr="flipbevel"),cr<Oe&&(Zr="miter")),qt&&this.updateDistance(qt,Dt),"miter"===Zr)qn._mult(cr),this.addCurrentVertex(Dt,qn,0,0,Jt);else if("flipbevel"===Zr){if(cr>100)qn=Fn.mult(-1);else{var oi=cr*yn.add(Fn).mag()/yn.sub(Fn).mag();qn._perp()._mult(oi*(Sr?-1:1))}this.addCurrentVertex(Dt,qn,0,0,Jt),this.addCurrentVertex(Dt,qn.mult(-1),0,0,Jt)}else if("bevel"===Zr||"fakeround"===Zr){var ei=-Math.sqrt(cr*cr-1),Vr=Sr?ei:0,Ei=Sr?0:ei;if(qt&&this.addCurrentVertex(Dt,yn,Vr,Ei,Jt),"fakeround"===Zr)for(var mi=Math.round(180*vr/Math.PI/20),vo=1;vo<mi;vo++){var ii=vo/mi;if(.5!==ii){var oo=ii-.5;ii+=ii*oo*(ii-1)*((1.0904+Zn*(Zn*(3.55645-1.43519*Zn)-3.2452))*oo*oo+(.848013+Zn*(.215638*Zn-1.06021)))}var xo=Fn.sub(yn)._mult(ii)._add(yn)._unit()._mult(Sr?-1:1);this.addHalfVertex(Dt,xo.x,xo.y,!1,Sr,0,Jt)}dn&&this.addCurrentVertex(Dt,Fn,-Vr,-Ei,Jt)}else if("butt"===Zr)this.addCurrentVertex(Dt,qn,0,0,Jt);else if("square"===Zr){var ko=qt?1:-1;this.addCurrentVertex(Dt,qn,ko,ko,Jt)}else"round"===Zr&&(qt&&(this.addCurrentVertex(Dt,yn,0,0,Jt),this.addCurrentVertex(Dt,yn,1,1,Jt,!0)),dn&&(this.addCurrentVertex(Dt,Fn,-1,-1,Jt,!0),this.addCurrentVertex(Dt,Fn,0,0,Jt)));if(Pr&&Nn<pt-1){var So=Dt.dist(dn);if(So>2*Vt){var bo=Dt.add(dn.sub(Dt)._mult(Vt/So)._round());this.updateDistance(Dt,bo),this.addCurrentVertex(bo,Fn,0,0,Jt),Dt=bo}}}}},ys.prototype.addCurrentVertex=function(D,F,J,ge,Oe,Be){void 0===Be&&(Be=!1);var pt=F.y*ge-F.x,Et=-F.y-F.x*ge;this.addHalfVertex(D,F.x+F.y*J,F.y-F.x*J,Be,!1,J,Oe),this.addHalfVertex(D,pt,Et,Be,!0,-ge,Oe),this.distance>Sc/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(D,F,J,ge,Oe,Be))},ys.prototype.addHalfVertex=function(D,F,J,ge,Oe,Be,Ze){var Et=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((D.x<<1)+(ge?1:0),(D.y<<1)+(Oe?1:0),Math.round(63*F)+128,Math.round(63*J)+128,1+(0===Be?0:Be<0?-1:1)|(63&Et)<<2,Et>>6);var Dt=Ze.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Dt),Ze.primitiveLength++),Oe?this.e2=Dt:this.e1=Dt},ys.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Sc-1):this.distance},ys.prototype.updateDistance=function(D,F){this.distance+=D.dist(F),this.updateScaledDistance()},Br("LineBucket",ys,{omit:["layers","patternFeatures"]});var Ip=new ca({"line-cap":new Yr(je.layout_line["line-cap"]),"line-join":new Kr(je.layout_line["line-join"]),"line-miter-limit":new Yr(je.layout_line["line-miter-limit"]),"line-round-limit":new Yr(je.layout_line["line-round-limit"]),"line-sort-key":new Kr(je.layout_line["line-sort-key"])}),Ec={paint:new ca({"line-opacity":new Kr(je.paint_line["line-opacity"]),"line-color":new Kr(je.paint_line["line-color"]),"line-translate":new Yr(je.paint_line["line-translate"]),"line-translate-anchor":new Yr(je.paint_line["line-translate-anchor"]),"line-width":new Kr(je.paint_line["line-width"]),"line-gap-width":new Kr(je.paint_line["line-gap-width"]),"line-offset":new Kr(je.paint_line["line-offset"]),"line-blur":new Kr(je.paint_line["line-blur"]),"line-dasharray":new ua(je.paint_line["line-dasharray"]),"line-pattern":new tu(je.paint_line["line-pattern"]),"line-gradient":new Zs(je.paint_line["line-gradient"])}),layout:Ip},wx=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.possiblyEvaluate=function(J,ge){return ge=new eo(Math.floor(ge.zoom),{now:ge.now,fadeDuration:ge.fadeDuration,zoomHistory:ge.zoomHistory,transition:ge.transition}),D.prototype.possiblyEvaluate.call(this,J,ge)},F.prototype.evaluate=function(J,ge,Oe,Be){return ge=c({},ge,{zoom:Math.floor(ge.zoom)}),D.prototype.evaluate.call(this,J,ge,Oe,Be)},F}(Kr),gg=new wx(Ec.paint.properties["line-width"].specification);gg.useIntegerZoom=!0;var Tx=function(D){function F(J){D.call(this,J,Ec)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._handleSpecialPaintPropertyUpdate=function(J){"line-gradient"===J&&this._updateGradient()},F.prototype._updateGradient=function(){this.gradient=sg(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},F.prototype.recalculate=function(J,ge){D.prototype.recalculate.call(this,J,ge),this.paint._values["line-floorwidth"]=gg.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,J)},F.prototype.createBucket=function(J){return new ys(J)},F.prototype.queryRadius=function(J){var ge=J,Oe=bv(Ya("line-width",this,ge),Ya("line-gap-width",this,ge)),Be=Ya("line-offset",this,ge);return Oe/2+Math.abs(Be)+jl(this.paint.get("line-translate"))},F.prototype.queryIntersectsFeature=function(J,ge,Oe,Be,Ze,ot,pt){var Et=Gf(J,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ot.angle,pt),Dt=pt/2*bv(this.paint.get("line-width").evaluate(ge,Oe),this.paint.get("line-gap-width").evaluate(ge,Oe)),Vt=this.paint.get("line-offset").evaluate(ge,Oe);return Vt&&(Be=function(Jt,qt){for(var dn=[],yn=new t(0,0),Fn=0;Fn<Jt.length;Fn++){for(var Nn=Jt[Fn],qn=[],Zn=0;Zn<Nn.length;Zn++){var cr=Nn[Zn],vr=Nn[Zn+1],Pr=0===Zn?yn:cr.sub(Nn[Zn-1])._unit()._perp(),Sr=Zn===Nn.length-1?yn:vr.sub(cr)._unit()._perp(),Nr=Pr._add(Sr)._unit();Nr._mult(1/(Nr.x*Sr.x+Nr.y*Sr.y)),qn.push(Nr._mult(qt)._add(cr))}dn.push(qn)}return dn}(Be,Vt*pt)),function(Jt,qt,dn){for(var yn=0;yn<qt.length;yn++){var Fn=qt[yn];if(Jt.length>=3)for(var Nn=0;Nn<Fn.length;Nn++)if(Ac(Jt,Fn[Nn]))return!0;if(Ph(Jt,Fn,dn))return!0}return!1}(Et,Be,Dt)},F.prototype.isTileClipped=function(){return!0},F}(fa);function bv(D,F){return F>0?F+2*D:D}var mg=Oo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Mx=Oo([{name:"a_projected_pos",components:3,type:"Float32"}],4),Ax=(Oo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Oo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),_v=(Oo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Oo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Xf=Oo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function kx(D,F,J){return D.sections.forEach(function(ge){var Oe,Ze,ot;ge.text=(Oe=ge.text,Ze=J,"uppercase"===(ot=F.layout.get("text-transform").evaluate(Ze,{}))?Oe=Oe.toLocaleUpperCase():"lowercase"===ot&&(Oe=Oe.toLocaleLowerCase()),Co.applyArabicShaping&&(Oe=Co.applyArabicShaping(Oe)),Oe)}),D}Oo([{name:"triangle",components:3,type:"Uint16"}]),Oo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Oo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Oo([{type:"Float32",name:"offsetX"}]),Oo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var ed={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Xi=24,vg=function(D,F,J,ge,Oe){var Be,Ze,ot=8*Oe-ge-1,pt=(1<<ot)-1,Et=pt>>1,Dt=-7,Vt=J?Oe-1:0,Jt=J?-1:1,qt=D[F+Vt];for(Vt+=Jt,Be=qt&(1<<-Dt)-1,qt>>=-Dt,Dt+=ot;Dt>0;Be=256*Be+D[F+Vt],Vt+=Jt,Dt-=8);for(Ze=Be&(1<<-Dt)-1,Be>>=-Dt,Dt+=ge;Dt>0;Ze=256*Ze+D[F+Vt],Vt+=Jt,Dt-=8);if(0===Be)Be=1-Et;else{if(Be===pt)return Ze?NaN:1/0*(qt?-1:1);Ze+=Math.pow(2,ge),Be-=Et}return(qt?-1:1)*Ze*Math.pow(2,Be-ge)},uf=function(D,F,J,ge,Oe,Be){var Ze,ot,pt,Et=8*Be-Oe-1,Dt=(1<<Et)-1,Vt=Dt>>1,Jt=23===Oe?Math.pow(2,-24)-Math.pow(2,-77):0,qt=ge?0:Be-1,dn=ge?1:-1,yn=F<0||0===F&&1/F<0?1:0;for(F=Math.abs(F),isNaN(F)||F===1/0?(ot=isNaN(F)?1:0,Ze=Dt):(Ze=Math.floor(Math.log(F)/Math.LN2),F*(pt=Math.pow(2,-Ze))<1&&(Ze--,pt*=2),(F+=Ze+Vt>=1?Jt/pt:Jt*Math.pow(2,1-Vt))*pt>=2&&(Ze++,pt/=2),Ze+Vt>=Dt?(ot=0,Ze=Dt):Ze+Vt>=1?(ot=(F*pt-1)*Math.pow(2,Oe),Ze+=Vt):(ot=F*Math.pow(2,Vt-1)*Math.pow(2,Oe),Ze=0));Oe>=8;D[J+qt]=255&ot,qt+=dn,ot/=256,Oe-=8);for(Ze=Ze<<Oe|ot,Et+=Oe;Et>0;D[J+qt]=255&Ze,qt+=dn,Ze/=256,Et-=8);D[J+qt-dn]|=128*yn},td=Ii;function Ii(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0),this.pos=0,this.type=0,this.length=this.buf.length}Ii.Varint=0,Ii.Fixed64=1,Ii.Bytes=2,Ii.Fixed32=5;var Cc=4294967296,Lp=1/Cc,Kf=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function _l(D){return D.type===Ii.Bytes?D.readVarint()+D.pos:D.pos+1}function wv(D,F,J){var ge=F<=16383?1:F<=2097151?2:F<=268435455?3:Math.floor(Math.log(F)/(7*Math.LN2));J.realloc(ge);for(var Oe=J.pos-1;Oe>=D;Oe--)J.buf[Oe+ge]=J.buf[Oe]}function Tv(D,F){for(var J=0;J<D.length;J++)F.writeVarint(D[J])}function Sx(D,F){for(var J=0;J<D.length;J++)F.writeSVarint(D[J])}function wl(D,F){for(var J=0;J<D.length;J++)F.writeFloat(D[J])}function Pp(D,F){for(var J=0;J<D.length;J++)F.writeDouble(D[J])}function ff(D,F){for(var J=0;J<D.length;J++)F.writeBoolean(D[J])}function Ex(D,F){for(var J=0;J<D.length;J++)F.writeFixed32(D[J])}function yg(D,F){for(var J=0;J<D.length;J++)F.writeSFixed32(D[J])}function Mv(D,F){for(var J=0;J<D.length;J++)F.writeFixed64(D[J])}function Av(D,F){for(var J=0;J<D.length;J++)F.writeSFixed64(D[J])}function nd(D,F){return(D[F]|D[F+1]<<8|D[F+2]<<16)+16777216*D[F+3]}function hf(D,F,J){D[J]=F,D[J+1]=F>>>8,D[J+2]=F>>>16,D[J+3]=F>>>24}function xg(D,F){return(D[F]|D[F+1]<<8|D[F+2]<<16)+(D[F+3]<<24)}Ii.prototype={destroy:function(){this.buf=null},readFields:function(D,F,J){for(J=J||this.length;this.pos<J;){var ge=this.readVarint(),Oe=ge>>3,Be=this.pos;this.type=7&ge,D(Oe,F,this),this.pos===Be&&this.skip(ge)}return F},readMessage:function(D,F){return this.readFields(D,F,this.readVarint()+this.pos)},readFixed32:function(){var D=nd(this.buf,this.pos);return this.pos+=4,D},readSFixed32:function(){var D=xg(this.buf,this.pos);return this.pos+=4,D},readFixed64:function(){var D=nd(this.buf,this.pos)+nd(this.buf,this.pos+4)*Cc;return this.pos+=8,D},readSFixed64:function(){var D=nd(this.buf,this.pos)+xg(this.buf,this.pos+4)*Cc;return this.pos+=8,D},readFloat:function(){var D=vg(this.buf,this.pos,!0,23,4);return this.pos+=4,D},readDouble:function(){var D=vg(this.buf,this.pos,!0,52,8);return this.pos+=8,D},readVarint:function(D){var F,J,ge=this.buf;return F=127&(J=ge[this.pos++]),J<128?F:(F|=(127&(J=ge[this.pos++]))<<7,J<128?F:(F|=(127&(J=ge[this.pos++]))<<14,J<128?F:(F|=(127&(J=ge[this.pos++]))<<21,J<128?F:function(Oe,Be,Ze){var ot,pt,Et=Ze.buf;if(ot=(112&(pt=Et[Ze.pos++]))>>4,pt<128||(ot|=(127&(pt=Et[Ze.pos++]))<<3,pt<128)||(ot|=(127&(pt=Et[Ze.pos++]))<<10,pt<128)||(ot|=(127&(pt=Et[Ze.pos++]))<<17,pt<128)||(ot|=(127&(pt=Et[Ze.pos++]))<<24,pt<128)||(ot|=(1&(pt=Et[Ze.pos++]))<<31,pt<128))return function cf(D,F,J){return J?4294967296*F+(D>>>0):4294967296*(F>>>0)+(D>>>0)}(Oe,ot,Be);throw new Error("Expected varint not more than 10 bytes")}(F|=(15&(J=ge[this.pos]))<<28,D,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return D%2==1?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var D=this.readVarint()+this.pos,F=this.pos;return this.pos=D,D-F>=12&&Kf?Kf.decode(this.buf.subarray(F,D)):function(J,ge,Oe){for(var Be="",Ze=ge;Ze<Oe;){var ot,pt,Et,Dt=J[Ze],Vt=null,Jt=Dt>239?4:Dt>223?3:Dt>191?2:1;if(Ze+Jt>Oe)break;1===Jt?Dt<128&&(Vt=Dt):2===Jt?128==(192&(ot=J[Ze+1]))&&(Vt=(31&Dt)<<6|63&ot)<=127&&(Vt=null):3===Jt?(pt=J[Ze+2],128==(192&(ot=J[Ze+1]))&&128==(192&pt)&&((Vt=(15&Dt)<<12|(63&ot)<<6|63&pt)<=2047||Vt>=55296&&Vt<=57343)&&(Vt=null)):4===Jt&&(pt=J[Ze+2],Et=J[Ze+3],128==(192&(ot=J[Ze+1]))&&128==(192&pt)&&128==(192&Et)&&((Vt=(15&Dt)<<18|(63&ot)<<12|(63&pt)<<6|63&Et)<=65535||Vt>=1114112)&&(Vt=null)),null===Vt?(Vt=65533,Jt=1):Vt>65535&&(Vt-=65536,Be+=String.fromCharCode(Vt>>>10&1023|55296),Vt=56320|1023&Vt),Be+=String.fromCharCode(Vt),Ze+=Jt}return Be}(this.buf,F,D)},readBytes:function(){var D=this.readVarint()+this.pos,F=this.buf.subarray(this.pos,D);return this.pos=D,F},readPackedVarint:function(D,F){if(this.type!==Ii.Bytes)return D.push(this.readVarint(F));var J=_l(this);for(D=D||[];this.pos<J;)D.push(this.readVarint(F));return D},readPackedSVarint:function(D){if(this.type!==Ii.Bytes)return D.push(this.readSVarint());var F=_l(this);for(D=D||[];this.pos<F;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==Ii.Bytes)return D.push(this.readBoolean());var F=_l(this);for(D=D||[];this.pos<F;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==Ii.Bytes)return D.push(this.readFloat());var F=_l(this);for(D=D||[];this.pos<F;)D.push(this.readFloat());return D},readPackedDouble:function(D){if(this.type!==Ii.Bytes)return D.push(this.readDouble());var F=_l(this);for(D=D||[];this.pos<F;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==Ii.Bytes)return D.push(this.readFixed32());var F=_l(this);for(D=D||[];this.pos<F;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==Ii.Bytes)return D.push(this.readSFixed32());var F=_l(this);for(D=D||[];this.pos<F;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==Ii.Bytes)return D.push(this.readFixed64());var F=_l(this);for(D=D||[];this.pos<F;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==Ii.Bytes)return D.push(this.readSFixed64());var F=_l(this);for(D=D||[];this.pos<F;)D.push(this.readSFixed64());return D},skip:function(D){var F=7&D;if(F===Ii.Varint)for(;this.buf[this.pos++]>127;);else if(F===Ii.Bytes)this.pos=this.readVarint()+this.pos;else if(F===Ii.Fixed32)this.pos+=4;else{if(F!==Ii.Fixed64)throw new Error("Unimplemented type: "+F);this.pos+=8}},writeTag:function(D,F){this.writeVarint(D<<3|F)},realloc:function(D){for(var F=this.length||16;F<this.pos+D;)F*=2;if(F!==this.length){var J=new Uint8Array(F);J.set(this.buf),this.buf=J,this.length=F}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4),hf(this.buf,D,this.pos),this.pos+=4},writeSFixed32:function(D){this.realloc(4),hf(this.buf,D,this.pos),this.pos+=4},writeFixed64:function(D){this.realloc(8),hf(this.buf,-1&D,this.pos),hf(this.buf,Math.floor(D*Lp),this.pos+4),this.pos+=8},writeSFixed64:function(D){this.realloc(8),hf(this.buf,-1&D,this.pos),hf(this.buf,Math.floor(D*Lp),this.pos+4),this.pos+=8},writeVarint:function(D){(D=+D||0)>268435455||D<0?function(F,J){var ge,Oe,Be,ot;if(F>=0?(ge=F%4294967296|0,Oe=F/4294967296|0):(Oe=~(-F/4294967296),4294967295^(ge=~(-F%4294967296))?ge=ge+1|0:(ge=0,Oe=Oe+1|0)),F>=0x10000000000000000||F<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");J.realloc(10),Be=ge,(ot=J).buf[ot.pos++]=127&Be|128,Be>>>=7,ot.buf[ot.pos++]=127&Be|128,Be>>>=7,ot.buf[ot.pos++]=127&Be|128,Be>>>=7,ot.buf[ot.pos++]=127&Be|128,ot.buf[ot.pos]=127&(Be>>>=7),function(Be,Ze){var ot=(7&Be)<<4;Ze.buf[Ze.pos++]|=ot|((Be>>>=3)?128:0),Be&&(Ze.buf[Ze.pos++]=127&Be|((Be>>>=7)?128:0),Be&&(Ze.buf[Ze.pos++]=127&Be|((Be>>>=7)?128:0),Be&&(Ze.buf[Ze.pos++]=127&Be|((Be>>>=7)?128:0),Be&&(Ze.buf[Ze.pos++]=127&Be|((Be>>>=7)?128:0),Be&&(Ze.buf[Ze.pos++]=127&Be)))))}(Oe,J)}(D,this):(this.realloc(4),this.buf[this.pos++]=127&D|(D>127?128:0),D<=127||(this.buf[this.pos++]=127&(D>>>=7)|(D>127?128:0),D<=127||(this.buf[this.pos++]=127&(D>>>=7)|(D>127?128:0),D<=127||(this.buf[this.pos++]=D>>>7&127))))},writeSVarint:function(D){this.writeVarint(D<0?2*-D-1:2*D)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D),this.realloc(4*D.length),this.pos++;var F=this.pos;this.pos=function(ge,Oe,Be){for(var Ze,ot,pt=0;pt<Oe.length;pt++){if((Ze=Oe.charCodeAt(pt))>55295&&Ze<57344){if(!ot){Ze>56319||pt+1===Oe.length?(ge[Be++]=239,ge[Be++]=191,ge[Be++]=189):ot=Ze;continue}if(Ze<56320){ge[Be++]=239,ge[Be++]=191,ge[Be++]=189,ot=Ze;continue}Ze=ot-55296<<10|Ze-56320|65536,ot=null}else ot&&(ge[Be++]=239,ge[Be++]=191,ge[Be++]=189,ot=null);Ze<128?ge[Be++]=Ze:(Ze<2048?ge[Be++]=Ze>>6|192:(Ze<65536?ge[Be++]=Ze>>12|224:(ge[Be++]=Ze>>18|240,ge[Be++]=Ze>>12&63|128),ge[Be++]=Ze>>6&63|128),ge[Be++]=63&Ze|128)}return Be}(this.buf,D,this.pos);var J=this.pos-F;J>=128&&wv(F,J,this),this.pos=F-1,this.writeVarint(J),this.pos+=J},writeFloat:function(D){this.realloc(4),uf(this.buf,D,this.pos,!0,23,4),this.pos+=4},writeDouble:function(D){this.realloc(8),uf(this.buf,D,this.pos,!0,52,8),this.pos+=8},writeBytes:function(D){var F=D.length;this.writeVarint(F),this.realloc(F);for(var J=0;J<F;J++)this.buf[this.pos++]=D[J]},writeRawMessage:function(D,F){this.pos++;var J=this.pos;D(F,this);var ge=this.pos-J;ge>=128&&wv(J,ge,this),this.pos=J-1,this.writeVarint(ge),this.pos+=ge},writeMessage:function(D,F,J){this.writeTag(D,Ii.Bytes),this.writeRawMessage(F,J)},writePackedVarint:function(D,F){F.length&&this.writeMessage(D,Tv,F)},writePackedSVarint:function(D,F){F.length&&this.writeMessage(D,Sx,F)},writePackedBoolean:function(D,F){F.length&&this.writeMessage(D,ff,F)},writePackedFloat:function(D,F){F.length&&this.writeMessage(D,wl,F)},writePackedDouble:function(D,F){F.length&&this.writeMessage(D,Pp,F)},writePackedFixed32:function(D,F){F.length&&this.writeMessage(D,Ex,F)},writePackedSFixed32:function(D,F){F.length&&this.writeMessage(D,yg,F)},writePackedFixed64:function(D,F){F.length&&this.writeMessage(D,Mv,F)},writePackedSFixed64:function(D,F){F.length&&this.writeMessage(D,Av,F)},writeBytesField:function(D,F){this.writeTag(D,Ii.Bytes),this.writeBytes(F)},writeFixed32Field:function(D,F){this.writeTag(D,Ii.Fixed32),this.writeFixed32(F)},writeSFixed32Field:function(D,F){this.writeTag(D,Ii.Fixed32),this.writeSFixed32(F)},writeFixed64Field:function(D,F){this.writeTag(D,Ii.Fixed64),this.writeFixed64(F)},writeSFixed64Field:function(D,F){this.writeTag(D,Ii.Fixed64),this.writeSFixed64(F)},writeVarintField:function(D,F){this.writeTag(D,Ii.Varint),this.writeVarint(F)},writeSVarintField:function(D,F){this.writeTag(D,Ii.Varint),this.writeSVarint(F)},writeStringField:function(D,F){this.writeTag(D,Ii.Bytes),this.writeString(F)},writeFloatField:function(D,F){this.writeTag(D,Ii.Fixed32),this.writeFloat(F)},writeDoubleField:function(D,F){this.writeTag(D,Ii.Fixed64),this.writeDouble(F)},writeBooleanField:function(D,F){this.writeVarintField(D,!!F)}};var Op=3;function Rp(D,F,J){1===D&&J.readMessage(rd,F)}function rd(D,F,J){if(3===D){var ge=J.readMessage(kv,{}),Ze=ge.width,ot=ge.height,pt=ge.left,Et=ge.top,Dt=ge.advance;F.push({id:ge.id,bitmap:new oc({width:Ze+2*Op,height:ot+2*Op},ge.bitmap),metrics:{width:Ze,height:ot,left:pt,top:Et,advance:Dt}})}}function kv(D,F,J){1===D?F.id=J.readVarint():2===D?F.bitmap=J.readBytes():3===D?F.width=J.readVarint():4===D?F.height=J.readVarint():5===D?F.left=J.readSVarint():6===D?F.top=J.readSVarint():7===D&&(F.advance=J.readVarint())}var Jf=Op;function bg(D){for(var F=0,J=0,ge=0,Oe=D;ge<Oe.length;ge+=1){var Be=Oe[ge];F+=Be.w*Be.h,J=Math.max(J,Be.w)}D.sort(function(yn,Fn){return Fn.h-yn.h});for(var Ze=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(F/.95)),J),h:1/0}],ot=0,pt=0,Et=0,Dt=D;Et<Dt.length;Et+=1)for(var Vt=Dt[Et],Jt=Ze.length-1;Jt>=0;Jt--){var qt=Ze[Jt];if(!(Vt.w>qt.w||Vt.h>qt.h)){if(Vt.x=qt.x,Vt.y=qt.y,pt=Math.max(pt,Vt.y+Vt.h),ot=Math.max(ot,Vt.x+Vt.w),Vt.w===qt.w&&Vt.h===qt.h){var dn=Ze.pop();Jt<Ze.length&&(Ze[Jt]=dn)}else Vt.h===qt.h?(qt.x+=Vt.w,qt.w-=Vt.w):Vt.w===qt.w?(qt.y+=Vt.h,qt.h-=Vt.h):(Ze.push({x:qt.x+Vt.w,y:qt.y,w:qt.w-Vt.w,h:Vt.h}),qt.y+=Vt.h,qt.h-=Vt.h);break}}return{w:ot,h:pt,fill:F/(ot*pt)||0}}var id=function(D,F){var J=F.pixelRatio,ge=F.version,Oe=F.stretchX,Be=F.stretchY,Ze=F.content;this.paddedRect=D,this.pixelRatio=J,this.stretchX=Oe,this.stretchY=Be,this.content=Ze,this.version=ge},df={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};df.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},df.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},df.tlbr.get=function(){return this.tl.concat(this.br)},df.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(id.prototype,df);var Dc=function(D,F){var J={},ge={};this.haveRenderCallbacks=[];var Oe=[];this.addImages(D,J,Oe),this.addImages(F,ge,Oe);var Be=bg(Oe),pt=new os({width:Be.w||1,height:Be.h||1});for(var Et in D){var Dt=D[Et],Vt=J[Et].paddedRect;os.copy(Dt.data,pt,{x:0,y:0},{x:Vt.x+1,y:Vt.y+1},Dt.data)}for(var Jt in F){var qt=F[Jt],dn=ge[Jt].paddedRect,yn=dn.x+1,Fn=dn.y+1,Nn=qt.data.width,qn=qt.data.height;os.copy(qt.data,pt,{x:0,y:0},{x:yn,y:Fn},qt.data),os.copy(qt.data,pt,{x:0,y:qn-1},{x:yn,y:Fn-1},{width:Nn,height:1}),os.copy(qt.data,pt,{x:0,y:0},{x:yn,y:Fn+qn},{width:Nn,height:1}),os.copy(qt.data,pt,{x:Nn-1,y:0},{x:yn-1,y:Fn},{width:1,height:qn}),os.copy(qt.data,pt,{x:0,y:0},{x:yn+Nn,y:Fn},{width:1,height:qn})}this.image=pt,this.iconPositions=J,this.patternPositions=ge};Dc.prototype.addImages=function(D,F,J){for(var ge in D){var Oe=D[ge],Be={x:0,y:0,w:Oe.data.width+2,h:Oe.data.height+2};J.push(Be),F[ge]=new id(Be,Oe),Oe.hasRenderCallback&&this.haveRenderCallbacks.push(ge)}},Dc.prototype.patchUpdatedImages=function(D,F){for(var J in D.dispatchRenderCallbacks(this.haveRenderCallbacks),D.updatedImages)this.patchUpdatedImage(this.iconPositions[J],D.getImage(J),F),this.patchUpdatedImage(this.patternPositions[J],D.getImage(J),F)},Dc.prototype.patchUpdatedImage=function(D,F,J){if(D&&F&&D.version!==F.version){D.version=F.version;var ge=D.tl;J.update(F.data,void 0,{x:ge[0],y:ge[1]})}},Br("ImagePosition",id),Br("ImageAtlas",Dc);var xs={horizontal:1,vertical:2,horizontalOnly:3},gf=function(){this.scale=1,this.fontStack="",this.imageName=null};gf.forText=function(D,F){var J=new gf;return J.scale=D||1,J.fontStack=F,J},gf.forImage=function(D){var F=new gf;return F.imageName=D,F};var ss=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Bu(D,F,J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt,qt,dn,yn){var Fn,Nn=ss.fromFeature(D,Oe);Vt===xs.vertical&&Nn.verticalizePunctuation();var qn=Co.processBidirectionalText,Zn=Co.processStyledBidirectionalText;if(qn&&1===Nn.sections.length){Fn=[];for(var tr=0,cr=qn(Nn.toString(),Np(Nn,Et,Be,F,ge,qt,dn));tr<cr.length;tr+=1){var vr=cr[tr],Pr=new ss;Pr.text=vr,Pr.sections=Nn.sections;for(var Sr=0;Sr<vr.length;Sr++)Pr.sectionIndex.push(0);Fn.push(Pr)}}else if(Zn){Fn=[];for(var Nr=0,Gr=Zn(Nn.text,Nn.sectionIndex,Np(Nn,Et,Be,F,ge,qt,dn));Nr<Gr.length;Nr+=1){var hi=Gr[Nr],Zr=new ss;Zr.text=hi[0],Zr.sectionIndex=hi[1],Zr.sections=Nn.sections,Fn.push(Zr)}}else Fn=function(Vr,Ei){for(var mi=[],vo=Vr.text,ii=0,oo=0,xo=Ei;oo<xo.length;oo+=1){var ko=xo[oo];mi.push(Vr.substring(ii,ko)),ii=ko}return ii<vo.length&&mi.push(Vr.substring(ii,vo.length)),mi}(Nn,Np(Nn,Et,Be,F,ge,qt,dn));var oi=[],ei={positionedLines:oi,text:Nn.toString(),top:Dt[1],bottom:Dt[1],left:Dt[0],right:Dt[0],writingMode:Vt,iconsInText:!1,verticalizable:!1};return function(Vr,Ei,mi,vo,ii,oo,xo,ko,So,bo,ga,Ro){for(var Fo=0,ma=-17,ja=0,Fs=0,$a="right"===ko?1:"left"===ko?0:.5,Da=0,Xa=0,Ua=ii;Xa<Ua.length;Xa+=1){var va=Ua[Xa];va.trim();var wi=va.getMaxScale(),Wi=(wi-1)*Xi,$o={positionedGlyphs:[],lineOffset:0};Vr.positionedLines[Da]=$o;var yo=$o.positionedGlyphs,Do=0;if(va.length()){for(var Qi=0;Qi<va.length();Qi++){var Ri=va.getSection(Qi),jo=va.getSectionIndex(Qi),ls=va.getCharCode(Qi),Ns=0,bs=null,xu=null,dc=null,ya=Xi,Tl=!(So===xs.horizontal||!ga&&!ml(ls)||ga&&(uc[ls]||qo(ls)));if(Ri.imageName){var lu=vo[Ri.imageName];if(!lu)continue;dc=Ri.imageName,Vr.iconsInText=Vr.iconsInText||!0,xu=lu.paddedRect;var uu=lu.displaySize;Ri.scale=Ri.scale*Xi/Ro,Ns=Wi+(Xi-uu[1]*Ri.scale),ya=(bs={width:uu[0],height:uu[1],left:1,top:-Jf,advance:Tl?uu[1]:uu[0]}).advance;var pc=Tl?uu[0]*Ri.scale-Xi*wi:uu[1]*Ri.scale-Xi*wi;pc>0&&pc>Do&&(Do=pc)}else{var pd=mi[Ri.fontStack],Fc=pd&&pd[ls];if(Fc&&Fc.rect)xu=Fc.rect,bs=Fc.metrics;else{var gd=Ei[Ri.fontStack],sh=gd&&gd[ls];if(!sh)continue;bs=sh.metrics}Ns=(wi-Ri.scale)*Xi}Tl?(Vr.verticalizable=!0,yo.push({glyph:ls,imageName:dc,x:Fo,y:ma+Ns,vertical:Tl,scale:Ri.scale,fontStack:Ri.fontStack,sectionIndex:jo,metrics:bs,rect:xu}),Fo+=ya*Ri.scale+bo):(yo.push({glyph:ls,imageName:dc,x:Fo,y:ma+Ns,vertical:Tl,scale:Ri.scale,fontStack:Ri.fontStack,sectionIndex:jo,metrics:bs,rect:xu}),Fo+=bs.advance*Ri.scale+bo)}0!==yo.length&&(ja=Math.max(Fo-bo,ja),od(yo,0,yo.length-1,$a,Do)),Fo=0;var Nc=oo*wi+Do;$o.lineOffset=Math.max(Do,Wi),ma+=Nc,Fs=Math.max(Nc,Fs),++Da}else ma+=oo,++Da}var Mf=ma- -17,Af=zp(xo),vd=Af.horizontalAlign,na=Af.verticalAlign;(function(Kp,lh,gc,zc,yd,xd,kf,bd,uh){var wd,_d=(lh-gc)*yd;wd=xd!==kf?-bd*zc- -17:(-zc*uh+.5)*kf;for(var cu=0,ai=Kp;cu<ai.length;cu+=1)for(var fu=0,Sf=ai[cu].positionedGlyphs;fu<Sf.length;fu+=1){var Ef=Sf[fu];Ef.x+=_d,Ef.y+=wd}})(Vr.positionedLines,$a,vd,na,ja,Fs,oo,Mf,ii.length),Vr.top+=-na*Mf,Vr.bottom=Vr.top+Mf,Vr.left+=-vd*ja,Vr.right=Vr.left+ja}(ei,F,J,ge,Fn,Ze,ot,pt,Vt,Et,Jt,yn),!function(Vr){for(var Ei=0,mi=Vr;Ei<mi.length;Ei+=1)if(0!==mi[Ei].positionedGlyphs.length)return!1;return!0}(oi)&&ei}ss.fromFeature=function(D,F){for(var J=new ss,ge=0;ge<D.sections.length;ge++){var Oe=D.sections[ge];Oe.image?J.addImageSection(Oe):J.addTextSection(Oe,F)}return J},ss.prototype.length=function(){return this.text.length},ss.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},ss.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},ss.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},ss.prototype.verticalizePunctuation=function(){this.text=function(D){for(var F="",J=0;J<D.length;J++){var ge=D.charCodeAt(J+1)||null,Oe=D.charCodeAt(J-1)||null;ge&&Oa(ge)&&!ed[D[J+1]]||Oe&&Oa(Oe)&&!ed[D[J-1]]||!ed[D[J]]?F+=D[J]:F+=ed[D[J]]}return F}(this.text)},ss.prototype.trim=function(){for(var D=0,F=0;F<this.text.length&&uc[this.text.charCodeAt(F)];F++)D++;for(var J=this.text.length,ge=this.text.length-1;ge>=0&&ge>=D&&uc[this.text.charCodeAt(ge)];ge--)J--;this.text=this.text.substring(D,J),this.sectionIndex=this.sectionIndex.slice(D,J)},ss.prototype.substring=function(D,F){var J=new ss;return J.text=this.text.substring(D,F),J.sectionIndex=this.sectionIndex.slice(D,F),J.sections=this.sections,J},ss.prototype.toString=function(){return this.text},ss.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(F,J){return Math.max(F,D.sections[J].scale)},0)},ss.prototype.addTextSection=function(D,F){this.text+=D.text,this.sections.push(gf.forText(D.scale,D.fontStack||F));for(var J=this.sections.length-1,ge=0;ge<D.text.length;++ge)this.sectionIndex.push(J)},ss.prototype.addImageSection=function(D){var F=D.image?D.image.name:"";if(0!==F.length){var J=this.getNextImageSectionCharCode();J?(this.text+=String.fromCharCode(J),this.sections.push(gf.forImage(F)),this.sectionIndex.push(this.sections.length-1)):E("Reached maximum number of images 6401")}else E("Can't add FormattedSection with an empty image.")},ss.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var uc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Js={};function Sv(D,F,J,ge,Oe,Be){if(F.imageName){var Ze=ge[F.imageName];return Ze?Ze.displaySize[0]*F.scale*Xi/Be+Oe:0}var ot=J[F.fontStack],pt=ot&&ot[D];return pt?pt.metrics.advance*F.scale+Oe:0}function Fp(D,F,J,ge){var Oe=Math.pow(D-F,2);return ge?D<F?Oe/2:2*Oe:Oe+Math.abs(J)*J}function Ev(D,F,J){var ge=0;return 10===D&&(ge-=1e4),J&&(ge+=150),40!==D&&65288!==D||(ge+=50),41!==F&&65289!==F||(ge+=50),ge}function Cv(D,F,J,ge,Oe,Be){for(var Ze=null,ot=Fp(F,J,Oe,Be),pt=0,Et=ge;pt<Et.length;pt+=1){var Dt=Et[pt],Vt=Fp(F-Dt.x,J,Oe,Be)+Dt.badness;Vt<=ot&&(Ze=Dt,ot=Vt)}return{index:D,x:F,priorBreak:Ze,badness:ot}}function _g(D){return D?_g(D.priorBreak).concat(D.index):[]}function Np(D,F,J,ge,Oe,Be,Ze){if("point"!==Be)return[];if(!D)return[];for(var ot=[],pt=function(Fn,Nn,qn,Zn,tr,cr){for(var vr=0,Pr=0;Pr<Fn.length();Pr++){var Sr=Fn.getSection(Pr);vr+=Sv(Fn.getCharCode(Pr),Sr,Zn,tr,Nn,cr)}return vr/Math.max(1,Math.ceil(vr/qn))}(D,F,J,ge,Oe,Ze),Et=D.text.indexOf("\u200b")>=0,Dt=0,Vt=0;Vt<D.length();Vt++){var Jt=D.getSection(Vt),qt=D.getCharCode(Vt);if(uc[qt]||(Dt+=Sv(qt,Jt,ge,Oe,F,Ze)),Vt<D.length()-1){var dn=!((yn=qt)<11904||!(zr["Bopomofo Extended"](yn)||zr.Bopomofo(yn)||zr["CJK Compatibility Forms"](yn)||zr["CJK Compatibility Ideographs"](yn)||zr["CJK Compatibility"](yn)||zr["CJK Radicals Supplement"](yn)||zr["CJK Strokes"](yn)||zr["CJK Symbols and Punctuation"](yn)||zr["CJK Unified Ideographs Extension A"](yn)||zr["CJK Unified Ideographs"](yn)||zr["Enclosed CJK Letters and Months"](yn)||zr["Halfwidth and Fullwidth Forms"](yn)||zr.Hiragana(yn)||zr["Ideographic Description Characters"](yn)||zr["Kangxi Radicals"](yn)||zr["Katakana Phonetic Extensions"](yn)||zr.Katakana(yn)||zr["Vertical Forms"](yn)||zr["Yi Radicals"](yn)||zr["Yi Syllables"](yn)));(Js[qt]||dn||Jt.imageName)&&ot.push(Cv(Vt+1,Dt,pt,ot,Ev(qt,D.getCharCode(Vt+1),dn&&Et),!1))}}var yn;return _g(Cv(D.length(),Dt,pt,ot,0,!0))}function zp(D){var F=.5,J=.5;switch(D){case"right":case"top-right":case"bottom-right":F=1;break;case"left":case"top-left":case"bottom-left":F=0}switch(D){case"bottom":case"bottom-right":case"bottom-left":J=1;break;case"top":case"top-right":case"top-left":J=0}return{horizontalAlign:F,verticalAlign:J}}function od(D,F,J,ge,Oe){if(ge||Oe)for(var Be=D[J],ot=(D[J].x+Be.metrics.advance*Be.scale)*ge,pt=F;pt<=J;pt++)D[pt].x-=ot,D[pt].y+=Oe}function Bp(D,F,J,ge,Oe,Be){var Ze,ot=D.image;if(ot.content){var pt=ot.content,Et=ot.pixelRatio||1;Ze=[pt[0]/Et,pt[1]/Et,ot.displaySize[0]-pt[2]/Et,ot.displaySize[1]-pt[3]/Et]}var Dt,Vt,Jt,qt,dn=F.left*Be,yn=F.right*Be;"width"===J||"both"===J?(qt=Oe[0]+dn-ge[3],Vt=Oe[0]+yn+ge[1]):Vt=(qt=Oe[0]+(dn+yn-ot.displaySize[0])/2)+ot.displaySize[0];var Fn=F.top*Be,Nn=F.bottom*Be;return"height"===J||"both"===J?(Dt=Oe[1]+Fn-ge[0],Jt=Oe[1]+Nn+ge[2]):Jt=(Dt=Oe[1]+(Fn+Nn-ot.displaySize[1])/2)+ot.displaySize[1],{image:ot,top:Dt,right:Vt,bottom:Jt,left:qt,collisionPadding:Ze}}Js[10]=!0,Js[32]=!0,Js[38]=!0,Js[40]=!0,Js[41]=!0,Js[43]=!0,Js[45]=!0,Js[47]=!0,Js[173]=!0,Js[183]=!0,Js[8203]=!0,Js[8208]=!0,Js[8211]=!0,Js[8231]=!0;var mf=function(D){function F(J,ge,Oe,Be){D.call(this,J,ge),this.angle=Oe,void 0!==Be&&(this.segment=Be)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.clone=function(){return new F(this.x,this.y,this.angle,this.segment)},F}(t);Br("Anchor",mf);var Hl=128;function wg(D,F){var J=F.expression;if("constant"===J.kind)return{kind:"constant",layoutSize:J.evaluate(new eo(D+1))};if("source"===J.kind)return{kind:"source"};for(var ge=J.zoomStops,Oe=J.interpolationType,Be=0;Be<ge.length&&ge[Be]<=D;)Be++;for(var Ze=Be=Math.max(0,Be-1);Ze<ge.length&&ge[Ze]<D+1;)Ze++;Ze=Math.min(ge.length-1,Ze);var ot=ge[Be],pt=ge[Ze];return"composite"===J.kind?{kind:"composite",minZoom:ot,maxZoom:pt,interpolationType:Oe}:{kind:"camera",minZoom:ot,maxZoom:pt,minSize:J.evaluate(new eo(ot)),maxSize:J.evaluate(new eo(pt)),interpolationType:Oe}}function jp(D,F,J){var ge=F.uSize,Be=J.lowerSize;return"source"===D.kind?Be/Hl:"composite"===D.kind?sr(Be/Hl,J.upperSize/Hl,F.uSizeT):ge}function Dv(D,F){var J=0,ge=0;if("constant"===D.kind)ge=D.layoutSize;else if("source"!==D.kind){var Oe=D.interpolationType,ot=Oe?a(Eo.interpolationFactor(Oe,F,D.minZoom,D.maxZoom),0,1):0;"camera"===D.kind?ge=sr(D.minSize,D.maxSize,ot):J=ot}return{uSizeT:J,uSize:ge}}var Iv=Object.freeze({__proto__:null,getSizeData:wg,evaluateSizeForFeature:jp,evaluateSizeForZoom:Dv,SIZE_PACK_FACTOR:Hl});function Tg(D,F,J,ge,Oe){if(void 0===F.segment)return!0;for(var Be=F,Ze=F.segment+1,ot=0;ot>-J/2;){if(--Ze<0)return!1;ot-=D[Ze].dist(Be),Be=D[Ze]}ot+=D[Ze].dist(D[Ze+1]),Ze++;for(var pt=[],Et=0;ot<J/2;){var Vt=D[Ze],Jt=D[Ze+1];if(!Jt)return!1;var qt=D[Ze-1].angleTo(Vt)-Vt.angleTo(Jt);for(qt=Math.abs((qt+3*Math.PI)%(2*Math.PI)-Math.PI),pt.push({distance:ot,angleDelta:qt}),Et+=qt;ot-pt[0].distance>ge;)Et-=pt.shift().angleDelta;if(Et>Oe)return!1;Ze++,ot+=Vt.dist(Jt)}return!0}function ad(D){for(var F=0,J=0;J<D.length-1;J++)F+=D[J].dist(D[J+1]);return F}function Lv(D,F,J){return D?.6*F*J:0}function Pv(D,F){return Math.max(D?D.right-D.left:0,F?F.right-F.left:0)}function Up(D,F,J,ge,Oe,Be){for(var Ze=Lv(J,Oe,Be),ot=Pv(J,ge)*Be,pt=0,Et=ad(D)/2,Dt=0;Dt<D.length-1;Dt++){var Vt=D[Dt],Jt=D[Dt+1],qt=Vt.dist(Jt);if(pt+qt>Et){var dn=(Et-pt)/qt,yn=sr(Vt.x,Jt.x,dn),Fn=sr(Vt.y,Jt.y,dn),Nn=new mf(yn,Fn,Jt.angleTo(Vt),Dt);return Nn._round(),!Ze||Tg(D,Nn,ot,Ze,F)?Nn:void 0}pt+=qt}}function Cx(D,F,J,ge,Oe,Be,Ze,ot,pt){var Et=Lv(ge,Be,Ze),Dt=Pv(ge,Oe),Vt=Dt*Ze,Jt=0===D[0].x||D[0].x===pt||0===D[0].y||D[0].y===pt;return F-Vt<F/4&&(F=Vt+F/4),Ov(D,Jt?F/2*ot%F:(Dt/2+2*Be)*Ze*ot%F,F,Et,J,Vt,Jt,!1,pt)}function Ov(D,F,J,ge,Oe,Be,Ze,ot,pt){for(var Et=Be/2,Dt=ad(D),Vt=0,Jt=F-J,qt=[],dn=0;dn<D.length-1;dn++){for(var yn=D[dn],Fn=D[dn+1],Nn=yn.dist(Fn),qn=Fn.angleTo(yn);Jt+J<Vt+Nn;){var Zn=((Jt+=J)-Vt)/Nn,tr=sr(yn.x,Fn.x,Zn),cr=sr(yn.y,Fn.y,Zn);if(tr>=0&&tr<pt&&cr>=0&&cr<pt&&Jt-Et>=0&&Jt+Et<=Dt){var vr=new mf(tr,cr,qn,dn);vr._round(),ge&&!Tg(D,vr,Be,ge,Oe)||qt.push(vr)}}Vt+=Nn}return ot||qt.length||Ze||(qt=Ov(D,Vt/2,J,ge,Oe,Be,Ze,!0,pt)),qt}function Rv(D,F,J,ge,Oe){for(var Be=[],Ze=0;Ze<D.length;Ze++)for(var ot=D[Ze],pt=void 0,Et=0;Et<ot.length-1;Et++){var Dt=ot[Et],Vt=ot[Et+1];Dt.x<F&&Vt.x<F||(Dt.x<F?Dt=new t(F,Dt.y+(F-Dt.x)/(Vt.x-Dt.x)*(Vt.y-Dt.y))._round():Vt.x<F&&(Vt=new t(F,Dt.y+(F-Dt.x)/(Vt.x-Dt.x)*(Vt.y-Dt.y))._round()),Dt.y<J&&Vt.y<J||(Dt.y<J?Dt=new t(Dt.x+(J-Dt.y)/(Vt.y-Dt.y)*(Vt.x-Dt.x),J)._round():Vt.y<J&&(Vt=new t(Dt.x+(J-Dt.y)/(Vt.y-Dt.y)*(Vt.x-Dt.x),J)._round()),Dt.x>=ge&&Vt.x>=ge||(Dt.x>=ge?Dt=new t(ge,Dt.y+(ge-Dt.x)/(Vt.x-Dt.x)*(Vt.y-Dt.y))._round():Vt.x>=ge&&(Vt=new t(ge,Dt.y+(ge-Dt.x)/(Vt.x-Dt.x)*(Vt.y-Dt.y))._round()),Dt.y>=Oe&&Vt.y>=Oe||(Dt.y>=Oe?Dt=new t(Dt.x+(Oe-Dt.y)/(Vt.y-Dt.y)*(Vt.x-Dt.x),Oe)._round():Vt.y>=Oe&&(Vt=new t(Dt.x+(Oe-Dt.y)/(Vt.y-Dt.y)*(Vt.x-Dt.x),Oe)._round()),pt&&Dt.equals(pt[pt.length-1])||Be.push(pt=[Dt]),pt.push(Vt)))))}return Be}var Qf=1;function Fv(D,F,J,ge){var Oe=[],Be=D.image,Ze=Be.pixelRatio,ot=Be.paddedRect.w-2*Qf,pt=Be.paddedRect.h-2*Qf,Et=D.right-D.left,Dt=D.bottom-D.top,Vt=Be.stretchX||[[0,ot]],Jt=Be.stretchY||[[0,pt]],qt=function(oo,xo){return oo+xo[1]-xo[0]},dn=Vt.reduce(qt,0),yn=Jt.reduce(qt,0),Fn=ot-dn,Nn=pt-yn,qn=0,Zn=dn,tr=0,cr=yn,vr=0,Pr=Fn,Sr=0,Nr=Nn;if(Be.content&&ge){var Gr=Be.content;qn=sd(Vt,0,Gr[0]),tr=sd(Jt,0,Gr[1]),Zn=sd(Vt,Gr[0],Gr[2]),cr=sd(Jt,Gr[1],Gr[3]),vr=Gr[0]-qn,Sr=Gr[1]-tr,Pr=Gr[2]-Gr[0]-Zn,Nr=Gr[3]-Gr[1]-cr}var hi=function(oo,xo,ko,So){var bo=vf(oo.stretch-qn,Zn,Et,D.left),ga=th(oo.fixed-vr,Pr,oo.stretch,dn),Ro=vf(xo.stretch-tr,cr,Dt,D.top),Fo=th(xo.fixed-Sr,Nr,xo.stretch,yn),ma=vf(ko.stretch-qn,Zn,Et,D.left),ja=th(ko.fixed-vr,Pr,ko.stretch,dn),Fs=vf(So.stretch-tr,cr,Dt,D.top),$a=th(So.fixed-Sr,Nr,So.stretch,yn),Da=new t(bo,Ro),Xa=new t(ma,Ro),Ua=new t(ma,Fs),va=new t(bo,Fs),wi=new t(ga/Ze,Fo/Ze),Wi=new t(ja/Ze,$a/Ze),$o=F*Math.PI/180;if($o){var yo=Math.sin($o),Do=Math.cos($o),Qi=[Do,-yo,yo,Do];Da._matMult(Qi),Xa._matMult(Qi),va._matMult(Qi),Ua._matMult(Qi)}var Ri=oo.stretch+oo.fixed,ls=xo.stretch+xo.fixed;return{tl:Da,tr:Xa,bl:va,br:Ua,tex:{x:Be.paddedRect.x+Qf+Ri,y:Be.paddedRect.y+Qf+ls,w:ko.stretch+ko.fixed-Ri,h:So.stretch+So.fixed-ls},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:wi,pixelOffsetBR:Wi,minFontScaleX:Pr/Ze/Et,minFontScaleY:Nr/Ze/Dt,isSDF:J}};if(ge&&(Be.stretchX||Be.stretchY))for(var Zr=eh(Vt,Fn,dn),oi=eh(Jt,Nn,yn),ei=0;ei<Zr.length-1;ei++)for(var Vr=Zr[ei],Ei=Zr[ei+1],mi=0;mi<oi.length-1;mi++)Oe.push(hi(Vr,oi[mi],Ei,oi[mi+1]));else Oe.push(hi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:ot+1},{fixed:0,stretch:pt+1}));return Oe}function sd(D,F,J){for(var ge=0,Oe=0,Be=D;Oe<Be.length;Oe+=1){var Ze=Be[Oe];ge+=Math.max(F,Math.min(J,Ze[1]))-Math.max(F,Math.min(J,Ze[0]))}return ge}function eh(D,F,J){for(var ge=[{fixed:-Qf,stretch:0}],Oe=0,Be=D;Oe<Be.length;Oe+=1){var Ze=Be[Oe],ot=Ze[0],pt=Ze[1],Et=ge[ge.length-1];ge.push({fixed:ot-Et.stretch,stretch:Et.stretch}),ge.push({fixed:ot-Et.stretch,stretch:Et.stretch+(pt-ot)})}return ge.push({fixed:F+Qf,stretch:J}),ge}function vf(D,F,J,ge){return D/F*J+ge}function th(D,F,J,ge){return D-F*J/ge}var nh=function(D,F,J,ge,Oe,Be,Ze,ot,pt,Et){if(this.boxStartIndex=D.length,pt){var Dt=Be.top,Vt=Be.bottom,Jt=Be.collisionPadding;Jt&&(Dt-=Jt[1],Vt+=Jt[3]);var qt=Vt-Dt;qt>0&&(qt=Math.max(10,qt),this.circleDiameter=qt)}else{var dn=Be.top*Ze-ot,yn=Be.bottom*Ze+ot,Fn=Be.left*Ze-ot,Nn=Be.right*Ze+ot,qn=Be.collisionPadding;if(qn&&(Fn-=qn[0]*Ze,dn-=qn[1]*Ze,Nn+=qn[2]*Ze,yn+=qn[3]*Ze),Et){var Zn=new t(Fn,dn),tr=new t(Nn,dn),cr=new t(Fn,yn),vr=new t(Nn,yn),Pr=Et*Math.PI/180;Zn._rotate(Pr),tr._rotate(Pr),cr._rotate(Pr),vr._rotate(Pr),Fn=Math.min(Zn.x,tr.x,cr.x,vr.x),Nn=Math.max(Zn.x,tr.x,cr.x,vr.x),dn=Math.min(Zn.y,tr.y,cr.y,vr.y),yn=Math.max(Zn.y,tr.y,cr.y,vr.y)}D.emplaceBack(F.x,F.y,Fn,dn,Nn,yn,J,ge,Oe)}this.boxEndIndex=D.length},Ic=function(D,F){if(void 0===D&&(D=[]),void 0===F&&(F=yf),this.data=D,this.length=this.data.length,this.compare=F,this.length>0)for(var J=(this.length>>1)-1;J>=0;J--)this._down(J)};function yf(D,F){return D<F?-1:D>F?1:0}function Mg(D,F,J){void 0===F&&(F=1),void 0===J&&(J=!1);for(var ge=1/0,Oe=1/0,Be=-1/0,Ze=-1/0,ot=D[0],pt=0;pt<ot.length;pt++){var Et=ot[pt];(!pt||Et.x<ge)&&(ge=Et.x),(!pt||Et.y<Oe)&&(Oe=Et.y),(!pt||Et.x>Be)&&(Be=Et.x),(!pt||Et.y>Ze)&&(Ze=Et.y)}var Jt=Math.min(Be-ge,Ze-Oe),qt=Jt/2,dn=new Ic([],Ag);if(0===Jt)return new t(ge,Oe);for(var yn=ge;yn<Be;yn+=Jt)for(var Fn=Oe;Fn<Ze;Fn+=Jt)dn.push(new ju(yn+qt,Fn+qt,qt,D));for(var Nn=function(tr){for(var cr=0,vr=0,Pr=0,Sr=tr[0],Nr=0,Gr=Sr.length,hi=Gr-1;Nr<Gr;hi=Nr++){var Zr=Sr[Nr],oi=Sr[hi],ei=Zr.x*oi.y-oi.x*Zr.y;vr+=(Zr.x+oi.x)*ei,Pr+=(Zr.y+oi.y)*ei,cr+=3*ei}return new ju(vr/cr,Pr/cr,0,tr)}(D),qn=dn.length;dn.length;){var Zn=dn.pop();(Zn.d>Nn.d||!Nn.d)&&(Nn=Zn,J&&console.log("found best %d after %d probes",Math.round(1e4*Zn.d)/1e4,qn)),Zn.max-Nn.d<=F||(dn.push(new ju(Zn.p.x-(qt=Zn.h/2),Zn.p.y-qt,qt,D)),dn.push(new ju(Zn.p.x+qt,Zn.p.y-qt,qt,D)),dn.push(new ju(Zn.p.x-qt,Zn.p.y+qt,qt,D)),dn.push(new ju(Zn.p.x+qt,Zn.p.y+qt,qt,D)),qn+=4)}return J&&(console.log("num probes: "+qn),console.log("best distance: "+Nn.d)),Nn.p}function Ag(D,F){return F.max-D.max}function ju(D,F,J,ge){this.p=new t(D,F),this.h=J,this.d=function(Oe,Be){for(var Ze=!1,ot=1/0,pt=0;pt<Be.length;pt++)for(var Et=Be[pt],Dt=0,Vt=Et.length,Jt=Vt-1;Dt<Vt;Jt=Dt++){var qt=Et[Dt],dn=Et[Jt];qt.y>Oe.y!=dn.y>Oe.y&&Oe.x<(dn.x-qt.x)*(Oe.y-qt.y)/(dn.y-qt.y)+qt.x&&(Ze=!Ze),ot=Math.min(ot,Fu(Oe,qt,dn))}return(Ze?1:-1)*Math.sqrt(ot)}(this.p,ge),this.max=this.d+this.h*Math.SQRT2}Ic.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},Ic.prototype.pop=function(){if(0!==this.length){var D=this.data[0],F=this.data.pop();return this.length--,this.length>0&&(this.data[0]=F,this._down(0)),D}},Ic.prototype.peek=function(){return this.data[0]},Ic.prototype._up=function(D){for(var F=this.data,J=this.compare,ge=F[D];D>0;){var Oe=D-1>>1,Be=F[Oe];if(J(ge,Be)>=0)break;F[D]=Be,D=Oe}F[D]=ge},Ic.prototype._down=function(D){for(var F=this.data,J=this.compare,ge=this.length>>1,Oe=F[D];D<ge;){var Be=1+(D<<1),Ze=F[Be],ot=Be+1;if(ot<this.length&&J(F[ot],Ze)<0&&(Be=ot,Ze=F[ot]),J(Ze,Oe)>=0)break;F[D]=Ze,D=Be}F[D]=Oe};var Os=Number.POSITIVE_INFINITY;function kg(D,F){return F[1]!==Os?function(J,ge,Oe){var Be=0,Ze=0;switch(ge=Math.abs(ge),Oe=Math.abs(Oe),J){case"top-right":case"top-left":case"top":Ze=Oe-7;break;case"bottom-right":case"bottom-left":case"bottom":Ze=7-Oe}switch(J){case"top-right":case"bottom-right":case"right":Be=-ge;break;case"top-left":case"bottom-left":case"left":Be=ge}return[Be,Ze]}(D,F[0],F[1]):function(J,ge){var Oe=0,Be=0;ge<0&&(ge=0);var Ze=ge/Math.sqrt(2);switch(J){case"top-right":case"top-left":Be=Ze-7;break;case"bottom-right":case"bottom-left":Be=7-Ze;break;case"bottom":Be=7-ge;break;case"top":Be=ge-7}switch(J){case"top-right":case"bottom-right":Oe=-Ze;break;case"top-left":case"bottom-left":Oe=Ze;break;case"left":Oe=ge;break;case"right":Oe=-ge}return[Oe,Be]}(D,F[0])}function Vp(D){switch(D){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Vu=32640;function ld(D,F,J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt,qt,dn){var yn=function(tr,cr,vr,Pr,Sr,Nr,Gr,hi){for(var Zr=Pr.layout.get("text-rotate").evaluate(Nr,{})*Math.PI/180,oi=[],ei=0,Vr=cr.positionedLines;ei<Vr.length;ei+=1)for(var Ei=Vr[ei],mi=0,vo=Ei.positionedGlyphs;mi<vo.length;mi+=1){var ii=vo[mi];if(ii.rect){var oo=ii.rect||{},xo=Jf+1,ko=!0,So=1,bo=0,ga=(Sr||hi)&&ii.vertical,Ro=ii.metrics.advance*ii.scale/2;if(hi&&cr.verticalizable&&(bo=Ei.lineOffset/2-(ii.imageName?-(Xi-ii.metrics.width*ii.scale)/2:(ii.scale-1)*Xi)),ii.imageName){var ja=Gr[ii.imageName];ko=ja.sdf,xo=1/(So=ja.pixelRatio)}var Fs=Sr?[ii.x+Ro,ii.y]:[0,0],$a=Sr?[0,0]:[ii.x+Ro+vr[0],ii.y+vr[1]-bo],Da=[0,0];ga&&(Da=$a,$a=[0,0]);var Xa=(ii.metrics.left-xo)*ii.scale-Ro+$a[0],Ua=(-ii.metrics.top-xo)*ii.scale+$a[1],va=Xa+oo.w*ii.scale/So,wi=Ua+oo.h*ii.scale/So,Wi=new t(Xa,Ua),$o=new t(va,Ua),yo=new t(Xa,wi),Do=new t(va,wi);if(ga){var Qi=new t(-Ro,Ro- -17),Ri=-Math.PI/2,jo=Xi/2-Ro,Ns=new t(22-jo,-(ii.imageName?jo:0)),bs=new(Function.prototype.bind.apply(t,[null].concat(Da)));Wi._rotateAround(Ri,Qi)._add(Ns)._add(bs),$o._rotateAround(Ri,Qi)._add(Ns)._add(bs),yo._rotateAround(Ri,Qi)._add(Ns)._add(bs),Do._rotateAround(Ri,Qi)._add(Ns)._add(bs)}if(Zr){var xu=Math.sin(Zr),dc=Math.cos(Zr),ya=[dc,-xu,xu,dc];Wi._matMult(ya),$o._matMult(ya),yo._matMult(ya),Do._matMult(ya)}var Tl=new t(0,0),lu=new t(0,0);oi.push({tl:Wi,tr:$o,bl:yo,br:Do,tex:oo,writingMode:cr.writingMode,glyphOffset:Fs,sectionIndex:ii.sectionIndex,isSDF:ko,pixelOffsetTL:Tl,pixelOffsetBR:lu,minFontScaleX:0,minFontScaleY:0})}}return oi}(0,J,ot,Oe,Be,Ze,ge,D.allowVerticalPlacement),Fn=D.textSizeData,Nn=null;"source"===Fn.kind?(Nn=[Hl*Oe.layout.get("text-size").evaluate(Ze,{})])[0]>Vu&&E(D.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===Fn.kind&&((Nn=[Hl*qt.compositeTextSizes[0].evaluate(Ze,{},dn),Hl*qt.compositeTextSizes[1].evaluate(Ze,{},dn)])[0]>Vu||Nn[1]>Vu)&&E(D.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),D.addSymbols(D.text,yn,Nn,ot,Be,Ze,Et,F,pt.lineStartIndex,pt.lineLength,Jt,dn);for(var qn=0,Zn=Dt;qn<Zn.length;qn+=1)Vt[Zn[qn]]=D.text.placedSymbolArray.length-1;return 4*yn.length}function Sg(D){for(var F in D)return D[F];return null}function Nv(D,F,J,ge){var Oe=D.compareText;if(F in Oe){for(var Be=Oe[F],Ze=Be.length-1;Ze>=0;Ze--)if(ge.dist(Be[Ze])<J)return!0}else Oe[F]=[];return Oe[F].push(ge),!1}var zv=Vl.VectorTileFeature.types,Eg=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ud(D,F,J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt){var qt=ot?Math.min(Vu,Math.round(ot[0])):0,dn=ot?Math.min(Vu,Math.round(ot[1])):0;D.emplaceBack(F,J,Math.round(32*ge),Math.round(32*Oe),Be,Ze,(qt<<1)+(pt?1:0),dn,16*Et,16*Dt,256*Vt,256*Jt)}function Hp(D,F,J){D.emplaceBack(F.x,F.y,J),D.emplaceBack(F.x,F.y,J),D.emplaceBack(F.x,F.y,J),D.emplaceBack(F.x,F.y,J)}function ll(D){for(var F=0,J=D.sections;F<J.length;F+=1)if(lo(J[F].text))return!0;return!1}var cc=function(D){this.layoutVertexArray=new j,this.indexArray=new ne,this.programConfigurations=D,this.segments=new In,this.dynamicLayoutVertexArray=new q,this.opacityVertexArray=new G,this.placedSymbolArray=new Ut};cc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},cc.prototype.upload=function(D,F,J,ge){this.isEmpty()||(J&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,mg.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,F),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,Mx.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,Eg,!0),this.opacityVertexBuffer.itemSize=1),(J||ge)&&this.programConfigurations.upload(D))},cc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Br("SymbolBuffers",cc);var xf=function(D,F,J){this.layoutVertexArray=new D,this.layoutAttributes=F,this.indexArray=new J,this.segments=new In,this.collisionVertexArray=new V};xf.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,Ax.members,!0)},xf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Br("CollisionBuffers",xf);var to=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(Ze){return Ze.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Rh([]),this.placementViewportMatrix=Rh([]);var F=this.layers[0]._unevaluatedLayout._values;this.textSizeData=wg(this.zoom,F["text-size"]),this.iconSizeData=wg(this.zoom,F["icon-size"]);var J=this.layers[0].layout,ge=J.get("symbol-sort-key"),Oe=J.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==Oe&&void 0!==ge.constantOr(1),this.sortFeaturesByY=("viewport-y"===Oe||"auto"===Oe&&!this.sortFeaturesByKey)&&(J.get("text-allow-overlap")||J.get("icon-allow-overlap")||J.get("text-ignore-placement")||J.get("icon-ignore-placement")),"point"===J.get("symbol-placement")&&(this.writingModes=J.get("text-writing-mode").map(function(Ze){return xs[Ze]})),this.stateDependentLayerIds=this.layers.filter(function(Ze){return Ze.isStateDependent()}).map(function(Ze){return Ze.id}),this.sourceID=D.sourceID};to.prototype.createArrays=function(){this.text=new cc(new mo(mg.members,this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new cc(new mo(mg.members,this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new Bt,this.lineVertexArray=new pn,this.symbolInstances=new $t},to.prototype.calculateGlyphDependencies=function(D,F,J,ge,Oe){for(var Be=0;Be<D.length;Be++)if(F[D.charCodeAt(Be)]=!0,(J||ge)&&Oe){var Ze=ed[D.charAt(Be)];Ze&&(F[Ze.charCodeAt(0)]=!0)}},to.prototype.populate=function(D,F,J){var ge=this.layers[0],Oe=ge.layout,Be=Oe.get("text-font"),Ze=Oe.get("text-field"),ot=Oe.get("icon-image"),pt=("constant"!==Ze.value.kind||Ze.value.value instanceof Hn&&!Ze.value.value.isEmpty()||Ze.value.value.toString().length>0)&&("constant"!==Be.value.kind||Be.value.value.length>0),Et="constant"!==ot.value.kind||!!ot.value.value||Object.keys(ot.parameters).length>0,Dt=Oe.get("symbol-sort-key");if(this.features=[],pt||Et){for(var Vt=F.iconDependencies,Jt=F.glyphDependencies,qt=F.availableImages,dn=new eo(this.zoom),yn=0,Fn=D;yn<Fn.length;yn+=1){var Nn=Fn[yn],qn=Nn.feature,Zn=Nn.id,tr=Nn.index,cr=Nn.sourceLayerIndex,vr=ge._featureFilter.needGeometry,Pr={type:qn.type,id:Zn,properties:qn.properties,geometry:vr?is(qn):[]};if(ge._featureFilter.filter(dn,Pr,J)){vr||(Pr.geometry=is(qn));var Sr=void 0;if(pt){var Nr=ge.getValueAndResolveTokens("text-field",Pr,J,qt),Gr=Hn.factory(Nr);ll(Gr)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===qs()||this.hasRTLText&&Co.isParsed())&&(Sr=kx(Gr,ge,Pr))}var hi=void 0;if(Et){var Zr=ge.getValueAndResolveTokens("icon-image",Pr,J,qt);hi=Zr instanceof On?Zr:On.fromString(Zr)}if(Sr||hi){var oi=this.sortFeaturesByKey?Dt.evaluate(Pr,{},J):void 0,ei={id:Zn,text:Sr,icon:hi,index:tr,sourceLayerIndex:cr,geometry:is(qn),properties:qn.properties,type:zv[qn.type],sortKey:oi};if(this.features.push(ei),hi&&(Vt[hi.name]=!0),Sr){var Vr=Be.evaluate(Pr,{},J).join(","),Ei="map"===Oe.get("text-rotation-alignment")&&"point"!==Oe.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(xs.vertical)>=0;for(var mi=0,vo=Sr.sections;mi<vo.length;mi+=1){var ii=vo[mi];if(ii.image)Vt[ii.image.name]=!0;else{var oo=Za(Sr.toString()),xo=ii.fontStack||Vr,ko=Jt[xo]=Jt[xo]||{};this.calculateGlyphDependencies(ii.text,ko,Ei,this.allowVerticalPlacement,oo)}}}}}}"line"===Oe.get("symbol-placement")&&(this.features=function(So){var bo={},ga={},Ro=[],Fo=0;function ma(Do){Ro.push(So[Do]),Fo++}function ja(Do,Qi,Ri){var jo=ga[Do];return delete ga[Do],ga[Qi]=jo,Ro[jo].geometry[0].pop(),Ro[jo].geometry[0]=Ro[jo].geometry[0].concat(Ri[0]),jo}function Fs(Do,Qi,Ri){var jo=bo[Qi];return delete bo[Qi],bo[Do]=jo,Ro[jo].geometry[0].shift(),Ro[jo].geometry[0]=Ri[0].concat(Ro[jo].geometry[0]),jo}function $a(Do,Qi,Ri){var jo=Ri?Qi[0][Qi[0].length-1]:Qi[0][0];return Do+":"+jo.x+":"+jo.y}for(var Da=0;Da<So.length;Da++){var Xa=So[Da],Ua=Xa.geometry,va=Xa.text?Xa.text.toString():null;if(va){var wi=$a(va,Ua),Wi=$a(va,Ua,!0);if(wi in ga&&Wi in bo&&ga[wi]!==bo[Wi]){var $o=Fs(wi,Wi,Ua),yo=ja(wi,Wi,Ro[$o].geometry);delete bo[wi],delete ga[Wi],ga[$a(va,Ro[yo].geometry,!0)]=yo,Ro[$o].geometry=null}else wi in ga?ja(wi,Wi,Ua):Wi in bo?Fs(wi,Wi,Ua):(ma(Da),bo[wi]=Fo-1,ga[Wi]=Fo-1)}else ma(Da)}return Ro.filter(function(Do){return Do.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(So,bo){return So.sortKey-bo.sortKey})}},to.prototype.update=function(D,F,J){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,F,this.layers,J),this.icon.programConfigurations.updatePaintArrays(D,F,this.layers,J))},to.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},to.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},to.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},to.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},to.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},to.prototype.addToLineVertexArray=function(D,F){var J=this.lineVertexArray.length;if(void 0!==D.segment){for(var ge=D.dist(F[D.segment+1]),Oe=D.dist(F[D.segment]),Be={},Ze=D.segment+1;Ze<F.length;Ze++)Be[Ze]={x:F[Ze].x,y:F[Ze].y,tileUnitDistanceFromAnchor:ge},Ze<F.length-1&&(ge+=F[Ze+1].dist(F[Ze]));for(var ot=D.segment||0;ot>=0;ot--)Be[ot]={x:F[ot].x,y:F[ot].y,tileUnitDistanceFromAnchor:Oe},ot>0&&(Oe+=F[ot-1].dist(F[ot]));for(var pt=0;pt<F.length;pt++){var Et=Be[pt];this.lineVertexArray.emplaceBack(Et.x,Et.y,Et.tileUnitDistanceFromAnchor)}}return{lineStartIndex:J,lineLength:this.lineVertexArray.length-J}},to.prototype.addSymbols=function(D,F,J,ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt){for(var Jt=D.indexArray,qt=D.layoutVertexArray,dn=D.segments.prepareSegment(4*F.length,qt,Jt,Be.sortKey),yn=this.glyphOffsetArray.length,Fn=dn.vertexLength,Nn=this.allowVerticalPlacement&&Ze===xs.vertical?Math.PI/2:0,qn=Be.text&&Be.text.sections,Zn=0;Zn<F.length;Zn++){var tr=F[Zn],cr=tr.tl,vr=tr.tr,Pr=tr.bl,Sr=tr.br,Nr=tr.tex,Gr=tr.pixelOffsetTL,hi=tr.pixelOffsetBR,Zr=tr.minFontScaleX,oi=tr.minFontScaleY,ei=tr.glyphOffset,Vr=tr.isSDF,Ei=tr.sectionIndex,mi=dn.vertexLength,vo=ei[1];ud(qt,ot.x,ot.y,cr.x,vo+cr.y,Nr.x,Nr.y,J,Vr,Gr.x,Gr.y,Zr,oi),ud(qt,ot.x,ot.y,vr.x,vo+vr.y,Nr.x+Nr.w,Nr.y,J,Vr,hi.x,Gr.y,Zr,oi),ud(qt,ot.x,ot.y,Pr.x,vo+Pr.y,Nr.x,Nr.y+Nr.h,J,Vr,Gr.x,hi.y,Zr,oi),ud(qt,ot.x,ot.y,Sr.x,vo+Sr.y,Nr.x+Nr.w,Nr.y+Nr.h,J,Vr,hi.x,hi.y,Zr,oi),Hp(D.dynamicLayoutVertexArray,ot,Nn),Jt.emplaceBack(mi,mi+1,mi+2),Jt.emplaceBack(mi+1,mi+2,mi+3),dn.vertexLength+=4,dn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ei[0]),Zn!==F.length-1&&Ei===F[Zn+1].sectionIndex||D.programConfigurations.populatePaintArrays(qt.length,Be,Be.index,{},Vt,qn&&qn[Ei])}D.placedSymbolArray.emplaceBack(ot.x,ot.y,yn,this.glyphOffsetArray.length-yn,Fn,pt,Et,ot.segment,J?J[0]:0,J?J[1]:0,ge[0],ge[1],Ze,0,!1,0,Dt)},to.prototype._addCollisionDebugVertex=function(D,F,J,ge,Oe,Be){return F.emplaceBack(0,0),D.emplaceBack(J.x,J.y,ge,Oe,Math.round(Be.x),Math.round(Be.y))},to.prototype.addCollisionDebugVertices=function(D,F,J,ge,Oe,Be,Ze){var ot=Oe.segments.prepareSegment(4,Oe.layoutVertexArray,Oe.indexArray),pt=ot.vertexLength,Et=Oe.layoutVertexArray,Dt=Oe.collisionVertexArray,Vt=Ze.anchorX,Jt=Ze.anchorY;this._addCollisionDebugVertex(Et,Dt,Be,Vt,Jt,new t(D,F)),this._addCollisionDebugVertex(Et,Dt,Be,Vt,Jt,new t(J,F)),this._addCollisionDebugVertex(Et,Dt,Be,Vt,Jt,new t(J,ge)),this._addCollisionDebugVertex(Et,Dt,Be,Vt,Jt,new t(D,ge)),ot.vertexLength+=4;var qt=Oe.indexArray;qt.emplaceBack(pt,pt+1),qt.emplaceBack(pt+1,pt+2),qt.emplaceBack(pt+2,pt+3),qt.emplaceBack(pt+3,pt),ot.primitiveLength+=4},to.prototype.addDebugCollisionBoxes=function(D,F,J,ge){for(var Oe=D;Oe<F;Oe++){var Be=this.collisionBoxArray.get(Oe);this.addCollisionDebugVertices(Be.x1,Be.y1,Be.x2,Be.y2,ge?this.textCollisionBox:this.iconCollisionBox,Be.anchorPoint,J)}},to.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new xf(ye,_v.members,Ye),this.iconCollisionBox=new xf(ye,_v.members,Ye);for(var D=0;D<this.symbolInstances.length;D++){var F=this.symbolInstances.get(D);this.addDebugCollisionBoxes(F.textBoxStartIndex,F.textBoxEndIndex,F,!0),this.addDebugCollisionBoxes(F.verticalTextBoxStartIndex,F.verticalTextBoxEndIndex,F,!0),this.addDebugCollisionBoxes(F.iconBoxStartIndex,F.iconBoxEndIndex,F,!1),this.addDebugCollisionBoxes(F.verticalIconBoxStartIndex,F.verticalIconBoxEndIndex,F,!1)}},to.prototype._deserializeCollisionBoxesForSymbol=function(D,F,J,ge,Oe,Be,Ze,ot,pt){for(var Et={},Dt=F;Dt<J;Dt++){var Vt=D.get(Dt);Et.textBox={x1:Vt.x1,y1:Vt.y1,x2:Vt.x2,y2:Vt.y2,anchorPointX:Vt.anchorPointX,anchorPointY:Vt.anchorPointY},Et.textFeatureIndex=Vt.featureIndex;break}for(var Jt=ge;Jt<Oe;Jt++){var qt=D.get(Jt);Et.verticalTextBox={x1:qt.x1,y1:qt.y1,x2:qt.x2,y2:qt.y2,anchorPointX:qt.anchorPointX,anchorPointY:qt.anchorPointY},Et.verticalTextFeatureIndex=qt.featureIndex;break}for(var dn=Be;dn<Ze;dn++){var yn=D.get(dn);Et.iconBox={x1:yn.x1,y1:yn.y1,x2:yn.x2,y2:yn.y2,anchorPointX:yn.anchorPointX,anchorPointY:yn.anchorPointY},Et.iconFeatureIndex=yn.featureIndex;break}for(var Fn=ot;Fn<pt;Fn++){var Nn=D.get(Fn);Et.verticalIconBox={x1:Nn.x1,y1:Nn.y1,x2:Nn.x2,y2:Nn.y2,anchorPointX:Nn.anchorPointX,anchorPointY:Nn.anchorPointY},Et.verticalIconFeatureIndex=Nn.featureIndex;break}return Et},to.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var F=0;F<this.symbolInstances.length;F++){var J=this.symbolInstances.get(F);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,J.textBoxStartIndex,J.textBoxEndIndex,J.verticalTextBoxStartIndex,J.verticalTextBoxEndIndex,J.iconBoxStartIndex,J.iconBoxEndIndex,J.verticalIconBoxStartIndex,J.verticalIconBoxEndIndex))}},to.prototype.hasTextData=function(){return this.text.segments.get().length>0},to.prototype.hasIconData=function(){return this.icon.segments.get().length>0},to.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},to.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},to.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},to.prototype.addIndicesForPlacedSymbol=function(D,F){for(var J=D.placedSymbolArray.get(F),ge=J.vertexStartIndex+4*J.numGlyphs,Oe=J.vertexStartIndex;Oe<ge;Oe+=4)D.indexArray.emplaceBack(Oe,Oe+1,Oe+2),D.indexArray.emplaceBack(Oe+1,Oe+2,Oe+3)},to.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var F=Math.sin(D),J=Math.cos(D),ge=[],Oe=[],Be=[],Ze=0;Ze<this.symbolInstances.length;++Ze){Be.push(Ze);var ot=this.symbolInstances.get(Ze);ge.push(0|Math.round(F*ot.anchorX+J*ot.anchorY)),Oe.push(ot.featureIndex)}return Be.sort(function(pt,Et){return ge[pt]-ge[Et]||Oe[Et]-Oe[pt]}),Be},to.prototype.addToSortKeyRanges=function(D,F){var J=this.sortKeyRanges[this.sortKeyRanges.length-1];J&&J.sortKey===F?J.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:F,symbolInstanceStart:D,symbolInstanceEnd:D+1})},to.prototype.sortFeatures=function(D){var F=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var J=0,ge=this.symbolInstanceIndexes;J<ge.length;J+=1){var Be=this.symbolInstances.get(ge[J]);this.featureSortOrder.push(Be.featureIndex),[Be.rightJustifiedTextSymbolIndex,Be.centerJustifiedTextSymbolIndex,Be.leftJustifiedTextSymbolIndex].forEach(function(Ze,ot,pt){Ze>=0&&pt.indexOf(Ze)===ot&&F.addIndicesForPlacedSymbol(F.text,Ze)}),Be.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Be.verticalPlacedTextSymbolIndex),Be.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Be.placedIconSymbolIndex),Be.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Be.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Br("SymbolBucket",to,{omit:["layers","collisionBoxArray","features","compareText"]}),to.MAX_GLYPHS=65535,to.addDynamicAttributes=Hp;var Rs=new ca({"symbol-placement":new Yr(je.layout_symbol["symbol-placement"]),"symbol-spacing":new Yr(je.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Yr(je.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Kr(je.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Yr(je.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Yr(je.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Yr(je.layout_symbol["icon-ignore-placement"]),"icon-optional":new Yr(je.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Yr(je.layout_symbol["icon-rotation-alignment"]),"icon-size":new Kr(je.layout_symbol["icon-size"]),"icon-text-fit":new Yr(je.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Yr(je.layout_symbol["icon-text-fit-padding"]),"icon-image":new Kr(je.layout_symbol["icon-image"]),"icon-rotate":new Kr(je.layout_symbol["icon-rotate"]),"icon-padding":new Yr(je.layout_symbol["icon-padding"]),"icon-keep-upright":new Yr(je.layout_symbol["icon-keep-upright"]),"icon-offset":new Kr(je.layout_symbol["icon-offset"]),"icon-anchor":new Kr(je.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Yr(je.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Yr(je.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Yr(je.layout_symbol["text-rotation-alignment"]),"text-field":new Kr(je.layout_symbol["text-field"]),"text-font":new Kr(je.layout_symbol["text-font"]),"text-size":new Kr(je.layout_symbol["text-size"]),"text-max-width":new Kr(je.layout_symbol["text-max-width"]),"text-line-height":new Yr(je.layout_symbol["text-line-height"]),"text-letter-spacing":new Kr(je.layout_symbol["text-letter-spacing"]),"text-justify":new Kr(je.layout_symbol["text-justify"]),"text-radial-offset":new Kr(je.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Yr(je.layout_symbol["text-variable-anchor"]),"text-anchor":new Kr(je.layout_symbol["text-anchor"]),"text-max-angle":new Yr(je.layout_symbol["text-max-angle"]),"text-writing-mode":new Yr(je.layout_symbol["text-writing-mode"]),"text-rotate":new Kr(je.layout_symbol["text-rotate"]),"text-padding":new Yr(je.layout_symbol["text-padding"]),"text-keep-upright":new Yr(je.layout_symbol["text-keep-upright"]),"text-transform":new Kr(je.layout_symbol["text-transform"]),"text-offset":new Kr(je.layout_symbol["text-offset"]),"text-allow-overlap":new Yr(je.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Yr(je.layout_symbol["text-ignore-placement"]),"text-optional":new Yr(je.layout_symbol["text-optional"])}),Lc={paint:new ca({"icon-opacity":new Kr(je.paint_symbol["icon-opacity"]),"icon-color":new Kr(je.paint_symbol["icon-color"]),"icon-halo-color":new Kr(je.paint_symbol["icon-halo-color"]),"icon-halo-width":new Kr(je.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Kr(je.paint_symbol["icon-halo-blur"]),"icon-translate":new Yr(je.paint_symbol["icon-translate"]),"icon-translate-anchor":new Yr(je.paint_symbol["icon-translate-anchor"]),"text-opacity":new Kr(je.paint_symbol["text-opacity"]),"text-color":new Kr(je.paint_symbol["text-color"],{runtimeType:Gt,getOverride:function(D){return D.textColor},hasOverride:function(D){return!!D.textColor}}),"text-halo-color":new Kr(je.paint_symbol["text-halo-color"]),"text-halo-width":new Kr(je.paint_symbol["text-halo-width"]),"text-halo-blur":new Kr(je.paint_symbol["text-halo-blur"]),"text-translate":new Yr(je.paint_symbol["text-translate"]),"text-translate-anchor":new Yr(je.paint_symbol["text-translate-anchor"])}),layout:Rs},Pc=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Rt,this.defaultValue=D};Pc.prototype.evaluate=function(D){if(D.formattedSection){var F=this.defaultValue.property.overrides;if(F&&F.hasOverride(D.formattedSection))return F.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},Pc.prototype.eachChild=function(D){this.defaultValue.isConstant()||D(this.defaultValue.value._styleExpression.expression)},Pc.prototype.outputDefined=function(){return!1},Pc.prototype.serialize=function(){return null},Br("FormatSectionOverride",Pc,{omit:["defaultValue"]});var Cg=function(D){function F(J){D.call(this,J,Lc)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.recalculate=function(J,ge){if(D.prototype.recalculate.call(this,J,ge),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var Oe=this.layout.get("text-writing-mode");if(Oe){for(var Be=[],Ze=0,ot=Oe;Ze<ot.length;Ze+=1){var pt=ot[Ze];Be.indexOf(pt)<0&&Be.push(pt)}this.layout._values["text-writing-mode"]=Be}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},F.prototype.getValueAndResolveTokens=function(J,ge,Oe,Be){var pt,Ze=this.layout.get(J).evaluate(ge,{},Oe,Be),ot=this._unevaluatedLayout._values[J];return ot.isDataDriven()||Rl(ot.value)||!Ze?Ze:(pt=ge.properties,Ze.replace(/{([^{}]+)}/g,function(Dt,Vt){return Vt in pt?String(pt[Vt]):""}))},F.prototype.createBucket=function(J){return new to(J)},F.prototype.queryRadius=function(){return 0},F.prototype.queryIntersectsFeature=function(){return!1},F.prototype._setPaintOverrides=function(){for(var J=0,ge=Lc.paint.overridableProperties;J<ge.length;J+=1){var Oe=ge[J];if(F.hasPaintOverride(this.layout,Oe)){var Be,Ze=this.paint.get(Oe),ot=new Pc(Ze),pt=new Jl(ot,Ze.property.specification);Be="constant"===Ze.value.kind||"source"===Ze.value.kind?new tl("source",pt):new Ss("composite",pt,Ze.value.zoomStops,Ze.value._interpolationType),this.paint._values[Oe]=new Zo(Ze.property,Be,Ze.parameters)}}},F.prototype._handleOverridablePaintPropertyUpdate=function(J,ge,Oe){return!(!this.layout||ge.isDataDriven()||Oe.isDataDriven())&&F.hasPaintOverride(this.layout,J)},F.hasPaintOverride=function(J,ge){var Oe=J.get("text-field"),Be=Lc.paint.properties[ge],Ze=!1,ot=function(Dt){for(var Vt=0,Jt=Dt;Vt<Jt.length;Vt+=1)if(Be.overrides&&Be.overrides.hasOverride(Jt[Vt]))return void(Ze=!0)};if("constant"===Oe.value.kind&&Oe.value.value instanceof Hn)ot(Oe.value.value.sections);else if("source"===Oe.value.kind){var pt=function(Dt){Ze||(Dt instanceof hr&&ar(Dt.value)===nn?ot(Dt.value.sections):Dt instanceof rn?ot(Dt.sections):Dt.eachChild(pt))},Et=Oe.value;Et._styleExpression&&pt(Et._styleExpression.expression)}return Ze},F}(fa),Bv={paint:new ca({"background-color":new Yr(je.paint_background["background-color"]),"background-pattern":new ua(je.paint_background["background-pattern"]),"background-opacity":new Yr(je.paint_background["background-opacity"])})},Dg=function(D){function F(J){D.call(this,J,Bv)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(fa),jv={paint:new ca({"raster-opacity":new Yr(je.paint_raster["raster-opacity"]),"raster-hue-rotate":new Yr(je.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Yr(je.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Yr(je.paint_raster["raster-brightness-max"]),"raster-saturation":new Yr(je.paint_raster["raster-saturation"]),"raster-contrast":new Yr(je.paint_raster["raster-contrast"]),"raster-resampling":new Yr(je.paint_raster["raster-resampling"]),"raster-fade-duration":new Yr(je.paint_raster["raster-fade-duration"])})},Ig=function(D){function F(J){D.call(this,J,jv)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(fa),Uv=function(D){function F(J){D.call(this,J,{}),this.implementation=J}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},F.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},F.prototype.recalculate=function(){},F.prototype.updateTransitions=function(){},F.prototype.hasTransition=function(){},F.prototype.serialize=function(){},F.prototype.onAdd=function(J){this.implementation.onAdd&&this.implementation.onAdd(J,J.painter.context.gl)},F.prototype.onRemove=function(J){this.implementation.onRemove&&this.implementation.onRemove(J,J.painter.context.gl)},F}(fa),Lg={circle:cv,heatmap:Ks,hillshade:ha,fill:fg,"fill-extrusion":Cp,line:Tx,symbol:Cg,background:Dg,raster:Ig},Pg=self.HTMLImageElement,Og=self.HTMLCanvasElement,cd=self.HTMLVideoElement,fd=self.ImageData,hd=self.ImageBitmap,ou=function(D,F,J,ge){this.context=D,this.format=J,this.texture=D.gl.createTexture(),this.update(F,ge)};ou.prototype.update=function(D,F,J){var ge=D.width,Oe=D.height,Be=!(this.size&&this.size[0]===ge&&this.size[1]===Oe||J),Ze=this.context,ot=Ze.gl;if(this.useMipmap=!(!F||!F.useMipmap),ot.bindTexture(ot.TEXTURE_2D,this.texture),Ze.pixelStoreUnpackFlipY.set(!1),Ze.pixelStoreUnpack.set(1),Ze.pixelStoreUnpackPremultiplyAlpha.set(this.format===ot.RGBA&&(!F||!1!==F.premultiply)),Be)this.size=[ge,Oe],D instanceof Pg||D instanceof Og||D instanceof cd||D instanceof fd||hd&&D instanceof hd?ot.texImage2D(ot.TEXTURE_2D,0,this.format,this.format,ot.UNSIGNED_BYTE,D):ot.texImage2D(ot.TEXTURE_2D,0,this.format,ge,Oe,0,this.format,ot.UNSIGNED_BYTE,D.data);else{var pt=J||{x:0,y:0},Et=pt.x,Dt=pt.y;D instanceof Pg||D instanceof Og||D instanceof cd||D instanceof fd||hd&&D instanceof hd?ot.texSubImage2D(ot.TEXTURE_2D,0,Et,Dt,ot.RGBA,ot.UNSIGNED_BYTE,D):ot.texSubImage2D(ot.TEXTURE_2D,0,Et,Dt,ge,Oe,ot.RGBA,ot.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&ot.generateMipmap(ot.TEXTURE_2D)},ou.prototype.bind=function(D,F,J){var ge=this.context.gl;ge.bindTexture(ge.TEXTURE_2D,this.texture),J!==ge.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(J=ge.LINEAR),D!==this.filter&&(ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MAG_FILTER,D),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MIN_FILTER,J||D),this.filter=D),F!==this.wrap&&(ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_S,F),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_T,F),this.wrap=F)},ou.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},ou.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Gp=function(D){var F=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){F._triggered=!1,F._callback()})};Gp.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},Gp.prototype.remove=function(){delete this._channel,this._callback=function(){}};var bf=function(D,F,J){this.target=D,this.parent=F,this.mapId=J,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},h(["receive","process"],this),this.invoker=new Gp(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=L()?D:self};function qp(D,F,J){var ge=2*Math.PI*6378137/256/Math.pow(2,J);return[D*ge-2*Math.PI*6378137/2,F*ge-2*Math.PI*6378137/2]}bf.prototype.send=function(D,F,J,ge,Oe){var Be=this;void 0===Oe&&(Oe=!1);var Ze=Math.round(1e18*Math.random()).toString(36).substring(0,10);J&&(this.callbacks[Ze]=J);var ot=z(this.globalScope)?void 0:[];return this.target.postMessage({id:Ze,type:D,hasCallback:!!J,targetMapId:ge,mustQueue:Oe,sourceMapId:this.mapId,data:Ds(F,ot)},ot),{cancel:function(){J&&delete Be.callbacks[Ze],Be.target.postMessage({id:Ze,type:"<cancel>",targetMapId:ge,sourceMapId:Be.mapId})}}},bf.prototype.receive=function(D){var F=D.data,J=F.id;if(J&&(!F.targetMapId||this.mapId===F.targetMapId))if("<cancel>"===F.type){delete this.tasks[J];var ge=this.cancelCallbacks[J];delete this.cancelCallbacks[J],ge&&ge()}else L()||F.mustQueue?(this.tasks[J]=F,this.taskQueue.push(J),this.invoker.trigger()):this.processTask(J,F)},bf.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),F=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),F&&this.processTask(D,F)}},bf.prototype.processTask=function(D,F){var J=this;if("<response>"===F.type){var ge=this.callbacks[D];delete this.callbacks[D],ge&&(F.error?ge(Is(F.error)):ge(null,Is(F.data)))}else{var Oe=!1,Be=z(this.globalScope)?void 0:[],Ze=F.hasCallback?function(Dt,Vt){Oe=!0,delete J.cancelCallbacks[D],J.target.postMessage({id:D,type:"<response>",sourceMapId:J.mapId,error:Dt?Ds(Dt):null,data:Ds(Vt,Be)},Be)}:function(Dt){Oe=!0},ot=null,pt=Is(F.data);if(this.parent[F.type])ot=this.parent[F.type](F.sourceMapId,pt,Ze);else if(this.parent.getWorkerSource){var Et=F.type.split(".");ot=this.parent.getWorkerSource(F.sourceMapId,Et[0],pt.source)[Et[1]](pt,Ze)}else Ze(new Error("Could not find function "+F.type));!Oe&&ot&&ot.cancel&&(this.cancelCallbacks[D]=ot.cancel)}},bf.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var ta=function(D,F){D&&(F?this.setSouthWest(D).setNorthEast(F):4===D.length?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};ta.prototype.setNorthEast=function(D){return this._ne=D instanceof co?new co(D.lng,D.lat):co.convert(D),this},ta.prototype.setSouthWest=function(D){return this._sw=D instanceof co?new co(D.lng,D.lat):co.convert(D),this},ta.prototype.extend=function(D){var F,J,ge=this._sw,Oe=this._ne;if(D instanceof co)F=D,J=D;else{if(!(D instanceof ta))return Array.isArray(D)?4===D.length||D.every(Array.isArray)?this.extend(ta.convert(D)):this.extend(co.convert(D)):this;if(J=D._ne,!(F=D._sw)||!J)return this}return ge||Oe?(ge.lng=Math.min(F.lng,ge.lng),ge.lat=Math.min(F.lat,ge.lat),Oe.lng=Math.max(J.lng,Oe.lng),Oe.lat=Math.max(J.lat,Oe.lat)):(this._sw=new co(F.lng,F.lat),this._ne=new co(J.lng,J.lat)),this},ta.prototype.getCenter=function(){return new co((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},ta.prototype.getSouthWest=function(){return this._sw},ta.prototype.getNorthEast=function(){return this._ne},ta.prototype.getNorthWest=function(){return new co(this.getWest(),this.getNorth())},ta.prototype.getSouthEast=function(){return new co(this.getEast(),this.getSouth())},ta.prototype.getWest=function(){return this._sw.lng},ta.prototype.getSouth=function(){return this._sw.lat},ta.prototype.getEast=function(){return this._ne.lng},ta.prototype.getNorth=function(){return this._ne.lat},ta.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},ta.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},ta.prototype.isEmpty=function(){return!(this._sw&&this._ne)},ta.prototype.contains=function(D){var F=co.convert(D),J=F.lng,ge=F.lat,Be=this._sw.lng<=J&&J<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Be=this._sw.lng>=J&&J>=this._ne.lng),this._sw.lat<=ge&&ge<=this._ne.lat&&Be},ta.convert=function(D){return!D||D instanceof ta?D:new ta(D)};var Wp=6371008.8,co=function(D,F){if(isNaN(D)||isNaN(F))throw new Error("Invalid LngLat object: ("+D+", "+F+")");if(this.lng=+D,this.lat=+F,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};co.prototype.wrap=function(){return new co(s(this.lng,-180,180),this.lat)},co.prototype.toArray=function(){return[this.lng,this.lat]},co.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},co.prototype.distanceTo=function(D){var F=Math.PI/180,J=this.lat*F,ge=D.lat*F,Oe=Math.sin(J)*Math.sin(ge)+Math.cos(J)*Math.cos(ge)*Math.cos((D.lng-this.lng)*F);return Wp*Math.acos(Math.min(Oe,1))},co.prototype.toBounds=function(D){void 0===D&&(D=0);var F=360*D/40075017,J=F/Math.cos(Math.PI/180*this.lat);return new ta(new co(this.lng-J,this.lat-F),new co(this.lng+J,this.lat+F))},co.convert=function(D){if(D instanceof co)return D;if(Array.isArray(D)&&(2===D.length||3===D.length))return new co(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&"object"==typeof D&&null!==D)return new co(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var ih=2*Math.PI*Wp;function Zp(D){return ih*Math.cos(D*Math.PI/180)}function dd(D){return(180+D)/360}function oh(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function Rg(D,F){return D/Zp(F)}function Yp(D){return 360/Math.PI*Math.atan(Math.exp((180-360*D)*Math.PI/180))-90}var Oc=function(D,F,J){void 0===J&&(J=0),this.x=+D,this.y=+F,this.z=+J};Oc.fromLngLat=function(D,F){void 0===F&&(F=0);var J=co.convert(D);return new Oc(dd(J.lng),oh(J.lat),Rg(F,J.lat))},Oc.prototype.toLngLat=function(){return new co(360*this.x-180,Yp(this.y))},Oc.prototype.toAltitude=function(){return this.z*Zp(Yp(this.y))},Oc.prototype.meterInMercatorCoordinateUnits=function(){return 1/ih*(D=Yp(this.y),1/Math.cos(D*Math.PI/180));var D};var Rc=function(D,F,J){this.z=D,this.x=F,this.y=J,this.key=_f(0,D,D,F,J)};Rc.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},Rc.prototype.url=function(D,F){var J,ge,Oe,Be,Ze,ot=(ge=this.y,Oe=this.z,Be=qp(256*(J=this.x),256*(ge=Math.pow(2,Oe)-ge-1),Oe),Ze=qp(256*(J+1),256*(ge+1),Oe),Be[0]+","+Be[1]+","+Ze[0]+","+Ze[1]),pt=function(Et,Dt,Vt){for(var Jt,qt="",dn=Et;dn>0;dn--)qt+=(Dt&(Jt=1<<dn-1)?1:0)+(Vt&Jt?2:0);return qt}(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===F?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",pt).replace("{bbox-epsg-3857}",ot)},Rc.prototype.getTilePoint=function(D){var F=Math.pow(2,this.z);return new t((D.x*F-this.x)*$i,(D.y*F-this.y)*$i)},Rc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Fg=function(D,F){this.wrap=D,this.canonical=F,this.key=_f(D,F.z,F.z,F.x,F.y)},pa=function(D,F,J,ge,Oe){this.overscaledZ=D,this.wrap=F,this.canonical=new Rc(J,+ge,+Oe),this.key=_f(F,D,J,ge,Oe)};function _f(D,F,J,ge,Oe){(D*=2)<0&&(D=-1*D-1);var Be=1<<J;return(Be*Be*D+Be*Oe+ge).toString(36)+J.toString(36)+F.toString(36)}pa.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},pa.prototype.scaledTo=function(D){var F=this.canonical.z-D;return D>this.canonical.z?new pa(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new pa(D,this.wrap,D,this.canonical.x>>F,this.canonical.y>>F)},pa.prototype.calculateScaledKey=function(D,F){var J=this.canonical.z-D;return D>this.canonical.z?_f(this.wrap*+F,D,this.canonical.z,this.canonical.x,this.canonical.y):_f(this.wrap*+F,D,D,this.canonical.x>>J,this.canonical.y>>J)},pa.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var F=this.canonical.z-D.canonical.z;return 0===D.overscaledZ||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>F&&D.canonical.y===this.canonical.y>>F},pa.prototype.children=function(D){if(this.overscaledZ>=D)return[new pa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var F=this.canonical.z+1,J=2*this.canonical.x,ge=2*this.canonical.y;return[new pa(F,this.wrap,F,J,ge),new pa(F,this.wrap,F,J+1,ge),new pa(F,this.wrap,F,J,ge+1),new pa(F,this.wrap,F,J+1,ge+1)]},pa.prototype.isLessThan=function(D){return this.wrap<D.wrap||!(this.wrap>D.wrap)&&(this.overscaledZ<D.overscaledZ||!(this.overscaledZ>D.overscaledZ)&&(this.canonical.x<D.canonical.x||!(this.canonical.x>D.canonical.x)&&this.canonical.y<D.canonical.y))},pa.prototype.wrapped=function(){return new pa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},pa.prototype.unwrapTo=function(D){return new pa(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},pa.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},pa.prototype.toUnwrapped=function(){return new Fg(this.wrap,this.canonical)},pa.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},pa.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new Oc(D.x-this.wrap,D.y))},Br("CanonicalTileID",Rc),Br("OverscaledTileID",pa,{omit:["posMatrix"]});var au=function(D,F,J){if(this.uid=D,F.height!==F.width)throw new RangeError("DEM tiles must be square");if(J&&"mapbox"!==J&&"terrarium"!==J)return E('"'+J+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=F.height;var ge=this.dim=F.height-2;this.data=new Uint32Array(F.data.buffer),this.encoding=J||"mapbox";for(var Oe=0;Oe<ge;Oe++)this.data[this._idx(-1,Oe)]=this.data[this._idx(0,Oe)],this.data[this._idx(ge,Oe)]=this.data[this._idx(ge-1,Oe)],this.data[this._idx(Oe,-1)]=this.data[this._idx(Oe,0)],this.data[this._idx(Oe,ge)]=this.data[this._idx(Oe,ge-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ge,-1)]=this.data[this._idx(ge-1,0)],this.data[this._idx(-1,ge)]=this.data[this._idx(0,ge-1)],this.data[this._idx(ge,ge)]=this.data[this._idx(ge-1,ge-1)]};au.prototype.get=function(D,F){var J=new Uint8Array(this.data.buffer),ge=4*this._idx(D,F);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(J[ge],J[ge+1],J[ge+2])},au.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},au.prototype._idx=function(D,F){if(D<-1||D>=this.dim+1||F<-1||F>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(F+1)*this.stride+(D+1)},au.prototype._unpackMapbox=function(D,F,J){return(256*D*256+256*F+J)/10-1e4},au.prototype._unpackTerrarium=function(D,F,J){return 256*D+F+J/256-32768},au.prototype.getPixels=function(){return new os({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},au.prototype.backfillBorder=function(D,F,J){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var ge=F*this.dim,Oe=F*this.dim+this.dim,Be=J*this.dim,Ze=J*this.dim+this.dim;switch(F){case-1:ge=Oe-1;break;case 1:Oe=ge+1}switch(J){case-1:Be=Ze-1;break;case 1:Ze=Be+1}for(var ot=-F*this.dim,pt=-J*this.dim,Et=Be;Et<Ze;Et++)for(var Dt=ge;Dt<Oe;Dt++)this.data[this._idx(Dt,Et)]=D.data[this._idx(Dt+ot,Et+pt)]},Br("DEMData",au);var ah=function(D){this._stringToNumber={},this._numberToString=[];for(var F=0;F<D.length;F++){var J=D[F];this._stringToNumber[J]=F,this._numberToString[F]=J}};ah.prototype.encode=function(D){return this._stringToNumber[D]},ah.prototype.decode=function(D){return this._numberToString[D]};var wf=function(D,F,J,ge,Oe){this.type="Feature",this._vectorTileFeature=D,D._z=F,D._x=J,D._y=ge,this.properties=D.properties,this.id=Oe},$p={geometry:{configurable:!0}};$p.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},$p.geometry.set=function(D){this._geometry=D},wf.prototype.toJSON=function(){var D={geometry:this.geometry};for(var F in this)"_geometry"!==F&&"_vectorTileFeature"!==F&&(D[F]=this[F]);return D},Object.defineProperties(wf.prototype,$p);var Tf=function(){this.state={},this.stateChanges={},this.deletedStates={}};Tf.prototype.updateState=function(D,F,J){var ge=String(F);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][ge]=this.stateChanges[D][ge]||{},c(this.stateChanges[D][ge],J),null===this.deletedStates[D])for(var Oe in this.deletedStates[D]={},this.state[D])Oe!==ge&&(this.deletedStates[D][Oe]=null);else if(this.deletedStates[D]&&null===this.deletedStates[D][ge])for(var Be in this.deletedStates[D][ge]={},this.state[D][ge])J[Be]||(this.deletedStates[D][ge][Be]=null);else for(var Ze in J)this.deletedStates[D]&&this.deletedStates[D][ge]&&null===this.deletedStates[D][ge][Ze]&&delete this.deletedStates[D][ge][Ze]},Tf.prototype.removeFeatureState=function(D,F,J){if(null!==this.deletedStates[D]){var ge=String(F);if(this.deletedStates[D]=this.deletedStates[D]||{},J&&void 0!==F)null!==this.deletedStates[D][ge]&&(this.deletedStates[D][ge]=this.deletedStates[D][ge]||{},this.deletedStates[D][ge][J]=null);else if(void 0!==F)if(this.stateChanges[D]&&this.stateChanges[D][ge])for(J in this.deletedStates[D][ge]={},this.stateChanges[D][ge])this.deletedStates[D][ge][J]=null;else this.deletedStates[D][ge]=null;else this.deletedStates[D]=null}},Tf.prototype.getState=function(D,F){var J=String(F),Be=c({},(this.state[D]||{})[J],(this.stateChanges[D]||{})[J]);if(null===this.deletedStates[D])return{};if(this.deletedStates[D]){var Ze=this.deletedStates[D][F];if(null===Ze)return{};for(var ot in Ze)delete Be[ot]}return Be},Tf.prototype.initializeTileState=function(D,F){D.setFeatureState(this.state,F)},Tf.prototype.coalesceChanges=function(D,F){var J={};for(var ge in this.stateChanges){this.state[ge]=this.state[ge]||{};var Oe={};for(var Be in this.stateChanges[ge])this.state[ge][Be]||(this.state[ge][Be]={}),c(this.state[ge][Be],this.stateChanges[ge][Be]),Oe[Be]=this.state[ge][Be];J[ge]=Oe}for(var Ze in this.deletedStates){this.state[Ze]=this.state[Ze]||{};var ot={};if(null===this.deletedStates[Ze])for(var pt in this.state[Ze])ot[pt]={},this.state[Ze][pt]={};else for(var Et in this.deletedStates[Ze]){if(null===this.deletedStates[Ze][Et])this.state[Ze][Et]={};else for(var Dt=0,Vt=Object.keys(this.deletedStates[Ze][Et]);Dt<Vt.length;Dt+=1)delete this.state[Ze][Et][Vt[Dt]];ot[Et]=this.state[Ze][Et]}J[Ze]=J[Ze]||{},c(J[Ze],ot)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(J).length)for(var qt in D)D[qt].setFeatureState(J,F)};var su=function(D,F){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new Go($i,16,0),this.grid3D=new Go($i,16,0),this.featureIndexArray=new en,this.promoteId=F};function Xp(D,F,J,ge,Oe){return x(D,function(Be,Ze){var ot=F instanceof la?F.get(Ze):null;return ot&&ot.evaluate?ot.evaluate(J,ge,Oe):ot})}function fc(D){for(var F=1/0,J=1/0,ge=-1/0,Oe=-1/0,Be=0,Ze=D;Be<Ze.length;Be+=1){var ot=Ze[Be];F=Math.min(F,ot.x),J=Math.min(J,ot.y),ge=Math.max(ge,ot.x),Oe=Math.max(Oe,ot.y)}return{minX:F,minY:J,maxX:ge,maxY:Oe}}function Ng(D,F){return F-D}su.prototype.insert=function(D,F,J,ge,Oe,Be){var Ze=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(J,ge,Oe);for(var ot=Be?this.grid3D:this.grid,pt=0;pt<F.length;pt++){for(var Et=F[pt],Dt=[1/0,1/0,-1/0,-1/0],Vt=0;Vt<Et.length;Vt++){var Jt=Et[Vt];Dt[0]=Math.min(Dt[0],Jt.x),Dt[1]=Math.min(Dt[1],Jt.y),Dt[2]=Math.max(Dt[2],Jt.x),Dt[3]=Math.max(Dt[3],Jt.y)}Dt[0]<$i&&Dt[1]<$i&&Dt[2]>=0&&Dt[3]>=0&&ot.insert(Ze,Dt[0],Dt[1],Dt[2],Dt[3])}},su.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Vl.VectorTile(new td(this.rawTileData)).layers,this.sourceLayerCoder=new ah(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},su.prototype.query=function(D,F,J,ge){var Oe=this;this.loadVTLayers();for(var Be=D.params||{},Ze=$i/D.tileSize/D.scale,ot=Fl(Be.filter),pt=D.queryGeometry,Et=D.queryPadding*Ze,Dt=fc(pt),Vt=this.grid.query(Dt.minX-Et,Dt.minY-Et,Dt.maxX+Et,Dt.maxY+Et),Jt=fc(D.cameraQueryGeometry),qt=0,dn=this.grid3D.query(Jt.minX-Et,Jt.minY-Et,Jt.maxX+Et,Jt.maxY+Et,function(tr,cr,vr,Pr){return function(Sr,Nr,Gr,hi,Zr){for(var oi=0,ei=Sr;oi<ei.length;oi+=1){var Vr=ei[oi];if(Nr<=Vr.x&&Gr<=Vr.y&&hi>=Vr.x&&Zr>=Vr.y)return!0}var Ei=[new t(Nr,Gr),new t(Nr,Zr),new t(hi,Zr),new t(hi,Gr)];if(Sr.length>2)for(var mi=0,vo=Ei;mi<vo.length;mi+=1)if(Ac(Sr,vo[mi]))return!0;for(var ii=0;ii<Sr.length-1;ii++)if(Jc(Sr[ii],Sr[ii+1],Ei))return!0;return!1}(D.cameraQueryGeometry,tr-Et,cr-Et,vr+Et,Pr+Et)});qt<dn.length;qt+=1)Vt.push(dn[qt]);Vt.sort(Ng);for(var Fn,Nn={},qn=function(tr){var cr=Vt[tr];if(cr!==Fn){Fn=cr;var vr=Oe.featureIndexArray.get(cr),Pr=null;Oe.loadMatchingFeature(Nn,vr.bucketIndex,vr.sourceLayerIndex,vr.featureIndex,ot,Be.layers,Be.availableImages,F,J,ge,function(Sr,Nr,Gr){return Pr||(Pr=is(Sr)),Nr.queryIntersectsFeature(pt,Sr,Gr,Pr,Oe.z,D.transform,Ze,D.pixelPosMatrix)})}},Zn=0;Zn<Vt.length;Zn++)qn(Zn);return Nn},su.prototype.loadMatchingFeature=function(D,F,J,ge,Oe,Be,Ze,ot,pt,Et,Dt){var Vt=this.bucketLayerIDs[F];if(!Be||function(Pr,Sr){for(var Nr=0;Nr<Pr.length;Nr++)if(Sr.indexOf(Pr[Nr])>=0)return!0;return!1}(Be,Vt)){var Jt=this.sourceLayerCoder.decode(J),qt=this.vtLayers[Jt].feature(ge);if(Oe.filter(new eo(this.tileID.overscaledZ),qt))for(var dn=this.getId(qt,Jt),yn=0;yn<Vt.length;yn++){var Fn=Vt[yn];if(!(Be&&Be.indexOf(Fn)<0)){var Nn=ot[Fn];if(Nn){var qn={};void 0!==dn&&Et&&(qn=Et.getState(Nn.sourceLayer||"_geojsonTileLayer",dn));var Zn=pt[Fn];Zn.paint=Xp(Zn.paint,Nn.paint,qt,qn,Ze),Zn.layout=Xp(Zn.layout,Nn.layout,qt,qn,Ze);var tr=!Dt||Dt(qt,Nn,qn);if(tr){var cr=new wf(qt,this.z,this.x,this.y,dn);cr.layer=Zn;var vr=D[Fn];void 0===vr&&(vr=D[Fn]=[]),vr.push({featureIndex:ge,feature:cr,intersectionZ:tr})}}}}}},su.prototype.lookupSymbolFeatures=function(D,F,J,ge,Oe,Be,Ze,ot){var pt={};this.loadVTLayers();for(var Et=Fl(Oe),Dt=0,Vt=D;Dt<Vt.length;Dt+=1)this.loadMatchingFeature(pt,J,ge,Vt[Dt],Et,Be,Ze,ot,F);return pt},su.prototype.hasLayer=function(D){for(var F=0,J=this.bucketLayerIDs;F<J.length;F+=1)for(var ge=0,Oe=J[F];ge<Oe.length;ge+=1)if(D===Oe[ge])return!0;return!1},su.prototype.getId=function(D,F){var J=D.id;return this.promoteId&&"boolean"==typeof(J=D.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[F]])&&(J=Number(J)),J},Br("FeatureIndex",su,{omit:["rawTileData","sourceLayerCoder"]});var ka=function(D,F){this.tileID=D,this.uid=f(),this.uses=0,this.tileSize=F,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ka.prototype.registerFadeDuration=function(D){var F=D+this.timeAdded;F<re.now()||this.fadeEndTime&&F<this.fadeEndTime||(this.fadeEndTime=F)},ka.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ka.prototype.loadVectorData=function(D,F,J){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",D){for(var ge in D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=function(Et,Dt){var Vt={};if(!Dt)return Vt;for(var Jt=function(){var yn=dn[qt],Fn=yn.layerIds.map(function(tr){return Dt.getLayer(tr)}).filter(Boolean);if(0!==Fn.length){yn.layers=Fn,yn.stateDependentLayerIds&&(yn.stateDependentLayers=yn.stateDependentLayerIds.map(function(tr){return Fn.filter(function(cr){return cr.id===tr})[0]}));for(var Nn=0,qn=Fn;Nn<qn.length;Nn+=1)Vt[qn[Nn].id]=yn}},qt=0,dn=Et;qt<dn.length;qt+=1)Jt();return Vt}(D.buckets,F.style),this.hasSymbolBuckets=!1,this.buckets){var Oe=this.buckets[ge];if(Oe instanceof to){if(this.hasSymbolBuckets=!0,!J)break;Oe.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Be in this.buckets){var Ze=this.buckets[Be];if(Ze instanceof to&&Ze.hasRTLText){this.hasRTLText=!0,Co.isLoading()||Co.isLoaded()||"deferred"!==qs()||Pu();break}}for(var ot in this.queryPadding=0,this.buckets){var pt=this.buckets[ot];this.queryPadding=Math.max(this.queryPadding,F.style.getLayer(ot).queryRadius(pt))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)}else this.collisionBoxArray=new wt},ka.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ka.prototype.getBucket=function(D){return this.buckets[D.id]},ka.prototype.upload=function(D){for(var F in this.buckets){var J=this.buckets[F];J.uploadPending()&&J.upload(D)}var ge=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ou(D,this.imageAtlas.image,ge.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ou(D,this.glyphAtlasImage,ge.ALPHA),this.glyphAtlasImage=null)},ka.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},ka.prototype.queryRenderedFeatures=function(D,F,J,ge,Oe,Be,Ze,ot,pt,Et){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:ge,cameraQueryGeometry:Oe,scale:Be,tileSize:this.tileSize,pixelPosMatrix:Et,transform:ot,params:Ze,queryPadding:this.queryPadding*pt},D,F,J):{}},ka.prototype.querySourceFeatures=function(D,F){var J=this.latestFeatureIndex;if(J&&J.rawTileData){var ge=J.loadVTLayers(),Oe=F?F.sourceLayer:"",Be=ge._geojsonTileLayer||ge[Oe];if(Be)for(var Ze=Fl(F&&F.filter),ot=this.tileID.canonical,pt=ot.z,Et=ot.x,Dt=ot.y,Vt={z:pt,x:Et,y:Dt},Jt=0;Jt<Be.length;Jt++){var qt=Be.feature(Jt);if(Ze.filter(new eo(this.tileID.overscaledZ),qt)){var dn=J.getId(qt,Oe),yn=new wf(qt,pt,Et,Dt,dn);yn.tile=Vt,D.push(yn)}}}},ka.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ka.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ka.prototype.setExpiryData=function(D){var F=this.expirationTime;if(D.cacheControl){var J=P(D.cacheControl);J["max-age"]&&(this.expirationTime=Date.now()+1e3*J["max-age"])}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var ge=Date.now(),Oe=!1;if(this.expirationTime>ge)Oe=!1;else if(F)if(this.expirationTime<F)Oe=!0;else{var Be=this.expirationTime-F;Be?this.expirationTime=ge+Math.max(Be,3e4):Oe=!0}else Oe=!0;Oe?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ka.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ka.prototype.setFeatureState=function(D,F){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(D).length){var J=this.latestFeatureIndex.loadVTLayers();for(var ge in this.buckets)if(F.style.hasLayer(ge)){var Oe=this.buckets[ge],Be=Oe.layers[0].sourceLayer||"_geojsonTileLayer",Ze=J[Be],ot=D[Be];if(Ze&&ot&&0!==Object.keys(ot).length){Oe.update(ot,Ze,this.imageAtlas&&this.imageAtlas.patternPositions||{});var pt=F&&F.style&&F.style.getLayer(ge);pt&&(this.queryPadding=Math.max(this.queryPadding,pt.queryRadius(Oe)))}}}},ka.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ka.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<re.now()},ka.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ka.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=re.now()+D},ka.prototype.setDependencies=function(D,F){for(var J={},ge=0,Oe=F;ge<Oe.length;ge+=1)J[Oe[ge]]=!0;this.dependencies[D]=J},ka.prototype.hasDependency=function(D,F){for(var J=0,ge=D;J<ge.length;J+=1){var Be=this.dependencies[ge[J]];if(Be)for(var Ze=0,ot=F;Ze<ot.length;Ze+=1)if(Be[ot[Ze]])return!0}return!1};var hc=self.performance,Vv=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},hc.mark(this._marks.start)};Vv.prototype.finish=function(){hc.mark(this._marks.end);var D=hc.getEntriesByName(this._marks.measure);return 0===D.length&&(hc.measure(this._marks.measure,this._marks.start,this._marks.end),D=hc.getEntriesByName(this._marks.measure),hc.clearMarks(this._marks.start),hc.clearMarks(this._marks.end),hc.clearMeasures(this._marks.measure)),D},u.Actor=bf,u.AlphaImage=oc,u.CanonicalTileID=Rc,u.CollisionBoxArray=wt,u.Color=En,u.DEMData=au,u.DataConstantProperty=Yr,u.DictionaryCoder=ah,u.EXTENT=$i,u.ErrorEvent=ft,u.EvaluationParameters=eo,u.Event=rt,u.Evented=vt,u.FeatureIndex=su,u.FillBucket=iu,u.FillExtrusionBucket=Ps,u.ImageAtlas=Dc,u.ImagePosition=id,u.LineBucket=ys,u.LngLat=co,u.LngLatBounds=ta,u.MercatorCoordinate=Oc,u.ONE_EM=Xi,u.OverscaledTileID=pa,u.Point=t,u.Point$1=t,u.Properties=ca,u.Protobuf=td,u.RGBAImage=os,u.RequestManager=he,u.RequestPerformance=Vv,u.ResourceType=kt,u.SegmentVector=In,u.SourceFeatureState=Tf,u.StructArrayLayout1ui2=Je,u.StructArrayLayout2f1f2i16=Le,u.StructArrayLayout2i4=Na,u.StructArrayLayout3ui6=ne,u.StructArrayLayout4i8=xl,u.SymbolBucket=to,u.Texture=ou,u.Tile=ka,u.Transitionable=Ls,u.Uniform1f=ci,u.Uniform1i=Jr,u.Uniform2f=bi,u.Uniform3f=Hi,u.Uniform4f=po,u.UniformColor=uo,u.UniformMatrix4f=Mo,u.UnwrappedTileID=Fg,u.ValidationError=Ve,u.WritingMode=xs,u.ZoomHistory=xi,u.add=function(D,F,J){return D[0]=F[0]+J[0],D[1]=F[1]+J[1],D[2]=F[2]+J[2],D},u.addDynamicAttributes=Hp,u.asyncAll=function(D,F,J){if(!D.length)return J(null,[]);var ge=D.length,Oe=new Array(D.length),Be=null;D.forEach(function(Ze,ot){F(Ze,function(pt,Et){pt&&(Be=pt),Oe[ot]=Et,0==--ge&&J(Be,Oe)})})},u.bezier=r,u.bindAll=h,u.browser=re,u.cacheEntryPossiblyAdded=function(D){++mt>De&&(D.getActor().send("enforceCacheSizeLimit",Ie),mt=0)},u.clamp=a,u.clearTileCache=function(D){var F=self.caches.delete(ve);D&&F.catch(D).then(function(){return D()})},u.clipLine=Rv,u.clone=function(D){var F=new sl(16);return F[0]=D[0],F[1]=D[1],F[2]=D[2],F[3]=D[3],F[4]=D[4],F[5]=D[5],F[6]=D[6],F[7]=D[7],F[8]=D[8],F[9]=D[9],F[10]=D[10],F[11]=D[11],F[12]=D[12],F[13]=D[13],F[14]=D[14],F[15]=D[15],F},u.clone$1=M,u.clone$2=function(D){var F=new sl(3);return F[0]=D[0],F[1]=D[1],F[2]=D[2],F},u.collisionCircleLayout=Xf,u.config=Q,u.create=function(){var D=new sl(16);return sl!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=0),D[0]=1,D[5]=1,D[10]=1,D[15]=1,D},u.create$1=function(){var D=new sl(9);return sl!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D},u.create$2=function(){var D=new sl(4);return sl!=Float32Array&&(D[1]=0,D[2]=0),D[0]=1,D[3]=1,D},u.createCommonjsModule=A,u.createExpression=Ea,u.createLayout=Oo,u.createStyleLayer=function(D){return"custom"===D.type?new Uv(D):new Lg[D.type](D)},u.cross=function(D,F,J){var ge=F[0],Oe=F[1],Be=F[2],Ze=J[0],ot=J[1],pt=J[2];return D[0]=Oe*pt-Be*ot,D[1]=Be*Ze-ge*pt,D[2]=ge*ot-Oe*Ze,D},u.deepEqual=function D(F,J){if(Array.isArray(F)){if(!Array.isArray(J)||F.length!==J.length)return!1;for(var ge=0;ge<F.length;ge++)if(!D(F[ge],J[ge]))return!1;return!0}if("object"==typeof F&&null!==F&&null!==J){if("object"!=typeof J||Object.keys(F).length!==Object.keys(J).length)return!1;for(var Oe in F)if(!D(F[Oe],J[Oe]))return!1;return!0}return F===J},u.dot=function(D,F){return D[0]*F[0]+D[1]*F[1]+D[2]*F[2]},u.dot$1=function(D,F){return D[0]*F[0]+D[1]*F[1]+D[2]*F[2]+D[3]*F[3]},u.ease=n,u.emitValidationErrors=Ca,u.endsWith=_,u.enforceCacheSizeLimit=function(D){Ge(),pe&&pe.then(function(F){F.keys().then(function(J){for(var ge=0;ge<J.length-D;ge++)F.delete(J[ge])})})},u.evaluateSizeForFeature=jp,u.evaluateSizeForZoom=Dv,u.evaluateVariableOffset=kg,u.evented=Wo,u.extend=c,u.featureFilter=Fl,u.filterObject=b,u.fromRotation=function(D,F){var J=Math.sin(F),ge=Math.cos(F);return D[0]=ge,D[1]=J,D[2]=0,D[3]=-J,D[4]=ge,D[5]=0,D[6]=0,D[7]=0,D[8]=1,D},u.getAnchorAlignment=zp,u.getAnchorJustification=Vp,u.getArrayBuffer=Ot,u.getImage=nt,u.getJSON=function(D,F){return Ct(c(D,{type:"json"}),F)},u.getRTLTextPluginStatus=qs,u.getReferrer=gt,u.getVideo=function(D,F){var J,ge,Oe=self.document.createElement("video");Oe.muted=!0,Oe.onloadstart=function(){F(null,Oe)};for(var Be=0;Be<D.length;Be++){var Ze=self.document.createElement("source");J=D[Be],ge=void 0,(ge=self.document.createElement("a")).href=J,ge.protocol===self.document.location.protocol&&ge.host===self.document.location.host||(Oe.crossOrigin="Anonymous"),Ze.src=D[Be],Oe.appendChild(Ze)}return{cancel:function(){}}},u.identity=Rh,u.invert=function(D,F){var J=F[0],ge=F[1],Oe=F[2],Be=F[3],Ze=F[4],ot=F[5],pt=F[6],Et=F[7],Dt=F[8],Vt=F[9],Jt=F[10],qt=F[11],dn=F[12],yn=F[13],Fn=F[14],Nn=F[15],qn=J*ot-ge*Ze,Zn=J*pt-Oe*Ze,tr=J*Et-Be*Ze,cr=ge*pt-Oe*ot,vr=ge*Et-Be*ot,Pr=Oe*Et-Be*pt,Sr=Dt*yn-Vt*dn,Nr=Dt*Fn-Jt*dn,Gr=Dt*Nn-qt*dn,hi=Vt*Fn-Jt*yn,Zr=Vt*Nn-qt*yn,oi=Jt*Nn-qt*Fn,ei=qn*oi-Zn*Zr+tr*hi+cr*Gr-vr*Nr+Pr*Sr;return ei?(D[0]=(ot*oi-pt*Zr+Et*hi)*(ei=1/ei),D[1]=(Oe*Zr-ge*oi-Be*hi)*ei,D[2]=(yn*Pr-Fn*vr+Nn*cr)*ei,D[3]=(Jt*vr-Vt*Pr-qt*cr)*ei,D[4]=(pt*Gr-Ze*oi-Et*Nr)*ei,D[5]=(J*oi-Oe*Gr+Be*Nr)*ei,D[6]=(Fn*tr-dn*Pr-Nn*Zn)*ei,D[7]=(Dt*Pr-Jt*tr+qt*Zn)*ei,D[8]=(Ze*Zr-ot*Gr+Et*Sr)*ei,D[9]=(ge*Gr-J*Zr-Be*Sr)*ei,D[10]=(dn*vr-yn*tr+Nn*qn)*ei,D[11]=(Vt*tr-Dt*vr-qt*qn)*ei,D[12]=(ot*Nr-Ze*hi-pt*Sr)*ei,D[13]=(J*hi-ge*Nr+Oe*Sr)*ei,D[14]=(yn*Zn-dn*cr-Fn*qn)*ei,D[15]=(Dt*cr-Vt*Zn+Jt*qn)*ei,D):null},u.isChar=zr,u.isMapboxURL=me,u.keysDifference=function(D,F){var J=[];for(var ge in D)ge in F||J.push(ge);return J},u.makeRequest=Ct,u.mapObject=x,u.mercatorXfromLng=dd,u.mercatorYfromLat=oh,u.mercatorZfromAltitude=Rg,u.mul=uv,u.multiply=ag,u.mvt=Vl,u.normalize=function(D,F){var J=F[0],ge=F[1],Oe=F[2],Be=J*J+ge*ge+Oe*Oe;return Be>0&&(Be=1/Math.sqrt(Be)),D[0]=F[0]*Be,D[1]=F[1]*Be,D[2]=F[2]*Be,D},u.number=sr,u.offscreenCanvasSupported=at,u.ortho=function(D,F,J,ge,Oe,Be,Ze){var ot=1/(F-J),pt=1/(ge-Oe),Et=1/(Be-Ze);return D[0]=-2*ot,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*pt,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*Et,D[11]=0,D[12]=(F+J)*ot,D[13]=(Oe+ge)*pt,D[14]=(Ze+Be)*Et,D[15]=1,D},u.parseGlyphPBF=function(D){return new td(D).readFields(Rp,[])},u.pbf=td,u.performSymbolLayout=function(D,F,J,ge,Oe,Be,Ze){D.createArrays(),D.tilePixelRatio=$i/(512*D.overscaling),D.compareText={},D.iconsNeedLinear=!1;var pt=D.layers[0].layout,Et=D.layers[0]._unevaluatedLayout._values,Dt={};if("composite"===D.textSizeData.kind){var Vt=D.textSizeData,qt=Vt.maxZoom;Dt.compositeTextSizes=[Et["text-size"].possiblyEvaluate(new eo(Vt.minZoom),Ze),Et["text-size"].possiblyEvaluate(new eo(qt),Ze)]}if("composite"===D.iconSizeData.kind){var dn=D.iconSizeData,Fn=dn.maxZoom;Dt.compositeIconSizes=[Et["icon-size"].possiblyEvaluate(new eo(dn.minZoom),Ze),Et["icon-size"].possiblyEvaluate(new eo(Fn),Ze)]}Dt.layoutTextSize=Et["text-size"].possiblyEvaluate(new eo(D.zoom+1),Ze),Dt.layoutIconSize=Et["icon-size"].possiblyEvaluate(new eo(D.zoom+1),Ze),Dt.textMaxSize=Et["text-size"].possiblyEvaluate(new eo(18));for(var Nn=pt.get("text-line-height")*Xi,qn="map"===pt.get("text-rotation-alignment")&&"point"!==pt.get("symbol-placement"),Zn=pt.get("text-keep-upright"),tr=pt.get("text-size"),cr=function(){var Sr=Pr[vr],Nr=pt.get("text-font").evaluate(Sr,{},Ze).join(","),Gr=tr.evaluate(Sr,{},Ze),hi=Dt.layoutTextSize.evaluate(Sr,{},Ze),Zr=Dt.layoutIconSize.evaluate(Sr,{},Ze),oi={horizontal:{},vertical:void 0},ei=Sr.text,Vr=[0,0];if(ei){var Ei=ei.toString(),mi=pt.get("text-letter-spacing").evaluate(Sr,{},Ze)*Xi,vo=function(wi){for(var Wi=0,$o=wi;Wi<$o.length;Wi+=1)if(yo=$o[Wi].charCodeAt(0),zr.Arabic(yo)||zr["Arabic Supplement"](yo)||zr["Arabic Extended-A"](yo)||zr["Arabic Presentation Forms-A"](yo)||zr["Arabic Presentation Forms-B"](yo))return!1;var yo;return!0}(Ei)?mi:0,ii=pt.get("text-anchor").evaluate(Sr,{},Ze),oo=pt.get("text-variable-anchor");if(!oo){var xo=pt.get("text-radial-offset").evaluate(Sr,{},Ze);Vr=xo?kg(ii,[xo*Xi,Os]):pt.get("text-offset").evaluate(Sr,{},Ze).map(function(wi){return wi*Xi})}var ko=qn?"center":pt.get("text-justify").evaluate(Sr,{},Ze),So=pt.get("symbol-placement"),bo="point"===So?pt.get("text-max-width").evaluate(Sr,{},Ze)*Xi:0,ga=function(){D.allowVerticalPlacement&&Za(Ei)&&(oi.vertical=Bu(ei,F,J,Oe,Nr,bo,Nn,ii,"left",vo,Vr,xs.vertical,!0,So,hi,Gr))};if(!qn&&oo){for(var Ro="auto"===ko?oo.map(function(wi){return Vp(wi)}):[ko],Fo=!1,ma=0;ma<Ro.length;ma++){var ja=Ro[ma];if(!oi.horizontal[ja])if(Fo)oi.horizontal[ja]=oi.horizontal[0];else{var Fs=Bu(ei,F,J,Oe,Nr,bo,Nn,"center",ja,vo,Vr,xs.horizontal,!1,So,hi,Gr);Fs&&(oi.horizontal[ja]=Fs,Fo=1===Fs.positionedLines.length)}}ga()}else{"auto"===ko&&(ko=Vp(ii));var $a=Bu(ei,F,J,Oe,Nr,bo,Nn,ii,ko,vo,Vr,xs.horizontal,!1,So,hi,Gr);$a&&(oi.horizontal[ko]=$a),ga(),Za(Ei)&&qn&&Zn&&(oi.vertical=Bu(ei,F,J,Oe,Nr,bo,Nn,ii,ko,vo,Vr,xs.vertical,!1,So,hi,Gr))}}var wi,Wi,yo,ls,bs,Da=void 0,Xa=!1;if(Sr.icon&&Sr.icon.name){var Ua=ge[Sr.icon.name];Ua&&(wi=Oe[Sr.icon.name],Wi=pt.get("icon-offset").evaluate(Sr,{},Ze),yo=zp(pt.get("icon-anchor").evaluate(Sr,{},Ze)),Da={image:wi,top:bs=Wi[1]-wi.displaySize[1]*yo.verticalAlign,bottom:bs+wi.displaySize[1],left:ls=Wi[0]-wi.displaySize[0]*yo.horizontalAlign,right:ls+wi.displaySize[0]},Xa=Ua.sdf,void 0===D.sdfIcons?D.sdfIcons=Ua.sdf:D.sdfIcons!==Ua.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ua.pixelRatio!==D.pixelRatio||0!==pt.get("icon-rotate").constantOr(1))&&(D.iconsNeedLinear=!0))}var va=Sg(oi.horizontal)||oi.vertical;D.iconsInText=!!va&&va.iconsInText,(va||Da)&&function(wi,Wi,$o,yo,Do,Qi,Ri,jo,ls,Ns,bs){var xu=Qi.textMaxSize.evaluate(Wi,{});void 0===xu&&(xu=Ri);var dc,ya=wi.layers[0].layout,Tl=ya.get("icon-offset").evaluate(Wi,{},bs),lu=Sg($o.horizontal),pc=Ri/24,pd=wi.tilePixelRatio*pc,Fc=wi.tilePixelRatio*xu/24,gd=wi.tilePixelRatio*jo,sh=wi.tilePixelRatio*ya.get("symbol-spacing"),md=ya.get("text-padding")*wi.tilePixelRatio,Nc=ya.get("icon-padding")*wi.tilePixelRatio,Mf=ya.get("text-max-angle")/180*Math.PI,Af="map"===ya.get("text-rotation-alignment")&&"point"!==ya.get("symbol-placement"),vd="map"===ya.get("icon-rotation-alignment")&&"point"!==ya.get("symbol-placement"),na=ya.get("symbol-placement"),Kp=sh/2,lh=ya.get("icon-text-fit");yo&&"none"!==lh&&(wi.allowVerticalPlacement&&$o.vertical&&(dc=Bp(yo,$o.vertical,lh,ya.get("icon-text-fit-padding"),Tl,pc)),lu&&(yo=Bp(yo,lu,lh,ya.get("icon-text-fit-padding"),Tl,pc)));var gc=function(e0,Cf){Cf.x<0||Cf.x>=$i||Cf.y<0||Cf.y>=$i||function(Xo,_s,Hv,bu,Df,jg,If,Ml,Gl,Bc,Lf,Sd,t0,n0,_u,Ug,Vg,Hg,Ed,fh,ul,hh,wu,Hu,Dx){var r0,jc,dh,ph,Gu,Pf=Xo.addToLineVertexArray(_s,Hv),Cd=0,Dd=0,Of=0,Id=0,gh=-1,Uc=-1,ql={},Rf=yr(""),Ld=0,mh=0;if(void 0===Ml._unevaluatedLayout.getValue("text-radial-offset")?(Ld=(r0=Ml.layout.get("text-offset").evaluate(ul,{},Hu).map(function(Nd){return Nd*Xi}))[0],mh=r0[1]):(Ld=Ml.layout.get("text-radial-offset").evaluate(ul,{},Hu)*Xi,mh=Os),Xo.allowVerticalPlacement&&bu.vertical){var vh=Ml.layout.get("text-rotate").evaluate(ul,{},Hu)+90;ph=new nh(Gl,_s,Bc,Lf,Sd,bu.vertical,t0,n0,_u,vh),If&&(Gu=new nh(Gl,_s,Bc,Lf,Sd,If,Vg,Hg,_u,vh))}if(Df){var yh=Ml.layout.get("icon-rotate").evaluate(ul,{}),Pd="none"!==Ml.layout.get("icon-text-fit"),o0=Fv(Df,yh,wu,Pd),a0=If?Fv(If,yh,wu,Pd):void 0;dh=new nh(Gl,_s,Bc,Lf,Sd,Df,Vg,Hg,!1,yh),Cd=4*o0.length;var Gg=Xo.iconSizeData,Ff=null;"source"===Gg.kind?(Ff=[Hl*Ml.layout.get("icon-size").evaluate(ul,{})])[0]>Vu&&E(Xo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Gg.kind&&((Ff=[Hl*hh.compositeIconSizes[0].evaluate(ul,{},Hu),Hl*hh.compositeIconSizes[1].evaluate(ul,{},Hu)])[0]>Vu||Ff[1]>Vu)&&E(Xo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Xo.addSymbols(Xo.icon,o0,Ff,fh,Ed,ul,!1,_s,Pf.lineStartIndex,Pf.lineLength,-1,Hu),gh=Xo.icon.placedSymbolArray.length-1,a0&&(Dd=4*a0.length,Xo.addSymbols(Xo.icon,a0,Ff,fh,Ed,ul,xs.vertical,_s,Pf.lineStartIndex,Pf.lineLength,-1,Hu),Uc=Xo.icon.placedSymbolArray.length-1)}for(var s0 in bu.horizontal){var Od=bu.horizontal[s0];if(!jc){Rf=yr(Od.text);var Gv=Ml.layout.get("text-rotate").evaluate(ul,{},Hu);jc=new nh(Gl,_s,Bc,Lf,Sd,Od,t0,n0,_u,Gv)}var qv=1===Od.positionedLines.length;if(Of+=ld(Xo,_s,Od,jg,Ml,_u,ul,Ug,Pf,bu.vertical?xs.horizontal:xs.horizontalOnly,qv?Object.keys(bu.horizontal):[s0],ql,gh,hh,Hu),qv)break}bu.vertical&&(Id+=ld(Xo,_s,bu.vertical,jg,Ml,_u,ul,Ug,Pf,xs.vertical,["vertical"],ql,Uc,hh,Hu));var Wv=jc?jc.boxStartIndex:Xo.collisionBoxArray.length,l0=jc?jc.boxEndIndex:Xo.collisionBoxArray.length,u0=ph?ph.boxStartIndex:Xo.collisionBoxArray.length,Zv=ph?ph.boxEndIndex:Xo.collisionBoxArray.length,qg=dh?dh.boxStartIndex:Xo.collisionBoxArray.length,c0=dh?dh.boxEndIndex:Xo.collisionBoxArray.length,Rd=Gu?Gu.boxStartIndex:Xo.collisionBoxArray.length,Yv=Gu?Gu.boxEndIndex:Xo.collisionBoxArray.length,hu=-1,Fd=function(Nd,Wg){return Nd&&Nd.circleDiameter?Math.max(Nd.circleDiameter,Wg):Wg};hu=Fd(jc,hu),hu=Fd(ph,hu),hu=Fd(dh,hu);var f0=(hu=Fd(Gu,hu))>-1?1:0;f0&&(hu*=Dx/Xi),Xo.glyphOffsetArray.length>=to.MAX_GLYPHS&&E("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==ul.sortKey&&Xo.addToSortKeyRanges(Xo.symbolInstances.length,ul.sortKey),Xo.symbolInstances.emplaceBack(_s.x,_s.y,ql.right>=0?ql.right:-1,ql.center>=0?ql.center:-1,ql.left>=0?ql.left:-1,ql.vertical||-1,gh,Uc,Rf,Wv,l0,u0,Zv,qg,c0,Rd,Yv,Bc,Of,Id,Cd,Dd,f0,0,t0,Ld,mh,hu)}(wi,Cf,e0,$o,yo,Do,dc,wi.layers[0],wi.collisionBoxArray,Wi.index,Wi.sourceLayerIndex,wi.index,pd,md,Af,ls,gd,Nc,vd,Tl,Wi,Qi,Ns,bs,Ri)};if("line"===na)for(var zc=0,yd=Rv(Wi.geometry,0,0,$i,$i);zc<yd.length;zc+=1)for(var xd=yd[zc],kf=0,bd=Cx(xd,sh,Mf,$o.vertical||lu,yo,24,Fc,wi.overscaling,$i);kf<bd.length;kf+=1){var uh=bd[kf];lu&&Nv(wi,lu.text,Kp,uh)||gc(xd,uh)}else if("line-center"===na)for(var _d=0,wd=Wi.geometry;_d<wd.length;_d+=1){var cu=wd[_d];if(cu.length>1){var ai=Up(cu,Mf,$o.vertical||lu,yo,24,Fc);ai&&gc(cu,ai)}}else if("Polygon"===Wi.type)for(var fu=0,Sf=Yh(Wi.geometry,0);fu<Sf.length;fu+=1){var Ef=Sf[fu],Jp=Mg(Ef,16);gc(Ef[0],new mf(Jp.x,Jp.y,0))}else if("LineString"===Wi.type)for(var ch=0,zg=Wi.geometry;ch<zg.length;ch+=1){var Td=zg[ch];gc(Td,new mf(Td[0].x,Td[0].y,0))}else if("Point"===Wi.type)for(var Md=0,Ad=Wi.geometry;Md<Ad.length;Md+=1)for(var Bg=0,kd=Ad[Md];Bg<kd.length;Bg+=1){var Qp=kd[Bg];gc([Qp],new mf(Qp.x,Qp.y,0))}}(D,Sr,oi,Da,ge,Dt,hi,Zr,Vr,Xa,Ze)},vr=0,Pr=D.features;vr<Pr.length;vr+=1)cr();Be&&D.generateCollisionDebugBuffers()},u.perspective=function(D,F,J,ge,Oe){var Be,Ze=1/Math.tan(F/2);return D[0]=Ze/J,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=Ze,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,null!=Oe&&Oe!==1/0?(D[10]=(Oe+ge)*(Be=1/(ge-Oe)),D[14]=2*Oe*ge*Be):(D[10]=-1,D[14]=-2*ge),D},u.pick=function(D,F){for(var J={},ge=0;ge<F.length;ge++){var Oe=F[ge];Oe in D&&(J[Oe]=D[Oe])}return J},u.plugin=Co,u.polygonIntersectsPolygon=vs,u.postMapLoadEvent=$e,u.postTurnstileEvent=Ee,u.potpack=bg,u.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],u.register=Br,u.registerForPluginStateChange=function(D){return D({pluginStatus:Po,pluginURL:Mi}),Wo.on("pluginStateChange",D),D},u.rotate=function(D,F,J){var ge=F[0],Oe=F[1],Be=F[2],Ze=F[3],ot=Math.sin(J),pt=Math.cos(J);return D[0]=ge*pt+Be*ot,D[1]=Oe*pt+Ze*ot,D[2]=ge*-ot+Be*pt,D[3]=Oe*-ot+Ze*pt,D},u.rotateX=function(D,F,J){var ge=Math.sin(J),Oe=Math.cos(J),Be=F[4],Ze=F[5],ot=F[6],pt=F[7],Et=F[8],Dt=F[9],Vt=F[10],Jt=F[11];return F!==D&&(D[0]=F[0],D[1]=F[1],D[2]=F[2],D[3]=F[3],D[12]=F[12],D[13]=F[13],D[14]=F[14],D[15]=F[15]),D[4]=Be*Oe+Et*ge,D[5]=Ze*Oe+Dt*ge,D[6]=ot*Oe+Vt*ge,D[7]=pt*Oe+Jt*ge,D[8]=Et*Oe-Be*ge,D[9]=Dt*Oe-Ze*ge,D[10]=Vt*Oe-ot*ge,D[11]=Jt*Oe-pt*ge,D},u.rotateZ=function(D,F,J){var ge=Math.sin(J),Oe=Math.cos(J),Be=F[0],Ze=F[1],ot=F[2],pt=F[3],Et=F[4],Dt=F[5],Vt=F[6],Jt=F[7];return F!==D&&(D[8]=F[8],D[9]=F[9],D[10]=F[10],D[11]=F[11],D[12]=F[12],D[13]=F[13],D[14]=F[14],D[15]=F[15]),D[0]=Be*Oe+Et*ge,D[1]=Ze*Oe+Dt*ge,D[2]=ot*Oe+Vt*ge,D[3]=pt*Oe+Jt*ge,D[4]=Et*Oe-Be*ge,D[5]=Dt*Oe-Ze*ge,D[6]=Vt*Oe-ot*ge,D[7]=Jt*Oe-pt*ge,D},u.scale=function(D,F,J){var ge=J[0],Oe=J[1],Be=J[2];return D[0]=F[0]*ge,D[1]=F[1]*ge,D[2]=F[2]*ge,D[3]=F[3]*ge,D[4]=F[4]*Oe,D[5]=F[5]*Oe,D[6]=F[6]*Oe,D[7]=F[7]*Oe,D[8]=F[8]*Be,D[9]=F[9]*Be,D[10]=F[10]*Be,D[11]=F[11]*Be,D[12]=F[12],D[13]=F[13],D[14]=F[14],D[15]=F[15],D},u.scale$1=function(D,F,J){return D[0]=F[0]*J,D[1]=F[1]*J,D[2]=F[2]*J,D[3]=F[3]*J,D},u.scale$2=function(D,F,J){return D[0]=F[0]*J,D[1]=F[1]*J,D[2]=F[2]*J,D},u.setCacheLimits=function(D,F){Ie=D,De=F},u.setRTLTextPlugin=function(D,F,J){if(void 0===J&&(J=!1),Po===Hs||Po===zo||Po===Vi)throw new Error("setRTLTextPlugin cannot be called multiple times.");Mi=re.resolveURL(D),Po=Hs,ns=F,Ra(),J||Pu()},u.sphericalToCartesian=function(D){var F=D[0],J=D[1],ge=D[2];return J+=90,J*=Math.PI/180,ge*=Math.PI/180,{x:F*Math.cos(J)*Math.sin(ge),y:F*Math.sin(J)*Math.sin(ge),z:F*Math.cos(ge)}},u.sqrLen=function(D){var F=D[0],J=D[1];return F*F+J*J},u.styleSpec=je,u.sub=function(D,F,J){return D[0]=F[0]-J[0],D[1]=F[1]-J[1],D[2]=F[2]-J[2],D},u.symbolSize=Iv,u.transformMat3=function(D,F,J){var ge=F[0],Oe=F[1],Be=F[2];return D[0]=ge*J[0]+Oe*J[3]+Be*J[6],D[1]=ge*J[1]+Oe*J[4]+Be*J[7],D[2]=ge*J[2]+Oe*J[5]+Be*J[8],D},u.transformMat4=qf,u.translate=function(D,F,J){var ge,Oe,Be,Ze,ot,pt,Et,Dt,Vt,Jt,qt,dn,yn=J[0],Fn=J[1],Nn=J[2];return F===D?(D[12]=F[0]*yn+F[4]*Fn+F[8]*Nn+F[12],D[13]=F[1]*yn+F[5]*Fn+F[9]*Nn+F[13],D[14]=F[2]*yn+F[6]*Fn+F[10]*Nn+F[14],D[15]=F[3]*yn+F[7]*Fn+F[11]*Nn+F[15]):(Oe=F[1],Be=F[2],Ze=F[3],ot=F[4],pt=F[5],Et=F[6],Dt=F[7],Vt=F[8],Jt=F[9],qt=F[10],dn=F[11],D[0]=ge=F[0],D[1]=Oe,D[2]=Be,D[3]=Ze,D[4]=ot,D[5]=pt,D[6]=Et,D[7]=Dt,D[8]=Vt,D[9]=Jt,D[10]=qt,D[11]=dn,D[12]=ge*yn+ot*Fn+Vt*Nn+F[12],D[13]=Oe*yn+pt*Fn+Jt*Nn+F[13],D[14]=Be*yn+Et*Fn+qt*Nn+F[14],D[15]=Ze*yn+Dt*Fn+dn*Nn+F[15]),D},u.triggerPluginCompletionEvent=vl,u.uniqueId=f,u.validateCustomStyleLayer=function(D){var F=[],J=D.id;return void 0===J&&F.push({message:"layers."+J+': missing required property "id"'}),void 0===D.render&&F.push({message:"layers."+J+': missing required method "render"'}),D.renderingMode&&"2d"!==D.renderingMode&&"3d"!==D.renderingMode&&F.push({message:"layers."+J+': property "renderingMode" must be either "2d" or "3d"'}),F},u.validateLight=wo,u.validateStyle=Ci,u.values=function(D){var F=[];for(var J in D)F.push(D[J]);return F},u.vectorTile=Vl,u.version=T,u.warnOnce=E,u.webpSupported=K,u.window=self,u.wrap=s}),S(0,function(u){function A(nt){var it=typeof nt;if("number"===it||"boolean"===it||"string"===it||null==nt)return JSON.stringify(nt);if(Array.isArray(nt)){for(var Xe="[",rt=0,ft=nt;rt<ft.length;rt+=1)Xe+=A(ft[rt])+",";return Xe+"]"}for(var vt=Object.keys(nt).sort(),je="{",Ve=0;Ve<vt.length;Ve++)je+=JSON.stringify(vt[Ve])+":"+A(nt[vt[Ve]])+",";return je+"}"}function T(nt){for(var it="",Xe=0,rt=u.refProperties;Xe<rt.length;Xe+=1)it+="/"+A(nt[rt[Xe]]);return it}var m=function(nt){this.keyCache={},nt&&this.replace(nt)};m.prototype.replace=function(nt){this._layerConfigs={},this._layers={},this.update(nt,[])},m.prototype.update=function(nt,it){for(var Xe=this,rt=0,ft=nt;rt<ft.length;rt+=1){var vt=ft[rt];this._layerConfigs[vt.id]=vt;var je=this._layers[vt.id]=u.createStyleLayer(vt);je._featureFilter=u.featureFilter(je.filter),this.keyCache[vt.id]&&delete this.keyCache[vt.id]}for(var Ve=0,ut=it;Ve<ut.length;Ve+=1){var ct=ut[Ve];delete this.keyCache[ct],delete this._layerConfigs[ct],delete this._layers[ct]}this.familiesBySource={};for(var Tt=0,Mt=function(Gt,Wt){for(var Zt={},cn=0;cn<Gt.length;cn++){var nn=Wt&&Wt[Gt[cn].id]||T(Gt[cn]);Wt&&(Wt[Gt[cn].id]=nn);var ln=Zt[nn];ln||(ln=Zt[nn]=[]),ln.push(Gt[cn])}var Qt=[];for(var kn in Zt)Qt.push(Zt[kn]);return Qt}(u.values(this._layerConfigs),this.keyCache);Tt<Mt.length;Tt+=1){var At=Mt[Tt].map(function(Gt){return Xe._layers[Gt.id]}),bt=At[0];if("none"!==bt.visibility){var Rt=bt.source||"",xt=this.familiesBySource[Rt];xt||(xt=this.familiesBySource[Rt]={});var _t=bt.sourceLayer||"_geojsonTileLayer",It=xt[_t];It||(It=xt[_t]=[]),It.push(At)}}};var l=function(nt){var it={},Xe=[];for(var rt in nt){var ft=nt[rt],vt=it[rt]={};for(var je in ft){var Ve=ft[+je];if(Ve&&0!==Ve.bitmap.width&&0!==Ve.bitmap.height){var ut={x:0,y:0,w:Ve.bitmap.width+2,h:Ve.bitmap.height+2};Xe.push(ut),vt[je]={rect:ut,metrics:Ve.metrics}}}}var ct=u.potpack(Xe),At=new u.AlphaImage({width:ct.w||1,height:ct.h||1});for(var bt in nt){var Rt=nt[bt];for(var xt in Rt){var _t=Rt[+xt];if(_t&&0!==_t.bitmap.width&&0!==_t.bitmap.height){var It=it[bt][xt].rect;u.AlphaImage.copy(_t.bitmap,At,{x:0,y:0},{x:It.x+1,y:It.y+1},_t.bitmap)}}}this.image=At,this.positions=it};u.register("GlyphAtlas",l);var t=function(nt){this.tileID=new u.OverscaledTileID(nt.tileID.overscaledZ,nt.tileID.wrap,nt.tileID.canonical.z,nt.tileID.canonical.x,nt.tileID.canonical.y),this.uid=nt.uid,this.zoom=nt.zoom,this.pixelRatio=nt.pixelRatio,this.tileSize=nt.tileSize,this.source=nt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=nt.showCollisionBoxes,this.collectResourceTiming=!!nt.collectResourceTiming,this.returnDependencies=!!nt.returnDependencies,this.promoteId=nt.promoteId};function o(nt,it,Xe){for(var rt=new u.EvaluationParameters(it),ft=0,vt=nt;ft<vt.length;ft+=1)vt[ft].recalculate(rt,Xe)}function r(nt,it){var Xe=u.getArrayBuffer(nt.request,function(rt,ft,vt,je){rt?it(rt):ft&&it(null,{vectorTile:new u.vectorTile.VectorTile(new u.pbf(ft)),rawData:ft,cacheControl:vt,expires:je})});return function(){Xe.cancel(),it()}}t.prototype.parse=function(nt,it,Xe,rt,ft){var vt=this;this.status="parsing",this.data=nt,this.collisionBoxArray=new u.CollisionBoxArray;var je=new u.DictionaryCoder(Object.keys(nt.layers).sort()),Ve=new u.FeatureIndex(this.tileID,this.promoteId);Ve.bucketLayerIDs=[];var ut,ct,Tt,Mt,At={},bt={featureIndex:Ve,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Xe},Rt=it.familiesBySource[this.source];for(var xt in Rt){var _t=nt.layers[xt];if(_t){1===_t.version&&u.warnOnce('Vector tile source "'+this.source+'" layer "'+xt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var It=je.encode(xt),Gt=[],Wt=0;Wt<_t.length;Wt++){var Zt=_t.feature(Wt),cn=Ve.getId(Zt,xt);Gt.push({feature:Zt,id:cn,index:Wt,sourceLayerIndex:It})}for(var nn=0,ln=Rt[xt];nn<ln.length;nn+=1){var Qt=ln[nn],kn=Qt[0];kn.minzoom&&this.zoom<Math.floor(kn.minzoom)||kn.maxzoom&&this.zoom>=kn.maxzoom||"none"!==kn.visibility&&(o(Qt,this.zoom,Xe),(At[kn.id]=kn.createBucket({index:Ve.bucketLayerIDs.length,layers:Qt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:It,sourceID:this.source})).populate(Gt,bt,this.tileID.canonical),Ve.bucketLayerIDs.push(Qt.map(function(hn){return hn.id})))}}}var Pn=u.mapObject(bt.glyphDependencies,function(hn){return Object.keys(hn).map(Number)});Object.keys(Pn).length?rt.send("getGlyphs",{uid:this.uid,stacks:Pn},function(hn,mn){ut||(ut=hn,ct=mn,gn.call(vt))}):ct={};var Tn=Object.keys(bt.iconDependencies);Tn.length?rt.send("getImages",{icons:Tn,source:this.source,tileID:this.tileID,type:"icons"},function(hn,mn){ut||(ut=hn,Tt=mn,gn.call(vt))}):Tt={};var tn=Object.keys(bt.patternDependencies);function gn(){if(ut)return ft(ut);if(ct&&Tt&&Mt){var hn=new l(ct),mn=new u.ImageAtlas(Tt,Mt);for(var En in At){var vn=At[En];vn instanceof u.SymbolBucket?(o(vn.layers,this.zoom,Xe),u.performSymbolLayout(vn,ct,hn.positions,Tt,mn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):vn.hasPattern&&(vn instanceof u.LineBucket||vn instanceof u.FillBucket||vn instanceof u.FillExtrusionBucket)&&(o(vn.layers,this.zoom,Xe),vn.addFeatures(bt,this.tileID.canonical,mn.patternPositions))}this.status="done",ft(null,{buckets:u.values(At).filter(function(Un){return!Un.isEmpty()}),featureIndex:Ve,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:hn.image,imageAtlas:mn,glyphMap:this.returnDependencies?ct:null,iconMap:this.returnDependencies?Tt:null,glyphPositions:this.returnDependencies?hn.positions:null})}}tn.length?rt.send("getImages",{icons:tn,source:this.source,tileID:this.tileID,type:"patterns"},function(hn,mn){ut||(ut=hn,Mt=mn,gn.call(vt))}):Mt={},gn.call(this)};var n=function(nt,it,Xe,rt){this.actor=nt,this.layerIndex=it,this.availableImages=Xe,this.loadVectorData=rt||r,this.loading={},this.loaded={}};n.prototype.loadTile=function(nt,it){var Xe=this,rt=nt.uid;this.loading||(this.loading={});var ft=!!(nt&&nt.request&&nt.request.collectResourceTiming)&&new u.RequestPerformance(nt.request),vt=this.loading[rt]=new t(nt);vt.abort=this.loadVectorData(nt,function(je,Ve){if(delete Xe.loading[rt],je||!Ve)return vt.status="done",Xe.loaded[rt]=vt,it(je);var ut=Ve.rawData,ct={};Ve.expires&&(ct.expires=Ve.expires),Ve.cacheControl&&(ct.cacheControl=Ve.cacheControl);var Tt={};if(ft){var Mt=ft.finish();Mt&&(Tt.resourceTiming=JSON.parse(JSON.stringify(Mt)))}vt.vectorTile=Ve.vectorTile,vt.parse(Ve.vectorTile,Xe.layerIndex,Xe.availableImages,Xe.actor,function(At,bt){if(At||!bt)return it(At);it(null,u.extend({rawTileData:ut.slice(0)},bt,ct,Tt))}),Xe.loaded=Xe.loaded||{},Xe.loaded[rt]=vt})},n.prototype.reloadTile=function(nt,it){var Xe=this,rt=this.loaded,ft=nt.uid,vt=this;if(rt&&rt[ft]){var je=rt[ft];je.showCollisionBoxes=nt.showCollisionBoxes;var Ve=function(ut,ct){var Tt=je.reloadCallback;Tt&&(delete je.reloadCallback,je.parse(je.vectorTile,vt.layerIndex,Xe.availableImages,vt.actor,Tt)),it(ut,ct)};"parsing"===je.status?je.reloadCallback=Ve:"done"===je.status&&(je.vectorTile?je.parse(je.vectorTile,this.layerIndex,this.availableImages,this.actor,Ve):Ve())}},n.prototype.abortTile=function(nt,it){var Xe=this.loading,rt=nt.uid;Xe&&Xe[rt]&&Xe[rt].abort&&(Xe[rt].abort(),delete Xe[rt]),it()},n.prototype.removeTile=function(nt,it){var Xe=this.loaded,rt=nt.uid;Xe&&Xe[rt]&&delete Xe[rt],it()};var a=u.window.ImageBitmap,s=function(){this.loaded={}};s.prototype.loadTile=function(nt,it){var Xe=nt.uid,rt=nt.encoding,ft=nt.rawImageData,vt=a&&ft instanceof a?this.getImageData(ft):ft,je=new u.DEMData(Xe,vt,rt);this.loaded=this.loaded||{},this.loaded[Xe]=je,it(null,je)},s.prototype.getImageData=function(nt){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(nt.width,nt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=nt.width,this.offscreenCanvas.height=nt.height,this.offscreenCanvasContext.drawImage(nt,0,0,nt.width,nt.height);var it=this.offscreenCanvasContext.getImageData(-1,-1,nt.width+2,nt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new u.RGBAImage({width:it.width,height:it.height},it.data)},s.prototype.removeTile=function(nt){var it=this.loaded,Xe=nt.uid;it&&it[Xe]&&delete it[Xe]};var c=function nt(it,Xe){var rt,ft=it&&it.type;if("FeatureCollection"===ft)for(rt=0;rt<it.features.length;rt++)nt(it.features[rt],Xe);else if("GeometryCollection"===ft)for(rt=0;rt<it.geometries.length;rt++)nt(it.geometries[rt],Xe);else if("Feature"===ft)nt(it.geometry,Xe);else if("Polygon"===ft)p(it.coordinates,Xe);else if("MultiPolygon"===ft)for(rt=0;rt<it.coordinates.length;rt++)p(it.coordinates[rt],Xe);return it};function p(nt,it){if(0!==nt.length){f(nt[0],it);for(var Xe=1;Xe<nt.length;Xe++)f(nt[Xe],!it)}}function f(nt,it){for(var Xe=0,rt=0,ft=nt.length,vt=ft-1;rt<ft;vt=rt++)Xe+=(nt[rt][0]-nt[vt][0])*(nt[vt][1]+nt[rt][1]);Xe>=0!=!!it&&nt.reverse()}var w=u.vectorTile.VectorTileFeature.prototype.toGeoJSON,v=function(nt){this._feature=nt,this.extent=u.EXTENT,this.type=nt.type,this.properties=nt.tags,"id"in nt&&!isNaN(nt.id)&&(this.id=parseInt(nt.id,10))};v.prototype.loadGeometry=function(){if(1===this._feature.type){for(var nt=[],it=0,Xe=this._feature.geometry;it<Xe.length;it+=1){var rt=Xe[it];nt.push([new u.Point$1(rt[0],rt[1])])}return nt}for(var ft=[],vt=0,je=this._feature.geometry;vt<je.length;vt+=1){for(var Ve=[],ut=0,ct=je[vt];ut<ct.length;ut+=1){var Tt=ct[ut];Ve.push(new u.Point$1(Tt[0],Tt[1]))}ft.push(Ve)}return ft},v.prototype.toGeoJSON=function(nt,it,Xe){return w.call(this,nt,it,Xe)};var h=function(nt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u.EXTENT,this.length=nt.length,this._features=nt};h.prototype.feature=function(nt){return new v(this._features[nt])};var _=u.vectorTile.VectorTileFeature,x=b;function b(nt,it){this.options=it||{},this.features=nt,this.length=nt.length}function M(nt,it){this.id="number"==typeof nt.id?nt.id:void 0,this.type=nt.type,this.rawGeometry=1===nt.type?[nt.geometry]:nt.geometry,this.properties=nt.tags,this.extent=it||4096}b.prototype.feature=function(nt){return new M(this.features[nt],this.options.extent)},M.prototype.loadGeometry=function(){var nt=this.rawGeometry;this.geometry=[];for(var it=0;it<nt.length;it++){for(var Xe=nt[it],rt=[],ft=0;ft<Xe.length;ft++)rt.push(new u.Point$1(Xe[ft][0],Xe[ft][1]));this.geometry.push(rt)}return this.geometry},M.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var nt=this.geometry,it=1/0,Xe=-1/0,rt=1/0,ft=-1/0,vt=0;vt<nt.length;vt++)for(var je=nt[vt],Ve=0;Ve<je.length;Ve++){var ut=je[Ve];it=Math.min(it,ut.x),Xe=Math.max(Xe,ut.x),rt=Math.min(rt,ut.y),ft=Math.max(ft,ut.y)}return[it,rt,Xe,ft]},M.prototype.toGeoJSON=_.prototype.toGeoJSON;var d=L,I=x;function L(nt){var it=new u.pbf;return function(Xe,rt){for(var ft in Xe.layers)rt.writeMessage(3,P,Xe.layers[ft])}(nt,it),it.finish()}function P(nt,it){var Xe;it.writeVarintField(15,nt.version||1),it.writeStringField(1,nt.name||""),it.writeVarintField(5,nt.extent||4096);var rt={keys:[],values:[],keycache:{},valuecache:{}};for(Xe=0;Xe<nt.length;Xe++)rt.feature=nt.feature(Xe),it.writeMessage(2,R,rt);var ft=rt.keys;for(Xe=0;Xe<ft.length;Xe++)it.writeStringField(3,ft[Xe]);var vt=rt.values;for(Xe=0;Xe<vt.length;Xe++)it.writeMessage(4,H,vt[Xe])}function R(nt,it){var Xe=nt.feature;void 0!==Xe.id&&it.writeVarintField(1,Xe.id),it.writeMessage(2,z,nt),it.writeVarintField(3,Xe.type),it.writeMessage(4,W,Xe)}function z(nt,it){var Xe=nt.feature,rt=nt.keys,ft=nt.values,vt=nt.keycache,je=nt.valuecache;for(var Ve in Xe.properties){var ut=vt[Ve];void 0===ut&&(rt.push(Ve),vt[Ve]=ut=rt.length-1),it.writeVarint(ut);var ct=Xe.properties[Ve],Tt=typeof ct;"string"!==Tt&&"boolean"!==Tt&&"number"!==Tt&&(ct=JSON.stringify(ct));var Mt=Tt+":"+ct,At=je[Mt];void 0===At&&(ft.push(ct),je[Mt]=At=ft.length-1),it.writeVarint(At)}}function $(nt,it){return(it<<3)+(7&nt)}function N(nt){return nt<<1^nt>>31}function W(nt,it){for(var Xe=nt.loadGeometry(),rt=nt.type,ft=0,vt=0,je=Xe.length,Ve=0;Ve<je;Ve++){var ut=Xe[Ve],ct=1;1===rt&&(ct=ut.length),it.writeVarint($(1,ct));for(var Tt=3===rt?ut.length-1:ut.length,Mt=0;Mt<Tt;Mt++){1===Mt&&1!==rt&&it.writeVarint($(2,Tt-1));var At=ut[Mt].x-ft,bt=ut[Mt].y-vt;it.writeVarint(N(At)),it.writeVarint(N(bt)),ft+=At,vt+=bt}3===rt&&it.writeVarint($(7,1))}}function H(nt,it){var Xe=typeof nt;"string"===Xe?it.writeStringField(1,nt):"boolean"===Xe?it.writeBooleanField(7,nt):"number"===Xe&&(nt%1!=0?it.writeDoubleField(3,nt):nt<0?it.writeSVarintField(6,nt):it.writeVarintField(5,nt))}function U(nt,it,Xe,rt,ft,vt){if(!(ft-rt<=Xe)){var je=rt+ft>>1;Z(nt,it,je,rt,ft,vt%2),U(nt,it,Xe,rt,je-1,vt+1),U(nt,it,Xe,je+1,ft,vt+1)}}function Z(nt,it,Xe,rt,ft,vt){for(;ft>rt;){if(ft-rt>600){var je=ft-rt+1,Ve=Xe-rt+1,ut=Math.log(je),ct=.5*Math.exp(2*ut/3),Tt=.5*Math.sqrt(ut*ct*(je-ct)/je)*(Ve-je/2<0?-1:1);Z(nt,it,Xe,Math.max(rt,Math.floor(Xe-Ve*ct/je+Tt)),Math.min(ft,Math.floor(Xe+(je-Ve)*ct/je+Tt)),vt)}var Mt=it[2*Xe+vt],At=rt,bt=ft;for(Y(nt,it,rt,Xe),it[2*ft+vt]>Mt&&Y(nt,it,rt,ft);At<bt;){for(Y(nt,it,At,bt),At++,bt--;it[2*At+vt]<Mt;)At++;for(;it[2*bt+vt]>Mt;)bt--}it[2*rt+vt]===Mt?Y(nt,it,rt,bt):Y(nt,it,++bt,ft),bt<=Xe&&(rt=bt+1),Xe<=bt&&(ft=bt-1)}}function Y(nt,it,Xe,rt){ae(nt,Xe,rt),ae(it,2*Xe,2*rt),ae(it,2*Xe+1,2*rt+1)}function ae(nt,it,Xe){var rt=nt[it];nt[it]=nt[Xe],nt[Xe]=rt}function re(nt,it,Xe,rt){var ft=nt-Xe,vt=it-rt;return ft*ft+vt*vt}d.fromVectorTileJs=L,d.fromGeojsonVt=function(nt,it){it=it||{};var Xe={};for(var rt in nt)Xe[rt]=new x(nt[rt].features,it),Xe[rt].name=rt,Xe[rt].version=it.version,Xe[rt].extent=it.extent;return L({layers:Xe})},d.GeoJSONWrapper=I;var Q=function(nt){return nt[0]},K=function(nt){return nt[1]},te=function(nt,it,Xe,rt,ft){void 0===it&&(it=Q),void 0===Xe&&(Xe=K),void 0===rt&&(rt=64),void 0===ft&&(ft=Float64Array),this.nodeSize=rt,this.points=nt;for(var vt=nt.length<65536?Uint16Array:Uint32Array,je=this.ids=new vt(nt.length),Ve=this.coords=new ft(2*nt.length),ut=0;ut<nt.length;ut++)je[ut]=ut,Ve[2*ut]=it(nt[ut]),Ve[2*ut+1]=Xe(nt[ut]);U(je,Ve,rt,0,je.length-1,0)};te.prototype.range=function(nt,it,Xe,rt){return function(ft,vt,je,Ve,ut,ct,Tt){for(var Mt,At,bt=[0,ft.length-1,0],Rt=[];bt.length;){var xt=bt.pop(),_t=bt.pop(),It=bt.pop();if(_t-It<=Tt)for(var Gt=It;Gt<=_t;Gt++)At=vt[2*Gt+1],(Mt=vt[2*Gt])>=je&&Mt<=ut&&At>=Ve&&At<=ct&&Rt.push(ft[Gt]);else{var Wt=Math.floor((It+_t)/2);At=vt[2*Wt+1],(Mt=vt[2*Wt])>=je&&Mt<=ut&&At>=Ve&&At<=ct&&Rt.push(ft[Wt]);var Zt=(xt+1)%2;(0===xt?je<=Mt:Ve<=At)&&(bt.push(It),bt.push(Wt-1),bt.push(Zt)),(0===xt?ut>=Mt:ct>=At)&&(bt.push(Wt+1),bt.push(_t),bt.push(Zt))}}return Rt}(this.ids,this.coords,nt,it,Xe,rt,this.nodeSize)},te.prototype.within=function(nt,it,Xe){return function(rt,ft,vt,je,Ve,ut){for(var ct=[0,rt.length-1,0],Tt=[],Mt=Ve*Ve;ct.length;){var At=ct.pop(),bt=ct.pop(),Rt=ct.pop();if(bt-Rt<=ut)for(var xt=Rt;xt<=bt;xt++)re(ft[2*xt],ft[2*xt+1],vt,je)<=Mt&&Tt.push(rt[xt]);else{var _t=Math.floor((Rt+bt)/2),It=ft[2*_t],Gt=ft[2*_t+1];re(It,Gt,vt,je)<=Mt&&Tt.push(rt[_t]);var Wt=(At+1)%2;(0===At?vt-Ve<=It:je-Ve<=Gt)&&(ct.push(Rt),ct.push(_t-1),ct.push(Wt)),(0===At?vt+Ve>=It:je+Ve>=Gt)&&(ct.push(_t+1),ct.push(bt),ct.push(Wt))}}return Tt}(this.ids,this.coords,nt,it,Xe,this.nodeSize)};var oe={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(nt){return nt}},ue=function(nt){this.options=be(Object.create(oe),nt),this.trees=new Array(this.options.maxZoom+1)};function fe(nt,it,Xe,rt,ft){return{x:nt,y:it,zoom:1/0,id:Xe,parentId:-1,numPoints:rt,properties:ft}}function he(nt,it){var Xe=nt.geometry.coordinates,ft=Xe[1];return{x:Pe(Xe[0]),y:Te(ft),zoom:1/0,index:it,parentId:-1}}function me(nt){return{type:"Feature",id:nt.id,properties:ke(nt),geometry:{type:"Point",coordinates:[(rt=nt.x,360*(rt-.5)),(it=nt.y,Xe=(180-360*it)*Math.PI/180,360*Math.atan(Math.exp(Xe))/Math.PI-90)]}};var it,Xe,rt}function ke(nt){var it=nt.numPoints,Xe=it>=1e4?Math.round(it/1e3)+"k":it>=1e3?Math.round(it/100)/10+"k":it;return be(be({},nt.properties),{cluster:!0,cluster_id:nt.id,point_count:it,point_count_abbreviated:Xe})}function Pe(nt){return nt/360+.5}function Te(nt){var it=Math.sin(nt*Math.PI/180),Xe=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return Xe<0?0:Xe>1?1:Xe}function be(nt,it){for(var Xe in it)nt[Xe]=it[Xe];return nt}function xe(nt){return nt.x}function Ne(nt){return nt.y}function Se(nt,it,Xe,rt){for(var ft,vt=rt,je=Xe-it>>1,Ve=Xe-it,ut=nt[it],ct=nt[it+1],Tt=nt[Xe],Mt=nt[Xe+1],At=it+3;At<Xe;At+=3){var bt=Ce(nt[At],nt[At+1],ut,ct,Tt,Mt);if(bt>vt)ft=At,vt=bt;else if(bt===vt){var Rt=Math.abs(At-je);Rt<Ve&&(ft=At,Ve=Rt)}}vt>rt&&(ft-it>3&&Se(nt,it,ft,rt),nt[ft+2]=vt,Xe-ft>3&&Se(nt,ft,Xe,rt))}function Ce(nt,it,Xe,rt,ft,vt){var je=ft-Xe,Ve=vt-rt;if(0!==je||0!==Ve){var ut=((nt-Xe)*je+(it-rt)*Ve)/(je*je+Ve*Ve);ut>1?(Xe=ft,rt=vt):ut>0&&(Xe+=je*ut,rt+=Ve*ut)}return(je=nt-Xe)*je+(Ve=it-rt)*Ve}function pe(nt,it,Xe,rt){var ft={id:void 0===nt?null:nt,type:it,geometry:Xe,tags:rt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(vt){var je=vt.geometry,Ve=vt.type;if("Point"===Ve||"MultiPoint"===Ve||"LineString"===Ve)de(vt,je);else if("Polygon"===Ve||"MultiLineString"===Ve)for(var ut=0;ut<je.length;ut++)de(vt,je[ut]);else if("MultiPolygon"===Ve)for(ut=0;ut<je.length;ut++)for(var ct=0;ct<je[ut].length;ct++)de(vt,je[ut][ct])}(ft),ft}function de(nt,it){for(var Xe=0;Xe<it.length;Xe+=3)nt.minX=Math.min(nt.minX,it[Xe]),nt.minY=Math.min(nt.minY,it[Xe+1]),nt.maxX=Math.max(nt.maxX,it[Xe]),nt.maxY=Math.max(nt.maxY,it[Xe+1])}function se(nt,it,Xe,rt){if(it.geometry){var ft=it.geometry.coordinates,vt=it.geometry.type,je=Math.pow(Xe.tolerance/((1<<Xe.maxZoom)*Xe.extent),2),Ve=[],ut=it.id;if(Xe.promoteId?ut=it.properties[Xe.promoteId]:Xe.generateId&&(ut=rt||0),"Point"===vt)we(ft,Ve);else if("MultiPoint"===vt)for(var ct=0;ct<ft.length;ct++)we(ft[ct],Ve);else if("LineString"===vt)Re(ft,Ve,je,!1);else if("MultiLineString"===vt){if(Xe.lineMetrics){for(ct=0;ct<ft.length;ct++)Re(ft[ct],Ve=[],je,!1),nt.push(pe(ut,"LineString",Ve,it.properties));return}Ee(ft,Ve,je,!1)}else if("Polygon"===vt)Ee(ft,Ve,je,!0);else{if("MultiPolygon"!==vt){if("GeometryCollection"===vt){for(ct=0;ct<it.geometry.geometries.length;ct++)se(nt,{id:ut,geometry:it.geometry.geometries[ct],properties:it.properties},Xe,rt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ct=0;ct<ft.length;ct++){var Tt=[];Ee(ft[ct],Tt,je,!0),Ve.push(Tt)}}nt.push(pe(ut,vt,Ve,it.properties))}}function we(nt,it){it.push(Ue(nt[0])),it.push($e(nt[1])),it.push(0)}function Re(nt,it,Xe,rt){for(var ft,vt,je=0,Ve=0;Ve<nt.length;Ve++){var ut=Ue(nt[Ve][0]),ct=$e(nt[Ve][1]);it.push(ut),it.push(ct),it.push(0),Ve>0&&(je+=rt?(ft*ct-ut*vt)/2:Math.sqrt(Math.pow(ut-ft,2)+Math.pow(ct-vt,2))),ft=ut,vt=ct}var Tt=it.length-3;it[2]=1,Se(it,0,Tt,Xe),it[Tt+2]=1,it.size=Math.abs(je),it.start=0,it.end=it.size}function Ee(nt,it,Xe,rt){for(var ft=0;ft<nt.length;ft++){var vt=[];Re(nt[ft],vt,Xe,rt),it.push(vt)}}function Ue(nt){return nt/360+.5}function $e(nt){var it=Math.sin(nt*Math.PI/180),Xe=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return Xe<0?0:Xe>1?1:Xe}function ve(nt,it,Xe,rt,ft,vt,je,Ve){if(rt/=it,vt>=(Xe/=it)&&je<rt)return nt;if(je<Xe||vt>=rt)return null;for(var ut=[],ct=0;ct<nt.length;ct++){var Tt=nt[ct],Mt=Tt.geometry,At=Tt.type,bt=0===ft?Tt.minX:Tt.minY,Rt=0===ft?Tt.maxX:Tt.maxY;if(bt>=Xe&&Rt<rt)ut.push(Tt);else if(!(Rt<Xe||bt>=rt)){var xt=[];if("Point"===At||"MultiPoint"===At)Ie(Mt,xt,Xe,rt,ft);else if("LineString"===At)De(Mt,xt,Xe,rt,ft,!1,Ve.lineMetrics);else if("MultiLineString"===At)Ge(Mt,xt,Xe,rt,ft,!1);else if("Polygon"===At)Ge(Mt,xt,Xe,rt,ft,!0);else if("MultiPolygon"===At)for(var _t=0;_t<Mt.length;_t++){var It=[];Ge(Mt[_t],It,Xe,rt,ft,!0),It.length&&xt.push(It)}if(xt.length){if(Ve.lineMetrics&&"LineString"===At){for(_t=0;_t<xt.length;_t++)ut.push(pe(Tt.id,At,xt[_t],Tt.tags));continue}"LineString"!==At&&"MultiLineString"!==At||(1===xt.length?(At="LineString",xt=xt[0]):At="MultiLineString"),"Point"!==At&&"MultiPoint"!==At||(At=3===xt.length?"Point":"MultiPoint"),ut.push(pe(Tt.id,At,xt,Tt.tags))}}}return ut.length?ut:null}function Ie(nt,it,Xe,rt,ft){for(var vt=0;vt<nt.length;vt+=3){var je=nt[vt+ft];je>=Xe&&je<=rt&&(it.push(nt[vt]),it.push(nt[vt+1]),it.push(nt[vt+2]))}}function De(nt,it,Xe,rt,ft,vt,je){for(var Ve,ut,ct=ze(nt),Tt=0===ft?Ke:et,Mt=nt.start,At=0;At<nt.length-3;At+=3){var bt=nt[At],Rt=nt[At+1],xt=nt[At+2],_t=nt[At+3],It=nt[At+4],Gt=0===ft?bt:Rt,Wt=0===ft?_t:It,Zt=!1;je&&(Ve=Math.sqrt(Math.pow(bt-_t,2)+Math.pow(Rt-It,2))),Gt<Xe?Wt>Xe&&(ut=Tt(ct,bt,Rt,_t,It,Xe),je&&(ct.start=Mt+Ve*ut)):Gt>rt?Wt<rt&&(ut=Tt(ct,bt,Rt,_t,It,rt),je&&(ct.start=Mt+Ve*ut)):He(ct,bt,Rt,xt),Wt<Xe&&Gt>=Xe&&(ut=Tt(ct,bt,Rt,_t,It,Xe),Zt=!0),Wt>rt&&Gt<=rt&&(ut=Tt(ct,bt,Rt,_t,It,rt),Zt=!0),!vt&&Zt&&(je&&(ct.end=Mt+Ve*ut),it.push(ct),ct=ze(nt)),je&&(Mt+=Ve)}var cn=nt.length-3;bt=nt[cn],Rt=nt[cn+1],xt=nt[cn+2],(Gt=0===ft?bt:Rt)>=Xe&&Gt<=rt&&He(ct,bt,Rt,xt),cn=ct.length-3,vt&&cn>=3&&(ct[cn]!==ct[0]||ct[cn+1]!==ct[1])&&He(ct,ct[0],ct[1],ct[2]),ct.length&&it.push(ct)}function ze(nt){var it=[];return it.size=nt.size,it.start=nt.start,it.end=nt.end,it}function Ge(nt,it,Xe,rt,ft,vt){for(var je=0;je<nt.length;je++)De(nt[je],it,Xe,rt,ft,vt,!1)}function He(nt,it,Xe,rt){nt.push(it),nt.push(Xe),nt.push(rt)}function Ke(nt,it,Xe,rt,ft,vt){var je=(vt-it)/(rt-it);return nt.push(vt),nt.push(Xe+(ft-Xe)*je),nt.push(1),je}function et(nt,it,Xe,rt,ft,vt){var je=(vt-Xe)/(ft-Xe);return nt.push(it+(rt-it)*je),nt.push(vt),nt.push(1),je}function st(nt,it){for(var Xe=[],rt=0;rt<nt.length;rt++){var ft,vt=nt[rt],je=vt.type;if("Point"===je||"MultiPoint"===je||"LineString"===je)ft=mt(vt.geometry,it);else if("MultiLineString"===je||"Polygon"===je){ft=[];for(var Ve=0;Ve<vt.geometry.length;Ve++)ft.push(mt(vt.geometry[Ve],it))}else if("MultiPolygon"===je)for(ft=[],Ve=0;Ve<vt.geometry.length;Ve++){for(var ut=[],ct=0;ct<vt.geometry[Ve].length;ct++)ut.push(mt(vt.geometry[Ve][ct],it));ft.push(ut)}Xe.push(pe(vt.id,je,ft,vt.tags))}return Xe}function mt(nt,it){var Xe=[];Xe.size=nt.size,void 0!==nt.start&&(Xe.start=nt.start,Xe.end=nt.end);for(var rt=0;rt<nt.length;rt+=3)Xe.push(nt[rt]+it,nt[rt+1],nt[rt+2]);return Xe}function at(nt,it){if(nt.transformed)return nt;var Xe,rt,ft,vt=1<<nt.z,je=nt.x,Ve=nt.y;for(Xe=0;Xe<nt.features.length;Xe++){var ut=nt.features[Xe],ct=ut.geometry,Tt=ut.type;if(ut.geometry=[],1===Tt)for(rt=0;rt<ct.length;rt+=2)ut.geometry.push(kt(ct[rt],ct[rt+1],it,vt,je,Ve));else for(rt=0;rt<ct.length;rt++){var Mt=[];for(ft=0;ft<ct[rt].length;ft+=2)Mt.push(kt(ct[rt][ft],ct[rt][ft+1],it,vt,je,Ve));ut.geometry.push(Mt)}}return nt.transformed=!0,nt}function kt(nt,it,Xe,rt,ft,vt){return[Math.round(Xe*(nt*rt-ft)),Math.round(Xe*(it*rt-vt))]}function St(nt,it,Xe,rt,ft){for(var vt=it===ft.maxZoom?0:ft.tolerance/((1<<it)*ft.extent),je={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Xe,y:rt,z:it,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ve=0;Ve<nt.length;Ve++){je.numFeatures++,gt(je,nt[Ve],vt,ft);var ut=nt[Ve].minX,ct=nt[Ve].minY,Tt=nt[Ve].maxX,Mt=nt[Ve].maxY;ut<je.minX&&(je.minX=ut),ct<je.minY&&(je.minY=ct),Tt>je.maxX&&(je.maxX=Tt),Mt>je.maxY&&(je.maxY=Mt)}return je}function gt(nt,it,Xe,rt){var ft=it.geometry,vt=it.type,je=[];if("Point"===vt||"MultiPoint"===vt)for(var Ve=0;Ve<ft.length;Ve+=3)je.push(ft[Ve]),je.push(ft[Ve+1]),nt.numPoints++,nt.numSimplified++;else if("LineString"===vt)dt(je,ft,nt,Xe,!1,!1);else if("MultiLineString"===vt||"Polygon"===vt)for(Ve=0;Ve<ft.length;Ve++)dt(je,ft[Ve],nt,Xe,"Polygon"===vt,0===Ve);else if("MultiPolygon"===vt)for(var ut=0;ut<ft.length;ut++){var ct=ft[ut];for(Ve=0;Ve<ct.length;Ve++)dt(je,ct[Ve],nt,Xe,!0,0===Ve)}if(je.length){var Tt=it.tags||null;if("LineString"===vt&&rt.lineMetrics){for(var Mt in Tt={},it.tags)Tt[Mt]=it.tags[Mt];Tt.mapbox_clip_start=ft.start/ft.size,Tt.mapbox_clip_end=ft.end/ft.size}var At={geometry:je,type:"Polygon"===vt||"MultiPolygon"===vt?3:"LineString"===vt||"MultiLineString"===vt?2:1,tags:Tt};null!==it.id&&(At.id=it.id),nt.features.push(At)}}function dt(nt,it,Xe,rt,ft,vt){var je=rt*rt;if(rt>0&&it.size<(ft?je:rt))Xe.numPoints+=it.length/3;else{for(var Ve=[],ut=0;ut<it.length;ut+=3)(0===rt||it[ut+2]>je)&&(Xe.numSimplified++,Ve.push(it[ut]),Ve.push(it[ut+1])),Xe.numPoints++;ft&&function(ct,Tt){for(var Mt=0,At=0,bt=ct.length,Rt=bt-2;At<bt;Rt=At,At+=2)Mt+=(ct[At]-ct[Rt])*(ct[At+1]+ct[Rt+1]);if(Mt>0===Tt)for(At=0,bt=ct.length;At<bt/2;At+=2){var xt=ct[At],_t=ct[At+1];ct[At]=ct[bt-2-At],ct[At+1]=ct[bt-1-At],ct[bt-2-At]=xt,ct[bt-1-At]=_t}}(Ve,vt),nt.push(Ve)}}function Ct(nt,it){var Xe=(it=this.options=function(ft,vt){for(var je in vt)ft[je]=vt[je];return ft}(Object.create(this.options),it)).debug;if(Xe&&console.time("preprocess data"),it.maxZoom<0||it.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(it.promoteId&&it.generateId)throw new Error("promoteId and generateId cannot be used together.");var ft,vt,je,Ve,ut,ct,rt=function(ft,vt){var je=[];if("FeatureCollection"===ft.type)for(var Ve=0;Ve<ft.features.length;Ve++)se(je,ft.features[Ve],vt,Ve);else se(je,"Feature"===ft.type?ft:{geometry:ft},vt);return je}(nt,it);this.tiles={},this.tileCoords=[],Xe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",it.indexMaxZoom,it.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(ft=rt,vt=it,je=vt.buffer/vt.extent,Ve=ft,ut=ve(ft,1,-1-je,je,0,-1,2,vt),ct=ve(ft,1,1-je,2+je,0,-1,2,vt),(ut||ct)&&(Ve=ve(ft,1,-je,1+je,0,-1,2,vt)||[],ut&&(Ve=st(ut,1).concat(Ve)),ct&&(Ve=Ve.concat(st(ct,-1)))),rt=Ve).length&&this.splitTile(rt,0,0,0),Xe&&(rt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ot(nt,it,Xe){return 32*((1<<nt)*Xe+it)+nt}function Pt(nt,it){var Xe=nt.tileID.canonical;if(!this._geoJSONIndex)return it(null,null);var rt=this._geoJSONIndex.getTile(Xe.z,Xe.x,Xe.y);if(!rt)return it(null,null);var ft=new h(rt.features),vt=d(ft);0===vt.byteOffset&&vt.byteLength===vt.buffer.byteLength||(vt=new Uint8Array(vt)),it(null,{vectorTile:ft,rawData:vt.buffer})}ue.prototype.load=function(nt){var it=this.options,Xe=it.log,rt=it.minZoom,ft=it.maxZoom,vt=it.nodeSize;Xe&&console.time("total time");var je="prepare "+nt.length+" points";Xe&&console.time(je),this.points=nt;for(var Ve=[],ut=0;ut<nt.length;ut++)nt[ut].geometry&&Ve.push(he(nt[ut],ut));this.trees[ft+1]=new te(Ve,xe,Ne,vt,Float32Array),Xe&&console.timeEnd(je);for(var ct=ft;ct>=rt;ct--){var Tt=+Date.now();Ve=this._cluster(Ve,ct),this.trees[ct]=new te(Ve,xe,Ne,vt,Float32Array),Xe&&console.log("z%d: %d clusters in %dms",ct,Ve.length,+Date.now()-Tt)}return Xe&&console.timeEnd("total time"),this},ue.prototype.getClusters=function(nt,it){var Xe=((nt[0]+180)%360+360)%360-180,rt=Math.max(-90,Math.min(90,nt[1])),ft=180===nt[2]?180:((nt[2]+180)%360+360)%360-180,vt=Math.max(-90,Math.min(90,nt[3]));if(nt[2]-nt[0]>=360)Xe=-180,ft=180;else if(Xe>ft){var je=this.getClusters([Xe,rt,180,vt],it),Ve=this.getClusters([-180,rt,ft,vt],it);return je.concat(Ve)}for(var ut=this.trees[this._limitZoom(it)],ct=[],Tt=0,Mt=ut.range(Pe(Xe),Te(vt),Pe(ft),Te(rt));Tt<Mt.length;Tt+=1){var bt=ut.points[Mt[Tt]];ct.push(bt.numPoints?me(bt):this.points[bt.index])}return ct},ue.prototype.getChildren=function(nt){var it=this._getOriginId(nt),Xe=this._getOriginZoom(nt),rt="No cluster with the specified id.",ft=this.trees[Xe];if(!ft)throw new Error(rt);var vt=ft.points[it];if(!vt)throw new Error(rt);for(var je=this.options.radius/(this.options.extent*Math.pow(2,Xe-1)),Ve=[],ut=0,ct=ft.within(vt.x,vt.y,je);ut<ct.length;ut+=1){var Mt=ft.points[ct[ut]];Mt.parentId===nt&&Ve.push(Mt.numPoints?me(Mt):this.points[Mt.index])}if(0===Ve.length)throw new Error(rt);return Ve},ue.prototype.getLeaves=function(nt,it,Xe){var rt=[];return this._appendLeaves(rt,nt,it=it||10,Xe=Xe||0,0),rt},ue.prototype.getTile=function(nt,it,Xe){var rt=this.trees[this._limitZoom(nt)],ft=Math.pow(2,nt),vt=this.options,Ve=vt.radius/vt.extent,ut=(Xe-Ve)/ft,ct=(Xe+1+Ve)/ft,Tt={features:[]};return this._addTileFeatures(rt.range((it-Ve)/ft,ut,(it+1+Ve)/ft,ct),rt.points,it,Xe,ft,Tt),0===it&&this._addTileFeatures(rt.range(1-Ve/ft,ut,1,ct),rt.points,ft,Xe,ft,Tt),it===ft-1&&this._addTileFeatures(rt.range(0,ut,Ve/ft,ct),rt.points,-1,Xe,ft,Tt),Tt.features.length?Tt:null},ue.prototype.getClusterExpansionZoom=function(nt){for(var it=this._getOriginZoom(nt)-1;it<=this.options.maxZoom;){var Xe=this.getChildren(nt);if(it++,1!==Xe.length)break;nt=Xe[0].properties.cluster_id}return it},ue.prototype._appendLeaves=function(nt,it,Xe,rt,ft){for(var vt=0,je=this.getChildren(it);vt<je.length;vt+=1){var Ve=je[vt],ut=Ve.properties;if(ut&&ut.cluster?ft+ut.point_count<=rt?ft+=ut.point_count:ft=this._appendLeaves(nt,ut.cluster_id,Xe,rt,ft):ft<rt?ft++:nt.push(Ve),nt.length===Xe)break}return ft},ue.prototype._addTileFeatures=function(nt,it,Xe,rt,ft,vt){for(var je=0,Ve=nt;je<Ve.length;je+=1){var ut=it[Ve[je]],ct=ut.numPoints,Tt={type:1,geometry:[[Math.round(this.options.extent*(ut.x*ft-Xe)),Math.round(this.options.extent*(ut.y*ft-rt))]],tags:ct?ke(ut):this.points[ut.index].properties},Mt=void 0;ct?Mt=ut.id:this.options.generateId?Mt=ut.index:this.points[ut.index].id&&(Mt=this.points[ut.index].id),void 0!==Mt&&(Tt.id=Mt),vt.features.push(Tt)}},ue.prototype._limitZoom=function(nt){return Math.max(this.options.minZoom,Math.min(nt,this.options.maxZoom+1))},ue.prototype._cluster=function(nt,it){for(var Xe=[],rt=this.options,je=rt.reduce,Ve=rt.radius/(rt.extent*Math.pow(2,it)),ut=0;ut<nt.length;ut++){var ct=nt[ut];if(!(ct.zoom<=it)){ct.zoom=it;for(var Tt=this.trees[it+1],Mt=Tt.within(ct.x,ct.y,Ve),At=ct.numPoints||1,bt=ct.x*At,Rt=ct.y*At,xt=je&&At>1?this._map(ct,!0):null,_t=(ut<<5)+(it+1)+this.points.length,It=0,Gt=Mt;It<Gt.length;It+=1){var Zt=Tt.points[Gt[It]];if(!(Zt.zoom<=it)){Zt.zoom=it;var cn=Zt.numPoints||1;bt+=Zt.x*cn,Rt+=Zt.y*cn,At+=cn,Zt.parentId=_t,je&&(xt||(xt=this._map(ct,!0)),je(xt,this._map(Zt)))}}1===At?Xe.push(ct):(ct.parentId=_t,Xe.push(fe(bt/At,Rt/At,_t,At,xt)))}}return Xe},ue.prototype._getOriginId=function(nt){return nt-this.points.length>>5},ue.prototype._getOriginZoom=function(nt){return(nt-this.points.length)%32},ue.prototype._map=function(nt,it){if(nt.numPoints)return it?be({},nt.properties):nt.properties;var Xe=this.points[nt.index].properties,rt=this.options.map(Xe);return it&&rt===Xe?be({},rt):rt},Ct.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ct.prototype.splitTile=function(nt,it,Xe,rt,ft,vt,je){for(var Ve=[nt,it,Xe,rt],ut=this.options,ct=ut.debug;Ve.length;){rt=Ve.pop(),Xe=Ve.pop(),it=Ve.pop(),nt=Ve.pop();var Tt=1<<it,Mt=Ot(it,Xe,rt),At=this.tiles[Mt];if(!At&&(ct>1&&console.time("creation"),At=this.tiles[Mt]=St(nt,it,Xe,rt,ut),this.tileCoords.push({z:it,x:Xe,y:rt}),ct)){ct>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",it,Xe,rt,At.numFeatures,At.numPoints,At.numSimplified),console.timeEnd("creation"));var bt="z"+it;this.stats[bt]=(this.stats[bt]||0)+1,this.total++}if(At.source=nt,ft){if(it===ut.maxZoom||it===ft)continue;var Rt=1<<ft-it;if(Xe!==Math.floor(vt/Rt)||rt!==Math.floor(je/Rt))continue}else if(it===ut.indexMaxZoom||At.numPoints<=ut.indexMaxPoints)continue;if(At.source=null,0!==nt.length){ct>1&&console.time("clipping");var xt,_t,It,Gt,Wt,Zt,cn=.5*ut.buffer/ut.extent,nn=.5-cn,ln=.5+cn,Qt=1+cn;xt=_t=It=Gt=null,Wt=ve(nt,Tt,Xe-cn,Xe+ln,0,At.minX,At.maxX,ut),Zt=ve(nt,Tt,Xe+nn,Xe+Qt,0,At.minX,At.maxX,ut),nt=null,Wt&&(xt=ve(Wt,Tt,rt-cn,rt+ln,1,At.minY,At.maxY,ut),_t=ve(Wt,Tt,rt+nn,rt+Qt,1,At.minY,At.maxY,ut),Wt=null),Zt&&(It=ve(Zt,Tt,rt-cn,rt+ln,1,At.minY,At.maxY,ut),Gt=ve(Zt,Tt,rt+nn,rt+Qt,1,At.minY,At.maxY,ut),Zt=null),ct>1&&console.timeEnd("clipping"),Ve.push(xt||[],it+1,2*Xe,2*rt),Ve.push(_t||[],it+1,2*Xe,2*rt+1),Ve.push(It||[],it+1,2*Xe+1,2*rt),Ve.push(Gt||[],it+1,2*Xe+1,2*rt+1)}}},Ct.prototype.getTile=function(nt,it,Xe){var rt=this.options,ft=rt.extent,vt=rt.debug;if(nt<0||nt>24)return null;var je=1<<nt,Ve=Ot(nt,it=(it%je+je)%je,Xe);if(this.tiles[Ve])return at(this.tiles[Ve],ft);vt>1&&console.log("drilling down to z%d-%d-%d",nt,it,Xe);for(var ut,ct=nt,Tt=it,Mt=Xe;!ut&&ct>0;)ct--,Tt=Math.floor(Tt/2),Mt=Math.floor(Mt/2),ut=this.tiles[Ot(ct,Tt,Mt)];return ut&&ut.source?(vt>1&&console.log("found parent tile z%d-%d-%d",ct,Tt,Mt),vt>1&&console.time("drilling down"),this.splitTile(ut.source,ct,Tt,Mt,nt,it,Xe),vt>1&&console.timeEnd("drilling down"),this.tiles[Ve]?at(this.tiles[Ve],ft):null):null};var Ht=function(nt){function it(Xe,rt,ft,vt){nt.call(this,Xe,rt,ft,Pt),vt&&(this.loadGeoJSON=vt)}return nt&&(it.__proto__=nt),(it.prototype=Object.create(nt&&nt.prototype)).constructor=it,it.prototype.loadData=function(Xe,rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=rt,this._pendingLoadDataParams=Xe,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},it.prototype._loadData=function(){var Xe=this;if(this._pendingCallback&&this._pendingLoadDataParams){var rt=this._pendingCallback,ft=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var vt=!!(ft&&ft.request&&ft.request.collectResourceTiming)&&new u.RequestPerformance(ft.request);this.loadGeoJSON(ft,function(je,Ve){if(je||!Ve)return rt(je);if("object"!=typeof Ve)return rt(new Error("Input data given to '"+ft.source+"' is not a valid GeoJSON object."));c(Ve,!0);try{Xe._geoJSONIndex=ft.cluster?new ue(function(Tt){var Mt=Tt.superclusterOptions,At=Tt.clusterProperties;if(!At||!Mt)return Mt;for(var bt={},Rt={},xt={accumulated:null,zoom:0},_t={properties:null},It=Object.keys(At),Gt=0,Wt=It;Gt<Wt.length;Gt+=1){var Zt=Wt[Gt],cn=At[Zt],nn=cn[0],Qt=u.createExpression(cn[1]),kn=u.createExpression("string"==typeof nn?[nn,["accumulated"],["get",Zt]]:nn);bt[Zt]=Qt.value,Rt[Zt]=kn.value}return Mt.map=function(Pn){_t.properties=Pn;for(var Tn={},tn=0,gn=It;tn<gn.length;tn+=1){var hn=gn[tn];Tn[hn]=bt[hn].evaluate(xt,_t)}return Tn},Mt.reduce=function(Pn,Tn){_t.properties=Tn;for(var tn=0,gn=It;tn<gn.length;tn+=1){var hn=gn[tn];xt.accumulated=Pn[hn],Pn[hn]=Rt[hn].evaluate(xt,_t)}},Mt}(ft)).load(Ve.features):new Ct(Tt=Ve,ft.geojsonVtOptions)}catch(Tt){return rt(Tt)}var Tt;Xe.loaded={};var ut={};if(vt){var ct=vt.finish();ct&&(ut.resourceTiming={},ut.resourceTiming[ft.source]=JSON.parse(JSON.stringify(ct)))}rt(null,ut)})}},it.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},it.prototype.reloadTile=function(Xe,rt){var ft=this.loaded;return ft&&ft[Xe.uid]?nt.prototype.reloadTile.call(this,Xe,rt):this.loadTile(Xe,rt)},it.prototype.loadGeoJSON=function(Xe,rt){if(Xe.request)u.getJSON(Xe.request,rt);else{if("string"!=typeof Xe.data)return rt(new Error("Input data given to '"+Xe.source+"' is not a valid GeoJSON object."));try{return rt(null,JSON.parse(Xe.data))}catch{return rt(new Error("Input data given to '"+Xe.source+"' is not a valid GeoJSON object."))}}},it.prototype.removeSource=function(Xe,rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),rt()},it.prototype.getClusterExpansionZoom=function(Xe,rt){try{rt(null,this._geoJSONIndex.getClusterExpansionZoom(Xe.clusterId))}catch(ft){rt(ft)}},it.prototype.getClusterChildren=function(Xe,rt){try{rt(null,this._geoJSONIndex.getChildren(Xe.clusterId))}catch(ft){rt(ft)}},it.prototype.getClusterLeaves=function(Xe,rt){try{rt(null,this._geoJSONIndex.getLeaves(Xe.clusterId,Xe.limit,Xe.offset))}catch(ft){rt(ft)}},it}(n),jt=function(nt){var it=this;this.self=nt,this.actor=new u.Actor(nt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:n,geojson:Ht},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Xe,rt){if(it.workerSourceTypes[Xe])throw new Error('Worker source with name "'+Xe+'" already registered.');it.workerSourceTypes[Xe]=rt},this.self.registerRTLTextPlugin=function(Xe){if(u.plugin.isParsed())throw new Error("RTL text plugin already registered.");u.plugin.applyArabicShaping=Xe.applyArabicShaping,u.plugin.processBidirectionalText=Xe.processBidirectionalText,u.plugin.processStyledBidirectionalText=Xe.processStyledBidirectionalText}};return jt.prototype.setReferrer=function(nt,it){this.referrer=it},jt.prototype.setImages=function(nt,it,Xe){for(var rt in this.availableImages[nt]=it,this.workerSources[nt]){var ft=this.workerSources[nt][rt];for(var vt in ft)ft[vt].availableImages=it}Xe()},jt.prototype.setLayers=function(nt,it,Xe){this.getLayerIndex(nt).replace(it),Xe()},jt.prototype.updateLayers=function(nt,it,Xe){this.getLayerIndex(nt).update(it.layers,it.removedIds),Xe()},jt.prototype.loadTile=function(nt,it,Xe){this.getWorkerSource(nt,it.type,it.source).loadTile(it,Xe)},jt.prototype.loadDEMTile=function(nt,it,Xe){this.getDEMWorkerSource(nt,it.source).loadTile(it,Xe)},jt.prototype.reloadTile=function(nt,it,Xe){this.getWorkerSource(nt,it.type,it.source).reloadTile(it,Xe)},jt.prototype.abortTile=function(nt,it,Xe){this.getWorkerSource(nt,it.type,it.source).abortTile(it,Xe)},jt.prototype.removeTile=function(nt,it,Xe){this.getWorkerSource(nt,it.type,it.source).removeTile(it,Xe)},jt.prototype.removeDEMTile=function(nt,it){this.getDEMWorkerSource(nt,it.source).removeTile(it)},jt.prototype.removeSource=function(nt,it,Xe){if(this.workerSources[nt]&&this.workerSources[nt][it.type]&&this.workerSources[nt][it.type][it.source]){var rt=this.workerSources[nt][it.type][it.source];delete this.workerSources[nt][it.type][it.source],void 0!==rt.removeSource?rt.removeSource(it,Xe):Xe()}},jt.prototype.loadWorkerSource=function(nt,it,Xe){try{this.self.importScripts(it.url),Xe()}catch(rt){Xe(rt.toString())}},jt.prototype.syncRTLPluginState=function(nt,it,Xe){try{u.plugin.setState(it);var rt=u.plugin.getPluginURL();if(u.plugin.isLoaded()&&!u.plugin.isParsed()&&null!=rt){this.self.importScripts(rt);var ft=u.plugin.isParsed();Xe(ft?void 0:new Error("RTL Text Plugin failed to import scripts from "+rt),ft)}}catch(vt){Xe(vt.toString())}},jt.prototype.getAvailableImages=function(nt){var it=this.availableImages[nt];return it||(it=[]),it},jt.prototype.getLayerIndex=function(nt){var it=this.layerIndexes[nt];return it||(it=this.layerIndexes[nt]=new m),it},jt.prototype.getWorkerSource=function(nt,it,Xe){var rt=this;return this.workerSources[nt]||(this.workerSources[nt]={}),this.workerSources[nt][it]||(this.workerSources[nt][it]={}),this.workerSources[nt][it][Xe]||(this.workerSources[nt][it][Xe]=new this.workerSourceTypes[it]({send:function(vt,je,Ve){rt.actor.send(vt,je,Ve,nt)}},this.getLayerIndex(nt),this.getAvailableImages(nt))),this.workerSources[nt][it][Xe]},jt.prototype.getDEMWorkerSource=function(nt,it){return this.demWorkerSources[nt]||(this.demWorkerSources[nt]={}),this.demWorkerSources[nt][it]||(this.demWorkerSources[nt][it]=new s),this.demWorkerSources[nt][it]},jt.prototype.enforceCacheSizeLimit=function(nt,it){u.enforceCacheSizeLimit(it)},typeof WorkerGlobalScope<"u"&&void 0!==u.window&&u.window instanceof WorkerGlobalScope&&(u.window.worker=new jt(u.window)),jt}),S(0,function(u){var A=u.createCommonjsModule(function(j){function q(ye){return!G(ye)}function G(ye){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var V,ne,ce=new Blob([""],{type:"text/javascript"}),_e=URL.createObjectURL(ce);try{ne=new Worker(_e),V=!0}catch{V=!1}return ne&&ne.terminate(),URL.revokeObjectURL(_e),V}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var V=document.createElement("canvas");V.width=V.height=1;var ne=V.getContext("2d");if(!ne)return!1;var ce=ne.getImageData(0,0,1,1);return ce&&ce.width===V.width}()?(void 0===ee[Le=ye&&ye.failIfMajorPerformanceCaveat]&&(ee[Le]=function(V){var _e,Ae,Fe,ne=(_e=V,Ae=document.createElement("canvas"),(Fe=Object.create(q.webGLContextAttributes)).failIfMajorPerformanceCaveat=_e,Ae.probablySupportsContext?Ae.probablySupportsContext("webgl",Fe)||Ae.probablySupportsContext("experimental-webgl",Fe):Ae.supportsContext?Ae.supportsContext("webgl",Fe)||Ae.supportsContext("experimental-webgl",Fe):Ae.getContext("webgl",Fe)||Ae.getContext("experimental-webgl",Fe));if(!ne)return!1;var ce=ne.createShader(ne.VERTEX_SHADER);return!(!ce||ne.isContextLost())&&(ne.shaderSource(ce,"void main() {}"),ne.compileShader(ce),!0===ne.getShaderParameter(ce,ne.COMPILE_STATUS))}(Le)),ee[Le]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var Le}j.exports?j.exports=q:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=q,window.mapboxgl.notSupportedReason=G);var ee={};q.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),T={create:function(j,q,G){var ee=u.window.document.createElement(j);return void 0!==q&&(ee.className=q),G&&G.appendChild(ee),ee},createNS:function(j,q){return u.window.document.createElementNS(j,q)}},m=u.window.document.documentElement.style;function l(j){if(!m)return j[0];for(var q=0;q<j.length;q++)if(j[q]in m)return j[q];return j[0]}var t,o=l(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);T.disableDrag=function(){m&&o&&(t=m[o],m[o]="none")},T.enableDrag=function(){m&&o&&(m[o]=t)};var r=l(["transform","WebkitTransform"]);T.setTransform=function(j,q){j.style[r]=q};var n=!1;try{var a=Object.defineProperty({},"passive",{get:function(){n=!0}});u.window.addEventListener("test",a,a),u.window.removeEventListener("test",a,a)}catch{n=!1}T.addEventListener=function(j,q,G,ee){void 0===ee&&(ee={}),j.addEventListener(q,G,"passive"in ee&&n?ee:ee.capture)},T.removeEventListener=function(j,q,G,ee){void 0===ee&&(ee={}),j.removeEventListener(q,G,"passive"in ee&&n?ee:ee.capture)};var s=function(j){j.preventDefault(),j.stopPropagation(),u.window.removeEventListener("click",s,!0)};function c(j){var q=j.userImage;return!!(q&&q.render&&q.render())&&(j.data.replace(new Uint8Array(q.data.buffer)),!0)}T.suppressClick=function(){u.window.addEventListener("click",s,!0),u.window.setTimeout(function(){u.window.removeEventListener("click",s,!0)},0)},T.mousePos=function(j,q){var G=j.getBoundingClientRect();return new u.Point(q.clientX-G.left-j.clientLeft,q.clientY-G.top-j.clientTop)},T.touchPos=function(j,q){for(var G=j.getBoundingClientRect(),ee=[],ye=0;ye<q.length;ye++)ee.push(new u.Point(q[ye].clientX-G.left-j.clientLeft,q[ye].clientY-G.top-j.clientTop));return ee},T.mouseButton=function(j){return void 0!==u.window.InstallTrigger&&2===j.button&&j.ctrlKey&&u.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:j.button},T.remove=function(j){j.parentNode&&j.parentNode.removeChild(j)};var p=function(j){function q(){j.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new u.RGBAImage({width:1,height:1}),this.dirty=!0}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.isLoaded=function(){return this.loaded},q.prototype.setLoaded=function(G){if(this.loaded!==G&&(this.loaded=G,G)){for(var ee=0,ye=this.requestors;ee<ye.length;ee+=1){var Le=ye[ee];this._notify(Le.ids,Le.callback)}this.requestors=[]}},q.prototype.getImage=function(G){return this.images[G]},q.prototype.addImage=function(G,ee){this._validate(G,ee)&&(this.images[G]=ee)},q.prototype._validate=function(G,ee){var ye=!0;return this._validateStretch(ee.stretchX,ee.data&&ee.data.width)||(this.fire(new u.ErrorEvent(new Error('Image "'+G+'" has invalid "stretchX" value'))),ye=!1),this._validateStretch(ee.stretchY,ee.data&&ee.data.height)||(this.fire(new u.ErrorEvent(new Error('Image "'+G+'" has invalid "stretchY" value'))),ye=!1),this._validateContent(ee.content,ee)||(this.fire(new u.ErrorEvent(new Error('Image "'+G+'" has invalid "content" value'))),ye=!1),ye},q.prototype._validateStretch=function(G,ee){if(!G)return!0;for(var ye=0,Le=0,V=G;Le<V.length;Le+=1){var ne=V[Le];if(ne[0]<ye||ne[1]<ne[0]||ee<ne[1])return!1;ye=ne[1]}return!0},q.prototype._validateContent=function(G,ee){return!(G&&(4!==G.length||G[0]<0||ee.data.width<G[0]||G[1]<0||ee.data.height<G[1]||G[2]<0||ee.data.width<G[2]||G[3]<0||ee.data.height<G[3]||G[2]<G[0]||G[3]<G[1]))},q.prototype.updateImage=function(G,ee){ee.version=this.images[G].version+1,this.images[G]=ee,this.updatedImages[G]=!0},q.prototype.removeImage=function(G){var ee=this.images[G];delete this.images[G],delete this.patterns[G],ee.userImage&&ee.userImage.onRemove&&ee.userImage.onRemove()},q.prototype.listImages=function(){return Object.keys(this.images)},q.prototype.getImages=function(G,ee){var ye=!0;if(!this.isLoaded())for(var Le=0,V=G;Le<V.length;Le+=1)this.images[V[Le]]||(ye=!1);this.isLoaded()||ye?this._notify(G,ee):this.requestors.push({ids:G,callback:ee})},q.prototype._notify=function(G,ee){for(var ye={},Le=0,V=G;Le<V.length;Le+=1){var ne=V[Le];this.images[ne]||this.fire(new u.Event("styleimagemissing",{id:ne}));var ce=this.images[ne];ce?ye[ne]={data:ce.data.clone(),pixelRatio:ce.pixelRatio,sdf:ce.sdf,version:ce.version,stretchX:ce.stretchX,stretchY:ce.stretchY,content:ce.content,hasRenderCallback:!(!ce.userImage||!ce.userImage.render)}:u.warnOnce('Image "'+ne+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ee(null,ye)},q.prototype.getPixelSize=function(){var G=this.atlasImage;return{width:G.width,height:G.height}},q.prototype.getPattern=function(G){var ee=this.patterns[G],ye=this.getImage(G);if(!ye)return null;if(ee&&ee.position.version===ye.version)return ee.position;if(ee)ee.position.version=ye.version;else{var Le={w:ye.data.width+2,h:ye.data.height+2,x:0,y:0},V=new u.ImagePosition(Le,ye);this.patterns[G]={bin:Le,position:V}}return this._updatePatternAtlas(),this.patterns[G].position},q.prototype.bind=function(G){var ee=G.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new u.Texture(G,this.atlasImage,ee.RGBA),this.atlasTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE)},q.prototype._updatePatternAtlas=function(){var G=[];for(var ee in this.patterns)G.push(this.patterns[ee].bin);var ye=u.potpack(G),Le=ye.w,V=ye.h,ne=this.atlasImage;for(var ce in ne.resize({width:Le||1,height:V||1}),this.patterns){var _e=this.patterns[ce].bin,Ae=_e.x+1,Fe=_e.y+1,We=this.images[ce].data,Ye=We.width,Je=We.height;u.RGBAImage.copy(We,ne,{x:0,y:0},{x:Ae,y:Fe},{width:Ye,height:Je}),u.RGBAImage.copy(We,ne,{x:0,y:Je-1},{x:Ae,y:Fe-1},{width:Ye,height:1}),u.RGBAImage.copy(We,ne,{x:0,y:0},{x:Ae,y:Fe+Je},{width:Ye,height:1}),u.RGBAImage.copy(We,ne,{x:Ye-1,y:0},{x:Ae-1,y:Fe},{width:1,height:Je}),u.RGBAImage.copy(We,ne,{x:0,y:0},{x:Ae+Ye,y:Fe},{width:1,height:Je})}this.dirty=!0},q.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},q.prototype.dispatchRenderCallbacks=function(G){for(var ee=0,ye=G;ee<ye.length;ee+=1){var Le=ye[ee];if(!this.callbackDispatchedThisFrame[Le]){this.callbackDispatchedThisFrame[Le]=!0;var V=this.images[Le];c(V)&&this.updateImage(Le,V)}}},q}(u.Evented),f=h,w=h,v=1e20;function h(j,q,G,ee,ye,Le){this.fontSize=j||24,this.buffer=void 0===q?3:q,this.cutoff=ee||.25,this.fontFamily=ye||"sans-serif",this.fontWeight=Le||"normal",this.radius=G||8;var V=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=V,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(V*V),this.gridInner=new Float64Array(V*V),this.f=new Float64Array(V),this.d=new Float64Array(V),this.z=new Float64Array(V+1),this.v=new Int16Array(V),this.middle=Math.round(V/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function _(j,q,G,ee,ye,Le,V){for(var ne=0;ne<q;ne++){for(var ce=0;ce<G;ce++)ee[ce]=j[ce*q+ne];for(x(ee,ye,Le,V,G),ce=0;ce<G;ce++)j[ce*q+ne]=ye[ce]}for(ce=0;ce<G;ce++){for(ne=0;ne<q;ne++)ee[ne]=j[ce*q+ne];for(x(ee,ye,Le,V,q),ne=0;ne<q;ne++)j[ce*q+ne]=Math.sqrt(ye[ne])}}function x(j,q,G,ee,ye){G[0]=0,ee[0]=-v,ee[1]=+v;for(var Le=1,V=0;Le<ye;Le++){for(var ne=(j[Le]+Le*Le-(j[G[V]]+G[V]*G[V]))/(2*Le-2*G[V]);ne<=ee[V];)V--,ne=(j[Le]+Le*Le-(j[G[V]]+G[V]*G[V]))/(2*Le-2*G[V]);G[++V]=Le,ee[V]=ne,ee[V+1]=+v}for(Le=0,V=0;Le<ye;Le++){for(;ee[V+1]<Le;)V++;q[Le]=(Le-G[V])*(Le-G[V])+j[G[V]]}}h.prototype.draw=function(j){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(j,this.buffer,this.middle);for(var q=this.ctx.getImageData(0,0,this.size,this.size),G=new Uint8ClampedArray(this.size*this.size),ee=0;ee<this.size*this.size;ee++){var ye=q.data[4*ee+3]/255;this.gridOuter[ee]=1===ye?0:0===ye?v:Math.pow(Math.max(0,.5-ye),2),this.gridInner[ee]=1===ye?v:0===ye?0:Math.pow(Math.max(0,ye-.5),2)}for(_(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),_(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ee=0;ee<this.size*this.size;ee++)G[ee]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[ee]-this.gridInner[ee])/this.radius+this.cutoff))));return G},f.default=w;var b=function(j,q){this.requestManager=j,this.localIdeographFontFamily=q,this.entries={}};b.prototype.setURL=function(j){this.url=j},b.prototype.getGlyphs=function(j,q){var G=this,ee=[];for(var ye in j)for(var Le=0,V=j[ye];Le<V.length;Le+=1)ee.push({stack:ye,id:V[Le]});u.asyncAll(ee,function(ce,_e){var Ae=ce.stack,Fe=ce.id,We=G.entries[Ae];We||(We=G.entries[Ae]={glyphs:{},requests:{},ranges:{}});var Ye=We.glyphs[Fe];if(void 0===Ye){if(Ye=G._tinySDF(We,Ae,Fe))return We.glyphs[Fe]=Ye,void _e(null,{stack:Ae,id:Fe,glyph:Ye});var Je=Math.floor(Fe/256);if(256*Je>65535)_e(new Error("glyphs > 65535 not supported"));else if(We.ranges[Je])_e(null,{stack:Ae,id:Fe,glyph:Ye});else{var tt=We.requests[Je];tt||(tt=We.requests[Je]=[],b.loadGlyphRange(Ae,Je,G.url,G.requestManager,function(lt,yt){if(yt){for(var wt in yt)G._doesCharSupportLocalGlyph(+wt)||(We.glyphs[+wt]=yt[+wt]);We.ranges[Je]=!0}for(var zt=0,Ut=tt;zt<Ut.length;zt+=1)(0,Ut[zt])(lt,yt);delete We.requests[Je]})),tt.push(function(lt,yt){lt?_e(lt):yt&&_e(null,{stack:Ae,id:Fe,glyph:yt[Fe]||null})})}}else _e(null,{stack:Ae,id:Fe,glyph:Ye})},function(ce,_e){if(ce)q(ce);else if(_e){for(var Ae={},Fe=0,We=_e;Fe<We.length;Fe+=1){var Ye=We[Fe],Je=Ye.stack,tt=Ye.id,lt=Ye.glyph;(Ae[Je]||(Ae[Je]={}))[tt]=lt&&{id:lt.id,bitmap:lt.bitmap.clone(),metrics:lt.metrics}}q(null,Ae)}})},b.prototype._doesCharSupportLocalGlyph=function(j){return!!this.localIdeographFontFamily&&(u.isChar["CJK Unified Ideographs"](j)||u.isChar["Hangul Syllables"](j)||u.isChar.Hiragana(j)||u.isChar.Katakana(j))},b.prototype._tinySDF=function(j,q,G){var ee=this.localIdeographFontFamily;if(ee&&this._doesCharSupportLocalGlyph(G)){var ye=j.tinySDF;if(!ye){var Le="400";/bold/i.test(q)?Le="900":/medium/i.test(q)?Le="500":/light/i.test(q)&&(Le="200"),ye=j.tinySDF=new b.TinySDF(24,3,8,.25,ee,Le)}return{id:G,bitmap:new u.AlphaImage({width:30,height:30},ye.draw(String.fromCharCode(G))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},b.loadGlyphRange=function(j,q,G,ee,ye){var Le=256*q,V=Le+255,ne=ee.transformRequest(ee.normalizeGlyphsURL(G).replace("{fontstack}",j).replace("{range}",Le+"-"+V),u.ResourceType.Glyphs);u.getArrayBuffer(ne,function(ce,_e){if(ce)ye(ce);else if(_e){for(var Ae={},Fe=0,We=u.parseGlyphPBF(_e);Fe<We.length;Fe+=1){var Ye=We[Fe];Ae[Ye.id]=Ye}ye(null,Ae)}})},b.TinySDF=f;var M=function(){this.specification=u.styleSpec.light.position};M.prototype.possiblyEvaluate=function(j,q){return u.sphericalToCartesian(j.expression.evaluate(q))},M.prototype.interpolate=function(j,q,G){return{x:u.number(j.x,q.x,G),y:u.number(j.y,q.y,G),z:u.number(j.z,q.z,G)}};var d=new u.Properties({anchor:new u.DataConstantProperty(u.styleSpec.light.anchor),position:new M,color:new u.DataConstantProperty(u.styleSpec.light.color),intensity:new u.DataConstantProperty(u.styleSpec.light.intensity)}),k=function(j){function q(G){j.call(this),this._transitionable=new u.Transitionable(d),this.setLight(G),this._transitioning=this._transitionable.untransitioned()}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getLight=function(){return this._transitionable.serialize()},q.prototype.setLight=function(G,ee){if(void 0===ee&&(ee={}),!this._validate(u.validateLight,G,ee))for(var ye in G){var Le=G[ye];u.endsWith(ye,"-transition")?this._transitionable.setTransition(ye.slice(0,-11),Le):this._transitionable.setValue(ye,Le)}},q.prototype.updateTransitions=function(G){this._transitioning=this._transitionable.transitioned(G,this._transitioning)},q.prototype.hasTransition=function(){return this._transitioning.hasTransition()},q.prototype.recalculate=function(G){this.properties=this._transitioning.possiblyEvaluate(G)},q.prototype._validate=function(G,ee,ye){return(!ye||!1!==ye.validate)&&u.emitValidationErrors(this,G.call(u.validateStyle,u.extend({value:ee,style:{glyphs:!0,sprite:!0},styleSpec:u.styleSpec})))},q}(u.Evented),I=function(j,q){this.width=j,this.height=q,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};I.prototype.getDash=function(j,q){var G=j.join(",")+String(q);return this.dashEntry[G]||(this.dashEntry[G]=this.addDash(j,q)),this.dashEntry[G]},I.prototype.getDashRanges=function(j,q,G){var ee=[],ye=j.length%2==1?-j[j.length-1]*G:0,Le=j[0]*G,V=!0;ee.push({left:ye,right:Le,isDash:V,zeroLength:0===j[0]});for(var ne=j[0],ce=1;ce<j.length;ce++){var _e=j[ce];ye=ne*G,Le=(ne+=_e)*G,ee.push({left:ye,right:Le,isDash:V=!V,zeroLength:0===_e})}return ee},I.prototype.addRoundDash=function(j,q,G){for(var ee=q/2,ye=-G;ye<=G;ye++)for(var V=this.width*(this.nextRow+G+ye),ne=0,ce=j[ne],_e=0;_e<this.width;_e++){_e/ce.right>1&&(ce=j[++ne]);var Ae=Math.abs(_e-ce.left),Fe=Math.abs(_e-ce.right),We=Math.min(Ae,Fe),Ye=void 0,Je=ye/G*(ee+1);if(ce.isDash){var tt=ee-Math.abs(Je);Ye=Math.sqrt(We*We+tt*tt)}else Ye=ee-Math.sqrt(We*We+Je*Je);this.data[V+_e]=Math.max(0,Math.min(255,Ye+128))}},I.prototype.addRegularDash=function(j){for(var q=j.length-1;q>=0;--q){var G=j[q],ee=j[q+1];G.zeroLength?j.splice(q,1):ee&&ee.isDash===G.isDash&&(ee.left=G.left,j.splice(q,1))}var ye=j[0],Le=j[j.length-1];ye.isDash===Le.isDash&&(ye.left=Le.left-this.width,Le.right=ye.right+this.width);for(var V=this.width*this.nextRow,ne=0,ce=j[ne],_e=0;_e<this.width;_e++){_e/ce.right>1&&(ce=j[++ne]);var Ae=Math.abs(_e-ce.left),Fe=Math.abs(_e-ce.right),We=Math.min(Ae,Fe);this.data[V+_e]=Math.max(0,Math.min(255,(ce.isDash?We:-We)+128))}},I.prototype.addDash=function(j,q){var G=q?7:0,ee=2*G+1;if(this.nextRow+ee>this.height)return u.warnOnce("LineAtlas out of space"),null;for(var ye=0,Le=0;Le<j.length;Le++)ye+=j[Le];if(0!==ye){var V=this.width/ye,ne=this.getDashRanges(j,this.width,V);q?this.addRoundDash(ne,V,G):this.addRegularDash(ne)}var ce={y:(this.nextRow+G+.5)/this.height,height:2*G/this.height,width:ye};return this.nextRow+=ee,this.dirty=!0,ce},I.prototype.bind=function(j){var q=j.gl;this.texture?(q.bindTexture(q.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.width,this.height,q.ALPHA,q.UNSIGNED_BYTE,this.data))):(this.texture=q.createTexture(),q.bindTexture(q.TEXTURE_2D,this.texture),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.REPEAT),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.REPEAT),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.LINEAR),q.texImage2D(q.TEXTURE_2D,0,q.ALPHA,this.width,this.height,0,q.ALPHA,q.UNSIGNED_BYTE,this.data))};var L=function j(q,G){this.workerPool=q,this.actors=[],this.currentActor=0,this.id=u.uniqueId();for(var ee=this.workerPool.acquire(this.id),ye=0;ye<ee.length;ye++){var V=new j.Actor(ee[ye],G,this.id);V.name="Worker "+ye,this.actors.push(V)}};function P(j,q,G){var ee=function(ye,Le){if(ye)return G(ye);if(Le){var V=u.pick(u.extend(Le,j),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Le.vector_layers&&(V.vectorLayers=Le.vector_layers,V.vectorLayerIds=V.vectorLayers.map(function(ne){return ne.id})),V.tiles=q.canonicalizeTileset(V,j.url),G(null,V)}};return j.url?u.getJSON(q.transformRequest(q.normalizeSourceURL(j.url),u.ResourceType.Source),ee):u.browser.frame(function(){return ee(null,j)})}L.prototype.broadcast=function(j,q,G){u.asyncAll(this.actors,function(ee,ye){ee.send(j,q,ye)},G=G||function(){})},L.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},L.prototype.remove=function(){this.actors.forEach(function(j){j.remove()}),this.actors=[],this.workerPool.release(this.id)},L.Actor=u.Actor;var R=function(j,q,G){this.bounds=u.LngLatBounds.convert(this.validateBounds(j)),this.minzoom=q||0,this.maxzoom=G||24};R.prototype.validateBounds=function(j){return Array.isArray(j)&&4===j.length?[Math.max(-180,j[0]),Math.max(-90,j[1]),Math.min(180,j[2]),Math.min(90,j[3])]:[-180,-90,180,90]},R.prototype.contains=function(j){var q=Math.pow(2,j.z),G=Math.floor(u.mercatorXfromLng(this.bounds.getWest())*q),ee=Math.floor(u.mercatorYfromLat(this.bounds.getNorth())*q),ye=Math.ceil(u.mercatorXfromLng(this.bounds.getEast())*q),Le=Math.ceil(u.mercatorYfromLat(this.bounds.getSouth())*q);return j.x>=G&&j.x<ye&&j.y>=ee&&j.y<Le};var z=function(j){function q(G,ee,ye,Le){if(j.call(this),this.id=G,this.dispatcher=ye,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,u.extend(this,u.pick(ee,["url","scheme","tileSize","promoteId"])),this._options=u.extend({type:"vector"},ee),this._collectResourceTiming=ee.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Le)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.load=function(){var G=this;this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(ee,ye){G._tileJSONRequest=null,G._loaded=!0,ee?G.fire(new u.ErrorEvent(ee)):ye&&(u.extend(G,ye),ye.bounds&&(G.tileBounds=new R(ye.bounds,G.minzoom,G.maxzoom)),u.postTurnstileEvent(ye.tiles,G.map._requestManager._customAccessToken),u.postMapLoadEvent(ye.tiles,G.map._getMapId(),G.map._requestManager._skuToken,G.map._requestManager._customAccessToken),G.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})),G.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})))})},q.prototype.loaded=function(){return this._loaded},q.prototype.hasTile=function(G){return!this.tileBounds||this.tileBounds.contains(G.canonical)},q.prototype.onAdd=function(G){this.map=G,this.load()},q.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},q.prototype.serialize=function(){return u.extend({},this._options)},q.prototype.loadTile=function(G,ee){var ye=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme)),Le={request:this.map._requestManager.transformRequest(ye,u.ResourceType.Tile),uid:G.uid,tileID:G.tileID,zoom:G.tileID.overscaledZ,tileSize:this.tileSize*G.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:u.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function V(ne,ce){return delete G.request,G.aborted?ee(null):ne&&404!==ne.status?ee(ne):(ce&&ce.resourceTiming&&(G.resourceTiming=ce.resourceTiming),this.map._refreshExpiredTiles&&ce&&G.setExpiryData(ce),G.loadVectorData(ce,this.map.painter),u.cacheEntryPossiblyAdded(this.dispatcher),ee(null),void(G.reloadCallback&&(this.loadTile(G,G.reloadCallback),G.reloadCallback=null)))}Le.request.collectResourceTiming=this._collectResourceTiming,G.actor&&"expired"!==G.state?"loading"===G.state?G.reloadCallback=ee:G.request=G.actor.send("reloadTile",Le,V.bind(this)):(G.actor=this.dispatcher.getActor(),G.request=G.actor.send("loadTile",Le,V.bind(this)))},q.prototype.abortTile=function(G){G.request&&(G.request.cancel(),delete G.request),G.actor&&G.actor.send("abortTile",{uid:G.uid,type:this.type,source:this.id},void 0)},q.prototype.unloadTile=function(G){G.unloadVectorData(),G.actor&&G.actor.send("removeTile",{uid:G.uid,type:this.type,source:this.id},void 0)},q.prototype.hasTransition=function(){return!1},q}(u.Evented),$=function(j){function q(G,ee,ye,Le){j.call(this),this.id=G,this.dispatcher=ye,this.setEventedParent(Le),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=u.extend({type:"raster"},ee),u.extend(this,u.pick(ee,["url","scheme","tileSize"]))}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.load=function(){var G=this;this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(ee,ye){G._tileJSONRequest=null,G._loaded=!0,ee?G.fire(new u.ErrorEvent(ee)):ye&&(u.extend(G,ye),ye.bounds&&(G.tileBounds=new R(ye.bounds,G.minzoom,G.maxzoom)),u.postTurnstileEvent(ye.tiles),u.postMapLoadEvent(ye.tiles,G.map._getMapId(),G.map._requestManager._skuToken),G.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})),G.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})))})},q.prototype.loaded=function(){return this._loaded},q.prototype.onAdd=function(G){this.map=G,this.load()},q.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},q.prototype.serialize=function(){return u.extend({},this._options)},q.prototype.hasTile=function(G){return!this.tileBounds||this.tileBounds.contains(G.canonical)},q.prototype.loadTile=function(G,ee){var ye=this,Le=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);G.request=u.getImage(this.map._requestManager.transformRequest(Le,u.ResourceType.Tile),function(V,ne){if(delete G.request,G.aborted)G.state="unloaded",ee(null);else if(V)G.state="errored",ee(V);else if(ne){ye.map._refreshExpiredTiles&&G.setExpiryData(ne),delete ne.cacheControl,delete ne.expires;var ce=ye.map.painter.context,_e=ce.gl;G.texture=ye.map.painter.getTileTexture(ne.width),G.texture?G.texture.update(ne,{useMipmap:!0}):(G.texture=new u.Texture(ce,ne,_e.RGBA,{useMipmap:!0}),G.texture.bind(_e.LINEAR,_e.CLAMP_TO_EDGE,_e.LINEAR_MIPMAP_NEAREST),ce.extTextureFilterAnisotropic&&_e.texParameterf(_e.TEXTURE_2D,ce.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ce.extTextureFilterAnisotropicMax)),G.state="loaded",u.cacheEntryPossiblyAdded(ye.dispatcher),ee(null)}})},q.prototype.abortTile=function(G,ee){G.request&&(G.request.cancel(),delete G.request),ee()},q.prototype.unloadTile=function(G,ee){G.texture&&this.map.painter.saveTileTexture(G.texture),ee()},q.prototype.hasTransition=function(){return!1},q}(u.Evented),N=function(j){function q(G,ee,ye,Le){j.call(this,G,ee,ye,Le),this.type="raster-dem",this.maxzoom=22,this._options=u.extend({type:"raster-dem"},ee),this.encoding=ee.encoding||"mapbox"}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},q.prototype.loadTile=function(G,ee){var ye=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function Le(V,ne){V&&(G.state="errored",ee(V)),ne&&(G.dem=ne,G.needsHillshadePrepare=!0,G.state="loaded",ee(null))}G.request=u.getImage(this.map._requestManager.transformRequest(ye,u.ResourceType.Tile),function(V,ne){if(delete G.request,G.aborted)G.state="unloaded",ee(null);else if(V)G.state="errored",ee(V);else if(ne){this.map._refreshExpiredTiles&&G.setExpiryData(ne),delete ne.cacheControl,delete ne.expires;var ce=u.window.ImageBitmap&&ne instanceof u.window.ImageBitmap&&u.offscreenCanvasSupported()?ne:u.browser.getImageData(ne,1),_e={uid:G.uid,coord:G.tileID,source:this.id,rawImageData:ce,encoding:this.encoding};G.actor&&"expired"!==G.state||(G.actor=this.dispatcher.getActor(),G.actor.send("loadDEMTile",_e,Le.bind(this)))}}.bind(this)),G.neighboringTiles=this._getNeighboringTiles(G.tileID)},q.prototype._getNeighboringTiles=function(G){var ee=G.canonical,ye=Math.pow(2,ee.z),Le=(ee.x-1+ye)%ye,V=0===ee.x?G.wrap-1:G.wrap,ne=(ee.x+1+ye)%ye,ce=ee.x+1===ye?G.wrap+1:G.wrap,_e={};return _e[new u.OverscaledTileID(G.overscaledZ,V,ee.z,Le,ee.y).key]={backfilled:!1},_e[new u.OverscaledTileID(G.overscaledZ,ce,ee.z,ne,ee.y).key]={backfilled:!1},ee.y>0&&(_e[new u.OverscaledTileID(G.overscaledZ,V,ee.z,Le,ee.y-1).key]={backfilled:!1},_e[new u.OverscaledTileID(G.overscaledZ,G.wrap,ee.z,ee.x,ee.y-1).key]={backfilled:!1},_e[new u.OverscaledTileID(G.overscaledZ,ce,ee.z,ne,ee.y-1).key]={backfilled:!1}),ee.y+1<ye&&(_e[new u.OverscaledTileID(G.overscaledZ,V,ee.z,Le,ee.y+1).key]={backfilled:!1},_e[new u.OverscaledTileID(G.overscaledZ,G.wrap,ee.z,ee.x,ee.y+1).key]={backfilled:!1},_e[new u.OverscaledTileID(G.overscaledZ,ce,ee.z,ne,ee.y+1).key]={backfilled:!1}),_e},q.prototype.unloadTile=function(G){G.demTexture&&this.map.painter.saveTileTexture(G.demTexture),G.fbo&&(G.fbo.destroy(),delete G.fbo),G.dem&&delete G.dem,delete G.neighboringTiles,G.state="unloaded",G.actor&&G.actor.send("removeDEMTile",{uid:G.uid,source:this.id})},q}($),W=function(j){function q(G,ee,ye,Le){j.call(this),this.id=G,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ye.getActor(),this.setEventedParent(Le),this._data=ee.data,this._options=u.extend({},ee),this._collectResourceTiming=ee.collectResourceTiming,this._resourceTiming=[],void 0!==ee.maxzoom&&(this.maxzoom=ee.maxzoom),ee.type&&(this.type=ee.type),ee.attribution&&(this.attribution=ee.attribution),this.promoteId=ee.promoteId;var V=u.EXTENT/this.tileSize;this.workerOptions=u.extend({source:this.id,cluster:ee.cluster||!1,geojsonVtOptions:{buffer:(void 0!==ee.buffer?ee.buffer:128)*V,tolerance:(void 0!==ee.tolerance?ee.tolerance:.375)*V,extent:u.EXTENT,maxZoom:this.maxzoom,lineMetrics:ee.lineMetrics||!1,generateId:ee.generateId||!1},superclusterOptions:{maxZoom:void 0!==ee.clusterMaxZoom?Math.min(ee.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:u.EXTENT,radius:(ee.clusterRadius||50)*V,log:!1,generateId:ee.generateId||!1},clusterProperties:ee.clusterProperties},ee.workerOptions)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.load=function(){var G=this;this.fire(new u.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ee){if(ee)G.fire(new u.ErrorEvent(ee));else{var ye={dataType:"source",sourceDataType:"metadata"};G._collectResourceTiming&&G._resourceTiming&&G._resourceTiming.length>0&&(ye.resourceTiming=G._resourceTiming,G._resourceTiming=[]),G.fire(new u.Event("data",ye))}})},q.prototype.onAdd=function(G){this.map=G,this.load()},q.prototype.setData=function(G){var ee=this;return this._data=G,this.fire(new u.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ye){if(ye)ee.fire(new u.ErrorEvent(ye));else{var Le={dataType:"source",sourceDataType:"content"};ee._collectResourceTiming&&ee._resourceTiming&&ee._resourceTiming.length>0&&(Le.resourceTiming=ee._resourceTiming,ee._resourceTiming=[]),ee.fire(new u.Event("data",Le))}}),this},q.prototype.getClusterExpansionZoom=function(G,ee){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:G,source:this.id},ee),this},q.prototype.getClusterChildren=function(G,ee){return this.actor.send("geojson.getClusterChildren",{clusterId:G,source:this.id},ee),this},q.prototype.getClusterLeaves=function(G,ee,ye,Le){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:G,limit:ee,offset:ye},Le),this},q.prototype._updateWorkerData=function(G){var ee=this;this._loaded=!1;var ye=u.extend({},this.workerOptions),Le=this._data;"string"==typeof Le?(ye.request=this.map._requestManager.transformRequest(u.browser.resolveURL(Le),u.ResourceType.Source),ye.request.collectResourceTiming=this._collectResourceTiming):ye.data=JSON.stringify(Le),this.actor.send(this.type+".loadData",ye,function(V,ne){ee._removed||ne&&ne.abandoned||(ee._loaded=!0,ne&&ne.resourceTiming&&ne.resourceTiming[ee.id]&&(ee._resourceTiming=ne.resourceTiming[ee.id].slice(0)),ee.actor.send(ee.type+".coalesce",{source:ye.source},null),G(V))})},q.prototype.loaded=function(){return this._loaded},q.prototype.loadTile=function(G,ee){var ye=this,Le=G.actor?"reloadTile":"loadTile";G.actor=this.actor,G.request=this.actor.send(Le,{type:this.type,uid:G.uid,tileID:G.tileID,zoom:G.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:u.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(ne,ce){return delete G.request,G.unloadVectorData(),G.aborted?ee(null):ne?ee(ne):(G.loadVectorData(ce,ye.map.painter,"reloadTile"===Le),ee(null))})},q.prototype.abortTile=function(G){G.request&&(G.request.cancel(),delete G.request),G.aborted=!0},q.prototype.unloadTile=function(G){G.unloadVectorData(),this.actor.send("removeTile",{uid:G.uid,type:this.type,source:this.id})},q.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},q.prototype.serialize=function(){return u.extend({},this._options,{type:this.type,data:this._data})},q.prototype.hasTransition=function(){return!1},q}(u.Evented),H=u.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),U=function(j){function q(G,ee,ye,Le){j.call(this),this.id=G,this.dispatcher=ye,this.coordinates=ee.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Le),this.options=ee}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.load=function(G,ee){var ye=this;this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this.url=this.options.url,u.getImage(this.map._requestManager.transformRequest(this.url,u.ResourceType.Image),function(Le,V){ye._loaded=!0,Le?ye.fire(new u.ErrorEvent(Le)):V&&(ye.image=V,G&&(ye.coordinates=G),ee&&ee(),ye._finishLoading())})},q.prototype.loaded=function(){return this._loaded},q.prototype.updateImage=function(G){var ee=this;return this.image&&G.url?(this.options.url=G.url,this.load(G.coordinates,function(){ee.texture=null}),this):this},q.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})))},q.prototype.onAdd=function(G){this.map=G,this.load()},q.prototype.setCoordinates=function(G){var ee=this;this.coordinates=G;var ye=G.map(u.MercatorCoordinate.fromLngLat);this.tileID=function(V){for(var ne=1/0,ce=1/0,_e=-1/0,Ae=-1/0,Fe=0,We=V;Fe<We.length;Fe+=1){var Ye=We[Fe];ne=Math.min(ne,Ye.x),ce=Math.min(ce,Ye.y),_e=Math.max(_e,Ye.x),Ae=Math.max(Ae,Ye.y)}var lt=Math.max(_e-ne,Ae-ce),yt=Math.max(0,Math.floor(-Math.log(lt)/Math.LN2)),wt=Math.pow(2,yt);return new u.CanonicalTileID(yt,Math.floor((ne+_e)/2*wt),Math.floor((ce+Ae)/2*wt))}(ye),this.minzoom=this.maxzoom=this.tileID.z;var Le=ye.map(function(V){return ee.tileID.getTilePoint(V)._round()});return this._boundsArray=new u.StructArrayLayout4i8,this._boundsArray.emplaceBack(Le[0].x,Le[0].y,0,0),this._boundsArray.emplaceBack(Le[1].x,Le[1].y,u.EXTENT,0),this._boundsArray.emplaceBack(Le[3].x,Le[3].y,0,u.EXTENT),this._boundsArray.emplaceBack(Le[2].x,Le[2].y,u.EXTENT,u.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})),this},q.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var G=this.map.painter.context,ee=G.gl;for(var ye in this.boundsBuffer||(this.boundsBuffer=G.createVertexBuffer(this._boundsArray,H.members)),this.boundsSegments||(this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new u.Texture(G,this.image,ee.RGBA),this.texture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE)),this.tiles){var Le=this.tiles[ye];"loaded"!==Le.state&&(Le.state="loaded",Le.texture=this.texture)}}},q.prototype.loadTile=function(G,ee){this.tileID&&this.tileID.equals(G.tileID.canonical)?(this.tiles[String(G.tileID.wrap)]=G,G.buckets={},ee(null)):(G.state="errored",ee(null))},q.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},q.prototype.hasTransition=function(){return!1},q}(u.Evented),Z=function(j){function q(G,ee,ye,Le){j.call(this,G,ee,ye,Le),this.roundZoom=!0,this.type="video",this.options=ee}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.load=function(){var G=this;this._loaded=!1;var ee=this.options;this.urls=[];for(var ye=0,Le=ee.urls;ye<Le.length;ye+=1)this.urls.push(this.map._requestManager.transformRequest(Le[ye],u.ResourceType.Source).url);u.getVideo(this.urls,function(ne,ce){G._loaded=!0,ne?G.fire(new u.ErrorEvent(ne)):ce&&(G.video=ce,G.video.loop=!0,G.video.addEventListener("playing",function(){G.map.triggerRepaint()}),G.map&&G.video.play(),G._finishLoading())})},q.prototype.pause=function(){this.video&&this.video.pause()},q.prototype.play=function(){this.video&&this.video.play()},q.prototype.seek=function(G){if(this.video){var ee=this.video.seekable;G<ee.start(0)||G>ee.end(0)?this.fire(new u.ErrorEvent(new u.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ee.start(0)+" and "+ee.end(0)+"-second mark."))):this.video.currentTime=G}},q.prototype.getVideo=function(){return this.video},q.prototype.onAdd=function(G){this.map||(this.map=G,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},q.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var G=this.map.painter.context,ee=G.gl;for(var ye in this.boundsBuffer||(this.boundsBuffer=G.createVertexBuffer(this._boundsArray,H.members)),this.boundsSegments||(this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),ee.texSubImage2D(ee.TEXTURE_2D,0,0,0,ee.RGBA,ee.UNSIGNED_BYTE,this.video)):(this.texture=new u.Texture(G,this.video,ee.RGBA),this.texture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE)),this.tiles){var Le=this.tiles[ye];"loaded"!==Le.state&&(Le.state="loaded",Le.texture=this.texture)}}},q.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},q.prototype.hasTransition=function(){return this.video&&!this.video.paused},q}(U),Y=function(j){function q(G,ee,ye,Le){j.call(this,G,ee,ye,Le),ee.coordinates?Array.isArray(ee.coordinates)&&4===ee.coordinates.length&&!ee.coordinates.some(function(V){return!Array.isArray(V)||2!==V.length||V.some(function(ne){return"number"!=typeof ne})})||this.fire(new u.ErrorEvent(new u.ValidationError("sources."+G,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new u.ErrorEvent(new u.ValidationError("sources."+G,null,'missing required property "coordinates"'))),ee.animate&&"boolean"!=typeof ee.animate&&this.fire(new u.ErrorEvent(new u.ValidationError("sources."+G,null,'optional "animate" property must be a boolean value'))),ee.canvas?"string"==typeof ee.canvas||ee.canvas instanceof u.window.HTMLCanvasElement||this.fire(new u.ErrorEvent(new u.ValidationError("sources."+G,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new u.ErrorEvent(new u.ValidationError("sources."+G,null,'missing required property "canvas"'))),this.options=ee,this.animate=void 0===ee.animate||ee.animate}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof u.window.HTMLCanvasElement?this.options.canvas:u.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new u.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},q.prototype.getCanvas=function(){return this.canvas},q.prototype.onAdd=function(G){this.map=G,this.load(),this.canvas&&this.animate&&this.play()},q.prototype.onRemove=function(){this.pause()},q.prototype.prepare=function(){var G=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,G=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,G=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var ee=this.map.painter.context,ye=ee.gl;for(var Le in this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,H.members)),this.boundsSegments||(this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(G||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new u.Texture(ee,this.canvas,ye.RGBA,{premultiply:!0}),this.tiles){var V=this.tiles[Le];"loaded"!==V.state&&(V.state="loaded",V.texture=this.texture)}}},q.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},q.prototype.hasTransition=function(){return this._playing},q.prototype._hasInvalidDimensions=function(){for(var G=0,ee=[this.canvas.width,this.canvas.height];G<ee.length;G+=1){var ye=ee[G];if(isNaN(ye)||ye<=0)return!0}return!1},q}(U),ae={vector:z,raster:$,"raster-dem":N,geojson:W,video:Z,image:U,canvas:Y};function re(j,q){var G=u.identity([]);return u.translate(G,G,[1,1,0]),u.scale(G,G,[.5*j.width,.5*j.height,1]),u.multiply(G,G,j.calculatePosMatrix(q.toUnwrapped()))}function Q(j,q,G,ee,ye,Le){var V=function(tt,lt,yt){if(tt)for(var wt=0,zt=tt;wt<zt.length;wt+=1){var Ut=lt[zt[wt]];if(Ut&&Ut.source===yt&&"fill-extrusion"===Ut.type)return!0}else for(var Nt in lt){var $t=lt[Nt];if($t.source===yt&&"fill-extrusion"===$t.type)return!0}return!1}(ye&&ye.layers,q,j.id),ne=Le.maxPitchScaleFactor(),ce=j.tilesIn(ee,ne,V);ce.sort(K);for(var _e=[],Ae=0,Fe=ce;Ae<Fe.length;Ae+=1){var We=Fe[Ae];_e.push({wrappedTileID:We.tileID.wrapped().key,queryResults:We.tile.queryRenderedFeatures(q,G,j._state,We.queryGeometry,We.cameraQueryGeometry,We.scale,ye,Le,ne,re(j.transform,We.tileID))})}var Ye=function(tt){for(var lt={},yt={},wt=0,zt=tt;wt<zt.length;wt+=1){var Ut=zt[wt],Nt=Ut.queryResults,$t=Ut.wrappedTileID,Bt=yt[$t]=yt[$t]||{};for(var pn in Nt)for(var an=Nt[pn],en=Bt[pn]=Bt[pn]||{},Dn=lt[pn]=lt[pn]||[],In=0,Kn=an;In<Kn.length;In+=1){var Yn=Kn[In];en[Yn.featureIndex]||(en[Yn.featureIndex]=!0,Dn.push(Yn))}}return lt}(_e);for(var Je in Ye)Ye[Je].forEach(function(tt){var lt=tt.feature,yt=j.getFeatureState(lt.layer["source-layer"],lt.id);lt.source=lt.layer.source,lt.layer["source-layer"]&&(lt.sourceLayer=lt.layer["source-layer"]),lt.state=yt});return Ye}function K(j,q){var G=j.tileID,ee=q.tileID;return G.overscaledZ-ee.overscaledZ||G.canonical.y-ee.canonical.y||G.wrap-ee.wrap||G.canonical.x-ee.canonical.x}var te=function(j,q){this.max=j,this.onRemove=q,this.reset()};te.prototype.reset=function(){for(var j in this.data)for(var q=0,G=this.data[j];q<G.length;q+=1){var ee=G[q];ee.timeout&&clearTimeout(ee.timeout),this.onRemove(ee.value)}return this.data={},this.order=[],this},te.prototype.add=function(j,q,G){var ee=this,ye=j.wrapped().key;void 0===this.data[ye]&&(this.data[ye]=[]);var Le={value:q,timeout:void 0};if(void 0!==G&&(Le.timeout=setTimeout(function(){ee.remove(j,Le)},G)),this.data[ye].push(Le),this.order.push(ye),this.order.length>this.max){var V=this._getAndRemoveByKey(this.order[0]);V&&this.onRemove(V)}return this},te.prototype.has=function(j){return j.wrapped().key in this.data},te.prototype.getAndRemove=function(j){return this.has(j)?this._getAndRemoveByKey(j.wrapped().key):null},te.prototype._getAndRemoveByKey=function(j){var q=this.data[j].shift();return q.timeout&&clearTimeout(q.timeout),0===this.data[j].length&&delete this.data[j],this.order.splice(this.order.indexOf(j),1),q.value},te.prototype.getByKey=function(j){var q=this.data[j];return q?q[0].value:null},te.prototype.get=function(j){return this.has(j)?this.data[j.wrapped().key][0].value:null},te.prototype.remove=function(j,q){if(!this.has(j))return this;var G=j.wrapped().key,ee=void 0===q?0:this.data[G].indexOf(q),ye=this.data[G][ee];return this.data[G].splice(ee,1),ye.timeout&&clearTimeout(ye.timeout),0===this.data[G].length&&delete this.data[G],this.onRemove(ye.value),this.order.splice(this.order.indexOf(G),1),this},te.prototype.setMaxSize=function(j){for(this.max=j;this.order.length>this.max;){var q=this._getAndRemoveByKey(this.order[0]);q&&this.onRemove(q)}return this},te.prototype.filter=function(j){var q=[];for(var G in this.data)for(var ee=0,ye=this.data[G];ee<ye.length;ee+=1){var Le=ye[ee];j(Le.value)||q.push(Le)}for(var V=0,ne=q;V<ne.length;V+=1){var ce=ne[V];this.remove(ce.value.tileID,ce)}};var oe=function(j,q,G){this.context=j;var ee=j.gl;this.buffer=ee.createBuffer(),this.dynamicDraw=!!G,this.context.unbindVAO(),j.bindElementBuffer.set(this.buffer),ee.bufferData(ee.ELEMENT_ARRAY_BUFFER,q.arrayBuffer,this.dynamicDraw?ee.DYNAMIC_DRAW:ee.STATIC_DRAW),this.dynamicDraw||delete q.arrayBuffer};oe.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},oe.prototype.updateData=function(j){var q=this.context.gl;this.context.unbindVAO(),this.bind(),q.bufferSubData(q.ELEMENT_ARRAY_BUFFER,0,j.arrayBuffer)},oe.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var ue={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},fe=function(j,q,G,ee){this.length=q.length,this.attributes=G,this.itemSize=q.bytesPerElement,this.dynamicDraw=ee,this.context=j;var ye=j.gl;this.buffer=ye.createBuffer(),j.bindVertexBuffer.set(this.buffer),ye.bufferData(ye.ARRAY_BUFFER,q.arrayBuffer,this.dynamicDraw?ye.DYNAMIC_DRAW:ye.STATIC_DRAW),this.dynamicDraw||delete q.arrayBuffer};fe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},fe.prototype.updateData=function(j){var q=this.context.gl;this.bind(),q.bufferSubData(q.ARRAY_BUFFER,0,j.arrayBuffer)},fe.prototype.enableAttributes=function(j,q){for(var G=0;G<this.attributes.length;G++){var ye=q.attributes[this.attributes[G].name];void 0!==ye&&j.enableVertexAttribArray(ye)}},fe.prototype.setVertexAttribPointers=function(j,q,G){for(var ee=0;ee<this.attributes.length;ee++){var ye=this.attributes[ee],Le=q.attributes[ye.name];void 0!==Le&&j.vertexAttribPointer(Le,ye.components,j[ue[ye.type]],!1,this.itemSize,ye.offset+this.itemSize*(G||0))}},fe.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var he=function(j){this.gl=j.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};he.prototype.get=function(){return this.current},he.prototype.set=function(j){},he.prototype.getDefault=function(){return this.default},he.prototype.setDefault=function(){this.set(this.default)};var me=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return u.Color.transparent},q.prototype.set=function(G){var ee=this.current;(G.r!==ee.r||G.g!==ee.g||G.b!==ee.b||G.a!==ee.a||this.dirty)&&(this.gl.clearColor(G.r,G.g,G.b,G.a),this.current=G,this.dirty=!1)},q}(he),ke=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return 1},q.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.clearDepth(G),this.current=G,this.dirty=!1)},q}(he),Pe=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return 0},q.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.clearStencil(G),this.current=G,this.dirty=!1)},q}(he),Te=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return[!0,!0,!0,!0]},q.prototype.set=function(G){var ee=this.current;(G[0]!==ee[0]||G[1]!==ee[1]||G[2]!==ee[2]||G[3]!==ee[3]||this.dirty)&&(this.gl.colorMask(G[0],G[1],G[2],G[3]),this.current=G,this.dirty=!1)},q}(he),be=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return!0},q.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.depthMask(G),this.current=G,this.dirty=!1)},q}(he),xe=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return 255},q.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.stencilMask(G),this.current=G,this.dirty=!1)},q}(he),Ne=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},q.prototype.set=function(G){var ee=this.current;(G.func!==ee.func||G.ref!==ee.ref||G.mask!==ee.mask||this.dirty)&&(this.gl.stencilFunc(G.func,G.ref,G.mask),this.current=G,this.dirty=!1)},q}(he),Se=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){var G=this.gl;return[G.KEEP,G.KEEP,G.KEEP]},q.prototype.set=function(G){var ee=this.current;(G[0]!==ee[0]||G[1]!==ee[1]||G[2]!==ee[2]||this.dirty)&&(this.gl.stencilOp(G[0],G[1],G[2]),this.current=G,this.dirty=!1)},q}(he),Ce=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return!1},q.prototype.set=function(G){if(G!==this.current||this.dirty){var ee=this.gl;G?ee.enable(ee.STENCIL_TEST):ee.disable(ee.STENCIL_TEST),this.current=G,this.dirty=!1}},q}(he),pe=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return[0,1]},q.prototype.set=function(G){var ee=this.current;(G[0]!==ee[0]||G[1]!==ee[1]||this.dirty)&&(this.gl.depthRange(G[0],G[1]),this.current=G,this.dirty=!1)},q}(he),de=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return!1},q.prototype.set=function(G){if(G!==this.current||this.dirty){var ee=this.gl;G?ee.enable(ee.DEPTH_TEST):ee.disable(ee.DEPTH_TEST),this.current=G,this.dirty=!1}},q}(he),se=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return this.gl.LESS},q.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.depthFunc(G),this.current=G,this.dirty=!1)},q}(he),we=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return!1},q.prototype.set=function(G){if(G!==this.current||this.dirty){var ee=this.gl;G?ee.enable(ee.BLEND):ee.disable(ee.BLEND),this.current=G,this.dirty=!1}},q}(he),Re=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){var G=this.gl;return[G.ONE,G.ZERO]},q.prototype.set=function(G){var ee=this.current;(G[0]!==ee[0]||G[1]!==ee[1]||this.dirty)&&(this.gl.blendFunc(G[0],G[1]),this.current=G,this.dirty=!1)},q}(he),Ee=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return u.Color.transparent},q.prototype.set=function(G){var ee=this.current;(G.r!==ee.r||G.g!==ee.g||G.b!==ee.b||G.a!==ee.a||this.dirty)&&(this.gl.blendColor(G.r,G.g,G.b,G.a),this.current=G,this.dirty=!1)},q}(he),Ue=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return this.gl.FUNC_ADD},q.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.blendEquation(G),this.current=G,this.dirty=!1)},q}(he),$e=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return!1},q.prototype.set=function(G){if(G!==this.current||this.dirty){var ee=this.gl;G?ee.enable(ee.CULL_FACE):ee.disable(ee.CULL_FACE),this.current=G,this.dirty=!1}},q}(he),ve=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return this.gl.BACK},q.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.cullFace(G),this.current=G,this.dirty=!1)},q}(he),Ie=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return this.gl.CCW},q.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.frontFace(G),this.current=G,this.dirty=!1)},q}(he),De=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return null},q.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.useProgram(G),this.current=G,this.dirty=!1)},q}(he),ze=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return this.gl.TEXTURE0},q.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.activeTexture(G),this.current=G,this.dirty=!1)},q}(he),Ge=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){var G=this.gl;return[0,0,G.drawingBufferWidth,G.drawingBufferHeight]},q.prototype.set=function(G){var ee=this.current;(G[0]!==ee[0]||G[1]!==ee[1]||G[2]!==ee[2]||G[3]!==ee[3]||this.dirty)&&(this.gl.viewport(G[0],G[1],G[2],G[3]),this.current=G,this.dirty=!1)},q}(he),He=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return null},q.prototype.set=function(G){if(G!==this.current||this.dirty){var ee=this.gl;ee.bindFramebuffer(ee.FRAMEBUFFER,G),this.current=G,this.dirty=!1}},q}(he),Ke=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return null},q.prototype.set=function(G){if(G!==this.current||this.dirty){var ee=this.gl;ee.bindRenderbuffer(ee.RENDERBUFFER,G),this.current=G,this.dirty=!1}},q}(he),et=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return null},q.prototype.set=function(G){if(G!==this.current||this.dirty){var ee=this.gl;ee.bindTexture(ee.TEXTURE_2D,G),this.current=G,this.dirty=!1}},q}(he),st=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return null},q.prototype.set=function(G){if(G!==this.current||this.dirty){var ee=this.gl;ee.bindBuffer(ee.ARRAY_BUFFER,G),this.current=G,this.dirty=!1}},q}(he),mt=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return null},q.prototype.set=function(G){var ee=this.gl;ee.bindBuffer(ee.ELEMENT_ARRAY_BUFFER,G),this.current=G,this.dirty=!1},q}(he),at=function(j){function q(G){j.call(this,G),this.vao=G.extVertexArrayObject}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return null},q.prototype.set=function(G){this.vao&&(G!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(G),this.current=G,this.dirty=!1)},q}(he),kt=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return 4},q.prototype.set=function(G){if(G!==this.current||this.dirty){var ee=this.gl;ee.pixelStorei(ee.UNPACK_ALIGNMENT,G),this.current=G,this.dirty=!1}},q}(he),St=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return!1},q.prototype.set=function(G){if(G!==this.current||this.dirty){var ee=this.gl;ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G),this.current=G,this.dirty=!1}},q}(he),gt=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return!1},q.prototype.set=function(G){if(G!==this.current||this.dirty){var ee=this.gl;ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,G),this.current=G,this.dirty=!1}},q}(he),dt=function(j){function q(G,ee){j.call(this,G),this.context=G,this.parent=ee}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getDefault=function(){return null},q}(he),Ct=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.setDirty=function(){this.dirty=!0},q.prototype.set=function(G){if(G!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ee=this.gl;ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,G,0),this.current=G,this.dirty=!1}},q}(dt),Ot=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.set=function(G){if(G!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ee=this.gl;ee.framebufferRenderbuffer(ee.FRAMEBUFFER,ee.DEPTH_ATTACHMENT,ee.RENDERBUFFER,G),this.current=G,this.dirty=!1}},q}(dt),Pt=function(j,q,G,ee){this.context=j,this.width=q,this.height=G;var Le=this.framebuffer=j.gl.createFramebuffer();this.colorAttachment=new Ct(j,Le),ee&&(this.depthAttachment=new Ot(j,Le))};Pt.prototype.destroy=function(){var j=this.context.gl,q=this.colorAttachment.get();if(q&&j.deleteTexture(q),this.depthAttachment){var G=this.depthAttachment.get();G&&j.deleteRenderbuffer(G)}j.deleteFramebuffer(this.framebuffer)};var Ht=function(j,q,G){this.func=j,this.mask=q,this.range=G};Ht.ReadOnly=!1,Ht.ReadWrite=!0,Ht.disabled=new Ht(519,Ht.ReadOnly,[0,1]);var nt=function(j,q,G,ee,ye,Le){this.test=j,this.ref=q,this.mask=G,this.fail=ee,this.depthFail=ye,this.pass=Le};nt.disabled=new nt({func:519,mask:0},0,0,7680,7680,7680);var it=function(j,q,G){this.blendFunction=j,this.blendColor=q,this.mask=G};it.disabled=new it(it.Replace=[1,0],u.Color.transparent,[!1,!1,!1,!1]),it.unblended=new it(it.Replace,u.Color.transparent,[!0,!0,!0,!0]),it.alphaBlended=new it([1,771],u.Color.transparent,[!0,!0,!0,!0]);var Xe=function(j,q,G){this.enable=j,this.mode=q,this.frontFace=G};Xe.disabled=new Xe(!1,1029,2305),Xe.backCCW=new Xe(!0,1029,2305);var rt=function(j){this.gl=j,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new me(this),this.clearDepth=new ke(this),this.clearStencil=new Pe(this),this.colorMask=new Te(this),this.depthMask=new be(this),this.stencilMask=new xe(this),this.stencilFunc=new Ne(this),this.stencilOp=new Se(this),this.stencilTest=new Ce(this),this.depthRange=new pe(this),this.depthTest=new de(this),this.depthFunc=new se(this),this.blend=new we(this),this.blendFunc=new Re(this),this.blendColor=new Ee(this),this.blendEquation=new Ue(this),this.cullFace=new $e(this),this.cullFaceSide=new ve(this),this.frontFace=new Ie(this),this.program=new De(this),this.activeTexture=new ze(this),this.viewport=new Ge(this),this.bindFramebuffer=new He(this),this.bindRenderbuffer=new Ke(this),this.bindTexture=new et(this),this.bindVertexBuffer=new st(this),this.bindElementBuffer=new mt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new at(this),this.pixelStoreUnpack=new kt(this),this.pixelStoreUnpackPremultiplyAlpha=new St(this),this.pixelStoreUnpackFlipY=new gt(this),this.extTextureFilterAnisotropic=j.getExtension("EXT_texture_filter_anisotropic")||j.getExtension("MOZ_EXT_texture_filter_anisotropic")||j.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=j.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=j.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(j.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=j.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=j.getExtension("EXT_disjoint_timer_query")};rt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},rt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},rt.prototype.createIndexBuffer=function(j,q){return new oe(this,j,q)},rt.prototype.createVertexBuffer=function(j,q,G){return new fe(this,j,q,G)},rt.prototype.createRenderbuffer=function(j,q,G){var ee=this.gl,ye=ee.createRenderbuffer();return this.bindRenderbuffer.set(ye),ee.renderbufferStorage(ee.RENDERBUFFER,j,q,G),this.bindRenderbuffer.set(null),ye},rt.prototype.createFramebuffer=function(j,q,G){return new Pt(this,j,q,G)},rt.prototype.clear=function(j){var q=j.color,G=j.depth,ee=this.gl,ye=0;q&&(ye|=ee.COLOR_BUFFER_BIT,this.clearColor.set(q),this.colorMask.set([!0,!0,!0,!0])),void 0!==G&&(ye|=ee.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(G),this.depthMask.set(!0)),ee.clear(ye)},rt.prototype.setCullFace=function(j){!1===j.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(j.mode),this.frontFace.set(j.frontFace))},rt.prototype.setDepthMode=function(j){j.func!==this.gl.ALWAYS||j.mask?(this.depthTest.set(!0),this.depthFunc.set(j.func),this.depthMask.set(j.mask),this.depthRange.set(j.range)):this.depthTest.set(!1)},rt.prototype.setStencilMode=function(j){j.test.func!==this.gl.ALWAYS||j.mask?(this.stencilTest.set(!0),this.stencilMask.set(j.mask),this.stencilOp.set([j.fail,j.depthFail,j.pass]),this.stencilFunc.set({func:j.test.func,ref:j.ref,mask:j.test.mask})):this.stencilTest.set(!1)},rt.prototype.setColorMode=function(j){u.deepEqual(j.blendFunction,it.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(j.blendFunction),this.blendColor.set(j.blendColor)),this.colorMask.set(j.mask)},rt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ft=function(j){function q(G,ee,ye){var Le=this;j.call(this),this.id=G,this.dispatcher=ye,this.on("data",function(V){"source"===V.dataType&&"metadata"===V.sourceDataType&&(Le._sourceLoaded=!0),Le._sourceLoaded&&!Le._paused&&"source"===V.dataType&&"content"===V.sourceDataType&&(Le.reload(),Le.transform&&Le.update(Le.transform))}),this.on("error",function(){Le._sourceErrored=!0}),this._source=function(V,ne,ce,_e){var Ae=new ae[ne.type](V,ne,ce,_e);if(Ae.id!==V)throw new Error("Expected Source id to be "+V+" instead of "+Ae.id);return u.bindAll(["load","abort","unload","serialize","prepare"],Ae),Ae}(G,ee,ye,this),this._tiles={},this._cache=new te(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new u.SourceFeatureState}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.onAdd=function(G){this.map=G,this._maxTileCacheSize=G?G._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(G)},q.prototype.onRemove=function(G){this._source&&this._source.onRemove&&this._source.onRemove(G)},q.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var G in this._tiles){var ee=this._tiles[G];if("loaded"!==ee.state&&"errored"!==ee.state)return!1}return!0},q.prototype.getSource=function(){return this._source},q.prototype.pause=function(){this._paused=!0},q.prototype.resume=function(){if(this._paused){var G=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,G&&this.reload(),this.transform&&this.update(this.transform)}},q.prototype._loadTile=function(G,ee){return this._source.loadTile(G,ee)},q.prototype._unloadTile=function(G){if(this._source.unloadTile)return this._source.unloadTile(G,function(){})},q.prototype._abortTile=function(G){if(this._source.abortTile)return this._source.abortTile(G,function(){})},q.prototype.serialize=function(){return this._source.serialize()},q.prototype.prepare=function(G){for(var ee in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var ye=this._tiles[ee];ye.upload(G),ye.prepare(this.map.style.imageManager)}},q.prototype.getIds=function(){return u.values(this._tiles).map(function(G){return G.tileID}).sort(vt).map(function(G){return G.key})},q.prototype.getRenderableIds=function(G){var ee=this,ye=[];for(var Le in this._tiles)this._isIdRenderable(Le,G)&&ye.push(this._tiles[Le]);return G?ye.sort(function(V,ne){var ce=V.tileID,_e=ne.tileID,Ae=new u.Point(ce.canonical.x,ce.canonical.y)._rotate(ee.transform.angle),Fe=new u.Point(_e.canonical.x,_e.canonical.y)._rotate(ee.transform.angle);return ce.overscaledZ-_e.overscaledZ||Fe.y-Ae.y||Fe.x-Ae.x}).map(function(V){return V.tileID.key}):ye.map(function(V){return V.tileID}).sort(vt).map(function(V){return V.key})},q.prototype.hasRenderableParent=function(G){var ee=this.findLoadedParent(G,0);return!!ee&&this._isIdRenderable(ee.tileID.key)},q.prototype._isIdRenderable=function(G,ee){return this._tiles[G]&&this._tiles[G].hasData()&&!this._coveredTiles[G]&&(ee||!this._tiles[G].holdingForFade())},q.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var G in this._cache.reset(),this._tiles)"errored"!==this._tiles[G].state&&this._reloadTile(G,"reloading")},q.prototype._reloadTile=function(G,ee){var ye=this._tiles[G];ye&&("loading"!==ye.state&&(ye.state=ee),this._loadTile(ye,this._tileLoaded.bind(this,ye,G,ee)))},q.prototype._tileLoaded=function(G,ee,ye,Le){if(Le)return G.state="errored",void(404!==Le.status?this._source.fire(new u.ErrorEvent(Le,{tile:G})):this.update(this.transform));G.timeAdded=u.browser.now(),"expired"===ye&&(G.refreshedUponExpiration=!0),this._setTileReloadTimer(ee,G),"raster-dem"===this.getSource().type&&G.dem&&this._backfillDEM(G),this._state.initializeTileState(G,this.map?this.map.painter:null),this._source.fire(new u.Event("data",{dataType:"source",tile:G,coord:G.tileID}))},q.prototype._backfillDEM=function(G){for(var ee=this.getRenderableIds(),ye=0;ye<ee.length;ye++){var Le=ee[ye];if(G.neighboringTiles&&G.neighboringTiles[Le]){var V=this.getTileByID(Le);ne(G,V),ne(V,G)}}function ne(ce,_e){ce.needsHillshadePrepare=!0;var Ae=_e.tileID.canonical.x-ce.tileID.canonical.x,Fe=_e.tileID.canonical.y-ce.tileID.canonical.y,We=Math.pow(2,ce.tileID.canonical.z),Ye=_e.tileID.key;0===Ae&&0===Fe||Math.abs(Fe)>1||(Math.abs(Ae)>1&&(1===Math.abs(Ae+We)?Ae+=We:1===Math.abs(Ae-We)&&(Ae-=We)),_e.dem&&ce.dem&&(ce.dem.backfillBorder(_e.dem,Ae,Fe),ce.neighboringTiles&&ce.neighboringTiles[Ye]&&(ce.neighboringTiles[Ye].backfilled=!0)))}},q.prototype.getTile=function(G){return this.getTileByID(G.key)},q.prototype.getTileByID=function(G){return this._tiles[G]},q.prototype._retainLoadedChildren=function(G,ee,ye,Le){for(var V in this._tiles){var ne=this._tiles[V];if(!(Le[V]||!ne.hasData()||ne.tileID.overscaledZ<=ee||ne.tileID.overscaledZ>ye)){for(var ce=ne.tileID;ne&&ne.tileID.overscaledZ>ee+1;){var _e=ne.tileID.scaledTo(ne.tileID.overscaledZ-1);(ne=this._tiles[_e.key])&&ne.hasData()&&(ce=_e)}for(var Ae=ce;Ae.overscaledZ>ee;)if(G[(Ae=Ae.scaledTo(Ae.overscaledZ-1)).key]){Le[ce.key]=ce;break}}}},q.prototype.findLoadedParent=function(G,ee){if(G.key in this._loadedParentTiles){var ye=this._loadedParentTiles[G.key];return ye&&ye.tileID.overscaledZ>=ee?ye:null}for(var Le=G.overscaledZ-1;Le>=ee;Le--){var V=G.scaledTo(Le),ne=this._getLoadedTile(V);if(ne)return ne}},q.prototype._getLoadedTile=function(G){var ee=this._tiles[G.key];return ee&&ee.hasData()?ee:this._cache.getByKey(G.wrapped().key)},q.prototype.updateCacheSize=function(G){var ee=(Math.ceil(G.width/this._source.tileSize)+1)*(Math.ceil(G.height/this._source.tileSize)+1),ye=Math.floor(5*ee),Le="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,ye):ye;this._cache.setMaxSize(Le)},q.prototype.handleWrapJump=function(G){var ye=Math.round((G-(void 0===this._prevLng?G:this._prevLng))/360);if(this._prevLng=G,ye){var Le={};for(var V in this._tiles){var ne=this._tiles[V];ne.tileID=ne.tileID.unwrapTo(ne.tileID.wrap+ye),Le[ne.tileID.key]=ne}for(var ce in this._tiles=Le,this._timers)clearTimeout(this._timers[ce]),delete this._timers[ce];for(var _e in this._tiles)this._setTileReloadTimer(_e,this._tiles[_e])}},q.prototype.update=function(G){var ee=this;if(this.transform=G,this._sourceLoaded&&!this._paused){var ye;this.updateCacheSize(G),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?ye=G.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Bt){return new u.OverscaledTileID(Bt.canonical.z,Bt.wrap,Bt.canonical.z,Bt.canonical.x,Bt.canonical.y)}):(ye=G.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(ye=ye.filter(function(Bt){return ee._source.hasTile(Bt)}))):ye=[];var Le=G.coveringZoomLevel(this._source),V=Math.max(Le-q.maxOverzooming,this._source.minzoom),ne=Math.max(Le+q.maxUnderzooming,this._source.minzoom),ce=this._updateRetainedTiles(ye,Le);if(je(this._source.type)){for(var _e={},Ae={},Fe=0,We=Object.keys(ce);Fe<We.length;Fe+=1){var Ye=We[Fe],Je=ce[Ye],tt=this._tiles[Ye];if(tt&&!(tt.fadeEndTime&&tt.fadeEndTime<=u.browser.now())){var lt=this.findLoadedParent(Je,V);lt&&(this._addTile(lt.tileID),_e[lt.tileID.key]=lt.tileID),Ae[Ye]=Je}}for(var yt in this._retainLoadedChildren(Ae,Le,ne,ce),_e)ce[yt]||(this._coveredTiles[yt]=!0,ce[yt]=_e[yt])}for(var wt in ce)this._tiles[wt].clearFadeHold();for(var zt=0,Ut=u.keysDifference(this._tiles,ce);zt<Ut.length;zt+=1){var Nt=Ut[zt],$t=this._tiles[Nt];$t.hasSymbolBuckets&&!$t.holdingForFade()?$t.setHoldDuration(this.map._fadeDuration):$t.hasSymbolBuckets&&!$t.symbolFadeFinished()||this._removeTile(Nt)}this._updateLoadedParentTileCache()}},q.prototype.releaseSymbolFadeTiles=function(){for(var G in this._tiles)this._tiles[G].holdingForFade()&&this._removeTile(G)},q.prototype._updateRetainedTiles=function(G,ee){for(var ye={},Le={},V=Math.max(ee-q.maxOverzooming,this._source.minzoom),ne=Math.max(ee+q.maxUnderzooming,this._source.minzoom),ce={},_e=0,Ae=G;_e<Ae.length;_e+=1){var Fe=Ae[_e],We=this._addTile(Fe);ye[Fe.key]=Fe,We.hasData()||ee<this._source.maxzoom&&(ce[Fe.key]=Fe)}this._retainLoadedChildren(ce,ee,ne,ye);for(var Ye=0,Je=G;Ye<Je.length;Ye+=1){var tt=Je[Ye],lt=this._tiles[tt.key];if(!lt.hasData()){if(ee+1>this._source.maxzoom){var yt=tt.children(this._source.maxzoom)[0],wt=this.getTile(yt);if(wt&&wt.hasData()){ye[yt.key]=yt;continue}}else{var zt=tt.children(this._source.maxzoom);if(ye[zt[0].key]&&ye[zt[1].key]&&ye[zt[2].key]&&ye[zt[3].key])continue}for(var Ut=lt.wasRequested(),Nt=tt.overscaledZ-1;Nt>=V;--Nt){var $t=tt.scaledTo(Nt);if(Le[$t.key]||(Le[$t.key]=!0,!(lt=this.getTile($t))&&Ut&&(lt=this._addTile($t)),lt&&(ye[$t.key]=$t,Ut=lt.wasRequested(),lt.hasData())))break}}}return ye},q.prototype._updateLoadedParentTileCache=function(){for(var G in this._loadedParentTiles={},this._tiles){for(var ee=[],ye=void 0,Le=this._tiles[G].tileID;Le.overscaledZ>0;){if(Le.key in this._loadedParentTiles){ye=this._loadedParentTiles[Le.key];break}ee.push(Le.key);var V=Le.scaledTo(Le.overscaledZ-1);if(ye=this._getLoadedTile(V))break;Le=V}for(var ne=0,ce=ee;ne<ce.length;ne+=1)this._loadedParentTiles[ce[ne]]=ye}},q.prototype._addTile=function(G){var ee=this._tiles[G.key];if(ee)return ee;(ee=this._cache.getAndRemove(G))&&(this._setTileReloadTimer(G.key,ee),ee.tileID=G,this._state.initializeTileState(ee,this.map?this.map.painter:null),this._cacheTimers[G.key]&&(clearTimeout(this._cacheTimers[G.key]),delete this._cacheTimers[G.key],this._setTileReloadTimer(G.key,ee)));var ye=!!ee;return ye||(ee=new u.Tile(G,this._source.tileSize*G.overscaleFactor()),this._loadTile(ee,this._tileLoaded.bind(this,ee,G.key,ee.state))),ee?(ee.uses++,this._tiles[G.key]=ee,ye||this._source.fire(new u.Event("dataloading",{tile:ee,coord:ee.tileID,dataType:"source"})),ee):null},q.prototype._setTileReloadTimer=function(G,ee){var ye=this;G in this._timers&&(clearTimeout(this._timers[G]),delete this._timers[G]);var Le=ee.getExpiryTimeout();Le&&(this._timers[G]=setTimeout(function(){ye._reloadTile(G,"expired"),delete ye._timers[G]},Le))},q.prototype._removeTile=function(G){var ee=this._tiles[G];ee&&(ee.uses--,delete this._tiles[G],this._timers[G]&&(clearTimeout(this._timers[G]),delete this._timers[G]),ee.uses>0||(ee.hasData()&&"reloading"!==ee.state?this._cache.add(ee.tileID,ee,ee.getExpiryTimeout()):(ee.aborted=!0,this._abortTile(ee),this._unloadTile(ee))))},q.prototype.clearTiles=function(){for(var G in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(G);this._cache.reset()},q.prototype.tilesIn=function(G,ee,ye){var Le=this,V=[],ne=this.transform;if(!ne)return V;for(var ce=ye?ne.getCameraQueryGeometry(G):G,_e=G.map(function(Nt){return ne.pointCoordinate(Nt)}),Ae=ce.map(function(Nt){return ne.pointCoordinate(Nt)}),Fe=this.getIds(),We=1/0,Ye=1/0,Je=-1/0,tt=-1/0,lt=0,yt=Ae;lt<yt.length;lt+=1){var wt=yt[lt];We=Math.min(We,wt.x),Ye=Math.min(Ye,wt.y),Je=Math.max(Je,wt.x),tt=Math.max(tt,wt.y)}for(var zt=function(Nt){var $t=Le._tiles[Fe[Nt]];if(!$t.holdingForFade()){var Bt=$t.tileID,pn=Math.pow(2,ne.zoom-$t.tileID.overscaledZ),an=ee*$t.queryPadding*u.EXTENT/$t.tileSize/pn,en=[Bt.getTilePoint(new u.MercatorCoordinate(We,Ye)),Bt.getTilePoint(new u.MercatorCoordinate(Je,tt))];if(en[0].x-an<u.EXTENT&&en[0].y-an<u.EXTENT&&en[1].x+an>=0&&en[1].y+an>=0){var Dn=_e.map(function(Kn){return Bt.getTilePoint(Kn)}),In=Ae.map(function(Kn){return Bt.getTilePoint(Kn)});V.push({tile:$t,tileID:Bt,queryGeometry:Dn,cameraQueryGeometry:In,scale:pn})}}},Ut=0;Ut<Fe.length;Ut++)zt(Ut);return V},q.prototype.getVisibleCoordinates=function(G){for(var ee=this,ye=this.getRenderableIds(G).map(function(ce){return ee._tiles[ce].tileID}),Le=0,V=ye;Le<V.length;Le+=1){var ne=V[Le];ne.posMatrix=this.transform.calculatePosMatrix(ne.toUnwrapped())}return ye},q.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(je(this._source.type))for(var G in this._tiles){var ee=this._tiles[G];if(void 0!==ee.fadeEndTime&&ee.fadeEndTime>=u.browser.now())return!0}return!1},q.prototype.setFeatureState=function(G,ee,ye){this._state.updateState(G=G||"_geojsonTileLayer",ee,ye)},q.prototype.removeFeatureState=function(G,ee,ye){this._state.removeFeatureState(G=G||"_geojsonTileLayer",ee,ye)},q.prototype.getFeatureState=function(G,ee){return this._state.getState(G=G||"_geojsonTileLayer",ee)},q.prototype.setDependencies=function(G,ee,ye){var Le=this._tiles[G];Le&&Le.setDependencies(ee,ye)},q.prototype.reloadTilesForDependencies=function(G,ee){for(var ye in this._tiles)this._tiles[ye].hasDependency(G,ee)&&this._reloadTile(ye,"reloading");this._cache.filter(function(Le){return!Le.hasDependency(G,ee)})},q}(u.Evented);function vt(j,q){var G=Math.abs(2*j.wrap)-+(j.wrap<0),ee=Math.abs(2*q.wrap)-+(q.wrap<0);return j.overscaledZ-q.overscaledZ||ee-G||q.canonical.y-j.canonical.y||q.canonical.x-j.canonical.x}function je(j){return"raster"===j||"image"===j||"video"===j}function Ve(){return new u.window.Worker($s.workerUrl)}ft.maxOverzooming=10,ft.maxUnderzooming=3;var ut="mapboxgl_preloaded_worker_pool",ct=function(){this.active={}};ct.prototype.acquire=function(j){if(!this.workers)for(this.workers=[];this.workers.length<ct.workerCount;)this.workers.push(new Ve);return this.active[j]=!0,this.workers.slice()},ct.prototype.release=function(j){delete this.active[j],0===this.numActive()&&(this.workers.forEach(function(q){q.terminate()}),this.workers=null)},ct.prototype.isPreloaded=function(){return!!this.active[ut]},ct.prototype.numActive=function(){return Object.keys(this.active).length};var Tt,Mt=Math.floor(u.browser.hardwareConcurrency/2);function At(){return Tt||(Tt=new ct),Tt}function bt(j,q){var G={};for(var ee in j)"ref"!==ee&&(G[ee]=j[ee]);return u.refProperties.forEach(function(ye){ye in q&&(G[ye]=q[ye])}),G}function Rt(j){j=j.slice();for(var q=Object.create(null),G=0;G<j.length;G++)q[j[G].id]=j[G];for(var ee=0;ee<j.length;ee++)"ref"in j[ee]&&(j[ee]=bt(j[ee],q[j[ee].ref]));return j}ct.workerCount=Math.max(Math.min(Mt,6),1);var xt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function _t(j,q,G){G.push({command:xt.addSource,args:[j,q[j]]})}function It(j,q,G){q.push({command:xt.removeSource,args:[j]}),G[j]=!0}function Gt(j,q,G,ee){It(j,G,ee),_t(j,q,G)}function Wt(j,q,G){var ee;for(ee in j[G])if(j[G].hasOwnProperty(ee)&&"data"!==ee&&!u.deepEqual(j[G][ee],q[G][ee]))return!1;for(ee in q[G])if(q[G].hasOwnProperty(ee)&&"data"!==ee&&!u.deepEqual(j[G][ee],q[G][ee]))return!1;return!0}function Zt(j,q,G,ee,ye,Le){var V;for(V in q=q||{},j=j||{})j.hasOwnProperty(V)&&(u.deepEqual(j[V],q[V])||G.push({command:Le,args:[ee,V,q[V],ye]}));for(V in q)q.hasOwnProperty(V)&&!j.hasOwnProperty(V)&&(u.deepEqual(j[V],q[V])||G.push({command:Le,args:[ee,V,q[V],ye]}))}function cn(j){return j.id}function nn(j,q){return j[q.id]=q,j}var Qt=function(j,q){this.reset(j,q)};Qt.prototype.reset=function(j,q){this.points=j||[],this._distances=[0];for(var G=1;G<this.points.length;G++)this._distances[G]=this._distances[G-1]+this.points[G].dist(this.points[G-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(q||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Qt.prototype.lerp=function(j){if(1===this.points.length)return this.points[0];j=u.clamp(j,0,1);for(var q=1,G=this._distances[q],ee=j*this.paddedLength+this.padding;G<ee&&q<this._distances.length;)G=this._distances[++q];var ye=q-1,Le=this._distances[ye],V=G-Le,ne=V>0?(ee-Le)/V:0;return this.points[ye].mult(1-ne).add(this.points[q].mult(ne))};var kn=function(j,q,G){var ee=this.boxCells=[],ye=this.circleCells=[];this.xCellCount=Math.ceil(j/G),this.yCellCount=Math.ceil(q/G);for(var Le=0;Le<this.xCellCount*this.yCellCount;Le++)ee.push([]),ye.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=j,this.height=q,this.xScale=this.xCellCount/j,this.yScale=this.yCellCount/q,this.boxUid=0,this.circleUid=0};function Pn(j,q,G,ee,ye){var Le=u.create();return q?(u.scale(Le,Le,[1/ye,1/ye,1]),G||u.rotateZ(Le,Le,ee.angle)):u.multiply(Le,ee.labelPlaneMatrix,j),Le}function Tn(j,q,G,ee,ye){if(q){var Le=u.clone(j);return u.scale(Le,Le,[ye,ye,1]),G||u.rotateZ(Le,Le,-ee.angle),Le}return ee.glCoordMatrix}function tn(j,q){var G=[j.x,j.y,0,1];ar(G,G,q);var ee=G[3];return{point:new u.Point(G[0]/ee,G[1]/ee),signedDistanceFromCamera:ee}}function gn(j,q){return.5+j/q*.5}function hn(j,q){var G=j[0]/j[3],ee=j[1]/j[3];return G>=-q[0]&&G<=q[0]&&ee>=-q[1]&&ee<=q[1]}function mn(j,q,G,ee,ye,Le,V,ne){var ce=ee?j.textSizeData:j.iconSizeData,_e=u.evaluateSizeForZoom(ce,G.transform.zoom),Ae=[256/G.width*2+1,256/G.height*2+1],Fe=ee?j.text.dynamicLayoutVertexArray:j.icon.dynamicLayoutVertexArray;Fe.clear();for(var We=j.lineVertexArray,Ye=ee?j.text.placedSymbolArray:j.icon.placedSymbolArray,Je=G.transform.width/G.transform.height,tt=!1,lt=0;lt<Ye.length;lt++){var yt=Ye.get(lt);if(yt.hidden||yt.writingMode===u.WritingMode.vertical&&!tt)pr(yt.numGlyphs,Fe);else{tt=!1;var wt=[yt.anchorX,yt.anchorY,0,1];if(u.transformMat4(wt,wt,q),hn(wt,Ae)){var Ut=gn(G.transform.cameraToCenterDistance,wt[3]),Nt=u.evaluateSizeForFeature(ce,_e,yt),$t=V?Nt/Ut:Nt*Ut,Bt=new u.Point(yt.anchorX,yt.anchorY),pn=tn(Bt,ye).point,an={},en=Un(yt,$t,!1,ne,q,ye,Le,j.glyphOffsetArray,We,Fe,pn,Bt,an,Je);tt=en.useVertical,(en.notEnoughRoom||tt||en.needsFlipping&&Un(yt,$t,!0,ne,q,ye,Le,j.glyphOffsetArray,We,Fe,pn,Bt,an,Je).notEnoughRoom)&&pr(yt.numGlyphs,Fe)}else pr(yt.numGlyphs,Fe)}}ee?j.text.dynamicLayoutVertexBuffer.updateData(Fe):j.icon.dynamicLayoutVertexBuffer.updateData(Fe)}function En(j,q,G,ee,ye,Le,V,ne,ce,_e,Ae){var Fe=ne.glyphStartIndex+ne.numGlyphs,We=ne.lineStartIndex,Ye=ne.lineStartIndex+ne.lineLength,Je=q.getoffsetX(ne.glyphStartIndex),tt=q.getoffsetX(Fe-1),lt=On(j*Je,G,ee,ye,Le,V,ne.segment,We,Ye,ce,_e,Ae);if(!lt)return null;var yt=On(j*tt,G,ee,ye,Le,V,ne.segment,We,Ye,ce,_e,Ae);return yt?{first:lt,last:yt}:null}function vn(j,q,G,ee){return j===u.WritingMode.horizontal&&Math.abs(G.y-q.y)>Math.abs(G.x-q.x)*ee?{useVertical:!0}:(j===u.WritingMode.vertical?q.y<G.y:q.x>G.x)?{needsFlipping:!0}:null}function Un(j,q,G,ee,ye,Le,V,ne,ce,_e,Ae,Fe,We,Ye){var Je,tt=q/24,lt=j.lineOffsetX*tt,yt=j.lineOffsetY*tt;if(j.numGlyphs>1){var wt=j.glyphStartIndex+j.numGlyphs,zt=j.lineStartIndex,Ut=j.lineStartIndex+j.lineLength,Nt=En(tt,ne,lt,yt,G,Ae,Fe,j,ce,Le,We);if(!Nt)return{notEnoughRoom:!0};var $t=tn(Nt.first.point,V).point,Bt=tn(Nt.last.point,V).point;if(ee&&!G){var pn=vn(j.writingMode,$t,Bt,Ye);if(pn)return pn}Je=[Nt.first];for(var an=j.glyphStartIndex+1;an<wt-1;an++)Je.push(On(tt*ne.getoffsetX(an),lt,yt,G,Ae,Fe,j.segment,zt,Ut,ce,Le,We));Je.push(Nt.last)}else{if(ee&&!G){var en=tn(Fe,ye).point,Dn=j.lineStartIndex+j.segment+1,In=new u.Point(ce.getx(Dn),ce.gety(Dn)),Kn=tn(In,ye),Yn=Kn.signedDistanceFromCamera>0?Kn.point:Hn(Fe,In,en,1,ye),ir=vn(j.writingMode,en,Yn,Ye);if(ir)return ir}var dr=On(tt*ne.getoffsetX(j.glyphStartIndex),lt,yt,G,Ae,Fe,j.segment,j.lineStartIndex,j.lineStartIndex+j.lineLength,ce,Le,We);if(!dr)return{notEnoughRoom:!0};Je=[dr]}for(var yr=0,kr=Je;yr<kr.length;yr+=1){var Cr=kr[yr];u.addDynamicAttributes(_e,Cr.point,Cr.angle)}return{}}function Hn(j,q,G,ee,ye){var Le=tn(j.add(j.sub(q)._unit()),ye).point,V=G.sub(Le);return G.add(V._mult(ee/V.mag()))}function On(j,q,G,ee,ye,Le,V,ne,ce,_e,Ae,Fe){var We=ee?j-q:j+q,Ye=We>0?1:-1,Je=0;ee&&(Ye*=-1,Je=Math.PI),Ye<0&&(Je+=Math.PI);for(var tt=Ye>0?ne+V:ne+V+1,lt=ye,yt=ye,wt=0,zt=0,Ut=Math.abs(We),Nt=[];wt+zt<=Ut;){if((tt+=Ye)<ne||tt>=ce)return null;if(yt=lt,Nt.push(lt),void 0===(lt=Fe[tt])){var $t=new u.Point(_e.getx(tt),_e.gety(tt)),Bt=tn($t,Ae);if(Bt.signedDistanceFromCamera>0)lt=Fe[tt]=Bt.point;else{var pn=tt-Ye;lt=Hn(0===wt?Le:new u.Point(_e.getx(pn),_e.gety(pn)),$t,yt,Ut-wt+1,Ae)}}wt+=zt,zt=yt.dist(lt)}var an=(Ut-wt)/zt,en=lt.sub(yt),Dn=en.mult(an)._add(yt);Dn._add(en._unit()._perp()._mult(G*Ye));var In=Je+Math.atan2(lt.y-yt.y,lt.x-yt.x);return Nt.push(Dn),{point:Dn,angle:In,path:Nt}}kn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},kn.prototype.insert=function(j,q,G,ee,ye){this._forEachCell(q,G,ee,ye,this._insertBoxCell,this.boxUid++),this.boxKeys.push(j),this.bboxes.push(q),this.bboxes.push(G),this.bboxes.push(ee),this.bboxes.push(ye)},kn.prototype.insertCircle=function(j,q,G,ee){this._forEachCell(q-ee,G-ee,q+ee,G+ee,this._insertCircleCell,this.circleUid++),this.circleKeys.push(j),this.circles.push(q),this.circles.push(G),this.circles.push(ee)},kn.prototype._insertBoxCell=function(j,q,G,ee,ye,Le){this.boxCells[ye].push(Le)},kn.prototype._insertCircleCell=function(j,q,G,ee,ye,Le){this.circleCells[ye].push(Le)},kn.prototype._query=function(j,q,G,ee,ye,Le){if(G<0||j>this.width||ee<0||q>this.height)return!ye&&[];var V=[];if(j<=0&&q<=0&&this.width<=G&&this.height<=ee){if(ye)return!0;for(var ne=0;ne<this.boxKeys.length;ne++)V.push({key:this.boxKeys[ne],x1:this.bboxes[4*ne],y1:this.bboxes[4*ne+1],x2:this.bboxes[4*ne+2],y2:this.bboxes[4*ne+3]});for(var ce=0;ce<this.circleKeys.length;ce++){var _e=this.circles[3*ce],Ae=this.circles[3*ce+1],Fe=this.circles[3*ce+2];V.push({key:this.circleKeys[ce],x1:_e-Fe,y1:Ae-Fe,x2:_e+Fe,y2:Ae+Fe})}return Le?V.filter(Le):V}return this._forEachCell(j,q,G,ee,this._queryCell,V,{hitTest:ye,seenUids:{box:{},circle:{}}},Le),ye?V.length>0:V},kn.prototype._queryCircle=function(j,q,G,ee,ye){var Le=j-G,V=j+G,ne=q-G,ce=q+G;if(V<0||Le>this.width||ce<0||ne>this.height)return!ee&&[];var _e=[];return this._forEachCell(Le,ne,V,ce,this._queryCellCircle,_e,{hitTest:ee,circle:{x:j,y:q,radius:G},seenUids:{box:{},circle:{}}},ye),ee?_e.length>0:_e},kn.prototype.query=function(j,q,G,ee,ye){return this._query(j,q,G,ee,!1,ye)},kn.prototype.hitTest=function(j,q,G,ee,ye){return this._query(j,q,G,ee,!0,ye)},kn.prototype.hitTestCircle=function(j,q,G,ee){return this._queryCircle(j,q,G,!0,ee)},kn.prototype._queryCell=function(j,q,G,ee,ye,Le,V,ne){var ce=V.seenUids,_e=this.boxCells[ye];if(null!==_e)for(var Ae=this.bboxes,Fe=0,We=_e;Fe<We.length;Fe+=1){var Ye=We[Fe];if(!ce.box[Ye]){ce.box[Ye]=!0;var Je=4*Ye;if(j<=Ae[Je+2]&&q<=Ae[Je+3]&&G>=Ae[Je+0]&&ee>=Ae[Je+1]&&(!ne||ne(this.boxKeys[Ye]))){if(V.hitTest)return Le.push(!0),!0;Le.push({key:this.boxKeys[Ye],x1:Ae[Je],y1:Ae[Je+1],x2:Ae[Je+2],y2:Ae[Je+3]})}}}var tt=this.circleCells[ye];if(null!==tt)for(var lt=this.circles,yt=0,wt=tt;yt<wt.length;yt+=1){var zt=wt[yt];if(!ce.circle[zt]){ce.circle[zt]=!0;var Ut=3*zt;if(this._circleAndRectCollide(lt[Ut],lt[Ut+1],lt[Ut+2],j,q,G,ee)&&(!ne||ne(this.circleKeys[zt]))){if(V.hitTest)return Le.push(!0),!0;var Nt=lt[Ut],$t=lt[Ut+1],Bt=lt[Ut+2];Le.push({key:this.circleKeys[zt],x1:Nt-Bt,y1:$t-Bt,x2:Nt+Bt,y2:$t+Bt})}}}},kn.prototype._queryCellCircle=function(j,q,G,ee,ye,Le,V,ne){var ce=V.circle,_e=V.seenUids,Ae=this.boxCells[ye];if(null!==Ae)for(var Fe=this.bboxes,We=0,Ye=Ae;We<Ye.length;We+=1){var Je=Ye[We];if(!_e.box[Je]){_e.box[Je]=!0;var tt=4*Je;if(this._circleAndRectCollide(ce.x,ce.y,ce.radius,Fe[tt+0],Fe[tt+1],Fe[tt+2],Fe[tt+3])&&(!ne||ne(this.boxKeys[Je])))return Le.push(!0),!0}}var lt=this.circleCells[ye];if(null!==lt)for(var yt=this.circles,wt=0,zt=lt;wt<zt.length;wt+=1){var Ut=zt[wt];if(!_e.circle[Ut]){_e.circle[Ut]=!0;var Nt=3*Ut;if(this._circlesCollide(yt[Nt],yt[Nt+1],yt[Nt+2],ce.x,ce.y,ce.radius)&&(!ne||ne(this.circleKeys[Ut])))return Le.push(!0),!0}}},kn.prototype._forEachCell=function(j,q,G,ee,ye,Le,V,ne){for(var ce=this._convertToXCellCoord(j),_e=this._convertToYCellCoord(q),Ae=this._convertToXCellCoord(G),Fe=this._convertToYCellCoord(ee),We=ce;We<=Ae;We++)for(var Ye=_e;Ye<=Fe;Ye++)if(ye.call(this,j,q,G,ee,this.xCellCount*Ye+We,Le,V,ne))return},kn.prototype._convertToXCellCoord=function(j){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(j*this.xScale)))},kn.prototype._convertToYCellCoord=function(j){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(j*this.yScale)))},kn.prototype._circlesCollide=function(j,q,G,ee,ye,Le){var V=ee-j,ne=ye-q,ce=G+Le;return ce*ce>V*V+ne*ne},kn.prototype._circleAndRectCollide=function(j,q,G,ee,ye,Le,V){var ne=(Le-ee)/2,ce=Math.abs(j-(ee+ne));if(ce>ne+G)return!1;var _e=(V-ye)/2,Ae=Math.abs(q-(ye+_e));if(Ae>_e+G)return!1;if(ce<=ne||Ae<=_e)return!0;var Fe=ce-ne,We=Ae-_e;return Fe*Fe+We*We<=G*G};var Wn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function pr(j,q){for(var G=0;G<j;G++){var ee=q.length;q.resize(ee+4),q.float32.set(Wn,3*ee)}}function ar(j,q,G){var ee=q[0],ye=q[1];return j[0]=G[0]*ee+G[4]*ye+G[12],j[1]=G[1]*ee+G[5]*ye+G[13],j[3]=G[3]*ee+G[7]*ye+G[15],j}var Ar=100,hr=function(j,q,G){void 0===q&&(q=new kn(j.width+200,j.height+200,25)),void 0===G&&(G=new kn(j.width+200,j.height+200,25)),this.transform=j,this.grid=q,this.ignoredGrid=G,this.pitchfactor=Math.cos(j._pitch)*j.cameraToCenterDistance,this.screenRightBoundary=j.width+Ar,this.screenBottomBoundary=j.height+Ar,this.gridRightBoundary=j.width+200,this.gridBottomBoundary=j.height+200};function fr(j,q,G){return q*(u.EXTENT/(j.tileSize*Math.pow(2,G-j.tileID.overscaledZ)))}hr.prototype.placeCollisionBox=function(j,q,G,ee,ye){var Le=this.projectAndGetPerspectiveRatio(ee,j.anchorPointX,j.anchorPointY),V=G*Le.perspectiveRatio,ne=j.x1*V+Le.point.x,ce=j.y1*V+Le.point.y,_e=j.x2*V+Le.point.x,Ae=j.y2*V+Le.point.y;return!this.isInsideGrid(ne,ce,_e,Ae)||!q&&this.grid.hitTest(ne,ce,_e,Ae,ye)?{box:[],offscreen:!1}:{box:[ne,ce,_e,Ae],offscreen:this.isOffscreen(ne,ce,_e,Ae)}},hr.prototype.placeCollisionCircles=function(j,q,G,ee,ye,Le,V,ne,ce,_e,Ae,Fe,We){var Ye=[],Je=new u.Point(q.anchorX,q.anchorY),tt=tn(Je,Le),lt=gn(this.transform.cameraToCenterDistance,tt.signedDistanceFromCamera),yt=(_e?ye/lt:ye*lt)/u.ONE_EM,wt=tn(Je,V).point,zt=En(yt,ee,q.lineOffsetX*yt,q.lineOffsetY*yt,!1,wt,Je,q,G,V,{}),Ut=!1,Nt=!1,$t=!0;if(zt){for(var Bt=.5*Fe*lt+We,pn=new u.Point(-100,-100),an=new u.Point(this.screenRightBoundary,this.screenBottomBoundary),en=new Qt,Dn=zt.first,In=zt.last,Kn=[],Yn=Dn.path.length-1;Yn>=1;Yn--)Kn.push(Dn.path[Yn]);for(var ir=1;ir<In.path.length;ir++)Kn.push(In.path[ir]);var dr=2.5*Bt;if(ne){var yr=Kn.map(function(Wr){return tn(Wr,ne)});Kn=yr.some(function(Wr){return Wr.signedDistanceFromCamera<=0})?[]:yr.map(function(Wr){return Wr.point})}var kr=[];if(Kn.length>0){for(var Cr=Kn[0].clone(),Lr=Kn[0].clone(),ni=1;ni<Kn.length;ni++)Cr.x=Math.min(Cr.x,Kn[ni].x),Cr.y=Math.min(Cr.y,Kn[ni].y),Lr.x=Math.max(Lr.x,Kn[ni].x),Lr.y=Math.max(Lr.y,Kn[ni].y);kr=Cr.x>=pn.x&&Lr.x<=an.x&&Cr.y>=pn.y&&Lr.y<=an.y?[Kn]:Lr.x<pn.x||Cr.x>an.x||Lr.y<pn.y||Cr.y>an.y?[]:u.clipLine([Kn],pn.x,pn.y,an.x,an.y)}for(var Qn=0,wr=kr;Qn<wr.length;Qn+=1){var jr;en.reset(wr[Qn],.25*Bt),jr=en.length<=.5*Bt?1:Math.ceil(en.paddedLength/dr)+1;for(var Jr=0;Jr<jr;Jr++){var ci=Jr/Math.max(jr-1,1),bi=en.lerp(ci),Hi=bi.x+Ar,po=bi.y+Ar;Ye.push(Hi,po,Bt,0);var uo=Hi-Bt,Gi=po-Bt,Mo=Hi+Bt,Ko=po+Bt;if($t=$t&&this.isOffscreen(uo,Gi,Mo,Ko),Nt=Nt||this.isInsideGrid(uo,Gi,Mo,Ko),!j&&this.grid.hitTestCircle(Hi,po,Bt,Ae)&&(Ut=!0,!ce))return{circles:[],offscreen:!1,collisionDetected:Ut}}}}return{circles:!ce&&Ut||!Nt?[]:Ye,offscreen:$t,collisionDetected:Ut}},hr.prototype.queryRenderedSymbols=function(j){if(0===j.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var q=[],G=1/0,ee=1/0,ye=-1/0,Le=-1/0,V=0,ne=j;V<ne.length;V+=1){var ce=ne[V],_e=new u.Point(ce.x+Ar,ce.y+Ar);G=Math.min(G,_e.x),ee=Math.min(ee,_e.y),ye=Math.max(ye,_e.x),Le=Math.max(Le,_e.y),q.push(_e)}for(var Ae={},Fe={},We=0,Ye=this.grid.query(G,ee,ye,Le).concat(this.ignoredGrid.query(G,ee,ye,Le));We<Ye.length;We+=1){var Je=Ye[We],tt=Je.key;if(void 0===Ae[tt.bucketInstanceId]&&(Ae[tt.bucketInstanceId]={}),!Ae[tt.bucketInstanceId][tt.featureIndex]){var lt=[new u.Point(Je.x1,Je.y1),new u.Point(Je.x2,Je.y1),new u.Point(Je.x2,Je.y2),new u.Point(Je.x1,Je.y2)];u.polygonIntersectsPolygon(q,lt)&&(Ae[tt.bucketInstanceId][tt.featureIndex]=!0,void 0===Fe[tt.bucketInstanceId]&&(Fe[tt.bucketInstanceId]=[]),Fe[tt.bucketInstanceId].push(tt.featureIndex))}}return Fe},hr.prototype.insertCollisionBox=function(j,q,G,ee,ye){(q?this.ignoredGrid:this.grid).insert({bucketInstanceId:G,featureIndex:ee,collisionGroupID:ye},j[0],j[1],j[2],j[3])},hr.prototype.insertCollisionCircles=function(j,q,G,ee,ye){for(var Le=q?this.ignoredGrid:this.grid,V={bucketInstanceId:G,featureIndex:ee,collisionGroupID:ye},ne=0;ne<j.length;ne+=4)Le.insertCircle(V,j[ne],j[ne+1],j[ne+2])},hr.prototype.projectAndGetPerspectiveRatio=function(j,q,G){var ee=[q,G,0,1];return ar(ee,ee,j),{point:new u.Point((ee[0]/ee[3]+1)/2*this.transform.width+Ar,(-ee[1]/ee[3]+1)/2*this.transform.height+Ar),perspectiveRatio:.5+this.transform.cameraToCenterDistance/ee[3]*.5}},hr.prototype.isOffscreen=function(j,q,G,ee){return G<Ar||j>=this.screenRightBoundary||ee<Ar||q>this.screenBottomBoundary},hr.prototype.isInsideGrid=function(j,q,G,ee){return G>=0&&j<this.gridRightBoundary&&ee>=0&&q<this.gridBottomBoundary},hr.prototype.getViewportMatrix=function(){var j=u.identity([]);return u.translate(j,j,[-100,-100,0]),j};var Rr=function(j,q,G,ee){this.opacity=j?Math.max(0,Math.min(1,j.opacity+(j.placed?q:-q))):ee&&G?1:0,this.placed=G};Rr.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Xt=function(j,q,G,ee,ye){this.text=new Rr(j?j.text:null,q,G,ye),this.icon=new Rr(j?j.icon:null,q,ee,ye)};Xt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var rn=function(j,q,G){this.text=j,this.icon=q,this.skipFade=G},wn=function(){this.invProjMatrix=u.create(),this.viewportMatrix=u.create(),this.circles=[]},Cn=function(j,q,G,ee,ye){this.bucketInstanceId=j,this.featureIndex=q,this.sourceLayerIndex=G,this.bucketIndex=ee,this.tileID=ye},Bn=function(j){this.crossSourceCollisions=j,this.maxGroupID=0,this.collisionGroups={}};function or(j,q,G,ee,ye){var Le=u.getAnchorAlignment(j),V=-(Le.horizontalAlign-.5)*q,ne=-(Le.verticalAlign-.5)*G,ce=u.evaluateVariableOffset(j,ee);return new u.Point(V+ce[0]*ye,ne+ce[1]*ye)}function An(j,q,G,ee,ye,Le){var V=j.x1,ne=j.x2,ce=j.y1,_e=j.y2,Ae=j.anchorPointX,Fe=j.anchorPointY,We=new u.Point(q,G);return ee&&We._rotate(ye?Le:-Le),{x1:V+We.x,y1:ce+We.y,x2:ne+We.x,y2:_e+We.y,anchorPointX:Ae,anchorPointY:Fe}}Bn.prototype.get=function(j){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[j]){var q=++this.maxGroupID;this.collisionGroups[j]={ID:q,predicate:function(G){return G.collisionGroupID===q}}}return this.collisionGroups[j]};var $n=function(j,q,G,ee){this.transform=j.clone(),this.collisionIndex=new hr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=q,this.retainedQueryData={},this.collisionGroups=new Bn(G),this.collisionCircleArrays={},this.prevPlacement=ee,ee&&(ee.prevPlacement=void 0),this.placedOrientations={}};function Xn(j,q,G,ee,ye){j.emplaceBack(q?1:0,G?1:0,ee||0,ye||0),j.emplaceBack(q?1:0,G?1:0,ee||0,ye||0),j.emplaceBack(q?1:0,G?1:0,ee||0,ye||0),j.emplaceBack(q?1:0,G?1:0,ee||0,ye||0)}$n.prototype.getBucketParts=function(j,q,G,ee){var ye=G.getBucket(q),Le=G.latestFeatureIndex;if(ye&&Le&&q.id===ye.layerIds[0]){var V=G.collisionBoxArray,ne=ye.layers[0].layout,ce=Math.pow(2,this.transform.zoom-G.tileID.overscaledZ),_e=G.tileSize/u.EXTENT,Ae=this.transform.calculatePosMatrix(G.tileID.toUnwrapped()),Fe="map"===ne.get("text-pitch-alignment"),We="map"===ne.get("text-rotation-alignment"),Ye=fr(G,1,this.transform.zoom),Je=Pn(Ae,Fe,We,this.transform,Ye),tt=null;if(Fe){var lt=Tn(Ae,Fe,We,this.transform,Ye);tt=u.multiply([],this.transform.labelPlaneMatrix,lt)}this.retainedQueryData[ye.bucketInstanceId]=new Cn(ye.bucketInstanceId,Le,ye.sourceLayerIndex,ye.index,G.tileID);var yt={bucket:ye,layout:ne,posMatrix:Ae,textLabelPlaneMatrix:Je,labelToScreenMatrix:tt,scale:ce,textPixelRatio:_e,holdingForFade:G.holdingForFade(),collisionBoxArray:V,partiallyEvaluatedTextSize:u.evaluateSizeForZoom(ye.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ye.sourceID)};if(ee)for(var wt=0,zt=ye.sortKeyRanges;wt<zt.length;wt+=1){var Ut=zt[wt];j.push({sortKey:Ut.sortKey,symbolInstanceStart:Ut.symbolInstanceStart,symbolInstanceEnd:Ut.symbolInstanceEnd,parameters:yt})}else j.push({symbolInstanceStart:0,symbolInstanceEnd:ye.symbolInstances.length,parameters:yt})}},$n.prototype.attemptAnchorPlacement=function(j,q,G,ee,ye,Le,V,ne,ce,_e,Ae,Fe,We,Ye,Je){var tt,lt=[Fe.textOffset0,Fe.textOffset1],yt=or(j,G,ee,lt,ye),wt=this.collisionIndex.placeCollisionBox(An(q,yt.x,yt.y,Le,V,this.transform.angle),Ae,ne,ce,_e.predicate);if(!Je||0!==this.collisionIndex.placeCollisionBox(An(Je,yt.x,yt.y,Le,V,this.transform.angle),Ae,ne,ce,_e.predicate).box.length)return wt.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Fe.crossTileID]&&this.prevPlacement.placements[Fe.crossTileID]&&this.prevPlacement.placements[Fe.crossTileID].text&&(tt=this.prevPlacement.variableOffsets[Fe.crossTileID].anchor),this.variableOffsets[Fe.crossTileID]={textOffset:lt,width:G,height:ee,anchor:j,textBoxScale:ye,prevAnchor:tt},this.markUsedJustification(We,j,Fe,Ye),We.allowVerticalPlacement&&(this.markUsedOrientation(We,Ye,Fe),this.placedOrientations[Fe.crossTileID]=Ye),{shift:yt,placedGlyphBoxes:wt}):void 0},$n.prototype.placeLayerBucketPart=function(j,q,G){var ee=this,ye=j.parameters,Le=ye.bucket,V=ye.layout,ne=ye.posMatrix,ce=ye.textLabelPlaneMatrix,_e=ye.labelToScreenMatrix,Ae=ye.textPixelRatio,Fe=ye.holdingForFade,We=ye.collisionBoxArray,Ye=ye.partiallyEvaluatedTextSize,Je=ye.collisionGroup,tt=V.get("text-optional"),lt=V.get("icon-optional"),yt=V.get("text-allow-overlap"),wt=V.get("icon-allow-overlap"),zt="map"===V.get("text-rotation-alignment"),Ut="map"===V.get("text-pitch-alignment"),Nt="none"!==V.get("icon-text-fit"),$t="viewport-y"===V.get("symbol-z-order"),Bt=yt&&(wt||!Le.hasIconData()||lt),pn=wt&&(yt||!Le.hasTextData()||tt);!Le.collisionArrays&&We&&Le.deserializeCollisionBoxes(We);var an=function(ir,dr){if(!q[ir.crossTileID])if(Fe)ee.placements[ir.crossTileID]=new rn(!1,!1,!1);else{var yr,kr=!1,Cr=!1,Lr=!0,ni=null,Qn={box:null,offscreen:null},wr={box:null,offscreen:null},Er=null,jr=null,Jr=0,ci=0,bi=0;dr.textFeatureIndex?Jr=dr.textFeatureIndex:ir.useRuntimeCollisionCircles&&(Jr=ir.featureIndex),dr.verticalTextFeatureIndex&&(ci=dr.verticalTextFeatureIndex);var Hi=dr.textBox;if(Hi){var po=function(xr){var si=u.WritingMode.horizontal;if(Le.allowVerticalPlacement&&!xr&&ee.prevPlacement){var vs=ee.prevPlacement.placedOrientations[ir.crossTileID];vs&&(ee.placedOrientations[ir.crossTileID]=vs,ee.markUsedOrientation(Le,si=vs,ir))}return si},uo=function(xr,si){if(Le.allowVerticalPlacement&&ir.numVerticalGlyphVertices>0&&dr.verticalTextBox)for(var vs=0,Kc=Le.writingModes;vs<Kc.length&&(Kc[vs]===u.WritingMode.vertical?(Qn=si(),wr=Qn):Qn=xr(),!(Qn&&Qn.box&&Qn.box.length));vs+=1);else Qn=xr()};if(V.get("text-variable-anchor")){var Gi=V.get("text-variable-anchor");if(ee.prevPlacement&&ee.prevPlacement.variableOffsets[ir.crossTileID]){var Mo=ee.prevPlacement.variableOffsets[ir.crossTileID];Gi.indexOf(Mo.anchor)>0&&(Gi=Gi.filter(function(xr){return xr!==Mo.anchor})).unshift(Mo.anchor)}var Ko=function(xr,si,vs){for(var Kc=xr.x2-xr.x1,Ba=xr.y2-xr.y1,Ph=ir.textBoxScale,Ru=Nt&&!wt?si:null,Xs={box:[],offscreen:!1},Mc=yt?2*Gi.length:Gi.length,Fu=0;Fu<Mc;++Fu){var Jc=ee.attemptAnchorPlacement(Gi[Fu%Gi.length],xr,Kc,Ba,Ph,zt,Ut,Ae,ne,Je,Fu>=Gi.length,ir,Le,vs,Ru);if(Jc&&(Xs=Jc.placedGlyphBoxes)&&Xs.box&&Xs.box.length){kr=!0,ni=Jc.shift;break}}return Xs};uo(function(){return Ko(Hi,dr.iconBox,u.WritingMode.horizontal)},function(){var xr=dr.verticalTextBox;return Le.allowVerticalPlacement&&!(Qn&&Qn.box&&Qn.box.length)&&ir.numVerticalGlyphVertices>0&&xr?Ko(xr,dr.verticalIconBox,u.WritingMode.vertical):{box:null,offscreen:null}}),Qn&&(kr=Qn.box,Lr=Qn.offscreen);var Wr=po(Qn&&Qn.box);if(!kr&&ee.prevPlacement){var Bo=ee.prevPlacement.variableOffsets[ir.crossTileID];Bo&&(ee.variableOffsets[ir.crossTileID]=Bo,ee.markUsedJustification(Le,Bo.anchor,ir,Wr))}}else{var qi=function(xr,si){var vs=ee.collisionIndex.placeCollisionBox(xr,yt,Ae,ne,Je.predicate);return vs&&vs.box&&vs.box.length&&(ee.markUsedOrientation(Le,si,ir),ee.placedOrientations[ir.crossTileID]=si),vs};uo(function(){return qi(Hi,u.WritingMode.horizontal)},function(){var xr=dr.verticalTextBox;return Le.allowVerticalPlacement&&ir.numVerticalGlyphVertices>0&&xr?qi(xr,u.WritingMode.vertical):{box:null,offscreen:null}}),po(Qn&&Qn.box&&Qn.box.length)}}if(kr=(yr=Qn)&&yr.box&&yr.box.length>0,Lr=yr&&yr.offscreen,ir.useRuntimeCollisionCircles){var ki=Le.text.placedSymbolArray.get(ir.centerJustifiedTextSymbolIndex),go=u.evaluateSizeForFeature(Le.textSizeData,Ye,ki),io=V.get("text-padding");Er=ee.collisionIndex.placeCollisionCircles(yt,ki,Le.lineVertexArray,Le.glyphOffsetArray,go,ne,ce,_e,G,Ut,Je.predicate,ir.collisionCircleDiameter,io),kr=yt||Er.circles.length>0&&!Er.collisionDetected,Lr=Lr&&Er.offscreen}if(dr.iconFeatureIndex&&(bi=dr.iconFeatureIndex),dr.iconBox){var Yo=function(xr){var si=Nt&&ni?An(xr,ni.x,ni.y,zt,Ut,ee.transform.angle):xr;return ee.collisionIndex.placeCollisionBox(si,wt,Ae,ne,Je.predicate)};Cr=wr&&wr.box&&wr.box.length&&dr.verticalIconBox?(jr=Yo(dr.verticalIconBox)).box.length>0:(jr=Yo(dr.iconBox)).box.length>0,Lr=Lr&&jr.offscreen}var Ao=tt||0===ir.numHorizontalGlyphVertices&&0===ir.numVerticalGlyphVertices,$i=lt||0===ir.numIconVertices;if(Ao||$i?$i?Ao||(Cr=Cr&&kr):kr=Cr&&kr:Cr=kr=Cr&&kr,kr&&yr&&yr.box&&ee.collisionIndex.insertCollisionBox(yr.box,V.get("text-ignore-placement"),Le.bucketInstanceId,wr&&wr.box&&ci?ci:Jr,Je.ID),Cr&&jr&&ee.collisionIndex.insertCollisionBox(jr.box,V.get("icon-ignore-placement"),Le.bucketInstanceId,bi,Je.ID),Er&&(kr&&ee.collisionIndex.insertCollisionCircles(Er.circles,V.get("text-ignore-placement"),Le.bucketInstanceId,Jr,Je.ID),G)){var bl=Le.bucketInstanceId,za=ee.collisionCircleArrays[bl];void 0===za&&(za=ee.collisionCircleArrays[bl]=new wn);for(var is=0;is<Er.circles.length;is+=4)za.circles.push(Er.circles[is+0]),za.circles.push(Er.circles[is+1]),za.circles.push(Er.circles[is+2]),za.circles.push(Er.collisionDetected?1:0)}ee.placements[ir.crossTileID]=new rn(kr||Bt,Cr||pn,Lr||Le.justReloaded),q[ir.crossTileID]=!0}};if($t)for(var en=Le.getSortedSymbolIndexes(this.transform.angle),Dn=en.length-1;Dn>=0;--Dn){var In=en[Dn];an(Le.symbolInstances.get(In),Le.collisionArrays[In])}else for(var Kn=j.symbolInstanceStart;Kn<j.symbolInstanceEnd;Kn++)an(Le.symbolInstances.get(Kn),Le.collisionArrays[Kn]);if(G&&Le.bucketInstanceId in this.collisionCircleArrays){var Yn=this.collisionCircleArrays[Le.bucketInstanceId];u.invert(Yn.invProjMatrix,ne),Yn.viewportMatrix=this.collisionIndex.getViewportMatrix()}Le.justReloaded=!1},$n.prototype.markUsedJustification=function(j,q,G,ee){var ye;ye=ee===u.WritingMode.vertical?G.verticalPlacedTextSymbolIndex:{left:G.leftJustifiedTextSymbolIndex,center:G.centerJustifiedTextSymbolIndex,right:G.rightJustifiedTextSymbolIndex}[u.getAnchorJustification(q)];for(var V=0,ne=[G.leftJustifiedTextSymbolIndex,G.centerJustifiedTextSymbolIndex,G.rightJustifiedTextSymbolIndex,G.verticalPlacedTextSymbolIndex];V<ne.length;V+=1){var ce=ne[V];ce>=0&&(j.text.placedSymbolArray.get(ce).crossTileID=ye>=0&&ce!==ye?0:G.crossTileID)}},$n.prototype.markUsedOrientation=function(j,q,G){for(var ee=q===u.WritingMode.horizontal||q===u.WritingMode.horizontalOnly?q:0,ye=q===u.WritingMode.vertical?q:0,Le=0,V=[G.leftJustifiedTextSymbolIndex,G.centerJustifiedTextSymbolIndex,G.rightJustifiedTextSymbolIndex];Le<V.length;Le+=1)j.text.placedSymbolArray.get(V[Le]).placedOrientation=ee;G.verticalPlacedTextSymbolIndex&&(j.text.placedSymbolArray.get(G.verticalPlacedTextSymbolIndex).placedOrientation=ye)},$n.prototype.commit=function(j){this.commitTime=j,this.zoomAtLastRecencyCheck=this.transform.zoom;var q=this.prevPlacement,G=!1;this.prevZoomAdjustment=q?q.zoomAdjustment(this.transform.zoom):0;var ee=q?q.symbolFadeChange(j):1,ye=q?q.opacities:{},Le=q?q.variableOffsets:{},V=q?q.placedOrientations:{};for(var ne in this.placements){var ce=this.placements[ne],_e=ye[ne];_e?(this.opacities[ne]=new Xt(_e,ee,ce.text,ce.icon),G=G||ce.text!==_e.text.placed||ce.icon!==_e.icon.placed):(this.opacities[ne]=new Xt(null,ee,ce.text,ce.icon,ce.skipFade),G=G||ce.text||ce.icon)}for(var Ae in ye){var Fe=ye[Ae];if(!this.opacities[Ae]){var We=new Xt(Fe,ee,!1,!1);We.isHidden()||(this.opacities[Ae]=We,G=G||Fe.text.placed||Fe.icon.placed)}}for(var Ye in Le)this.variableOffsets[Ye]||!this.opacities[Ye]||this.opacities[Ye].isHidden()||(this.variableOffsets[Ye]=Le[Ye]);for(var Je in V)this.placedOrientations[Je]||!this.opacities[Je]||this.opacities[Je].isHidden()||(this.placedOrientations[Je]=V[Je]);G?this.lastPlacementChangeTime=j:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=q?q.lastPlacementChangeTime:j)},$n.prototype.updateLayerOpacities=function(j,q){for(var G={},ee=0,ye=q;ee<ye.length;ee+=1){var Le=ye[ee],V=Le.getBucket(j);V&&Le.latestFeatureIndex&&j.id===V.layerIds[0]&&this.updateBucketOpacities(V,G,Le.collisionBoxArray)}},$n.prototype.updateBucketOpacities=function(j,q,G){var ee=this;j.hasTextData()&&j.text.opacityVertexArray.clear(),j.hasIconData()&&j.icon.opacityVertexArray.clear(),j.hasIconCollisionBoxData()&&j.iconCollisionBox.collisionVertexArray.clear(),j.hasTextCollisionBoxData()&&j.textCollisionBox.collisionVertexArray.clear();var ye=j.layers[0].layout,Le=new Xt(null,0,!1,!1,!0),V=ye.get("text-allow-overlap"),ne=ye.get("icon-allow-overlap"),ce=ye.get("text-variable-anchor"),_e="map"===ye.get("text-rotation-alignment"),Ae="map"===ye.get("text-pitch-alignment"),Fe="none"!==ye.get("icon-text-fit"),We=new Xt(null,0,V&&(ne||!j.hasIconData()||ye.get("icon-optional")),ne&&(V||!j.hasTextData()||ye.get("text-optional")),!0);!j.collisionArrays&&G&&(j.hasIconCollisionBoxData()||j.hasTextCollisionBoxData())&&j.deserializeCollisionBoxes(G);for(var Ye=function(yt,wt,zt){for(var Ut=0;Ut<wt/4;Ut++)yt.opacityVertexArray.emplaceBack(zt)},Je=function(yt){var wt=j.symbolInstances.get(yt),zt=wt.numHorizontalGlyphVertices,Ut=wt.numVerticalGlyphVertices,Nt=wt.crossTileID,Bt=ee.opacities[Nt];q[Nt]?Bt=Le:Bt||(ee.opacities[Nt]=Bt=We),q[Nt]=!0;var an=wt.numIconVertices>0,en=ee.placedOrientations[wt.crossTileID],Dn=en===u.WritingMode.vertical,In=en===u.WritingMode.horizontal||en===u.WritingMode.horizontalOnly;if(zt>0||Ut>0){var Kn=jn(Bt.text);Ye(j.text,zt,Dn?bn:Kn),Ye(j.text,Ut,In?bn:Kn);var dr=Bt.text.isHidden();[wt.rightJustifiedTextSymbolIndex,wt.centerJustifiedTextSymbolIndex,wt.leftJustifiedTextSymbolIndex].forEach(function(bi){bi>=0&&(j.text.placedSymbolArray.get(bi).hidden=dr||Dn?1:0)}),wt.verticalPlacedTextSymbolIndex>=0&&(j.text.placedSymbolArray.get(wt.verticalPlacedTextSymbolIndex).hidden=dr||In?1:0);var yr=ee.variableOffsets[wt.crossTileID];yr&&ee.markUsedJustification(j,yr.anchor,wt,en);var kr=ee.placedOrientations[wt.crossTileID];kr&&(ee.markUsedJustification(j,"left",wt,kr),ee.markUsedOrientation(j,kr,wt))}if(an){var Cr=jn(Bt.icon),Lr=!(Fe&&wt.verticalPlacedIconSymbolIndex&&Dn);wt.placedIconSymbolIndex>=0&&(Ye(j.icon,wt.numIconVertices,Lr?Cr:bn),j.icon.placedSymbolArray.get(wt.placedIconSymbolIndex).hidden=Bt.icon.isHidden()),wt.verticalPlacedIconSymbolIndex>=0&&(Ye(j.icon,wt.numVerticalIconVertices,Lr?bn:Cr),j.icon.placedSymbolArray.get(wt.verticalPlacedIconSymbolIndex).hidden=Bt.icon.isHidden())}if(j.hasIconCollisionBoxData()||j.hasTextCollisionBoxData()){var wr=j.collisionArrays[yt];if(wr){var Er=new u.Point(0,0);if(wr.textBox||wr.verticalTextBox){var jr=!0;if(ce){var Jr=ee.variableOffsets[Nt];Jr?(Er=or(Jr.anchor,Jr.width,Jr.height,Jr.textOffset,Jr.textBoxScale),_e&&Er._rotate(Ae?ee.transform.angle:-ee.transform.angle)):jr=!1}wr.textBox&&Xn(j.textCollisionBox.collisionVertexArray,Bt.text.placed,!jr||Dn,Er.x,Er.y),wr.verticalTextBox&&Xn(j.textCollisionBox.collisionVertexArray,Bt.text.placed,!jr||In,Er.x,Er.y)}var ci=!(In||!wr.verticalIconBox);wr.iconBox&&Xn(j.iconCollisionBox.collisionVertexArray,Bt.icon.placed,ci,Fe?Er.x:0,Fe?Er.y:0),wr.verticalIconBox&&Xn(j.iconCollisionBox.collisionVertexArray,Bt.icon.placed,!ci,Fe?Er.x:0,Fe?Er.y:0)}}},tt=0;tt<j.symbolInstances.length;tt++)Je(tt);if(j.sortFeatures(this.transform.angle),this.retainedQueryData[j.bucketInstanceId]&&(this.retainedQueryData[j.bucketInstanceId].featureSortOrder=j.featureSortOrder),j.hasTextData()&&j.text.opacityVertexBuffer&&j.text.opacityVertexBuffer.updateData(j.text.opacityVertexArray),j.hasIconData()&&j.icon.opacityVertexBuffer&&j.icon.opacityVertexBuffer.updateData(j.icon.opacityVertexArray),j.hasIconCollisionBoxData()&&j.iconCollisionBox.collisionVertexBuffer&&j.iconCollisionBox.collisionVertexBuffer.updateData(j.iconCollisionBox.collisionVertexArray),j.hasTextCollisionBoxData()&&j.textCollisionBox.collisionVertexBuffer&&j.textCollisionBox.collisionVertexBuffer.updateData(j.textCollisionBox.collisionVertexArray),j.bucketInstanceId in this.collisionCircleArrays){var lt=this.collisionCircleArrays[j.bucketInstanceId];j.placementInvProjMatrix=lt.invProjMatrix,j.placementViewportMatrix=lt.viewportMatrix,j.collisionCircleArray=lt.circles,delete this.collisionCircleArrays[j.bucketInstanceId]}},$n.prototype.symbolFadeChange=function(j){return 0===this.fadeDuration?1:(j-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},$n.prototype.zoomAdjustment=function(j){return Math.max(0,(this.transform.zoom-j)/1.5)},$n.prototype.hasTransitions=function(j){return this.stale||j-this.lastPlacementChangeTime<this.fadeDuration},$n.prototype.stillRecent=function(j,q){var G=this.zoomAtLastRecencyCheck===q?1-this.zoomAdjustment(q):1;return this.zoomAtLastRecencyCheck=q,this.commitTime+this.fadeDuration*G>j},$n.prototype.setStale=function(){this.stale=!0};var Kt=Math.pow(2,25),Rn=Math.pow(2,24),Ft=Math.pow(2,17),on=Math.pow(2,16),fn=Math.pow(2,9),Sn=Math.pow(2,8),Ln=Math.pow(2,1);function jn(j){if(0===j.opacity&&!j.placed)return 0;if(1===j.opacity&&j.placed)return 4294967295;var q=j.placed?1:0,G=Math.floor(127*j.opacity);return G*Kt+q*Rn+G*Ft+q*on+G*fn+q*Sn+G*Ln+q}var bn=0,sn=function(j){this._sortAcrossTiles="viewport-y"!==j.layout.get("symbol-z-order")&&void 0!==j.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};sn.prototype.continuePlacement=function(j,q,G,ee,ye){for(var Le=this._bucketParts;this._currentTileIndex<j.length;)if(q.getBucketParts(Le,ee,j[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,ye())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Le.sort(function(ce,_e){return ce.sortKey-_e.sortKey}));this._currentPartIndex<Le.length;)if(q.placeLayerBucketPart(Le[this._currentPartIndex],this._seenCrossTileIDs,G),this._currentPartIndex++,ye())return!0;return!1};var un=function(j,q,G,ee,ye,Le,V){this.placement=new $n(j,ye,Le,V),this._currentPlacementIndex=q.length-1,this._forceFullPlacement=G,this._showCollisionBoxes=ee,this._done=!1};un.prototype.isDone=function(){return this._done},un.prototype.continuePlacement=function(j,q,G){for(var ee=this,ye=u.browser.now(),Le=function(){var ce=u.browser.now()-ye;return!ee._forceFullPlacement&&ce>2};this._currentPlacementIndex>=0;){var V=q[j[this._currentPlacementIndex]],ne=this.placement.collisionIndex.transform.zoom;if("symbol"===V.type&&(!V.minzoom||V.minzoom<=ne)&&(!V.maxzoom||V.maxzoom>ne)){if(this._inProgressLayer||(this._inProgressLayer=new sn(V)),this._inProgressLayer.continuePlacement(G[V.source],this.placement,this._showCollisionBoxes,V,Le))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},un.prototype.commit=function(j){return this.placement.commit(j),this.placement};var xn=512/u.EXTENT/2,_n=function(j,q,G){this.tileID=j,this.indexedSymbolInstances={},this.bucketInstanceId=G;for(var ee=0;ee<q.length;ee++){var ye=q.get(ee),Le=ye.key;this.indexedSymbolInstances[Le]||(this.indexedSymbolInstances[Le]=[]),this.indexedSymbolInstances[Le].push({crossTileID:ye.crossTileID,coord:this.getScaledCoordinates(ye,j)})}};_n.prototype.getScaledCoordinates=function(j,q){var ee=xn/Math.pow(2,q.canonical.z-this.tileID.canonical.z);return{x:Math.floor((q.canonical.x*u.EXTENT+j.anchorX)*ee),y:Math.floor((q.canonical.y*u.EXTENT+j.anchorY)*ee)}},_n.prototype.findMatches=function(j,q,G){for(var ee=this.tileID.canonical.z<q.canonical.z?1:Math.pow(2,this.tileID.canonical.z-q.canonical.z),ye=0;ye<j.length;ye++){var Le=j.get(ye);if(!Le.crossTileID){var V=this.indexedSymbolInstances[Le.key];if(V)for(var ne=this.getScaledCoordinates(Le,q),ce=0,_e=V;ce<_e.length;ce+=1){var Ae=_e[ce];if(Math.abs(Ae.coord.x-ne.x)<=ee&&Math.abs(Ae.coord.y-ne.y)<=ee&&!G[Ae.crossTileID]){G[Ae.crossTileID]=!0,Le.crossTileID=Ae.crossTileID;break}}}}};var Vn=function(){this.maxCrossTileID=0};Vn.prototype.generate=function(){return++this.maxCrossTileID};var Gn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Gn.prototype.handleWrapJump=function(j){var q=Math.round((j-this.lng)/360);if(0!==q)for(var G in this.indexes){var ee=this.indexes[G],ye={};for(var Le in ee){var V=ee[Le];V.tileID=V.tileID.unwrapTo(V.tileID.wrap+q),ye[V.tileID.key]=V}this.indexes[G]=ye}this.lng=j},Gn.prototype.addBucket=function(j,q,G){if(this.indexes[j.overscaledZ]&&this.indexes[j.overscaledZ][j.key]){if(this.indexes[j.overscaledZ][j.key].bucketInstanceId===q.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(j.overscaledZ,this.indexes[j.overscaledZ][j.key])}for(var ee=0;ee<q.symbolInstances.length;ee++)q.symbolInstances.get(ee).crossTileID=0;this.usedCrossTileIDs[j.overscaledZ]||(this.usedCrossTileIDs[j.overscaledZ]={});var ye=this.usedCrossTileIDs[j.overscaledZ];for(var Le in this.indexes){var V=this.indexes[Le];if(Number(Le)>j.overscaledZ)for(var ne in V){var ce=V[ne];ce.tileID.isChildOf(j)&&ce.findMatches(q.symbolInstances,j,ye)}else{var _e=V[j.scaledTo(Number(Le)).key];_e&&_e.findMatches(q.symbolInstances,j,ye)}}for(var Ae=0;Ae<q.symbolInstances.length;Ae++){var Fe=q.symbolInstances.get(Ae);Fe.crossTileID||(Fe.crossTileID=G.generate(),ye[Fe.crossTileID]=!0)}return void 0===this.indexes[j.overscaledZ]&&(this.indexes[j.overscaledZ]={}),this.indexes[j.overscaledZ][j.key]=new _n(j,q.symbolInstances,q.bucketInstanceId),!0},Gn.prototype.removeBucketCrossTileIDs=function(j,q){for(var G in q.indexedSymbolInstances)for(var ee=0,ye=q.indexedSymbolInstances[G];ee<ye.length;ee+=1)delete this.usedCrossTileIDs[j][ye[ee].crossTileID]},Gn.prototype.removeStaleBuckets=function(j){var q=!1;for(var G in this.indexes){var ee=this.indexes[G];for(var ye in ee)j[ee[ye].bucketInstanceId]||(this.removeBucketCrossTileIDs(G,ee[ye]),delete ee[ye],q=!0)}return q};var rr=function(){this.layerIndexes={},this.crossTileIDs=new Vn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};rr.prototype.addLayer=function(j,q,G){var ee=this.layerIndexes[j.id];void 0===ee&&(ee=this.layerIndexes[j.id]=new Gn);var ye=!1,Le={};ee.handleWrapJump(G);for(var V=0,ne=q;V<ne.length;V+=1){var ce=ne[V],_e=ce.getBucket(j);_e&&j.id===_e.layerIds[0]&&(_e.bucketInstanceId||(_e.bucketInstanceId=++this.maxBucketInstanceId),ee.addBucket(ce.tileID,_e,this.crossTileIDs)&&(ye=!0),Le[_e.bucketInstanceId]=!0)}return ee.removeStaleBuckets(Le)&&(ye=!0),ye},rr.prototype.pruneUnusedLayers=function(j){var q={};for(var G in j.forEach(function(ee){q[ee]=!0}),this.layerIndexes)q[G]||delete this.layerIndexes[G]};var Jn=function(j,q){return u.emitValidationErrors(j,q&&q.filter(function(G){return"source.canvas"!==G.identifier}))},mr=u.pick(xt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),er=u.pick(xt,["setCenter","setZoom","setBearing","setPitch"]),ur=function(){var j={},q=u.styleSpec.$version;for(var G in u.styleSpec.$root){var ye,ee=u.styleSpec.$root[G];ee.required&&null!=(ye="version"===G?q:"array"===ee.type?[]:{})&&(j[G]=ye)}return j}(),Tr=function(j){function q(G,ee){var ye=this;void 0===ee&&(ee={}),j.call(this),this.map=G,this.dispatcher=new L(At(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new b(G._requestManager,ee.localIdeographFontFamily),this.lineAtlas=new I(256,512),this.crossTileSymbolIndex=new rr,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new u.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",u.getReferrer());var Le=this;this._rtlTextPluginCallback=q.registerForPluginStateChange(function(V){Le.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:V.pluginStatus,pluginURL:V.pluginURL},function(ce,_e){if(u.triggerPluginCompletionEvent(ce),_e&&_e.every(function(Fe){return Fe}))for(var Ae in Le.sourceCaches)Le.sourceCaches[Ae].reload()})}),this.on("data",function(V){if("source"===V.dataType&&"metadata"===V.sourceDataType){var ne=ye.sourceCaches[V.sourceId];if(ne){var ce=ne.getSource();if(ce&&ce.vectorLayerIds)for(var _e in ye._layers){var Ae=ye._layers[_e];Ae.source===ce.id&&ye._validateLayer(Ae)}}}})}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.loadURL=function(G,ee){var ye=this;void 0===ee&&(ee={}),this.fire(new u.Event("dataloading",{dataType:"style"}));var Le="boolean"==typeof ee.validate?ee.validate:!u.isMapboxURL(G);G=this.map._requestManager.normalizeStyleURL(G,ee.accessToken);var V=this.map._requestManager.transformRequest(G,u.ResourceType.Style);this._request=u.getJSON(V,function(ne,ce){ye._request=null,ne?ye.fire(new u.ErrorEvent(ne)):ce&&ye._load(ce,Le)})},q.prototype.loadJSON=function(G,ee){var ye=this;void 0===ee&&(ee={}),this.fire(new u.Event("dataloading",{dataType:"style"})),this._request=u.browser.frame(function(){ye._request=null,ye._load(G,!1!==ee.validate)})},q.prototype.loadEmpty=function(){this.fire(new u.Event("dataloading",{dataType:"style"})),this._load(ur,!1)},q.prototype._load=function(G,ee){if(!ee||!Jn(this,u.validateStyle(G))){for(var ye in this._loaded=!0,this.stylesheet=G,G.sources)this.addSource(ye,G.sources[ye],{validate:!1});G.sprite?this._loadSprite(G.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(G.glyphs);var Le=Rt(this.stylesheet.layers);this._order=Le.map(function(_e){return _e.id}),this._layers={},this._serializedLayers={};for(var V=0,ne=Le;V<ne.length;V+=1){var ce=ne[V];(ce=u.createStyleLayer(ce)).setEventedParent(this,{layer:{id:ce.id}}),this._layers[ce.id]=ce,this._serializedLayers[ce.id]=ce.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new k(this.stylesheet.light),this.fire(new u.Event("data",{dataType:"style"})),this.fire(new u.Event("style.load"))}},q.prototype._loadSprite=function(G){var ee=this;this._spriteRequest=function(ye,Le,V){var ne,ce,_e,Ae=u.browser.devicePixelRatio>1?"@2x":"",Fe=u.getJSON(Le.transformRequest(Le.normalizeSpriteURL(ye,Ae,".json"),u.ResourceType.SpriteJSON),function(Je,tt){Fe=null,_e||(_e=Je,ne=tt,Ye())}),We=u.getImage(Le.transformRequest(Le.normalizeSpriteURL(ye,Ae,".png"),u.ResourceType.SpriteImage),function(Je,tt){We=null,_e||(_e=Je,ce=tt,Ye())});function Ye(){if(_e)V(_e);else if(ne&&ce){var Je=u.browser.getImageData(ce),tt={};for(var lt in ne){var yt=ne[lt],wt=yt.width,zt=yt.height,Ut=yt.x,Nt=yt.y,$t=yt.sdf,Bt=yt.pixelRatio,pn=yt.stretchX,an=yt.stretchY,en=yt.content,Dn=new u.RGBAImage({width:wt,height:zt});u.RGBAImage.copy(Je,Dn,{x:Ut,y:Nt},{x:0,y:0},{width:wt,height:zt}),tt[lt]={data:Dn,pixelRatio:Bt,sdf:$t,stretchX:pn,stretchY:an,content:en}}V(null,tt)}}return{cancel:function(){Fe&&(Fe.cancel(),Fe=null),We&&(We.cancel(),We=null)}}}(G,this.map._requestManager,function(ye,Le){if(ee._spriteRequest=null,ye)ee.fire(new u.ErrorEvent(ye));else if(Le)for(var V in Le)ee.imageManager.addImage(V,Le[V]);ee.imageManager.setLoaded(!0),ee._availableImages=ee.imageManager.listImages(),ee.dispatcher.broadcast("setImages",ee._availableImages),ee.fire(new u.Event("data",{dataType:"style"}))})},q.prototype._validateLayer=function(G){var ee=this.sourceCaches[G.source];if(ee){var ye=G.sourceLayer;if(ye){var Le=ee.getSource();("geojson"===Le.type||Le.vectorLayerIds&&-1===Le.vectorLayerIds.indexOf(ye))&&this.fire(new u.ErrorEvent(new Error('Source layer "'+ye+'" does not exist on source "'+Le.id+'" as specified by style layer "'+G.id+'"')))}}},q.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var G in this.sourceCaches)if(!this.sourceCaches[G].loaded())return!1;return!!this.imageManager.isLoaded()},q.prototype._serializeLayers=function(G){for(var ee=[],ye=0,Le=G;ye<Le.length;ye+=1){var ne=this._layers[Le[ye]];"custom"!==ne.type&&ee.push(ne.serialize())}return ee},q.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var G in this.sourceCaches)if(this.sourceCaches[G].hasTransition())return!0;for(var ee in this._layers)if(this._layers[ee].hasTransition())return!0;return!1},q.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},q.prototype.update=function(G){if(this._loaded){var ee=this._changed;if(this._changed){var ye=Object.keys(this._updatedLayers),Le=Object.keys(this._removedLayers);for(var V in(ye.length||Le.length)&&this._updateWorkerLayers(ye,Le),this._updatedSources){var ne=this._updatedSources[V];"reload"===ne?this._reloadSource(V):"clear"===ne&&this._clearSource(V)}for(var ce in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ce].updateTransitions(G);this.light.updateTransitions(G),this._resetUpdates()}for(var _e in this.sourceCaches)this.sourceCaches[_e].used=!1;for(var Ae=0,Fe=this._order;Ae<Fe.length;Ae+=1){var Ye=this._layers[Fe[Ae]];Ye.recalculate(G,this._availableImages),!Ye.isHidden(G.zoom)&&Ye.source&&(this.sourceCaches[Ye.source].used=!0)}this.light.recalculate(G),this.z=G.zoom,ee&&this.fire(new u.Event("data",{dataType:"style"}))}},q.prototype._updateTilesForChangedImages=function(){var G=Object.keys(this._changedImages);if(G.length){for(var ee in this.sourceCaches)this.sourceCaches[ee].reloadTilesForDependencies(["icons","patterns"],G);this._changedImages={}}},q.prototype._updateWorkerLayers=function(G,ee){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(G),removedIds:ee})},q.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},q.prototype.setState=function(G){var ee=this;if(this._checkLoaded(),Jn(this,u.validateStyle(G)))return!1;(G=u.clone$1(G)).layers=Rt(G.layers);var ye=function ln(j,q){if(!j)return[{command:xt.setStyle,args:[q]}];var G=[];try{if(!u.deepEqual(j.version,q.version))return[{command:xt.setStyle,args:[q]}];u.deepEqual(j.center,q.center)||G.push({command:xt.setCenter,args:[q.center]}),u.deepEqual(j.zoom,q.zoom)||G.push({command:xt.setZoom,args:[q.zoom]}),u.deepEqual(j.bearing,q.bearing)||G.push({command:xt.setBearing,args:[q.bearing]}),u.deepEqual(j.pitch,q.pitch)||G.push({command:xt.setPitch,args:[q.pitch]}),u.deepEqual(j.sprite,q.sprite)||G.push({command:xt.setSprite,args:[q.sprite]}),u.deepEqual(j.glyphs,q.glyphs)||G.push({command:xt.setGlyphs,args:[q.glyphs]}),u.deepEqual(j.transition,q.transition)||G.push({command:xt.setTransition,args:[q.transition]}),u.deepEqual(j.light,q.light)||G.push({command:xt.setLight,args:[q.light]});var ee={},ye=[];!function(V,ne,ce,_e){var Ae;for(Ae in ne=ne||{},V=V||{})V.hasOwnProperty(Ae)&&(ne.hasOwnProperty(Ae)||It(Ae,ce,_e));for(Ae in ne)ne.hasOwnProperty(Ae)&&(V.hasOwnProperty(Ae)?u.deepEqual(V[Ae],ne[Ae])||("geojson"===V[Ae].type&&"geojson"===ne[Ae].type&&Wt(V,ne,Ae)?ce.push({command:xt.setGeoJSONSourceData,args:[Ae,ne[Ae].data]}):Gt(Ae,ne,ce,_e)):_t(Ae,ne,ce))}(j.sources,q.sources,ye,ee);var Le=[];j.layers&&j.layers.forEach(function(V){ee[V.source]?G.push({command:xt.removeLayer,args:[V.id]}):Le.push(V)}),G=G.concat(ye),function(V,ne,ce){ne=ne||[];var _e,Ae,Fe,We,Ye,Je,tt,lt=(V=V||[]).map(cn),yt=ne.map(cn),wt=V.reduce(nn,{}),zt=ne.reduce(nn,{}),Ut=lt.slice(),Nt=Object.create(null);for(_e=0,Ae=0;_e<lt.length;_e++)zt.hasOwnProperty(Fe=lt[_e])?Ae++:(ce.push({command:xt.removeLayer,args:[Fe]}),Ut.splice(Ut.indexOf(Fe,Ae),1));for(_e=0,Ae=0;_e<yt.length;_e++)Ut[Ut.length-1-_e]!==(Fe=yt[yt.length-1-_e])&&(wt.hasOwnProperty(Fe)?(ce.push({command:xt.removeLayer,args:[Fe]}),Ut.splice(Ut.lastIndexOf(Fe,Ut.length-Ae),1)):Ae++,ce.push({command:xt.addLayer,args:[zt[Fe],Je=Ut[Ut.length-_e]]}),Ut.splice(Ut.length-_e,0,Fe),Nt[Fe]=!0);for(_e=0;_e<yt.length;_e++)if(We=wt[Fe=yt[_e]],Ye=zt[Fe],!Nt[Fe]&&!u.deepEqual(We,Ye))if(u.deepEqual(We.source,Ye.source)&&u.deepEqual(We["source-layer"],Ye["source-layer"])&&u.deepEqual(We.type,Ye.type)){for(tt in Zt(We.layout,Ye.layout,ce,Fe,null,xt.setLayoutProperty),Zt(We.paint,Ye.paint,ce,Fe,null,xt.setPaintProperty),u.deepEqual(We.filter,Ye.filter)||ce.push({command:xt.setFilter,args:[Fe,Ye.filter]}),u.deepEqual(We.minzoom,Ye.minzoom)&&u.deepEqual(We.maxzoom,Ye.maxzoom)||ce.push({command:xt.setLayerZoomRange,args:[Fe,Ye.minzoom,Ye.maxzoom]}),We)We.hasOwnProperty(tt)&&"layout"!==tt&&"paint"!==tt&&"filter"!==tt&&"metadata"!==tt&&"minzoom"!==tt&&"maxzoom"!==tt&&(0===tt.indexOf("paint.")?Zt(We[tt],Ye[tt],ce,Fe,tt.slice(6),xt.setPaintProperty):u.deepEqual(We[tt],Ye[tt])||ce.push({command:xt.setLayerProperty,args:[Fe,tt,Ye[tt]]}));for(tt in Ye)Ye.hasOwnProperty(tt)&&!We.hasOwnProperty(tt)&&"layout"!==tt&&"paint"!==tt&&"filter"!==tt&&"metadata"!==tt&&"minzoom"!==tt&&"maxzoom"!==tt&&(0===tt.indexOf("paint.")?Zt(We[tt],Ye[tt],ce,Fe,tt.slice(6),xt.setPaintProperty):u.deepEqual(We[tt],Ye[tt])||ce.push({command:xt.setLayerProperty,args:[Fe,tt,Ye[tt]]}))}else ce.push({command:xt.removeLayer,args:[Fe]}),Je=Ut[Ut.lastIndexOf(Fe)+1],ce.push({command:xt.addLayer,args:[Ye,Je]})}(Le,q.layers,G)}catch(V){console.warn("Unable to compute style diff:",V),G=[{command:xt.setStyle,args:[q]}]}return G}(this.serialize(),G).filter(function(V){return!(V.command in er)});if(0===ye.length)return!1;var Le=ye.filter(function(V){return!(V.command in mr)});if(Le.length>0)throw new Error("Unimplemented: "+Le.map(function(V){return V.command}).join(", ")+".");return ye.forEach(function(V){"setTransition"!==V.command&&ee[V.command].apply(ee,V.args)}),this.stylesheet=G,!0},q.prototype.addImage=function(G,ee){if(this.getImage(G))return this.fire(new u.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(G,ee),this._availableImages=this.imageManager.listImages(),this._changedImages[G]=!0,this._changed=!0,this.fire(new u.Event("data",{dataType:"style"}))},q.prototype.updateImage=function(G,ee){this.imageManager.updateImage(G,ee)},q.prototype.getImage=function(G){return this.imageManager.getImage(G)},q.prototype.removeImage=function(G){if(!this.getImage(G))return this.fire(new u.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(G),this._availableImages=this.imageManager.listImages(),this._changedImages[G]=!0,this._changed=!0,this.fire(new u.Event("data",{dataType:"style"}))},q.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},q.prototype.addSource=function(G,ee,ye){var Le=this;if(void 0===ye&&(ye={}),this._checkLoaded(),void 0!==this.sourceCaches[G])throw new Error("There is already a source with this ID");if(!ee.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(ee).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(ee.type)>=0&&this._validate(u.validateStyle.source,"sources."+G,ee,null,ye))){this.map&&this.map._collectResourceTiming&&(ee.collectResourceTiming=!0);var V=this.sourceCaches[G]=new ft(G,ee,this.dispatcher);V.style=this,V.setEventedParent(this,function(){return{isSourceLoaded:Le.loaded(),source:V.serialize(),sourceId:G}}),V.onAdd(this.map),this._changed=!0}},q.prototype.removeSource=function(G){if(this._checkLoaded(),void 0===this.sourceCaches[G])throw new Error("There is no source with this ID");for(var ee in this._layers)if(this._layers[ee].source===G)return this.fire(new u.ErrorEvent(new Error('Source "'+G+'" cannot be removed while layer "'+ee+'" is using it.')));var ye=this.sourceCaches[G];delete this.sourceCaches[G],delete this._updatedSources[G],ye.fire(new u.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:G})),ye.setEventedParent(null),ye.clearTiles(),ye.onRemove&&ye.onRemove(this.map),this._changed=!0},q.prototype.setGeoJSONSourceData=function(G,ee){this._checkLoaded(),this.sourceCaches[G].getSource().setData(ee),this._changed=!0},q.prototype.getSource=function(G){return this.sourceCaches[G]&&this.sourceCaches[G].getSource()},q.prototype.addLayer=function(G,ee,ye){void 0===ye&&(ye={}),this._checkLoaded();var Le=G.id;if(this.getLayer(Le))this.fire(new u.ErrorEvent(new Error('Layer with id "'+Le+'" already exists on this map')));else{var V;if("custom"===G.type){if(Jn(this,u.validateCustomStyleLayer(G)))return;V=u.createStyleLayer(G)}else{if("object"==typeof G.source&&(this.addSource(Le,G.source),G=u.clone$1(G),G=u.extend(G,{source:Le})),this._validate(u.validateStyle.layer,"layers."+Le,G,{arrayIndex:-1},ye))return;V=u.createStyleLayer(G),this._validateLayer(V),V.setEventedParent(this,{layer:{id:Le}}),this._serializedLayers[V.id]=V.serialize()}var ne=ee?this._order.indexOf(ee):this._order.length;if(ee&&-1===ne)this.fire(new u.ErrorEvent(new Error('Layer with id "'+ee+'" does not exist on this map.')));else{if(this._order.splice(ne,0,Le),this._layerOrderChanged=!0,this._layers[Le]=V,this._removedLayers[Le]&&V.source&&"custom"!==V.type){var ce=this._removedLayers[Le];delete this._removedLayers[Le],ce.type!==V.type?this._updatedSources[V.source]="clear":(this._updatedSources[V.source]="reload",this.sourceCaches[V.source].pause())}this._updateLayer(V),V.onAdd&&V.onAdd(this.map)}}},q.prototype.moveLayer=function(G,ee){if(this._checkLoaded(),this._changed=!0,this._layers[G]){if(G!==ee){var ye=this._order.indexOf(G);this._order.splice(ye,1);var Le=ee?this._order.indexOf(ee):this._order.length;ee&&-1===Le?this.fire(new u.ErrorEvent(new Error('Layer with id "'+ee+'" does not exist on this map.'))):(this._order.splice(Le,0,G),this._layerOrderChanged=!0)}}else this.fire(new u.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be moved.")))},q.prototype.removeLayer=function(G){this._checkLoaded();var ee=this._layers[G];if(ee){ee.setEventedParent(null);var ye=this._order.indexOf(G);this._order.splice(ye,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[G]=ee,delete this._layers[G],delete this._serializedLayers[G],delete this._updatedLayers[G],delete this._updatedPaintProps[G],ee.onRemove&&ee.onRemove(this.map)}else this.fire(new u.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be removed.")))},q.prototype.getLayer=function(G){return this._layers[G]},q.prototype.hasLayer=function(G){return G in this._layers},q.prototype.setLayerZoomRange=function(G,ee,ye){this._checkLoaded();var Le=this.getLayer(G);Le?Le.minzoom===ee&&Le.maxzoom===ye||(null!=ee&&(Le.minzoom=ee),null!=ye&&(Le.maxzoom=ye),this._updateLayer(Le)):this.fire(new u.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot have zoom extent.")))},q.prototype.setFilter=function(G,ee,ye){void 0===ye&&(ye={}),this._checkLoaded();var Le=this.getLayer(G);if(Le){if(!u.deepEqual(Le.filter,ee))return null==ee?(Le.filter=void 0,void this._updateLayer(Le)):void(this._validate(u.validateStyle.filter,"layers."+Le.id+".filter",ee,null,ye)||(Le.filter=u.clone$1(ee),this._updateLayer(Le)))}else this.fire(new u.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be filtered.")))},q.prototype.getFilter=function(G){return u.clone$1(this.getLayer(G).filter)},q.prototype.setLayoutProperty=function(G,ee,ye,Le){void 0===Le&&(Le={}),this._checkLoaded();var V=this.getLayer(G);V?u.deepEqual(V.getLayoutProperty(ee),ye)||(V.setLayoutProperty(ee,ye,Le),this._updateLayer(V)):this.fire(new u.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be styled.")))},q.prototype.getLayoutProperty=function(G,ee){var ye=this.getLayer(G);if(ye)return ye.getLayoutProperty(ee);this.fire(new u.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style.")))},q.prototype.setPaintProperty=function(G,ee,ye,Le){void 0===Le&&(Le={}),this._checkLoaded();var V=this.getLayer(G);V?u.deepEqual(V.getPaintProperty(ee),ye)||(V.setPaintProperty(ee,ye,Le)&&this._updateLayer(V),this._changed=!0,this._updatedPaintProps[G]=!0):this.fire(new u.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be styled.")))},q.prototype.getPaintProperty=function(G,ee){return this.getLayer(G).getPaintProperty(ee)},q.prototype.setFeatureState=function(G,ee){this._checkLoaded();var ye=G.source,Le=G.sourceLayer,V=this.sourceCaches[ye];if(void 0!==V){var ne=V.getSource().type;"geojson"===ne&&Le?this.fire(new u.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==ne||Le?(void 0===G.id&&this.fire(new u.ErrorEvent(new Error("The feature id parameter must be provided."))),V.setFeatureState(Le,G.id,ee)):this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new u.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")))},q.prototype.removeFeatureState=function(G,ee){this._checkLoaded();var ye=G.source,Le=this.sourceCaches[ye];if(void 0!==Le){var V=Le.getSource().type,ne="vector"===V?G.sourceLayer:void 0;"vector"!==V||ne?ee&&"string"!=typeof G.id&&"number"!=typeof G.id?this.fire(new u.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):Le.removeFeatureState(ne,G.id,ee):this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new u.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")))},q.prototype.getFeatureState=function(G){this._checkLoaded();var ee=G.source,ye=G.sourceLayer,Le=this.sourceCaches[ee];if(void 0!==Le){if("vector"!==Le.getSource().type||ye)return void 0===G.id&&this.fire(new u.ErrorEvent(new Error("The feature id parameter must be provided."))),Le.getFeatureState(ye,G.id);this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new u.ErrorEvent(new Error("The source '"+ee+"' does not exist in the map's style.")))},q.prototype.getTransition=function(){return u.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},q.prototype.serialize=function(){return u.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:u.mapObject(this.sourceCaches,function(G){return G.serialize()}),layers:this._serializeLayers(this._order)},function(G){return void 0!==G})},q.prototype._updateLayer=function(G){this._updatedLayers[G.id]=!0,G.source&&!this._updatedSources[G.source]&&"raster"!==this.sourceCaches[G.source].getSource().type&&(this._updatedSources[G.source]="reload",this.sourceCaches[G.source].pause()),this._changed=!0},q.prototype._flattenAndSortRenderedFeatures=function(G){for(var ee=this,ye=function(en){return"fill-extrusion"===ee._layers[en].type},Le={},V=[],ne=this._order.length-1;ne>=0;ne--){var ce=this._order[ne];if(ye(ce)){Le[ce]=ne;for(var _e=0,Ae=G;_e<Ae.length;_e+=1){var Fe=Ae[_e][ce];if(Fe)for(var We=0,Ye=Fe;We<Ye.length;We+=1)V.push(Ye[We])}}}V.sort(function(en,Dn){return Dn.intersectionZ-en.intersectionZ});for(var tt=[],lt=this._order.length-1;lt>=0;lt--){var yt=this._order[lt];if(ye(yt))for(var wt=V.length-1;wt>=0;wt--){var zt=V[wt].feature;if(Le[zt.layer.id]<lt)break;tt.push(zt),V.pop()}else for(var Ut=0,Nt=G;Ut<Nt.length;Ut+=1){var $t=Nt[Ut][yt];if($t)for(var Bt=0,pn=$t;Bt<pn.length;Bt+=1)tt.push(pn[Bt].feature)}}return tt},q.prototype.queryRenderedFeatures=function(G,ee,ye){ee&&ee.filter&&this._validate(u.validateStyle.filter,"queryRenderedFeatures.filter",ee.filter,null,ee);var Le={};if(ee&&ee.layers){if(!Array.isArray(ee.layers))return this.fire(new u.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var V=0,ne=ee.layers;V<ne.length;V+=1){var ce=ne[V],_e=this._layers[ce];if(!_e)return this.fire(new u.ErrorEvent(new Error("The layer '"+ce+"' does not exist in the map's style and cannot be queried for features."))),[];Le[_e.source]=!0}}var Ae=[];for(var Fe in ee.availableImages=this._availableImages,this.sourceCaches)ee.layers&&!Le[Fe]||Ae.push(Q(this.sourceCaches[Fe],this._layers,this._serializedLayers,G,ee,ye));return this.placement&&Ae.push(function(We,Ye,Je,tt,lt,yt,wt){for(var zt={},Ut=yt.queryRenderedSymbols(tt),Nt=[],$t=0,Bt=Object.keys(Ut).map(Number);$t<Bt.length;$t+=1)Nt.push(wt[Bt[$t]]);Nt.sort(K);for(var an=function(){var Yn=Dn[en],ir=Yn.featureIndex.lookupSymbolFeatures(Ut[Yn.bucketInstanceId],Ye,Yn.bucketIndex,Yn.sourceLayerIndex,lt.filter,lt.layers,lt.availableImages,We);for(var dr in ir){var yr=zt[dr]=zt[dr]||[],kr=ir[dr];kr.sort(function(Qn,wr){var Er=Yn.featureSortOrder;if(Er){var jr=Er.indexOf(Qn.featureIndex);return Er.indexOf(wr.featureIndex)-jr}return wr.featureIndex-Qn.featureIndex});for(var Cr=0,Lr=kr;Cr<Lr.length;Cr+=1)yr.push(Lr[Cr])}},en=0,Dn=Nt;en<Dn.length;en+=1)an();var In=function(Yn){zt[Yn].forEach(function(ir){var dr=ir.feature,kr=Je[We[Yn].source].getFeatureState(dr.layer["source-layer"],dr.id);dr.source=dr.layer.source,dr.layer["source-layer"]&&(dr.sourceLayer=dr.layer["source-layer"]),dr.state=kr})};for(var Kn in zt)In(Kn);return zt}(this._layers,this._serializedLayers,this.sourceCaches,G,ee,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Ae)},q.prototype.querySourceFeatures=function(G,ee){ee&&ee.filter&&this._validate(u.validateStyle.filter,"querySourceFeatures.filter",ee.filter,null,ee);var ye=this.sourceCaches[G];return ye?function(Le,V){for(var ne=Le.getRenderableIds().map(function(Ye){return Le.getTileByID(Ye)}),ce=[],_e={},Ae=0;Ae<ne.length;Ae++){var Fe=ne[Ae],We=Fe.tileID.canonical.key;_e[We]||(_e[We]=!0,Fe.querySourceFeatures(ce,V))}return ce}(ye,ee):[]},q.prototype.addSourceType=function(G,ee,ye){return q.getSourceType(G)?ye(new Error('A source type called "'+G+'" already exists.')):(q.setSourceType(G,ee),ee.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:G,url:ee.workerSourceURL},ye):ye(null,null))},q.prototype.getLight=function(){return this.light.getLight()},q.prototype.setLight=function(G,ee){void 0===ee&&(ee={}),this._checkLoaded();var ye=this.light.getLight(),Le=!1;for(var V in G)if(!u.deepEqual(G[V],ye[V])){Le=!0;break}if(Le){var ne={now:u.browser.now(),transition:u.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(G,ee),this.light.updateTransitions(ne)}},q.prototype._validate=function(G,ee,ye,Le,V){return void 0===V&&(V={}),(!V||!1!==V.validate)&&Jn(this,G.call(u.validateStyle,u.extend({key:ee,style:this.serialize(),value:ye,styleSpec:u.styleSpec},Le)))},q.prototype._remove=function(){for(var G in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),u.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[G].setEventedParent(null);for(var ee in this.sourceCaches)this.sourceCaches[ee].clearTiles(),this.sourceCaches[ee].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},q.prototype._clearSource=function(G){this.sourceCaches[G].clearTiles()},q.prototype._reloadSource=function(G){this.sourceCaches[G].resume(),this.sourceCaches[G].reload()},q.prototype._updateSources=function(G){for(var ee in this.sourceCaches)this.sourceCaches[ee].update(G)},q.prototype._generateCollisionBoxes=function(){for(var G in this.sourceCaches)this._reloadSource(G)},q.prototype._updatePlacement=function(G,ee,ye,Le,V){void 0===V&&(V=!1);for(var ne=!1,ce=!1,_e={},Ae=0,Fe=this._order;Ae<Fe.length;Ae+=1){var Ye=this._layers[Fe[Ae]];if("symbol"===Ye.type){if(!_e[Ye.source]){var Je=this.sourceCaches[Ye.source];_e[Ye.source]=Je.getRenderableIds(!0).map(function(Ut){return Je.getTileByID(Ut)}).sort(function(Ut,Nt){return Nt.tileID.overscaledZ-Ut.tileID.overscaledZ||(Ut.tileID.isLessThan(Nt.tileID)?-1:1)})}var tt=this.crossTileSymbolIndex.addLayer(Ye,_e[Ye.source],G.center.lng);ne=ne||tt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((V=V||this._layerOrderChanged||0===ye)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(u.browser.now(),G.zoom))&&(this.pauseablePlacement=new un(G,this._order,V,ee,ye,Le,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,_e),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(u.browser.now()),ce=!0),ne&&this.pauseablePlacement.placement.setStale()),ce||ne)for(var lt=0,yt=this._order;lt<yt.length;lt+=1){var zt=this._layers[yt[lt]];"symbol"===zt.type&&this.placement.updateLayerOpacities(zt,_e[zt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(u.browser.now())},q.prototype._releaseSymbolFadeTiles=function(){for(var G in this.sourceCaches)this.sourceCaches[G].releaseSymbolFadeTiles()},q.prototype.getImages=function(G,ee,ye){this.imageManager.getImages(ee.icons,ye),this._updateTilesForChangedImages();var Le=this.sourceCaches[ee.source];Le&&Le.setDependencies(ee.tileID.key,ee.type,ee.icons)},q.prototype.getGlyphs=function(G,ee,ye){this.glyphManager.getGlyphs(ee.stacks,ye)},q.prototype.getResource=function(G,ee,ye){return u.makeRequest(ee,ye)},q}(u.Evented);Tr.getSourceType=function(j){return ae[j]},Tr.setSourceType=function(j,q){ae[j]=q},Tr.registerForPluginStateChange=u.registerForPluginStateChange;var Mr=u.createLayout([{name:"a_pos",type:"Int16",components:2}]),Dr=Ui("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),lr=Ui("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Hr=Ui("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),sr=Ui("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Or=Ui("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Qr=Ui("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),ji=Ui("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),fo=Ui("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),no=Ui("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),ro=Ui("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Yi=Ui("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),To=Ui("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Ms=Ui("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),$r=Ui("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fs=Ui("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),gu=Ui("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Vo=Ui("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Sl=Ui("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),ec=Ui("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Pi=Ui("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Tc=Ui("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),El=Ui("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Cl=Ui("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),La=Ui("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Eo=Ui("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),Qs=Ui("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function Ui(j,q){var G=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ee={};return{fragmentSource:j=j.replace(G,function(ye,Le,V,ne,ce){return ee[ce]=!0,"define"===Le?"\n#ifndef HAS_UNIFORM_u_"+ce+"\nvarying "+V+" "+ne+" "+ce+";\n#else\nuniform "+V+" "+ne+" u_"+ce+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+ce+"\n    "+V+" "+ne+" "+ce+" = u_"+ce+";\n#endif\n"}),vertexSource:q=q.replace(G,function(ye,Le,V,ne,ce){var _e="float"===ne?"vec2":"vec4",Ae=ce.match(/color/)?"color":_e;return ee[ce]?"define"===Le?"\n#ifndef HAS_UNIFORM_u_"+ce+"\nuniform lowp float u_"+ce+"_t;\nattribute "+V+" "+_e+" a_"+ce+";\nvarying "+V+" "+ne+" "+ce+";\n#else\nuniform "+V+" "+ne+" u_"+ce+";\n#endif\n":"vec4"===Ae?"\n#ifndef HAS_UNIFORM_u_"+ce+"\n    "+ce+" = a_"+ce+";\n#else\n    "+V+" "+ne+" "+ce+" = u_"+ce+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+ce+"\n    "+ce+" = unpack_mix_"+Ae+"(a_"+ce+", u_"+ce+"_t);\n#else\n    "+V+" "+ne+" "+ce+" = u_"+ce+";\n#endif\n":"define"===Le?"\n#ifndef HAS_UNIFORM_u_"+ce+"\nuniform lowp float u_"+ce+"_t;\nattribute "+V+" "+_e+" a_"+ce+";\n#else\nuniform "+V+" "+ne+" u_"+ce+";\n#endif\n":"vec4"===Ae?"\n#ifndef HAS_UNIFORM_u_"+ce+"\n    "+V+" "+ne+" "+ce+" = a_"+ce+";\n#else\n    "+V+" "+ne+" "+ce+" = u_"+ce+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+ce+"\n    "+V+" "+ne+" "+ce+" = unpack_mix_"+Ae+"(a_"+ce+", u_"+ce+"_t);\n#else\n    "+V+" "+ne+" "+ce+" = u_"+ce+";\n#endif\n"})}}var As=Object.freeze({__proto__:null,prelude:Dr,background:lr,backgroundPattern:Hr,circle:sr,clippingMask:Or,heatmap:Qr,heatmapTexture:ji,collisionBox:fo,collisionCircle:no,debug:ro,fill:Yi,fillOutline:To,fillOutlinePattern:Ms,fillPattern:$r,fillExtrusion:fs,fillExtrusionPattern:gu,hillshadePrepare:Vo,hillshade:Sl,line:ec,lineGradient:Pi,linePattern:Tc,lineSDF:El,raster:Cl,symbolIcon:La,symbolSDF:Eo,symbolTextAndIcon:Qs}),Ha=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Ha.prototype.bind=function(j,q,G,ee,ye,Le,V,ne){this.context=j;for(var ce=this.boundPaintVertexBuffers.length!==ee.length,_e=0;!ce&&_e<ee.length;_e++)this.boundPaintVertexBuffers[_e]!==ee[_e]&&(ce=!0);j.extVertexArrayObject&&this.vao&&this.boundProgram===q&&this.boundLayoutVertexBuffer===G&&!ce&&this.boundIndexBuffer===ye&&this.boundVertexOffset===Le&&this.boundDynamicVertexBuffer===V&&this.boundDynamicVertexBuffer2===ne?(j.bindVertexArrayOES.set(this.vao),V&&V.bind(),ye&&ye.dynamicDraw&&ye.bind(),ne&&ne.bind()):this.freshBind(q,G,ee,ye,Le,V,ne)},Ha.prototype.freshBind=function(j,q,G,ee,ye,Le,V){var ne,ce=j.numAttributes,_e=this.context,Ae=_e.gl;if(_e.extVertexArrayObject)this.vao&&this.destroy(),this.vao=_e.extVertexArrayObject.createVertexArrayOES(),_e.bindVertexArrayOES.set(this.vao),ne=0,this.boundProgram=j,this.boundLayoutVertexBuffer=q,this.boundPaintVertexBuffers=G,this.boundIndexBuffer=ee,this.boundVertexOffset=ye,this.boundDynamicVertexBuffer=Le,this.boundDynamicVertexBuffer2=V;else{ne=_e.currentNumAttributes||0;for(var Fe=ce;Fe<ne;Fe++)Ae.disableVertexAttribArray(Fe)}q.enableAttributes(Ae,j);for(var We=0,Ye=G;We<Ye.length;We+=1)Ye[We].enableAttributes(Ae,j);Le&&Le.enableAttributes(Ae,j),V&&V.enableAttributes(Ae,j),q.bind(),q.setVertexAttribPointers(Ae,j,ye);for(var Je=0,tt=G;Je<tt.length;Je+=1){var lt=tt[Je];lt.bind(),lt.setVertexAttribPointers(Ae,j,ye)}Le&&(Le.bind(),Le.setVertexAttribPointers(Ae,j,ye)),ee&&ee.bind(),V&&(V.bind(),V.setVertexAttribPointers(Ae,j,ye)),_e.currentNumAttributes=ce},Ha.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var ks=function(j,q,G,ee,ye){var Le=j.gl;this.program=Le.createProgram();var V=G?G.defines():[];ye&&V.push("#define OVERDRAW_INSPECTOR;");var ne=V.concat(Dr.fragmentSource,q.fragmentSource).join("\n"),ce=V.concat(Dr.vertexSource,q.vertexSource).join("\n"),_e=Le.createShader(Le.FRAGMENT_SHADER);if(Le.isContextLost())this.failedToCreate=!0;else{Le.shaderSource(_e,ne),Le.compileShader(_e),Le.attachShader(this.program,_e);var Ae=Le.createShader(Le.VERTEX_SHADER);if(Le.isContextLost())this.failedToCreate=!0;else{Le.shaderSource(Ae,ce),Le.compileShader(Ae),Le.attachShader(this.program,Ae);for(var Fe=G?G.layoutAttributes:[],We=0;We<Fe.length;We++)Le.bindAttribLocation(this.program,We,Fe[We].name);Le.linkProgram(this.program),Le.deleteShader(Ae),Le.deleteShader(_e),this.numAttributes=Le.getProgramParameter(this.program,Le.ACTIVE_ATTRIBUTES),this.attributes={};for(var Ye={},Je=0;Je<this.numAttributes;Je++){var tt=Le.getActiveAttrib(this.program,Je);tt&&(this.attributes[tt.name]=Le.getAttribLocation(this.program,tt.name))}for(var lt=Le.getProgramParameter(this.program,Le.ACTIVE_UNIFORMS),yt=0;yt<lt;yt++){var wt=Le.getActiveUniform(this.program,yt);wt&&(Ye[wt.name]=Le.getUniformLocation(this.program,wt.name))}this.fixedUniforms=ee(j,Ye),this.binderUniforms=G?G.getUniforms(j,Ye):[]}}};function ba(j,q,G){var ee=1/fr(G,1,q.transform.tileZoom),ye=Math.pow(2,G.tileID.overscaledZ),Le=G.tileSize*Math.pow(2,q.transform.tileZoom)/ye,V=Le*(G.tileID.canonical.x+G.tileID.wrap*ye),ne=Le*G.tileID.canonical.y;return{u_image:0,u_texsize:G.imageAtlasTexture.size,u_scale:[ee,j.fromScale,j.toScale],u_fade:j.t,u_pixel_coord_upper:[V>>16,ne>>16],u_pixel_coord_lower:[65535&V,65535&ne]}}ks.prototype.draw=function(j,q,G,ee,ye,Le,V,ne,ce,_e,Ae,Fe,We,Ye,Je,tt){var lt,yt=j.gl;if(!this.failedToCreate){for(var wt in j.program.set(this.program),j.setDepthMode(G),j.setStencilMode(ee),j.setColorMode(ye),j.setCullFace(Le),this.fixedUniforms)this.fixedUniforms[wt].set(V[wt]);Ye&&Ye.setUniforms(j,this.binderUniforms,Fe,{zoom:We});for(var zt=(lt={},lt[yt.LINES]=2,lt[yt.TRIANGLES]=3,lt[yt.LINE_STRIP]=1,lt)[q],Ut=0,Nt=Ae.get();Ut<Nt.length;Ut+=1){var $t=Nt[Ut],Bt=$t.vaos||($t.vaos={});(Bt[ne]||(Bt[ne]=new Ha)).bind(j,this,ce,Ye?Ye.getPaintVertexBuffers():[],_e,$t.vertexOffset,Je,tt),yt.drawElements(q,$t.primitiveLength*zt,yt.UNSIGNED_SHORT,$t.primitiveOffset*zt*2)}}};var el=function(j,q,G,ee){var ye=q.style.light,Le=ye.properties.get("position"),V=[Le.x,Le.y,Le.z],ne=u.create$1();"viewport"===ye.properties.get("anchor")&&u.fromRotation(ne,-q.transform.angle),u.transformMat3(V,V,ne);var ce=ye.properties.get("color");return{u_matrix:j,u_lightpos:V,u_lightintensity:ye.properties.get("intensity"),u_lightcolor:[ce.r,ce.g,ce.b],u_vertical_gradient:+G,u_opacity:ee}},_a=function(j,q,G,ee,ye,Le,V){return u.extend(el(j,q,G,ee),ba(Le,q,V),{u_height_factor:-Math.pow(2,ye.overscaledZ)/V.tileSize/8})},Bs=function(j){return{u_matrix:j}},ti=function(j,q,G,ee){return u.extend(Bs(j),ba(G,q,ee))},Eu=function(j,q){return{u_matrix:j,u_world:q}},qr=function(j,q,G,ee,ye){return u.extend(ti(j,q,G,ee),{u_world:ye})},$l=function(j,q,G,ee){var ye,Le,V=j.transform;if("map"===ee.paint.get("circle-pitch-alignment")){var ne=fr(G,1,V.zoom);ye=!0,Le=[ne,ne]}else ye=!1,Le=V.pixelsToGLUnits;return{u_camera_to_center_distance:V.cameraToCenterDistance,u_scale_with_map:+("map"===ee.paint.get("circle-pitch-scale")),u_matrix:j.translatePosMatrix(q.posMatrix,G,ee.paint.get("circle-translate"),ee.paint.get("circle-translate-anchor")),u_pitch_with_map:+ye,u_device_pixel_ratio:u.browser.devicePixelRatio,u_extrude_scale:Le}},Xl=function(j,q,G){var ee=fr(G,1,q.zoom),ye=Math.pow(2,q.zoom-G.tileID.overscaledZ),Le=G.tileID.overscaleFactor();return{u_matrix:j,u_camera_to_center_distance:q.cameraToCenterDistance,u_pixels_to_tile_units:ee,u_extrude_scale:[q.pixelsToGLUnits[0]/(ee*ye),q.pixelsToGLUnits[1]/(ee*ye)],u_overscale_factor:Le}},Dl=function(j,q,G){return{u_matrix:j,u_inv_matrix:q,u_camera_to_center_distance:G.cameraToCenterDistance,u_viewport_size:[G.width,G.height]}},Cu=function(j,q,G){return void 0===G&&(G=1),{u_matrix:j,u_color:q,u_overlay:0,u_overlay_scale:G}},tc=function(j){return{u_matrix:j}},Il=function(j,q,G,ee){return{u_matrix:j,u_extrude_scale:fr(q,1,G),u_intensity:ee}},Ga=function(j,q,G){var ee=j.transform;return{u_matrix:hs(j,q,G),u_ratio:1/fr(q,1,ee.zoom),u_device_pixel_ratio:u.browser.devicePixelRatio,u_units_to_pixels:[1/ee.pixelsToGLUnits[0],1/ee.pixelsToGLUnits[1]]}},Fi=function(j,q,G){return u.extend(Ga(j,q,G),{u_image:0})},Ll=function(j,q,G,ee){var ye=j.transform,Le=js(q,ye);return{u_matrix:hs(j,q,G),u_texsize:q.imageAtlasTexture.size,u_ratio:1/fr(q,1,ye.zoom),u_device_pixel_ratio:u.browser.devicePixelRatio,u_image:0,u_scale:[Le,ee.fromScale,ee.toScale],u_fade:ee.t,u_units_to_pixels:[1/ye.pixelsToGLUnits[0],1/ye.pixelsToGLUnits[1]]}},Pa=function(j,q,G,ee,ye){var V=j.lineAtlas,ne=js(q,j.transform),ce="round"===G.layout.get("line-cap"),_e=V.getDash(ee.from,ce),Ae=V.getDash(ee.to,ce),Fe=_e.width*ye.fromScale,We=Ae.width*ye.toScale;return u.extend(Ga(j,q,G),{u_patternscale_a:[ne/Fe,-_e.height/2],u_patternscale_b:[ne/We,-Ae.height/2],u_sdfgamma:V.width/(256*Math.min(Fe,We)*u.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:_e.y,u_tex_y_b:Ae.y,u_mix:ye.t})};function js(j,q){return 1/fr(j,1,q.tileZoom)}function hs(j,q,G){return j.translatePosMatrix(q.tileID.posMatrix,q,G.paint.get("line-translate"),G.paint.get("line-translate-anchor"))}var ia=function(j,q,G,ee,ye){return{u_matrix:j,u_tl_parent:q,u_scale_parent:G,u_buffer_scale:1,u_fade_t:ee.mix,u_opacity:ee.opacity*ye.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ye.paint.get("raster-brightness-min"),u_brightness_high:ye.paint.get("raster-brightness-max"),u_saturation_factor:(V=ye.paint.get("raster-saturation"),V>0?1-1/(1.001-V):-V),u_contrast_factor:(Le=ye.paint.get("raster-contrast"),Le>0?1/(1-Le):1+Le),u_spin_weights:Pl(ye.paint.get("raster-hue-rotate"))};var Le,V};function Pl(j){j*=Math.PI/180;var q=Math.sin(j),G=Math.cos(j);return[(2*G+1)/3,(-Math.sqrt(3)*q-G+1)/3,(Math.sqrt(3)*q-G+1)/3]}var Us,Ki=function(j,q,G,ee,ye,Le,V,ne,ce,_e){var Ae=ye.transform;return{u_is_size_zoom_constant:+("constant"===j||"source"===j),u_is_size_feature_constant:+("constant"===j||"camera"===j),u_size_t:q?q.uSizeT:0,u_size:q?q.uSize:0,u_camera_to_center_distance:Ae.cameraToCenterDistance,u_pitch:Ae.pitch/360*2*Math.PI,u_rotate_symbol:+G,u_aspect_ratio:Ae.width/Ae.height,u_fade_change:ye.options.fadeDuration?ye.symbolFadeChange:1,u_matrix:Le,u_label_plane_matrix:V,u_coord_matrix:ne,u_is_text:+ce,u_pitch_with_map:+ee,u_texsize:_e,u_texture:0}},qa=function(j,q,G,ee,ye,Le,V,ne,ce,_e,Ae){var Fe=ye.transform;return u.extend(Ki(j,q,G,ee,ye,Le,V,ne,ce,_e),{u_gamma_scale:ee?Math.cos(Fe._pitch)*Fe.cameraToCenterDistance:1,u_device_pixel_ratio:u.browser.devicePixelRatio,u_is_halo:+Ae})},Ol=function(j,q,G,ee,ye,Le,V,ne,ce,_e){return u.extend(qa(j,q,G,ee,ye,Le,V,ne,!0,ce,!0),{u_texsize_icon:_e,u_texture_icon:1})},Wa=function(j,q,G){return{u_matrix:j,u_opacity:q,u_color:G}},ds=function(j,q,G,ee,ye,Le){return u.extend((ne=Le,_e=ye,Ae=(ce=G).imageManager.getPattern((V=ee).from.toString()),Fe=ce.imageManager.getPattern(V.to.toString()),Ye=(We=ce.imageManager.getPixelSize()).width,Je=We.height,tt=Math.pow(2,_e.tileID.overscaledZ),yt=(lt=_e.tileSize*Math.pow(2,ce.transform.tileZoom)/tt)*(_e.tileID.canonical.x+_e.tileID.wrap*tt),wt=lt*_e.tileID.canonical.y,{u_image:0,u_pattern_tl_a:Ae.tl,u_pattern_br_a:Ae.br,u_pattern_tl_b:Fe.tl,u_pattern_br_b:Fe.br,u_texsize:[Ye,Je],u_mix:ne.t,u_pattern_size_a:Ae.displaySize,u_pattern_size_b:Fe.displaySize,u_scale_a:ne.fromScale,u_scale_b:ne.toScale,u_tile_units_to_pixels:1/fr(_e,1,ce.transform.tileZoom),u_pixel_coord_upper:[yt>>16,wt>>16],u_pixel_coord_lower:[65535&yt,65535&wt]}),{u_matrix:j,u_opacity:q});var V,ne,ce,_e,Ae,Fe,We,Ye,Je,tt,lt,yt,wt},nc={fillExtrusion:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_lightpos:new u.Uniform3f(j,q.u_lightpos),u_lightintensity:new u.Uniform1f(j,q.u_lightintensity),u_lightcolor:new u.Uniform3f(j,q.u_lightcolor),u_vertical_gradient:new u.Uniform1f(j,q.u_vertical_gradient),u_opacity:new u.Uniform1f(j,q.u_opacity)}},fillExtrusionPattern:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_lightpos:new u.Uniform3f(j,q.u_lightpos),u_lightintensity:new u.Uniform1f(j,q.u_lightintensity),u_lightcolor:new u.Uniform3f(j,q.u_lightcolor),u_vertical_gradient:new u.Uniform1f(j,q.u_vertical_gradient),u_height_factor:new u.Uniform1f(j,q.u_height_factor),u_image:new u.Uniform1i(j,q.u_image),u_texsize:new u.Uniform2f(j,q.u_texsize),u_pixel_coord_upper:new u.Uniform2f(j,q.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(j,q.u_pixel_coord_lower),u_scale:new u.Uniform3f(j,q.u_scale),u_fade:new u.Uniform1f(j,q.u_fade),u_opacity:new u.Uniform1f(j,q.u_opacity)}},fill:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix)}},fillPattern:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_image:new u.Uniform1i(j,q.u_image),u_texsize:new u.Uniform2f(j,q.u_texsize),u_pixel_coord_upper:new u.Uniform2f(j,q.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(j,q.u_pixel_coord_lower),u_scale:new u.Uniform3f(j,q.u_scale),u_fade:new u.Uniform1f(j,q.u_fade)}},fillOutline:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_world:new u.Uniform2f(j,q.u_world)}},fillOutlinePattern:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_world:new u.Uniform2f(j,q.u_world),u_image:new u.Uniform1i(j,q.u_image),u_texsize:new u.Uniform2f(j,q.u_texsize),u_pixel_coord_upper:new u.Uniform2f(j,q.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(j,q.u_pixel_coord_lower),u_scale:new u.Uniform3f(j,q.u_scale),u_fade:new u.Uniform1f(j,q.u_fade)}},circle:function(j,q){return{u_camera_to_center_distance:new u.Uniform1f(j,q.u_camera_to_center_distance),u_scale_with_map:new u.Uniform1i(j,q.u_scale_with_map),u_pitch_with_map:new u.Uniform1i(j,q.u_pitch_with_map),u_extrude_scale:new u.Uniform2f(j,q.u_extrude_scale),u_device_pixel_ratio:new u.Uniform1f(j,q.u_device_pixel_ratio),u_matrix:new u.UniformMatrix4f(j,q.u_matrix)}},collisionBox:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_camera_to_center_distance:new u.Uniform1f(j,q.u_camera_to_center_distance),u_pixels_to_tile_units:new u.Uniform1f(j,q.u_pixels_to_tile_units),u_extrude_scale:new u.Uniform2f(j,q.u_extrude_scale),u_overscale_factor:new u.Uniform1f(j,q.u_overscale_factor)}},collisionCircle:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_inv_matrix:new u.UniformMatrix4f(j,q.u_inv_matrix),u_camera_to_center_distance:new u.Uniform1f(j,q.u_camera_to_center_distance),u_viewport_size:new u.Uniform2f(j,q.u_viewport_size)}},debug:function(j,q){return{u_color:new u.UniformColor(j,q.u_color),u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_overlay:new u.Uniform1i(j,q.u_overlay),u_overlay_scale:new u.Uniform1f(j,q.u_overlay_scale)}},clippingMask:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix)}},heatmap:function(j,q){return{u_extrude_scale:new u.Uniform1f(j,q.u_extrude_scale),u_intensity:new u.Uniform1f(j,q.u_intensity),u_matrix:new u.UniformMatrix4f(j,q.u_matrix)}},heatmapTexture:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_world:new u.Uniform2f(j,q.u_world),u_image:new u.Uniform1i(j,q.u_image),u_color_ramp:new u.Uniform1i(j,q.u_color_ramp),u_opacity:new u.Uniform1f(j,q.u_opacity)}},hillshade:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_image:new u.Uniform1i(j,q.u_image),u_latrange:new u.Uniform2f(j,q.u_latrange),u_light:new u.Uniform2f(j,q.u_light),u_shadow:new u.UniformColor(j,q.u_shadow),u_highlight:new u.UniformColor(j,q.u_highlight),u_accent:new u.UniformColor(j,q.u_accent)}},hillshadePrepare:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_image:new u.Uniform1i(j,q.u_image),u_dimension:new u.Uniform2f(j,q.u_dimension),u_zoom:new u.Uniform1f(j,q.u_zoom),u_maxzoom:new u.Uniform1f(j,q.u_maxzoom),u_unpack:new u.Uniform4f(j,q.u_unpack)}},line:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_ratio:new u.Uniform1f(j,q.u_ratio),u_device_pixel_ratio:new u.Uniform1f(j,q.u_device_pixel_ratio),u_units_to_pixels:new u.Uniform2f(j,q.u_units_to_pixels)}},lineGradient:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_ratio:new u.Uniform1f(j,q.u_ratio),u_device_pixel_ratio:new u.Uniform1f(j,q.u_device_pixel_ratio),u_units_to_pixels:new u.Uniform2f(j,q.u_units_to_pixels),u_image:new u.Uniform1i(j,q.u_image)}},linePattern:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_texsize:new u.Uniform2f(j,q.u_texsize),u_ratio:new u.Uniform1f(j,q.u_ratio),u_device_pixel_ratio:new u.Uniform1f(j,q.u_device_pixel_ratio),u_image:new u.Uniform1i(j,q.u_image),u_units_to_pixels:new u.Uniform2f(j,q.u_units_to_pixels),u_scale:new u.Uniform3f(j,q.u_scale),u_fade:new u.Uniform1f(j,q.u_fade)}},lineSDF:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_ratio:new u.Uniform1f(j,q.u_ratio),u_device_pixel_ratio:new u.Uniform1f(j,q.u_device_pixel_ratio),u_units_to_pixels:new u.Uniform2f(j,q.u_units_to_pixels),u_patternscale_a:new u.Uniform2f(j,q.u_patternscale_a),u_patternscale_b:new u.Uniform2f(j,q.u_patternscale_b),u_sdfgamma:new u.Uniform1f(j,q.u_sdfgamma),u_image:new u.Uniform1i(j,q.u_image),u_tex_y_a:new u.Uniform1f(j,q.u_tex_y_a),u_tex_y_b:new u.Uniform1f(j,q.u_tex_y_b),u_mix:new u.Uniform1f(j,q.u_mix)}},raster:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_tl_parent:new u.Uniform2f(j,q.u_tl_parent),u_scale_parent:new u.Uniform1f(j,q.u_scale_parent),u_buffer_scale:new u.Uniform1f(j,q.u_buffer_scale),u_fade_t:new u.Uniform1f(j,q.u_fade_t),u_opacity:new u.Uniform1f(j,q.u_opacity),u_image0:new u.Uniform1i(j,q.u_image0),u_image1:new u.Uniform1i(j,q.u_image1),u_brightness_low:new u.Uniform1f(j,q.u_brightness_low),u_brightness_high:new u.Uniform1f(j,q.u_brightness_high),u_saturation_factor:new u.Uniform1f(j,q.u_saturation_factor),u_contrast_factor:new u.Uniform1f(j,q.u_contrast_factor),u_spin_weights:new u.Uniform3f(j,q.u_spin_weights)}},symbolIcon:function(j,q){return{u_is_size_zoom_constant:new u.Uniform1i(j,q.u_is_size_zoom_constant),u_is_size_feature_constant:new u.Uniform1i(j,q.u_is_size_feature_constant),u_size_t:new u.Uniform1f(j,q.u_size_t),u_size:new u.Uniform1f(j,q.u_size),u_camera_to_center_distance:new u.Uniform1f(j,q.u_camera_to_center_distance),u_pitch:new u.Uniform1f(j,q.u_pitch),u_rotate_symbol:new u.Uniform1i(j,q.u_rotate_symbol),u_aspect_ratio:new u.Uniform1f(j,q.u_aspect_ratio),u_fade_change:new u.Uniform1f(j,q.u_fade_change),u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_label_plane_matrix:new u.UniformMatrix4f(j,q.u_label_plane_matrix),u_coord_matrix:new u.UniformMatrix4f(j,q.u_coord_matrix),u_is_text:new u.Uniform1i(j,q.u_is_text),u_pitch_with_map:new u.Uniform1i(j,q.u_pitch_with_map),u_texsize:new u.Uniform2f(j,q.u_texsize),u_texture:new u.Uniform1i(j,q.u_texture)}},symbolSDF:function(j,q){return{u_is_size_zoom_constant:new u.Uniform1i(j,q.u_is_size_zoom_constant),u_is_size_feature_constant:new u.Uniform1i(j,q.u_is_size_feature_constant),u_size_t:new u.Uniform1f(j,q.u_size_t),u_size:new u.Uniform1f(j,q.u_size),u_camera_to_center_distance:new u.Uniform1f(j,q.u_camera_to_center_distance),u_pitch:new u.Uniform1f(j,q.u_pitch),u_rotate_symbol:new u.Uniform1i(j,q.u_rotate_symbol),u_aspect_ratio:new u.Uniform1f(j,q.u_aspect_ratio),u_fade_change:new u.Uniform1f(j,q.u_fade_change),u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_label_plane_matrix:new u.UniformMatrix4f(j,q.u_label_plane_matrix),u_coord_matrix:new u.UniformMatrix4f(j,q.u_coord_matrix),u_is_text:new u.Uniform1i(j,q.u_is_text),u_pitch_with_map:new u.Uniform1i(j,q.u_pitch_with_map),u_texsize:new u.Uniform2f(j,q.u_texsize),u_texture:new u.Uniform1i(j,q.u_texture),u_gamma_scale:new u.Uniform1f(j,q.u_gamma_scale),u_device_pixel_ratio:new u.Uniform1f(j,q.u_device_pixel_ratio),u_is_halo:new u.Uniform1i(j,q.u_is_halo)}},symbolTextAndIcon:function(j,q){return{u_is_size_zoom_constant:new u.Uniform1i(j,q.u_is_size_zoom_constant),u_is_size_feature_constant:new u.Uniform1i(j,q.u_is_size_feature_constant),u_size_t:new u.Uniform1f(j,q.u_size_t),u_size:new u.Uniform1f(j,q.u_size),u_camera_to_center_distance:new u.Uniform1f(j,q.u_camera_to_center_distance),u_pitch:new u.Uniform1f(j,q.u_pitch),u_rotate_symbol:new u.Uniform1i(j,q.u_rotate_symbol),u_aspect_ratio:new u.Uniform1f(j,q.u_aspect_ratio),u_fade_change:new u.Uniform1f(j,q.u_fade_change),u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_label_plane_matrix:new u.UniformMatrix4f(j,q.u_label_plane_matrix),u_coord_matrix:new u.UniformMatrix4f(j,q.u_coord_matrix),u_is_text:new u.Uniform1i(j,q.u_is_text),u_pitch_with_map:new u.Uniform1i(j,q.u_pitch_with_map),u_texsize:new u.Uniform2f(j,q.u_texsize),u_texsize_icon:new u.Uniform2f(j,q.u_texsize_icon),u_texture:new u.Uniform1i(j,q.u_texture),u_texture_icon:new u.Uniform1i(j,q.u_texture_icon),u_gamma_scale:new u.Uniform1f(j,q.u_gamma_scale),u_device_pixel_ratio:new u.Uniform1f(j,q.u_device_pixel_ratio),u_is_halo:new u.Uniform1i(j,q.u_is_halo)}},background:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_opacity:new u.Uniform1f(j,q.u_opacity),u_color:new u.UniformColor(j,q.u_color)}},backgroundPattern:function(j,q){return{u_matrix:new u.UniformMatrix4f(j,q.u_matrix),u_opacity:new u.Uniform1f(j,q.u_opacity),u_image:new u.Uniform1i(j,q.u_image),u_pattern_tl_a:new u.Uniform2f(j,q.u_pattern_tl_a),u_pattern_br_a:new u.Uniform2f(j,q.u_pattern_br_a),u_pattern_tl_b:new u.Uniform2f(j,q.u_pattern_tl_b),u_pattern_br_b:new u.Uniform2f(j,q.u_pattern_br_b),u_texsize:new u.Uniform2f(j,q.u_texsize),u_mix:new u.Uniform1f(j,q.u_mix),u_pattern_size_a:new u.Uniform2f(j,q.u_pattern_size_a),u_pattern_size_b:new u.Uniform2f(j,q.u_pattern_size_b),u_scale_a:new u.Uniform1f(j,q.u_scale_a),u_scale_b:new u.Uniform1f(j,q.u_scale_b),u_pixel_coord_upper:new u.Uniform2f(j,q.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(j,q.u_pixel_coord_lower),u_tile_units_to_pixels:new u.Uniform1f(j,q.u_tile_units_to_pixels)}}};function Kl(j,q,G,ee,ye,Le,V){for(var ne=j.context,ce=ne.gl,_e=j.useProgram("collisionBox"),Ae=[],Fe=0,We=0,Ye=0;Ye<ee.length;Ye++){var Je=ee[Ye],tt=q.getTile(Je),lt=tt.getBucket(G);if(lt){var yt=Je.posMatrix;0===ye[0]&&0===ye[1]||(yt=j.translatePosMatrix(Je.posMatrix,tt,ye,Le));var wt=V?lt.textCollisionBox:lt.iconCollisionBox,zt=lt.collisionCircleArray;if(zt.length>0){var Ut=u.create(),Nt=yt;u.mul(Ut,lt.placementInvProjMatrix,j.transform.glCoordMatrix),u.mul(Ut,Ut,lt.placementViewportMatrix),Ae.push({circleArray:zt,circleOffset:We,transform:Nt,invTransform:Ut}),We=Fe+=zt.length/4}wt&&_e.draw(ne,ce.LINES,Ht.disabled,nt.disabled,j.colorModeForRenderPass(),Xe.disabled,Xl(yt,j.transform,tt),G.id,wt.layoutVertexBuffer,wt.indexBuffer,wt.segments,null,j.transform.zoom,null,null,wt.collisionVertexBuffer)}}if(V&&Ae.length){var $t=j.useProgram("collisionCircle"),Bt=new u.StructArrayLayout2f1f2i16;Bt.resize(4*Fe),Bt._trim();for(var pn=0,an=0,en=Ae;an<en.length;an+=1)for(var Dn=en[an],In=0;In<Dn.circleArray.length/4;In++){var Kn=4*In,Yn=Dn.circleArray[Kn+0],ir=Dn.circleArray[Kn+1],dr=Dn.circleArray[Kn+2],yr=Dn.circleArray[Kn+3];Bt.emplace(pn++,Yn,ir,dr,yr,0),Bt.emplace(pn++,Yn,ir,dr,yr,1),Bt.emplace(pn++,Yn,ir,dr,yr,2),Bt.emplace(pn++,Yn,ir,dr,yr,3)}(!Us||Us.length<2*Fe)&&(Us=function(Er){var jr=2*Er,Jr=new u.StructArrayLayout3ui6;Jr.resize(jr),Jr._trim();for(var ci=0;ci<jr;ci++){var bi=6*ci;Jr.uint16[bi+0]=4*ci+0,Jr.uint16[bi+1]=4*ci+1,Jr.uint16[bi+2]=4*ci+2,Jr.uint16[bi+3]=4*ci+2,Jr.uint16[bi+4]=4*ci+3,Jr.uint16[bi+5]=4*ci+0}return Jr}(Fe));for(var kr=ne.createIndexBuffer(Us,!0),Cr=ne.createVertexBuffer(Bt,u.collisionCircleLayout.members,!0),Lr=0,ni=Ae;Lr<ni.length;Lr+=1){var Qn=ni[Lr],wr=Dl(Qn.transform,Qn.invTransform,j.transform);$t.draw(ne,ce.TRIANGLES,Ht.disabled,nt.disabled,j.colorModeForRenderPass(),Xe.disabled,wr,G.id,Cr,kr,u.SegmentVector.simpleSegment(0,2*Qn.circleOffset,Qn.circleArray.length,Qn.circleArray.length/2),null,j.transform.zoom,null,null,null)}Cr.destroy(),kr.destroy()}}var rc=u.identity(new Float32Array(16));function Du(j,q,G,ee,ye,Le){var V=u.getAnchorAlignment(j),ne=-(V.horizontalAlign-.5)*q,ce=-(V.verticalAlign-.5)*G,_e=u.evaluateVariableOffset(j,ee);return new u.Point((ne/ye+_e[0])*Le,(ce/ye+_e[1])*Le)}function Jl(j,q,G,ee,ye,Le,V,ne,ce,_e,Ae){var Fe=j.text.placedSymbolArray,We=j.text.dynamicLayoutVertexArray,Ye=j.icon.dynamicLayoutVertexArray,Je={};We.clear();for(var tt=0;tt<Fe.length;tt++){var lt=Fe.get(tt),wt=lt.hidden||!lt.crossTileID||j.allowVerticalPlacement&&!lt.placedOrientation?null:ee[lt.crossTileID];if(wt){var zt=new u.Point(lt.anchorX,lt.anchorY),Ut=tn(zt,G?ne:V),Nt=gn(Le.cameraToCenterDistance,Ut.signedDistanceFromCamera),$t=ye.evaluateSizeForFeature(j.textSizeData,_e,lt)*Nt/u.ONE_EM;G&&($t*=j.tilePixelRatio/ce);for(var an=Du(wt.anchor,wt.width,wt.height,wt.textOffset,wt.textBoxScale,$t),en=G?tn(zt.add(an),V).point:Ut.point.add(q?an.rotate(-Le.angle):an),Dn=j.allowVerticalPlacement&&lt.placedOrientation===u.WritingMode.vertical?Math.PI/2:0,In=0;In<lt.numGlyphs;In++)u.addDynamicAttributes(We,en,Dn);Ae&&lt.associatedIconIndex>=0&&(Je[lt.associatedIconIndex]={shiftedAnchor:en,angle:Dn})}else pr(lt.numGlyphs,We)}if(Ae){Ye.clear();for(var Kn=j.icon.placedSymbolArray,Yn=0;Yn<Kn.length;Yn++){var ir=Kn.get(Yn);if(ir.hidden)pr(ir.numGlyphs,Ye);else{var dr=Je[Yn];if(dr)for(var yr=0;yr<ir.numGlyphs;yr++)u.addDynamicAttributes(Ye,dr.shiftedAnchor,dr.angle);else pr(ir.numGlyphs,Ye)}}j.icon.dynamicLayoutVertexBuffer.updateData(Ye)}j.text.dynamicLayoutVertexBuffer.updateData(We)}function Rl(j,q,G){return G.iconsInText&&q?"symbolTextAndIcon":j?"symbolSDF":"symbolIcon"}function Ea(j,q,G,ee,ye,Le,V,ne,ce,_e,Ae,Fe){for(var We=j.context,Ye=We.gl,Je=j.transform,tt="map"===ne,lt="map"===ce,yt=tt&&"point"!==G.layout.get("symbol-placement"),wt=tt&&!lt&&!yt,zt=void 0!==G.layout.get("symbol-sort-key").constantOr(1),Ut=j.depthModeForSublayer(0,Ht.ReadOnly),Nt=G.layout.get("text-variable-anchor"),$t=[],Bt=0,pn=ee;Bt<pn.length;Bt+=1){var an=pn[Bt],en=q.getTile(an),Dn=en.getBucket(G);if(Dn){var In=ye?Dn.text:Dn.icon;if(In&&In.segments.get().length){var Kn=In.programConfigurations.get(G.id),Yn=ye||Dn.sdfIcons,ir=ye?Dn.textSizeData:Dn.iconSizeData,dr=lt||0!==Je.pitch,yr=j.useProgram(Rl(Yn,ye,Dn),Kn),kr=u.evaluateSizeForZoom(ir,Je.zoom),Cr=void 0,Lr=[0,0],ni=void 0,Qn=void 0,wr=null,Er=void 0;if(ye)ni=en.glyphAtlasTexture,Qn=Ye.LINEAR,Cr=en.glyphAtlasTexture.size,Dn.iconsInText&&(Lr=en.imageAtlasTexture.size,wr=en.imageAtlasTexture,Er=dr||j.options.rotating||j.options.zooming||"composite"===ir.kind||"camera"===ir.kind?Ye.LINEAR:Ye.NEAREST);else{var Jr=1!==G.layout.get("icon-size").constantOr(0)||Dn.iconsNeedLinear;ni=en.imageAtlasTexture,Qn=Yn||j.options.rotating||j.options.zooming||Jr||dr?Ye.LINEAR:Ye.NEAREST,Cr=en.imageAtlasTexture.size}var ci=fr(en,1,j.transform.zoom),bi=Pn(an.posMatrix,lt,tt,j.transform,ci),Hi=Tn(an.posMatrix,lt,tt,j.transform,ci),po=Nt&&Dn.hasTextData(),uo="none"!==G.layout.get("icon-text-fit")&&po&&Dn.hasIconData();yt&&mn(Dn,an.posMatrix,j,ye,bi,Hi,lt,_e);var Gi=j.translatePosMatrix(an.posMatrix,en,Le,V),Mo=yt||ye&&Nt||uo?rc:bi,Ko=j.translatePosMatrix(Hi,en,Le,V,!0),Wr=Yn&&0!==G.paint.get(ye?"text-halo-width":"icon-halo-width").constantOr(1),Bo={program:yr,buffers:In,uniformValues:Yn?Dn.iconsInText?Ol(ir.kind,kr,wt,lt,j,Gi,Mo,Ko,Cr,Lr):qa(ir.kind,kr,wt,lt,j,Gi,Mo,Ko,ye,Cr,!0):Ki(ir.kind,kr,wt,lt,j,Gi,Mo,Ko,ye,Cr),atlasTexture:ni,atlasTextureIcon:wr,atlasInterpolation:Qn,atlasInterpolationIcon:Er,isSDF:Yn,hasHalo:Wr};if(zt)for(var qi=0,ki=In.segments.get();qi<ki.length;qi+=1){var go=ki[qi];$t.push({segments:new u.SegmentVector([go]),sortKey:go.sortKey,state:Bo})}else $t.push({segments:In.segments,sortKey:0,state:Bo})}}}zt&&$t.sort(function(bl,za){return bl.sortKey-za.sortKey});for(var io=0,mo=$t;io<mo.length;io+=1){var Yo=mo[io],Ao=Yo.state;if(We.activeTexture.set(Ye.TEXTURE0),Ao.atlasTexture.bind(Ao.atlasInterpolation,Ye.CLAMP_TO_EDGE),Ao.atlasTextureIcon&&(We.activeTexture.set(Ye.TEXTURE1),Ao.atlasTextureIcon&&Ao.atlasTextureIcon.bind(Ao.atlasInterpolationIcon,Ye.CLAMP_TO_EDGE)),Ao.isSDF){var $i=Ao.uniformValues;Ao.hasHalo&&($i.u_is_halo=1,tl(Ao.buffers,Yo.segments,G,j,Ao.program,Ut,Ae,Fe,$i)),$i.u_is_halo=0}tl(Ao.buffers,Yo.segments,G,j,Ao.program,Ut,Ae,Fe,Ao.uniformValues)}}function tl(j,q,G,ee,ye,Le,V,ne,ce){var _e=ee.context;ye.draw(_e,_e.gl.TRIANGLES,Le,V,ne,Xe.disabled,ce,G.id,j.layoutVertexBuffer,j.indexBuffer,q,G.paint,ee.transform.zoom,j.programConfigurations.get(G.id),j.dynamicLayoutVertexBuffer,j.opacityVertexBuffer)}function Ss(j,q,G,ee,ye,Le,V){var ne,ce,_e,Ae,Fe,We=j.context.gl,Ye=G.paint.get("fill-pattern"),Je=Ye&&Ye.constantOr(1),tt=G.getCrossfadeParameters();V?(ce=Je&&!G.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ne=We.LINES):(ce=Je?"fillPattern":"fill",ne=We.TRIANGLES);for(var lt=0,yt=ee;lt<yt.length;lt+=1){var wt=yt[lt],zt=q.getTile(wt);if(!Je||zt.patternsLoaded()){var Ut=zt.getBucket(G);if(Ut){var Nt=Ut.programConfigurations.get(G.id),$t=j.useProgram(ce,Nt);Je&&(j.context.activeTexture.set(We.TEXTURE0),zt.imageAtlasTexture.bind(We.LINEAR,We.CLAMP_TO_EDGE),Nt.updatePaintBuffers(tt));var Bt=Ye.constantOr(null);if(Bt&&zt.imageAtlas){var pn=zt.imageAtlas,an=pn.patternPositions[Bt.to.toString()],en=pn.patternPositions[Bt.from.toString()];an&&en&&Nt.setConstantPatternPositions(an,en)}var Dn=j.translatePosMatrix(wt.posMatrix,zt,G.paint.get("fill-translate"),G.paint.get("fill-translate-anchor"));if(V){Ae=Ut.indexBuffer2,Fe=Ut.segments2;var In=[We.drawingBufferWidth,We.drawingBufferHeight];_e="fillOutlinePattern"===ce&&Je?qr(Dn,j,tt,zt,In):Eu(Dn,In)}else Ae=Ut.indexBuffer,Fe=Ut.segments,_e=Je?ti(Dn,j,tt,zt):Bs(Dn);$t.draw(j.context,ne,ye,j.stencilModeForClipping(wt),Le,Xe.disabled,_e,G.id,Ut.layoutVertexBuffer,Ae,Fe,G.paint,j.transform.zoom,Nt)}}}}function nl(j,q,G,ee,ye,Le,V){for(var ne=j.context,ce=ne.gl,_e=G.paint.get("fill-extrusion-pattern"),Ae=_e.constantOr(1),Fe=G.getCrossfadeParameters(),We=G.paint.get("fill-extrusion-opacity"),Ye=0,Je=ee;Ye<Je.length;Ye+=1){var tt=Je[Ye],lt=q.getTile(tt),yt=lt.getBucket(G);if(yt){var wt=yt.programConfigurations.get(G.id),zt=j.useProgram(Ae?"fillExtrusionPattern":"fillExtrusion",wt);Ae&&(j.context.activeTexture.set(ce.TEXTURE0),lt.imageAtlasTexture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),wt.updatePaintBuffers(Fe));var Ut=_e.constantOr(null);if(Ut&&lt.imageAtlas){var Nt=lt.imageAtlas,$t=Nt.patternPositions[Ut.to.toString()],Bt=Nt.patternPositions[Ut.from.toString()];$t&&Bt&&wt.setConstantPatternPositions($t,Bt)}var pn=j.translatePosMatrix(tt.posMatrix,lt,G.paint.get("fill-extrusion-translate"),G.paint.get("fill-extrusion-translate-anchor")),an=G.paint.get("fill-extrusion-vertical-gradient"),en=Ae?_a(pn,j,an,We,tt,Fe,lt):el(pn,j,an,We);zt.draw(ne,ne.gl.TRIANGLES,ye,Le,V,Xe.backCCW,en,G.id,yt.layoutVertexBuffer,yt.indexBuffer,yt.segments,G.paint,j.transform.zoom,wt)}}}function Vs(j,q,G,ee,ye,Le){var V=j.context,ne=V.gl,ce=q.fbo;if(ce){var _e=j.useProgram("hillshade");V.activeTexture.set(ne.TEXTURE0),ne.bindTexture(ne.TEXTURE_2D,ce.colorAttachment.get());var Ae=function(j,q,G){var ee=G.paint.get("hillshade-shadow-color"),ye=G.paint.get("hillshade-highlight-color"),Le=G.paint.get("hillshade-accent-color"),V=G.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===G.paint.get("hillshade-illumination-anchor")&&(V-=j.transform.angle);var ne,ce,_e,Ae=!j.options.moving;return{u_matrix:j.transform.calculatePosMatrix(q.tileID.toUnwrapped(),Ae),u_image:0,u_latrange:(ne=q.tileID,ce=Math.pow(2,ne.canonical.z),_e=ne.canonical.y,[new u.MercatorCoordinate(0,_e/ce).toLngLat().lat,new u.MercatorCoordinate(0,(_e+1)/ce).toLngLat().lat]),u_light:[G.paint.get("hillshade-exaggeration"),V],u_shadow:ee,u_highlight:ye,u_accent:Le}}(j,q,G);_e.draw(V,ne.TRIANGLES,ee,ye,Le,Xe.disabled,Ae,G.id,j.rasterBoundsBuffer,j.quadTriangleIndexBuffer,j.rasterBoundsSegments)}}function mu(j,q,G,ee,ye,Le,V){var ne=j.context,ce=ne.gl,_e=q.dem;if(_e&&_e.data){var Ae=_e.dim,Fe=_e.stride,We=_e.getPixels();if(ne.activeTexture.set(ce.TEXTURE1),ne.pixelStoreUnpackPremultiplyAlpha.set(!1),q.demTexture=q.demTexture||j.getTileTexture(Fe),q.demTexture){var Ye=q.demTexture;Ye.update(We,{premultiply:!1}),Ye.bind(ce.NEAREST,ce.CLAMP_TO_EDGE)}else q.demTexture=new u.Texture(ne,We,ce.RGBA,{premultiply:!1}),q.demTexture.bind(ce.NEAREST,ce.CLAMP_TO_EDGE);ne.activeTexture.set(ce.TEXTURE0);var Je=q.fbo;if(!Je){var tt=new u.Texture(ne,{width:Ae,height:Ae,data:null},ce.RGBA);tt.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),(Je=q.fbo=ne.createFramebuffer(Ae,Ae,!0)).colorAttachment.set(tt.texture)}ne.bindFramebuffer.set(Je.framebuffer),ne.viewport.set([0,0,Ae,Ae]),j.useProgram("hillshadePrepare").draw(ne,ce.TRIANGLES,ye,Le,V,Xe.disabled,function(j,q,G){var ee=q.stride,ye=u.create();return u.ortho(ye,0,u.EXTENT,-u.EXTENT,0,0,1),u.translate(ye,ye,[0,-u.EXTENT,0]),{u_matrix:ye,u_image:1,u_dimension:[ee,ee],u_zoom:j.overscaledZ,u_maxzoom:G,u_unpack:q.getUnpackVector()}}(q.tileID,_e,ee),G.id,j.rasterBoundsBuffer,j.quadTriangleIndexBuffer,j.rasterBoundsSegments),q.needsHillshadePrepare=!1}}function ps(j,q,G,ee,ye){var Le=ee.paint.get("raster-fade-duration");if(Le>0){var V=u.browser.now(),ne=(V-j.timeAdded)/Le,ce=q?(V-q.timeAdded)/Le:-1,_e=G.getSource(),Ae=ye.coveringZoomLevel({tileSize:_e.tileSize,roundZoom:_e.roundZoom}),Fe=!q||Math.abs(q.tileID.overscaledZ-Ae)>Math.abs(j.tileID.overscaledZ-Ae),We=Fe&&j.refreshedUponExpiration?1:u.clamp(Fe?ne:1-ce,0,1);return j.refreshedUponExpiration&&ne>=1&&(j.refreshedUponExpiration=!1),q?{opacity:1,mix:1-We}:{opacity:We,mix:0}}return{opacity:1,mix:0}}var Iu=new u.Color(1,0,0,1),ic=new u.Color(0,1,0,1),vu=new u.Color(0,0,1,1),rl=new u.Color(1,0,1,1),Es=new u.Color(0,1,1,1);function Lu(j,q,G,ee){oa(j,0,q+G/2,j.transform.width,G,ee)}function Fl(j,q,G,ee){oa(j,q-G/2,0,G,j.transform.height,ee)}function oa(j,q,G,ee,ye,Le){var V=j.context,ne=V.gl;ne.enable(ne.SCISSOR_TEST),ne.scissor(q*u.browser.devicePixelRatio,G*u.browser.devicePixelRatio,ee*u.browser.devicePixelRatio,ye*u.browser.devicePixelRatio),V.clear({color:Le}),ne.disable(ne.SCISSOR_TEST)}function Ql(j,q,G){var ee=j.context,ye=ee.gl,Le=G.posMatrix,V=j.useProgram("debug"),ne=Ht.disabled,ce=nt.disabled,_e=j.colorModeForRenderPass();ee.activeTexture.set(ye.TEXTURE0),j.emptyTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),V.draw(ee,ye.LINE_STRIP,ne,ce,_e,Xe.disabled,Cu(Le,u.Color.red),"$debug",j.debugBuffer,j.tileBorderIndexBuffer,j.debugSegments);var Fe=q.getTileByID(G.key).latestRawTileData,Ye=Math.floor((Fe&&Fe.byteLength||0)/1024),Je=q.getTile(G).tileSize,tt=512/Math.min(Je,512)*(G.overscaledZ/j.transform.zoom)*.5,lt=G.canonical.toString();G.overscaledZ!==G.canonical.z&&(lt+=" => "+G.overscaledZ),function(yt,wt){yt.initDebugOverlayCanvas();var zt=yt.debugOverlayCanvas,Ut=yt.context.gl,Nt=yt.debugOverlayCanvas.getContext("2d");Nt.clearRect(0,0,zt.width,zt.height),Nt.shadowColor="white",Nt.shadowBlur=2,Nt.lineWidth=1.5,Nt.strokeStyle="white",Nt.textBaseline="top",Nt.font="bold 36px Open Sans, sans-serif",Nt.fillText(wt,5,5),Nt.strokeText(wt,5,5),yt.debugOverlayTexture.update(zt),yt.debugOverlayTexture.bind(Ut.LINEAR,Ut.CLAMP_TO_EDGE)}(j,lt+" "+Ye+"kb"),V.draw(ee,ye.TRIANGLES,ne,ce,it.alphaBlended,Xe.disabled,Cu(Le,u.Color.transparent,tt),"$debug",j.debugBuffer,j.quadTriangleIndexBuffer,j.debugSegments)}var pl={symbol:function(j,q,G,ee,ye){if("translucent"===j.renderPass){var Le=nt.disabled,V=j.colorModeForRenderPass();G.layout.get("text-variable-anchor")&&function(ne,ce,_e,Ae,Fe,We,Ye){for(var Je=ce.transform,tt="map"===Fe,lt="map"===We,yt=0,wt=ne;yt<wt.length;yt+=1){var zt=wt[yt],Ut=Ae.getTile(zt),Nt=Ut.getBucket(_e);if(Nt&&Nt.text&&Nt.text.segments.get().length){var Bt=u.evaluateSizeForZoom(Nt.textSizeData,Je.zoom),pn=fr(Ut,1,ce.transform.zoom),an=Pn(zt.posMatrix,lt,tt,ce.transform,pn),en="none"!==_e.layout.get("icon-text-fit")&&Nt.hasIconData();if(Bt){var Dn=Math.pow(2,Je.zoom-Ut.tileID.overscaledZ);Jl(Nt,tt,lt,Ye,u.symbolSize,Je,an,zt.posMatrix,Dn,Bt,en)}}}}(ee,j,G,q,G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),ye),0!==G.paint.get("icon-opacity").constantOr(1)&&Ea(j,q,G,ee,!1,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),G.layout.get("icon-rotation-alignment"),G.layout.get("icon-pitch-alignment"),G.layout.get("icon-keep-upright"),Le,V),0!==G.paint.get("text-opacity").constantOr(1)&&Ea(j,q,G,ee,!0,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),G.layout.get("text-keep-upright"),Le,V),q.map.showCollisionBoxes&&(Kl(j,q,G,ee,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),!0),Kl(j,q,G,ee,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),!1))}},circle:function(j,q,G,ee){if("translucent"===j.renderPass){var ye=G.paint.get("circle-opacity"),Le=G.paint.get("circle-stroke-width"),V=G.paint.get("circle-stroke-opacity"),ne=void 0!==G.layout.get("circle-sort-key").constantOr(1);if(0!==ye.constantOr(1)||0!==Le.constantOr(1)&&0!==V.constantOr(1)){for(var ce=j.context,_e=ce.gl,Ae=j.depthModeForSublayer(0,Ht.ReadOnly),Fe=nt.disabled,We=j.colorModeForRenderPass(),Ye=[],Je=0;Je<ee.length;Je++){var tt=ee[Je],lt=q.getTile(tt),yt=lt.getBucket(G);if(yt){var wt=yt.programConfigurations.get(G.id),zt={programConfiguration:wt,program:j.useProgram("circle",wt),layoutVertexBuffer:yt.layoutVertexBuffer,indexBuffer:yt.indexBuffer,uniformValues:$l(j,tt,lt,G)};if(ne)for(var Ut=0,Nt=yt.segments.get();Ut<Nt.length;Ut+=1){var $t=Nt[Ut];Ye.push({segments:new u.SegmentVector([$t]),sortKey:$t.sortKey,state:zt})}else Ye.push({segments:yt.segments,sortKey:0,state:zt})}}ne&&Ye.sort(function(yr,kr){return yr.sortKey-kr.sortKey});for(var Bt=0,pn=Ye;Bt<pn.length;Bt+=1){var an=pn[Bt],en=an.state;en.program.draw(ce,_e.TRIANGLES,Ae,Fe,We,Xe.disabled,en.uniformValues,G.id,en.layoutVertexBuffer,en.indexBuffer,an.segments,G.paint,j.transform.zoom,en.programConfiguration)}}}},heatmap:function(j,q,G,ee){if(0!==G.paint.get("heatmap-opacity"))if("offscreen"===j.renderPass){var ye=j.context,Le=ye.gl,V=nt.disabled,ne=new it([Le.ONE,Le.ONE],u.Color.transparent,[!0,!0,!0,!0]);(function(tt,lt,yt){var wt=tt.gl;tt.activeTexture.set(wt.TEXTURE1),tt.viewport.set([0,0,lt.width/4,lt.height/4]);var Nt,$t,Bt,pn,an,zt=yt.heatmapFbo;if(zt)wt.bindTexture(wt.TEXTURE_2D,zt.colorAttachment.get()),tt.bindFramebuffer.set(zt.framebuffer);else{var Ut=wt.createTexture();wt.bindTexture(wt.TEXTURE_2D,Ut),wt.texParameteri(wt.TEXTURE_2D,wt.TEXTURE_WRAP_S,wt.CLAMP_TO_EDGE),wt.texParameteri(wt.TEXTURE_2D,wt.TEXTURE_WRAP_T,wt.CLAMP_TO_EDGE),wt.texParameteri(wt.TEXTURE_2D,wt.TEXTURE_MIN_FILTER,wt.LINEAR),wt.texParameteri(wt.TEXTURE_2D,wt.TEXTURE_MAG_FILTER,wt.LINEAR),Bt=Ut,pn=zt=yt.heatmapFbo=tt.createFramebuffer(lt.width/4,lt.height/4,!1),(an=(Nt=tt).gl).texImage2D(an.TEXTURE_2D,0,an.RGBA,($t=lt).width/4,$t.height/4,0,an.RGBA,Nt.extRenderToTextureHalfFloat?Nt.extTextureHalfFloat.HALF_FLOAT_OES:an.UNSIGNED_BYTE,null),pn.colorAttachment.set(Bt)}})(ye,j,G),ye.clear({color:u.Color.transparent});for(var ce=0;ce<ee.length;ce++){var _e=ee[ce];if(!q.hasRenderableParent(_e)){var Ae=q.getTile(_e),Fe=Ae.getBucket(G);if(Fe){var We=Fe.programConfigurations.get(G.id);j.useProgram("heatmap",We).draw(ye,Le.TRIANGLES,Ht.disabled,V,ne,Xe.disabled,Il(_e.posMatrix,Ae,j.transform.zoom,G.paint.get("heatmap-intensity")),G.id,Fe.layoutVertexBuffer,Fe.indexBuffer,Fe.segments,G.paint,j.transform.zoom,We)}}}ye.viewport.set([0,0,j.width,j.height])}else"translucent"===j.renderPass&&(j.context.setColorMode(j.colorModeForRenderPass()),function(tt,lt){var yt=tt.context,wt=yt.gl,zt=lt.heatmapFbo;if(zt){yt.activeTexture.set(wt.TEXTURE0),wt.bindTexture(wt.TEXTURE_2D,zt.colorAttachment.get()),yt.activeTexture.set(wt.TEXTURE1);var Ut=lt.colorRampTexture;Ut||(Ut=lt.colorRampTexture=new u.Texture(yt,lt.colorRamp,wt.RGBA)),Ut.bind(wt.LINEAR,wt.CLAMP_TO_EDGE),tt.useProgram("heatmapTexture").draw(yt,wt.TRIANGLES,Ht.disabled,nt.disabled,tt.colorModeForRenderPass(),Xe.disabled,function(j,q,G,ee){var ye=u.create();u.ortho(ye,0,j.width,j.height,0,0,1);var Le=j.context.gl;return{u_matrix:ye,u_world:[Le.drawingBufferWidth,Le.drawingBufferHeight],u_image:G,u_color_ramp:ee,u_opacity:q.paint.get("heatmap-opacity")}}(tt,lt,0,1),lt.id,tt.viewportBuffer,tt.quadTriangleIndexBuffer,tt.viewportSegments,lt.paint,tt.transform.zoom)}}(j,G))},line:function(j,q,G,ee){if("translucent"===j.renderPass){var ye=G.paint.get("line-opacity"),Le=G.paint.get("line-width");if(0!==ye.constantOr(1)&&0!==Le.constantOr(1)){var V=j.depthModeForSublayer(0,Ht.ReadOnly),ne=j.colorModeForRenderPass(),ce=G.paint.get("line-dasharray"),_e=G.paint.get("line-pattern"),Ae=_e.constantOr(1),Fe=G.paint.get("line-gradient"),We=G.getCrossfadeParameters(),Ye=Ae?"linePattern":ce?"lineSDF":Fe?"lineGradient":"line",Je=j.context,tt=Je.gl,lt=!0;if(Fe){Je.activeTexture.set(tt.TEXTURE0);var yt=G.gradientTexture;if(!G.gradient)return;yt||(yt=G.gradientTexture=new u.Texture(Je,G.gradient,tt.RGBA)),yt.bind(tt.LINEAR,tt.CLAMP_TO_EDGE)}for(var wt=0,zt=ee;wt<zt.length;wt+=1){var Ut=zt[wt],Nt=q.getTile(Ut);if(!Ae||Nt.patternsLoaded()){var $t=Nt.getBucket(G);if($t){var Bt=$t.programConfigurations.get(G.id),pn=j.context.program.get(),an=j.useProgram(Ye,Bt),en=lt||an.program!==pn,Dn=_e.constantOr(null);if(Dn&&Nt.imageAtlas){var In=Nt.imageAtlas,Kn=In.patternPositions[Dn.to.toString()],Yn=In.patternPositions[Dn.from.toString()];Kn&&Yn&&Bt.setConstantPatternPositions(Kn,Yn)}var ir=Ae?Ll(j,Nt,G,We):ce?Pa(j,Nt,G,ce,We):Fe?Fi(j,Nt,G):Ga(j,Nt,G);Ae?(Je.activeTexture.set(tt.TEXTURE0),Nt.imageAtlasTexture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE),Bt.updatePaintBuffers(We)):ce&&(en||j.lineAtlas.dirty)&&(Je.activeTexture.set(tt.TEXTURE0),j.lineAtlas.bind(Je)),an.draw(Je,tt.TRIANGLES,V,j.stencilModeForClipping(Ut),ne,Xe.disabled,ir,G.id,$t.layoutVertexBuffer,$t.indexBuffer,$t.segments,G.paint,j.transform.zoom,Bt),lt=!1}}}}}},fill:function(j,q,G,ee){var ye=G.paint.get("fill-color"),Le=G.paint.get("fill-opacity");if(0!==Le.constantOr(1)){var V=j.colorModeForRenderPass(),ne=G.paint.get("fill-pattern"),ce=j.opaquePassEnabledForLayer()&&!ne.constantOr(1)&&1===ye.constantOr(u.Color.transparent).a&&1===Le.constantOr(0)?"opaque":"translucent";if(j.renderPass===ce){var _e=j.depthModeForSublayer(1,"opaque"===j.renderPass?Ht.ReadWrite:Ht.ReadOnly);Ss(j,q,G,ee,_e,V,!1)}if("translucent"===j.renderPass&&G.paint.get("fill-antialias")){var Ae=j.depthModeForSublayer(G.getPaintProperty("fill-outline-color")?2:0,Ht.ReadOnly);Ss(j,q,G,ee,Ae,V,!0)}}},"fill-extrusion":function(j,q,G,ee){var ye=G.paint.get("fill-extrusion-opacity");if(0!==ye&&"translucent"===j.renderPass){var Le=new Ht(j.context.gl.LEQUAL,Ht.ReadWrite,j.depthRangeFor3D);if(1!==ye||G.paint.get("fill-extrusion-pattern").constantOr(1))nl(j,q,G,ee,Le,nt.disabled,it.disabled),nl(j,q,G,ee,Le,j.stencilModeFor3D(),j.colorModeForRenderPass());else{var V=j.colorModeForRenderPass();nl(j,q,G,ee,Le,nt.disabled,V)}}},hillshade:function(j,q,G,ee){if("offscreen"===j.renderPass||"translucent"===j.renderPass){for(var ye=j.context,Le=q.getSource().maxzoom,V=j.depthModeForSublayer(0,Ht.ReadOnly),ne=j.colorModeForRenderPass(),ce="translucent"===j.renderPass?j.stencilConfigForOverlap(ee):[{},ee],_e=ce[0],Ae=0,Fe=ce[1];Ae<Fe.length;Ae+=1){var We=Fe[Ae],Ye=q.getTile(We);Ye.needsHillshadePrepare&&"offscreen"===j.renderPass?mu(j,Ye,G,Le,V,nt.disabled,ne):"translucent"===j.renderPass&&Vs(j,Ye,G,V,_e[We.overscaledZ],ne)}ye.viewport.set([0,0,j.width,j.height])}},raster:function(j,q,G,ee){if("translucent"===j.renderPass&&0!==G.paint.get("raster-opacity")&&ee.length)for(var ye=j.context,Le=ye.gl,V=q.getSource(),ne=j.useProgram("raster"),ce=j.colorModeForRenderPass(),_e=V instanceof U?[{},ee]:j.stencilConfigForOverlap(ee),Ae=_e[0],Fe=_e[1],We=Fe[Fe.length-1].overscaledZ,Ye=!j.options.moving,Je=0,tt=Fe;Je<tt.length;Je+=1){var lt=tt[Je],yt=j.depthModeForSublayer(lt.overscaledZ-We,1===G.paint.get("raster-opacity")?Ht.ReadWrite:Ht.ReadOnly,Le.LESS),wt=q.getTile(lt),zt=j.transform.calculatePosMatrix(lt.toUnwrapped(),Ye);wt.registerFadeDuration(G.paint.get("raster-fade-duration"));var Ut=q.findLoadedParent(lt,0),Nt=ps(wt,Ut,q,G,j.transform),$t=void 0,Bt=void 0,pn="nearest"===G.paint.get("raster-resampling")?Le.NEAREST:Le.LINEAR;ye.activeTexture.set(Le.TEXTURE0),wt.texture.bind(pn,Le.CLAMP_TO_EDGE,Le.LINEAR_MIPMAP_NEAREST),ye.activeTexture.set(Le.TEXTURE1),Ut?(Ut.texture.bind(pn,Le.CLAMP_TO_EDGE,Le.LINEAR_MIPMAP_NEAREST),$t=Math.pow(2,Ut.tileID.overscaledZ-wt.tileID.overscaledZ),Bt=[wt.tileID.canonical.x*$t%1,wt.tileID.canonical.y*$t%1]):wt.texture.bind(pn,Le.CLAMP_TO_EDGE,Le.LINEAR_MIPMAP_NEAREST);var an=ia(zt,Bt||[0,0],$t||1,Nt,G);V instanceof U?ne.draw(ye,Le.TRIANGLES,yt,nt.disabled,ce,Xe.disabled,an,G.id,V.boundsBuffer,j.quadTriangleIndexBuffer,V.boundsSegments):ne.draw(ye,Le.TRIANGLES,yt,Ae[lt.overscaledZ],ce,Xe.disabled,an,G.id,j.rasterBoundsBuffer,j.quadTriangleIndexBuffer,j.rasterBoundsSegments)}},background:function(j,q,G){var ee=G.paint.get("background-color"),ye=G.paint.get("background-opacity");if(0!==ye){var Le=j.context,V=Le.gl,ne=j.transform,ce=ne.tileSize,_e=G.paint.get("background-pattern");if(!j.isPatternMissing(_e)){var Ae=!_e&&1===ee.a&&1===ye&&j.opaquePassEnabledForLayer()?"opaque":"translucent";if(j.renderPass===Ae){var Fe=nt.disabled,We=j.depthModeForSublayer(0,"opaque"===Ae?Ht.ReadWrite:Ht.ReadOnly),Ye=j.colorModeForRenderPass(),Je=j.useProgram(_e?"backgroundPattern":"background"),tt=ne.coveringTiles({tileSize:ce});_e&&(Le.activeTexture.set(V.TEXTURE0),j.imageManager.bind(j.context));for(var lt=G.getCrossfadeParameters(),yt=0,wt=tt;yt<wt.length;yt+=1){var zt=wt[yt],Ut=j.transform.calculatePosMatrix(zt.toUnwrapped()),Nt=_e?ds(Ut,ye,j,_e,{tileID:zt,tileSize:ce},lt):Wa(Ut,ye,ee);Je.draw(Le,V.TRIANGLES,We,Fe,Ye,Xe.disabled,Nt,G.id,j.tileExtentBuffer,j.quadTriangleIndexBuffer,j.tileExtentSegments)}}}}},debug:function(j,q,G){for(var ee=0;ee<G.length;ee++)Ql(j,q,G[ee])},custom:function(j,q,G){var ee=j.context,ye=G.implementation;if("offscreen"===j.renderPass){var Le=ye.prerender;Le&&(j.setCustomLayerDefaults(),ee.setColorMode(j.colorModeForRenderPass()),Le.call(ye,ee.gl,j.transform.customLayerMatrix()),ee.setDirty(),j.setBaseState())}else if("translucent"===j.renderPass){j.setCustomLayerDefaults(),ee.setColorMode(j.colorModeForRenderPass()),ee.setStencilMode(nt.disabled);var V="3d"===ye.renderingMode?new Ht(j.context.gl.LEQUAL,Ht.ReadWrite,j.depthRangeFor3D):j.depthModeForSublayer(0,Ht.ReadOnly);ee.setDepthMode(V),ye.render(ee.gl,j.transform.customLayerMatrix()),ee.setDirty(),j.setBaseState(),ee.bindFramebuffer.set(null)}}},yi=function(j,q){this.context=new rt(j),this.transform=q,this._tileTextures={},this.setup(),this.numSublayers=ft.maxUnderzooming+ft.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new rr,this.gpuTimers={}};yi.prototype.resize=function(j,q){if(this.width=j*u.browser.devicePixelRatio,this.height=q*u.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var G=0,ee=this.style._order;G<ee.length;G+=1)this.style._layers[ee[G]].resize()},yi.prototype.setup=function(){var j=this.context,q=new u.StructArrayLayout2i4;q.emplaceBack(0,0),q.emplaceBack(u.EXTENT,0),q.emplaceBack(0,u.EXTENT),q.emplaceBack(u.EXTENT,u.EXTENT),this.tileExtentBuffer=j.createVertexBuffer(q,Mr.members),this.tileExtentSegments=u.SegmentVector.simpleSegment(0,0,4,2);var G=new u.StructArrayLayout2i4;G.emplaceBack(0,0),G.emplaceBack(u.EXTENT,0),G.emplaceBack(0,u.EXTENT),G.emplaceBack(u.EXTENT,u.EXTENT),this.debugBuffer=j.createVertexBuffer(G,Mr.members),this.debugSegments=u.SegmentVector.simpleSegment(0,0,4,5);var ee=new u.StructArrayLayout4i8;ee.emplaceBack(0,0,0,0),ee.emplaceBack(u.EXTENT,0,u.EXTENT,0),ee.emplaceBack(0,u.EXTENT,0,u.EXTENT),ee.emplaceBack(u.EXTENT,u.EXTENT,u.EXTENT,u.EXTENT),this.rasterBoundsBuffer=j.createVertexBuffer(ee,H.members),this.rasterBoundsSegments=u.SegmentVector.simpleSegment(0,0,4,2);var ye=new u.StructArrayLayout2i4;ye.emplaceBack(0,0),ye.emplaceBack(1,0),ye.emplaceBack(0,1),ye.emplaceBack(1,1),this.viewportBuffer=j.createVertexBuffer(ye,Mr.members),this.viewportSegments=u.SegmentVector.simpleSegment(0,0,4,2);var Le=new u.StructArrayLayout1ui2;Le.emplaceBack(0),Le.emplaceBack(1),Le.emplaceBack(3),Le.emplaceBack(2),Le.emplaceBack(0),this.tileBorderIndexBuffer=j.createIndexBuffer(Le);var V=new u.StructArrayLayout3ui6;V.emplaceBack(0,1,2),V.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=j.createIndexBuffer(V),this.emptyTexture=new u.Texture(j,{width:1,height:1,data:new Uint8Array([0,0,0,0])},j.gl.RGBA);var ne=this.context.gl;this.stencilClearMode=new nt({func:ne.ALWAYS,mask:0},0,255,ne.ZERO,ne.ZERO,ne.ZERO)},yi.prototype.clearStencil=function(){var j=this.context,q=j.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var G=u.create();u.ortho(G,0,this.width,this.height,0,0,1),u.scale(G,G,[q.drawingBufferWidth,q.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(j,q.TRIANGLES,Ht.disabled,this.stencilClearMode,it.disabled,Xe.disabled,tc(G),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},yi.prototype._renderTileClippingMasks=function(j,q){if(this.currentStencilSource!==j.source&&j.isTileClipped()&&q&&q.length){this.currentStencilSource=j.source;var G=this.context,ee=G.gl;this.nextStencilID+q.length>256&&this.clearStencil(),G.setColorMode(it.disabled),G.setDepthMode(Ht.disabled);var ye=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Le=0,V=q;Le<V.length;Le+=1){var ne=V[Le],ce=this._tileClippingMaskIDs[ne.key]=this.nextStencilID++;ye.draw(G,ee.TRIANGLES,Ht.disabled,new nt({func:ee.ALWAYS,mask:0},ce,255,ee.KEEP,ee.KEEP,ee.REPLACE),it.disabled,Xe.disabled,tc(ne.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},yi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var j=this.nextStencilID++,q=this.context.gl;return new nt({func:q.NOTEQUAL,mask:255},j,255,q.KEEP,q.KEEP,q.REPLACE)},yi.prototype.stencilModeForClipping=function(j){var q=this.context.gl;return new nt({func:q.EQUAL,mask:255},this._tileClippingMaskIDs[j.key],0,q.KEEP,q.KEEP,q.REPLACE)},yi.prototype.stencilConfigForOverlap=function(j){var q,G=this.context.gl,ee=j.sort(function(ce,_e){return _e.overscaledZ-ce.overscaledZ}),ye=ee[ee.length-1].overscaledZ,Le=ee[0].overscaledZ-ye+1;if(Le>1){this.currentStencilSource=void 0,this.nextStencilID+Le>256&&this.clearStencil();for(var V={},ne=0;ne<Le;ne++)V[ne+ye]=new nt({func:G.GEQUAL,mask:255},ne+this.nextStencilID,255,G.KEEP,G.KEEP,G.REPLACE);return this.nextStencilID+=Le,[V,ee]}return[(q={},q[ye]=nt.disabled,q),ee]},yi.prototype.colorModeForRenderPass=function(){var j=this.context.gl;if(this._showOverdrawInspector){var q=.125;return new it([j.CONSTANT_COLOR,j.ONE],new u.Color(q,q,q,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?it.unblended:it.alphaBlended},yi.prototype.depthModeForSublayer=function(j,q,G){if(!this.opaquePassEnabledForLayer())return Ht.disabled;var ee=1-((1+this.currentLayer)*this.numSublayers+j)*this.depthEpsilon;return new Ht(G||this.context.gl.LEQUAL,q,[ee,ee])},yi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},yi.prototype.render=function(j,q){var G=this;this.style=j,this.options=q,this.lineAtlas=j.lineAtlas,this.imageManager=j.imageManager,this.glyphManager=j.glyphManager,this.symbolFadeChange=j.placement.symbolFadeChange(u.browser.now()),this.imageManager.beginFrame();var ee=this.style._order,ye=this.style.sourceCaches;for(var Le in ye){var V=ye[Le];V.used&&V.prepare(this.context)}var ne,ce,_e={},Ae={},Fe={};for(var We in ye){var Ye=ye[We];_e[We]=Ye.getVisibleCoordinates(),Ae[We]=_e[We].slice().reverse(),Fe[We]=Ye.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Je=0;Je<ee.length;Je++)if(this.style._layers[ee[Je]].is3D()){this.opaquePassCutoff=Je;break}this.renderPass="offscreen";for(var lt=0,yt=ee;lt<yt.length;lt+=1){var zt=this.style._layers[yt[lt]];if(zt.hasOffscreenPass()&&!zt.isHidden(this.transform.zoom)){var Ut=Ae[zt.source];("custom"===zt.type||Ut.length)&&this.renderLayer(this,ye[zt.source],zt,Ut)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:q.showOverdrawInspector?u.Color.black:u.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=q.showOverdrawInspector,this.depthRangeFor3D=[0,1-(j._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ee.length-1;this.currentLayer>=0;this.currentLayer--){var Nt=this.style._layers[ee[this.currentLayer]],$t=ye[Nt.source],Bt=_e[Nt.source];this._renderTileClippingMasks(Nt,Bt),this.renderLayer(this,$t,Nt,Bt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ee.length;this.currentLayer++){var pn=this.style._layers[ee[this.currentLayer]],an=ye[pn.source],en=("symbol"===pn.type?Fe:Ae)[pn.source];this._renderTileClippingMasks(pn,_e[pn.source]),this.renderLayer(this,an,pn,en)}this.options.showTileBoundaries&&(u.values(this.style._layers).forEach(function(Dn){Dn.source&&!Dn.isHidden(G.transform.zoom)&&(Dn.source!==(ce&&ce.id)&&(ce=G.style.sourceCaches[Dn.source]),(!ne||ne.getSource().maxzoom<ce.getSource().maxzoom)&&(ne=ce))}),ne&&pl.debug(this,ne,ne.getVisibleCoordinates())),this.options.showPadding&&function dl(j){var q=j.transform.padding;Lu(j,j.transform.height-(q.top||0),3,Iu),Lu(j,q.bottom||0,3,ic),Fl(j,q.left||0,3,vu),Fl(j,j.transform.width-(q.right||0),3,rl);var ee,ye,Le,V,G=j.transform.centerPoint;oa(ee=j,(ye=G.x)-1,(Le=j.transform.height-G.y)-10,2,20,V=Es),oa(ee,ye-10,Le-1,20,2,V)}(this),this.context.setDefault()},yi.prototype.renderLayer=function(j,q,G,ee){G.isHidden(this.transform.zoom)||("background"===G.type||"custom"===G.type||ee.length)&&(this.id=G.id,this.gpuTimingStart(G),pl[G.type](j,q,G,ee,this.style.placement.variableOffsets),this.gpuTimingEnd())},yi.prototype.gpuTimingStart=function(j){if(this.options.gpuTiming){var q=this.context.extTimerQuery,G=this.gpuTimers[j.id];G||(G=this.gpuTimers[j.id]={calls:0,cpuTime:0,query:q.createQueryEXT()}),G.calls++,q.beginQueryEXT(q.TIME_ELAPSED_EXT,G.query)}},yi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var j=this.context.extTimerQuery;j.endQueryEXT(j.TIME_ELAPSED_EXT)}},yi.prototype.collectGpuTimers=function(){var j=this.gpuTimers;return this.gpuTimers={},j},yi.prototype.queryGpuTimers=function(j){var q={};for(var G in j){var ee=j[G],ye=this.context.extTimerQuery,Le=ye.getQueryObjectEXT(ee.query,ye.QUERY_RESULT_EXT)/1e6;ye.deleteQueryEXT(ee.query),q[G]=Le}return q},yi.prototype.translatePosMatrix=function(j,q,G,ee,ye){if(!G[0]&&!G[1])return j;var Le=ye?"map"===ee?this.transform.angle:0:"viewport"===ee?-this.transform.angle:0;if(Le){var V=Math.sin(Le),ne=Math.cos(Le);G=[G[0]*ne-G[1]*V,G[0]*V+G[1]*ne]}var ce=[ye?G[0]:fr(q,G[0],this.transform.zoom),ye?G[1]:fr(q,G[1],this.transform.zoom),0],_e=new Float32Array(16);return u.translate(_e,j,ce),_e},yi.prototype.saveTileTexture=function(j){var q=this._tileTextures[j.size[0]];q?q.push(j):this._tileTextures[j.size[0]]=[j]},yi.prototype.getTileTexture=function(j){var q=this._tileTextures[j];return q&&q.length>0?q.pop():null},yi.prototype.isPatternMissing=function(j){if(!j)return!1;if(!j.from||!j.to)return!0;var q=this.imageManager.getPattern(j.from.toString()),G=this.imageManager.getPattern(j.to.toString());return!q||!G},yi.prototype.useProgram=function(j,q){this.cache=this.cache||{};var G=""+j+(q?q.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[G]||(this.cache[G]=new ks(this.context,As[j],q,nc[j],this._showOverdrawInspector)),this.cache[G]},yi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},yi.prototype.setBaseState=function(){var j=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(j.FUNC_ADD)},yi.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=u.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new u.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},yi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var No=function(j,q){this.points=j,this.planes=q};No.fromInvProjectionMatrix=function(j,q,G){var ee=Math.pow(2,G),ye=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(V){return u.transformMat4([],V,j)}).map(function(V){return u.scale$1([],V,1/V[3]/q*ee)}),Le=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(V){var ne=u.sub([],ye[V[0]],ye[V[1]]),ce=u.sub([],ye[V[2]],ye[V[1]]),_e=u.normalize([],u.cross([],ne,ce)),Ae=-u.dot(_e,ye[V[1]]);return _e.concat(Ae)});return new No(ye,Le)};var Ai=function(j,q){this.min=j,this.max=q,this.center=u.scale$2([],u.add([],this.min,this.max),.5)};Ai.prototype.quadrant=function(j){for(var q=[j%2==0,j<2],G=u.clone$2(this.min),ee=u.clone$2(this.max),ye=0;ye<q.length;ye++)G[ye]=q[ye]?this.min[ye]:this.center[ye],ee[ye]=q[ye]?this.center[ye]:this.max[ye];return ee[2]=this.max[2],new Ai(G,ee)},Ai.prototype.distanceX=function(j){return Math.max(Math.min(this.max[0],j[0]),this.min[0])-j[0]},Ai.prototype.distanceY=function(j){return Math.max(Math.min(this.max[1],j[1]),this.min[1])-j[1]},Ai.prototype.intersects=function(j){for(var q=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],G=!0,ee=0;ee<j.planes.length;ee++){for(var ye=j.planes[ee],Le=0,V=0;V<q.length;V++)Le+=u.dot$1(ye,q[V])>=0;if(0===Le)return 0;Le!==q.length&&(G=!1)}if(G)return 2;for(var ne=0;ne<3;ne++){for(var ce=Number.MAX_VALUE,_e=-Number.MAX_VALUE,Ae=0;Ae<j.points.length;Ae++){var Fe=j.points[Ae][ne]-this.min[ne];ce=Math.min(ce,Fe),_e=Math.max(_e,Fe)}if(_e<0||ce>this.max[ne]-this.min[ne])return 0}return 1};var Ni=function(j,q,G,ee){if(void 0===j&&(j=0),void 0===q&&(q=0),void 0===G&&(G=0),void 0===ee&&(ee=0),isNaN(j)||j<0||isNaN(q)||q<0||isNaN(G)||G<0||isNaN(ee)||ee<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=j,this.bottom=q,this.left=G,this.right=ee};Ni.prototype.interpolate=function(j,q,G){return null!=q.top&&null!=j.top&&(this.top=u.number(j.top,q.top,G)),null!=q.bottom&&null!=j.bottom&&(this.bottom=u.number(j.bottom,q.bottom,G)),null!=q.left&&null!=j.left&&(this.left=u.number(j.left,q.left,G)),null!=q.right&&null!=j.right&&(this.right=u.number(j.right,q.right,G)),this},Ni.prototype.getCenter=function(j,q){var G=u.clamp((this.left+j-this.right)/2,0,j),ee=u.clamp((this.top+q-this.bottom)/2,0,q);return new u.Point(G,ee)},Ni.prototype.equals=function(j){return this.top===j.top&&this.bottom===j.bottom&&this.left===j.left&&this.right===j.right},Ni.prototype.clone=function(){return new Ni(this.top,this.bottom,this.left,this.right)},Ni.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var fi=function(j,q,G,ee,ye){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===ye||ye,this._minZoom=j||0,this._maxZoom=q||22,this._minPitch=G??0,this._maxPitch=ee??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new u.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ni,this._posMatrixCache={},this._alignedPosMatrixCache={}},Si={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};fi.prototype.clone=function(){var j=new fi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return j.tileSize=this.tileSize,j.latRange=this.latRange,j.width=this.width,j.height=this.height,j._center=this._center,j.zoom=this.zoom,j.angle=this.angle,j._fov=this._fov,j._pitch=this._pitch,j._unmodified=this._unmodified,j._edgeInsets=this._edgeInsets.clone(),j._calcMatrices(),j},Si.minZoom.get=function(){return this._minZoom},Si.minZoom.set=function(j){this._minZoom!==j&&(this._minZoom=j,this.zoom=Math.max(this.zoom,j))},Si.maxZoom.get=function(){return this._maxZoom},Si.maxZoom.set=function(j){this._maxZoom!==j&&(this._maxZoom=j,this.zoom=Math.min(this.zoom,j))},Si.minPitch.get=function(){return this._minPitch},Si.minPitch.set=function(j){this._minPitch!==j&&(this._minPitch=j,this.pitch=Math.max(this.pitch,j))},Si.maxPitch.get=function(){return this._maxPitch},Si.maxPitch.set=function(j){this._maxPitch!==j&&(this._maxPitch=j,this.pitch=Math.min(this.pitch,j))},Si.renderWorldCopies.get=function(){return this._renderWorldCopies},Si.renderWorldCopies.set=function(j){void 0===j?j=!0:null===j&&(j=!1),this._renderWorldCopies=j},Si.worldSize.get=function(){return this.tileSize*this.scale},Si.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Si.size.get=function(){return new u.Point(this.width,this.height)},Si.bearing.get=function(){return-this.angle/Math.PI*180},Si.bearing.set=function(j){var q=-u.wrap(j,-180,180)*Math.PI/180;this.angle!==q&&(this._unmodified=!1,this.angle=q,this._calcMatrices(),this.rotationMatrix=u.create$2(),u.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Si.pitch.get=function(){return this._pitch/Math.PI*180},Si.pitch.set=function(j){var q=u.clamp(j,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==q&&(this._unmodified=!1,this._pitch=q,this._calcMatrices())},Si.fov.get=function(){return this._fov/Math.PI*180},Si.fov.set=function(j){j=Math.max(.01,Math.min(60,j)),this._fov!==j&&(this._unmodified=!1,this._fov=j/180*Math.PI,this._calcMatrices())},Si.zoom.get=function(){return this._zoom},Si.zoom.set=function(j){var q=Math.min(Math.max(j,this.minZoom),this.maxZoom);this._zoom!==q&&(this._unmodified=!1,this._zoom=q,this.scale=this.zoomScale(q),this.tileZoom=Math.floor(q),this.zoomFraction=q-this.tileZoom,this._constrain(),this._calcMatrices())},Si.center.get=function(){return this._center},Si.center.set=function(j){j.lat===this._center.lat&&j.lng===this._center.lng||(this._unmodified=!1,this._center=j,this._constrain(),this._calcMatrices())},Si.padding.get=function(){return this._edgeInsets.toJSON()},Si.padding.set=function(j){this._edgeInsets.equals(j)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,j,1),this._calcMatrices())},Si.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},fi.prototype.isPaddingEqual=function(j){return this._edgeInsets.equals(j)},fi.prototype.interpolatePadding=function(j,q,G){this._unmodified=!1,this._edgeInsets.interpolate(j,q,G),this._constrain(),this._calcMatrices()},fi.prototype.coveringZoomLevel=function(j){var q=(j.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/j.tileSize));return Math.max(0,q)},fi.prototype.getVisibleUnwrappedCoordinates=function(j){var q=[new u.UnwrappedTileID(0,j)];if(this._renderWorldCopies)for(var G=this.pointCoordinate(new u.Point(0,0)),ee=this.pointCoordinate(new u.Point(this.width,0)),ye=this.pointCoordinate(new u.Point(this.width,this.height)),Le=this.pointCoordinate(new u.Point(0,this.height)),V=Math.floor(Math.min(G.x,ee.x,ye.x,Le.x)),ne=Math.floor(Math.max(G.x,ee.x,ye.x,Le.x)),ce=V-1;ce<=ne+1;ce++)0!==ce&&q.push(new u.UnwrappedTileID(ce,j));return q},fi.prototype.coveringTiles=function(j){var q=this.coveringZoomLevel(j),G=q;if(void 0!==j.minzoom&&q<j.minzoom)return[];void 0!==j.maxzoom&&q>j.maxzoom&&(q=j.maxzoom);var ee=u.MercatorCoordinate.fromLngLat(this.center),ye=Math.pow(2,q),Le=[ye*ee.x,ye*ee.y,0],V=No.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,q),ne=j.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(ne=q);var ce=function(en){return{aabb:new Ai([en*ye,0,0],[(en+1)*ye,ye,0]),zoom:0,x:0,y:0,wrap:en,fullyVisible:!1}},_e=[],Ae=[],Fe=q,We=j.reparseOverscaled?G:q;if(this._renderWorldCopies)for(var Ye=1;Ye<=3;Ye++)_e.push(ce(-Ye)),_e.push(ce(Ye));for(_e.push(ce(0));_e.length>0;){var Je=_e.pop(),tt=Je.x,lt=Je.y,yt=Je.fullyVisible;if(!yt){var wt=Je.aabb.intersects(V);if(0===wt)continue;yt=2===wt}var zt=Je.aabb.distanceX(Le),Ut=Je.aabb.distanceY(Le),Nt=Math.max(Math.abs(zt),Math.abs(Ut));if(Je.zoom===Fe||Nt>3+(1<<Fe-Je.zoom)-2&&Je.zoom>=ne)Ae.push({tileID:new u.OverscaledTileID(Je.zoom===Fe?We:Je.zoom,Je.wrap,Je.zoom,tt,lt),distanceSq:u.sqrLen([Le[0]-.5-tt,Le[1]-.5-lt])});else for(var Bt=0;Bt<4;Bt++){var pn=(tt<<1)+Bt%2,an=(lt<<1)+(Bt>>1);_e.push({aabb:Je.aabb.quadrant(Bt),zoom:Je.zoom+1,x:pn,y:an,wrap:Je.wrap,fullyVisible:yt})}}return Ae.sort(function(en,Dn){return en.distanceSq-Dn.distanceSq}).map(function(en){return en.tileID})},fi.prototype.resize=function(j,q){this.width=j,this.height=q,this.pixelsToGLUnits=[2/j,-2/q],this._constrain(),this._calcMatrices()},Si.unmodified.get=function(){return this._unmodified},fi.prototype.zoomScale=function(j){return Math.pow(2,j)},fi.prototype.scaleZoom=function(j){return Math.log(j)/Math.LN2},fi.prototype.project=function(j){var q=u.clamp(j.lat,-this.maxValidLatitude,this.maxValidLatitude);return new u.Point(u.mercatorXfromLng(j.lng)*this.worldSize,u.mercatorYfromLat(q)*this.worldSize)},fi.prototype.unproject=function(j){return new u.MercatorCoordinate(j.x/this.worldSize,j.y/this.worldSize).toLngLat()},Si.point.get=function(){return this.project(this.center)},fi.prototype.setLocationAtPoint=function(j,q){var G=this.pointCoordinate(q),ee=this.pointCoordinate(this.centerPoint),ye=this.locationCoordinate(j),Le=new u.MercatorCoordinate(ye.x-(G.x-ee.x),ye.y-(G.y-ee.y));this.center=this.coordinateLocation(Le),this._renderWorldCopies&&(this.center=this.center.wrap())},fi.prototype.locationPoint=function(j){return this.coordinatePoint(this.locationCoordinate(j))},fi.prototype.pointLocation=function(j){return this.coordinateLocation(this.pointCoordinate(j))},fi.prototype.locationCoordinate=function(j){return u.MercatorCoordinate.fromLngLat(j)},fi.prototype.coordinateLocation=function(j){return j.toLngLat()},fi.prototype.pointCoordinate=function(j){var q=[j.x,j.y,0,1],G=[j.x,j.y,1,1];u.transformMat4(q,q,this.pixelMatrixInverse),u.transformMat4(G,G,this.pixelMatrixInverse);var ee=q[3],ye=G[3],ne=q[1]/ee,ce=G[1]/ye,_e=q[2]/ee,Ae=G[2]/ye,Fe=_e===Ae?0:(0-_e)/(Ae-_e);return new u.MercatorCoordinate(u.number(q[0]/ee,G[0]/ye,Fe)/this.worldSize,u.number(ne,ce,Fe)/this.worldSize)},fi.prototype.coordinatePoint=function(j){var q=[j.x*this.worldSize,j.y*this.worldSize,0,1];return u.transformMat4(q,q,this.pixelMatrix),new u.Point(q[0]/q[3],q[1]/q[3])},fi.prototype.getBounds=function(){return(new u.LngLatBounds).extend(this.pointLocation(new u.Point(0,0))).extend(this.pointLocation(new u.Point(this.width,0))).extend(this.pointLocation(new u.Point(this.width,this.height))).extend(this.pointLocation(new u.Point(0,this.height)))},fi.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new u.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},fi.prototype.setMaxBounds=function(j){j?(this.lngRange=[j.getWest(),j.getEast()],this.latRange=[j.getSouth(),j.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},fi.prototype.calculatePosMatrix=function(j,q){void 0===q&&(q=!1);var G=j.key,ee=q?this._alignedPosMatrixCache:this._posMatrixCache;if(ee[G])return ee[G];var ye=j.canonical,Le=this.worldSize/this.zoomScale(ye.z),V=ye.x+Math.pow(2,ye.z)*j.wrap,ne=u.identity(new Float64Array(16));return u.translate(ne,ne,[V*Le,ye.y*Le,0]),u.scale(ne,ne,[Le/u.EXTENT,Le/u.EXTENT,1]),u.multiply(ne,q?this.alignedProjMatrix:this.projMatrix,ne),ee[G]=new Float32Array(ne),ee[G]},fi.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},fi.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var j,q,G,ee,ye=-90,Le=90,V=-180,ne=180,ce=this.size,_e=this._unmodified;if(this.latRange){var Ae=this.latRange;ye=u.mercatorYfromLat(Ae[1])*this.worldSize,j=(Le=u.mercatorYfromLat(Ae[0])*this.worldSize)-ye<ce.y?ce.y/(Le-ye):0}if(this.lngRange){var Fe=this.lngRange;V=u.mercatorXfromLng(Fe[0])*this.worldSize,q=(ne=u.mercatorXfromLng(Fe[1])*this.worldSize)-V<ce.x?ce.x/(ne-V):0}var We=this.point,Ye=Math.max(q||0,j||0);if(Ye)return this.center=this.unproject(new u.Point(q?(ne+V)/2:We.x,j?(Le+ye)/2:We.y)),this.zoom+=this.scaleZoom(Ye),this._unmodified=_e,void(this._constraining=!1);if(this.latRange){var Je=We.y,tt=ce.y/2;Je-tt<ye&&(ee=ye+tt),Je+tt>Le&&(ee=Le-tt)}if(this.lngRange){var lt=We.x,yt=ce.x/2;lt-yt<V&&(G=V+yt),lt+yt>ne&&(G=ne-yt)}void 0===G&&void 0===ee||(this.center=this.unproject(new u.Point(void 0!==G?G:We.x,void 0!==ee?ee:We.y))),this._unmodified=_e,this._constraining=!1}},fi.prototype._calcMatrices=function(){if(this.height){var q=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var G=Math.PI/2+this._pitch,ee=this._fov*(.5+q.y/this.height),ye=Math.sin(ee)*this.cameraToCenterDistance/Math.sin(u.clamp(Math.PI-G-ee,.01,Math.PI-.01)),Le=this.point,V=Le.x,ne=Le.y,ce=1.01*(Math.cos(Math.PI/2-this._pitch)*ye+this.cameraToCenterDistance),_e=this.height/50,Ae=new Float64Array(16);u.perspective(Ae,this._fov,this.width/this.height,_e,ce),Ae[8]=2*-q.x/this.width,Ae[9]=2*q.y/this.height,u.scale(Ae,Ae,[1,-1,1]),u.translate(Ae,Ae,[0,0,-this.cameraToCenterDistance]),u.rotateX(Ae,Ae,this._pitch),u.rotateZ(Ae,Ae,this.angle),u.translate(Ae,Ae,[-V,-ne,0]),this.mercatorMatrix=u.scale([],Ae,[this.worldSize,this.worldSize,this.worldSize]),u.scale(Ae,Ae,[1,1,u.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Ae,this.invProjMatrix=u.invert([],this.projMatrix);var Fe=this.width%2/2,We=this.height%2/2,Ye=Math.cos(this.angle),Je=Math.sin(this.angle),tt=V-Math.round(V)+Ye*Fe+Je*We,lt=ne-Math.round(ne)+Ye*We+Je*Fe,yt=new Float64Array(Ae);if(u.translate(yt,yt,[tt>.5?tt-1:tt,lt>.5?lt-1:lt,0]),this.alignedProjMatrix=yt,Ae=u.create(),u.scale(Ae,Ae,[this.width/2,-this.height/2,1]),u.translate(Ae,Ae,[1,-1,0]),this.labelPlaneMatrix=Ae,Ae=u.create(),u.scale(Ae,Ae,[1,-1,1]),u.translate(Ae,Ae,[-1,-1,0]),u.scale(Ae,Ae,[2/this.width,2/this.height,1]),this.glCoordMatrix=Ae,this.pixelMatrix=u.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Ae=u.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Ae,this._posMatrixCache={},this._alignedPosMatrixCache={}}},fi.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var j=this.pointCoordinate(new u.Point(0,0)),q=[j.x*this.worldSize,j.y*this.worldSize,0,1];return u.transformMat4(q,q,this.pixelMatrix)[3]/this.cameraToCenterDistance},fi.prototype.getCameraPoint=function(){var q=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new u.Point(0,q))},fi.prototype.getCameraQueryGeometry=function(j){var q=this.getCameraPoint();if(1===j.length)return[j[0],q];for(var G=q.x,ee=q.y,ye=q.x,Le=q.y,V=0,ne=j;V<ne.length;V+=1){var ce=ne[V];G=Math.min(G,ce.x),ee=Math.min(ee,ce.y),ye=Math.max(ye,ce.x),Le=Math.max(Le,ce.y)}return[new u.Point(G,ee),new u.Point(ye,ee),new u.Point(ye,Le),new u.Point(G,Le),new u.Point(G,ee)]},Object.defineProperties(fi.prototype,Si);var Ho=function(j){var q,ee,ye,Le;this._hashName=j&&encodeURIComponent(j),u.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(q=this._updateHashUnthrottled.bind(this),300,ee=!1,ye=null,Le=function(){ye=null,ee&&(q(),ye=setTimeout(Le,300),ee=!1)},function(){return ee=!0,ye||Le(),ye})};Ho.prototype.addTo=function(j){return this._map=j,u.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ho.prototype.remove=function(){return u.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ho.prototype.getHashString=function(j){var q=this._map.getCenter(),G=Math.round(100*this._map.getZoom())/100,ee=Math.ceil((G*Math.LN2+Math.log(512/360/.5))/Math.LN10),ye=Math.pow(10,ee),Le=Math.round(q.lng*ye)/ye,V=Math.round(q.lat*ye)/ye,ne=this._map.getBearing(),ce=this._map.getPitch(),_e="";if(_e+=j?"/"+Le+"/"+V+"/"+G:G+"/"+V+"/"+Le,(ne||ce)&&(_e+="/"+Math.round(10*ne)/10),ce&&(_e+="/"+Math.round(ce)),this._hashName){var Ae=this._hashName,Fe=!1,We=u.window.location.hash.slice(1).split("&").map(function(Ye){var Je=Ye.split("=")[0];return Je===Ae?(Fe=!0,Je+"="+_e):Ye}).filter(function(Ye){return Ye});return Fe||We.push(Ae+"="+_e),"#"+We.join("&")}return"#"+_e},Ho.prototype._getCurrentHash=function(){var j,q=this,G=u.window.location.hash.replace("#","");return this._hashName?(G.split("&").map(function(ee){return ee.split("=")}).forEach(function(ee){ee[0]===q._hashName&&(j=ee)}),(j&&j[1]||"").split("/")):G.split("/")},Ho.prototype._onHashChange=function(){var j=this._getCurrentHash();if(j.length>=3&&!j.some(function(G){return isNaN(G)})){var q=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(j[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+j[2],+j[1]],zoom:+j[0],bearing:q,pitch:+(j[4]||0)}),!0}return!1},Ho.prototype._updateHashUnthrottled=function(){var j=this.getHashString();try{u.window.history.replaceState(u.window.history.state,"",j)}catch{}};var Cs={linearity:.3,easing:u.bezier(0,0,.3,1)},yu=u.extend({deceleration:2500,maxSpeed:1400},Cs),il=u.extend({deceleration:20,maxSpeed:1400},Cs),ol=u.extend({deceleration:1e3,maxSpeed:360},Cs),eu=u.extend({deceleration:1e3,maxSpeed:90},Cs),ho=function(j){this._map=j,this.clear()};function Ur(j,q){(!j.duration||j.duration<q.duration)&&(j.duration=q.duration,j.easing=q.easing)}function li(j,q,G){var ee=G.maxSpeed,ye=G.linearity,Le=G.deceleration,V=u.clamp(j*ye/(q/1e3),-ee,ee),ne=Math.abs(V)/(Le*ye);return{easing:G.easing,duration:1e3*ne,amount:V*(ne/2)}}ho.prototype.clear=function(){this._inertiaBuffer=[]},ho.prototype.record=function(j){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:u.browser.now(),settings:j})},ho.prototype._drainInertiaBuffer=function(){for(var j=this._inertiaBuffer,q=u.browser.now();j.length>0&&q-j[0].time>160;)j.shift()},ho.prototype._onMoveEnd=function(j){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var q={zoom:0,bearing:0,pitch:0,pan:new u.Point(0,0),pinchAround:void 0,around:void 0},G=0,ee=this._inertiaBuffer;G<ee.length;G+=1){var ye=ee[G].settings;q.zoom+=ye.zoomDelta||0,q.bearing+=ye.bearingDelta||0,q.pitch+=ye.pitchDelta||0,ye.panDelta&&q.pan._add(ye.panDelta),ye.around&&(q.around=ye.around),ye.pinchAround&&(q.pinchAround=ye.pinchAround)}var Le=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,V={};if(q.pan.mag()){var ne=li(q.pan.mag(),Le,u.extend({},yu,j||{}));V.offset=q.pan.mult(ne.amount/q.pan.mag()),V.center=this._map.transform.center,Ur(V,ne)}if(q.zoom){var ce=li(q.zoom,Le,il);V.zoom=this._map.transform.zoom+ce.amount,Ur(V,ce)}if(q.bearing){var _e=li(q.bearing,Le,ol);V.bearing=this._map.transform.bearing+u.clamp(_e.amount,-179,179),Ur(V,_e)}if(q.pitch){var Ae=li(q.pitch,Le,eu);V.pitch=this._map.transform.pitch+Ae.amount,Ur(V,Ae)}if(V.zoom||V.bearing){var Fe=void 0===q.pinchAround?q.around:q.pinchAround;V.around=Fe?this._map.unproject(Fe):this._map.getCenter()}return this.clear(),u.extend(V,{noMoveStart:!0})}};var pi=function(j){function q(ee,ye,Le,V){void 0===V&&(V={});var ne=T.mousePos(ye.getCanvasContainer(),Le),ce=ye.unproject(ne);j.call(this,ee,u.extend({point:ne,lngLat:ce,originalEvent:Le},V)),this._defaultPrevented=!1,this.target=ye}j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q;var G={defaultPrevented:{configurable:!0}};return q.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(q.prototype,G),q}(u.Event),aa=function(j){function q(ee,ye,Le){var V="touchend"===ee?Le.changedTouches:Le.touches,ne=T.touchPos(ye.getCanvasContainer(),V),ce=ne.map(function(Fe){return ye.unproject(Fe)}),_e=ne.reduce(function(Fe,We,Ye,Je){return Fe.add(We.div(Je.length))},new u.Point(0,0)),Ae=ye.unproject(_e);j.call(this,ee,{points:ne,point:_e,lngLats:ce,lngLat:Ae,originalEvent:Le}),this._defaultPrevented=!1}j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q;var G={defaultPrevented:{configurable:!0}};return q.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(q.prototype,G),q}(u.Event),gs=function(j){function q(ee,ye,Le){j.call(this,ee,{originalEvent:Le}),this._defaultPrevented=!1}j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q;var G={defaultPrevented:{configurable:!0}};return q.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(q.prototype,G),q}(u.Event),Oi=function(j,q){this._map=j,this._clickTolerance=q.clickTolerance};Oi.prototype.reset=function(){delete this._mousedownPos},Oi.prototype.wheel=function(j){return this._firePreventable(new gs(j.type,this._map,j))},Oi.prototype.mousedown=function(j,q){return this._mousedownPos=q,this._firePreventable(new pi(j.type,this._map,j))},Oi.prototype.mouseup=function(j){this._map.fire(new pi(j.type,this._map,j))},Oi.prototype.click=function(j,q){this._mousedownPos&&this._mousedownPos.dist(q)>=this._clickTolerance||this._map.fire(new pi(j.type,this._map,j))},Oi.prototype.dblclick=function(j){return this._firePreventable(new pi(j.type,this._map,j))},Oi.prototype.mouseover=function(j){this._map.fire(new pi(j.type,this._map,j))},Oi.prototype.mouseout=function(j){this._map.fire(new pi(j.type,this._map,j))},Oi.prototype.touchstart=function(j){return this._firePreventable(new aa(j.type,this._map,j))},Oi.prototype.touchmove=function(j){this._map.fire(new aa(j.type,this._map,j))},Oi.prototype.touchend=function(j){this._map.fire(new aa(j.type,this._map,j))},Oi.prototype.touchcancel=function(j){this._map.fire(new aa(j.type,this._map,j))},Oi.prototype._firePreventable=function(j){if(this._map.fire(j),j.defaultPrevented)return{}},Oi.prototype.isEnabled=function(){return!0},Oi.prototype.isActive=function(){return!1},Oi.prototype.enable=function(){},Oi.prototype.disable=function(){};var Io=function(j){this._map=j};Io.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Io.prototype.mousemove=function(j){this._map.fire(new pi(j.type,this._map,j))},Io.prototype.mousedown=function(){this._delayContextMenu=!0},Io.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new pi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Io.prototype.contextmenu=function(j){this._delayContextMenu?this._contextMenuEvent=j:this._map.fire(new pi(j.type,this._map,j)),this._map.listens("contextmenu")&&j.preventDefault()},Io.prototype.isEnabled=function(){return!0},Io.prototype.isActive=function(){return!1},Io.prototype.enable=function(){},Io.prototype.disable=function(){};var Ci=function(j,q){this._map=j,this._el=j.getCanvasContainer(),this._container=j.getContainer(),this._clickTolerance=q.clickTolerance||1};function wo(j,q){for(var G={},ee=0;ee<j.length;ee++)G[j[ee].identifier]=q[ee];return G}Ci.prototype.isEnabled=function(){return!!this._enabled},Ci.prototype.isActive=function(){return!!this._active},Ci.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ci.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ci.prototype.mousedown=function(j,q){this.isEnabled()&&j.shiftKey&&0===j.button&&(T.disableDrag(),this._startPos=this._lastPos=q,this._active=!0)},Ci.prototype.mousemoveWindow=function(j,q){if(this._active){var G=q;if(!(this._lastPos.equals(G)||!this._box&&G.dist(this._startPos)<this._clickTolerance)){var ee=this._startPos;this._lastPos=G,this._box||(this._box=T.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",j));var ye=Math.min(ee.x,G.x),Le=Math.max(ee.x,G.x),V=Math.min(ee.y,G.y),ne=Math.max(ee.y,G.y);T.setTransform(this._box,"translate("+ye+"px,"+V+"px)"),this._box.style.width=Le-ye+"px",this._box.style.height=ne-V+"px"}}},Ci.prototype.mouseupWindow=function(j,q){var G=this;if(this._active&&0===j.button){var ee=this._startPos,ye=q;if(this.reset(),T.suppressClick(),ee.x!==ye.x||ee.y!==ye.y)return this._map.fire(new u.Event("boxzoomend",{originalEvent:j})),{cameraAnimation:function(Le){return Le.fitScreenCoordinates(ee,ye,G._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",j)}},Ci.prototype.keydown=function(j){this._active&&27===j.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",j))},Ci.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(T.remove(this._box),this._box=null),T.enableDrag(),delete this._startPos,delete this._lastPos},Ci.prototype._fireEvent=function(j,q){return this._map.fire(new u.Event(j,{originalEvent:q}))};var Lo=function(j){this.reset(),this.numTouches=j.numTouches};Lo.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Lo.prototype.touchstart=function(j,q,G){(this.centroid||G.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=j.timeStamp),G.length===this.numTouches&&(this.centroid=function(ee){for(var ye=new u.Point(0,0),Le=0,V=ee;Le<V.length;Le+=1)ye._add(V[Le]);return ye.div(ee.length)}(q),this.touches=wo(G,q)))},Lo.prototype.touchmove=function(j,q,G){if(!this.aborted&&this.centroid){var ee=wo(G,q);for(var ye in this.touches){var V=ee[ye];(!V||V.dist(this.touches[ye])>30)&&(this.aborted=!0)}}},Lo.prototype.touchend=function(j,q,G){if((!this.centroid||j.timeStamp-this.startTime>500)&&(this.aborted=!0),0===G.length){var ee=!this.aborted&&this.centroid;if(this.reset(),ee)return ee}};var ui=function(j){this.singleTap=new Lo(j),this.numTaps=j.numTaps,this.reset()};ui.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},ui.prototype.touchstart=function(j,q,G){this.singleTap.touchstart(j,q,G)},ui.prototype.touchmove=function(j,q,G){this.singleTap.touchmove(j,q,G)},ui.prototype.touchend=function(j,q,G){var ee=this.singleTap.touchend(j,q,G);if(ee){var ye=j.timeStamp-this.lastTime<500,Le=!this.lastTap||this.lastTap.dist(ee)<30;if(ye&&Le||this.reset(),this.count++,this.lastTime=j.timeStamp,this.lastTap=ee,this.count===this.numTaps)return this.reset(),ee}};var Ca=function(){this._zoomIn=new ui({numTouches:1,numTaps:2}),this._zoomOut=new ui({numTouches:2,numTaps:1}),this.reset()};Ca.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ca.prototype.touchstart=function(j,q,G){this._zoomIn.touchstart(j,q,G),this._zoomOut.touchstart(j,q,G)},Ca.prototype.touchmove=function(j,q,G){this._zoomIn.touchmove(j,q,G),this._zoomOut.touchmove(j,q,G)},Ca.prototype.touchend=function(j,q,G){var ee=this,ye=this._zoomIn.touchend(j,q,G),Le=this._zoomOut.touchend(j,q,G);return ye?(this._active=!0,j.preventDefault(),setTimeout(function(){return ee.reset()},0),{cameraAnimation:function(V){return V.easeTo({duration:300,zoom:V.getZoom()+1,around:V.unproject(ye)},{originalEvent:j})}}):Le?(this._active=!0,j.preventDefault(),setTimeout(function(){return ee.reset()},0),{cameraAnimation:function(V){return V.easeTo({duration:300,zoom:V.getZoom()-1,around:V.unproject(Le)},{originalEvent:j})}}):void 0},Ca.prototype.touchcancel=function(){this.reset()},Ca.prototype.enable=function(){this._enabled=!0},Ca.prototype.disable=function(){this._enabled=!1,this.reset()},Ca.prototype.isEnabled=function(){return this._enabled},Ca.prototype.isActive=function(){return this._active};var Go=function(j){this.reset(),this._clickTolerance=j.clickTolerance||1};Go.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Go.prototype._correctButton=function(j,q){return!1},Go.prototype._move=function(j,q){return{}},Go.prototype.mousedown=function(j,q){if(!this._lastPoint){var G=T.mouseButton(j);this._correctButton(j,G)&&(this._lastPoint=q,this._eventButton=G)}},Go.prototype.mousemoveWindow=function(j,q){var G=this._lastPoint;if(G&&(j.preventDefault(),this._moved||!(q.dist(G)<this._clickTolerance)))return this._moved=!0,this._lastPoint=q,this._move(G,q)},Go.prototype.mouseupWindow=function(j){T.mouseButton(j)===this._eventButton&&(this._moved&&T.suppressClick(),this.reset())},Go.prototype.enable=function(){this._enabled=!0},Go.prototype.disable=function(){this._enabled=!1,this.reset()},Go.prototype.isEnabled=function(){return this._enabled},Go.prototype.isActive=function(){return this._active};var Qo=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.mousedown=function(G,ee){j.prototype.mousedown.call(this,G,ee),this._lastPoint&&(this._active=!0)},q.prototype._correctButton=function(G,ee){return 0===ee&&!G.ctrlKey},q.prototype._move=function(G,ee){return{around:ee,panDelta:ee.sub(G)}},q}(Go),Ji=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype._correctButton=function(G,ee){return 0===ee&&G.ctrlKey||2===ee},q.prototype._move=function(G,ee){var ye=.8*(ee.x-G.x);if(ye)return this._active=!0,{bearingDelta:ye}},q.prototype.contextmenu=function(G){G.preventDefault()},q}(Go),al=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype._correctButton=function(G,ee){return 0===ee&&G.ctrlKey||2===ee},q.prototype._move=function(G,ee){var ye=-.5*(ee.y-G.y);if(ye)return this._active=!0,{pitchDelta:ye}},q.prototype.contextmenu=function(G){G.preventDefault()},q}(Go),sa=function(j){this._minTouches=1,this._clickTolerance=j.clickTolerance||1,this.reset()};sa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new u.Point(0,0)},sa.prototype.touchstart=function(j,q,G){return this._calculateTransform(j,q,G)},sa.prototype.touchmove=function(j,q,G){if(this._active)return j.preventDefault(),this._calculateTransform(j,q,G)},sa.prototype.touchend=function(j,q,G){this._calculateTransform(j,q,G),this._active&&G.length<this._minTouches&&this.reset()},sa.prototype.touchcancel=function(){this.reset()},sa.prototype._calculateTransform=function(j,q,G){G.length>0&&(this._active=!0);var ee=wo(G,q),ye=new u.Point(0,0),Le=new u.Point(0,0),V=0;for(var ne in ee){var ce=ee[ne],_e=this._touches[ne];_e&&(ye._add(ce),Le._add(ce.sub(_e)),V++,ee[ne]=ce)}if(this._touches=ee,!(V<this._minTouches)&&Le.mag()){var Ae=Le.div(V);if(this._sum._add(Ae),!(this._sum.mag()<this._clickTolerance))return{around:ye.div(V),panDelta:Ae}}},sa.prototype.enable=function(){this._enabled=!0},sa.prototype.disable=function(){this._enabled=!1,this.reset()},sa.prototype.isEnabled=function(){return this._enabled},sa.prototype.isActive=function(){return this._active};var so=function(){this.reset()};function Br(j,q,G){for(var ee=0;ee<j.length;ee++)if(j[ee].identifier===G)return q[ee]}function ea(j,q){return Math.log(j/q)/Math.LN2}so.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},so.prototype._start=function(j){},so.prototype._move=function(j,q,G){return{}},so.prototype.touchstart=function(j,q,G){this._firstTwoTouches||G.length<2||(this._firstTwoTouches=[G[0].identifier,G[1].identifier],this._start([q[0],q[1]]))},so.prototype.touchmove=function(j,q,G){if(this._firstTwoTouches){j.preventDefault();var ee=this._firstTwoTouches,Le=ee[1],V=Br(G,q,ee[0]),ne=Br(G,q,Le);if(V&&ne){var ce=this._aroundCenter?null:V.add(ne).div(2);return this._move([V,ne],ce,j)}}},so.prototype.touchend=function(j,q,G){if(this._firstTwoTouches){var ee=this._firstTwoTouches,Le=ee[1],V=Br(G,q,ee[0]),ne=Br(G,q,Le);V&&ne||(this._active&&T.suppressClick(),this.reset())}},so.prototype.touchcancel=function(){this.reset()},so.prototype.enable=function(j){this._enabled=!0,this._aroundCenter=!!j&&"center"===j.around},so.prototype.disable=function(){this._enabled=!1,this.reset()},so.prototype.isEnabled=function(){return this._enabled},so.prototype.isActive=function(){return this._active};var es=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.reset=function(){j.prototype.reset.call(this),delete this._distance,delete this._startDistance},q.prototype._start=function(G){this._startDistance=this._distance=G[0].dist(G[1])},q.prototype._move=function(G,ee){var ye=this._distance;if(this._distance=G[0].dist(G[1]),this._active||!(Math.abs(ea(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ea(this._distance,ye),pinchAround:ee}},q}(so);function ts(j,q){return 180*j.angleWith(q)/Math.PI}var Ds=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.reset=function(){j.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},q.prototype._start=function(G){this._startVector=this._vector=G[0].sub(G[1]),this._minDiameter=G[0].dist(G[1])},q.prototype._move=function(G,ee){var ye=this._vector;if(this._vector=G[0].sub(G[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ts(this._vector,ye),pinchAround:ee}},q.prototype._isBelowThreshold=function(G){this._minDiameter=Math.min(this._minDiameter,G.mag());var ee=25/(Math.PI*this._minDiameter)*360,ye=ts(G,this._startVector);return Math.abs(ye)<ee},q}(so);function Is(j){return Math.abs(j.y)>Math.abs(j.x)}var xi=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.reset=function(){j.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},q.prototype._start=function(G){this._lastPoints=G,Is(G[0].sub(G[1]))&&(this._valid=!1)},q.prototype._move=function(G,ee,ye){var Le=G[0].sub(this._lastPoints[0]),V=G[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Le,V,ye.timeStamp),this._valid)return this._lastPoints=G,this._active=!0,{pitchDelta:(Le.y+V.y)/2*-.5}},q.prototype.gestureBeginsVertically=function(G,ee,ye){if(void 0!==this._valid)return this._valid;var Le=G.mag()>=2,V=ee.mag()>=2;if(Le||V){if(!Le||!V)return void 0===this._firstMove&&(this._firstMove=ye),ye-this._firstMove<100&&void 0;var ne=G.y>0==ee.y>0;return Is(G)&&Is(ee)&&ne}},q}(so),zr={panStep:100,bearingStep:15,pitchStep:10},Za=function(){var j=zr;this._panStep=j.panStep,this._bearingStep=j.bearingStep,this._pitchStep=j.pitchStep};function ml(j){return j*(2-j)}Za.prototype.reset=function(){this._active=!1},Za.prototype.keydown=function(j){var q=this;if(!(j.altKey||j.ctrlKey||j.metaKey)){var G=0,ee=0,ye=0,Le=0,V=0;switch(j.keyCode){case 61:case 107:case 171:case 187:G=1;break;case 189:case 109:case 173:G=-1;break;case 37:j.shiftKey?ee=-1:(j.preventDefault(),Le=-1);break;case 39:j.shiftKey?ee=1:(j.preventDefault(),Le=1);break;case 38:j.shiftKey?ye=1:(j.preventDefault(),V=-1);break;case 40:j.shiftKey?ye=-1:(j.preventDefault(),V=1);break;default:return}return{cameraAnimation:function(ne){var ce=ne.getZoom();ne.easeTo({duration:300,easeId:"keyboardHandler",easing:ml,zoom:G?Math.round(ce)+G*(j.shiftKey?2:1):ce,bearing:ne.getBearing()+ee*q._bearingStep,pitch:ne.getPitch()+ye*q._pitchStep,offset:[-Le*q._panStep,-V*q._panStep],center:ne.getCenter()},{originalEvent:j})}}}},Za.prototype.enable=function(){this._enabled=!0},Za.prototype.disable=function(){this._enabled=!1,this.reset()},Za.prototype.isEnabled=function(){return this._enabled},Za.prototype.isActive=function(){return this._active};var Oa=4.000244140625,qo=function(j,q){this._map=j,this._el=j.getCanvasContainer(),this._handler=q,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,u.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};qo.prototype.setZoomRate=function(j){this._defaultZoomRate=j},qo.prototype.setWheelZoomRate=function(j){this._wheelZoomRate=j},qo.prototype.isEnabled=function(){return!!this._enabled},qo.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},qo.prototype.isZooming=function(){return!!this._zooming},qo.prototype.enable=function(j){this.isEnabled()||(this._enabled=!0,this._aroundCenter=j&&"center"===j.around)},qo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},qo.prototype.wheel=function(j){if(this.isEnabled()){var q=j.deltaMode===u.window.WheelEvent.DOM_DELTA_LINE?40*j.deltaY:j.deltaY,G=u.browser.now(),ee=G-(this._lastWheelEventTime||0);this._lastWheelEventTime=G,0!==q&&q%Oa==0?this._type="wheel":0!==q&&Math.abs(q)<4?this._type="trackpad":ee>400?(this._type=null,this._lastValue=q,this._timeout=setTimeout(this._onTimeout,40,j)):this._type||(this._type=Math.abs(ee*q)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,q+=this._lastValue)),j.shiftKey&&q&&(q/=4),this._type&&(this._lastWheelEvent=j,this._delta-=q,this._active||this._start(j)),j.preventDefault()}},qo.prototype._onTimeout=function(j){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(j)},qo.prototype._start=function(j){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var q=T.mousePos(this._el,j);this._around=u.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(q)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},qo.prototype.renderFrame=function(){return this._onScrollFrame()},qo.prototype._onScrollFrame=function(){var j=this;if(this._frameId&&(this._frameId=null,this.isActive())){var q=this._map.transform;if(0!==this._delta){var G="wheel"===this._type&&Math.abs(this._delta)>Oa?this._wheelZoomRate:this._defaultZoomRate,ee=2/(1+Math.exp(-Math.abs(this._delta*G)));this._delta<0&&0!==ee&&(ee=1/ee);var ye="number"==typeof this._targetZoom?q.zoomScale(this._targetZoom):q.scale;this._targetZoom=Math.min(q.maxZoom,Math.max(q.minZoom,q.scaleZoom(ye*ee))),"wheel"===this._type&&(this._startZoom=q.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Le,V="number"==typeof this._targetZoom?this._targetZoom:q.zoom,ne=this._startZoom,ce=this._easing,_e=!1;if("wheel"===this._type&&ne&&ce){var Ae=Math.min((u.browser.now()-this._lastWheelEventTime)/200,1),Fe=ce(Ae);Le=u.number(ne,V,Fe),Ae<1?this._frameId||(this._frameId=!0):_e=!0}else Le=V,_e=!0;return this._active=!0,_e&&(this._active=!1,this._finishTimeout=setTimeout(function(){j._zooming=!1,j._handler._triggerRenderFrame(),delete j._targetZoom,delete j._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!_e,zoomDelta:Le-q.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},qo.prototype._smoothOutEasing=function(j){var q=u.ease;if(this._prevEase){var G=this._prevEase,ee=(u.browser.now()-G.start)/G.duration,ye=G.easing(ee+.01)-G.easing(ee),Le=.27/Math.sqrt(ye*ye+1e-4)*.01,V=Math.sqrt(.0729-Le*Le);q=u.bezier(Le,V,.25,1)}return this._prevEase={start:u.browser.now(),duration:j,easing:q},q},qo.prototype.reset=function(){this._active=!1};var Ma=function(j,q){this._clickZoom=j,this._tapZoom=q};Ma.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ma.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ma.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ma.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Aa=function(){this.reset()};Aa.prototype.reset=function(){this._active=!1},Aa.prototype.dblclick=function(j,q){return j.preventDefault(),{cameraAnimation:function(G){G.easeTo({duration:300,zoom:G.getZoom()+(j.shiftKey?-1:1),around:G.unproject(q)},{originalEvent:j})}}},Aa.prototype.enable=function(){this._enabled=!0},Aa.prototype.disable=function(){this._enabled=!1,this.reset()},Aa.prototype.isEnabled=function(){return this._enabled},Aa.prototype.isActive=function(){return this._active};var lo=function(){this._tap=new ui({numTouches:1,numTaps:1}),this.reset()};lo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},lo.prototype.touchstart=function(j,q,G){this._swipePoint||(this._tapTime&&j.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?G.length>0&&(this._swipePoint=q[0],this._swipeTouch=G[0].identifier):this._tap.touchstart(j,q,G))},lo.prototype.touchmove=function(j,q,G){if(this._tapTime){if(this._swipePoint){if(G[0].identifier!==this._swipeTouch)return;var ee=q[0],ye=ee.y-this._swipePoint.y;return this._swipePoint=ee,j.preventDefault(),this._active=!0,{zoomDelta:ye/128}}}else this._tap.touchmove(j,q,G)},lo.prototype.touchend=function(j,q,G){this._tapTime?this._swipePoint&&0===G.length&&this.reset():this._tap.touchend(j,q,G)&&(this._tapTime=j.timeStamp)},lo.prototype.touchcancel=function(){this.reset()},lo.prototype.enable=function(){this._enabled=!0},lo.prototype.disable=function(){this._enabled=!1,this.reset()},lo.prototype.isEnabled=function(){return this._enabled},lo.prototype.isActive=function(){return this._active};var Hs=function(j,q,G){this._el=j,this._mousePan=q,this._touchPan=G};Hs.prototype.enable=function(j){this._inertiaOptions=j||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Hs.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Hs.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Hs.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var zo=function(j,q,G){this._pitchWithRotate=j.pitchWithRotate,this._mouseRotate=q,this._mousePitch=G};zo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},zo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},zo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},zo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Vi=function(j,q,G,ee){this._el=j,this._touchZoom=q,this._touchRotate=G,this._tapDragZoom=ee,this._rotationDisabled=!1,this._enabled=!0};Vi.prototype.enable=function(j){this._touchZoom.enable(j),this._rotationDisabled||this._touchRotate.enable(j),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Vi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Vi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Vi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Vi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Vi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Gs=function(j){return j.zoom||j.drag||j.pitch||j.rotate},ns=function(j){function q(){j.apply(this,arguments)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q}(u.Event);function Po(j){return j.panDelta&&j.panDelta.mag()||j.zoomDelta||j.bearingDelta||j.pitchDelta}var Mi=function(j,q){this._map=j,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ho(j),this._bearingSnap=q.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(q),u.bindAll(["handleEvent","handleWindowEvent"],this);var G=this._el;this._listeners=[[G,"touchstart",{passive:!1}],[G,"touchmove",{passive:!1}],[G,"touchend",void 0],[G,"touchcancel",void 0],[G,"mousedown",void 0],[G,"mousemove",void 0],[G,"mouseup",void 0],[u.window.document,"mousemove",{capture:!0}],[u.window.document,"mouseup",void 0],[G,"mouseover",void 0],[G,"mouseout",void 0],[G,"dblclick",void 0],[G,"click",void 0],[G,"keydown",{capture:!1}],[G,"keyup",void 0],[G,"wheel",{passive:!1}],[G,"contextmenu",void 0],[u.window,"blur",void 0]];for(var ee=0,ye=this._listeners;ee<ye.length;ee+=1){var Le=ye[ee],V=Le[0];T.addEventListener(V,Le[1],V===u.window.document?this.handleWindowEvent:this.handleEvent,Le[2])}};Mi.prototype.destroy=function(){for(var j=0,q=this._listeners;j<q.length;j+=1){var G=q[j],ee=G[0];T.removeEventListener(ee,G[1],ee===u.window.document?this.handleWindowEvent:this.handleEvent,G[2])}},Mi.prototype._addDefaultHandlers=function(j){var q=this._map,G=q.getCanvasContainer();this._add("mapEvent",new Oi(q,j));var ee=q.boxZoom=new Ci(q,j);this._add("boxZoom",ee);var ye=new Ca,Le=new Aa;q.doubleClickZoom=new Ma(Le,ye),this._add("tapZoom",ye),this._add("clickZoom",Le);var V=new lo;this._add("tapDragZoom",V);var ne=q.touchPitch=new xi;this._add("touchPitch",ne);var ce=new Ji(j),_e=new al(j);q.dragRotate=new zo(j,ce,_e),this._add("mouseRotate",ce,["mousePitch"]),this._add("mousePitch",_e,["mouseRotate"]);var Ae=new Qo(j),Fe=new sa(j);q.dragPan=new Hs(G,Ae,Fe),this._add("mousePan",Ae),this._add("touchPan",Fe,["touchZoom","touchRotate"]);var We=new Ds,Ye=new es;q.touchZoomRotate=new Vi(G,Ye,We,V),this._add("touchRotate",We,["touchPan","touchZoom"]),this._add("touchZoom",Ye,["touchPan","touchRotate"]);var Je=q.scrollZoom=new qo(q,this);this._add("scrollZoom",Je,["mousePan"]);var tt=q.keyboard=new Za;this._add("keyboard",tt),this._add("blockableMapEvent",new Io(q));for(var lt=0,yt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];lt<yt.length;lt+=1){var wt=yt[lt];j.interactive&&j[wt]&&q[wt].enable(j[wt])}},Mi.prototype._add=function(j,q,G){this._handlers.push({handlerName:j,handler:q,allowed:G}),this._handlersById[j]=q},Mi.prototype.stop=function(){if(!this._updatingCamera){for(var j=0,q=this._handlers;j<q.length;j+=1)q[j].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},Mi.prototype.isActive=function(){for(var j=0,q=this._handlers;j<q.length;j+=1)if(q[j].handler.isActive())return!0;return!1},Mi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Mi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Mi.prototype.isMoving=function(){return!!Gs(this._eventsInProgress)||this.isZooming()},Mi.prototype._blockedByActive=function(j,q,G){for(var ee in j)if(ee!==G&&(!q||q.indexOf(ee)<0))return!0;return!1},Mi.prototype.handleWindowEvent=function(j){this.handleEvent(j,j.type+"Window")},Mi.prototype._getMapTouches=function(j){for(var q=[],G=0,ee=j;G<ee.length;G+=1){var ye=ee[G];this._el.contains(ye.target)&&q.push(ye)}return q},Mi.prototype.handleEvent=function(j,q){if("blur"!==j.type){this._updatingCamera=!0;for(var G="renderFrame"===j.type?void 0:j,ee={needsRenderFrame:!1},ye={},Le={},V=j.touches?this._getMapTouches(j.touches):void 0,ne=V?T.touchPos(this._el,V):T.mousePos(this._el,j),ce=0,_e=this._handlers;ce<_e.length;ce+=1){var Ae=_e[ce],Fe=Ae.handlerName,We=Ae.handler,Ye=Ae.allowed;if(We.isEnabled()){var Je=void 0;this._blockedByActive(Le,Ye,Fe)?We.reset():We[q||j.type]&&(Je=We[q||j.type](j,ne,V),this.mergeHandlerResult(ee,ye,Je,Fe,G),Je&&Je.needsRenderFrame&&this._triggerRenderFrame()),(Je||We.isActive())&&(Le[Fe]=We)}}var tt={};for(var lt in this._previousActiveHandlers)Le[lt]||(tt[lt]=G);this._previousActiveHandlers=Le,(Object.keys(tt).length||Po(ee))&&(this._changes.push([ee,ye,tt]),this._triggerRenderFrame()),(Object.keys(Le).length||Po(ee))&&this._map._stop(!0),this._updatingCamera=!1;var yt=ee.cameraAnimation;yt&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],yt(this._map))}else this.stop()},Mi.prototype.mergeHandlerResult=function(j,q,G,ee,ye){if(G){u.extend(j,G);var Le={handlerName:ee,originalEvent:G.originalEvent||ye};void 0!==G.zoomDelta&&(q.zoom=Le),void 0!==G.panDelta&&(q.drag=Le),void 0!==G.pitchDelta&&(q.pitch=Le),void 0!==G.bearingDelta&&(q.rotate=Le)}},Mi.prototype._applyChanges=function(){for(var j={},q={},G={},ee=0,ye=this._changes;ee<ye.length;ee+=1){var Le=ye[ee],V=Le[0],ne=Le[1],ce=Le[2];V.panDelta&&(j.panDelta=(j.panDelta||new u.Point(0,0))._add(V.panDelta)),V.zoomDelta&&(j.zoomDelta=(j.zoomDelta||0)+V.zoomDelta),V.bearingDelta&&(j.bearingDelta=(j.bearingDelta||0)+V.bearingDelta),V.pitchDelta&&(j.pitchDelta=(j.pitchDelta||0)+V.pitchDelta),void 0!==V.around&&(j.around=V.around),void 0!==V.pinchAround&&(j.pinchAround=V.pinchAround),V.noInertia&&(j.noInertia=V.noInertia),u.extend(q,ne),u.extend(G,ce)}this._updateMapTransform(j,q,G),this._changes=[]},Mi.prototype._updateMapTransform=function(j,q,G){var ee=this._map,ye=ee.transform;if(!Po(j))return this._fireEvents(q,G);var Le=j.panDelta,V=j.zoomDelta,ne=j.bearingDelta,ce=j.pitchDelta,_e=j.around,Ae=j.pinchAround;void 0!==Ae&&(_e=Ae),ee._stop(!0),_e=_e||ee.transform.centerPoint;var Fe=ye.pointLocation(Le?_e.sub(Le):_e);ne&&(ye.bearing+=ne),ce&&(ye.pitch+=ce),V&&(ye.zoom+=V),ye.setLocationAtPoint(Fe,_e),this._map._update(),j.noInertia||this._inertia.record(j),this._fireEvents(q,G)},Mi.prototype._fireEvents=function(j,q){var G=this,ee=Gs(this._eventsInProgress),ye=Gs(j),Le={};for(var V in j)this._eventsInProgress[V]||(Le[V+"start"]=j[V].originalEvent),this._eventsInProgress[V]=j[V];for(var ce in!ee&&ye&&this._fireEvent("movestart",ye.originalEvent),Le)this._fireEvent(ce,Le[ce]);for(var _e in j.rotate&&(this._bearingChanged=!0),ye&&this._fireEvent("move",ye.originalEvent),j)this._fireEvent(_e,j[_e].originalEvent);var Fe,We={};for(var Ye in this._eventsInProgress){var Je=this._eventsInProgress[Ye],tt=Je.handlerName,lt=Je.originalEvent;this._handlersById[tt].isActive()||(delete this._eventsInProgress[Ye],We[Ye+"end"]=Fe=q[tt]||lt)}for(var yt in We)this._fireEvent(yt,We[yt]);var wt=Gs(this._eventsInProgress);if((ee||ye)&&!wt){this._updatingCamera=!0;var zt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ut=function(Nt){return 0!==Nt&&-G._bearingSnap<Nt&&Nt<G._bearingSnap};zt?(Ut(zt.bearing||this._map.getBearing())&&(zt.bearing=0),this._map.easeTo(zt,{originalEvent:Fe})):(this._map.fire(new u.Event("moveend",{originalEvent:Fe})),Ut(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},Mi.prototype._fireEvent=function(j,q){this._map.fire(new u.Event(j,q?{originalEvent:q}:{}))},Mi.prototype._triggerRenderFrame=function(){var j=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame(function(q){delete j._frameId,j.handleEvent(new ns("renderFrame",{timeStamp:q})),j._applyChanges()}))};var vl=function(j){function q(G,ee){j.call(this),this._moving=!1,this._zooming=!1,this.transform=G,this._bearingSnap=ee.bearingSnap,u.bindAll(["_renderFrameCallback"],this)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.getCenter=function(){return new u.LngLat(this.transform.center.lng,this.transform.center.lat)},q.prototype.setCenter=function(G,ee){return this.jumpTo({center:G},ee)},q.prototype.panBy=function(G,ee,ye){return G=u.Point.convert(G).mult(-1),this.panTo(this.transform.center,u.extend({offset:G},ee),ye)},q.prototype.panTo=function(G,ee,ye){return this.easeTo(u.extend({center:G},ee),ye)},q.prototype.getZoom=function(){return this.transform.zoom},q.prototype.setZoom=function(G,ee){return this.jumpTo({zoom:G},ee),this},q.prototype.zoomTo=function(G,ee,ye){return this.easeTo(u.extend({zoom:G},ee),ye)},q.prototype.zoomIn=function(G,ee){return this.zoomTo(this.getZoom()+1,G,ee),this},q.prototype.zoomOut=function(G,ee){return this.zoomTo(this.getZoom()-1,G,ee),this},q.prototype.getBearing=function(){return this.transform.bearing},q.prototype.setBearing=function(G,ee){return this.jumpTo({bearing:G},ee),this},q.prototype.getPadding=function(){return this.transform.padding},q.prototype.setPadding=function(G,ee){return this.jumpTo({padding:G},ee),this},q.prototype.rotateTo=function(G,ee,ye){return this.easeTo(u.extend({bearing:G},ee),ye)},q.prototype.resetNorth=function(G,ee){return this.rotateTo(0,u.extend({duration:1e3},G),ee),this},q.prototype.resetNorthPitch=function(G,ee){return this.easeTo(u.extend({bearing:0,pitch:0,duration:1e3},G),ee),this},q.prototype.snapToNorth=function(G,ee){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(G,ee):this},q.prototype.getPitch=function(){return this.transform.pitch},q.prototype.setPitch=function(G,ee){return this.jumpTo({pitch:G},ee),this},q.prototype.cameraForBounds=function(G,ee){return G=u.LngLatBounds.convert(G),this._cameraForBoxAndBearing(G.getNorthWest(),G.getSouthEast(),0,ee)},q.prototype._cameraForBoxAndBearing=function(G,ee,ye,Le){var V={top:0,bottom:0,right:0,left:0};if("number"==typeof(Le=u.extend({padding:V,offset:[0,0],maxZoom:this.transform.maxZoom},Le)).padding){var ne=Le.padding;Le.padding={top:ne,bottom:ne,right:ne,left:ne}}Le.padding=u.extend(V,Le.padding);var ce=this.transform,_e=ce.padding,Ae=ce.project(u.LngLat.convert(G)),Fe=ce.project(u.LngLat.convert(ee)),We=Ae.rotate(-ye*Math.PI/180),Ye=Fe.rotate(-ye*Math.PI/180),Je=new u.Point(Math.max(We.x,Ye.x),Math.max(We.y,Ye.y)),tt=new u.Point(Math.min(We.x,Ye.x),Math.min(We.y,Ye.y)),lt=Je.sub(tt),yt=(ce.width-(_e.left+_e.right+Le.padding.left+Le.padding.right))/lt.x,wt=(ce.height-(_e.top+_e.bottom+Le.padding.top+Le.padding.bottom))/lt.y;if(!(wt<0||yt<0)){var zt=Math.min(ce.scaleZoom(ce.scale*Math.min(yt,wt)),Le.maxZoom),Ut=u.Point.convert(Le.offset),Bt=new u.Point(Ut.x+(Le.padding.left-Le.padding.right)/2,Ut.y+(Le.padding.top-Le.padding.bottom)/2).mult(ce.scale/ce.zoomScale(zt));return{center:ce.unproject(Ae.add(Fe).div(2).sub(Bt)),zoom:zt,bearing:ye}}u.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},q.prototype.fitBounds=function(G,ee,ye){return this._fitInternal(this.cameraForBounds(G,ee),ee,ye)},q.prototype.fitScreenCoordinates=function(G,ee,ye,Le,V){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(u.Point.convert(G)),this.transform.pointLocation(u.Point.convert(ee)),ye,Le),Le,V)},q.prototype._fitInternal=function(G,ee,ye){return G?(delete(ee=u.extend(G,ee)).padding,ee.linear?this.easeTo(ee,ye):this.flyTo(ee,ye)):this},q.prototype.jumpTo=function(G,ee){this.stop();var ye=this.transform,Le=!1,V=!1,ne=!1;return"zoom"in G&&ye.zoom!==+G.zoom&&(Le=!0,ye.zoom=+G.zoom),void 0!==G.center&&(ye.center=u.LngLat.convert(G.center)),"bearing"in G&&ye.bearing!==+G.bearing&&(V=!0,ye.bearing=+G.bearing),"pitch"in G&&ye.pitch!==+G.pitch&&(ne=!0,ye.pitch=+G.pitch),null==G.padding||ye.isPaddingEqual(G.padding)||(ye.padding=G.padding),this.fire(new u.Event("movestart",ee)).fire(new u.Event("move",ee)),Le&&this.fire(new u.Event("zoomstart",ee)).fire(new u.Event("zoom",ee)).fire(new u.Event("zoomend",ee)),V&&this.fire(new u.Event("rotatestart",ee)).fire(new u.Event("rotate",ee)).fire(new u.Event("rotateend",ee)),ne&&this.fire(new u.Event("pitchstart",ee)).fire(new u.Event("pitch",ee)).fire(new u.Event("pitchend",ee)),this.fire(new u.Event("moveend",ee))},q.prototype.easeTo=function(G,ee){var ye=this;this._stop(!1,G.easeId),(!1===(G=u.extend({offset:[0,0],duration:500,easing:u.ease},G)).animate||!G.essential&&u.browser.prefersReducedMotion)&&(G.duration=0);var Le=this.transform,V=this.getZoom(),ne=this.getBearing(),ce=this.getPitch(),_e=this.getPadding(),Ae="zoom"in G?+G.zoom:V,Fe="bearing"in G?this._normalizeBearing(G.bearing,ne):ne,We="pitch"in G?+G.pitch:ce,Ye="padding"in G?G.padding:Le.padding,Je=u.Point.convert(G.offset),tt=Le.centerPoint.add(Je),lt=Le.pointLocation(tt),yt=u.LngLat.convert(G.center||lt);this._normalizeCenter(yt);var wt,zt,Ut=Le.project(lt),Nt=Le.project(yt).sub(Ut),$t=Le.zoomScale(Ae-V);G.around&&(wt=u.LngLat.convert(G.around),zt=Le.locationPoint(wt));var Bt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Ae!==V,this._rotating=this._rotating||ne!==Fe,this._pitching=this._pitching||We!==ce,this._padding=!Le.isPaddingEqual(Ye),this._easeId=G.easeId,this._prepareEase(ee,G.noMoveStart,Bt),clearTimeout(this._easeEndTimeoutID),this._ease(function(pn){if(ye._zooming&&(Le.zoom=u.number(V,Ae,pn)),ye._rotating&&(Le.bearing=u.number(ne,Fe,pn)),ye._pitching&&(Le.pitch=u.number(ce,We,pn)),ye._padding&&(Le.interpolatePadding(_e,Ye,pn),tt=Le.centerPoint.add(Je)),wt)Le.setLocationAtPoint(wt,zt);else{var an=Le.zoomScale(Le.zoom-V),en=Ae>V?Math.min(2,$t):Math.max(.5,$t),Dn=Math.pow(en,1-pn),In=Le.unproject(Ut.add(Nt.mult(pn*Dn)).mult(an));Le.setLocationAtPoint(Le.renderWorldCopies?In.wrap():In,tt)}ye._fireMoveEvents(ee)},function(pn){ye._afterEase(ee,pn)},G),this},q.prototype._prepareEase=function(G,ee,ye){void 0===ye&&(ye={}),this._moving=!0,ee||ye.moving||this.fire(new u.Event("movestart",G)),this._zooming&&!ye.zooming&&this.fire(new u.Event("zoomstart",G)),this._rotating&&!ye.rotating&&this.fire(new u.Event("rotatestart",G)),this._pitching&&!ye.pitching&&this.fire(new u.Event("pitchstart",G))},q.prototype._fireMoveEvents=function(G){this.fire(new u.Event("move",G)),this._zooming&&this.fire(new u.Event("zoom",G)),this._rotating&&this.fire(new u.Event("rotate",G)),this._pitching&&this.fire(new u.Event("pitch",G))},q.prototype._afterEase=function(G,ee){if(!this._easeId||!ee||this._easeId!==ee){delete this._easeId;var ye=this._zooming,Le=this._rotating,V=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,ye&&this.fire(new u.Event("zoomend",G)),Le&&this.fire(new u.Event("rotateend",G)),V&&this.fire(new u.Event("pitchend",G)),this.fire(new u.Event("moveend",G))}},q.prototype.flyTo=function(G,ee){var ye=this;if(!G.essential&&u.browser.prefersReducedMotion){var Le=u.pick(G,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Le,ee)}this.stop(),G=u.extend({offset:[0,0],speed:1.2,curve:1.42,easing:u.ease},G);var V=this.transform,ne=this.getZoom(),ce=this.getBearing(),_e=this.getPitch(),Ae=this.getPadding(),Fe="zoom"in G?u.clamp(+G.zoom,V.minZoom,V.maxZoom):ne,We="bearing"in G?this._normalizeBearing(G.bearing,ce):ce,Ye="pitch"in G?+G.pitch:_e,Je="padding"in G?G.padding:V.padding,tt=V.zoomScale(Fe-ne),lt=u.Point.convert(G.offset),yt=V.centerPoint.add(lt),wt=V.pointLocation(yt),zt=u.LngLat.convert(G.center||wt);this._normalizeCenter(zt);var Ut=V.project(wt),Nt=V.project(zt).sub(Ut),$t=G.curve,Bt=Math.max(V.width,V.height),pn=Bt/tt,an=Nt.mag();if("minZoom"in G){var en=u.clamp(Math.min(G.minZoom,ne,Fe),V.minZoom,V.maxZoom),Dn=Bt/V.zoomScale(en-ne);$t=Math.sqrt(Dn/an*2)}var In=$t*$t;function Kn(Qn){var wr=(pn*pn-Bt*Bt+(Qn?-1:1)*In*In*an*an)/(2*(Qn?pn:Bt)*In*an);return Math.log(Math.sqrt(wr*wr+1)-wr)}function Yn(Qn){return(Math.exp(Qn)-Math.exp(-Qn))/2}function ir(Qn){return(Math.exp(Qn)+Math.exp(-Qn))/2}var dr=Kn(0),yr=function(Qn){return ir(dr)/ir(dr+$t*Qn)},kr=function(Qn){return Bt*((ir(dr)*(Yn(wr=dr+$t*Qn)/ir(wr))-Yn(dr))/In)/an;var wr},Cr=(Kn(1)-dr)/$t;if(Math.abs(an)<1e-6||!isFinite(Cr)){if(Math.abs(Bt-pn)<1e-6)return this.easeTo(G,ee);var Lr=pn<Bt?-1:1;Cr=Math.abs(Math.log(pn/Bt))/$t,kr=function(){return 0},yr=function(Qn){return Math.exp(Lr*$t*Qn)}}return G.duration="duration"in G?+G.duration:1e3*Cr/("screenSpeed"in G?+G.screenSpeed/$t:+G.speed),G.maxDuration&&G.duration>G.maxDuration&&(G.duration=0),this._zooming=!0,this._rotating=ce!==We,this._pitching=Ye!==_e,this._padding=!V.isPaddingEqual(Je),this._prepareEase(ee,!1),this._ease(function(Qn){var wr=Qn*Cr,Er=1/yr(wr);V.zoom=1===Qn?Fe:ne+V.scaleZoom(Er),ye._rotating&&(V.bearing=u.number(ce,We,Qn)),ye._pitching&&(V.pitch=u.number(_e,Ye,Qn)),ye._padding&&(V.interpolatePadding(Ae,Je,Qn),yt=V.centerPoint.add(lt));var jr=1===Qn?zt:V.unproject(Ut.add(Nt.mult(kr(wr))).mult(Er));V.setLocationAtPoint(V.renderWorldCopies?jr.wrap():jr,yt),ye._fireMoveEvents(ee)},function(){return ye._afterEase(ee)},G),this},q.prototype.isEasing=function(){return!!this._easeFrameId},q.prototype.stop=function(){return this._stop()},q.prototype._stop=function(G,ee){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var ye=this._onEaseEnd;delete this._onEaseEnd,ye.call(this,ee)}if(!G){var Le=this.handlers;Le&&Le.stop()}return this},q.prototype._ease=function(G,ee,ye){!1===ye.animate||0===ye.duration?(G(1),ee()):(this._easeStart=u.browser.now(),this._easeOptions=ye,this._onEaseFrame=G,this._onEaseEnd=ee,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},q.prototype._renderFrameCallback=function(){var G=Math.min((u.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(G)),G<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},q.prototype._normalizeBearing=function(G,ee){G=u.wrap(G,-180,180);var ye=Math.abs(G-ee);return Math.abs(G-360-ee)<ye&&(G-=360),Math.abs(G+360-ee)<ye&&(G+=360),G},q.prototype._normalizeCenter=function(G){var ee=this.transform;if(ee.renderWorldCopies&&!ee.lngRange){var ye=G.lng-ee.center.lng;G.lng+=ye>180?-360:ye<-180?360:0}},q}(u.Evented),Ra=function(j){void 0===j&&(j={}),this.options=j,u.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Ra.prototype.getDefaultPosition=function(){return"bottom-right"},Ra.prototype.onAdd=function(j){var q=this.options&&this.options.compact;return this._map=j,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=T.create("div","mapboxgl-ctrl-attrib-inner",this._container),q&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===q&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ra.prototype.onRemove=function(){T.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ra.prototype._updateEditLink=function(){var j=this._editLink;j||(j=this._editLink=this._container.querySelector(".mapbox-improve-map"));var q=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||u.config.ACCESS_TOKEN}];if(j){var G=q.reduce(function(ee,ye,Le){return ye.value&&(ee+=ye.key+"="+ye.value+(Le<q.length-1?"&":"")),ee},"?");j.href=u.config.FEEDBACK_URL+"/"+G+(this._map._hash?this._map._hash.getHashString(!0):""),j.rel="noopener nofollow"}},Ra.prototype._updateData=function(j){!j||"metadata"!==j.sourceDataType&&"style"!==j.dataType||(this._updateAttributions(),this._updateEditLink())},Ra.prototype._updateAttributions=function(){if(this._map.style){var j=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?j=j.concat(this.options.customAttribution.map(function(ne){return"string"!=typeof ne?"":ne})):"string"==typeof this.options.customAttribution&&j.push(this.options.customAttribution)),this._map.style.stylesheet){var q=this._map.style.stylesheet;this.styleOwner=q.owner,this.styleId=q.id}var G=this._map.style.sourceCaches;for(var ee in G){var ye=G[ee];if(ye.used){var Le=ye.getSource();Le.attribution&&j.indexOf(Le.attribution)<0&&j.push(Le.attribution)}}j.sort(function(ne,ce){return ne.length-ce.length});var V=(j=j.filter(function(ne,ce){for(var _e=ce+1;_e<j.length;_e++)if(j[_e].indexOf(ne)>=0)return!1;return!0})).join(" | ");V!==this._attribHTML&&(this._attribHTML=V,j.length?(this._innerContainer.innerHTML=V,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ra.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Wo=function(){u.bindAll(["_updateLogo"],this),u.bindAll(["_updateCompact"],this)};Wo.prototype.onAdd=function(j){this._map=j,this._container=T.create("div","mapboxgl-ctrl");var q=T.create("a","mapboxgl-ctrl-logo");return q.target="_blank",q.rel="noopener nofollow",q.href="https://www.mapbox.com/",q.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),q.setAttribute("rel","noopener nofollow"),this._container.appendChild(q),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Wo.prototype.onRemove=function(){T.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Wo.prototype.getDefaultPosition=function(){return"bottom-left"},Wo.prototype._updateLogo=function(j){j&&"metadata"!==j.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Wo.prototype._logoRequired=function(){if(this._map.style){var j=this._map.style.sourceCaches;for(var q in j)if(j[q].getSource().mapbox_logo)return!0;return!1}},Wo.prototype._updateCompact=function(){var j=this._container.children;if(j.length){var q=j[0];this._map.getCanvasContainer().offsetWidth<250?q.classList.add("mapboxgl-compact"):q.classList.remove("mapboxgl-compact")}};var qs=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};qs.prototype.add=function(j){var q=++this._id;return this._queue.push({callback:j,id:q,cancelled:!1}),q},qs.prototype.remove=function(j){for(var q=this._currentlyRunning,G=0,ee=q?this._queue.concat(q):this._queue;G<ee.length;G+=1){var ye=ee[G];if(ye.id===j)return void(ye.cancelled=!0)}},qs.prototype.run=function(j){void 0===j&&(j=0);var q=this._currentlyRunning=this._queue;this._queue=[];for(var G=0,ee=q;G<ee.length;G+=1){var ye=ee[G];if(!ye.cancelled&&(ye.callback(j),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},qs.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Pu={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Co=u.window.HTMLImageElement,eo=u.window.HTMLElement,rs=u.window.ImageBitmap,Ls={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ou=function(j){function q(ee){var ye=this;if(null!=(ee=u.extend({},Ls,ee)).minZoom&&null!=ee.maxZoom&&ee.minZoom>ee.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=ee.minPitch&&null!=ee.maxPitch&&ee.minPitch>ee.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=ee.minPitch&&ee.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=ee.maxPitch&&ee.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var Le=new fi(ee.minZoom,ee.maxZoom,ee.minPitch,ee.maxPitch,ee.renderWorldCopies);if(j.call(this,Le,ee),this._interactive=ee.interactive,this._maxTileCacheSize=ee.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ee.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ee.preserveDrawingBuffer,this._antialias=ee.antialias,this._trackResize=ee.trackResize,this._bearingSnap=ee.bearingSnap,this._refreshExpiredTiles=ee.refreshExpiredTiles,this._fadeDuration=ee.fadeDuration,this._crossSourceCollisions=ee.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ee.collectResourceTiming,this._renderTaskQueue=new qs,this._controls=[],this._mapId=u.uniqueId(),this._locale=u.extend({},Pu,ee.locale),this._requestManager=new u.RequestManager(ee.transformRequest,ee.accessToken),"string"==typeof ee.container){if(this._container=u.window.document.getElementById(ee.container),!this._container)throw new Error("Container '"+ee.container+"' not found.")}else{if(!(ee.container instanceof eo))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=ee.container}if(ee.maxBounds&&this.setMaxBounds(ee.maxBounds),u.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ye._update(!1)}),this.on("moveend",function(){return ye._update(!1)}),this.on("zoom",function(){return ye._update(!0)}),void 0!==u.window&&(u.window.addEventListener("online",this._onWindowOnline,!1),u.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new Mi(this,ee),this._hash=ee.hash&&new Ho("string"==typeof ee.hash&&ee.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:ee.center,zoom:ee.zoom,bearing:ee.bearing,pitch:ee.pitch}),ee.bounds&&(this.resize(),this.fitBounds(ee.bounds,u.extend({},ee.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ee.localIdeographFontFamily,ee.style&&this.setStyle(ee.style,{localIdeographFontFamily:ee.localIdeographFontFamily}),ee.attributionControl&&this.addControl(new Ra({customAttribution:ee.customAttribution})),this.addControl(new Wo,ee.logoPosition),this.on("style.load",function(){ye.transform.unmodified&&ye.jumpTo(ye.style.stylesheet)}),this.on("data",function(ne){ye._update("style"===ne.dataType),ye.fire(new u.Event(ne.dataType+"data",ne))}),this.on("dataloading",function(ne){ye.fire(new u.Event(ne.dataType+"dataloading",ne))})}j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q;var G={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return q.prototype._getMapId=function(){return this._mapId},q.prototype.addControl=function(ee,ye){if(void 0===ye&&ee.getDefaultPosition&&(ye=ee.getDefaultPosition()),void 0===ye&&(ye="top-right"),!ee||!ee.onAdd)return this.fire(new u.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Le=ee.onAdd(this);this._controls.push(ee);var V=this._controlPositions[ye];return-1!==ye.indexOf("bottom")?V.insertBefore(Le,V.firstChild):V.appendChild(Le),this},q.prototype.removeControl=function(ee){if(!ee||!ee.onRemove)return this.fire(new u.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var ye=this._controls.indexOf(ee);return ye>-1&&this._controls.splice(ye,1),ee.onRemove(this),this},q.prototype.resize=function(ee){var ye=this._containerDimensions(),Le=ye[0],V=ye[1];this._resizeCanvas(Le,V),this.transform.resize(Le,V),this.painter.resize(Le,V);var ne=!this._moving;return ne&&(this.stop(),this.fire(new u.Event("movestart",ee)).fire(new u.Event("move",ee))),this.fire(new u.Event("resize",ee)),ne&&this.fire(new u.Event("moveend",ee)),this},q.prototype.getBounds=function(){return this.transform.getBounds()},q.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},q.prototype.setMaxBounds=function(ee){return this.transform.setMaxBounds(u.LngLatBounds.convert(ee)),this._update()},q.prototype.setMinZoom=function(ee){if((ee=ee??-2)>=-2&&ee<=this.transform.maxZoom)return this.transform.minZoom=ee,this._update(),this.getZoom()<ee&&this.setZoom(ee),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},q.prototype.getMinZoom=function(){return this.transform.minZoom},q.prototype.setMaxZoom=function(ee){if((ee=ee??22)>=this.transform.minZoom)return this.transform.maxZoom=ee,this._update(),this.getZoom()>ee&&this.setZoom(ee),this;throw new Error("maxZoom must be greater than the current minZoom")},q.prototype.getMaxZoom=function(){return this.transform.maxZoom},q.prototype.setMinPitch=function(ee){if((ee=ee??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(ee>=0&&ee<=this.transform.maxPitch)return this.transform.minPitch=ee,this._update(),this.getPitch()<ee&&this.setPitch(ee),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},q.prototype.getMinPitch=function(){return this.transform.minPitch},q.prototype.setMaxPitch=function(ee){if((ee=ee??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(ee>=this.transform.minPitch)return this.transform.maxPitch=ee,this._update(),this.getPitch()>ee&&this.setPitch(ee),this;throw new Error("maxPitch must be greater than the current minPitch")},q.prototype.getMaxPitch=function(){return this.transform.maxPitch},q.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},q.prototype.setRenderWorldCopies=function(ee){return this.transform.renderWorldCopies=ee,this._update()},q.prototype.project=function(ee){return this.transform.locationPoint(u.LngLat.convert(ee))},q.prototype.unproject=function(ee){return this.transform.pointLocation(u.Point.convert(ee))},q.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},q.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},q.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},q.prototype._createDelegatedListener=function(ee,ye,Le){var V,ne=this;if("mouseenter"===ee||"mouseover"===ee){var ce=!1;return{layer:ye,listener:Le,delegates:{mousemove:function(Ae){var Fe=ne.getLayer(ye)?ne.queryRenderedFeatures(Ae.point,{layers:[ye]}):[];Fe.length?ce||(ce=!0,Le.call(ne,new pi(ee,ne,Ae.originalEvent,{features:Fe}))):ce=!1},mouseout:function(){ce=!1}}}}if("mouseleave"===ee||"mouseout"===ee){var _e=!1;return{layer:ye,listener:Le,delegates:{mousemove:function(Ae){(ne.getLayer(ye)?ne.queryRenderedFeatures(Ae.point,{layers:[ye]}):[]).length?_e=!0:_e&&(_e=!1,Le.call(ne,new pi(ee,ne,Ae.originalEvent)))},mouseout:function(Ae){_e&&(_e=!1,Le.call(ne,new pi(ee,ne,Ae.originalEvent)))}}}}return{layer:ye,listener:Le,delegates:(V={},V[ee]=function(Ae){var Fe=ne.getLayer(ye)?ne.queryRenderedFeatures(Ae.point,{layers:[ye]}):[];Fe.length&&(Ae.features=Fe,Le.call(ne,Ae),delete Ae.features)},V)}},q.prototype.on=function(ee,ye,Le){if(void 0===Le)return j.prototype.on.call(this,ee,ye);var V=this._createDelegatedListener(ee,ye,Le);for(var ne in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ee]=this._delegatedListeners[ee]||[],this._delegatedListeners[ee].push(V),V.delegates)this.on(ne,V.delegates[ne]);return this},q.prototype.once=function(ee,ye,Le){if(void 0===Le)return j.prototype.once.call(this,ee,ye);var V=this._createDelegatedListener(ee,ye,Le);for(var ne in V.delegates)this.once(ne,V.delegates[ne]);return this},q.prototype.off=function(ee,ye,Le){var V=this;return void 0===Le?j.prototype.off.call(this,ee,ye):(this._delegatedListeners&&this._delegatedListeners[ee]&&function(ne){for(var ce=ne[ee],_e=0;_e<ce.length;_e++){var Ae=ce[_e];if(Ae.layer===ye&&Ae.listener===Le){for(var Fe in Ae.delegates)V.off(Fe,Ae.delegates[Fe]);return ce.splice(_e,1),V}}}(this._delegatedListeners),this)},q.prototype.queryRenderedFeatures=function(ee,ye){if(!this.style)return[];var Le;if(void 0!==ye||void 0===ee||ee instanceof u.Point||Array.isArray(ee)||(ye=ee,ee=void 0),ye=ye||{},(ee=ee||[[0,0],[this.transform.width,this.transform.height]])instanceof u.Point||"number"==typeof ee[0])Le=[u.Point.convert(ee)];else{var V=u.Point.convert(ee[0]),ne=u.Point.convert(ee[1]);Le=[V,new u.Point(ne.x,V.y),ne,new u.Point(V.x,ne.y),V]}return this.style.queryRenderedFeatures(Le,ye,this.transform)},q.prototype.querySourceFeatures=function(ee,ye){return this.style.querySourceFeatures(ee,ye)},q.prototype.setStyle=function(ee,ye){return!1!==(ye=u.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},ye)).diff&&ye.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ee?(this._diffStyle(ee,ye),this):(this._localIdeographFontFamily=ye.localIdeographFontFamily,this._updateStyle(ee,ye))},q.prototype._getUIString=function(ee){var ye=this._locale[ee];if(null==ye)throw new Error("Missing UI string '"+ee+"'");return ye},q.prototype._updateStyle=function(ee,ye){return this.style&&(this.style.setEventedParent(null),this.style._remove()),ee?(this.style=new Tr(this,ye||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof ee?this.style.loadURL(ee):this.style.loadJSON(ee),this):(delete this.style,this)},q.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Tr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},q.prototype._diffStyle=function(ee,ye){var Le=this;if("string"==typeof ee){var V=this._requestManager.normalizeStyleURL(ee),ne=this._requestManager.transformRequest(V,u.ResourceType.Style);u.getJSON(ne,function(ce,_e){ce?Le.fire(new u.ErrorEvent(ce)):_e&&Le._updateDiff(_e,ye)})}else"object"==typeof ee&&this._updateDiff(ee,ye)},q.prototype._updateDiff=function(ee,ye){try{this.style.setState(ee)&&this._update(!0)}catch(Le){u.warnOnce("Unable to perform style diff: "+(Le.message||Le.error||Le)+".  Rebuilding the style from scratch."),this._updateStyle(ee,ye)}},q.prototype.getStyle=function(){if(this.style)return this.style.serialize()},q.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():u.warnOnce("There is no style added to the map.")},q.prototype.addSource=function(ee,ye){return this._lazyInitEmptyStyle(),this.style.addSource(ee,ye),this._update(!0)},q.prototype.isSourceLoaded=function(ee){var ye=this.style&&this.style.sourceCaches[ee];if(void 0!==ye)return ye.loaded();this.fire(new u.ErrorEvent(new Error("There is no source with ID '"+ee+"'")))},q.prototype.areTilesLoaded=function(){var ee=this.style&&this.style.sourceCaches;for(var ye in ee){var Le=ee[ye]._tiles;for(var V in Le){var ne=Le[V];if("loaded"!==ne.state&&"errored"!==ne.state)return!1}}return!0},q.prototype.addSourceType=function(ee,ye,Le){return this._lazyInitEmptyStyle(),this.style.addSourceType(ee,ye,Le)},q.prototype.removeSource=function(ee){return this.style.removeSource(ee),this._update(!0)},q.prototype.getSource=function(ee){return this.style.getSource(ee)},q.prototype.addImage=function(ee,ye,Le){void 0===Le&&(Le={});var V=Le.pixelRatio;void 0===V&&(V=1);var ne=Le.sdf;void 0===ne&&(ne=!1);var ce=Le.stretchX,_e=Le.stretchY,Ae=Le.content;if(this._lazyInitEmptyStyle(),ye instanceof Co||rs&&ye instanceof rs){var Fe=u.browser.getImageData(ye);this.style.addImage(ee,{data:new u.RGBAImage({width:Fe.width,height:Fe.height},Fe.data),pixelRatio:V,stretchX:ce,stretchY:_e,content:Ae,sdf:ne,version:0})}else{if(void 0===ye.width||void 0===ye.height)return this.fire(new u.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var wt=ye;this.style.addImage(ee,{data:new u.RGBAImage({width:ye.width,height:ye.height},new Uint8Array(ye.data)),pixelRatio:V,stretchX:ce,stretchY:_e,content:Ae,sdf:ne,version:0,userImage:wt}),wt.onAdd&&wt.onAdd(this,ee)}},q.prototype.updateImage=function(ee,ye){var Le=this.style.getImage(ee);if(!Le)return this.fire(new u.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var V=ye instanceof Co||rs&&ye instanceof rs?u.browser.getImageData(ye):ye,ne=V.width,ce=V.height,_e=V.data;return void 0===ne||void 0===ce?this.fire(new u.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):ne!==Le.data.width||ce!==Le.data.height?this.fire(new u.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(Le.data.replace(_e,!(ye instanceof Co||rs&&ye instanceof rs)),void this.style.updateImage(ee,Le))},q.prototype.hasImage=function(ee){return ee?!!this.style.getImage(ee):(this.fire(new u.ErrorEvent(new Error("Missing required image id"))),!1)},q.prototype.removeImage=function(ee){this.style.removeImage(ee)},q.prototype.loadImage=function(ee,ye){u.getImage(this._requestManager.transformRequest(ee,u.ResourceType.Image),ye)},q.prototype.listImages=function(){return this.style.listImages()},q.prototype.addLayer=function(ee,ye){return this._lazyInitEmptyStyle(),this.style.addLayer(ee,ye),this._update(!0)},q.prototype.moveLayer=function(ee,ye){return this.style.moveLayer(ee,ye),this._update(!0)},q.prototype.removeLayer=function(ee){return this.style.removeLayer(ee),this._update(!0)},q.prototype.getLayer=function(ee){return this.style.getLayer(ee)},q.prototype.setLayerZoomRange=function(ee,ye,Le){return this.style.setLayerZoomRange(ee,ye,Le),this._update(!0)},q.prototype.setFilter=function(ee,ye,Le){return void 0===Le&&(Le={}),this.style.setFilter(ee,ye,Le),this._update(!0)},q.prototype.getFilter=function(ee){return this.style.getFilter(ee)},q.prototype.setPaintProperty=function(ee,ye,Le,V){return void 0===V&&(V={}),this.style.setPaintProperty(ee,ye,Le,V),this._update(!0)},q.prototype.getPaintProperty=function(ee,ye){return this.style.getPaintProperty(ee,ye)},q.prototype.setLayoutProperty=function(ee,ye,Le,V){return void 0===V&&(V={}),this.style.setLayoutProperty(ee,ye,Le,V),this._update(!0)},q.prototype.getLayoutProperty=function(ee,ye){return this.style.getLayoutProperty(ee,ye)},q.prototype.setLight=function(ee,ye){return void 0===ye&&(ye={}),this._lazyInitEmptyStyle(),this.style.setLight(ee,ye),this._update(!0)},q.prototype.getLight=function(){return this.style.getLight()},q.prototype.setFeatureState=function(ee,ye){return this.style.setFeatureState(ee,ye),this._update()},q.prototype.removeFeatureState=function(ee,ye){return this.style.removeFeatureState(ee,ye),this._update()},q.prototype.getFeatureState=function(ee){return this.style.getFeatureState(ee)},q.prototype.getContainer=function(){return this._container},q.prototype.getCanvasContainer=function(){return this._canvasContainer},q.prototype.getCanvas=function(){return this._canvas},q.prototype._containerDimensions=function(){var ee=0,ye=0;return this._container&&(ee=this._container.clientWidth||400,ye=this._container.clientHeight||300),[ee,ye]},q.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==u.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&u.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},q.prototype._setupContainer=function(){var ee=this._container;ee.classList.add("mapboxgl-map"),(this._missingCSSCanary=T.create("div","mapboxgl-canary",ee)).style.visibility="hidden",this._detectMissingCSS();var ye=this._canvasContainer=T.create("div","mapboxgl-canvas-container",ee);this._interactive&&ye.classList.add("mapboxgl-interactive"),this._canvas=T.create("canvas","mapboxgl-canvas",ye),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var Le=this._containerDimensions();this._resizeCanvas(Le[0],Le[1]);var V=this._controlContainer=T.create("div","mapboxgl-control-container",ee),ne=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ce){ne[ce]=T.create("div","mapboxgl-ctrl-"+ce,V)})},q.prototype._resizeCanvas=function(ee,ye){var Le=u.browser.devicePixelRatio||1;this._canvas.width=Le*ee,this._canvas.height=Le*ye,this._canvas.style.width=ee+"px",this._canvas.style.height=ye+"px"},q.prototype._setupPainter=function(){var ee=u.extend({},A.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ye=this._canvas.getContext("webgl",ee)||this._canvas.getContext("experimental-webgl",ee);ye?(this.painter=new yi(ye,this.transform),u.webpSupported.testSupport(ye)):this.fire(new u.ErrorEvent(new Error("Failed to initialize WebGL")))},q.prototype._contextLost=function(ee){ee.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new u.Event("webglcontextlost",{originalEvent:ee}))},q.prototype._contextRestored=function(ee){this._setupPainter(),this.resize(),this._update(),this.fire(new u.Event("webglcontextrestored",{originalEvent:ee}))},q.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},q.prototype._update=function(ee){return this.style?(this._styleDirty=this._styleDirty||ee,this._sourcesDirty=!0,this.triggerRepaint(),this):this},q.prototype._requestRenderFrame=function(ee){return this._update(),this._renderTaskQueue.add(ee)},q.prototype._cancelRenderFrame=function(ee){this._renderTaskQueue.remove(ee)},q.prototype._render=function(ee){var ye,Le=this,V=0,ne=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(ye=ne.createQueryEXT(),ne.beginQueryEXT(ne.TIME_ELAPSED_EXT,ye),V=u.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ee),!this._removed){var ce=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var _e=this.transform.zoom,Ae=u.browser.now();this.style.zoomHistory.update(_e,Ae);var Fe=new u.EvaluationParameters(_e,{now:Ae,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),We=Fe.crossFadingFactor();1===We&&We===this._crossFadingFactor||(ce=!0,this._crossFadingFactor=We),this.style.update(Fe)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new u.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new u.Event("load"))),this.style&&(this.style.hasTransitions()||ce)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Ye=u.browser.now()-V;ne.endQueryEXT(ne.TIME_ELAPSED_EXT,ye),setTimeout(function(){var tt=ne.getQueryObjectEXT(ye,ne.QUERY_RESULT_EXT)/1e6;ne.deleteQueryEXT(ye),Le.fire(new u.Event("gpu-timing-frame",{cpuTime:Ye,gpuTime:tt}))},50)}if(this.listens("gpu-timing-layer")){var Je=this.painter.collectGpuTimers();setTimeout(function(){var tt=Le.painter.queryGpuTimers(Je);Le.fire(new u.Event("gpu-timing-layer",{layerTimes:tt}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new u.Event("idle"))),this}},q.prototype.remove=function(){this._hash&&this._hash.remove();for(var ee=0,ye=this._controls;ee<ye.length;ee+=1)ye[ee].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==u.window&&(u.window.removeEventListener("resize",this._onWindowResize,!1),u.window.removeEventListener("online",this._onWindowOnline,!1));var Le=this.painter.context.gl.getExtension("WEBGL_lose_context");Le&&Le.loseContext(),yl(this._canvasContainer),yl(this._controlContainer),yl(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new u.Event("remove"))},q.prototype.triggerRepaint=function(){var ee=this;this.style&&!this._frame&&(this._frame=u.browser.frame(function(ye){ee._frame=null,ee._render(ye)}))},q.prototype._onWindowOnline=function(){this._update()},q.prototype._onWindowResize=function(ee){this._trackResize&&this.resize({originalEvent:ee})._update()},G.showTileBoundaries.get=function(){return!!this._showTileBoundaries},G.showTileBoundaries.set=function(ee){this._showTileBoundaries!==ee&&(this._showTileBoundaries=ee,this._update())},G.showPadding.get=function(){return!!this._showPadding},G.showPadding.set=function(ee){this._showPadding!==ee&&(this._showPadding=ee,this._update())},G.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},G.showCollisionBoxes.set=function(ee){this._showCollisionBoxes!==ee&&(this._showCollisionBoxes=ee,ee?this.style._generateCollisionBoxes():this._update())},G.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},G.showOverdrawInspector.set=function(ee){this._showOverdrawInspector!==ee&&(this._showOverdrawInspector=ee,this._update())},G.repaint.get=function(){return!!this._repaint},G.repaint.set=function(ee){this._repaint!==ee&&(this._repaint=ee,this.triggerRepaint())},G.vertices.get=function(){return!!this._vertices},G.vertices.set=function(ee){this._vertices=ee,this._update()},q.prototype._setCacheLimits=function(ee,ye){u.setCacheLimits(ee,ye)},G.version.get=function(){return u.version},Object.defineProperties(q.prototype,G),q}(vl);function yl(j){j.parentNode&&j.parentNode.removeChild(j)}var Nl={showCompass:!0,showZoom:!0,visualizePitch:!1},Zo=function(j){var q=this;this.options=u.extend({},Nl,j),this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(G){return G.preventDefault()}),this.options.showZoom&&(u.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(G){return q._map.zoomIn({},{originalEvent:G})}),T.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(G){return q._map.zoomOut({},{originalEvent:G})}),T.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(u.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(G){q.options.visualizePitch?q._map.resetNorthPitch({},{originalEvent:G}):q._map.resetNorth({},{originalEvent:G})}),this._compassIcon=T.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Zo.prototype._updateZoomButtons=function(){var j=this._map.getZoom();this._zoomInButton.disabled=j===this._map.getMaxZoom(),this._zoomOutButton.disabled=j===this._map.getMinZoom()},Zo.prototype._rotateCompassArrow=function(){var j=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=j},Zo.prototype.onAdd=function(j){return this._map=j,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new la(this._map,this._compass,this.options.visualizePitch)),this._container},Zo.prototype.onRemove=function(){T.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Zo.prototype._createButton=function(j,q){var G=T.create("button",j,this._container);return G.type="button",G.addEventListener("click",q),G},Zo.prototype._setButtonTitle=function(j,q){var G=this._map._getUIString("NavigationControl."+q);j.title=G,j.setAttribute("aria-label",G)};var la=function(j,q,G){void 0===G&&(G=!1),this._clickTolerance=10,this.element=q,this.mouseRotate=new Ji({clickTolerance:j.dragRotate._mouseRotate._clickTolerance}),this.map=j,G&&(this.mousePitch=new al({clickTolerance:j.dragRotate._mousePitch._clickTolerance})),u.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),T.addEventListener(q,"mousedown",this.mousedown),T.addEventListener(q,"touchstart",this.touchstart,{passive:!1}),T.addEventListener(q,"touchmove",this.touchmove),T.addEventListener(q,"touchend",this.touchend),T.addEventListener(q,"touchcancel",this.reset)};function Yr(j,q,G){if(j=new u.LngLat(j.lng,j.lat),q){var ee=new u.LngLat(j.lng-360,j.lat),ye=new u.LngLat(j.lng+360,j.lat),Le=G.locationPoint(j).distSqr(q);G.locationPoint(ee).distSqr(q)<Le?j=ee:G.locationPoint(ye).distSqr(q)<Le&&(j=ye)}for(;Math.abs(j.lng-G.center.lng)>180;){var V=G.locationPoint(j);if(V.x>=0&&V.y>=0&&V.x<=G.width&&V.y<=G.height)break;j.lng>G.center.lng?j.lng-=360:j.lng+=360}return j}la.prototype.down=function(j,q){this.mouseRotate.mousedown(j,q),this.mousePitch&&this.mousePitch.mousedown(j,q),T.disableDrag()},la.prototype.move=function(j,q){var G=this.map,ee=this.mouseRotate.mousemoveWindow(j,q);if(ee&&ee.bearingDelta&&G.setBearing(G.getBearing()+ee.bearingDelta),this.mousePitch){var ye=this.mousePitch.mousemoveWindow(j,q);ye&&ye.pitchDelta&&G.setPitch(G.getPitch()+ye.pitchDelta)}},la.prototype.off=function(){var j=this.element;T.removeEventListener(j,"mousedown",this.mousedown),T.removeEventListener(j,"touchstart",this.touchstart,{passive:!1}),T.removeEventListener(j,"touchmove",this.touchmove),T.removeEventListener(j,"touchend",this.touchend),T.removeEventListener(j,"touchcancel",this.reset),this.offTemp()},la.prototype.offTemp=function(){T.enableDrag(),T.removeEventListener(u.window,"mousemove",this.mousemove),T.removeEventListener(u.window,"mouseup",this.mouseup)},la.prototype.mousedown=function(j){this.down(u.extend({},j,{ctrlKey:!0,preventDefault:function(){return j.preventDefault()}}),T.mousePos(this.element,j)),T.addEventListener(u.window,"mousemove",this.mousemove),T.addEventListener(u.window,"mouseup",this.mouseup)},la.prototype.mousemove=function(j){this.move(j,T.mousePos(this.element,j))},la.prototype.mouseup=function(j){this.mouseRotate.mouseupWindow(j),this.mousePitch&&this.mousePitch.mouseupWindow(j),this.offTemp()},la.prototype.touchstart=function(j){1!==j.targetTouches.length?this.reset():(this._startPos=this._lastPos=T.touchPos(this.element,j.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return j.preventDefault()}},this._startPos))},la.prototype.touchmove=function(j){1!==j.targetTouches.length?this.reset():(this._lastPos=T.touchPos(this.element,j.targetTouches)[0],this.move({preventDefault:function(){return j.preventDefault()}},this._lastPos))},la.prototype.touchend=function(j){0===j.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},la.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Kr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function tu(j,q,G){var ee=j.classList;for(var ye in Kr)ee.remove("mapboxgl-"+G+"-anchor-"+ye);ee.add("mapboxgl-"+G+"-anchor-"+q)}var ua,Zs=function(j){function q(G,ee){var ye=this;if(j.call(this),(G instanceof u.window.HTMLElement||ee)&&(G=u.extend({element:G},ee)),u.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=G&&G.anchor||"center",this._color=G&&G.color||"#3FB1CE",this._draggable=G&&G.draggable||!1,this._state="inactive",this._rotation=G&&G.rotation||0,this._rotationAlignment=G&&G.rotationAlignment||"auto",this._pitchAlignment=G&&G.pitchAlignment&&"auto"!==G.pitchAlignment?G.pitchAlignment:this._rotationAlignment,G&&G.element)this._element=G.element,this._offset=u.Point.convert(G&&G.offset||[0,0]);else{this._defaultMarker=!0,this._element=T.create("div"),this._element.setAttribute("aria-label","Map marker");var Le=T.createNS("http://www.w3.org/2000/svg","svg");Le.setAttributeNS(null,"display","block"),Le.setAttributeNS(null,"height","41px"),Le.setAttributeNS(null,"width","27px"),Le.setAttributeNS(null,"viewBox","0 0 27 41");var V=T.createNS("http://www.w3.org/2000/svg","g");V.setAttributeNS(null,"stroke","none"),V.setAttributeNS(null,"stroke-width","1"),V.setAttributeNS(null,"fill","none"),V.setAttributeNS(null,"fill-rule","evenodd");var ne=T.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"fill-rule","nonzero");var ce=T.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ce.setAttributeNS(null,"fill","#000000");for(var _e=0,Ae=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];_e<Ae.length;_e+=1){var Fe=Ae[_e],We=T.createNS("http://www.w3.org/2000/svg","ellipse");We.setAttributeNS(null,"opacity","0.04"),We.setAttributeNS(null,"cx","10.5"),We.setAttributeNS(null,"cy","5.80029008"),We.setAttributeNS(null,"rx",Fe.rx),We.setAttributeNS(null,"ry",Fe.ry),ce.appendChild(We)}var Ye=T.createNS("http://www.w3.org/2000/svg","g");Ye.setAttributeNS(null,"fill",this._color);var Je=T.createNS("http://www.w3.org/2000/svg","path");Je.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ye.appendChild(Je);var tt=T.createNS("http://www.w3.org/2000/svg","g");tt.setAttributeNS(null,"opacity","0.25"),tt.setAttributeNS(null,"fill","#000000");var lt=T.createNS("http://www.w3.org/2000/svg","path");lt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),tt.appendChild(lt);var yt=T.createNS("http://www.w3.org/2000/svg","g");yt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),yt.setAttributeNS(null,"fill","#FFFFFF");var wt=T.createNS("http://www.w3.org/2000/svg","g");wt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var zt=T.createNS("http://www.w3.org/2000/svg","circle");zt.setAttributeNS(null,"fill","#000000"),zt.setAttributeNS(null,"opacity","0.25"),zt.setAttributeNS(null,"cx","5.5"),zt.setAttributeNS(null,"cy","5.5"),zt.setAttributeNS(null,"r","5.4999962");var Ut=T.createNS("http://www.w3.org/2000/svg","circle");Ut.setAttributeNS(null,"fill","#FFFFFF"),Ut.setAttributeNS(null,"cx","5.5"),Ut.setAttributeNS(null,"cy","5.5"),Ut.setAttributeNS(null,"r","5.4999962"),wt.appendChild(zt),wt.appendChild(Ut),ne.appendChild(ce),ne.appendChild(Ye),ne.appendChild(tt),ne.appendChild(yt),ne.appendChild(wt),Le.appendChild(ne),this._element.appendChild(Le),this._offset=u.Point.convert(G&&G.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Nt){Nt.preventDefault()}),this._element.addEventListener("mousedown",function(Nt){Nt.preventDefault()}),this._element.addEventListener("focus",function(){var Nt=ye._map.getContainer();Nt.scrollTop=0,Nt.scrollLeft=0}),tu(this._element,this._anchor,"marker"),this._popup=null}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.addTo=function(G){return this.remove(),this._map=G,G.getCanvasContainer().appendChild(this._element),G.on("move",this._update),G.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},q.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),T.remove(this._element),this._popup&&this._popup.remove(),this},q.prototype.getLngLat=function(){return this._lngLat},q.prototype.setLngLat=function(G){return this._lngLat=u.LngLat.convert(G),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},q.prototype.getElement=function(){return this._element},q.prototype.setPopup=function(G){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),G){if(!("offset"in G.options)){var ye=Math.sqrt(Math.pow(13.5,2)/2);G.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[ye,-1*(24.6+ye)],"bottom-right":[-ye,-1*(24.6+ye)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=G,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},q.prototype._onKeyPress=function(G){var ee=G.code,ye=G.charCode||G.keyCode;"Space"!==ee&&"Enter"!==ee&&32!==ye&&13!==ye||this.togglePopup()},q.prototype._onMapClick=function(G){var ee=G.originalEvent.target,ye=this._element;this._popup&&(ee===ye||ye.contains(ee))&&this.togglePopup()},q.prototype.getPopup=function(){return this._popup},q.prototype.togglePopup=function(){var G=this._popup;return G?(G.isOpen()?G.remove():G.addTo(this._map),this):this},q.prototype._update=function(G){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Yr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ee="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?ee="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(ee="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var ye="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?ye="rotateX(0deg)":"map"===this._pitchAlignment&&(ye="rotateX("+this._map.getPitch()+"deg)"),G&&"moveend"!==G.type||(this._pos=this._pos.round()),T.setTransform(this._element,Kr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+ye+" "+ee)}},q.prototype.getOffset=function(){return this._offset},q.prototype.setOffset=function(G){return this._offset=u.Point.convert(G),this._update(),this},q.prototype._onMove=function(G){this._pos=G.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new u.Event("dragstart"))),this.fire(new u.Event("drag"))},q.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new u.Event("dragend")),this._state="inactive"},q.prototype._addDragHandler=function(G){this._element.contains(G.originalEvent.target)&&(G.preventDefault(),this._positionDelta=G.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},q.prototype.setDraggable=function(G){return this._draggable=!!G,this._map&&(G?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},q.prototype.isDraggable=function(){return this._draggable},q.prototype.setRotation=function(G){return this._rotation=G||0,this._update(),this},q.prototype.getRotation=function(){return this._rotation},q.prototype.setRotationAlignment=function(G){return this._rotationAlignment=G||"auto",this._update(),this},q.prototype.getRotationAlignment=function(){return this._rotationAlignment},q.prototype.setPitchAlignment=function(G){return this._pitchAlignment=G&&"auto"!==G?G:this._rotationAlignment,this._update(),this},q.prototype.getPitchAlignment=function(){return this._pitchAlignment},q}(u.Evented),ca={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},nu=0,fa=!1,Fa=function(j){function q(G){j.call(this),this.options=u.extend({},ca,G),u.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.onAdd=function(G){return this._map=G,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),ee=this._setupUI,void 0!==ua?ee(ua):void 0!==u.window.navigator.permissions?u.window.navigator.permissions.query({name:"geolocation"}).then(function(ye){ee(ua="denied"!==ye.state)}):ee(ua=!!u.window.navigator.geolocation),this._container;var ee},q.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(u.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),T.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,nu=0,fa=!1},q.prototype._isOutOfMapMaxBounds=function(G){var ee=this._map.getMaxBounds(),ye=G.coords;return ee&&(ye.longitude<ee.getWest()||ye.longitude>ee.getEast()||ye.latitude<ee.getSouth()||ye.latitude>ee.getNorth())},q.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},q.prototype._onSuccess=function(G){if(this._map){if(this._isOutOfMapMaxBounds(G))return this._setErrorState(),this.fire(new u.Event("outofmaxbounds",G)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=G,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(G),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(G),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new u.Event("geolocate",G)),this._finish()}},q.prototype._updateCamera=function(G){var ee=new u.LngLat(G.coords.longitude,G.coords.latitude),ye=G.coords.accuracy,Le=this._map.getBearing(),V=u.extend({bearing:Le},this.options.fitBoundsOptions);this._map.fitBounds(ee.toBounds(ye),V,{geolocateSource:!0})},q.prototype._updateMarker=function(G){if(G){var ee=new u.LngLat(G.coords.longitude,G.coords.latitude);this._accuracyCircleMarker.setLngLat(ee).addTo(this._map),this._userLocationDotMarker.setLngLat(ee).addTo(this._map),this._accuracy=G.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},q.prototype._updateCircleRadius=function(){var G=this._map._container.clientHeight/2,ee=this._map.unproject([0,G]),ye=this._map.unproject([1,G]),Le=ee.distanceTo(ye),V=Math.ceil(2*this._accuracy/Le);this._circleElement.style.width=V+"px",this._circleElement.style.height=V+"px"},q.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},q.prototype._onError=function(G){if(this._map){if(this.options.trackUserLocation)if(1===G.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ee=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ee,this._geolocateButton.setAttribute("aria-label",ee),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===G.code&&fa)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new u.Event("error",G)),this._finish()}},q.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},q.prototype._setupUI=function(G){var ee=this;if(this._container.addEventListener("contextmenu",function(V){return V.preventDefault()}),this._geolocateButton=T.create("button","mapboxgl-ctrl-geolocate",this._container),T.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===G){u.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var ye=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=ye,this._geolocateButton.setAttribute("aria-label",ye)}else{var Le=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Le,this._geolocateButton.setAttribute("aria-label",Le)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=T.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Zs(this._dotElement),this._circleElement=T.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Zs({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(V){V.geolocateSource||"ACTIVE_LOCK"!==ee._watchState||V.originalEvent&&"resize"===V.originalEvent.type||(ee._watchState="BACKGROUND",ee._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ee._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ee.fire(new u.Event("trackuserlocationend")))})},q.prototype.trigger=function(){if(!this._setup)return u.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new u.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":nu--,fa=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new u.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new u.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var G;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++nu>1?(G={maximumAge:6e5,timeout:0},fa=!0):(G=this.options.positionOptions,fa=!1),this._geolocationWatchID=u.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,G)}}else u.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},q.prototype._clearWatch=function(){u.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},q}(u.Evented),Ys={maxWidth:100,unit:"metric"},ri=function(j){this.options=u.extend({},Ys,j),u.bindAll(["_onMove","setUnit"],this)};function Oo(j,q,G){var ee=G&&G.maxWidth||100,ye=j._container.clientHeight/2,Le=j.unproject([0,ye]),V=j.unproject([ee,ye]),ne=Le.distanceTo(V);if(G&&"imperial"===G.unit){var ce=3.2808*ne;ce>5280?ms(q,ee,ce/5280,j._getUIString("ScaleControl.Miles")):ms(q,ee,ce,j._getUIString("ScaleControl.Feet"))}else G&&"nautical"===G.unit?ms(q,ee,ne/1852,j._getUIString("ScaleControl.NauticalMiles")):ne>=1e3?ms(q,ee,ne/1e3,j._getUIString("ScaleControl.Kilometers")):ms(q,ee,ne,j._getUIString("ScaleControl.Meters"))}function ms(j,q,G,ee){var ye,Le,V,_e,Ae,ne=(ye=G,(Le=Math.pow(10,(""+Math.floor(ye)).length-1))*((V=ye/Le)>=10?10:V>=5?5:V>=3?3:V>=2?2:V>=1?1:(_e=V,Ae=Math.pow(10,Math.ceil(-Math.log(_e)/Math.LN10)),Math.round(_e*Ae)/Ae)));j.style.width=q*(ne/G)+"px",j.innerHTML=ne+"&nbsp;"+ee}ri.prototype.getDefaultPosition=function(){return"bottom-left"},ri.prototype._onMove=function(){Oo(this._map,this._container,this.options)},ri.prototype.onAdd=function(j){return this._map=j,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",j.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},ri.prototype.onRemove=function(){T.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},ri.prototype.setUnit=function(j){this.options.unit=j,Oo(this._map,this._container,this.options)};var Na=function(j){this._fullscreen=!1,j&&j.container&&(j.container instanceof u.window.HTMLElement?this._container=j.container:u.warnOnce("Full screen control 'container' must be a DOM element.")),u.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in u.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in u.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in u.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in u.window.document&&(this._fullscreenchange="MSFullscreenChange")};Na.prototype.onAdd=function(j){return this._map=j,this._container||(this._container=this._map.getContainer()),this._controlContainer=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",u.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Na.prototype.onRemove=function(){T.remove(this._controlContainer),this._map=null,u.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Na.prototype._checkFullscreenSupport=function(){return!!(u.window.document.fullscreenEnabled||u.window.document.mozFullScreenEnabled||u.window.document.msFullscreenEnabled||u.window.document.webkitFullscreenEnabled)},Na.prototype._setupUI=function(){var j=this._fullscreenButton=T.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);T.create("span","mapboxgl-ctrl-icon",j).setAttribute("aria-hidden",!0),j.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),u.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Na.prototype._updateTitle=function(){var j=this._getTitle();this._fullscreenButton.setAttribute("aria-label",j),this._fullscreenButton.title=j},Na.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Na.prototype._isFullscreen=function(){return this._fullscreen},Na.prototype._changeIcon=function(){(u.window.document.fullscreenElement||u.window.document.mozFullScreenElement||u.window.document.webkitFullscreenElement||u.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Na.prototype._onClickFullscreen=function(){this._isFullscreen()?u.window.document.exitFullscreen?u.window.document.exitFullscreen():u.window.document.mozCancelFullScreen?u.window.document.mozCancelFullScreen():u.window.document.msExitFullscreen?u.window.document.msExitFullscreen():u.window.document.webkitCancelFullScreen&&u.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var xl={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},zl=function(j){function q(G){j.call(this),this.options=u.extend(Object.create(xl),G),u.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return j&&(q.__proto__=j),(q.prototype=Object.create(j&&j.prototype)).constructor=q,q.prototype.addTo=function(G){return this._map&&this.remove(),this._map=G,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new u.Event("open")),this},q.prototype.isOpen=function(){return!!this._map},q.prototype.remove=function(){return this._content&&T.remove(this._content),this._container&&(T.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new u.Event("close")),this},q.prototype.getLngLat=function(){return this._lngLat},q.prototype.setLngLat=function(G){return this._lngLat=u.LngLat.convert(G),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},q.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},q.prototype.getElement=function(){return this._container},q.prototype.setText=function(G){return this.setDOMContent(u.window.document.createTextNode(G))},q.prototype.setHTML=function(G){var ee,ye=u.window.document.createDocumentFragment(),Le=u.window.document.createElement("body");for(Le.innerHTML=G;ee=Le.firstChild;)ye.appendChild(ee);return this.setDOMContent(ye)},q.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},q.prototype.setMaxWidth=function(G){return this.options.maxWidth=G,this._update(),this},q.prototype.setDOMContent=function(G){return this._createContent(),this._content.appendChild(G),this._update(),this},q.prototype.addClassName=function(G){this._container&&this._container.classList.add(G)},q.prototype.removeClassName=function(G){this._container&&this._container.classList.remove(G)},q.prototype.toggleClassName=function(G){if(this._container)return this._container.classList.toggle(G)},q.prototype._createContent=function(){this._content&&T.remove(this._content),this._content=T.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=T.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},q.prototype._onMouseUp=function(G){this._update(G.point)},q.prototype._onMouseMove=function(G){this._update(G.point)},q.prototype._onDrag=function(G){this._update(G.point)},q.prototype._update=function(G){var ee=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=T.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=T.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(We){return ee._container.classList.add(We)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Yr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||G)){var Le=this._pos=this._trackPointer&&G?G:this._map.project(this._lngLat),V=this.options.anchor,ne=Bl(this.options.offset);if(!V){var ce,_e=this._container.offsetWidth,Ae=this._container.offsetHeight;ce=Le.y+ne.bottom.y<Ae?["top"]:Le.y>this._map.transform.height-Ae?["bottom"]:[],Le.x<_e/2?ce.push("left"):Le.x>this._map.transform.width-_e/2&&ce.push("right"),V=0===ce.length?"bottom":ce.join("-")}var Fe=Le.add(ne[V]).round();T.setTransform(this._container,Kr[V]+" translate("+Fe.x+"px,"+Fe.y+"px)"),tu(this._container,V,"popup")}},q.prototype._onClose=function(){this.remove()},q}(u.Evented);function Bl(j){if(j){if("number"==typeof j){var q=Math.round(Math.sqrt(.5*Math.pow(j,2)));return{center:new u.Point(0,0),top:new u.Point(0,j),"top-left":new u.Point(q,q),"top-right":new u.Point(-q,q),bottom:new u.Point(0,-j),"bottom-left":new u.Point(q,-q),"bottom-right":new u.Point(-q,-q),left:new u.Point(j,0),right:new u.Point(-j,0)}}if(j instanceof u.Point||Array.isArray(j)){var G=u.Point.convert(j);return{center:G,top:G,"top-left":G,"top-right":G,bottom:G,"bottom-left":G,"bottom-right":G,left:G,right:G}}return{center:u.Point.convert(j.center||[0,0]),top:u.Point.convert(j.top||[0,0]),"top-left":u.Point.convert(j["top-left"]||[0,0]),"top-right":u.Point.convert(j["top-right"]||[0,0]),bottom:u.Point.convert(j.bottom||[0,0]),"bottom-left":u.Point.convert(j["bottom-left"]||[0,0]),"bottom-right":u.Point.convert(j["bottom-right"]||[0,0]),left:u.Point.convert(j.left||[0,0]),right:u.Point.convert(j.right||[0,0])}}return Bl(new u.Point(0,0))}var $s={version:u.version,supported:A,setRTLTextPlugin:u.setRTLTextPlugin,getRTLTextPluginStatus:u.getRTLTextPluginStatus,Map:Ou,NavigationControl:Zo,GeolocateControl:Fa,AttributionControl:Ra,ScaleControl:ri,FullscreenControl:Na,Popup:zl,Marker:Zs,Style:Tr,LngLat:u.LngLat,LngLatBounds:u.LngLatBounds,Point:u.Point,MercatorCoordinate:u.MercatorCoordinate,Evented:u.Evented,config:u.config,prewarm:function(){At().acquire(ut)},clearPrewarmedResources:function(){var j=Tt;j&&(j.isPreloaded()&&1===j.numActive()?(j.release(ut),Tt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return u.config.ACCESS_TOKEN},set accessToken(j){u.config.ACCESS_TOKEN=j},get baseApiUrl(){return u.config.API_URL},set baseApiUrl(j){u.config.API_URL=j},get workerCount(){return ct.workerCount},set workerCount(j){ct.workerCount=j},get maxParallelImageRequests(){return u.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(j){u.config.MAX_PARALLEL_IMAGE_REQUESTS=j},clearStorage:function(j){u.clearTileCache(j)},workerUrl:""};return $s}),C}()},27084:function(ie){"use strict";ie.exports=Math.log2||function(B){return Math.log(B)*Math.LOG2E}},16825:function(ie,B,e){"use strict";ie.exports=function(S,u){u||(u=S,S=window);var A=0,T=0,m=0,l={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function o(h){var _=!1;return"altKey"in h&&(_=_||h.altKey!==l.alt,l.alt=!!h.altKey),"shiftKey"in h&&(_=_||h.shiftKey!==l.shift,l.shift=!!h.shiftKey),"ctrlKey"in h&&(_=_||h.ctrlKey!==l.control,l.control=!!h.ctrlKey),"metaKey"in h&&(_=_||h.metaKey!==l.meta,l.meta=!!h.metaKey),_}function r(h,_){var x=C.x(_),b=C.y(_);"buttons"in _&&(h=0|_.buttons),(h!==A||x!==T||b!==m||o(_))&&(A=0|h,T=x||0,m=b||0,u&&u(A,T,m,l))}function n(h){r(0,h)}function a(){(A||T||m||l.shift||l.alt||l.meta||l.control)&&(T=m=0,A=0,l.shift=l.alt=l.control=l.meta=!1,u&&u(0,0,0,l))}function s(h){o(h)&&u&&u(A,T,m,l)}function c(h){0===C.buttons(h)?r(0,h):r(A,h)}function p(h){r(A|C.buttons(h),h)}function f(h){r(A&~C.buttons(h),h)}function w(){t||(t=!0,S.addEventListener("mousemove",c),S.addEventListener("mousedown",p),S.addEventListener("mouseup",f),S.addEventListener("mouseleave",n),S.addEventListener("mouseenter",n),S.addEventListener("mouseout",n),S.addEventListener("mouseover",n),S.addEventListener("blur",a),S.addEventListener("keyup",s),S.addEventListener("keydown",s),S.addEventListener("keypress",s),S!==window&&(window.addEventListener("blur",a),window.addEventListener("keyup",s),window.addEventListener("keydown",s),window.addEventListener("keypress",s)))}w();var v={element:S};return Object.defineProperties(v,{enabled:{get:function(){return t},set:function(h){h?w():t&&(t=!1,S.removeEventListener("mousemove",c),S.removeEventListener("mousedown",p),S.removeEventListener("mouseup",f),S.removeEventListener("mouseleave",n),S.removeEventListener("mouseenter",n),S.removeEventListener("mouseout",n),S.removeEventListener("mouseover",n),S.removeEventListener("blur",a),S.removeEventListener("keyup",s),S.removeEventListener("keydown",s),S.removeEventListener("keypress",s),S!==window&&(window.removeEventListener("blur",a),window.removeEventListener("keyup",s),window.removeEventListener("keydown",s),window.removeEventListener("keypress",s)))},enumerable:!0},buttons:{get:function(){return A},enumerable:!0},x:{get:function(){return T},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return l},enumerable:!0}}),v};var C=e(74311)},48956:function(ie){var B={left:0,top:0};ie.exports=function(e,C,S){C=C||e.currentTarget||e.srcElement,Array.isArray(S)||(S=[0,0]);var u,A=e.clientX||0,T=e.clientY||0,m=(u=C)===window||u===document||u===document.body?B:u.getBoundingClientRect();return S[0]=A-m.left,S[1]=T-m.top,S}},74311:function(ie,B){"use strict";function e(C){return C.target||C.srcElement||window}B.buttons=function(C){if("object"==typeof C){if("buttons"in C)return C.buttons;if("which"in C){if(2===(S=C.which))return 4;if(3===S)return 2;if(S>0)return 1<<S-1}else if("button"in C){var S;if(1===(S=C.button))return 4;if(2===S)return 2;if(S>=0)return 1<<S}}return 0},B.element=e,B.x=function(C){if("object"==typeof C){if("offsetX"in C)return C.offsetX;var S=e(C).getBoundingClientRect();return C.clientX-S.left}return 0},B.y=function(C){if("object"==typeof C){if("offsetY"in C)return C.offsetY;var S=e(C).getBoundingClientRect();return C.clientY-S.top}return 0}},1195:function(ie,B,e){"use strict";var C=e(75686);ie.exports=function(S,u,A){"function"==typeof S&&(A=!!u,u=S,S=window);var T=C("ex",S),m=function(l){A&&l.preventDefault();var t=l.deltaX||0,o=l.deltaY||0,r=l.deltaZ||0,n=1;switch(l.deltaMode){case 1:n=T;break;case 2:n=window.innerHeight}if(o*=n,r*=n,(t*=n)||o||r)return u(t,o,r,l)};return S.addEventListener("wheel",m),m}},7417:function(ie,B,e){var C,S,u;(u=void 0!==e.g?e.g:this)[S="Promise"]=u[S]||function(){"use strict";var T,m,l,t=Object.prototype.toString,o=typeof setImmediate<"u"?function(x){return setImmediate(x)}:setTimeout;try{Object.defineProperty({},"x",{}),T=function(x,b,M,d){return Object.defineProperty(x,b,{value:M,writable:!0,configurable:!1!==d})}}catch{T=function(b,M,d){return b[M]=d,b}}function r(x,b){l.add(x,b),m||(m=o(l.drain))}function n(x){var b,M=typeof x;return null==x||"object"!=M&&"function"!=M||(b=x.then),"function"==typeof b&&b}function a(){for(var x=0;x<this.chain.length;x++)s(this,1===this.state?this.chain[x].success:this.chain[x].failure,this.chain[x]);this.chain.length=0}function s(x,b,M){var d,E;try{!1===b?M.reject(x.msg):(d=!0===b?x.msg:b.call(void 0,x.msg))===M.promise?M.reject(TypeError("Promise-chain cycle")):(E=n(d))?E.call(d,M.resolve,M.reject):M.resolve(d)}catch(k){M.reject(k)}}function c(x){var b,M=this;if(!M.triggered){M.triggered=!0,M.def&&(M=M.def);try{(b=n(x))?r(function(){var d=new w(M);try{b.call(x,function(){c.apply(d,arguments)},function(){p.apply(d,arguments)})}catch(E){p.call(d,E)}}):(M.msg=x,M.state=1,M.chain.length>0&&r(a,M))}catch(d){p.call(new w(M),d)}}}function p(x){var b=this;b.triggered||(b.triggered=!0,b.def&&(b=b.def),b.msg=x,b.state=2,b.chain.length>0&&r(a,b))}function f(x,b,M,d){for(var E=0;E<b.length;E++)!function(k){x.resolve(b[k]).then(function(I){M(k,I)},d)}(E)}function w(x){this.def=x,this.triggered=!1}function v(x){this.promise=x,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(x){if("function"!=typeof x)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var b=new v(this);this.then=function(M,d){var E={success:"function"!=typeof M||M,failure:"function"==typeof d&&d};return E.promise=new this.constructor(function(k,I){if("function"!=typeof k||"function"!=typeof I)throw TypeError("Not a function");E.resolve=k,E.reject=I}),b.chain.push(E),0!==b.state&&r(a,b),E.promise},this.catch=function(M){return this.then(void 0,M)};try{x.call(void 0,function(M){c.call(b,M)},function(M){p.call(b,M)})}catch(M){p.call(b,M)}}l=function(){var x,b,M;function d(E,k){this.fn=E,this.self=k,this.next=void 0}return{add:function(E,k){M=new d(E,k),b?b.next=M:x=M,b=M,M=void 0},drain:function(){var E=x;for(x=b=m=void 0;E;)E.fn.call(E.self),E=E.next}}}();var _=T({},"constructor",h,!1);return h.prototype=_,T(_,"__NPO__",0,!1),T(h,"resolve",function(x){return x&&"object"==typeof x&&1===x.__NPO__?x:new this(function(b,M){if("function"!=typeof b||"function"!=typeof M)throw TypeError("Not a function");b(x)})}),T(h,"reject",function(x){return new this(function(b,M){if("function"!=typeof b||"function"!=typeof M)throw TypeError("Not a function");M(x)})}),T(h,"all",function(x){var b=this;return"[object Array]"!=t.call(x)?b.reject(TypeError("Not an array")):0===x.length?b.resolve([]):new b(function(M,d){if("function"!=typeof M||"function"!=typeof d)throw TypeError("Not a function");var E=x.length,k=Array(E),I=0;f(b,x,function(L,P){k[L]=P,++I===E&&M(k)},d)})}),T(h,"race",function(x){var b=this;return"[object Array]"!=t.call(x)?b.reject(TypeError("Not an array")):new b(function(M,d){if("function"!=typeof M||"function"!=typeof d)throw TypeError("Not a function");f(b,x,function(E,k){M(k)},d)})}),h}(),ie.exports?ie.exports=u[S]:void 0===(C=function(){return u[S]}.call(B,e,B,ie))||(ie.exports=C)},18625:function(ie){var B=Math.PI,e=T(120);function C(m,l,t,o){return["C",m,l,t,o,t,o]}function S(m,l,t,o,r,n){return["C",m/3+.6666666666666666*t,l/3+.6666666666666666*o,r/3+.6666666666666666*t,n/3+.6666666666666666*o,r,n]}function u(m,l,t,o,r,n,a,s,c,p){if(p)E=p[0],k=p[1],M=p[2],d=p[3];else{var f=A(m,l,-r);l=f.y;var w=((m=f.x)-(s=(f=A(s,c,-r)).x))/2,v=(l-(c=f.y))/2,h=w*w/(t*t)+v*v/(o*o);h>1&&(t*=h=Math.sqrt(h),o*=h);var _=t*t,x=o*o,b=(n==a?-1:1)*Math.sqrt(Math.abs((_*x-_*v*v-x*w*w)/(_*v*v+x*w*w)));b==1/0&&(b=1);var M=b*t*v/o+(m+s)/2,d=b*-o*w/t+(l+c)/2,E=Math.asin(((l-d)/o).toFixed(9)),k=Math.asin(((c-d)/o).toFixed(9));(E=m<M?B-E:E)<0&&(E=2*B+E),(k=s<M?B-k:k)<0&&(k=2*B+k),a&&E>k&&(E-=2*B),!a&&k>E&&(k-=2*B)}if(Math.abs(k-E)>e){var I=k,L=s,P=c;k=E+e*(a&&k>E?1:-1);var R=u(s=M+t*Math.cos(k),c=d+o*Math.sin(k),t,o,r,0,a,L,P,[k,I,M,d])}var z=Math.tan((k-E)/4),$=4/3*t*z,N=4/3*o*z,W=[2*m-(m+$*Math.sin(E)),2*l-(l-N*Math.cos(E)),s+$*Math.sin(k),c-N*Math.cos(k),s,c];if(p)return W;R&&(W=W.concat(R));for(var H=0;H<W.length;){var U=A(W[H],W[H+1],r);W[H++]=U.x,W[H++]=U.y}return W}function A(m,l,t){return{x:m*Math.cos(t)-l*Math.sin(t),y:m*Math.sin(t)+l*Math.cos(t)}}function T(m){return m*(B/180)}ie.exports=function(m){for(var l,t=[],o=0,r=0,n=0,a=0,s=null,c=null,p=0,f=0,w=0,v=m.length;w<v;w++){var h=m[w],_=h[0];switch(_){case"M":n=h[1],a=h[2];break;case"A":(h=u(p,f,h[1],h[2],T(h[3]),h[4],h[5],h[6],h[7])).unshift("C"),h.length>7&&(t.push(h.splice(0,7)),h.unshift("C"));break;case"S":var x=p,b=f;"C"!=l&&"S"!=l||(x+=x-o,b+=b-r),h=["C",x,b,h[1],h[2],h[3],h[4]];break;case"T":"Q"==l||"T"==l?(s=2*p-s,c=2*f-c):(s=p,c=f),h=S(p,f,s,c,h[1],h[2]);break;case"Q":s=h[1],c=h[2],h=S(p,f,h[1],h[2],h[3],h[4]);break;case"L":h=C(p,f,h[1],h[2]);break;case"H":h=C(p,f,h[1],f);break;case"V":h=C(p,f,p,h[1]);break;case"Z":h=C(p,f,n,a)}l=_,p=h[h.length-2],f=h[h.length-1],h.length>4?(o=h[h.length-4],r=h[h.length-3]):(o=p,r=f),t.push(h)}return t}},56131:function(ie){"use strict";var B=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;ie.exports=function(){try{if(!Object.assign)return!1;var S=new String("abc");if(S[5]="de","5"===Object.getOwnPropertyNames(S)[0])return!1;for(var u={},A=0;A<10;A++)u["_"+String.fromCharCode(A)]=A;if("0123456789"!==Object.getOwnPropertyNames(u).map(function(m){return u[m]}).join(""))return!1;var T={};return"abcdefghijklmnopqrst".split("").forEach(function(m){T[m]=m}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},T)).join("")}catch{return!1}}()?Object.assign:function(S,u){for(var A,T,m=function(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}(S),l=1;l<arguments.length;l++){for(var t in A=Object(arguments[l]))e.call(A,t)&&(m[t]=A[t]);if(B){T=B(A);for(var o=0;o<T.length;o++)C.call(A,T[o])&&(m[T[o]]=A[T[o]])}}return m}},65848:function(ie){"use strict";var B=function(e){return e!=e};ie.exports=function(e,C){return 0===e&&0===C?1/e==1/C:e===C||!(!B(e)||!B(C))}},64003:function(ie,B,e){"use strict";var C=e(17045),S=e(68222),u=e(65848),A=e(27015),T=e(55572),m=S(A(),Object);C(m,{getPolyfill:A,implementation:u,shim:T}),ie.exports=m},27015:function(ie,B,e){"use strict";var C=e(65848);ie.exports=function(){return"function"==typeof Object.is?Object.is:C}},55572:function(ie,B,e){"use strict";var C=e(27015),S=e(17045);ie.exports=function(){var u=C();return S(Object,{is:u},{is:function(){return Object.is!==u}}),u}},99019:function(ie,B,e){"use strict";var C;if(!Object.keys){var S=Object.prototype.hasOwnProperty,u=Object.prototype.toString,A=e(64178),T=Object.prototype.propertyIsEnumerable,m=!T.call({toString:null},"toString"),l=T.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=function(a){var s=a.constructor;return s&&s.prototype===a},r={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var a in window)try{if(!r["$"+a]&&S.call(window,a)&&null!==window[a]&&"object"==typeof window[a])try{o(window[a])}catch{return!0}}catch{return!0}return!1}();C=function(a){var s=null!==a&&"object"==typeof a,c="[object Function]"===u.call(a),p=A(a),f=s&&"[object String]"===u.call(a),w=[];if(!s&&!c&&!p)throw new TypeError("Object.keys called on a non-object");var v=l&&c;if(f&&a.length>0&&!S.call(a,0))for(var h=0;h<a.length;++h)w.push(String(h));if(p&&a.length>0)for(var _=0;_<a.length;++_)w.push(String(_));else for(var x in a)v&&"prototype"===x||!S.call(a,x)||w.push(String(x));if(m)for(var b=function(d){if(typeof window>"u"||!n)return o(d);try{return o(d)}catch{return!1}}(a),M=0;M<t.length;++M)b&&"constructor"===t[M]||!S.call(a,t[M])||w.push(t[M]);return w}}ie.exports=C},8709:function(ie,B,e){"use strict";var C=Array.prototype.slice,S=e(64178),u=Object.keys,A=u?function(m){return u(m)}:e(99019),T=Object.keys;A.shim=function(){if(Object.keys){var m=function(){var l=Object.keys(arguments);return l&&l.length===arguments.length}(1,2);m||(Object.keys=function(l){return S(l)?T(C.call(l)):T(l)})}else Object.keys=A;return Object.keys||A},ie.exports=A},64178:function(ie){"use strict";var B=Object.prototype.toString;ie.exports=function(e){var C=B.call(e),S="[object Arguments]"===C;return S||(S="[object Array]"!==C&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===B.call(e.callee)),S}},88641:function(ie){"use strict";function B(S,u){if("string"!=typeof S)return[S];var A=[S];"string"==typeof u||Array.isArray(u)?u={brackets:u}:u||(u={});var T=u.brackets?Array.isArray(u.brackets)?u.brackets:[u.brackets]:["{}","[]","()"],m=u.escape||"___",l=!!u.flat;T.forEach(function(o){var r=new RegExp(["\\",o[0],"[^\\",o[0],"\\",o[1],"]*\\",o[1]].join("")),n=[];function a(s,c,p){var f=A.push(s.slice(o[0].length,-o[1].length))-1;return n.push(f),m+f+m}A.forEach(function(s,c){for(var p,f=0;s!=p;)if(p=s,s=s.replace(r,a),f++>1e4)throw Error("References have circular dependency. Please, check them.");A[c]=s}),n=n.reverse(),A=A.map(function(s){return n.forEach(function(c){s=s.replace(new RegExp("(\\"+m+c+"\\"+m+")","g"),o[0]+"$1"+o[1])}),s})});var t=new RegExp("\\"+m+"([0-9]+)\\"+m);return l?A:function o(r,n,a){for(var s,c=[],p=0;s=t.exec(r);){if(p++>1e4)throw Error("Circular references in parenthesis");c.push(r.slice(0,s.index)),c.push(o(n[s[1]],n)),r=r.slice(s.index+s[0].length)}return c.push(r),c}(A[0],A)}function e(S,u){if(u&&u.flat){var A,T=u&&u.escape||"___",m=S[0];if(!m)return"";for(var l=new RegExp("\\"+T+"([0-9]+)\\"+T),t=0;m!=A;){if(t++>1e4)throw Error("Circular references in "+S);A=m,m=m.replace(l,o)}return m}return S.reduce(function r(n,a){return Array.isArray(a)&&(a=a.reduce(r,"")),n+a},"");function o(r,n){if(null==S[n])throw Error("Reference "+n+"is undefined");return S[n]}}function C(S,u){return Array.isArray(S)?e(S,u):B(S,u)}C.parse=B,C.stringify=e,ie.exports=C},18863:function(ie,B,e){"use strict";var C=e(71299);ie.exports=function(S){var u;return arguments.length>1&&(S=arguments),"string"==typeof S?S=S.split(/\s/).map(parseFloat):"number"==typeof S&&(S=[S]),S.length&&"number"==typeof S[0]?u=1===S.length?{width:S[0],height:S[0],x:0,y:0}:2===S.length?{width:S[0],height:S[1],x:0,y:0}:{x:S[0],y:S[1],width:S[2]-S[0]||0,height:S[3]-S[1]||0}:S&&((u={x:(S=C(S,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:S.top||0}).width=null==S.width?S.right?S.right-u.x:0:S.width,u.height=null==S.height?S.bottom?S.bottom-u.y:0:S.height),u}},95616:function(ie){ie.exports=function(S){var u=[];return S.replace(e,function(A,T,m){var o,l=T.toLowerCase();for(o=void 0,m=(o=m.match(C))?o.map(Number):[],"m"==l&&m.length>2&&(u.push([T].concat(m.splice(0,2))),l="l",T="m"==T?"l":"L");;){if(m.length==B[l])return m.unshift(T),u.push(m);if(m.length<B[l])throw new Error("malformed path data");u.push([T].concat(m.splice(0,B[l])))}}),u};var B={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,C=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(ie){ie.exports=function(B,e){e||(e=[0,""]),B=String(B);var C=parseFloat(B,10);return e[0]=C,e[1]=B.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},9748:function(ie,B,e){var C=e(90386);(function(){var S,u,A,T,m,l;typeof performance<"u"&&null!==performance&&performance.now?ie.exports=function(){return performance.now()}:null!=C&&C.hrtime?(ie.exports=function(){return(S()-m)/1e6},u=C.hrtime,T=(S=function(){var t;return 1e9*(t=u())[0]+t[1]})(),l=1e9*C.uptime(),m=T-l):Date.now?(ie.exports=function(){return Date.now()-A},A=Date.now()):(ie.exports=function(){return(new Date).getTime()-A},A=(new Date).getTime())}).call(this)},71299:function(ie){"use strict";ie.exports=function(C,S,u){var A,T,m={};if("string"==typeof S&&(S=e(S)),Array.isArray(S)){var l={};for(T=0;T<S.length;T++)l[S[T]]=!0;S=l}for(A in S)S[A]=e(S[A]);var t={};for(A in S){var o=S[A];if(Array.isArray(o))for(T=0;T<o.length;T++){var r=o[T];if(u&&(t[r]=!0),r in C){if(m[A]=C[r],u)for(var n=T;n<o.length;n++)t[o[n]]=!0;break}}else A in C&&(S[A]&&(m[A]=C[A]),u&&(t[A]=!0))}if(u)for(A in C)t[A]||(m[A]=C[A]);return m};var B={};function e(C){return B[C]?B[C]:("string"==typeof C&&(C=B[C]=C.split(/\s*,\s*|\s+/)),C)}},38258:function(ie){ie.exports=function(B,e,C,S){var u=B[0],A=B[1],T=!1;void 0===C&&(C=0),void 0===S&&(S=e.length);for(var m=S-C,l=0,t=m-1;l<m;t=l++){var o=e[l+C][0],r=e[l+C][1],a=e[t+C][1];r>A!=a>A&&u<(e[t+C][0]-o)*(A-r)/(a-r)+o&&(T=!T)}return T}},52142:function(ie,B,e){var C,S=e(69444),u=e(29023),A=e(87263),T=e(11328),m=e(55968),l=e(10670),t=!1,o=u();function r(n,a,s){var c=C.segments(n),p=C.segments(a),f=s(C.combine(c,p));return C.polygon(f)}C={buildLog:function(n){return!0===n?t=S():!1===n&&(t=!1),!1!==t&&t.list},epsilon:function(n){return o.epsilon(n)},segments:function(n){var a=A(!0,o,t);return n.regions.forEach(a.addRegion),{segments:a.calculate(n.inverted),inverted:n.inverted}},combine:function(n,a){return{combined:A(!1,o,t).calculate(n.segments,n.inverted,a.segments,a.inverted),inverted1:n.inverted,inverted2:a.inverted}},selectUnion:function(n){return{segments:m.union(n.combined,t),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:m.intersect(n.combined,t),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:m.difference(n.combined,t),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:m.differenceRev(n.combined,t),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:m.xor(n.combined,t),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:T(n.segments,o,t),inverted:n.inverted}},polygonFromGeoJSON:function(n){return l.toPolygon(C,n)},polygonToGeoJSON:function(n){return l.fromPolygon(C,o,n)},union:function(n,a){return r(n,a,C.selectUnion)},intersect:function(n,a){return r(n,a,C.selectIntersect)},difference:function(n,a){return r(n,a,C.selectDifference)},differenceRev:function(n,a){return r(n,a,C.selectDifferenceRev)},xor:function(n,a){return r(n,a,C.selectXor)}},"object"==typeof window&&(window.PolyBool=C),ie.exports=C},69444:function(ie){ie.exports=function(){var B,e=0,C=!1;function S(u,A){return B.list.push({type:u,data:A?JSON.parse(JSON.stringify(A)):void 0}),B}return B={list:[],segmentId:function(){return e++},checkIntersection:function(u,A){return S("check",{seg1:u,seg2:A})},segmentChop:function(u,A){return S("div_seg",{seg:u,pt:A}),S("chop",{seg:u,pt:A})},statusRemove:function(u){return S("pop_seg",{seg:u})},segmentUpdate:function(u){return S("seg_update",{seg:u})},segmentNew:function(u,A){return S("new_seg",{seg:u,primary:A})},segmentRemove:function(u){return S("rem_seg",{seg:u})},tempStatus:function(u,A,T){return S("temp_status",{seg:u,above:A,below:T})},rewind:function(u){return S("rewind",{seg:u})},status:function(u,A,T){return S("status",{seg:u,above:A,below:T})},vert:function(u){return u===C?B:(C=u,S("vert",{x:u}))},log:function(u){return"string"!=typeof u&&(u=JSON.stringify(u,!1,"  ")),S("log",{txt:u})},reset:function(){return S("reset")},selected:function(u){return S("selected",{segs:u})},chainStart:function(u){return S("chain_start",{seg:u})},chainRemoveHead:function(u,A){return S("chain_rem_head",{index:u,pt:A})},chainRemoveTail:function(u,A){return S("chain_rem_tail",{index:u,pt:A})},chainNew:function(u,A){return S("chain_new",{pt1:u,pt2:A})},chainMatch:function(u){return S("chain_match",{index:u})},chainClose:function(u){return S("chain_close",{index:u})},chainAddHead:function(u,A){return S("chain_add_head",{index:u,pt:A})},chainAddTail:function(u,A){return S("chain_add_tail",{index:u,pt:A})},chainConnect:function(u,A){return S("chain_con",{index1:u,index2:A})},chainReverse:function(u){return S("chain_rev",{index:u})},chainJoin:function(u,A){return S("chain_join",{index1:u,index2:A})},done:function(){return S("done")}}}},29023:function(ie){ie.exports=function(B){"number"!=typeof B&&(B=1e-10);var e={epsilon:function(C){return"number"==typeof C&&(B=C),B},pointAboveOrOnLine:function(C,S,u){var A=S[0],T=S[1];return(u[0]-A)*(C[1]-T)-(u[1]-T)*(C[0]-A)>=-B},pointBetween:function(C,S,u){var T=u[0]-S[0],l=u[1]-S[1],t=(C[0]-S[0])*T+(C[1]-S[1])*l;return!(t<B||t-(T*T+l*l)>-B)},pointsSameX:function(C,S){return Math.abs(C[0]-S[0])<B},pointsSameY:function(C,S){return Math.abs(C[1]-S[1])<B},pointsSame:function(C,S){return e.pointsSameX(C,S)&&e.pointsSameY(C,S)},pointsCompare:function(C,S){return e.pointsSameX(C,S)?e.pointsSameY(C,S)?0:C[1]<S[1]?-1:1:C[0]<S[0]?-1:1},pointsCollinear:function(C,S,u){return Math.abs((C[0]-S[0])*(S[1]-u[1])-(S[0]-u[0])*(C[1]-S[1]))<B},linesIntersect:function(C,S,u,A){var T=S[0]-C[0],m=S[1]-C[1],l=A[0]-u[0],t=A[1]-u[1],o=T*t-m*l;if(Math.abs(o)<B)return!1;var r=C[0]-u[0],n=C[1]-u[1],a=(l*n-t*r)/o,s=(T*n-m*r)/o,c={alongA:0,alongB:0,pt:[C[0]+a*T,C[1]+a*m]};return c.alongA=a<=-B?-2:a<B?-1:a-1<=-B?0:a-1<B?1:2,c.alongB=s<=-B?-2:s<B?-1:s-1<=-B?0:s-1<B?1:2,c},pointInsideRegion:function(C,S){for(var u=C[0],A=C[1],T=S[S.length-1][0],m=S[S.length-1][1],l=!1,t=0;t<S.length;t++){var o=S[t][0],r=S[t][1];r-A>B!=m-A>B&&(T-o)*(A-r)/(m-r)+o-u>B&&(l=!l),T=o,m=r}return l}};return e}},10670:function(ie){ie.exports={toPolygon:function(e,C){function S(T){if(T.length<=0)return e.segments({inverted:!1,regions:[]});function m(o){var r=o.slice(0,o.length-1);return e.segments({inverted:!1,regions:[r]})}for(var l=m(T[0]),t=1;t<T.length;t++)l=e.selectDifference(e.combine(l,m(T[t])));return l}if("Polygon"===C.type)return e.polygon(S(C.coordinates));if("MultiPolygon"===C.type){for(var u=e.segments({inverted:!1,regions:[]}),A=0;A<C.coordinates.length;A++)u=e.selectUnion(e.combine(u,S(C.coordinates[A])));return e.polygon(u)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,C,S){function u(s,c){return C.pointInsideRegion([.5*(s[0][0]+s[1][0]),.5*(s[0][1]+s[1][1])],c)}function A(s){return{region:s,children:[]}}S=e.polygon(e.segments(S));var T=A(null);function m(s,c){for(var p=0;p<s.children.length;p++)if(u(c,(w=s.children[p]).region))return void m(w,c);var f=A(c);for(p=0;p<s.children.length;p++){var w;u((w=s.children[p]).region,c)&&(f.children.push(w),s.children.splice(p,1),p--)}s.children.push(f)}for(var l=0;l<S.regions.length;l++){var t=S.regions[l];t.length<3||m(T,t)}function o(s,c){for(var p=0,f=s[s.length-1][0],w=s[s.length-1][1],v=[],h=0;h<s.length;h++){var _=s[h][0],x=s[h][1];v.push([_,x]),p+=x*f-_*w,f=_,w=x}return p<0!==c&&v.reverse(),v.push([v[0][0],v[0][1]]),v}var r=[];function n(s){var c=[o(s.region,!1)];r.push(c);for(var p=0;p<s.children.length;p++)c.push(a(s.children[p]))}function a(s){for(var c=0;c<s.children.length;c++)n(s.children[c]);return o(s.region,!0)}for(l=0;l<T.children.length;l++)n(T.children[l]);return r.length<=0?{type:"Polygon",coordinates:[]}:1==r.length?{type:"Polygon",coordinates:r[0]}:{type:"MultiPolygon",coordinates:r}}}},87263:function(ie,B,e){var C=e(26859);ie.exports=function(S,u,A){function T(n,a,s){return{id:A?A.segmentId():-1,start:n,end:a,myFill:{above:s.myFill.above,below:s.myFill.below},otherFill:null}}var m=C.create();function l(n,a){m.insertBefore(n,function(s){return c=n.isStart,f=a,w=s.isStart,h=s.other.pt,(0!==(_=u.pointsCompare(n.pt,v=s.pt))?_:u.pointsSame(f,h)?0:c!==w?c?1:-1:u.pointAboveOrOnLine(f,w?v:h,w?h:v)?1:-1)<0;var c,f,w,v,h,_})}function t(n,a){var c,f,s=(l(f=C.node({isStart:!0,pt:(c=n).start,seg:c,primary:a,other:null,status:null}),c.end),f);return function(c,p,f){var w=C.node({isStart:!1,pt:p.end,seg:p,primary:f,other:c,status:null});c.other=w,l(w,c.pt)}(s,n,a),s}function o(n,a){var c,p,s=T(a,n.seg.end,n.seg);return c=n,p=a,A&&A.segmentChop(c.seg,p),c.other.remove(),c.seg.end=p,c.other.pt=p,l(c.other,c.pt),t(s,n.primary)}function r(n,a){var s=C.create();function c(I){return s.findTransition(function(L){var P,R,z,$,N,W;return $=(P=I).seg.end,(u.pointsCollinear(z=P.seg.start,N=(R=L.ev).seg.start,W=R.seg.end)?u.pointsCollinear($,N,W)||u.pointAboveOrOnLine($,N,W)?1:-1:u.pointAboveOrOnLine(z,N,W)?1:-1)>0})}function p(I,L){var P=I.seg,R=L.seg,z=P.start,$=P.end,N=R.start,W=R.end;A&&A.checkIntersection(P,R);var H=u.linesIntersect(z,$,N,W);if(!1===H){if(!u.pointsCollinear(z,$,N)||u.pointsSame(z,W)||u.pointsSame($,N))return!1;var U=u.pointsSame(z,N),Z=u.pointsSame($,W);if(U&&Z)return L;var Y=!U&&u.pointBetween(z,N,W),ae=!Z&&u.pointBetween($,N,W);if(U)return ae?o(L,$):o(I,W),L;Y&&(Z||(ae?o(L,$):o(I,W)),o(L,z))}else 0===H.alongA&&(-1===H.alongB?o(I,N):0===H.alongB?o(I,H.pt):1===H.alongB&&o(I,W)),0===H.alongB&&(-1===H.alongA?o(L,z):0===H.alongA?o(L,H.pt):1===H.alongA&&o(L,$));return!1}for(var f=[];!m.isEmpty();){var w=m.getHead();if(A&&A.vert(w.pt[0]),w.isStart){let I=function(){if(h){var L=p(w,h);if(L)return L}return!!_&&p(w,_)};A&&A.segmentNew(w.seg,w.primary);var v=c(w),h=v.before?v.before.ev:null,_=v.after?v.after.ev:null;A&&A.tempStatus(w.seg,!!h&&h.seg,!!_&&_.seg);var x,b,M=I();if(M&&(S?(b=null===w.seg.myFill.below||w.seg.myFill.above!==w.seg.myFill.below)&&(M.seg.myFill.above=!M.seg.myFill.above):M.seg.otherFill=w.seg.myFill,A&&A.segmentUpdate(M.seg),w.other.remove(),w.remove()),m.getHead()!==w){A&&A.rewind(w.seg);continue}S?(b=null===w.seg.myFill.below||w.seg.myFill.above!==w.seg.myFill.below,w.seg.myFill.below=_?_.seg.myFill.above:n,w.seg.myFill.above=b?!w.seg.myFill.below:w.seg.myFill.below):null===w.seg.otherFill&&(w.seg.otherFill={above:x=_?w.primary===_.primary?_.seg.otherFill.above:_.seg.myFill.above:w.primary?a:n,below:x}),A&&A.status(w.seg,!!h&&h.seg,!!_&&_.seg),w.other.status=v.insert(C.node({ev:w}))}else{var d=w.status;if(null===d)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(d.prev)&&s.exists(d.next)&&p(d.prev.ev,d.next.ev),A&&A.statusRemove(d.ev.seg),d.remove(),!w.primary){var E=w.seg.myFill;w.seg.myFill=w.seg.otherFill,w.seg.otherFill=E}f.push(w.seg)}m.getHead().remove()}return A&&A.done(),f}return S?{addRegion:function(n){for(var a,s,c,p=n[n.length-1],f=0;f<n.length;f++){var w=u.pointsCompare(a=p,p=n[f]);0!==w&&t((s=w<0?a:p,c=w<0?p:a,{id:A?A.segmentId():-1,start:s,end:c,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(n){return r(n,!1)}}:{calculate:function(n,a,s,c){return n.forEach(function(p){t(T(p.start,p.end,p),!0)}),s.forEach(function(p){t(T(p.start,p.end,p),!1)}),r(a,c)}}}},26859:function(ie){ie.exports={create:function(){var B={root:{root:!0,next:null},exists:function(e){return null!==e&&e!==B.root},isEmpty:function(){return null===B.root.next},getHead:function(){return B.root.next},insertBefore:function(e,C){for(var S=B.root,u=B.root.next;null!==u;){if(C(u))return e.prev=u.prev,e.next=u,u.prev.next=e,void(u.prev=e);S=u,u=u.next}S.next=e,e.prev=S,e.next=null},findTransition:function(e){for(var C=B.root,S=B.root.next;null!==S&&!e(S);)C=S,S=S.next;return{before:C===B.root?null:C,after:S,insert:function(u){return u.prev=C,u.next=S,C.next=u,null!==S&&(S.prev=u),u}}}};return B},node:function(B){return B.prev=null,B.next=null,B.remove=function(){B.prev.next=B.next,B.next&&(B.next.prev=B.prev),B.prev=null,B.next=null},B}}},11328:function(ie){ie.exports=function(B,e,C){var S=[],u=[];return B.forEach(function(A){var T=A.start,m=A.end;if(e.pointsSame(T,m))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{C&&C.chainStart(A);for(var l={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},o=l,r=0;r<S.length;r++){var n=(f=S[r])[0],a=f[f.length-1];if(e.pointsSame(n,T)){if(d(r,!0,!0))break}else if(e.pointsSame(n,m)){if(d(r,!0,!1))break}else if(e.pointsSame(a,T)){if(d(r,!1,!0))break}else if(e.pointsSame(a,m)&&d(r,!1,!1))break}if(o===l)return S.push([T,m]),void(C&&C.chainNew(T,m));if(o===t){C&&C.chainMatch(l.index);var s=l.index,c=l.matches_pt1?m:T,p=l.matches_head,f=S[s],w=p?f[0]:f[f.length-1],v=p?f[1]:f[f.length-2],h=p?f[f.length-1]:f[0],_=p?f[f.length-2]:f[1];return e.pointsCollinear(v,w,c)&&(p?(C&&C.chainRemoveHead(l.index,c),f.shift()):(C&&C.chainRemoveTail(l.index,c),f.pop()),w=v),e.pointsSame(h,c)?(S.splice(s,1),e.pointsCollinear(_,h,w)&&(p?(C&&C.chainRemoveTail(l.index,w),f.pop()):(C&&C.chainRemoveHead(l.index,w),f.shift())),C&&C.chainClose(l.index),void u.push(f)):void(p?(C&&C.chainAddHead(l.index,c),f.unshift(c)):(C&&C.chainAddTail(l.index,c),f.push(c)))}var x=l.index,b=t.index;C&&C.chainConnect(x,b);var M=S[x].length<S[b].length;l.matches_head?t.matches_head?M?(E(x),k(x,b)):(E(b),k(b,x)):k(b,x):t.matches_head?k(x,b):M?(E(x),k(b,x)):(E(b),k(x,b))}function d(I,L,P){return o.index=I,o.matches_head=L,o.matches_pt1=P,o===l?(o=t,!1):(o=null,!0)}function E(I){C&&C.chainReverse(I),S[I].reverse()}function k(I,L){var P=S[I],R=S[L],z=P[P.length-1],$=P[P.length-2],N=R[0],W=R[1];e.pointsCollinear($,z,N)&&(C&&C.chainRemoveTail(I,z),P.pop(),z=$),e.pointsCollinear(z,N,W)&&(C&&C.chainRemoveHead(L,N),R.shift()),C&&C.chainJoin(I,L),S[I]=P.concat(R),S.splice(L,1)}}),u}},55968:function(ie){function B(C,S,u){var A=[];return C.forEach(function(T){var m=(T.myFill.above?8:0)+(T.myFill.below?4:0)+(T.otherFill&&T.otherFill.above?2:0)+(T.otherFill&&T.otherFill.below?1:0);0!==S[m]&&A.push({id:u?u.segmentId():-1,start:T.start,end:T.end,myFill:{above:1===S[m],below:2===S[m]},otherFill:null})}),u&&u.selected(A),A}ie.exports={union:function(C,S){return B(C,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],S)},intersect:function(C,S){return B(C,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],S)},difference:function(C,S){return B(C,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],S)},differenceRev:function(C,S){return B(C,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],S)},xor:function(C,S){return B(C,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],S)}}},14847:function(ie,B,e){"use strict";var C=e(21630).Transform,S=e(90715);function u(){C.call(this,{readableObjectMode:!0})}function A(T,m,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=T,m&&(this.code=m),l&&(this.statusCode=l)}(u.prototype=Object.create(C.prototype)).constructor=u,S(u.prototype),B.OF=function(T,m,l){for(var t=m,o=0;o<l.length;)if(T[t++]!==l[o++])return!1;return!0},B.eG=function(T,m){var l=[],t=0;if(m&&"hex"===m)for(;t<T.length;)l.push(parseInt(T.slice(t,t+2),16)),t+=2;else for(;t<T.length;t++)l.push(255&T.charCodeAt(t));return l},B.mP=function(T,m){return T[m]|T[m+1]<<8},B.n8=function(T,m){return T[m+1]|T[m]<<8},B.nm=function(T,m){return T[m]|T[m+1]<<8|T[m+2]<<16|16777216*T[m+3]},B.Ag=function(T,m){return T[m+3]|T[m+2]<<8|T[m+1]<<16|16777216*T[m]},(A.prototype=Object.create(Error.prototype)).constructor=A},71371:function(ie){"use strict";function B(S,u){var A=new Error(S);return A.code=u,A}function e(S){try{return decodeURIComponent(escape(S))}catch{return S}}function C(S,u,A){this.input=S.subarray(u,A),this.start=u;var T=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==T&&"MM\0*"!==T)throw B("invalid TIFF signature","EBADDATA");this.big_endian="M"===T[0]}C.prototype.each=function(S){this.aborted=!1;var u=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:u}];this.ifds_to_read.length>0&&!this.aborted;){var A=this.ifds_to_read.shift();A.offset&&this.scan_ifd(A.id,A.offset,S)}},C.prototype.read_uint16=function(S){var u=this.input;if(S+2>u.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?256*u[S]+u[S+1]:u[S]+256*u[S+1]},C.prototype.read_uint32=function(S){var u=this.input;if(S+4>u.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?16777216*u[S]+65536*u[S+1]+256*u[S+2]+u[S+3]:u[S]+256*u[S+1]+65536*u[S+2]+16777216*u[S+3]},C.prototype.is_subifd_link=function(S,u){return 0===S&&34665===u||0===S&&34853===u||34665===S&&40965===u},C.prototype.exif_format_length=function(S){switch(S){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},C.prototype.exif_format_read=function(S,u){var A;switch(S){case 1:case 2:return this.input[u];case 6:return(A=this.input[u])|33554430*(128&A);case 3:return this.read_uint16(u);case 8:return(A=this.read_uint16(u))|131070*(32768&A);case 4:return this.read_uint32(u);case 9:return 0|this.read_uint32(u);default:return null}},C.prototype.scan_ifd=function(S,u,A){var T=this.read_uint16(u);u+=2;for(var m=0;m<T;m++){var l=this.read_uint16(u),t=this.read_uint16(u+2),o=this.read_uint32(u+4),r=this.exif_format_length(t),n=o*r,a=n<=4?u+8:this.read_uint32(u+8),s=!1;if(a+n>this.input.length)throw B("unexpected EOF","EBADDATA");for(var c=[],p=a,f=0;f<o;f++,p+=r){var w=this.exif_format_read(t,p);if(null===w){c=null;break}c.push(w)}if(Array.isArray(c)&&2===t&&(c=e(String.fromCharCode.apply(null,c)))&&"\0"===c[c.length-1]&&(c=c.slice(0,-1)),this.is_subifd_link(S,l)&&Array.isArray(c)&&Number.isInteger(c[0])&&c[0]>0&&(this.ifds_to_read.push({id:l,offset:c[0]}),s=!0),!1===A({is_big_endian:this.big_endian,ifd:S,tag:l,format:t,count:o,entry_offset:u+this.start,data_length:n,data_offset:a+this.start,value:c,is_subifd_link:s}))return void(this.aborted=!0);u+=12}0===S&&this.ifds_to_read.push({id:1,offset:this.read_uint32(u)})},ie.exports.ExifParser=C,ie.exports.get_orientation=function(S){var u=0;try{return new C(S,0,S.length).each(function(A){if(0===A.ifd&&274===A.tag&&Array.isArray(A.value))return u=A.value[0],!1}),u}catch{return-1}}},76767:function(ie,B,e){"use strict";var C=e(14847).n8,S=e(14847).Ag;function u(o,r){if(o.length<4+r)return null;var n=S(o,r);return o.length<n+r||n<8?null:{boxtype:String.fromCharCode.apply(null,o.slice(r+4,r+8)),data:o.slice(r+8,r+n),end:r+n}}function A(o,r){for(var n=0;;){var a=u(o,n);if(!a)break;switch(a.boxtype){case"ispe":r.sizes.push({width:S(a.data,4),height:S(a.data,8)});break;case"irot":r.transforms.push({type:"irot",value:3&a.data[0]});break;case"imir":r.transforms.push({type:"imir",value:1&a.data[0]})}n=a.end}}function T(o,r,n){for(var a=0,s=0;s<n;s++)a=256*a+(o[r+s]||0);return a}function m(o,r){for(var n=o[4]>>4&15,a=15&o[4],s=o[5]>>4&15,c=C(o,6),p=8,f=0;f<c;f++){var w=C(o,p),v=C(o,p+=2),h=T(o,p+=2,s),_=C(o,p+=s);if(p+=2,0===v&&1===_){var x=T(o,p,n),b=T(o,p+n,a);r.item_loc[w]={length:b,offset:x+h}}p+=_*(n+a)}}function l(o,r){for(var n=C(o,4),a=6,s=0;s<n;s++){var c=u(o,a);if(!c)break;if("infe"===c.boxtype){for(var p=C(c.data,4),f="",w=8;w<c.data.length&&c.data[w];w++)f+=String.fromCharCode(c.data[w]);r.item_inf[f]=p}a=c.end}}function t(o,r){for(var n=0;;){var a=u(o,n);if(!a)break;"ipco"===a.boxtype&&A(a.data,r),n=a.end}}ie.exports.unbox=u,ie.exports.readSizeFromMeta=function(o){var r={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(w,v){for(var h=4;;){var _=u(w,h);if(!_)break;"iprp"===_.boxtype&&t(_.data,v),"iloc"===_.boxtype&&m(_.data,v),"iinf"===_.boxtype&&l(_.data,v),h=_.end}}(o,r),r.sizes.length){var n,a,s,c=(a=(n=r.sizes).reduce(function(w,v){return w.width>v.width||w.width===v.width&&w.height>v.height?w:v}),s=n.reduce(function(w,v){return w.height>v.height||w.height===v.height&&w.width>v.width?w:v}),a.width>s.height||a.width===s.height&&a.height>s.width?a:s),p=1;r.transforms.forEach(function(w){var v={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===w.type&&(p=0===w.value?h[p]:v[p=v[p=h[p]]]),"irot"===w.type)for(var _=0;_<w.value;_++)p=v[p]});var f=null;return r.item_inf.Exif&&(f=r.item_loc[r.item_inf.Exif]),{width:c.width,height:c.height,orientation:r.transforms.length?p:null,variants:r.sizes,exif_location:f}}},ie.exports.getMimeType=function(o){var r=String.fromCharCode.apply(null,o.slice(0,4)),n={};n[r]=!0;for(var a=8;a<o.length;a+=4)n[String.fromCharCode.apply(null,o.slice(a,a+4))]=!0;if(n.mif1||n.msf1||n.miaf)return"avif"===r||"avis"===r||"avio"===r?{type:"avif",mime:"image/avif"}:"heic"===r||"heix"===r?{type:"heic",mime:"image/heic"}:"hevc"===r||"hevx"===r?{type:"heic",mime:"image/heic-sequence"}:n.avif||n.avis?{type:"avif",mime:"image/avif"}:n.heic||n.heix||n.hevc||n.hevx||n.heis?n.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(ie,B,e){"use strict";var C=e(14847).eG,S=e(14847).OF,u=e(14847).Ag,A=e(76767),T=e(71371),m=C("ftyp");ie.exports=function(l){if(S(l,4,m)){var t=A.unbox(l,0);if(t){var o=A.getMimeType(t.data);if(o){for(var r,n=t.end;;){var a=A.unbox(l,n);if(!a)break;if(n=a.end,"mdat"===a.boxtype)return;if("meta"===a.boxtype){r=a.data;break}}if(r){var s=A.readSizeFromMeta(r);if(s){var c={width:s.width,height:s.height,type:o.type,mime:o.mime,wUnits:"px",hUnits:"px"};if(s.variants.length>1&&(c.variants=s.variants),s.orientation&&(c.orientation=s.orientation),s.exif_location&&s.exif_location.offset+s.exif_location.length<=l.length){var p=u(l,s.exif_location.offset),f=l.slice(s.exif_location.offset+p+4,s.exif_location.offset+s.exif_location.length),w=T.get_orientation(f);w>0&&(c.orientation=w)}return c}}}}}}},2504:function(ie,B,e){"use strict";var C=e(14847).eG,S=e(14847).OF,u=e(14847).mP,A=C("BM");ie.exports=function(T){if(!(T.length<26)&&S(T,0,A))return{width:u(T,18),height:u(T,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(ie,B,e){"use strict";var C=e(14847).eG,S=e(14847).OF,u=e(14847).mP,A=C("GIF87a"),T=C("GIF89a");ie.exports=function(m){if(!(m.length<10)&&(S(m,0,A)||S(m,0,T)))return{width:u(m,6),height:u(m,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(ie,B,e){"use strict";var C=e(14847).mP;ie.exports=function(S){var u=C(S,0),A=C(S,2),T=C(S,4);if(0===u&&1===A&&T){for(var m=[],l={width:0,height:0},t=0;t<T;t++){var o=S[6+16*t]||256,r=S[6+16*t+1]||256,n={width:o,height:r};m.push(n),(o>l.width||r>l.height)&&(l=n)}return{width:l.width,height:l.height,variants:m,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(ie,B,e){"use strict";var C=e(14847).n8,S=e(14847).eG,u=e(14847).OF,A=e(71371),T=S("Exif\0\0");ie.exports=function(m){if(!(m.length<2)&&255===m[0]&&216===m[1]&&255===m[2])for(var l=2;;){for(;;){if(m.length-l<2)return;if(255===m[l++])break}for(var t,o,r=m[l++];255===r;)r=m[l++];if(208<=r&&r<=217||1===r)t=0;else{if(!(192<=r&&r<=254)||m.length-l<2)return;t=C(m,l)-2,l+=2}if(217===r||218===r)return;if(225===r&&t>=10&&u(m,l,T)&&(o=A.get_orientation(m.slice(l+6,l+t))),t>=5&&192<=r&&r<=207&&196!==r&&200!==r&&204!==r){if(m.length-l<t)return;var n={width:C(m,l+3),height:C(m,l+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return o>0&&(n.orientation=o),n}l+=t}}},6303:function(ie,B,e){"use strict";var C=e(14847).eG,S=e(14847).OF,u=e(14847).Ag,A=C("\x89PNG\r\n\x1a\n"),T=C("IHDR");ie.exports=function(m){if(!(m.length<24)&&S(m,0,A)&&S(m,12,T))return{width:u(m,16),height:u(m,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(ie,B,e){"use strict";var C=e(14847).eG,S=e(14847).OF,u=e(14847).Ag,A=C("8BPS\0\x01");ie.exports=function(T){if(!(T.length<22)&&S(T,0,A))return{width:u(T,18),height:u(T,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(ie){"use strict";function B(l){return"number"==typeof l&&isFinite(l)&&l>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,C=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,S=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,u=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,A=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,T=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function m(l){return T.test(l)?l.match(T)[0]:"px"}ie.exports=function(l){if(function(h){var _,x=0,b=h.length;for(239===h[0]&&187===h[1]&&191===h[2]&&(x=3);x<b&&(32===(_=h[x])||9===_||13===_||10===_);)x++;return x!==b&&60===h[x]}(l)){for(var t="",o=0;o<l.length;o++)t+=String.fromCharCode(l[o]);var r=(t.match(e)||[""])[0];if(C.test(r)){var n=(_=(h=r).match(S),x=h.match(u),b=h.match(A),{width:_&&(_[1]||_[2]),height:x&&(x[1]||x[2]),viewbox:b&&(b[1]||b[2])}),a=parseFloat(n.width),s=parseFloat(n.height);if(n.width&&n.height)return B(a)&&B(s)?{width:a,height:s,type:"svg",mime:"image/svg+xml",wUnits:m(n.width),hUnits:m(n.height)}:void 0;var c=(n.viewbox||"").split(" "),p={width:c[2],height:c[3]},f=parseFloat(p.width),w=parseFloat(p.height);if(B(f)&&B(w)&&m(p.width)===m(p.height)){var v=f/w;return n.width?B(a)?{width:a,height:a/v,type:"svg",mime:"image/svg+xml",wUnits:m(n.width),hUnits:m(n.width)}:void 0:n.height?B(s)?{width:s*v,height:s,type:"svg",mime:"image/svg+xml",wUnits:m(n.height),hUnits:m(n.height)}:void 0:{width:f,height:w,type:"svg",mime:"image/svg+xml",wUnits:m(p.width),hUnits:m(p.height)}}}}var h,_,x,b}},66278:function(ie,B,e){"use strict";var C=e(14847).eG,S=e(14847).OF,u=e(14847).mP,A=e(14847).n8,T=e(14847).nm,m=e(14847).Ag,l=C("II*\0"),t=C("MM\0*");function o(a,s,c){return c?A(a,s):u(a,s)}function r(a,s,c){return c?m(a,s):T(a,s)}function n(a,s,c){var p=o(a,s+2,c);return 1!==r(a,s+4,c)||3!==p&&4!==p?null:3===p?o(a,s+8,c):r(a,s+8,c)}ie.exports=function(a){if(!(a.length<8)&&(S(a,0,l)||S(a,0,t))){var s=77===a[0],c=r(a,4,s)-8;if(!(c<0)){var p=c+8;if(!(a.length-p<2)){var f=12*o(a,p+0,s);if(!(f<=0||(p+=2,a.length-p<f))){var w,v,h,_;for(w=0;w<f;w+=12)256===(_=o(a,p+w,s))?v=n(a,p+w,s):257===_&&(h=n(a,p+w,s));return v&&h?{width:v,height:h,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},90784:function(ie,B,e){"use strict";var C=e(14847).eG,S=e(14847).OF,u=e(14847).mP,A=e(14847).nm,T=e(71371),m=C("RIFF"),l=C("WEBP");function t(n,a){if(157===n[a+3]&&1===n[a+4]&&42===n[a+5])return{width:16383&u(n,a+6),height:16383&u(n,a+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function o(n,a){if(47===n[a]){var s=A(n,a+1);return{width:1+(16383&s),height:1+(s>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function r(n,a){return{width:1+(n[a+6]<<16|n[a+5]<<8|n[a+4]),height:1+(n[a+9]<<a|n[a+8]<<8|n[a+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}ie.exports=function(n){if(!(n.length<16)&&(S(n,0,m)||S(n,8,l))){var a=12,s=null,c=0,p=A(n,4)+8;if(!(p>n.length)){for(;a+8<p;)if(0!==n[a]){var f=String.fromCharCode.apply(null,n.slice(a,a+4)),w=A(n,a+4);"VP8 "===f&&w>=10?s=s||t(n,a+8):"VP8L"===f&&w>=9?s=s||o(n,a+8):"VP8X"===f&&w>=10?s=s||r(n,a+8):"EXIF"===f&&(c=T.get_orientation(n.slice(a+8,a+8+w)),a=1/0),a+=8+w}else a++;if(s)return c>0&&(s.orientation=c),s}}}},91497:function(ie,B,e){"use strict";ie.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(ie,B,e){"use strict";var C=e(91497);ie.exports=function(S){return function(u){for(var A=Object.keys(C),T=0;T<A.length;T++){var m=C[A[T]](u);if(m)return m}return null}(S)},ie.exports.parsers=C},90386:function(ie){var B,e,C=ie.exports={};function S(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function A(s){if(B===setTimeout)return setTimeout(s,0);if((B===S||!B)&&setTimeout)return B=setTimeout,setTimeout(s,0);try{return B(s,0)}catch{try{return B.call(null,s,0)}catch{return B.call(this,s,0)}}}!function(){try{B="function"==typeof setTimeout?setTimeout:S}catch{B=S}try{e="function"==typeof clearTimeout?clearTimeout:u}catch{e=u}}();var T,m=[],l=!1,t=-1;function o(){l&&T&&(l=!1,T.length?m=T.concat(m):t=-1,m.length&&r())}function r(){if(!l){var s=A(o);l=!0;for(var c=m.length;c;){for(T=m,m=[];++t<c;)T&&T[t].run();t=-1,c=m.length}T=null,l=!1,function(p){if(e===clearTimeout)return clearTimeout(p);if((e===u||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(p);try{return e(p)}catch{try{return e.call(null,p)}catch{return e.call(this,p)}}}(s)}}function n(s,c){this.fun=s,this.array=c}function a(){}C.nextTick=function(s){var c=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)c[p-1]=arguments[p];m.push(new n(s,c)),1!==m.length||l||A(r)},n.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=a,C.addListener=a,C.once=a,C.off=a,C.removeListener=a,C.removeAllListeners=a,C.emit=a,C.prependListener=a,C.prependOnceListener=a,C.listeners=function(s){return[]},C.binding=function(s){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(s){throw new Error("process.chdir is not supported")},C.umask=function(){return 0}},5877:function(ie,B,e){for(var C=e(9748),S=typeof window>"u"?e.g:window,u=["moz","webkit"],A="AnimationFrame",T=S["request"+A],m=S["cancel"+A]||S["cancelRequest"+A],l=0;!T&&l<u.length;l++)T=S[u[l]+"Request"+A],m=S[u[l]+"Cancel"+A]||S[u[l]+"CancelRequest"+A];if(!T||!m){var t=0,o=0,r=[];T=function(n){if(0===r.length){var a=C(),s=Math.max(0,16.666666666666668-(a-t));t=s+a,setTimeout(function(){var c=r.slice(0);r.length=0;for(var p=0;p<c.length;p++)if(!c[p].cancelled)try{c[p].callback(t)}catch(f){setTimeout(function(){throw f},0)}},Math.round(s))}return r.push({handle:++o,callback:n,cancelled:!1}),o},m=function(n){for(var a=0;a<r.length;a++)r[a].handle===n&&(r[a].cancelled=!0)}}ie.exports=function(n){return T.call(S,n)},ie.exports.cancel=function(){m.apply(S,arguments)},ie.exports.polyfill=function(n){n||(n=S),n.requestAnimationFrame=T,n.cancelAnimationFrame=m}},3593:function(ie,B,e){"use strict";var C=e(21527),S=e(25075),u=e(93447),A=e(71299),T=e(56131),m=e(30120),l=e(57060),t=l.float32,o=l.fract32;ie.exports=function(n,a){if("function"==typeof n?(a||(a={}),a.regl=n):a=n,a.length&&(a.positions=a),!(n=a.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var s,c,p,f,w,v,h=n._gl,_={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},x=[];return f=n.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),c=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),w=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),v=n.buffer({usage:"static",type:"float",data:r}),E(a),s=n({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:n.prop("range"),lineWidth:n.prop("lineWidth"),capSize:n.prop("capSize"),opacity:n.prop("opacity"),scale:n.prop("scale"),translate:n.prop("translate"),scaleFract:n.prop("scaleFract"),translateFract:n.prop("translateFract"),viewport:function(I,L){return[L.viewport.x,L.viewport.y,I.viewportWidth,I.viewportHeight]}},attributes:{color:{buffer:f,offset:function(I,L){return 4*L.offset},divisor:1},position:{buffer:c,offset:function(I,L){return 8*L.offset},divisor:1},positionFract:{buffer:p,offset:function(I,L){return 8*L.offset},divisor:1},error:{buffer:w,offset:function(I,L){return 16*L.offset},divisor:1},direction:{buffer:v,stride:24,offset:0},lineOffset:{buffer:v,stride:24,offset:8},capOffset:{buffer:v,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:n.prop("viewport")},viewport:n.prop("viewport"),stencil:!1,instances:n.prop("count"),count:r.length}),T(b,{update:E,draw:M,destroy:k,regl:n,gl:h,canvas:h.canvas,groups:x}),b;function b(I){I?E(I):null===I&&k(),M()}function M(I){if("number"==typeof I)return d(I);I&&!Array.isArray(I)&&(I=[I]),n._refresh(),x.forEach(function(L,P){L&&(I&&(L.draw=!!I[P]),L.draw?d(P):L.draw=!0)})}function d(I){"number"==typeof I&&(I=x[I]),null!=I&&I&&I.count&&I.color&&I.opacity&&I.positions&&I.positions.length>1&&(I.scaleRatio=[I.scale[0]*I.viewport.width,I.scale[1]*I.viewport.height],s(I),I.after&&I.after(I))}function E(I){if(I){null!=I.length?"number"==typeof I[0]&&(I=[{positions:I}]):Array.isArray(I)||(I=[I]);var L=0,P=0;if(b.groups=x=I.map(function(U,Z){var Y=x[Z];return U&&("function"==typeof U?U={after:U}:"number"==typeof U[0]&&(U={positions:U}),U=A(U,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),Y||(x[Z]=Y={id:Z,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},U=T({},_,U)),u(Y,U,[{lineWidth:function(ae){return.5*+ae},capSize:function(ae){return.5*+ae},opacity:parseFloat,errors:function(ae){return ae=m(ae),P+=ae.length,ae},positions:function(ae,re){return ae=m(ae,"float64"),re.count=Math.floor(ae.length/2),re.bounds=C(ae,2),re.offset=L,L+=re.count,ae}},{color:function(ae,re){var Q=re.count;if(ae||(ae="transparent"),!Array.isArray(ae)||"number"==typeof ae[0]){var K=ae;ae=Array(Q);for(var te=0;te<Q;te++)ae[te]=K}if(ae.length<Q)throw Error("Not enough colors");for(var oe=new Uint8Array(4*Q),ue=0;ue<Q;ue++){var fe=S(ae[ue],"uint8");oe.set(fe,4*ue)}return oe},range:function(ae,re,Q){return ae||(ae=re.bounds),re.scale=[1/(ae[2]-ae[0]),1/(ae[3]-ae[1])],re.translate=[-ae[0],-ae[1]],re.scaleFract=o(re.scale),re.translateFract=o(re.translate),ae},viewport:function(ae){var re;return Array.isArray(ae)?re={x:ae[0],y:ae[1],width:ae[2]-ae[0],height:ae[3]-ae[1]}:ae?((re={x:ae.x||ae.left||0,y:ae.y||ae.top||0}).width=ae.right?ae.right-re.x:ae.w||ae.width||0,re.height=ae.bottom?ae.bottom-re.y:ae.h||ae.height||0):re={x:0,y:0,width:h.drawingBufferWidth,height:h.drawingBufferHeight},re}}])),Y}),L||P){var R=x.reduce(function(U,Z,Y){return U+(Z?Z.count:0)},0),z=new Float64Array(2*R),$=new Uint8Array(4*R),N=new Float32Array(4*R);x.forEach(function(U,Z){if(U){var Y=U.positions,re=U.offset,K=U.errors;U.count&&($.set(U.color,4*re),N.set(K,4*re),z.set(Y,2*re))}});var W=t(z);c(W);var H=o(z,W);p(H),f($),w(N)}}}function k(){c.destroy(),p.destroy(),f.destroy(),w.destroy(),v.destroy()}};var r=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(ie,B,e){"use strict";var C=e(25075),S=e(21527),u=e(56131),A=e(56068),T=e(71299),m=e(30120),l=e(11474),t=e(54),o=e(57060),r=o.float32,n=o.fract32,a=e(83522),s=e(18863),c=e(6851);function p(f,w){if(!(this instanceof p))return new p(f,w);if("function"==typeof f?(w||(w={}),w.regl=f):w=f,w.length&&(w.positions=w),!(f=w.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=f._gl,this.regl=f,this.passes=[],this.shaders=p.shaders.has(f)?p.shaders.get(f):p.shaders.set(f,p.createShaders(f)).get(f),this.update(w)}ie.exports=p,p.dashMult=2,p.maxPatternLength=256,p.precisionThreshold=3e6,p.maxPoints=1e4,p.maxLines=2048,p.shaders=new a,p.createShaders=function(f){var w,v=f.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),h={primitive:"triangle strip",instances:f.prop("count"),count:4,offset:0,uniforms:{miterMode:function(x,b){return"round"===b.join?2:1},miterLimit:f.prop("miterLimit"),scale:f.prop("scale"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),translate:f.prop("translate"),thickness:f.prop("thickness"),dashTexture:f.prop("dashTexture"),opacity:f.prop("opacity"),pixelRatio:f.context("pixelRatio"),id:f.prop("id"),dashLength:f.prop("dashLength"),viewport:function(x,b){return[b.viewport.x,b.viewport.y,x.viewportWidth,x.viewportHeight]},depth:f.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(x,b){return!b.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport")},_=f(u({vert:A(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:A(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:v,divisor:0,stride:8,offset:0},lineTop:{buffer:v,divisor:0,stride:8,offset:4},aCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:f.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},h));try{w=f(u({cull:{enable:!0,face:"back"},vert:A(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:A(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:v,divisor:0,stride:8,offset:0},lineTop:{buffer:v,divisor:0,stride:8,offset:4},aColor:{buffer:f.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:f.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},h))}catch{w=_}return{fill:f({primitive:"triangle",elements:function(x,b){return b.triangles},offset:0,vert:A(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:A(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:f.prop("scale"),color:f.prop("fill"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),translate:f.prop("translate"),opacity:f.prop("opacity"),pixelRatio:f.context("pixelRatio"),id:f.prop("id"),viewport:function(x,b){return[b.viewport.x,b.viewport.y,x.viewportWidth,x.viewportHeight]}},attributes:{position:{buffer:f.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:8}},blend:h.blend,depth:{enable:!1},scissor:h.scissor,stencil:h.stencil,viewport:h.viewport}),rect:_,miter:w}},p.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},p.prototype.render=function(){for(var f,w=[],v=arguments.length;v--;)w[v]=arguments[v];w.length&&(f=this).update.apply(f,w),this.draw()},p.prototype.draw=function(){for(var f=this,w=[],v=arguments.length;v--;)w[v]=arguments[v];return(w.length?w:this.passes).forEach(function(h,_){var x;if(h&&Array.isArray(h))return(x=f).draw.apply(x,h);"number"==typeof h&&(h=f.passes[h]),h&&h.count>1&&h.opacity&&(f.regl._refresh(),h.fill&&h.triangles&&h.triangles.length>2&&f.shaders.fill(h),h.thickness&&(h.scale[0]*h.viewport.width>p.precisionThreshold||h.scale[1]*h.viewport.height>p.precisionThreshold||"rect"===h.join||!h.join&&(h.thickness<=2||h.count>=p.maxPoints)?f.shaders.rect(h):f.shaders.miter(h)))}),this},p.prototype.update=function(f){var w=this;if(f){null!=f.length?"number"==typeof f[0]&&(f=[{positions:f}]):Array.isArray(f)||(f=[f]);var v=this.regl,h=this.gl;if(f.forEach(function(d,E){var k=w.passes[E];if(void 0!==d)if(null!==d){if("number"==typeof d[0]&&(d={positions:d}),d=T(d,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),k||(w.passes[E]=k={id:E,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:v.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:v.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:v.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:v.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},d=u({},p.defaults,d)),null!=d.thickness&&(k.thickness=parseFloat(d.thickness)),null!=d.opacity&&(k.opacity=parseFloat(d.opacity)),null!=d.miterLimit&&(k.miterLimit=parseFloat(d.miterLimit)),null!=d.overlay&&(k.overlay=!!d.overlay,E<p.maxLines&&(k.depth=2*(p.maxLines-1-E%p.maxLines)/p.maxLines-1)),null!=d.join&&(k.join=d.join),null!=d.hole&&(k.hole=d.hole),null!=d.fill&&(k.fill=d.fill?C(d.fill,"uint8"):null),null!=d.viewport&&(k.viewport=s(d.viewport)),k.viewport||(k.viewport=s([h.drawingBufferWidth,h.drawingBufferHeight])),null!=d.close&&(k.close=d.close),null===d.positions&&(d.positions=[]),d.positions){var I,L;if(d.positions.x&&d.positions.y){var P=d.positions.x,R=d.positions.y;L=k.count=Math.max(P.length,R.length),I=new Float64Array(2*L);for(var z=0;z<L;z++)I[2*z]=P[z],I[2*z+1]=R[z]}else I=m(d.positions,"float64"),L=k.count=Math.floor(I.length/2);var $=k.bounds=S(I,2);if(k.fill){for(var N=[],W={},H=0,U=0,Z=0,Y=k.count;U<Y;U++){var ae=I[2*U],re=I[2*U+1];isNaN(ae)||isNaN(re)||null==ae||null==re?(ae=I[2*H],re=I[2*H+1],W[U]=H):H=U,N[Z++]=ae,N[Z++]=re}if(d.splitNull){k.count-1 in W||(W[k.count]=k.count-1);var Q=Object.keys(W).map(Number).sort(function(gt,dt){return gt-dt}),K=[],te=0,oe=null!=k.hole?k.hole[0]:null;if(null!=oe){var ue=c(Q,function(gt){return gt>=oe});(Q=Q.slice(0,ue)).push(oe)}for(var fe=function(gt){var dt=N.slice(2*te,2*Q[gt]).concat(oe?N.slice(2*oe):[]),Ct=(k.hole||[]).map(function(Pt){return Pt-oe+(Q[gt]-te)}),Ot=l(dt,Ct);Ot=Ot.map(function(Pt){return Pt+te+(Pt+te<Q[gt]?0:oe-Q[gt])}),K.push.apply(K,Ot),te=Q[gt]+1},he=0;he<Q.length;he++)fe(he);for(var me=0,ke=K.length;me<ke;me++)null!=W[K[me]]&&(K[me]=W[K[me]]);k.triangles=K}else{for(var Pe=l(N,k.hole||[]),Te=0,be=Pe.length;Te<be;Te++)null!=W[Pe[Te]]&&(Pe[Te]=W[Pe[Te]]);k.triangles=Pe}}var xe=new Float64Array(I);t(xe,2,$);var Ne=new Float64Array(2*L+6);k.close?I[0]===I[2*L-2]&&I[1]===I[2*L-1]?(Ne[0]=xe[2*L-4],Ne[1]=xe[2*L-3]):(Ne[0]=xe[2*L-2],Ne[1]=xe[2*L-1]):(Ne[0]=xe[0],Ne[1]=xe[1]),Ne.set(xe,2),k.close?I[0]===I[2*L-2]&&I[1]===I[2*L-1]?(Ne[2*L+2]=xe[2],Ne[2*L+3]=xe[3],k.count-=1):(Ne[2*L+2]=xe[0],Ne[2*L+3]=xe[1],Ne[2*L+4]=xe[2],Ne[2*L+5]=xe[3]):(Ne[2*L+2]=xe[2*L-2],Ne[2*L+3]=xe[2*L-1],Ne[2*L+4]=xe[2*L-2],Ne[2*L+5]=xe[2*L-1]);var Se=r(Ne);k.positionBuffer(Se);var Ce=n(Ne,Se);k.positionFractBuffer(Ce)}if(d.range?k.range=d.range:k.range||(k.range=k.bounds),(d.range||d.positions)&&k.count){var pe=k.bounds,we=k.range[2]-k.range[0],Re=k.range[3]-k.range[1];k.scale=[(pe[2]-pe[0])/we,(pe[3]-pe[1])/Re],k.translate=[-k.range[0]/we+pe[0]/we||0,-k.range[1]/Re+pe[1]/Re||0],k.scaleFract=n(k.scale),k.translateFract=n(k.translate)}if(d.dashes){var Ee,Ue=0;if(!d.dashes||d.dashes.length<2)Ue=1,Ee=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ue=0;for(var $e=0;$e<d.dashes.length;++$e)Ue+=d.dashes[$e];Ee=new Uint8Array(Ue*p.dashMult);for(var ve=0,Ie=255,De=0;De<2;De++)for(var ze=0;ze<d.dashes.length;++ze){for(var Ge=0,He=d.dashes[ze]*p.dashMult*.5;Ge<He;++Ge)Ee[ve++]=Ie;Ie^=255}}k.dashLength=Ue,k.dashTexture({channels:1,data:Ee,width:Ee.length,height:1,mag:"linear",min:"linear"},0,0)}if(d.color){var Ke=k.count,et=d.color;et||(et="transparent");var st=new Uint8Array(4*Ke+4);if(Array.isArray(et)&&"number"!=typeof et[0]){for(var mt=0;mt<Ke;mt++){var at=C(et[mt],"uint8");st.set(at,4*mt)}st.set(C(et[0],"uint8"),4*Ke)}else for(var kt=C(et,"uint8"),St=0;St<Ke+1;St++)st.set(kt,4*St);k.colorBuffer({usage:"dynamic",type:"uint8",data:st})}}else w.passes[E]=null}),f.length<this.passes.length){for(var _=f.length;_<this.passes.length;_++){var x=this.passes[_];x&&(x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy())}this.passes.length=f.length}for(var b=[],M=0;M<this.passes.length;M++)null!==this.passes[M]&&b.push(this.passes[M]);return this.passes=b,this}},p.prototype.destroy=function(){return this.passes.forEach(function(f){f.colorBuffer.destroy(),f.positionBuffer.destroy(),f.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(ie,B,e){"use strict";function C(h,_){return function(x){if(Array.isArray(x))return x}(h)||function(x,b){var M=null==x?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(null!=M){var d,E,k,I,L=[],P=!0,R=!1;try{if(k=(M=M.call(x)).next,0===b){if(Object(M)!==M)return;P=!1}else for(;!(P=(d=k.call(M)).done)&&(L.push(d.value),L.length!==b);P=!0);}catch(z){R=!0,E=z}finally{try{if(!P&&null!=M.return&&(I=M.return(),Object(I)!==I))return}finally{if(R)throw E}}return L}}(h,_)||S(h,_)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(h,_){if(h){if("string"==typeof h)return u(h,_);var x=Object.prototype.toString.call(h).slice(8,-1);return"Object"===x&&h.constructor&&(x=h.constructor.name),"Map"===x||"Set"===x?Array.from(h):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?u(h,_):void 0}}function u(h,_){(null==_||_>h.length)&&(_=h.length);for(var x=0,b=new Array(_);x<_;x++)b[x]=h[x];return b}var A=e(25075),T=e(21527),m=e(6475),l=e(88294),t=e(56131),o=e(56068),r=e(71299),n=e(93447),a=e(30120),s=e(62683),c=e(57060),p=e(18863),f=w;function w(h,_){var x=this;if(!(this instanceof w))return new w(h,_);"function"==typeof h?(_||(_={}),_.regl=h):(_=h,h=null),_&&_.length&&(_.positions=_);var b,M=(h=_.regl)._gl,d=[];this.tooManyColors=s,b=h.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),t(this,{regl:h,gl:M,groups:[],markerCache:[null],markerTextures:[null],palette:d,paletteIds:{},paletteTexture:b,maxColors:255,maxSize:100,canvas:M.canvas}),this.update(_);var E={uniforms:{constPointSize:!!_.constPointSize,opacity:h.prop("opacity"),paletteSize:function(L,P){return[x.tooManyColors?0:255,b.height]},pixelRatio:h.context("pixelRatio"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translate:h.prop("translate"),translateFract:h.prop("translateFract"),markerTexture:h.prop("markerTexture"),paletteTexture:b},attributes:{x:function(L,P){return P.xAttr||{buffer:P.positionBuffer,stride:8,offset:0}},y:function(L,P){return P.yAttr||{buffer:P.positionBuffer,stride:8,offset:4}},xFract:function(L,P){return P.xAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:0}},yFract:function(L,P){return P.yAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:4}},size:function(L,P){return P.size.length?{buffer:P.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*P.size/x.maxSize)]}},borderSize:function(L,P){return P.borderSize.length?{buffer:P.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*P.borderSize/x.maxSize)]}},colorId:function(L,P){return P.color.length?{buffer:P.colorBuffer,stride:x.tooManyColors?8:4,offset:0}:{constant:x.tooManyColors?d.slice(4*P.color,4*P.color+4):[P.color]}},borderColorId:function(L,P){return P.borderColor.length?{buffer:P.colorBuffer,stride:x.tooManyColors?8:4,offset:x.tooManyColors?4:2}:{constant:x.tooManyColors?d.slice(4*P.borderColor,4*P.borderColor+4):[P.borderColor]}},isActive:function(L,P){return!0===P.activation?{constant:[1]}:P.activation?P.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:h.prop("elements"),count:h.prop("count"),offset:h.prop("offset"),primitive:"points"},k=t({},E);k.frag=o(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),k.vert=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),this.drawMarker=h(k);var I=t({},E);I.frag=o(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),I.vert=o(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),s&&(I.frag=I.frag.replace("smoothstep","smoothStep"),k.frag=k.frag.replace("smoothstep","smoothStep")),this.drawCircle=h(I)}w.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},w.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},w.prototype.draw=function(){for(var h=this,_=arguments.length,x=new Array(_),b=0;b<_;b++)x[b]=arguments[b];var M=this.groups;if(1===x.length&&Array.isArray(x[0])&&(null===x[0][0]||Array.isArray(x[0][0]))&&(x=x[0]),this.regl._refresh(),x.length)for(var d=0;d<x.length;d++)this.drawItem(d,x[d]);else M.forEach(function(E,k){h.drawItem(k)});return this},w.prototype.drawItem=function(h,_){var x,b=this.groups,M=b[h];if("number"==typeof _&&(h=_,M=b[_],_=null),M&&M.count&&M.opacity){M.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,M,_));for(var d=[],E=1;E<M.activation.length;E++)M.activation[E]&&(!0===M.activation[E]||M.activation[E].data.length)&&d.push.apply(d,function(k){if(Array.isArray(k))return u(k)}(x=this.getMarkerDrawOptions(E,M,_))||function(k){if(typeof Symbol<"u"&&null!=k[Symbol.iterator]||null!=k["@@iterator"])return Array.from(k)}(x)||S(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());d.length&&this.drawMarker(d)}},w.prototype.getMarkerDrawOptions=function(h,_,x){var b=_.range,M=_.tree,d=_.viewport,E=_.activation,k=_.selectionBuffer,I=_.count;if(!M)return x?[t({},_,{markerTexture:this.markerTextures[h],activation:E[h],count:x.length,elements:x,offset:0})]:[t({},_,{markerTexture:this.markerTextures[h],activation:E[h],offset:0})];var L=[],P=M.range(b,{lod:!0,px:[(b[2]-b[0])/d.width,(b[3]-b[1])/d.height]});if(x){for(var R=E[h].data,z=new Uint8Array(I),$=0;$<x.length;$++){var N=x[$];z[N]=R?R[N]:1}k.subdata(z)}for(var W=P.length;W--;){var H=C(P[W],2),U=H[0];L.push(t({},_,{markerTexture:this.markerTextures[h],activation:x?k:E[h],offset:U,count:H[1]-U}))}return L},w.prototype.update=function(){for(var h=this,_=arguments.length,x=new Array(_),b=0;b<_;b++)x[b]=arguments[b];if(x.length){1===x.length&&Array.isArray(x[0])&&(x=x[0]);var M=this.groups,d=this.gl,E=this.regl,k=this.maxSize,I=this.maxColors,L=this.palette;this.groups=M=x.map(function(P,R){var z=M[R];if(void 0===P)return z;null===P?P={positions:null}:"function"==typeof P?P={ondraw:P}:"number"==typeof P[0]&&(P={positions:P}),null===(P=r(P,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(P.positions=[]),null!=P.tooManyColors&&(h.tooManyColors=P.tooManyColors),z||(M[R]=z={id:R,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:E.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:E.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:E.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:E.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:E.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},P=t({},w.defaults,P)),P.positions&&!("marker"in P)&&(P.marker=z.marker,delete z.marker),P.marker&&!("positions"in P)&&(P.positions=z.positions,delete z.positions);var $=0,N=0;if(n(z,P,[{snap:!0,size:function(Te,be){return null==Te&&(Te=w.defaults.size),$+=Te&&Te.length?1:0,Te},borderSize:function(Te,be){return null==Te&&(Te=w.defaults.borderSize),$+=Te&&Te.length?1:0,Te},opacity:parseFloat,color:function(Te,be){return null==Te&&(Te=w.defaults.color),Te=h.updateColor(Te),N++,Te},borderColor:function(Te,be){return null==Te&&(Te=w.defaults.borderColor),Te=h.updateColor(Te),N++,Te},bounds:function(Te,be,xe){return"range"in xe||(xe.range=null),Te},positions:function(Te,be,xe){var Ne=be.snap,Se=be.positionBuffer,Ce=be.positionFractBuffer,pe=be.selectionBuffer;if(Te.x||Te.y)return be.xAttr=Te.x.length?{buffer:E.buffer(Te.x),offset:0,stride:4,count:Te.x.length}:{buffer:Te.x.buffer,offset:4*Te.x.offset||0,stride:4*(Te.x.stride||1),count:Te.x.count},be.yAttr=Te.y.length?{buffer:E.buffer(Te.y),offset:0,stride:4,count:Te.y.length}:{buffer:Te.y.buffer,offset:4*Te.y.offset||0,stride:4*(Te.y.stride||1),count:Te.y.count},be.count=Math.max(be.xAttr.count,be.yAttr.count),Te;Te=a(Te,"float64");var de=be.count=Math.floor(Te.length/2),se=be.bounds=de?T(Te,2):null;if(xe.range||be.range||(delete be.range,xe.range=se),xe.marker||be.marker||(delete be.marker,xe.marker=null),Ne&&(!0===Ne||de>Ne)?be.tree=l(Te,{bounds:se}):Ne&&Ne.length&&(be.tree=Ne),be.tree){var we={primitive:"points",usage:"static",data:be.tree,type:"uint32"};be.elements?be.elements(we):be.elements=E.elements(we)}var Re=c.float32(Te);return Se({data:Re,usage:"dynamic"}),Ce({data:c.fract32(Te,Re),usage:"dynamic"}),pe({data:new Uint8Array(de),type:"uint8",usage:"stream"}),Te}},{marker:function(Te,be,xe){var Ne=be.activation;if(Ne.forEach(function(Re){return Re&&Re.destroy&&Re.destroy()}),Ne.length=0,Te&&"number"!=typeof Te[0]){for(var Se=[],Ce=0,pe=Math.min(Te.length,be.count);Ce<pe;Ce++){var de=h.addMarker(Te[Ce]);Se[de]||(Se[de]=new Uint8Array(be.count)),Se[de][Ce]=1}for(var se=0;se<Se.length;se++)if(Se[se]){var we={data:Se[se],type:"uint8",usage:"static"};Ne[se]?Ne[se](we):Ne[se]=E.buffer(we),Ne[se].data=Se[se]}}else Ne[h.addMarker(Te)]=!0;return Te},range:function(Te,be,xe){var Ne=be.bounds;if(Ne)return Te||(Te=Ne),be.scale=[1/(Te[2]-Te[0]),1/(Te[3]-Te[1])],be.translate=[-Te[0],-Te[1]],be.scaleFract=c.fract(be.scale),be.translateFract=c.fract(be.translate),Te},viewport:function(Te){return p(Te||[d.drawingBufferWidth,d.drawingBufferHeight])}}]),$){var H=z.count,U=z.size,Z=z.borderSize,Y=z.sizeBuffer,ae=new Uint8Array(2*H);if(U.length||Z.length)for(var re=0;re<H;re++)ae[2*re]=Math.round(255*(null==U[re]?U:U[re])/k),ae[2*re+1]=Math.round(255*(null==Z[re]?Z:Z[re])/k);Y({data:ae,usage:"dynamic"})}if(N){var Q,te=z.count,oe=z.color,ue=z.borderColor,fe=z.colorBuffer;if(h.tooManyColors){if(oe.length||ue.length){Q=new Uint8Array(8*te);for(var he=0;he<te;he++){var me=oe[he];Q[8*he]=L[4*me],Q[8*he+1]=L[4*me+1],Q[8*he+2]=L[4*me+2],Q[8*he+3]=L[4*me+3];var ke=ue[he];Q[8*he+4]=L[4*ke],Q[8*he+5]=L[4*ke+1],Q[8*he+6]=L[4*ke+2],Q[8*he+7]=L[4*ke+3]}}}else if(oe.length||ue.length){Q=new Uint8Array(4*te+2);for(var Pe=0;Pe<te;Pe++)null!=oe[Pe]&&(Q[4*Pe]=oe[Pe]%I,Q[4*Pe+1]=Math.floor(oe[Pe]/I)),null!=ue[Pe]&&(Q[4*Pe+2]=ue[Pe]%I,Q[4*Pe+3]=Math.floor(ue[Pe]/I))}fe({data:Q||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return z})}},w.prototype.addMarker=function(h){var _,x=this.markerTextures,b=this.regl,M=this.markerCache,d=null==h?0:M.indexOf(h);if(d>=0)return d;if(h instanceof Uint8Array||h instanceof Uint8ClampedArray)_=h;else{_=new Uint8Array(h.length);for(var E=0,k=h.length;E<k;E++)_[E]=255*h[E]}var I=Math.floor(Math.sqrt(_.length));return d=x.length,M.push(h),x.push(b.texture({channels:1,data:_,radius:I,mag:"linear",min:"linear"})),d},w.prototype.updateColor=function(h){var _=this.paletteIds,x=this.palette,b=this.maxColors;Array.isArray(h)||(h=[h]);var M=[];if("number"==typeof h[0]){var d=[];if(Array.isArray(h))for(var E=0;E<h.length;E+=4)d.push(h.slice(E,E+4));else for(var k=0;k<h.length;k+=4)d.push(h.subarray(k,k+4));h=d}for(var I=0;I<h.length;I++){var L=h[I];L=A(L,"uint8");var P=m(L,!1);if(null==_[P]){var R=x.length;_[P]=Math.floor(R/4),x[R]=L[0],x[R+1]=L[1],x[R+2]=L[2],x[R+3]=L[3]}M[I]=_[P]}return!this.tooManyColors&&x.length>4*b&&(this.tooManyColors=!0),this.updatePalette(x),1===M.length?M[0]:M},w.prototype.updatePalette=function(h){if(!this.tooManyColors){var _=this.maxColors,x=this.paletteTexture,b=Math.ceil(.25*h.length/_);if(b>1)for(var M=.25*(h=h.slice()).length%_;M<b*_;M++)h.push(0,0,0,0);x.height<b&&x.resize(_,b),x.subimage({width:Math.min(.25*h.length,_),height:b,data:h},0,0)}},w.prototype.destroy=function(){return this.groups.forEach(function(h){h.sizeBuffer.destroy(),h.positionBuffer.destroy(),h.positionFractBuffer.destroy(),h.colorBuffer.destroy(),h.activation.forEach(function(_){return _&&_.destroy&&_.destroy()}),h.selectionBuffer.destroy(),h.elements&&h.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(h){return h&&h.destroy&&h.destroy()}),this};var v=e(56131);ie.exports=function(h,_){var x=new f(h,_),b=x.render.bind(x);return v(b,{render:b,update:x.update.bind(x),draw:x.draw.bind(x),destroy:x.destroy.bind(x),regl:x.regl,gl:x.gl,canvas:x.gl.canvas,groups:x.groups,markers:x.markerCache,palette:x.palette}),b}},60487:function(ie,B,e){"use strict";var C=e(11870),S=e(71299),u=e(21527),A=e(5877),T=e(57471),m=e(18863),l=e(30120);function t(a,s){if(!(this instanceof t))return new t(a,s);this.traces=[],this.passes={},this.regl=a,this.scatter=C(a),this.canvas=this.scatter.canvas}function o(a,s,c){return(null!=a.id?a.id:a)<<16|(255&s)<<8|255&c}function r(a,s,c){var p,f,w,v,h=a[s],_=a[c];return h.length>2?(p=h[1],f=h[3]):h.length?(p=h[0],f=h[1]):(p=h.y,f=h.y+h.height),_.length>2?(w=_[0],v=_[2]):_.length?(w=_[0],v=_[1]):(w=_.x,v=_.x+_.width),[w,p,v,f]}function n(a){if("number"==typeof a)return[a,a,a,a];if(2===a.length)return[a[0],a[1],a[0],a[1]];var s=m(a);return[s.x,s.y,s.x+s.width,s.y+s.height]}ie.exports=t,t.prototype.render=function(){for(var a,s=this,c=[],p=arguments.length;p--;)c[p]=arguments[p];return c.length&&(a=this).update.apply(a,c),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=A(function(){s.draw(),s.dirty=!0,s.planned=null})):(this.draw(),this.dirty=!0,A(function(){s.dirty=!1})),this)},t.prototype.update=function(){for(var a,s=[],c=arguments.length;c--;)s[c]=arguments[c];if(s.length){for(var p=0;p<s.length;p++)this.updateItem(p,s[p]);this.traces=this.traces.filter(Boolean);for(var f=[],w=0,v=0;v<this.traces.length;v++){for(var h=this.traces[v],_=this.traces[v].passes,x=0;x<_.length;x++)f.push(this.passes[_[x]]);h.passOffset=w,w+=h.passes.length}return(a=this.scatter).update.apply(a,f),this}},t.prototype.updateItem=function(a,s){var c=this.regl;if(null===s)return this.traces[a]=null,this;if(!s)return this;var p,f=S(s,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),w=this.traces[a]||(this.traces[a]={id:a,buffer:c.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:m([c._gl.drawingBufferWidth,c._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=f.color&&(w.color=f.color),null!=f.size&&(w.size=f.size),null!=f.marker&&(w.marker=f.marker),null!=f.borderColor&&(w.borderColor=f.borderColor),null!=f.borderSize&&(w.borderSize=f.borderSize),null!=f.opacity&&(w.opacity=f.opacity),f.viewport&&(w.viewport=m(f.viewport)),null!=f.diagonal&&(w.diagonal=f.diagonal),null!=f.upper&&(w.upper=f.upper),null!=f.lower&&(w.lower=f.lower),f.data){w.buffer(l(f.data)),w.columns=f.data.length,w.count=f.data[0].length,w.bounds=[];for(var v=0;v<w.columns;v++)w.bounds[v]=u(f.data[v],1)}f.range&&(w.range=f.range,p=w.range&&"number"!=typeof w.range[0]),f.domain&&(w.domain=f.domain);var h=!1;null!=f.padding&&(Array.isArray(f.padding)&&f.padding.length===w.columns&&"number"==typeof f.padding[f.padding.length-1]?(w.padding=f.padding.map(n),h=!0):w.padding=n(f.padding));var _=w.columns,x=w.count,b=w.viewport.width,M=w.viewport.height,d=w.viewport.x,E=w.viewport.y,k=b/_,I=M/_;w.passes=[];for(var L=0;L<_;L++)for(var P=0;P<_;P++)if((w.diagonal||P!==L)&&(w.upper||!(L>P))&&(w.lower||!(L<P))){var R=o(w.id,L,P),z=this.passes[R]||(this.passes[R]={});if(f.data&&(z.positions=f.transpose?{x:{buffer:w.buffer,offset:P,count:x,stride:_},y:{buffer:w.buffer,offset:L,count:x,stride:_}}:{x:{buffer:w.buffer,offset:P*x,count:x},y:{buffer:w.buffer,offset:L*x,count:x}},z.bounds=r(w.bounds,L,P)),f.domain||f.viewport||f.data){var $=h?r(w.padding,L,P):w.padding;if(w.domain){var N=r(w.domain,L,P);z.viewport=[d+N[0]*b+$[0],E+N[1]*M+$[1],d+N[2]*b-$[2],E+N[3]*M-$[3]]}else z.viewport=[d+P*k+k*$[0],E+L*I+I*$[1],d+(P+1)*k-k*$[2],E+(L+1)*I-I*$[3]]}f.color&&(z.color=w.color),f.size&&(z.size=w.size),f.marker&&(z.marker=w.marker),f.borderSize&&(z.borderSize=w.borderSize),f.borderColor&&(z.borderColor=w.borderColor),f.opacity&&(z.opacity=w.opacity),f.range&&(z.range=p?r(w.range,L,P):w.range||z.bounds),w.passes.push(R)}return this},t.prototype.draw=function(){for(var a,s=[],c=arguments.length;c--;)s[c]=arguments[c];if(s.length){for(var p=[],f=0;f<s.length;f++)if("number"==typeof s[f]){var w=this.traces[s[f]],h=w.passOffset;p.push.apply(p,T(h,h+w.passes.length))}else if(s[f].length){var _=s[f],x=this.traces[f],b=x.passes,M=x.passOffset;b=b.map(function(d,E){p[M+E]=_})}(a=this.scatter).draw.apply(a,p)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(a){a.buffer&&a.buffer.destroy&&a.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(ie){ie.exports=function(){function B(Xe,rt){this.id=ue++,this.type=Xe,this.data=rt}function e(Xe){if(0===Xe.length)return[];var rt=Xe.charAt(0),ft=Xe.charAt(Xe.length-1);if(1<Xe.length&&rt===ft&&('"'===rt||"'"===rt))return['"'+Xe.substr(1,Xe.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(rt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Xe))return e(Xe.substr(0,rt.index)).concat(e(rt[1])).concat(e(Xe.substr(rt.index+rt[0].length)));if(1===(rt=Xe.split(".")).length)return['"'+Xe.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Xe=[],ft=0;ft<rt.length;++ft)Xe=Xe.concat(e(rt[ft]));return Xe}function C(Xe){return"["+e(Xe).join("][")+"]"}function S(Xe){return"string"==typeof Xe?Xe.split():Xe}function u(Xe){return"string"==typeof Xe?document.querySelector(Xe):Xe}function T(Xe,rt){for(var ft=Array(Xe),vt=0;vt<Xe;++vt)ft[vt]=rt(vt);return ft}function m(Xe){var rt,ft;return rt=(65535<Xe)<<4,rt|=ft=(255<(Xe>>>=rt))<<3,(rt|=ft=(15<(Xe>>>=ft))<<2)|(ft=(3<(Xe>>>=ft))<<1)|Xe>>>ft>>1}function l(){function Xe(vt){e:{for(var je=16;268435456>=je;je*=16)if(vt<=je){vt=je;break e}vt=0}return 0<(je=ft[m(vt)>>2]).length?je.pop():new ArrayBuffer(vt)}function rt(vt){ft[m(vt.byteLength)>>2].push(vt)}var ft=T(8,function(){return[]});return{alloc:Xe,free:rt,allocType:function(vt,je){var Ve=null;switch(vt){case 5120:Ve=new Int8Array(Xe(je),0,je);break;case 5121:Ve=new Uint8Array(Xe(je),0,je);break;case 5122:Ve=new Int16Array(Xe(2*je),0,je);break;case 5123:Ve=new Uint16Array(Xe(2*je),0,je);break;case 5124:Ve=new Int32Array(Xe(4*je),0,je);break;case 5125:Ve=new Uint32Array(Xe(4*je),0,je);break;case 5126:Ve=new Float32Array(Xe(4*je),0,je);break;default:return null}return Ve.length!==je?Ve.subarray(0,je):Ve},freeType:function(vt){rt(vt.buffer)}}}function t(Xe){return!!Xe&&"object"==typeof Xe&&Array.isArray(Xe.shape)&&Array.isArray(Xe.stride)&&"number"==typeof Xe.offset&&Xe.shape.length===Xe.stride.length&&(Array.isArray(Xe.data)||Te(Xe.data))}function o(Xe,rt,ft,vt,je,Ve){for(var ut=0;ut<rt;++ut)for(var ct=Xe[ut],Tt=0;Tt<ft;++Tt)for(var Mt=ct[Tt],At=0;At<vt;++At)je[Ve++]=Mt[At]}function r(Xe,rt,ft,vt,je){for(var Ve=1,ut=ft+1;ut<rt.length;++ut)Ve*=rt[ut];var ct=rt[ft];if(rt.length-ft==4){var Tt=rt[ft+1],Mt=rt[ft+2];for(rt=rt[ft+3],ut=0;ut<ct;++ut)o(Xe[ut],Tt,Mt,rt,vt,je),je+=Ve}else for(ut=0;ut<ct;++ut)r(Xe[ut],rt,ft+1,vt,je),je+=Ve}function n(Xe){return 0|Ne[Object.prototype.toString.call(Xe)]}function a(Xe,rt){for(var ft=0;ft<rt.length;++ft)Xe[ft]=rt[ft]}function s(Xe,rt,ft,vt,je,Ve,ut){for(var ct=0,Tt=0;Tt<ft;++Tt)for(var Mt=0;Mt<vt;++Mt)Xe[ct++]=rt[je*Tt+Ve*Mt+ut]}function f(Xe){for(var rt=ke.allocType(5123,Xe.length),ft=0;ft<Xe.length;++ft)if(isNaN(Xe[ft]))rt[ft]=65535;else if(Xe[ft]===1/0)rt[ft]=31744;else if(Xe[ft]===-1/0)rt[ft]=64512;else{Re[0]=Xe[ft];var vt=(Ve=Ee[0])>>>31<<15,je=(Ve<<1>>>24)-127,Ve=Ve>>13&1023;rt[ft]=-24>je?vt:-14>je?vt+(Ve+1024>>-14-je):15<je?vt+31744:vt+(je+15<<10)+Ve}return rt}function w(Xe){return Array.isArray(Xe)||Te(Xe)}function v(Xe){return"[object "+Xe+"]"}function h(Xe){return Array.isArray(Xe)&&(0===Xe.length||"number"==typeof Xe[0])}function _(Xe){return!(!Array.isArray(Xe)||0===Xe.length||!w(Xe[0]))}function x(Xe){return Object.prototype.toString.call(Xe)}function b(Xe){if(!Xe)return!1;var rt=x(Xe);return 0<=et.indexOf(rt)||h(Xe)||_(Xe)||t(Xe)}function M(Xe,rt){36193===Xe.type?(Xe.data=f(rt),ke.freeType(rt)):Xe.data=rt}function d(Xe,rt,ft,vt,je,Ve){if(Xe=void 0!==mt[Xe]?mt[Xe]:ve[Xe]*st[rt],Ve&&(Xe*=6),je){for(vt=0;1<=ft;)vt+=Xe*ft*ft,ft/=2;return vt}return Xe*ft*vt}function I(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function z(Xe,rt){return Xe>>>rt|Xe<<32-rt}function $(Xe,rt){var ft=(65535&Xe)+(65535&rt);return(Xe>>16)+(rt>>16)+(ft>>16)<<16|65535&ft}function N(Xe){return Array.prototype.slice.call(Xe)}function W(Xe){return N(Xe).join("")}function U(Xe){return Array.isArray(Xe)||Te(Xe)||t(Xe)}function Z(Xe){return Xe.sort(function(rt,ft){return"viewport"===rt?-1:"viewport"===ft?1:rt<ft?-1:1})}function Y(Xe,rt,ft,vt){this.thisDep=Xe,this.contextDep=rt,this.propDep=ft,this.append=vt}function ae(Xe){return Xe&&!(Xe.thisDep||Xe.contextDep||Xe.propDep)}function re(Xe){return new Y(!1,!1,!1,Xe)}function Q(Xe,rt){var ft=Xe.type;if(0===ft)return new Y(!0,1<=(ft=Xe.data.length),2<=ft,rt);if(4===ft)return new Y((ft=Xe.data).thisDep,ft.contextDep,ft.propDep,rt);if(5===ft)return new Y(!1,!1,!1,rt);if(6===ft){for(var vt=ft=!1,je=!1,Ve=0;Ve<Xe.data.length;++Ve){var ut=Xe.data[Ve];1===ut.type?je=!0:2===ut.type?vt=!0:3===ut.type?ft=!0:0===ut.type?(ft=!0,1<=(ut=ut.data)&&(vt=!0),2<=ut&&(je=!0)):4===ut.type&&(ft=ft||ut.data.thisDep,vt=vt||ut.data.contextDep,je=je||ut.data.propDep)}return new Y(ft,vt,je,rt)}return new Y(3===ft,2===ft,1===ft,rt)}function K(Xe,rt,ft,vt,je,Ve,ut,ct,Tt,Mt,At,bt,Rt,xt,_t,It){function Gt(Ft){return Ft.replace(".","_")}function Wt(Ft,on,fn){var Sn=Gt(Ft);or.push(Ft),Bn[Sn]=Cn[Sn]=!!fn,An[Sn]=on}function Zt(Ft,on,fn){var Sn=Gt(Ft);or.push(Ft),Array.isArray(fn)?(Cn[Sn]=fn.slice(),Bn[Sn]=fn.slice()):Cn[Sn]=Bn[Sn]=fn,$n[Sn]=on}function cn(){var Ft=function H(Xe){function rt(){var At=[],bt=[];return oe(function(){At.push.apply(At,N(arguments))},{def:function(){var Rt="v"+je++;return bt.push(Rt),0<arguments.length&&(At.push(Rt,"="),At.push.apply(At,N(arguments)),At.push(";")),Rt},toString:function(){return W([0<bt.length?"var "+bt.join(",")+";":"",W(At)])}})}function ft(){function At(It,Gt){Rt(It,Gt,"=",bt.def(It,Gt),";")}var bt=rt(),Rt=rt(),xt=bt.toString,_t=Rt.toString;return oe(function(){bt.apply(bt,N(arguments))},{def:bt.def,entry:bt,exit:Rt,save:At,set:function(It,Gt,Wt){At(It,Gt),bt(It,Gt,"=",Wt,";")},toString:function(){return xt()+_t()}})}var vt=Xe&&Xe.cache,je=0,Ve=[],ut=[],ct=[],Tt=rt(),Mt={};return{global:Tt,link:function(At,bt){var Rt=bt&&bt.stable;if(!Rt)for(var xt=0;xt<ut.length;++xt)if(ut[xt]===At&&!ct[xt])return Ve[xt];return xt="g"+je++,Ve.push(xt),ut.push(At),ct.push(Rt),xt},block:rt,proc:function(At,bt){function Rt(){var Gt="a"+xt.length;return xt.push(Gt),Gt}var xt=[];bt=bt||0;for(var _t=0;_t<bt;++_t)Rt();var It=(_t=ft()).toString;return Mt[At]=oe(_t,{arg:Rt,toString:function(){return W(["function(",xt.join(),"){",It(),"}"])}})},scope:ft,cond:function(){var At=W(arguments),bt=ft(),Rt=ft(),xt=bt.toString,_t=Rt.toString;return oe(bt,{then:function(){return bt.apply(bt,N(arguments)),this},else:function(){return Rt.apply(Rt,N(arguments)),this},toString:function(){var It=_t();return It&&(It="else{"+It+"}"),W(["if(",At,"){",xt(),"}",It])}})},compile:function(){var At=['"use strict";',Tt,"return {"];Object.keys(Mt).forEach(function(xt){At.push('"',xt,'":',Mt[xt].toString(),",")}),At.push("}");var bt,Rt=W(At).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return vt&&(bt=function(xt){for(var _t,It="",Gt=0;Gt<xt.length;Gt++)_t=xt.charCodeAt(Gt),It+="0123456789abcdef".charAt(_t>>>4&15)+"0123456789abcdef".charAt(15&_t);return It}(function(xt){for(var _t=Array(xt.length>>2),It=0;It<_t.length;It++)_t[It]=0;for(It=0;It<8*xt.length;It+=8)_t[It>>5]|=(255&xt.charCodeAt(It/8))<<24-It%32;var Gt,Wt,Zt,cn,nn,ln,Qt,kn,Pn,Tn,tn,gn=8*xt.length;for(xt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],It=Array(64),_t[gn>>5]|=128<<24-gn%32,_t[15+(gn+64>>9<<4)]=gn,kn=0;kn<_t.length;kn+=16){for(gn=xt[0],Gt=xt[1],Wt=xt[2],Zt=xt[3],cn=xt[4],nn=xt[5],ln=xt[6],Qt=xt[7],Pn=0;64>Pn;Pn++){var hn;16>Pn?It[Pn]=_t[Pn+kn]:(Tn=Pn,tn=$(tn=z(tn=It[Pn-2],17)^z(tn,19)^tn>>>10,It[Pn-7]),hn=z(hn=It[Pn-15],7)^z(hn,18)^hn>>>3,It[Tn]=$($(tn,hn),It[Pn-16])),Tn=$($($($(Qt,Tn=z(Tn=cn,6)^z(Tn,11)^z(Tn,25)),cn&nn^~cn&ln),dt[Pn]),It[Pn]),tn=$(Qt=z(Qt=gn,2)^z(Qt,13)^z(Qt,22),gn&Gt^gn&Wt^Gt&Wt),Qt=ln,ln=nn,nn=cn,cn=$(Zt,Tn),Zt=Wt,Wt=Gt,Gt=gn,gn=$(Tn,tn)}xt[0]=$(gn,xt[0]),xt[1]=$(Gt,xt[1]),xt[2]=$(Wt,xt[2]),xt[3]=$(Zt,xt[3]),xt[4]=$(cn,xt[4]),xt[5]=$(nn,xt[5]),xt[6]=$(ln,xt[6]),xt[7]=$(Qt,xt[7])}for(_t="",It=0;It<32*xt.length;It+=8)_t+=String.fromCharCode(xt[It>>5]>>>24-It%32&255);return _t}(function(xt){for(var _t,It,Gt="",Wt=-1;++Wt<xt.length;)_t=xt.charCodeAt(Wt),It=Wt+1<xt.length?xt.charCodeAt(Wt+1):0,55296<=_t&&56319>=_t&&56320<=It&&57343>=It&&(_t=65536+((1023&_t)<<10)+(1023&It),Wt++),127>=_t?Gt+=String.fromCharCode(_t):2047>=_t?Gt+=String.fromCharCode(192|_t>>>6&31,128|63&_t):65535>=_t?Gt+=String.fromCharCode(224|_t>>>12&15,128|_t>>>6&63,128|63&_t):2097151>=_t&&(Gt+=String.fromCharCode(240|_t>>>18&7,128|_t>>>12&63,128|_t>>>6&63,128|63&_t));return Gt}(Rt))),vt[bt])?vt[bt].apply(null,ut):(Rt=Function.apply(null,Ve.concat(Rt)),vt&&(vt[bt]=Rt),Rt.apply(null,ut))}}}({cache:_t}),on=Ft.link,fn=Ft.global;Ft.id=Rn++,Ft.batchId="0";var Sn=on(Xn),Ln=Ft.shared={props:"a0"};Object.keys(Xn).forEach(function(xn){Ln[xn]=fn.def(Sn,".",xn)});var jn=Ft.next={},bn=Ft.current={};Object.keys($n).forEach(function(xn){Array.isArray(Cn[xn])&&(jn[xn]=fn.def(Ln.next,".",xn),bn[xn]=fn.def(Ln.current,".",xn))});var sn=Ft.constants={};Object.keys(Kt).forEach(function(xn){sn[xn]=fn.def(JSON.stringify(Kt[xn]))}),Ft.invoke=function(xn,_n){switch(_n.type){case 0:var Vn=["this",Ln.context,Ln.props,Ft.batchId];return xn.def(on(_n.data),".call(",Vn.slice(0,Math.max(_n.data.length+1,4)),")");case 1:return xn.def(Ln.props,_n.data);case 2:return xn.def(Ln.context,_n.data);case 3:return xn.def("this",_n.data);case 4:return _n.data.append(Ft,xn),_n.data.ref;case 5:return _n.data.toString();case 6:return _n.data.map(function(Gn){return Ft.invoke(xn,Gn)})}},Ft.attribCache={};var un={};return Ft.scopeAttrib=function(xn){if((xn=rt.id(xn))in un)return un[xn];var _n=Mt.scope[xn];return _n||(_n=Mt.scope[xn]=new fr),un[xn]=on(_n)},Ft}function Pn(Ft,on,fn,Sn,Ln){function jn(mr){var er=sn[mr];er&&(xn[mr]=er)}var mr,ur,Tr,Mr,bn=function(mr,er){if("string"==typeof(ur=mr.static).frag&&"string"==typeof ur.vert){if(0<Object.keys(er.dynamic).length)return null;var ur=er.static,Tr=Object.keys(ur);if(0<Tr.length&&"number"==typeof ur[Tr[0]]){for(var Mr=[],Dr=0;Dr<Tr.length;++Dr)Mr.push([0|ur[Tr[Dr]],Tr[Dr]]);return Mr}}return null}(Ft,on),sn=function(mr,er,ur){function Tr(Hr){if(Hr in Mr){var sr=Mr[Hr];Hr=!0;var Or,Qr,ji=0|sr.x,fo=0|sr.y;return"width"in sr?Or=0|sr.width:Hr=!1,"height"in sr?Qr=0|sr.height:Hr=!1,new Y(!Hr&&er&&er.thisDep,!Hr&&er&&er.contextDep,!Hr&&er&&er.propDep,function(ro,Yi){var To=ro.shared.context,Ms=Or;"width"in sr||(Ms=Yi.def(To,".","framebufferWidth","-",ji));var $r=Qr;return"height"in sr||($r=Yi.def(To,".","framebufferHeight","-",fo)),[ji,fo,Ms,$r]})}if(Hr in Dr){var no=Dr[Hr];return Hr=Q(no,function(ro,Yi){var To=ro.invoke(Yi,no),Ms=ro.shared.context,$r=Yi.def(To,".x|0"),fs=Yi.def(To,".y|0");return[$r,fs,Yi.def('"width" in ',To,"?",To,".width|0:","(",Ms,".","framebufferWidth","-",$r,")"),To=Yi.def('"height" in ',To,"?",To,".height|0:","(",Ms,".","framebufferHeight","-",fs,")")]}),er&&(Hr.thisDep=Hr.thisDep||er.thisDep,Hr.contextDep=Hr.contextDep||er.contextDep,Hr.propDep=Hr.propDep||er.propDep),Hr}return er?new Y(er.thisDep,er.contextDep,er.propDep,function(ro,Yi){var To=ro.shared.context;return[0,0,Yi.def(To,".","framebufferWidth"),Yi.def(To,".","framebufferHeight")]}):null}var Mr=mr.static,Dr=mr.dynamic;if(mr=Tr("viewport")){var lr=mr;mr=new Y(mr.thisDep,mr.contextDep,mr.propDep,function(Hr,sr){var Or=lr.append(Hr,sr),Qr=Hr.shared.context;return sr.set(Qr,".viewportWidth",Or[2]),sr.set(Qr,".viewportHeight",Or[3]),Or})}return{viewport:mr,scissor_box:Tr("scissor.box")}}(Ft,Vn=function nn(Ft,on){var fn=Ft.static,Sn=Ft.dynamic;if("framebuffer"in fn){var Ln=fn.framebuffer;return Ln?(Ln=ct.getFramebuffer(Ln),re(function(bn,sn){var un=bn.link(Ln),xn=bn.shared;return sn.set(xn.framebuffer,".next",un),sn.set(xn=xn.context,".framebufferWidth",un+".width"),sn.set(xn,".framebufferHeight",un+".height"),un})):re(function(bn,sn){var un=bn.shared;return sn.set(un.framebuffer,".next","null"),sn.set(un=un.context,".framebufferWidth",un+".drawingBufferWidth"),sn.set(un,".framebufferHeight",un+".drawingBufferHeight"),"null"})}if("framebuffer"in Sn){var jn=Sn.framebuffer;return Q(jn,function(bn,sn){var un=bn.invoke(sn,jn),xn=bn.shared,_n=xn.framebuffer;return un=sn.def(_n,".getFramebuffer(",un,")"),sn.set(_n,".next",un),sn.set(xn=xn.context,".framebufferWidth",un+"?"+un+".width:"+xn+".drawingBufferWidth"),sn.set(xn,".framebufferHeight",un+"?"+un+".height:"+xn+".drawingBufferHeight"),un})}return null}(Ft)),un=function Qt(Ft,on){function fn(Jn,mr){if(Jn in Sn){var er=0|Sn[Jn];return mr?jn.offset=er:jn.instances=er,re(function(Tr,Mr){return mr&&(Tr.OFFSET=er),er})}if(Jn in Ln){var ur=Ln[Jn];return Q(ur,function(Tr,Mr){var Dr=Tr.invoke(Mr,ur);return mr&&(Tr.OFFSET=Dr),Dr})}if(mr){if(un)return re(function(Tr,Mr){return Tr.OFFSET=0});if(bn)return new Y(sn.thisDep,sn.contextDep,sn.propDep,function(Tr,Mr){return Mr.def(Tr.shared.vao+".currentVAO?"+Tr.shared.vao+".currentVAO.offset:0")})}else if(bn)return new Y(sn.thisDep,sn.contextDep,sn.propDep,function(Tr,Mr){return Mr.def(Tr.shared.vao+".currentVAO?"+Tr.shared.vao+".currentVAO.instances:-1")});return null}var Sn=Ft.static,Ln=Ft.dynamic,jn={},bn=!1,sn=function(){if("vao"in Sn){var Jn=Sn.vao;return null!==Jn&&null===Mt.getVAO(Jn)&&(Jn=Mt.createVAO(Jn)),bn=!0,jn.vao=Jn,re(function(er){var ur=Mt.getVAO(Jn);return ur?er.link(ur):"null"})}if("vao"in Ln){bn=!0;var mr=Ln.vao;return Q(mr,function(er,ur){var Tr=er.invoke(ur,mr);return ur.def(er.shared.vao+".getVAO("+Tr+")")})}return null}(),un=!1,xn=function(){if("elements"in Sn){var Jn=Sn.elements;if(jn.elements=Jn,U(Jn)){var mr=jn.elements=Ve.create(Jn,!0);Jn=Ve.getElements(mr),un=!0}else Jn&&(Jn=Ve.getElements(Jn),un=!0);return(mr=re(function(ur,Tr){if(Jn){var Mr=ur.link(Jn);return ur.ELEMENTS=Mr}return ur.ELEMENTS=null})).value=Jn,mr}if("elements"in Ln){un=!0;var er=Ln.elements;return Q(er,function(ur,Tr){var Mr=(Dr=ur.shared).isBufferArgs,Dr=Dr.elements,lr=ur.invoke(Tr,er),Hr=Tr.def("null");return Mr=Tr.def(Mr,"(",lr,")"),lr=ur.cond(Mr).then(Hr,"=",Dr,".createStream(",lr,");").else(Hr,"=",Dr,".getElements(",lr,");"),Tr.entry(lr),Tr.exit(ur.cond(Mr).then(Dr,".destroyStream(",Hr,");")),ur.ELEMENTS=Hr})}return bn?new Y(sn.thisDep,sn.contextDep,sn.propDep,function(ur,Tr){return Tr.def(ur.shared.vao+".currentVAO?"+ur.shared.elements+".getElements("+ur.shared.vao+".currentVAO.elements):null")}):null}(),_n=fn("offset",!0),Vn=function(){if("primitive"in Sn){var Jn=Sn.primitive;return jn.primitive=Jn,re(function(er,ur){return we[Jn]})}if("primitive"in Ln){var mr=Ln.primitive;return Q(mr,function(er,ur){var Tr=er.constants.primTypes,Mr=er.invoke(ur,mr);return ur.def(Tr,"[",Mr,"]")})}return un?ae(xn)?re(xn.value?function(er,ur){return ur.def(er.ELEMENTS,".primType")}:function(){return 4}):new Y(xn.thisDep,xn.contextDep,xn.propDep,function(er,ur){var Tr=er.ELEMENTS;return ur.def(Tr,"?",Tr,".primType:",4)}):bn?new Y(sn.thisDep,sn.contextDep,sn.propDep,function(er,ur){return ur.def(er.shared.vao+".currentVAO?"+er.shared.vao+".currentVAO.primitive:4")}):null}(),Gn=function(){if("count"in Sn){var Jn=0|Sn.count;return jn.count=Jn,re(function(){return Jn})}if("count"in Ln){var mr=Ln.count;return Q(mr,function(er,ur){return er.invoke(ur,mr)})}return un?ae(xn)?xn?_n?new Y(_n.thisDep,_n.contextDep,_n.propDep,function(er,ur){return ur.def(er.ELEMENTS,".vertCount-",er.OFFSET)}):re(function(er,ur){return ur.def(er.ELEMENTS,".vertCount")}):re(function(){return-1}):new Y(xn.thisDep||_n.thisDep,xn.contextDep||_n.contextDep,xn.propDep||_n.propDep,function(er,ur){var Tr=er.ELEMENTS;return er.OFFSET?ur.def(Tr,"?",Tr,".vertCount-",er.OFFSET,":-1"):ur.def(Tr,"?",Tr,".vertCount:-1")}):bn?new Y(sn.thisDep,sn.contextDep,sn.propDep,function(er,ur){return ur.def(er.shared.vao,".currentVAO?",er.shared.vao,".currentVAO.count:-1")}):null}(),rr=fn("instances",!1);return{elements:xn,primitive:Vn,count:Gn,instances:rr,offset:_n,vao:sn,vaoActive:bn,elementsActive:un,static:jn}}(Ft),xn=(ur=(mr=Ft).static,Tr=mr.dynamic,Mr={},or.forEach(function(Dr){function lr(sr,Or){if(Dr in ur){var Qr=sr(ur[Dr]);Mr[Hr]=re(function(){return Qr})}else if(Dr in Tr){var ji=Tr[Dr];Mr[Hr]=Q(ji,function(fo,no){return Or(fo,no,fo.invoke(no,ji))})}}var Hr=Gt(Dr);switch(Dr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return lr(function(sr){return sr},function(sr,Or,Qr){return Qr});case"depth.func":return lr(function(sr){return Ht[sr]},function(sr,Or,Qr){return Or.def(sr.constants.compareFuncs,"[",Qr,"]")});case"depth.range":return lr(function(sr){return sr},function(sr,Or,Qr){return[Or.def("+",Qr,"[0]"),Or=Or.def("+",Qr,"[1]")]});case"blend.func":return lr(function(sr){return[Pt["srcRGB"in sr?sr.srcRGB:sr.src],Pt["dstRGB"in sr?sr.dstRGB:sr.dst],Pt["srcAlpha"in sr?sr.srcAlpha:sr.src],Pt["dstAlpha"in sr?sr.dstAlpha:sr.dst]]},function(sr,Or,Qr){function ji(Yi,To){return Or.def('"',Yi,To,'" in ',Qr,"?",Qr,".",Yi,To,":",Qr,".",Yi)}sr=sr.constants.blendFuncs;var fo=ji("src","RGB"),no=ji("dst","RGB"),ro=(fo=Or.def(sr,"[",fo,"]"),Or.def(sr,"[",ji("src","Alpha"),"]"));return[fo,no=Or.def(sr,"[",no,"]"),ro,sr=Or.def(sr,"[",ji("dst","Alpha"),"]")]});case"blend.equation":return lr(function(sr){return"string"==typeof sr?[Rr[sr],Rr[sr]]:"object"==typeof sr?[Rr[sr.rgb],Rr[sr.alpha]]:void 0},function(sr,Or,Qr){var ji=sr.constants.blendEquations,fo=Or.def(),no=Or.def();return(sr=sr.cond("typeof ",Qr,'==="string"')).then(fo,"=",no,"=",ji,"[",Qr,"];"),sr.else(fo,"=",ji,"[",Qr,".rgb];",no,"=",ji,"[",Qr,".alpha];"),Or(sr),[fo,no]});case"blend.color":return lr(function(sr){return T(4,function(Or){return+sr[Or]})},function(sr,Or,Qr){return T(4,function(ji){return Or.def("+",Qr,"[",ji,"]")})});case"stencil.mask":return lr(function(sr){return 0|sr},function(sr,Or,Qr){return Or.def(Qr,"|0")});case"stencil.func":return lr(function(sr){return[Ht[sr.cmp||"keep"],sr.ref||0,"mask"in sr?sr.mask:-1]},function(sr,Or,Qr){return[sr=Or.def('"cmp" in ',Qr,"?",sr.constants.compareFuncs,"[",Qr,".cmp]",":",7680),Or.def(Qr,".ref|0"),Or=Or.def('"mask" in ',Qr,"?",Qr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return lr(function(sr){return["stencil.opBack"===Dr?1029:1028,jt[sr.fail||"keep"],jt[sr.zfail||"keep"],jt[sr.zpass||"keep"]]},function(sr,Or,Qr){function ji(no){return Or.def('"',no,'" in ',Qr,"?",fo,"[",Qr,".",no,"]:",7680)}var fo=sr.constants.stencilOps;return["stencil.opBack"===Dr?1029:1028,ji("fail"),ji("zfail"),ji("zpass")]});case"polygonOffset.offset":return lr(function(sr){return[0|sr.factor,0|sr.units]},function(sr,Or,Qr){return[Or.def(Qr,".factor|0"),Or=Or.def(Qr,".units|0")]});case"cull.face":return lr(function(sr){var Or=0;return"front"===sr?Or=1028:"back"===sr&&(Or=1029),Or},function(sr,Or,Qr){return Or.def(Qr,'==="front"?',1028,":",1029)});case"frontFace":return lr(function(sr){return nt[sr]},function(sr,Or,Qr){return Or.def(Qr+'==="cw"?2304:2305')});case"colorMask":return lr(function(sr){return sr.map(function(Or){return!!Or})},function(sr,Or,Qr){return T(4,function(ji){return"!!"+Qr+"["+ji+"]"})});case"sample.coverage":return lr(function(sr){return["value"in sr?sr.value:1,!!sr.invert]},function(sr,Or,Qr){return[Or.def('"value" in ',Qr,"?+",Qr,".value:1"),Or=Or.def("!!",Qr,".invert")]})}}),Mr),_n=function ln(Ft,on,fn){function Sn(xn){if(xn in Ln){var _n=rt.id(Ln[xn]);return(xn=re(function(){return _n})).id=_n,xn}if(xn in jn){var Vn=jn[xn];return Q(Vn,function(Gn,rr){var Jn=Gn.invoke(rr,Vn);return rr.def(Gn.shared.strings,".id(",Jn,")")})}return null}var Ln=Ft.static,jn=Ft.dynamic,bn=Sn("frag"),sn=Sn("vert"),un=null;return ae(bn)&&ae(sn)?(un=At.program(sn.id,bn.id,null,fn),Ft=re(function(xn,_n){return xn.link(un)})):Ft=new Y(bn&&bn.thisDep||sn&&sn.thisDep,bn&&bn.contextDep||sn&&sn.contextDep,bn&&bn.propDep||sn&&sn.propDep,function(xn,_n){var Vn,Gn,rr=xn.shared.shader;return Vn=bn?bn.append(xn,_n):_n.def(rr,".","frag"),Gn=sn?sn.append(xn,_n):_n.def(rr,".","vert"),_n.def(rr+".program("+Gn+","+Vn+")")}),{frag:bn,vert:sn,progVar:Ft,program:un}}(Ft,0,bn);jn("viewport"),jn(Gt("scissor.box"));var Vn,Gn=0<Object.keys(xn).length;if((Vn={framebuffer:Vn,draw:un,shader:_n,state:xn,dirty:Gn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(mr){var er,ur=mr.static;if(mr=mr.dynamic,"profile"in ur){var Tr=!!ur.profile;(er=re(function(Dr,lr){return Tr})).enable=Tr}else if("profile"in mr){var Mr=mr.profile;er=Q(Mr,function(Dr,lr){return Dr.invoke(lr,Mr)})}return er}(Ft),Vn.uniforms=function(mr,er){var ur=mr.static,Tr=mr.dynamic,Mr={};return Object.keys(ur).forEach(function(Dr){var lr,Hr=ur[Dr];if("number"==typeof Hr||"boolean"==typeof Hr)lr=re(function(){return Hr});else if("function"==typeof Hr){var sr=Hr._reglType;"texture2d"===sr||"textureCube"===sr?lr=re(function(Or){return Or.link(Hr)}):"framebuffer"!==sr&&"framebufferCube"!==sr||(lr=re(function(Or){return Or.link(Hr.color[0])}))}else w(Hr)&&(lr=re(function(Or){return Or.global.def("[",T(Hr.length,function(Qr){return Hr[Qr]}),"]")}));lr.value=Hr,Mr[Dr]=lr}),Object.keys(Tr).forEach(function(Dr){var lr=Tr[Dr];Mr[Dr]=Q(lr,function(Hr,sr){return Hr.invoke(sr,lr)})}),Mr}(fn),Vn.drawVAO=Vn.scopeVAO=un.vao,!Vn.drawVAO&&_n.program&&!bn&&ft.angle_instanced_arrays&&un.static.elements){var rr=!0;if(Ft=_n.program.attributes.map(function(mr){return mr=on.static[mr],rr=rr&&!!mr,mr}),rr&&0<Ft.length){var Jn=Mt.getVAO(Mt.createVAO({attributes:Ft,elements:un.static.elements}));Vn.drawVAO=new Y(null,null,null,function(mr,er){return mr.link(Jn)}),Vn.useVAO=!0}}return bn?Vn.useVAO=!0:Vn.attributes=function kn(Ft,on){var fn=Ft.static,Sn=Ft.dynamic,Ln={};return Object.keys(fn).forEach(function(jn){var bn=fn[jn],sn=rt.id(jn),un=new fr;if(U(bn))un.state=1,un.buffer=je.getBuffer(je.create(bn,34962,!1,!0)),un.type=0;else if(_n=je.getBuffer(bn))un.state=1,un.buffer=_n,un.type=0;else if("constant"in bn){var xn=bn.constant;un.buffer="null",un.state=2,"number"==typeof xn?un.x=xn:Ct.forEach(function(er,ur){ur<xn.length&&(un[er]=xn[ur])})}else{var _n=U(bn.buffer)?je.getBuffer(je.create(bn.buffer,34962,!1,!0)):je.getBuffer(bn.buffer),Vn=0|bn.offset,Gn=0|bn.stride,rr=0|bn.size,Jn=!!bn.normalized,mr=0;"type"in bn&&(mr=Se[bn.type]),bn=0|bn.divisor,un.buffer=_n,un.state=1,un.size=rr,un.normalized=Jn,un.type=mr||_n.dtype,un.offset=Vn,un.stride=Gn,un.divisor=bn}Ln[jn]=re(function(er,ur){var Tr=er.attribCache;if(sn in Tr)return Tr[sn];var Mr={isStream:!1};return Object.keys(un).forEach(function(Dr){Mr[Dr]=un[Dr]}),un.buffer&&(Mr.buffer=er.link(un.buffer),Mr.type=Mr.type||Mr.buffer+".dtype"),Tr[sn]=Mr})}),Object.keys(Sn).forEach(function(jn){var bn=Sn[jn];Ln[jn]=Q(bn,function(sn,un){function xn(Tr){un(Jn[Tr],"=",_n,".",Tr,"|0;")}var _n=sn.invoke(un,bn),Vn=sn.shared,Gn=sn.constants,rr=Vn.isBufferArgs,Jn=(Vn=Vn.buffer,{isStream:un.def(!1)}),mr=new fr;mr.state=1,Object.keys(mr).forEach(function(Tr){Jn[Tr]=un.def(""+mr[Tr])});var er=Jn.buffer,ur=Jn.type;return un("if(",rr,"(",_n,")){",Jn.isStream,"=true;",er,"=",Vn,".createStream(",34962,",",_n,");",ur,"=",er,".dtype;","}else{",er,"=",Vn,".getBuffer(",_n,");","if(",er,"){",ur,"=",er,".dtype;",'}else if("constant" in ',_n,"){",Jn.state,"=",2,";","if(typeof "+_n+'.constant === "number"){',Jn[Ct[0]],"=",_n,".constant;",Ct.slice(1).map(function(Tr){return Jn[Tr]}).join("="),"=0;","}else{",Ct.map(function(Tr,Mr){return Jn[Tr]+"="+_n+".constant.length>"+Mr+"?"+_n+".constant["+Mr+"]:0;"}).join(""),"}}else{","if(",rr,"(",_n,".buffer)){",er,"=",Vn,".createStream(",34962,",",_n,".buffer);","}else{",er,"=",Vn,".getBuffer(",_n,".buffer);","}",ur,'="type" in ',_n,"?",Gn.glTypes,"[",_n,".type]:",er,".dtype;",Jn.normalized,"=!!",_n,".normalized;"),xn("size"),xn("offset"),xn("stride"),xn("divisor"),un("}}"),un.exit("if(",Jn.isStream,"){",Vn,".destroyStream(",er,");","}"),Jn})}),Ln}(on),Vn.context=function(mr){var er=mr.static,ur=mr.dynamic,Tr={};return Object.keys(er).forEach(function(Mr){var Dr=er[Mr];Tr[Mr]=re(function(lr,Hr){return"number"==typeof Dr||"boolean"==typeof Dr?""+Dr:lr.link(Dr)})}),Object.keys(ur).forEach(function(Mr){var Dr=ur[Mr];Tr[Mr]=Q(Dr,function(lr,Hr){return lr.invoke(Hr,Dr)})}),Tr}(Sn),Vn}function Tn(Ft,on,fn){var Sn=Ft.shared.context,Ln=Ft.scope();Object.keys(fn).forEach(function(jn){on.save(Sn,"."+jn);var bn=fn[jn].append(Ft,on);Array.isArray(bn)?Ln(Sn,".",jn,"=[",bn.join(),"];"):Ln(Sn,".",jn,"=",bn,";")}),on(Ln)}function tn(Ft,on,fn,Sn){var Ln,jn=(sn=Ft.shared).gl,bn=sn.framebuffer;rn&&(Ln=on.def(sn.extensions,".webgl_draw_buffers"));var sn=(un=Ft.constants).drawBuffer,un=un.backBuffer;Ft=fn?fn.append(Ft,on):on.def(bn,".next"),Sn||on("if(",Ft,"!==",bn,".cur){"),on("if(",Ft,"){",jn,".bindFramebuffer(",36160,",",Ft,".framebuffer);"),rn&&on(Ln,".drawBuffersWEBGL(",sn,"[",Ft,".colorAttachments.length]);"),on("}else{",jn,".bindFramebuffer(",36160,",null);"),rn&&on(Ln,".drawBuffersWEBGL(",un,");"),on("}",bn,".cur=",Ft,";"),Sn||on("}")}function gn(Ft,on,fn){var Sn=Ft.shared,Ln=Sn.gl,jn=Ft.current,bn=Ft.next,sn=Sn.current,un=Sn.next,xn=Ft.cond(sn,".dirty");or.forEach(function(_n){var Vn,Gn;if(!((_n=Gt(_n))in fn.state))if(_n in bn){Vn=bn[_n],Gn=jn[_n];var rr=T(Cn[_n].length,function(Jn){return xn.def(Vn,"[",Jn,"]")});xn(Ft.cond(rr.map(function(Jn,mr){return Jn+"!=="+Gn+"["+mr+"]"}).join("||")).then(Ln,".",$n[_n],"(",rr,");",rr.map(function(Jn,mr){return Gn+"["+mr+"]="+Jn}).join(";"),";"))}else Vn=xn.def(un,".",_n),rr=Ft.cond(Vn,"!==",sn,".",_n),xn(rr),_n in An?rr(Ft.cond(Vn).then(Ln,".enable(",An[_n],");").else(Ln,".disable(",An[_n],");"),sn,".",_n,"=",Vn,";"):rr(Ln,".",$n[_n],"(",Vn,");",sn,".",_n,"=",Vn,";")}),0===Object.keys(fn.state).length&&xn(sn,".dirty=false;"),on(xn)}function hn(Ft,on,fn,Sn){var Ln,jn=Ft.shared,bn=Ft.current,sn=jn.current,un=jn.gl;Z(Object.keys(fn)).forEach(function(xn){var _n=fn[xn];if(!Sn||Sn(_n)){var Vn=_n.append(Ft,on);if(An[xn]){var Gn=An[xn];ae(_n)?(Ln=Ft.link(Vn,{stable:!0}),on(Ft.cond(Ln).then(un,".enable(",Gn,");").else(un,".disable(",Gn,");")),on(sn,".",xn,"=",Ln,";")):(on(Ft.cond(Vn).then(un,".enable(",Gn,");").else(un,".disable(",Gn,");")),on(sn,".",xn,"=",Vn,";"))}else if(w(Vn)){var rr=bn[xn];on(un,".",$n[xn],"(",Vn,");",Vn.map(function(Jn,mr){return rr+"["+mr+"]="+Jn}).join(";"),";")}else ae(_n)?(Ln=Ft.link(Vn,{stable:!0}),on(un,".",$n[xn],"(",Ln,");",sn,".",xn,"=",Ln,";")):on(un,".",$n[xn],"(",Vn,");",sn,".",xn,"=",Vn,";")}})}function mn(Ft,on){Xt&&(Ft.instancing=on.def(Ft.shared.extensions,".angle_instanced_arrays"))}function En(Ft,on,fn,Sn,Ln){function jn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function bn(mr){mr(xn=on.def(),"=",jn(),";"),"string"==typeof Ln?mr(Gn,".count+=",Ln,";"):mr(Gn,".count++;"),xt&&(Sn?mr(_n=on.def(),"=",Jn,".getNumPendingQueries();"):mr(Jn,".beginQuery(",Gn,");"))}function sn(mr){mr(Gn,".cpuTime+=",jn(),"-",xn,";"),xt&&(Sn?mr(Jn,".pushScopeStats(",_n,",",Jn,".getNumPendingQueries(),",Gn,");"):mr(Jn,".endQuery();"))}function un(mr){var er=on.def(rr,".profile");on(rr,".profile=",mr,";"),on.exit(rr,".profile=",er,";")}var xn,_n,Vn=Ft.shared,Gn=Ft.stats,rr=Vn.current,Jn=Vn.timer;if(fn=fn.profile){if(ae(fn))return void(fn.enable?(bn(on),sn(on.exit),un("true")):un("false"));un(fn=fn.append(Ft,on))}else fn=on.def(rr,".profile");bn(Vn=Ft.block()),on("if(",fn,"){",Vn,"}"),sn(Ft=Ft.block()),on.exit("if(",fn,"){",Ft,"}")}function vn(Ft,on,fn,Sn,Ln){var bn=Ft.shared;Sn.forEach(function(sn){var un,xn=sn.name,_n=fn.attributes[xn];if(_n){if(!Ln(_n))return;un=_n.append(Ft,on)}else{if(!Ln(it))return;var Vn=Ft.scopeAttrib(xn);un={},Object.keys(new fr).forEach(function(Gn){un[Gn]=on.def(Vn,".",Gn)})}!function jn(sn,un,xn){function _n(){on("if(!",Jn,".buffer){",Gn,".enableVertexAttribArray(",rr,");}");var Tr,Mr=xn.type;Tr=xn.size?on.def(xn.size,"||",un):un,on("if(",Jn,".type!==",Mr,"||",Jn,".size!==",Tr,"||",ur.map(function(Dr){return Jn+"."+Dr+"!=="+xn[Dr]}).join("||"),"){",Gn,".bindBuffer(",34962,",",mr,".buffer);",Gn,".vertexAttribPointer(",[rr,Tr,Mr,xn.normalized,xn.stride,xn.offset],");",Jn,".type=",Mr,";",Jn,".size=",Tr,";",ur.map(function(Dr){return Jn+"."+Dr+"="+xn[Dr]+";"}).join(""),"}"),Xt&&on("if(",Jn,".divisor!==",Mr=xn.divisor,"){",Ft.instancing,".vertexAttribDivisorANGLE(",[rr,Mr],");",Jn,".divisor=",Mr,";}")}function Vn(){on("if(",Jn,".buffer){",Gn,".disableVertexAttribArray(",rr,");",Jn,".buffer=null;","}if(",Ct.map(function(Tr,Mr){return Jn+"."+Tr+"!=="+er[Mr]}).join("||"),"){",Gn,".vertexAttrib4f(",rr,",",er,");",Ct.map(function(Tr,Mr){return Jn+"."+Tr+"="+er[Mr]+";"}).join(""),"}")}var Gn=bn.gl,rr=on.def(sn,".location"),Jn=on.def(bn.attributes,"[",rr,"]"),mr=xn.buffer,er=[xn.x,xn.y,xn.z,xn.w],ur=["buffer","normalized","offset","stride"];1===(sn=xn.state)?_n():2===sn?Vn():(on("if(",sn,"===",1,"){"),_n(),on("}else{"),Vn(),on("}"))}(Ft.link(sn),function(Gn){switch(Gn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(sn.info.type),un)})}function Un(Ft,on,fn,Sn,Ln,jn){for(var bn,sn=Ft.shared,un=sn.gl,xn=0;xn<Sn.length;++xn){var _n,Vn=(Jn=Sn[xn]).name,Gn=Jn.info.type,rr=fn.uniforms[Vn],Jn=Ft.link(Jn)+".location";if(rr){if(!Ln(rr))continue;if(ae(rr)){if(Vn=rr.value,35678===Gn||35680===Gn)on(un,".uniform1i(",Jn,",",(Gn=Ft.link(Vn._texture||Vn.color[0]._texture))+".bind());"),on.exit(Gn,".unbind();");else if(35674===Gn||35675===Gn||35676===Gn)rr=2,35675===Gn?rr=3:35676===Gn&&(rr=4),on(un,".uniformMatrix",rr,"fv(",Jn,",false,",Vn=Ft.global.def("new Float32Array(["+Array.prototype.slice.call(Vn)+"])"),");");else{switch(Gn){case 5126:bn="1f";break;case 35664:bn="2f";break;case 35665:bn="3f";break;case 35666:bn="4f";break;case 35670:case 5124:bn="1i";break;case 35671:case 35667:bn="2i";break;case 35672:case 35668:bn="3i";break;case 35673:case 35669:bn="4i"}on(un,".uniform",bn,"(",Jn,",",w(Vn)?Array.prototype.slice.call(Vn):Vn,");")}continue}_n=rr.append(Ft,on)}else{if(!Ln(it))continue;_n=on.def(sn.uniforms,"[",rt.id(Vn),"]")}switch(35678===Gn?on("if(",_n,"&&",_n,'._reglType==="framebuffer"){',_n,"=",_n,".color[0];","}"):35680===Gn&&on("if(",_n,"&&",_n,'._reglType==="framebufferCube"){',_n,"=",_n,".color[0];","}"),Vn=1,Gn){case 35678:case 35680:Gn=on.def(_n,"._texture"),on(un,".uniform1i(",Jn,",",Gn,".bind());"),on.exit(Gn,".unbind();");continue;case 5124:case 35670:bn="1i";break;case 35667:case 35671:bn="2i",Vn=2;break;case 35668:case 35672:bn="3i",Vn=3;break;case 35669:case 35673:bn="4i",Vn=4;break;case 5126:bn="1f";break;case 35664:bn="2f",Vn=2;break;case 35665:bn="3f",Vn=3;break;case 35666:bn="4f",Vn=4;break;case 35674:bn="Matrix2fv";break;case 35675:bn="Matrix3fv";break;case 35676:bn="Matrix4fv"}if("M"===bn.charAt(0)){on(un,".uniform",bn,"(",Jn,","),Jn=Math.pow(Gn-35674+2,2);var mr=Ft.global.def("new Float32Array(",Jn,")");Array.isArray(_n)?on("false,(",T(Jn,function(ur){return mr+"["+ur+"]="+_n[ur]}),",",mr,")"):on("false,(Array.isArray(",_n,")||",_n," instanceof Float32Array)?",_n,":(",T(Jn,function(ur){return mr+"["+ur+"]="+_n+"["+ur+"]"}),",",mr,")"),on(");")}else{if(1<Vn){Gn=[];var er=[];for(rr=0;rr<Vn;++rr)Array.isArray(_n)?er.push(_n[rr]):er.push(on.def(_n+"["+rr+"]")),jn&&Gn.push(on.def());jn&&on("if(!",Ft.batchId,"||",Gn.map(function(ur,Tr){return ur+"!=="+er[Tr]}).join("||"),"){",Gn.map(function(ur,Tr){return ur+"="+er[Tr]+";"}).join("")),on(un,".uniform",bn,"(",Jn,",",er.join(","),");")}else jn&&(Gn=on.def(),on("if(!",Ft.batchId,"||",Gn,"!==",_n,"){",Gn,"=",_n,";")),on(un,".uniform",bn,"(",Jn,",",_n,");");jn&&on("}")}}}function Hn(Ft,on,fn,Sn){function Ln(Mr){var Dr=Gn[Mr];return Dr?Dr.append(Ft,Dr.contextDep&&Sn.contextDynamic||Dr.propDep?fn:on):on.def(Vn,".",Mr)}function jn(){function Mr(){fn(un,".drawElementsInstancedANGLE(",[Jn,er,ur,mr+"<<(("+ur+"-5121)>>1)",sn],");")}function Dr(){fn(un,".drawArraysInstancedANGLE(",[Jn,mr,er,sn],");")}rr&&"null"!==rr?Tr?Mr():(fn("if(",rr,"){"),Mr(),fn("}else{"),Dr(),fn("}")):Dr()}function bn(){function Mr(){fn(_n+".drawElements("+[Jn,er,ur,mr+"<<(("+ur+"-5121)>>1)"]+");")}function Dr(){fn(_n+".drawArrays("+[Jn,mr,er]+");")}rr&&"null"!==rr?Tr?Mr():(fn("if(",rr,"){"),Mr(),fn("}else{"),Dr(),fn("}")):Dr()}var sn,un,Mr,Dr,xn=Ft.shared,_n=xn.gl,Vn=xn.draw,Gn=Sn.draw,rr=(Dr=on,(Mr=Gn.elements)?((Mr.contextDep&&Sn.contextDynamic||Mr.propDep)&&(Dr=fn),Mr=Mr.append(Ft,Dr),Gn.elementsActive&&Dr("if("+Mr+")"+_n+".bindBuffer(34963,"+Mr+".buffer.buffer);")):(Mr=Dr.def(),Dr(Mr,"=",Vn,".","elements",";","if(",Mr,"){",_n,".bindBuffer(",34963,",",Mr,".buffer.buffer);}","else if(",xn.vao,".currentVAO){",Mr,"=",Ft.shared.elements+".getElements("+xn.vao,".currentVAO.elements);",wn?"":"if("+Mr+")"+_n+".bindBuffer(34963,"+Mr+".buffer.buffer);","}")),Mr),Jn=Ln("primitive"),mr=Ln("offset"),er=function(){var Mr=Gn.count,Dr=on;return Mr?((Mr.contextDep&&Sn.contextDynamic||Mr.propDep)&&(Dr=fn),Mr=Mr.append(Ft,Dr)):Mr=Dr.def(Vn,".","count"),Mr}();if("number"==typeof er){if(0===er)return}else fn("if(",er,"){"),fn.exit("}");Xt&&(sn=Ln("instances"),un=Ft.instancing);var ur=rr+".type",Tr=Gn.elements&&ae(Gn.elements)&&!Gn.vaoActive;Xt&&("number"!=typeof sn||0<=sn)?"string"==typeof sn?(fn("if(",sn,">0){"),jn(),fn("}else if(",sn,"<0){"),bn(),fn("}")):jn():bn()}function On(Ft,on,fn,Sn,Ln){return Ln=(on=cn()).proc("body",Ln),Xt&&(on.instancing=Ln.def(on.shared.extensions,".angle_instanced_arrays")),Ft(on,Ln,fn,Sn),on.compile().body}function Wn(Ft,on,fn,Sn){mn(Ft,on),fn.useVAO?fn.drawVAO?on(Ft.shared.vao,".setVAO(",fn.drawVAO.append(Ft,on),");"):on(Ft.shared.vao,".setVAO(",Ft.shared.vao,".targetVAO);"):(on(Ft.shared.vao,".setVAO(null);"),vn(Ft,on,fn,Sn.attributes,function(){return!0})),Un(Ft,on,fn,Sn.uniforms,function(){return!0},!1),Hn(Ft,on,on,fn)}function pr(Ft,on,fn,Sn){function Ln(){return!0}Ft.batchId="a1",mn(Ft,on),vn(Ft,on,fn,Sn.attributes,Ln),Un(Ft,on,fn,Sn.uniforms,Ln,!1),Hn(Ft,on,on,fn)}function ar(Ft,on,fn,Sn){function Ln(Vn){return Vn.contextDep&&bn||Vn.propDep}function jn(Vn){return!Ln(Vn)}mn(Ft,on);var bn=fn.contextDep,sn=on.def(),un=on.def();Ft.shared.props=un,Ft.batchId=sn;var xn=Ft.scope(),_n=Ft.scope();on(xn.entry,"for(",sn,"=0;",sn,"<","a1",";++",sn,"){",un,"=","a0","[",sn,"];",_n,"}",xn.exit),fn.needsContext&&Tn(Ft,_n,fn.context),fn.needsFramebuffer&&tn(Ft,_n,fn.framebuffer),hn(Ft,_n,fn.state,Ln),fn.profile&&Ln(fn.profile)&&En(Ft,_n,fn,!1,!0),Sn?(fn.useVAO?fn.drawVAO?Ln(fn.drawVAO)?_n(Ft.shared.vao,".setVAO(",fn.drawVAO.append(Ft,_n),");"):xn(Ft.shared.vao,".setVAO(",fn.drawVAO.append(Ft,xn),");"):xn(Ft.shared.vao,".setVAO(",Ft.shared.vao,".targetVAO);"):(xn(Ft.shared.vao,".setVAO(null);"),vn(Ft,xn,fn,Sn.attributes,jn),vn(Ft,_n,fn,Sn.attributes,Ln)),Un(Ft,xn,fn,Sn.uniforms,jn,!1),Un(Ft,_n,fn,Sn.uniforms,Ln,!0),Hn(Ft,xn,_n,fn)):(on=Ft.global.def("{}"),Sn=fn.shader.progVar.append(Ft,_n),un=_n.def(Sn,".id"),xn=_n.def(on,"[",un,"]"),_n(Ft.shared.gl,".useProgram(",Sn,".program);","if(!",xn,"){",xn,"=",on,"[",un,"]=",Ft.link(function(Vn){return On(pr,Ft,fn,Vn,2)}),"(",Sn,");}",xn,".call(this,a0[",sn,"],",sn,");"))}function hr(Ft,on,fn){var Sn=on.static[fn];if(Sn&&function(_n){if("object"==typeof _n&&!w(_n)){for(var Vn=Object.keys(_n),Gn=0;Gn<Vn.length;++Gn)if(fe.isDynamic(_n[Vn[Gn]]))return!0;return!1}}(Sn)){var Ln=Ft.global,jn=Object.keys(Sn),bn=!1,sn=!1,un=!1,xn=Ft.global.def("{}");jn.forEach(function(_n){var Vn=Sn[_n];if(fe.isDynamic(Vn))"function"==typeof Vn&&(Vn=Sn[_n]=fe.unbox(Vn)),_n=Q(Vn,null),bn=bn||_n.thisDep,un=un||_n.propDep,sn=sn||_n.contextDep;else{switch(Ln(xn,".",_n,"="),typeof Vn){case"number":Ln(Vn);break;case"string":Ln('"',Vn,'"');break;case"object":Array.isArray(Vn)&&Ln("[",Vn.join(),"]");break;default:Ln(Ft.link(Vn))}Ln(";")}}),on.dynamic[fn]=new fe.DynamicVariable(4,{thisDep:bn,contextDep:sn,propDep:un,ref:xn,append:function(_n,Vn){jn.forEach(function(Gn){var rr=Sn[Gn];fe.isDynamic(rr)&&(rr=_n.invoke(Vn,rr),Vn(xn,".",Gn,"=",rr,";"))})}}),delete on.static[fn]}}var fr=Mt.Record,Rr={add:32774,subtract:32778,"reverse subtract":32779};ft.ext_blend_minmax&&(Rr.min=32775,Rr.max=32776);var Xt=ft.angle_instanced_arrays,rn=ft.webgl_draw_buffers,wn=ft.oes_vertex_array_object,Cn={dirty:!0,profile:It.profile},Bn={},or=[],An={},$n={};Wt("dither",3024),Wt("blend.enable",3042),Zt("blend.color","blendColor",[0,0,0,0]),Zt("blend.equation","blendEquationSeparate",[32774,32774]),Zt("blend.func","blendFuncSeparate",[1,0,1,0]),Wt("depth.enable",2929,!0),Zt("depth.func","depthFunc",513),Zt("depth.range","depthRange",[0,1]),Zt("depth.mask","depthMask",!0),Zt("colorMask","colorMask",[!0,!0,!0,!0]),Wt("cull.enable",2884),Zt("cull.face","cullFace",1029),Zt("frontFace","frontFace",2305),Zt("lineWidth","lineWidth",1),Wt("polygonOffset.enable",32823),Zt("polygonOffset.offset","polygonOffset",[0,0]),Wt("sample.alpha",32926),Wt("sample.enable",32928),Zt("sample.coverage","sampleCoverage",[1,!1]),Wt("stencil.enable",2960),Zt("stencil.mask","stencilMask",-1),Zt("stencil.func","stencilFunc",[519,0,-1]),Zt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Zt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Wt("scissor.enable",3089),Zt("scissor.box","scissor",[0,0,Xe.drawingBufferWidth,Xe.drawingBufferHeight]),Zt("viewport","viewport",[0,0,Xe.drawingBufferWidth,Xe.drawingBufferHeight]);var Xn={gl:Xe,context:Rt,strings:rt,next:Bn,current:Cn,draw:bt,elements:Ve,buffer:je,shader:At,attributes:Mt.state,vao:Mt,uniforms:Tt,framebuffer:ct,extensions:ft,timer:xt,isBufferArgs:U},Kt={primTypes:we,compareFuncs:Ht,blendFuncs:Pt,blendEquations:Rr,stencilOps:jt,glTypes:Se,orientationType:nt};rn&&(Kt.backBuffer=[1029],Kt.drawBuffer=T(vt.maxDrawbuffers,function(Ft){return 0===Ft?[0]:T(Ft,function(on){return 36064+on})}));var Rn=0;return{next:Bn,current:Cn,procs:function(){var Ft=cn(),on=Ft.proc("poll"),fn=Ft.proc("refresh"),Sn=Ft.block();on(Sn),fn(Sn);var Ln,jn=(un=Ft.shared).gl,bn=un.next,sn=un.current;Sn(sn,".dirty=false;"),tn(Ft,on),tn(Ft,fn,null,!0),Xt&&(Ln=Ft.link(Xt)),ft.oes_vertex_array_object&&fn(Ft.link(ft.oes_vertex_array_object),".bindVertexArrayOES(null);");var un=fn.def(un.attributes),xn=fn.def(0),_n=Ft.cond(xn,".buffer");_n.then(jn,".enableVertexAttribArray(i);",jn,".bindBuffer(",34962,",",xn,".buffer.buffer);",jn,".vertexAttribPointer(i,",xn,".size,",xn,".type,",xn,".normalized,",xn,".stride,",xn,".offset);").else(jn,".disableVertexAttribArray(i);",jn,".vertexAttrib4f(i,",xn,".x,",xn,".y,",xn,".z,",xn,".w);",xn,".buffer=null;");var Vn=Ft.link(vt.maxAttributes,{stable:!0});return fn("for(var i=0;i<",Vn,";++i){",xn,"=",un,"[i];",_n,"}"),Xt&&fn("for(var i=0;i<",Vn,";++i){",Ln,".vertexAttribDivisorANGLE(i,",un,"[i].divisor);","}"),fn(Ft.shared.vao,".currentVAO=null;",Ft.shared.vao,".setVAO(",Ft.shared.vao,".targetVAO);"),Object.keys(An).forEach(function(Gn){var rr=An[Gn],Jn=Sn.def(bn,".",Gn),mr=Ft.block();mr("if(",Jn,"){",jn,".enable(",rr,")}else{",jn,".disable(",rr,")}",sn,".",Gn,"=",Jn,";"),fn(mr),on("if(",Jn,"!==",sn,".",Gn,"){",mr,"}")}),Object.keys($n).forEach(function(Gn){var rr,Jn,mr=$n[Gn],er=Cn[Gn],ur=Ft.block();ur(jn,".",mr,"("),w(er)?(mr=er.length,rr=Ft.global.def(bn,".",Gn),Jn=Ft.global.def(sn,".",Gn),ur(T(mr,function(Tr){return rr+"["+Tr+"]"}),");",T(mr,function(Tr){return Jn+"["+Tr+"]="+rr+"["+Tr+"];"}).join("")),on("if(",T(mr,function(Tr){return rr+"["+Tr+"]!=="+Jn+"["+Tr+"]"}).join("||"),"){",ur,"}")):(rr=Sn.def(bn,".",Gn),Jn=Sn.def(sn,".",Gn),ur(rr,");",sn,".",Gn,"=",rr,";"),on("if(",rr,"!==",Jn,"){",ur,"}")),fn(ur)}),Ft.compile()}(),compile:function(Ft,on,fn,Sn,Ln){var jn=cn();jn.stats=jn.link(Ln),Object.keys(on.static).forEach(function(sn){hr(jn,on,sn)}),Ot.forEach(function(sn){hr(jn,Ft,sn)});var bn=Pn(Ft,on,fn,Sn);return bn.shader.program&&(bn.shader.program.attributes.sort(function(sn,un){return sn.name<un.name?-1:1}),bn.shader.program.uniforms.sort(function(sn,un){return sn.name<un.name?-1:1})),function(sn,un){var xn=sn.proc("draw",1);mn(sn,xn),Tn(sn,xn,un.context),tn(sn,xn,un.framebuffer),gn(sn,xn,un),hn(sn,xn,un.state),En(sn,xn,un,!1,!0);var _n=un.shader.progVar.append(sn,xn);if(xn(sn.shared.gl,".useProgram(",_n,".program);"),un.shader.program)Wn(sn,xn,un,un.shader.program);else{xn(sn.shared.vao,".setVAO(null);");var Vn=sn.global.def("{}"),Gn=xn.def(_n,".id"),rr=xn.def(Vn,"[",Gn,"]");xn(sn.cond(rr).then(rr,".call(this,a0);").else(rr,"=",Vn,"[",Gn,"]=",sn.link(function(Jn){return On(Wn,sn,un,Jn,1)}),"(",_n,");",rr,".call(this,a0);"))}0<Object.keys(un.state).length&&xn(sn.shared.current,".dirty=true;"),sn.shared.vao&&xn(sn.shared.vao,".setVAO(null);")}(jn,bn),function Ar(Ft,on){function fn(sn){var un=on.shader[sn];un&&(un=un.append(Ft,Sn),isNaN(un)?Sn.set(Ln.shader,"."+sn,un):Sn.set(Ln.shader,"."+sn,Ft.link(un,{stable:!0})))}var Sn=Ft.proc("scope",3);Ft.batchId="a2";var Ln=Ft.shared,jn=Ln.current;if(Tn(Ft,Sn,on.context),on.framebuffer&&on.framebuffer.append(Ft,Sn),Z(Object.keys(on.state)).forEach(function(sn){var un=on.state[sn],xn=un.append(Ft,Sn);w(xn)?xn.forEach(function(_n,Vn){isNaN(_n)?Sn.set(Ft.next[sn],"["+Vn+"]",_n):Sn.set(Ft.next[sn],"["+Vn+"]",Ft.link(_n,{stable:!0}))}):ae(un)?Sn.set(Ln.next,"."+sn,Ft.link(xn,{stable:!0})):Sn.set(Ln.next,"."+sn,xn)}),En(Ft,Sn,on,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(sn){var un=on.draw[sn];un&&(un=un.append(Ft,Sn),isNaN(un)?Sn.set(Ln.draw,"."+sn,un):Sn.set(Ln.draw,"."+sn,Ft.link(un),{stable:!0}))}),Object.keys(on.uniforms).forEach(function(sn){var un=on.uniforms[sn].append(Ft,Sn);Array.isArray(un)&&(un="["+un.map(function(xn){return isNaN(xn)?xn:Ft.link(xn,{stable:!0})})+"]"),Sn.set(Ln.uniforms,"["+Ft.link(rt.id(sn),{stable:!0})+"]",un)}),Object.keys(on.attributes).forEach(function(sn){var un=on.attributes[sn].append(Ft,Sn),xn=Ft.scopeAttrib(sn);Object.keys(new fr).forEach(function(_n){Sn.set(xn,"."+_n,un[_n])})}),on.scopeVAO){var bn=on.scopeVAO.append(Ft,Sn);isNaN(bn)?Sn.set(Ln.vao,".targetVAO",bn):Sn.set(Ln.vao,".targetVAO",Ft.link(bn,{stable:!0}))}fn("vert"),fn("frag"),0<Object.keys(on.state).length&&(Sn(jn,".dirty=true;"),Sn.exit(jn,".dirty=true;")),Sn("a1(",Ft.shared.context,",a0,",Ft.batchId,");")}(jn,bn),function(sn,un){function xn(er){return er.contextDep&&Vn||er.propDep}var _n=sn.proc("batch",2);sn.batchId="0",mn(sn,_n);var Vn=!1,Gn=!0;Object.keys(un.context).forEach(function(er){Vn=Vn||un.context[er].propDep}),Vn||(Tn(sn,_n,un.context),Gn=!1);var rr=!1;if((Jn=un.framebuffer)?(Jn.propDep?Vn=rr=!0:Jn.contextDep&&Vn&&(rr=!0),rr||tn(sn,_n,Jn)):tn(sn,_n,null),un.state.viewport&&un.state.viewport.propDep&&(Vn=!0),gn(sn,_n,un),hn(sn,_n,un.state,function(er){return!xn(er)}),un.profile&&xn(un.profile)||En(sn,_n,un,!1,"a1"),un.contextDep=Vn,un.needsContext=Gn,un.needsFramebuffer=rr,(Gn=un.shader.progVar).contextDep&&Vn||Gn.propDep)ar(sn,_n,un,null);else if(Gn=Gn.append(sn,_n),_n(sn.shared.gl,".useProgram(",Gn,".program);"),un.shader.program)ar(sn,_n,un,un.shader.program);else{_n(sn.shared.vao,".setVAO(null);");var Jn=sn.global.def("{}"),mr=(rr=_n.def(Gn,".id"),_n.def(Jn,"[",rr,"]"));_n(sn.cond(mr).then(mr,".call(this,a0,a1);").else(mr,"=",Jn,"[",rr,"]=",sn.link(function(er){return On(ar,sn,un,er,2)}),"(",Gn,");",mr,".call(this,a0,a1);"))}0<Object.keys(un.state).length&&_n(sn.shared.current,".dirty=true;"),sn.shared.vao&&_n(sn.shared.vao,".setVAO(null);")}(jn,bn),oe(jn.compile(),{destroy:function(){bn.shader.program.destroy()}})}}}function te(Xe,rt){for(var ft=0;ft<Xe.length;++ft)if(Xe[ft]===rt)return ft;return-1}var oe=function(Xe,rt){for(var ft=Object.keys(rt),vt=0;vt<ft.length;++vt)Xe[ft[vt]]=rt[ft[vt]];return Xe},ue=0,fe={DynamicVariable:B,define:function(Xe,rt){return new B(Xe,C(rt+""))},isDynamic:function(Xe){return"function"==typeof Xe&&!Xe._reglType||Xe instanceof B},unbox:function Xe(rt,ft){return"function"==typeof rt?new B(0,rt):"number"==typeof rt||"boolean"==typeof rt?new B(5,rt):Array.isArray(rt)?new B(6,rt.map(function(vt,je){return Xe(vt,ft+"["+je+"]")})):rt instanceof B?rt:void 0},accessor:C},he={next:"function"==typeof requestAnimationFrame?function(Xe){return requestAnimationFrame(Xe)}:function(Xe){return setTimeout(Xe,16)},cancel:"function"==typeof cancelAnimationFrame?function(Xe){return cancelAnimationFrame(Xe)}:clearTimeout},me=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},ke=l();ke.zero=l();var Te=function(Xe){return Xe instanceof Uint8Array||Xe instanceof Uint16Array||Xe instanceof Uint32Array||Xe instanceof Int8Array||Xe instanceof Int16Array||Xe instanceof Int32Array||Xe instanceof Float32Array||Xe instanceof Float64Array||Xe instanceof Uint8ClampedArray},be=function(Xe){return Object.keys(Xe).map(function(rt){return Xe[rt]})},xe={shape:function(Xe){for(var rt=[];Xe.length;Xe=Xe[0])rt.push(Xe.length);return rt},flatten:function(Xe,rt,ft,vt){var je=1;if(rt.length)for(var Ve=0;Ve<rt.length;++Ve)je*=rt[Ve];else je=0;switch(ft=vt||ke.allocType(ft,je),rt.length){case 0:break;case 1:for(vt=rt[0],rt=0;rt<vt;++rt)ft[rt]=Xe[rt];break;case 2:for(vt=rt[0],rt=rt[1],Ve=je=0;Ve<vt;++Ve)for(var ut=Xe[Ve],ct=0;ct<rt;++ct)ft[je++]=ut[ct];break;case 3:o(Xe,rt[0],rt[1],rt[2],ft,0);break;default:r(Xe,rt,0,ft,0)}return ft}},Ne={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Se={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ce={dynamic:35048,stream:35040,static:35044},pe=xe.flatten,de=xe.shape,se=[];se[5120]=1,se[5122]=2,se[5124]=4,se[5121]=1,se[5123]=2,se[5125]=4,se[5126]=4;var we={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Re=new Float32Array(1),Ee=new Uint32Array(Re.buffer),Ue=[9984,9986,9985,9987],$e=[0,6409,6410,6407,6408],ve={};ve[6409]=ve[6406]=ve[6402]=1,ve[34041]=ve[6410]=2,ve[6407]=ve[35904]=3,ve[6408]=ve[35906]=4;var Ie=v("HTMLCanvasElement"),De=v("OffscreenCanvas"),ze=v("CanvasRenderingContext2D"),Ge=v("ImageBitmap"),He=v("HTMLImageElement"),Ke=v("HTMLVideoElement"),et=Object.keys(Ne).concat([Ie,De,ze,Ge,He,Ke]),st=[];st[5121]=1,st[5126]=4,st[36193]=2,st[5123]=2,st[5125]=4;var mt=[];mt[32854]=2,mt[32855]=2,mt[36194]=2,mt[34041]=4,mt[33776]=.5,mt[33777]=.5,mt[33778]=1,mt[33779]=1,mt[35986]=.5,mt[35987]=1,mt[34798]=1,mt[35840]=.5,mt[35841]=.25,mt[35842]=.5,mt[35843]=.25,mt[36196]=.5;var at=[];at[32854]=2,at[32855]=2,at[36194]=2,at[33189]=2,at[36168]=1,at[34041]=4,at[35907]=4,at[34836]=16,at[34842]=8,at[34843]=6;var St=[];St[6408]=4,St[6407]=3;var gt=[];gt[5121]=1,gt[5126]=4,gt[36193]=2;var dt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Ct=["x","y","z","w"],Ot="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Pt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ht={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},jt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},nt={cw:2304,ccw:2305},it=new Y(!1,!1,!1,function(){});return function(Xe){function rt(){if(0===pr.length)nn&&nn.update(),fr=null;else{fr=he.next(rt),At();for(var Xt=pr.length-1;0<=Xt;--Xt){var rn=pr[Xt];rn&&rn(Pn,null,0)}xt.flush(),nn&&nn.update()}}function ft(){!fr&&0<pr.length&&(fr=he.next(rt))}function vt(){fr&&(he.cancel(rt),fr=null)}function je(Xt){Xt.preventDefault(),vt(),ar.forEach(function(rn){rn()})}function Ve(Xt){xt.getError(),It.restore(),mn.restore(),tn.restore(),En.restore(),vn.restore(),Un.restore(),hn.restore(),nn&&nn.restore(),Hn.procs.refresh(),ft(),Ar.forEach(function(rn){rn()})}function ut(Xt){function rn(Ft,on){var fn={},Sn={};return Object.keys(Ft).forEach(function(Ln){var jn=Ft[Ln];if(fe.isDynamic(jn))Sn[Ln]=fe.unbox(jn,Ln);else{if(on&&Array.isArray(jn))for(var bn=0;bn<jn.length;++bn)if(fe.isDynamic(jn[bn]))return void(Sn[Ln]=fe.unbox(jn,Ln));fn[Ln]=jn}}),{dynamic:Sn,static:fn}}var wn=rn(Xt.context||{},!0),Cn=rn(Xt.uniforms||{},!0),Bn=rn(Xt.attributes||{},!1);Xt=rn(function(Ft){function on(Sn){if(Sn in fn){var Ln=fn[Sn];delete fn[Sn],Object.keys(Ln).forEach(function(jn){fn[Sn+"."+jn]=Ln[jn]})}}var fn=oe({},Ft);return delete fn.uniforms,delete fn.attributes,delete fn.context,delete fn.vao,"stencil"in fn&&fn.stencil.op&&(fn.stencil.opBack=fn.stencil.opFront=fn.stencil.op,delete fn.stencil.op),on("blend"),on("depth"),on("cull"),on("stencil"),on("polygonOffset"),on("scissor"),on("sample"),"vao"in Ft&&(fn.vao=Ft.vao),fn}(Xt),!1);var or={gpuTime:0,cpuTime:0,count:0},An=Hn.compile(Xt,Bn,Cn,wn,or),$n=An.draw,Xn=An.batch,Kt=An.scope,Rn=[];return oe(function(Ft,on){var fn;if("function"==typeof Ft)return Kt.call(this,null,Ft,0);if("function"==typeof on)if("number"==typeof Ft)for(fn=0;fn<Ft;++fn)Kt.call(this,null,on,fn);else{if(!Array.isArray(Ft))return Kt.call(this,Ft,on,0);for(fn=0;fn<Ft.length;++fn)Kt.call(this,Ft[fn],on,fn)}else if("number"==typeof Ft){if(0<Ft)return Xn.call(this,function(Sn){for(;Rn.length<Sn;)Rn.push(null);return Rn}(0|Ft),0|Ft)}else{if(!Array.isArray(Ft))return $n.call(this,Ft);if(Ft.length)return Xn.call(this,Ft,Ft.length)}},{stats:or,destroy:function(){An.destroy()}})}function ct(Xt,rn){var wn=0;Hn.procs.poll();var Cn=rn.color;Cn&&(xt.clearColor(+Cn[0]||0,+Cn[1]||0,+Cn[2]||0,+Cn[3]||0),wn|=16384),"depth"in rn&&(xt.clearDepth(+rn.depth),wn|=256),"stencil"in rn&&(xt.clearStencil(0|rn.stencil),wn|=1024),xt.clear(wn)}function Tt(Xt){return pr.push(Xt),ft(),{cancel:function(){var rn=te(pr,Xt);pr[rn]=function wn(){var Cn=te(pr,wn);pr[Cn]=pr[pr.length-1],--pr.length,0>=pr.length&&vt()}}}}function Mt(){var Xt=On.viewport,rn=On.scissor_box;Xt[0]=Xt[1]=rn[0]=rn[1]=0,Pn.viewportWidth=Pn.framebufferWidth=Pn.drawingBufferWidth=Xt[2]=rn[2]=xt.drawingBufferWidth,Pn.viewportHeight=Pn.framebufferHeight=Pn.drawingBufferHeight=Xt[3]=rn[3]=xt.drawingBufferHeight}function At(){Pn.tick+=1,Pn.time=Rt(),Mt(),Hn.procs.poll()}function bt(){En.refresh(),Mt(),Hn.procs.refresh(),nn&&nn.update()}function Rt(){return(me()-ln)/1e3}if(!(Xe=function A(Xe){var rt,ft,vt,je,Ve=Xe||{};Xe={};var ut=[],ct=[],Tt=typeof window>"u"?1:window.devicePixelRatio,Mt=!1,At={},bt=function(xt){},Rt=function(){};if("string"==typeof Ve?rt=document.querySelector(Ve):"object"==typeof Ve&&("string"==typeof Ve.nodeName&&"function"==typeof Ve.appendChild&&"function"==typeof Ve.getBoundingClientRect?rt=Ve:"function"==typeof Ve.drawArrays||"function"==typeof Ve.drawElements?vt=(je=Ve).canvas:("gl"in Ve?je=Ve.gl:"canvas"in Ve?vt=u(Ve.canvas):"container"in Ve&&(ft=u(Ve.container)),"attributes"in Ve&&(Xe=Ve.attributes),"extensions"in Ve&&(ut=S(Ve.extensions)),"optionalExtensions"in Ve&&(ct=S(Ve.optionalExtensions)),"onDone"in Ve&&(bt=Ve.onDone),"profile"in Ve&&(Mt=!!Ve.profile),"pixelRatio"in Ve&&(Tt=+Ve.pixelRatio),"cachedCode"in Ve&&(At=Ve.cachedCode))),rt&&("canvas"===rt.nodeName.toLowerCase()?vt=rt:ft=rt),!je){if(!vt){if(!(rt=function(xt,_t,It){function Gt(){var cn=window.innerWidth,nn=window.innerHeight;xt!==document.body&&(cn=(nn=Zt.getBoundingClientRect()).right-nn.left,nn=nn.bottom-nn.top),Zt.width=It*cn,Zt.height=It*nn}var Wt,Zt=document.createElement("canvas");return oe(Zt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),xt.appendChild(Zt),xt===document.body&&(Zt.style.position="absolute",oe(xt.style,{margin:0,padding:0})),xt!==document.body&&"function"==typeof ResizeObserver?(Wt=new ResizeObserver(function(){setTimeout(Gt)})).observe(xt):window.addEventListener("resize",Gt,!1),Gt(),{canvas:Zt,onDestroy:function(){Wt?Wt.disconnect():window.removeEventListener("resize",Gt),xt.removeChild(Zt)}}}(ft||document.body,0,Tt)))return null;vt=rt.canvas,Rt=rt.onDestroy}void 0===Xe.premultipliedAlpha&&(Xe.premultipliedAlpha=!0),je=function(xt,_t){function It(Gt){try{return xt.getContext(Gt,_t)}catch{return null}}return It("webgl")||It("experimental-webgl")||It("webgl-experimental")}(vt,Xe)}return je?{gl:je,canvas:vt,container:ft,extensions:ut,optionalExtensions:ct,pixelRatio:Tt,profile:Mt,cachedCode:At,onDone:bt,onDestroy:Rt}:(Rt(),bt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}(Xe)))return null;var xt=Xe.gl,_t=xt.getContextAttributes();xt.isContextLost();var It=function(Xt,rn){function wn(An){var $n;An=An.toLowerCase();try{$n=Cn[An]=Xt.getExtension(An)}catch{}return!!$n}for(var Cn={},Bn=0;Bn<rn.extensions.length;++Bn){var or=rn.extensions[Bn];if(!wn(or))return rn.onDestroy(),rn.onDone('"'+or+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return rn.optionalExtensions.forEach(wn),{extensions:Cn,restore:function(){Object.keys(Cn).forEach(function(An){if(Cn[An]&&!wn(An))throw Error("(regl): error restoring extension "+An)})}}}(xt,Xe);if(!It)return null;var Xt,rn,Gt=(Xt={"":0},rn=[""],{id:function(wn){var Cn=Xt[wn];return Cn||(Cn=Xt[wn]=rn.length,rn.push(wn),Cn)},str:function(wn){return rn[wn]}}),Wt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Zt=Xe.cachedCode||{},cn=It.extensions,nn=function(Xt,rn){function wn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function Cn(Rn,Ft,on){var fn=An.pop()||new wn;fn.startQueryIndex=Rn,fn.endQueryIndex=Ft,fn.sum=0,fn.stats=on,$n.push(fn)}if(!rn.ext_disjoint_timer_query)return null;var Bn=[],or=[],An=[],$n=[],Xn=[],Kt=[];return{beginQuery:function(Rn){var Ft=Bn.pop()||rn.ext_disjoint_timer_query.createQueryEXT();rn.ext_disjoint_timer_query.beginQueryEXT(35007,Ft),or.push(Ft),Cn(or.length-1,or.length,Rn)},endQuery:function(){rn.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Cn,update:function(){var Rn,Ft;if(0!==(Rn=or.length)){Kt.length=Math.max(Kt.length,Rn+1),Xn.length=Math.max(Xn.length,Rn+1),Xn[0]=0;var on=Kt[0]=0;for(Ft=Rn=0;Ft<or.length;++Ft){var fn=or[Ft];rn.ext_disjoint_timer_query.getQueryObjectEXT(fn,34919)?(on+=rn.ext_disjoint_timer_query.getQueryObjectEXT(fn,34918),Bn.push(fn)):or[Rn++]=fn,Xn[Ft+1]=on,Kt[Ft+1]=Rn}for(or.length=Rn,Ft=Rn=0;Ft<$n.length;++Ft){var Sn=(on=$n[Ft]).startQueryIndex;on.sum+=Xn[fn=on.endQueryIndex]-Xn[Sn],(fn=Kt[fn])===(Sn=Kt[Sn])?(on.stats.gpuTime+=on.sum/1e6,An.push(on)):(on.startQueryIndex=Sn,on.endQueryIndex=fn,$n[Rn++]=on)}$n.length=Rn}},getNumPendingQueries:function(){return or.length},clear:function(){Bn.push.apply(Bn,or);for(var Rn=0;Rn<Bn.length;Rn++)rn.ext_disjoint_timer_query.deleteQueryEXT(Bn[Rn]);or.length=0,Bn.length=0},restore:function(){or.length=0,Bn.length=0}}}(0,cn),ln=me(),Qt=xt.drawingBufferWidth,kn=xt.drawingBufferHeight,Pn={tick:0,time:0,viewportWidth:Qt,viewportHeight:kn,framebufferWidth:Qt,framebufferHeight:kn,drawingBufferWidth:Qt,drawingBufferHeight:kn,pixelRatio:Xe.pixelRatio},Tn=(Qt={elements:null,primitive:4,count:-1,offset:0,instances:-1},function(Xe,rt){var ft=1;rt.ext_texture_filter_anisotropic&&(ft=Xe.getParameter(34047));var vt=1,je=1;rt.webgl_draw_buffers&&(vt=Xe.getParameter(34852),je=Xe.getParameter(36063));var Ve=!!rt.oes_texture_float;if(Ve){Ve=Xe.createTexture(),Xe.bindTexture(3553,Ve),Xe.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ut=Xe.createFramebuffer();if(Xe.bindFramebuffer(36160,ut),Xe.framebufferTexture2D(36160,36064,3553,Ve,0),Xe.bindTexture(3553,null),36053!==Xe.checkFramebufferStatus(36160))Ve=!1;else{Xe.viewport(0,0,1,1),Xe.clearColor(1,0,0,1),Xe.clear(16384);var ct=ke.allocType(5126,4);Xe.readPixels(0,0,1,1,6408,5126,ct),Xe.getError()?Ve=!1:(Xe.deleteFramebuffer(ut),Xe.deleteTexture(Ve),Ve=1===ct[0]),ke.freeType(ct)}}return ct=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(ct=Xe.createTexture(),ut=ke.allocType(5121,36),Xe.activeTexture(33984),Xe.bindTexture(34067,ct),Xe.texImage2D(34069,0,6408,3,3,0,6408,5121,ut),ke.freeType(ut),Xe.bindTexture(34067,null),Xe.deleteTexture(ct),ct=!Xe.getError()),{colorBits:[Xe.getParameter(3410),Xe.getParameter(3411),Xe.getParameter(3412),Xe.getParameter(3413)],depthBits:Xe.getParameter(3414),stencilBits:Xe.getParameter(3415),subpixelBits:Xe.getParameter(3408),extensions:Object.keys(rt).filter(function(Tt){return!!rt[Tt]}),maxAnisotropic:ft,maxDrawbuffers:vt,maxColorAttachments:je,pointSizeDims:Xe.getParameter(33901),lineWidthDims:Xe.getParameter(33902),maxViewportDims:Xe.getParameter(3386),maxCombinedTextureUnits:Xe.getParameter(35661),maxCubeMapSize:Xe.getParameter(34076),maxRenderbufferSize:Xe.getParameter(34024),maxTextureUnits:Xe.getParameter(34930),maxTextureSize:Xe.getParameter(3379),maxAttributes:Xe.getParameter(34921),maxVertexUniforms:Xe.getParameter(36347),maxVertexTextureUnits:Xe.getParameter(35660),maxVaryingVectors:Xe.getParameter(36348),maxFragmentUniforms:Xe.getParameter(36349),glsl:Xe.getParameter(35724),renderer:Xe.getParameter(7937),vendor:Xe.getParameter(7936),version:Xe.getParameter(7938),readFloat:Ve,npotTextureCube:ct}}(xt,cn)),tn=function c(Xe,rt,ft,vt){function je(bt){this.id=Tt++,this.buffer=Xe.createBuffer(),this.type=bt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,ft.profile&&(this.stats={size:0})}function Ve(bt,Rt,xt){bt.byteLength=Rt.byteLength,Xe.bufferData(bt.type,Rt,xt)}function ut(bt,Rt,xt,_t,It,Gt){if(bt.usage=xt,Array.isArray(Rt)){if(bt.dtype=_t||5126,0<Rt.length)if(Array.isArray(Rt[0])){It=de(Rt);for(var Wt=_t=1;Wt<It.length;++Wt)_t*=It[Wt];bt.dimension=_t,Ve(bt,Rt=pe(Rt,It,bt.dtype),xt),Gt?bt.persistentData=Rt:ke.freeType(Rt)}else"number"==typeof Rt[0]?(bt.dimension=It,a(It=ke.allocType(bt.dtype,Rt.length),Rt),Ve(bt,It,xt),Gt?bt.persistentData=It:ke.freeType(It)):Te(Rt[0])&&(bt.dimension=Rt[0].length,bt.dtype=_t||n(Rt[0])||5126,Ve(bt,Rt=pe(Rt,[Rt.length,Rt[0].length],bt.dtype),xt),Gt?bt.persistentData=Rt:ke.freeType(Rt))}else if(Te(Rt))bt.dtype=_t||n(Rt),bt.dimension=It,Ve(bt,Rt,xt),Gt&&(bt.persistentData=new Uint8Array(new Uint8Array(Rt.buffer)));else if(t(Rt)){var Zt=Rt.stride,cn=(Wt=Rt.offset,0),nn=0,ln=0,Qt=0;1===(It=Rt.shape).length?(cn=It[0],nn=1,ln=Zt[0],Qt=0):2===It.length&&(cn=It[0],nn=It[1],ln=Zt[0],Qt=Zt[1]),bt.dtype=_t||n(Rt.data)||5126,bt.dimension=nn,s(It=ke.allocType(bt.dtype,cn*nn),Rt.data,cn,nn,ln,Qt,Wt),Ve(bt,It,xt),Gt?bt.persistentData=It:ke.freeType(It)}else Rt instanceof ArrayBuffer&&(bt.dtype=5121,bt.dimension=It,Ve(bt,Rt,xt),Gt&&(bt.persistentData=new Uint8Array(new Uint8Array(Rt))))}function ct(bt){rt.bufferCount--,vt(bt),Xe.deleteBuffer(bt.buffer),bt.buffer=null,delete Mt[bt.id]}var Tt=0,Mt={};je.prototype.bind=function(){Xe.bindBuffer(this.type,this.buffer)},je.prototype.destroy=function(){ct(this)};var At=[];return ft.profile&&(rt.getTotalBufferSize=function(){var bt=0;return Object.keys(Mt).forEach(function(Rt){bt+=Mt[Rt].stats.size}),bt}),{create:function(bt,Rt,xt,_t){function It(Wt){var Zt=35044,cn=null,nn=0,ln=0,Qt=1;return Array.isArray(Wt)||Te(Wt)||t(Wt)||Wt instanceof ArrayBuffer?cn=Wt:"number"==typeof Wt?nn=0|Wt:Wt&&("data"in Wt&&(cn=Wt.data),"usage"in Wt&&(Zt=Ce[Wt.usage]),"type"in Wt&&(ln=Se[Wt.type]),"dimension"in Wt&&(Qt=0|Wt.dimension),"length"in Wt&&(nn=0|Wt.length)),Gt.bind(),cn?ut(Gt,cn,Zt,ln,Qt,_t):(nn&&Xe.bufferData(Gt.type,nn,Zt),Gt.dtype=ln||5121,Gt.usage=Zt,Gt.dimension=Qt,Gt.byteLength=nn),ft.profile&&(Gt.stats.size=Gt.byteLength*se[Gt.dtype]),It}rt.bufferCount++;var Gt=new je(Rt);return Mt[Gt.id]=Gt,xt||It(bt),It._reglType="buffer",It._buffer=Gt,It.subdata=function(Wt,Zt){var cn,nn=0|(Zt||0);if(Gt.bind(),Te(Wt)||Wt instanceof ArrayBuffer)Xe.bufferSubData(Gt.type,nn,Wt);else if(Array.isArray(Wt)){if(0<Wt.length)if("number"==typeof Wt[0]){var ln=ke.allocType(Gt.dtype,Wt.length);a(ln,Wt),Xe.bufferSubData(Gt.type,nn,ln),ke.freeType(ln)}else(Array.isArray(Wt[0])||Te(Wt[0]))&&(cn=de(Wt),ln=pe(Wt,cn,Gt.dtype),Xe.bufferSubData(Gt.type,nn,ln),ke.freeType(ln))}else if(t(Wt)){var Qt=Wt.stride,kn=ln=0,Pn=0,Tn=0;1===(cn=Wt.shape).length?(ln=cn[0],kn=1,Pn=Qt[0],Tn=0):2===cn.length&&(ln=cn[0],kn=cn[1],Pn=Qt[0],Tn=Qt[1]),cn=Array.isArray(Wt.data)?Gt.dtype:n(Wt.data),s(cn=ke.allocType(cn,ln*kn),Wt.data,ln,kn,Pn,Tn,Wt.offset),Xe.bufferSubData(Gt.type,nn,cn),ke.freeType(cn)}return It},ft.profile&&(It.stats=Gt.stats),It.destroy=function(){ct(Gt)},It},createStream:function(bt,Rt){var xt=At.pop();return xt||(xt=new je(bt)),xt.bind(),ut(xt,Rt,35040,0,1,!1),xt},destroyStream:function(bt){At.push(bt)},clear:function(){be(Mt).forEach(ct),At.forEach(ct)},getBuffer:function(bt){return bt&&bt._buffer instanceof je?bt._buffer:null},restore:function(){be(Mt).forEach(function(bt){bt.buffer=Xe.createBuffer(),Xe.bindBuffer(bt.type,bt.buffer),Xe.bufferData(bt.type,bt.persistentData||bt.byteLength,bt.usage)})},_initBuffer:ut}}(xt,Wt,Xe,function(Xt){return hn.destroyBuffer(Xt)}),gn=function p(Xe,rt,ft,vt){function je(bt){this.id=Tt++,ct[this.id]=this,this.buffer=bt,this.primType=4,this.type=this.vertCount=0}function Ve(bt,Rt,xt,_t,It,Gt,Wt){var Zt;if(bt.buffer.bind(),Rt?((Zt=Wt)||Te(Rt)&&(!t(Rt)||Te(Rt.data))||(Zt=rt.oes_element_index_uint?5125:5123),ft._initBuffer(bt.buffer,Rt,xt,Zt,3)):(Xe.bufferData(34963,Gt,xt),bt.buffer.dtype=Zt||5121,bt.buffer.usage=xt,bt.buffer.dimension=3,bt.buffer.byteLength=Gt),Zt=Wt,!Wt){switch(bt.buffer.dtype){case 5121:case 5120:Zt=5121;break;case 5123:case 5122:Zt=5123;break;case 5125:case 5124:Zt=5125}bt.buffer.dtype=Zt}bt.type=Zt,0>(Rt=It)&&(Rt=bt.buffer.byteLength,5123===Zt?Rt>>=1:5125===Zt&&(Rt>>=2)),bt.vertCount=Rt,Rt=_t,0>_t&&(Rt=4,1===(_t=bt.buffer.dimension)&&(Rt=0),2===_t&&(Rt=1),3===_t&&(Rt=4)),bt.primType=Rt}function ut(bt){vt.elementsCount--,delete ct[bt.id],bt.buffer.destroy(),bt.buffer=null}var ct={},Tt=0,Mt={uint8:5121,uint16:5123};rt.oes_element_index_uint&&(Mt.uint32=5125),je.prototype.bind=function(){this.buffer.bind()};var At=[];return{create:function(bt,Rt){function xt(Gt){if(Gt)if("number"==typeof Gt)_t(Gt),It.primType=4,It.vertCount=0|Gt,It.type=5121;else{var Wt=null,Zt=35044,cn=-1,nn=-1,ln=0,Qt=0;Array.isArray(Gt)||Te(Gt)||t(Gt)?Wt=Gt:("data"in Gt&&(Wt=Gt.data),"usage"in Gt&&(Zt=Ce[Gt.usage]),"primitive"in Gt&&(cn=we[Gt.primitive]),"count"in Gt&&(nn=0|Gt.count),"type"in Gt&&(Qt=Mt[Gt.type]),"length"in Gt?ln=0|Gt.length:(ln=nn,5123===Qt||5122===Qt?ln*=2:5125!==Qt&&5124!==Qt||(ln*=4))),Ve(It,Wt,Zt,cn,nn,ln,Qt)}else _t(),It.primType=4,It.vertCount=0,It.type=5121;return xt}var _t=ft.create(null,34963,!0),It=new je(_t._buffer);return vt.elementsCount++,xt(bt),xt._reglType="elements",xt._elements=It,xt.subdata=function(Gt,Wt){return _t.subdata(Gt,Wt),xt},xt.destroy=function(){ut(It)},xt},createStream:function(bt){var Rt=At.pop();return Rt||(Rt=new je(ft.create(null,34963,!0,!1)._buffer)),Ve(Rt,bt,35040,-1,-1,0,0),Rt},destroyStream:function(bt){At.push(bt)},getElements:function(bt){return"function"==typeof bt&&bt._elements instanceof je?bt._elements:null},clear:function(){be(ct).forEach(ut)}}}(xt,cn,tn,Wt),hn=function L(Xe,rt,ft,vt,je,Ve,ut){function ct(){this.id=++At,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var xt=rt.oes_vertex_array_object;this.vao=xt?xt.createVertexArrayOES():null,bt[this.id]=this,this.buffers=[]}var Tt=ft.maxAttributes,Mt=Array(Tt);for(ft=0;ft<Tt;++ft)Mt[ft]=new I;var At=0,bt={},Rt={Record:I,scope:{},state:Mt,currentVAO:null,targetVAO:null,restore:rt.oes_vertex_array_object?function(){rt.oes_vertex_array_object&&be(bt).forEach(function(xt){xt.refresh()})}:function(){},createVAO:function(xt){function _t(Gt){var Wt;Array.isArray(Gt)?(Wt=Gt,It.elements&&It.ownsElements&&It.elements.destroy(),It.elements=null,It.ownsElements=!1,It.offset=0,It.count=0,It.instances=-1,It.primitive=4):(Gt.elements?(Wt=Gt.elements,It.ownsElements?("function"==typeof Wt&&"elements"===Wt._reglType?It.elements.destroy():It.elements(Wt),It.ownsElements=!1):Ve.getElements(Gt.elements)?(It.elements=Gt.elements,It.ownsElements=!1):(It.elements=Ve.create(Gt.elements),It.ownsElements=!0)):(It.elements=null,It.ownsElements=!1),Wt=Gt.attributes,It.offset=0,It.count=-1,It.instances=-1,It.primitive=4,It.elements&&(It.count=It.elements._elements.vertCount,It.primitive=It.elements._elements.primType),"offset"in Gt&&(It.offset=0|Gt.offset),"count"in Gt&&(It.count=0|Gt.count),"instances"in Gt&&(It.instances=0|Gt.instances),"primitive"in Gt&&(It.primitive=we[Gt.primitive])),Gt={};var Zt=It.attributes;Zt.length=Wt.length;for(var cn=0;cn<Wt.length;++cn){var nn,ln=Wt[cn],Qt=Zt[cn]=new I,kn=ln.data||ln;Array.isArray(kn)||Te(kn)||t(kn)?(It.buffers[cn]&&(nn=It.buffers[cn],Te(kn)&&nn._buffer.byteLength>=kn.byteLength?nn.subdata(kn):(nn.destroy(),It.buffers[cn]=null)),It.buffers[cn]||(nn=It.buffers[cn]=je.create(ln,34962,!1,!0)),Qt.buffer=je.getBuffer(nn),Qt.size=0|Qt.buffer.dimension,Qt.normalized=!1,Qt.type=Qt.buffer.dtype,Qt.offset=0,Qt.stride=0,Qt.divisor=0,Qt.state=1,Gt[cn]=1):je.getBuffer(ln)?(Qt.buffer=je.getBuffer(ln),Qt.size=0|Qt.buffer.dimension,Qt.normalized=!1,Qt.type=Qt.buffer.dtype,Qt.offset=0,Qt.stride=0,Qt.divisor=0,Qt.state=1):je.getBuffer(ln.buffer)?(Qt.buffer=je.getBuffer(ln.buffer),Qt.size=0|(+ln.size||Qt.buffer.dimension),Qt.normalized=!!ln.normalized||!1,Qt.type="type"in ln?Se[ln.type]:Qt.buffer.dtype,Qt.offset=0|(ln.offset||0),Qt.stride=0|(ln.stride||0),Qt.divisor=0|(ln.divisor||0),Qt.state=1):"x"in ln&&(Qt.x=+ln.x||0,Qt.y=+ln.y||0,Qt.z=+ln.z||0,Qt.w=+ln.w||0,Qt.state=2)}for(nn=0;nn<It.buffers.length;++nn)!Gt[nn]&&It.buffers[nn]&&(It.buffers[nn].destroy(),It.buffers[nn]=null);return It.refresh(),_t}var It=new ct;return vt.vaoCount+=1,_t.destroy=function(){for(var Gt=0;Gt<It.buffers.length;++Gt)It.buffers[Gt]&&It.buffers[Gt].destroy();It.buffers.length=0,It.ownsElements&&(It.elements.destroy(),It.elements=null,It.ownsElements=!1),It.destroy()},_t._vao=It,_t._reglType="vao",_t(xt)},getVAO:function(xt){return"function"==typeof xt&&xt._vao?xt._vao:null},destroyBuffer:function(xt){for(var _t=0;_t<Mt.length;++_t){var It=Mt[_t];It.buffer===xt&&(Xe.disableVertexAttribArray(_t),It.buffer=null)}},setVAO:rt.oes_vertex_array_object?function(xt){xt!==Rt.currentVAO&&(rt.oes_vertex_array_object.bindVertexArrayOES(xt?xt.vao:null),Rt.currentVAO=xt)}:function(xt){if(xt!==Rt.currentVAO){if(xt)xt.bindAttrs();else{for(var _t=rt.angle_instanced_arrays,It=0;It<Mt.length;++It){var Gt=Mt[It];Gt.buffer?(Xe.enableVertexAttribArray(It),Gt.buffer.bind(),Xe.vertexAttribPointer(It,Gt.size,Gt.type,Gt.normalized,Gt.stride,Gt.offfset),_t&&Gt.divisor&&_t.vertexAttribDivisorANGLE(It,Gt.divisor)):(Xe.disableVertexAttribArray(It),Xe.vertexAttrib4f(It,Gt.x,Gt.y,Gt.z,Gt.w))}Xe.bindBuffer(34963,ut.elements?ut.elements.buffer.buffer:null)}Rt.currentVAO=xt}},clear:rt.oes_vertex_array_object?function(){be(bt).forEach(function(xt){xt.destroy()})}:function(){}};return ct.prototype.bindAttrs=function(){for(var xt=rt.angle_instanced_arrays,_t=this.attributes,It=0;It<_t.length;++It){var Gt=_t[It];Gt.buffer?(Xe.enableVertexAttribArray(It),Xe.bindBuffer(34962,Gt.buffer.buffer),Xe.vertexAttribPointer(It,Gt.size,Gt.type,Gt.normalized,Gt.stride,Gt.offset),xt&&Gt.divisor&&xt.vertexAttribDivisorANGLE(It,Gt.divisor)):(Xe.disableVertexAttribArray(It),Xe.vertexAttrib4f(It,Gt.x,Gt.y,Gt.z,Gt.w))}for(xt=_t.length;xt<Tt;++xt)Xe.disableVertexAttribArray(xt);(xt=Ve.getElements(this.elements))?Xe.bindBuffer(34963,xt.buffer.buffer):Xe.bindBuffer(34963,null)},ct.prototype.refresh=function(){var xt=rt.oes_vertex_array_object;xt&&(xt.bindVertexArrayOES(this.vao),this.bindAttrs(),Rt.currentVAO=null,xt.bindVertexArrayOES(null))},ct.prototype.destroy=function(){if(this.vao){var xt=rt.oes_vertex_array_object;this===Rt.currentVAO&&(Rt.currentVAO=null,xt.bindVertexArrayOES(null)),xt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),bt[this.id]&&(delete bt[this.id],--vt.vaoCount)},Rt}(xt,cn,Tn,Wt,tn,gn,Qt),mn=function P(Xe,rt,ft,vt){function je(_t,It,Gt,Wt){this.name=_t,this.id=It,this.location=Gt,this.info=Wt}function Ve(_t,It){for(var Gt=0;Gt<_t.length;++Gt)if(_t[Gt].id===It.id)return void(_t[Gt].location=It.location);_t.push(It)}function ut(_t,It,Gt){if(!(Zt=(Gt=35632===_t?Mt:At)[It])){var Wt=rt.str(It),Zt=Xe.createShader(_t);Xe.shaderSource(Zt,Wt),Xe.compileShader(Zt),Gt[It]=Zt}return Zt}function ct(_t,It){this.id=xt++,this.fragId=_t,this.vertId=It,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,vt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Tt(_t,It,Gt){var Wt;Wt=ut(35632,_t.fragId);var Zt=ut(35633,_t.vertId);if(It=_t.program=Xe.createProgram(),Xe.attachShader(It,Wt),Xe.attachShader(It,Zt),Gt)for(Wt=0;Wt<Gt.length;++Wt)Xe.bindAttribLocation(It,(Zt=Gt[Wt])[0],Zt[1]);Xe.linkProgram(It),Zt=Xe.getProgramParameter(It,35718),vt.profile&&(_t.stats.uniformsCount=Zt);var cn=_t.uniforms;for(Wt=0;Wt<Zt;++Wt)if(Gt=Xe.getActiveUniform(It,Wt))if(1<Gt.size)for(var nn=0;nn<Gt.size;++nn){var ln=Gt.name.replace("[0]","["+nn+"]");Ve(cn,new je(ln,rt.id(ln),Xe.getUniformLocation(It,ln),Gt))}else Ve(cn,new je(Gt.name,rt.id(Gt.name),Xe.getUniformLocation(It,Gt.name),Gt));for(Zt=Xe.getProgramParameter(It,35721),vt.profile&&(_t.stats.attributesCount=Zt),_t=_t.attributes,Wt=0;Wt<Zt;++Wt)(Gt=Xe.getActiveAttrib(It,Wt))&&Ve(_t,new je(Gt.name,rt.id(Gt.name),Xe.getAttribLocation(It,Gt.name),Gt))}var Mt={},At={},bt={},Rt=[],xt=0;return vt.profile&&(ft.getMaxUniformsCount=function(){var _t=0;return Rt.forEach(function(It){It.stats.uniformsCount>_t&&(_t=It.stats.uniformsCount)}),_t},ft.getMaxAttributesCount=function(){var _t=0;return Rt.forEach(function(It){It.stats.attributesCount>_t&&(_t=It.stats.attributesCount)}),_t}),{clear:function(){var _t=Xe.deleteShader.bind(Xe);be(Mt).forEach(_t),Mt={},be(At).forEach(_t),At={},Rt.forEach(function(It){Xe.deleteProgram(It.program)}),Rt.length=0,bt={},ft.shaderCount=0},program:function(_t,It,Gt,Wt){var Zt=bt[It];Zt||(Zt=bt[It]={});var cn=Zt[_t];if(cn&&(cn.refCount++,!Wt))return cn;var nn=new ct(It,_t);return ft.shaderCount++,Tt(nn,Gt,Wt),cn||(Zt[_t]=nn),Rt.push(nn),oe(nn,{destroy:function(){if(nn.refCount--,0>=nn.refCount){Xe.deleteProgram(nn.program);var ln=Rt.indexOf(nn);Rt.splice(ln,1),ft.shaderCount--}0>=Zt[nn.vertId].refCount&&(Xe.deleteShader(At[nn.vertId]),delete At[nn.vertId],delete bt[nn.fragId][nn.vertId]),Object.keys(bt[nn.fragId]).length||(Xe.deleteShader(Mt[nn.fragId]),delete Mt[nn.fragId],delete bt[nn.fragId])}})},restore:function(){Mt={},At={};for(var _t=0;_t<Rt.length;++_t)Tt(Rt[_t],null,Rt[_t].attributes.map(function(It){return[It.location,It.name]}))},shader:ut,frag:-1,vert:-1}}(xt,Gt,Wt,Xe),En=function E(Xe,rt,ft,vt,je,Ve,ut){function ct(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Tt(Kt,Rn){Kt.internalformat=Rn.internalformat,Kt.format=Rn.format,Kt.type=Rn.type,Kt.compressed=Rn.compressed,Kt.premultiplyAlpha=Rn.premultiplyAlpha,Kt.flipY=Rn.flipY,Kt.unpackAlignment=Rn.unpackAlignment,Kt.colorSpace=Rn.colorSpace,Kt.width=Rn.width,Kt.height=Rn.height,Kt.channels=Rn.channels}function Mt(Kt,Rn){if("object"==typeof Rn&&Rn){"premultiplyAlpha"in Rn&&(Kt.premultiplyAlpha=Rn.premultiplyAlpha),"flipY"in Rn&&(Kt.flipY=Rn.flipY),"alignment"in Rn&&(Kt.unpackAlignment=Rn.alignment),"colorSpace"in Rn&&(Kt.colorSpace=Hn[Rn.colorSpace]),"type"in Rn&&(Kt.type=On[Rn.type]);var Ft=Kt.width,on=Kt.height,fn=Kt.channels,Sn=!1;"shape"in Rn?(Ft=Rn.shape[0],on=Rn.shape[1],3===Rn.shape.length&&(fn=Rn.shape[2],Sn=!0)):("radius"in Rn&&(Ft=on=Rn.radius),"width"in Rn&&(Ft=Rn.width),"height"in Rn&&(on=Rn.height),"channels"in Rn&&(fn=Rn.channels,Sn=!0)),Kt.width=0|Ft,Kt.height=0|on,Kt.channels=0|fn,Ft=!1,"format"in Rn&&(on=Kt.internalformat=Wn[Ft=Rn.format],Kt.format=wn[on],Ft in On&&!("type"in Rn)&&(Kt.type=On[Ft]),Ft in pr&&(Kt.compressed=!0),Ft=!0),!Sn&&Ft?Kt.channels=ve[Kt.format]:Sn&&!Ft&&Kt.channels!==$e[Kt.format]&&(Kt.format=Kt.internalformat=$e[Kt.channels])}}function At(Kt){Xe.pixelStorei(37440,Kt.flipY),Xe.pixelStorei(37441,Kt.premultiplyAlpha),Xe.pixelStorei(37443,Kt.colorSpace),Xe.pixelStorei(3317,Kt.unpackAlignment)}function bt(){ct.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Rt(Kt,Rn){var Ft=null;if(b(Rn)?Ft=Rn:Rn&&(Mt(Kt,Rn),"x"in Rn&&(Kt.xOffset=0|Rn.x),"y"in Rn&&(Kt.yOffset=0|Rn.y),b(Rn.data)&&(Ft=Rn.data)),Rn.copy){var on=je.viewportWidth,fn=je.viewportHeight;Kt.width=Kt.width||on-Kt.xOffset,Kt.height=Kt.height||fn-Kt.yOffset,Kt.needsCopy=!0}else if(Ft){if(Te(Ft))Kt.channels=Kt.channels||4,Kt.data=Ft,"type"in Rn||5121!==Kt.type||(Kt.type=0|Ne[Object.prototype.toString.call(Ft)]);else if(h(Ft)){switch(Kt.channels=Kt.channels||4,fn=(on=Ft).length,Kt.type){case 5121:case 5123:case 5125:case 5126:(fn=ke.allocType(Kt.type,fn)).set(on),Kt.data=fn;break;case 36193:Kt.data=f(on)}Kt.alignment=1,Kt.needsFree=!0}else if(t(Ft)){on=Ft.data,Array.isArray(on)||5121!==Kt.type||(Kt.type=0|Ne[Object.prototype.toString.call(on)]);var Sn,Ln,jn,bn,sn=Ft.stride;3===(fn=Ft.shape).length?(jn=fn[2],bn=sn[2]):bn=jn=1,Sn=fn[0],Ln=fn[1],fn=sn[0],sn=sn[1],Kt.alignment=1,Kt.width=Sn,Kt.height=Ln,Kt.channels=jn,Kt.format=Kt.internalformat=$e[jn],Kt.needsFree=!0,Sn=bn,Ft=Ft.offset;for(var un=ke.allocType(36193===Kt.type?5126:Kt.type,(jn=Kt.width)*(bn=Kt.height)*(Ln=Kt.channels)),xn=0,_n=0;_n<bn;++_n)for(var Vn=0;Vn<jn;++Vn)for(var Gn=0;Gn<Ln;++Gn)un[xn++]=on[fn*Vn+sn*_n+Sn*Gn+Ft];M(Kt,un)}else if(x(Ft)===Ie||x(Ft)===De||x(Ft)===ze)Kt.element=x(Ft)===Ie||x(Ft)===De?Ft:Ft.canvas,Kt.width=Kt.element.width,Kt.height=Kt.element.height,Kt.channels=4;else if(x(Ft)===Ge)Kt.element=Ft,Kt.width=Ft.width,Kt.height=Ft.height,Kt.channels=4;else if(x(Ft)===He)Kt.element=Ft,Kt.width=Ft.naturalWidth,Kt.height=Ft.naturalHeight,Kt.channels=4;else if(x(Ft)===Ke)Kt.element=Ft,Kt.width=Ft.videoWidth,Kt.height=Ft.videoHeight,Kt.channels=4;else if(_(Ft)){for(on=Kt.width||Ft[0].length,fn=Kt.height||Ft.length,sn=Kt.channels,sn=w(Ft[0][0])?sn||Ft[0][0].length:sn||1,Sn=xe.shape(Ft),jn=1,bn=0;bn<Sn.length;++bn)jn*=Sn[bn];jn=ke.allocType(36193===Kt.type?5126:Kt.type,jn),xe.flatten(Ft,Sn,"",jn),M(Kt,jn),Kt.alignment=1,Kt.width=on,Kt.height=fn,Kt.channels=sn,Kt.format=Kt.internalformat=$e[sn],Kt.needsFree=!0}}else Kt.width=Kt.width||1,Kt.height=Kt.height||1,Kt.channels=Kt.channels||4}function xt(Kt,Rn,Ft,on,fn){var Sn=Kt.element,Ln=Kt.data,jn=Kt.internalformat,bn=Kt.format,sn=Kt.type,un=Kt.width,xn=Kt.height;At(Kt),Sn?Xe.texSubImage2D(Rn,fn,Ft,on,bn,sn,Sn):Kt.compressed?Xe.compressedTexSubImage2D(Rn,fn,Ft,on,jn,un,xn,Ln):Kt.needsCopy?(vt(),Xe.copyTexSubImage2D(Rn,fn,Ft,on,Kt.xOffset,Kt.yOffset,un,xn)):Xe.texSubImage2D(Rn,fn,Ft,on,un,xn,bn,sn,Ln)}function _t(){return Cn.pop()||new bt}function It(Kt){Kt.needsFree&&ke.freeType(Kt.data),bt.call(Kt),Cn.push(Kt)}function Gt(){ct.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Wt(Kt,Rn,Ft){var on=Kt.images[0]=_t();Kt.mipmask=1,on.width=Kt.width=Rn,on.height=Kt.height=Ft,on.channels=Kt.channels=4}function Zt(Kt,Rn){var Ft=null;if(b(Rn))Tt(Ft=Kt.images[0]=_t(),Kt),Rt(Ft,Rn),Kt.mipmask=1;else if(Mt(Kt,Rn),Array.isArray(Rn.mipmap))for(var on=Rn.mipmap,fn=0;fn<on.length;++fn)Tt(Ft=Kt.images[fn]=_t(),Kt),Ft.width>>=fn,Ft.height>>=fn,Rt(Ft,on[fn]),Kt.mipmask|=1<<fn;else Tt(Ft=Kt.images[0]=_t(),Kt),Rt(Ft,Rn),Kt.mipmask=1;Tt(Kt,Kt.images[0])}function cn(Kt,Rn){for(var Ft=Kt.images,on=0;on<Ft.length&&Ft[on];++on){var fn=Ft[on],Sn=Rn,Ln=on,jn=fn.element,bn=fn.data,sn=fn.internalformat,un=fn.format,xn=fn.type,_n=fn.width,Vn=fn.height;At(fn),jn?Xe.texImage2D(Sn,Ln,un,un,xn,jn):fn.compressed?Xe.compressedTexImage2D(Sn,Ln,sn,_n,Vn,0,bn):fn.needsCopy?(vt(),Xe.copyTexImage2D(Sn,Ln,un,fn.xOffset,fn.yOffset,_n,Vn,0)):Xe.texImage2D(Sn,Ln,un,_n,Vn,0,un,xn,bn||null)}}function nn(){var Kt=Bn.pop()||new Gt;ct.call(Kt);for(var Rn=Kt.mipmask=0;16>Rn;++Rn)Kt.images[Rn]=null;return Kt}function ln(Kt){for(var Rn=Kt.images,Ft=0;Ft<Rn.length;++Ft)Rn[Ft]&&It(Rn[Ft]),Rn[Ft]=null;Bn.push(Kt)}function Qt(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function kn(Kt,Rn){"min"in Rn&&(Kt.minFilter=Un[Rn.min],0<=Ue.indexOf(Kt.minFilter)&&!("faces"in Rn)&&(Kt.genMipmaps=!0)),"mag"in Rn&&(Kt.magFilter=vn[Rn.mag]);var Ft=Kt.wrapS,on=Kt.wrapT;if("wrap"in Rn){var fn=Rn.wrap;"string"==typeof fn?Ft=on=En[fn]:Array.isArray(fn)&&(Ft=En[fn[0]],on=En[fn[1]])}else"wrapS"in Rn&&(Ft=En[Rn.wrapS]),"wrapT"in Rn&&(on=En[Rn.wrapT]);if(Kt.wrapS=Ft,Kt.wrapT=on,"anisotropic"in Rn&&(Kt.anisotropic=Rn.anisotropic),"mipmap"in Rn){switch(Ft=!1,typeof Rn.mipmap){case"string":Kt.mipmapHint=mn[Rn.mipmap],Ft=Kt.genMipmaps=!0;break;case"boolean":Ft=Kt.genMipmaps=Rn.mipmap;break;case"object":Kt.genMipmaps=!1,Ft=!0}!Ft||"min"in Rn||(Kt.minFilter=9984)}}function Pn(Kt,Rn){Xe.texParameteri(Rn,10241,Kt.minFilter),Xe.texParameteri(Rn,10240,Kt.magFilter),Xe.texParameteri(Rn,10242,Kt.wrapS),Xe.texParameteri(Rn,10243,Kt.wrapT),rt.ext_texture_filter_anisotropic&&Xe.texParameteri(Rn,34046,Kt.anisotropic),Kt.genMipmaps&&(Xe.hint(33170,Kt.mipmapHint),Xe.generateMipmap(Rn))}function Tn(Kt){ct.call(this),this.mipmask=0,this.internalformat=6408,this.id=or++,this.refCount=1,this.target=Kt,this.texture=Xe.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Qt,ut.profile&&(this.stats={size:0})}function tn(Kt){Xe.activeTexture(33984),Xe.bindTexture(Kt.target,Kt.texture)}function gn(){var Kt=Xn[0];Kt?Xe.bindTexture(Kt.target,Kt.texture):Xe.bindTexture(3553,null)}function hn(Kt){var Rn=Kt.texture,Ft=Kt.unit,on=Kt.target;0<=Ft&&(Xe.activeTexture(33984+Ft),Xe.bindTexture(on,null),Xn[Ft]=null),Xe.deleteTexture(Rn),Kt.texture=null,Kt.params=null,Kt.pixels=null,Kt.refCount=0,delete An[Kt.id],Ve.textureCount--}var mn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},En={repeat:10497,clamp:33071,mirror:33648},vn={nearest:9728,linear:9729},Un=oe({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},vn),Hn={none:0,browser:37444},On={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Wn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},pr={};rt.ext_srgb&&(Wn.srgb=35904,Wn.srgba=35906),rt.oes_texture_float&&(On.float32=On.float=5126),rt.oes_texture_half_float&&(On.float16=On["half float"]=36193),rt.webgl_depth_texture&&(oe(Wn,{depth:6402,"depth stencil":34041}),oe(On,{uint16:5123,uint32:5125,"depth stencil":34042})),rt.webgl_compressed_texture_s3tc&&oe(pr,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),rt.webgl_compressed_texture_atc&&oe(pr,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),rt.webgl_compressed_texture_pvrtc&&oe(pr,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),rt.webgl_compressed_texture_etc1&&(pr["rgb etc1"]=36196);var ar=Array.prototype.slice.call(Xe.getParameter(34467));Object.keys(pr).forEach(function(Kt){var Rn=pr[Kt];0<=ar.indexOf(Rn)&&(Wn[Kt]=Rn)});var Ar=Object.keys(Wn);ft.textureFormats=Ar;var hr=[];Object.keys(Wn).forEach(function(Kt){hr[Wn[Kt]]=Kt});var fr=[];Object.keys(On).forEach(function(Kt){fr[On[Kt]]=Kt});var Rr=[];Object.keys(vn).forEach(function(Kt){Rr[vn[Kt]]=Kt});var Xt=[];Object.keys(Un).forEach(function(Kt){Xt[Un[Kt]]=Kt});var rn=[];Object.keys(En).forEach(function(Kt){rn[En[Kt]]=Kt});var wn=Ar.reduce(function(Kt,Rn){var Ft=Wn[Rn];return Kt[Ft]=6409===Ft||6406===Ft||6409===Ft||6410===Ft||6402===Ft||34041===Ft||rt.ext_srgb&&(35904===Ft||35906===Ft)?Ft:32855===Ft||0<=Rn.indexOf("rgba")?6408:6407,Kt},{}),Cn=[],Bn=[],or=0,An={},$n=ft.maxTextureUnits,Xn=Array($n).map(function(){return null});return oe(Tn.prototype,{bind:function(){this.bindCount+=1;var Kt=this.unit;if(0>Kt){for(var Rn=0;Rn<$n;++Rn){var Ft=Xn[Rn];if(Ft){if(0<Ft.bindCount)continue;Ft.unit=-1}Xn[Rn]=this,Kt=Rn;break}ut.profile&&Ve.maxTextureUnits<Kt+1&&(Ve.maxTextureUnits=Kt+1),this.unit=Kt,Xe.activeTexture(33984+Kt),Xe.bindTexture(this.target,this.texture)}return Kt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&hn(this)}}),ut.profile&&(Ve.getTotalTextureSize=function(){var Kt=0;return Object.keys(An).forEach(function(Rn){Kt+=An[Rn].stats.size}),Kt}),{create2D:function(Kt,Rn){function Ft(fn,Sn){var Ln=on.texInfo;Qt.call(Ln);var jn=nn();return"number"==typeof fn?Wt(jn,0|fn,"number"==typeof Sn?0|Sn:0|fn):fn?(kn(Ln,fn),Zt(jn,fn)):Wt(jn,1,1),Ln.genMipmaps&&(jn.mipmask=(jn.width<<1)-1),on.mipmask=jn.mipmask,Tt(on,jn),on.internalformat=jn.internalformat,Ft.width=jn.width,Ft.height=jn.height,tn(on),cn(jn,3553),Pn(Ln,3553),gn(),ln(jn),ut.profile&&(on.stats.size=d(on.internalformat,on.type,jn.width,jn.height,Ln.genMipmaps,!1)),Ft.format=hr[on.internalformat],Ft.type=fr[on.type],Ft.mag=Rr[Ln.magFilter],Ft.min=Xt[Ln.minFilter],Ft.wrapS=rn[Ln.wrapS],Ft.wrapT=rn[Ln.wrapT],Ft}var on=new Tn(3553);return An[on.id]=on,Ve.textureCount++,Ft(Kt,Rn),Ft.subimage=function(fn,Sn,Ln,jn){Sn|=0,Ln|=0,jn|=0;var bn=_t();return Tt(bn,on),bn.width=0,bn.height=0,Rt(bn,fn),bn.width=bn.width||(on.width>>jn)-Sn,bn.height=bn.height||(on.height>>jn)-Ln,tn(on),xt(bn,3553,Sn,Ln,jn),gn(),It(bn),Ft},Ft.resize=function(fn,Sn){var Ln=0|fn,jn=0|Sn||Ln;if(Ln===on.width&&jn===on.height)return Ft;Ft.width=on.width=Ln,Ft.height=on.height=jn,tn(on);for(var bn=0;on.mipmask>>bn;++bn){var sn=Ln>>bn,un=jn>>bn;if(!sn||!un)break;Xe.texImage2D(3553,bn,on.format,sn,un,0,on.format,on.type,null)}return gn(),ut.profile&&(on.stats.size=d(on.internalformat,on.type,Ln,jn,!1,!1)),Ft},Ft._reglType="texture2d",Ft._texture=on,ut.profile&&(Ft.stats=on.stats),Ft.destroy=function(){on.decRef()},Ft},createCube:function(Kt,Rn,Ft,on,fn,Sn){function Ln(sn,un,xn,_n,Vn,Gn){var rr,Jn=jn.texInfo;for(Qt.call(Jn),rr=0;6>rr;++rr)bn[rr]=nn();if("number"!=typeof sn&&sn){if("object"==typeof sn)if(un)Zt(bn[0],sn),Zt(bn[1],un),Zt(bn[2],xn),Zt(bn[3],_n),Zt(bn[4],Vn),Zt(bn[5],Gn);else if(kn(Jn,sn),Mt(jn,sn),"faces"in sn)for(sn=sn.faces,rr=0;6>rr;++rr)Tt(bn[rr],jn),Zt(bn[rr],sn[rr]);else for(rr=0;6>rr;++rr)Zt(bn[rr],sn)}else for(sn=0|sn||1,rr=0;6>rr;++rr)Wt(bn[rr],sn,sn);for(Tt(jn,bn[0]),jn.mipmask=Jn.genMipmaps?(bn[0].width<<1)-1:bn[0].mipmask,jn.internalformat=bn[0].internalformat,Ln.width=bn[0].width,Ln.height=bn[0].height,tn(jn),rr=0;6>rr;++rr)cn(bn[rr],34069+rr);for(Pn(Jn,34067),gn(),ut.profile&&(jn.stats.size=d(jn.internalformat,jn.type,Ln.width,Ln.height,Jn.genMipmaps,!0)),Ln.format=hr[jn.internalformat],Ln.type=fr[jn.type],Ln.mag=Rr[Jn.magFilter],Ln.min=Xt[Jn.minFilter],Ln.wrapS=rn[Jn.wrapS],Ln.wrapT=rn[Jn.wrapT],rr=0;6>rr;++rr)ln(bn[rr]);return Ln}var jn=new Tn(34067);An[jn.id]=jn,Ve.cubeCount++;var bn=Array(6);return Ln(Kt,Rn,Ft,on,fn,Sn),Ln.subimage=function(sn,un,xn,_n,Vn){xn|=0,_n|=0,Vn|=0;var Gn=_t();return Tt(Gn,jn),Gn.width=0,Gn.height=0,Rt(Gn,un),Gn.width=Gn.width||(jn.width>>Vn)-xn,Gn.height=Gn.height||(jn.height>>Vn)-_n,tn(jn),xt(Gn,34069+sn,xn,_n,Vn),gn(),It(Gn),Ln},Ln.resize=function(sn){if((sn|=0)!==jn.width){Ln.width=jn.width=sn,Ln.height=jn.height=sn,tn(jn);for(var un=0;6>un;++un)for(var xn=0;jn.mipmask>>xn;++xn)Xe.texImage2D(34069+un,xn,jn.format,sn>>xn,sn>>xn,0,jn.format,jn.type,null);return gn(),ut.profile&&(jn.stats.size=d(jn.internalformat,jn.type,Ln.width,Ln.height,!1,!0)),Ln}},Ln._reglType="textureCube",Ln._texture=jn,ut.profile&&(Ln.stats=jn.stats),Ln.destroy=function(){jn.decRef()},Ln},clear:function(){for(var Kt=0;Kt<$n;++Kt)Xe.activeTexture(33984+Kt),Xe.bindTexture(3553,null),Xn[Kt]=null;be(An).forEach(hn),Ve.cubeCount=0,Ve.textureCount=0},getTexture:function(Kt){return null},restore:function(){for(var Kt=0;Kt<$n;++Kt){var Rn=Xn[Kt];Rn&&(Rn.bindCount=0,Rn.unit=-1,Xn[Kt]=null)}be(An).forEach(function(Ft){Ft.texture=Xe.createTexture(),Xe.bindTexture(Ft.target,Ft.texture);for(var on=0;32>on;++on)if(Ft.mipmask&1<<on)if(3553===Ft.target)Xe.texImage2D(3553,on,Ft.internalformat,Ft.width>>on,Ft.height>>on,0,Ft.internalformat,Ft.type,null);else for(var fn=0;6>fn;++fn)Xe.texImage2D(34069+fn,on,Ft.internalformat,Ft.width>>on,Ft.height>>on,0,Ft.internalformat,Ft.type,null);Pn(Ft.texInfo,Ft.target)})},refresh:function(){for(var Kt=0;Kt<$n;++Kt){var Rn=Xn[Kt];Rn&&(Rn.bindCount=0,Rn.unit=-1,Xn[Kt]=null),Xe.activeTexture(33984+Kt),Xe.bindTexture(3553,null),Xe.bindTexture(34067,null)}}}}(xt,cn,Tn,function(){Hn.procs.poll()},Pn,Wt,Xe),vn=function(Xe,rt,ft,vt,je){function Ve(bt){this.id=Mt++,this.refCount=1,this.renderbuffer=bt,this.format=32854,this.height=this.width=0,je.profile&&(this.stats={size:0})}function ut(bt){var Rt=bt.renderbuffer;Xe.bindRenderbuffer(36161,null),Xe.deleteRenderbuffer(Rt),bt.renderbuffer=null,bt.refCount=0,delete At[bt.id],vt.renderbufferCount--}var ct={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};rt.ext_srgb&&(ct.srgba=35907),rt.ext_color_buffer_half_float&&(ct.rgba16f=34842,ct.rgb16f=34843),rt.webgl_color_buffer_float&&(ct.rgba32f=34836);var Tt=[];Object.keys(ct).forEach(function(bt){Tt[ct[bt]]=bt});var Mt=0,At={};return Ve.prototype.decRef=function(){0>=--this.refCount&&ut(this)},je.profile&&(vt.getTotalRenderbufferSize=function(){var bt=0;return Object.keys(At).forEach(function(Rt){bt+=At[Rt].stats.size}),bt}),{create:function(bt,Rt){function xt(It,Gt){var Wt=0,Zt=0,cn=32854;if("object"==typeof It&&It?("shape"in It?(Wt=0|(Zt=It.shape)[0],Zt=0|Zt[1]):("radius"in It&&(Wt=Zt=0|It.radius),"width"in It&&(Wt=0|It.width),"height"in It&&(Zt=0|It.height)),"format"in It&&(cn=ct[It.format])):"number"==typeof It?(Wt=0|It,Zt="number"==typeof Gt?0|Gt:Wt):It||(Wt=Zt=1),Wt!==_t.width||Zt!==_t.height||cn!==_t.format)return xt.width=_t.width=Wt,xt.height=_t.height=Zt,_t.format=cn,Xe.bindRenderbuffer(36161,_t.renderbuffer),Xe.renderbufferStorage(36161,cn,Wt,Zt),je.profile&&(_t.stats.size=at[_t.format]*_t.width*_t.height),xt.format=Tt[_t.format],xt}var _t=new Ve(Xe.createRenderbuffer());return At[_t.id]=_t,vt.renderbufferCount++,xt(bt,Rt),xt.resize=function(It,Gt){var Wt=0|It,Zt=0|Gt||Wt;return Wt===_t.width&&Zt===_t.height||(xt.width=_t.width=Wt,xt.height=_t.height=Zt,Xe.bindRenderbuffer(36161,_t.renderbuffer),Xe.renderbufferStorage(36161,_t.format,Wt,Zt),je.profile&&(_t.stats.size=at[_t.format]*_t.width*_t.height)),xt},xt._reglType="renderbuffer",xt._renderbuffer=_t,je.profile&&(xt.stats=_t.stats),xt.destroy=function(){_t.decRef()},xt},clear:function(){be(At).forEach(ut)},restore:function(){be(At).forEach(function(bt){bt.renderbuffer=Xe.createRenderbuffer(),Xe.bindRenderbuffer(36161,bt.renderbuffer),Xe.renderbufferStorage(36161,bt.format,bt.width,bt.height)}),Xe.bindRenderbuffer(36161,null)}}}(xt,cn,0,Wt,Xe),Un=function k(Xe,rt,ft,vt,je,Ve){function ut(Tn,tn,gn){this.target=Tn,this.texture=tn,this.renderbuffer=gn;var hn=Tn=0;tn?(Tn=tn.width,hn=tn.height):gn&&(Tn=gn.width,hn=gn.height),this.width=Tn,this.height=hn}function ct(Tn){Tn&&(Tn.texture&&Tn.texture._texture.decRef(),Tn.renderbuffer&&Tn.renderbuffer._renderbuffer.decRef())}function Tt(Tn,tn,gn){Tn&&(Tn.texture?Tn.texture._texture.refCount+=1:Tn.renderbuffer._renderbuffer.refCount+=1)}function Mt(Tn,tn){tn&&(tn.texture?Xe.framebufferTexture2D(36160,Tn,tn.target,tn.texture._texture.texture,0):Xe.framebufferRenderbuffer(36160,Tn,36161,tn.renderbuffer._renderbuffer.renderbuffer))}function At(Tn){var tn=3553,gn=null,hn=null,mn=Tn;return"object"==typeof Tn&&(mn=Tn.data,"target"in Tn&&(tn=0|Tn.target)),"texture2d"===(Tn=mn._reglType)||"textureCube"===Tn?gn=mn:"renderbuffer"===Tn&&(hn=mn,tn=36161),new ut(tn,gn,hn)}function bt(Tn,tn,gn,hn,mn){return gn?((Tn=vt.create2D({width:Tn,height:tn,format:hn,type:mn}))._texture.refCount=0,new ut(3553,Tn,null)):((Tn=je.create({width:Tn,height:tn,format:hn}))._renderbuffer.refCount=0,new ut(36161,null,Tn))}function Rt(Tn){return Tn&&(Tn.texture||Tn.renderbuffer)}function xt(Tn,tn,gn){Tn&&(Tn.texture?Tn.texture.resize(tn,gn):Tn.renderbuffer&&Tn.renderbuffer.resize(tn,gn),Tn.width=tn,Tn.height=gn)}function _t(){this.id=kn++,Pn[this.id]=this,this.framebuffer=Xe.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function It(Tn){Tn.colorAttachments.forEach(ct),ct(Tn.depthAttachment),ct(Tn.stencilAttachment),ct(Tn.depthStencilAttachment)}function Gt(Tn){Xe.deleteFramebuffer(Tn.framebuffer),Tn.framebuffer=null,Ve.framebufferCount--,delete Pn[Tn.id]}function Wt(Tn){var tn;Xe.bindFramebuffer(36160,Tn.framebuffer);var gn=Tn.colorAttachments;for(tn=0;tn<gn.length;++tn)Mt(36064+tn,gn[tn]);for(tn=gn.length;tn<ft.maxColorAttachments;++tn)Xe.framebufferTexture2D(36160,36064+tn,3553,null,0);Xe.framebufferTexture2D(36160,33306,3553,null,0),Xe.framebufferTexture2D(36160,36096,3553,null,0),Xe.framebufferTexture2D(36160,36128,3553,null,0),Mt(36096,Tn.depthAttachment),Mt(36128,Tn.stencilAttachment),Mt(33306,Tn.depthStencilAttachment),Xe.checkFramebufferStatus(36160),Xe.isContextLost(),Xe.bindFramebuffer(36160,cn.next?cn.next.framebuffer:null),cn.cur=cn.next,Xe.getError()}function Zt(Tn,tn){function gn(mn,En){var vn,Un=0,Hn=0,On=!0,Wn=!0;vn=null;var pr=!0,ar="rgba",Ar="uint8",hr=1,fr=null,Rr=null,Xt=null,rn=!1;"number"==typeof mn?(Un=0|mn,Hn=0|En||Un):mn?("shape"in mn?(Un=(Hn=mn.shape)[0],Hn=Hn[1]):("radius"in mn&&(Un=Hn=mn.radius),"width"in mn&&(Un=mn.width),"height"in mn&&(Hn=mn.height)),("color"in mn||"colors"in mn)&&(vn=mn.color||mn.colors,Array.isArray(vn)),vn||("colorCount"in mn&&(hr=0|mn.colorCount),"colorTexture"in mn&&(pr=!!mn.colorTexture,ar="rgba4"),"colorType"in mn&&(Ar=mn.colorType,!pr)&&("half float"===Ar||"float16"===Ar?ar="rgba16f":"float"!==Ar&&"float32"!==Ar||(ar="rgba32f")),"colorFormat"in mn&&(0<=nn.indexOf(ar=mn.colorFormat)?pr=!0:0<=ln.indexOf(ar)&&(pr=!1))),("depthTexture"in mn||"depthStencilTexture"in mn)&&(rn=!(!mn.depthTexture&&!mn.depthStencilTexture)),"depth"in mn&&("boolean"==typeof mn.depth?On=mn.depth:(fr=mn.depth,Wn=!1)),"stencil"in mn&&("boolean"==typeof mn.stencil?Wn=mn.stencil:(Rr=mn.stencil,On=!1)),"depthStencil"in mn&&("boolean"==typeof mn.depthStencil?On=Wn=mn.depthStencil:(Xt=mn.depthStencil,Wn=On=!1))):Un=Hn=1;var wn=null,Cn=null,Bn=null,or=null;if(Array.isArray(vn))wn=vn.map(At);else if(vn)wn=[At(vn)];else for(wn=Array(hr),vn=0;vn<hr;++vn)wn[vn]=bt(Un,Hn,pr,ar,Ar);for(Un=Un||wn[0].width,Hn=Hn||wn[0].height,fr?Cn=At(fr):On&&!Wn&&(Cn=bt(Un,Hn,rn,"depth","uint32")),Rr?Bn=At(Rr):Wn&&!On&&(Bn=bt(Un,Hn,!1,"stencil","uint8")),Xt?or=At(Xt):!fr&&!Rr&&Wn&&On&&(or=bt(Un,Hn,rn,"depth stencil","depth stencil")),On=null,vn=0;vn<wn.length;++vn)Tt(wn[vn]),wn[vn]&&wn[vn].texture&&(Wn=St[wn[vn].texture._texture.format]*gt[wn[vn].texture._texture.type],null===On&&(On=Wn));return Tt(Cn),Tt(Bn),Tt(or),It(hn),hn.width=Un,hn.height=Hn,hn.colorAttachments=wn,hn.depthAttachment=Cn,hn.stencilAttachment=Bn,hn.depthStencilAttachment=or,gn.color=wn.map(Rt),gn.depth=Rt(Cn),gn.stencil=Rt(Bn),gn.depthStencil=Rt(or),gn.width=hn.width,gn.height=hn.height,Wt(hn),gn}var hn=new _t;return Ve.framebufferCount++,gn(Tn,tn),oe(gn,{resize:function(mn,En){var vn=Math.max(0|mn,1),Un=Math.max(0|En||vn,1);if(vn===hn.width&&Un===hn.height)return gn;for(var Hn=hn.colorAttachments,On=0;On<Hn.length;++On)xt(Hn[On],vn,Un);return xt(hn.depthAttachment,vn,Un),xt(hn.stencilAttachment,vn,Un),xt(hn.depthStencilAttachment,vn,Un),hn.width=gn.width=vn,hn.height=gn.height=Un,Wt(hn),gn},_reglType:"framebuffer",_framebuffer:hn,destroy:function(){Gt(hn),It(hn)},use:function(mn){cn.setFBO({framebuffer:gn},mn)}})}var cn={cur:null,next:null,dirty:!1,setFBO:null},nn=["rgba"],ln=["rgba4","rgb565","rgb5 a1"];rt.ext_srgb&&ln.push("srgba"),rt.ext_color_buffer_half_float&&ln.push("rgba16f","rgb16f"),rt.webgl_color_buffer_float&&ln.push("rgba32f");var Qt=["uint8"];rt.oes_texture_half_float&&Qt.push("half float","float16"),rt.oes_texture_float&&Qt.push("float","float32");var kn=0,Pn={};return oe(cn,{getFramebuffer:function(Tn){return"function"==typeof Tn&&"framebuffer"===Tn._reglType&&(Tn=Tn._framebuffer)instanceof _t?Tn:null},create:Zt,createCube:function(Tn){function tn(hn){var mn,En={color:null},vn=0,Un=null;mn="rgba";var Hn="uint8",On=1;if("number"==typeof hn?vn=0|hn:hn?("shape"in hn?vn=hn.shape[0]:("radius"in hn&&(vn=0|hn.radius),"width"in hn?vn=0|hn.width:"height"in hn&&(vn=0|hn.height)),("color"in hn||"colors"in hn)&&(Un=hn.color||hn.colors,Array.isArray(Un)),Un||("colorCount"in hn&&(On=0|hn.colorCount),"colorType"in hn&&(Hn=hn.colorType),"colorFormat"in hn&&(mn=hn.colorFormat)),"depth"in hn&&(En.depth=hn.depth),"stencil"in hn&&(En.stencil=hn.stencil),"depthStencil"in hn&&(En.depthStencil=hn.depthStencil)):vn=1,Un)if(Array.isArray(Un))for(hn=[],mn=0;mn<Un.length;++mn)hn[mn]=Un[mn];else hn=[Un];else for(hn=Array(On),Un={radius:vn,format:mn,type:Hn},mn=0;mn<On;++mn)hn[mn]=vt.createCube(Un);for(En.color=Array(hn.length),mn=0;mn<hn.length;++mn)On=hn[mn],vn=vn||On.width,En.color[mn]={target:34069,data:hn[mn]};for(mn=0;6>mn;++mn){for(On=0;On<hn.length;++On)En.color[On].target=34069+mn;0<mn&&(En.depth=gn[0].depth,En.stencil=gn[0].stencil,En.depthStencil=gn[0].depthStencil),gn[mn]?gn[mn](En):gn[mn]=Zt(En)}return oe(tn,{width:vn,height:vn,color:hn})}var gn=Array(6);return tn(Tn),oe(tn,{faces:gn,resize:function(hn){var mn=0|hn;if(mn===tn.width)return tn;var En=tn.color;for(hn=0;hn<En.length;++hn)En[hn].resize(mn);for(hn=0;6>hn;++hn)gn[hn].resize(mn);return tn.width=tn.height=mn,tn},_reglType:"framebufferCube",destroy:function(){gn.forEach(function(hn){hn.destroy()})}})},clear:function(){be(Pn).forEach(Gt)},restore:function(){cn.cur=null,cn.next=null,cn.dirty=!0,be(Pn).forEach(function(Tn){Tn.framebuffer=Xe.createFramebuffer(),Wt(Tn)})}})}(xt,cn,Tn,En,vn,Wt),Hn=K(xt,Gt,cn,Tn,tn,gn,0,Un,{},hn,mn,Qt,Pn,nn,Zt,Xe),On=(Gt=function R(Xe,rt,ft,vt,je,Ve,ut){function ct(Tt){var Mt;Mt=null===rt.next?5121:rt.next.colorAttachments[0].texture._texture.type;var At=0,bt=0,Rt=vt.framebufferWidth,xt=vt.framebufferHeight,_t=null;return Te(Tt)?_t=Tt:Tt&&(At=0|Tt.x,bt=0|Tt.y,Rt=0|(Tt.width||vt.framebufferWidth-At),xt=0|(Tt.height||vt.framebufferHeight-bt),_t=Tt.data||null),ft(),Tt=Rt*xt*4,_t||(5121===Mt?_t=new Uint8Array(Tt):5126===Mt&&(_t=_t||new Float32Array(Tt))),Xe.pixelStorei(3333,4),Xe.readPixels(At,bt,Rt,xt,6408,Mt,_t),_t}return function(Tt){return Tt&&"framebuffer"in Tt?(rt.setFBO({framebuffer:(Mt=Tt).framebuffer},function(){At=ct(Mt)}),At):ct(Tt);var Mt,At}}(xt,Un,Hn.procs.poll,Pn),Hn.next),Wn=xt.canvas,pr=[],ar=[],Ar=[],hr=[Xe.onDestroy],fr=null;Wn&&(Wn.addEventListener("webglcontextlost",je,!1),Wn.addEventListener("webglcontextrestored",Ve,!1));var Rr=Un.setFBO=ut({framebuffer:fe.define.call(null,1,"framebuffer")});return bt(),_t=oe(ut,{clear:function(Xt){if("framebuffer"in Xt)if(Xt.framebuffer&&"framebufferCube"===Xt.framebuffer_reglType)for(var rn=0;6>rn;++rn)Rr(oe({framebuffer:Xt.framebuffer.faces[rn]},Xt),ct);else Rr(Xt,ct);else ct(0,Xt)},prop:fe.define.bind(null,1),context:fe.define.bind(null,2),this:fe.define.bind(null,3),draw:ut({}),buffer:function(Xt){return tn.create(Xt,34962,!1,!1)},elements:function(Xt){return gn.create(Xt,!1)},texture:En.create2D,cube:En.createCube,renderbuffer:vn.create,framebuffer:Un.create,framebufferCube:Un.createCube,vao:hn.createVAO,attributes:_t,frame:Tt,on:function(Xt,rn){var wn;switch(Xt){case"frame":return Tt(rn);case"lost":wn=ar;break;case"restore":wn=Ar;break;case"destroy":wn=hr}return wn.push(rn),{cancel:function(){for(var Cn=0;Cn<wn.length;++Cn)if(wn[Cn]===rn){wn[Cn]=wn[wn.length-1],wn.pop();break}}}},limits:Tn,hasExtension:function(Xt){return 0<=Tn.extensions.indexOf(Xt.toLowerCase())},read:Gt,destroy:function(){pr.length=0,vt(),Wn&&(Wn.removeEventListener("webglcontextlost",je),Wn.removeEventListener("webglcontextrestored",Ve)),mn.clear(),Un.clear(),vn.clear(),hn.clear(),En.clear(),gn.clear(),tn.clear(),nn&&nn.clear(),hr.forEach(function(Xt){Xt()})},_gl:xt,_refresh:bt,poll:function(){At(),nn&&nn.update()},now:Rt,stats:Wt,getCachedCode:function(){return Zt},preloadCachedCode:function(Xt){Object.entries(Xt).forEach(function(rn){Zt[rn[0]]=rn[1]})}}),Xe.onDone(null,_t),_t}}()},71665:function(ie,B,e){var C=e(12856),S=C.Buffer;function u(T,m){for(var l in T)m[l]=T[l]}function A(T,m,l){return S(T,m,l)}S.from&&S.alloc&&S.allocUnsafe&&S.allocUnsafeSlow?ie.exports=C:(u(C,B),B.Buffer=A),A.prototype=Object.create(S.prototype),u(S,A),A.from=function(T,m,l){if("number"==typeof T)throw new TypeError("Argument must not be a number");return S(T,m,l)},A.alloc=function(T,m,l){if("number"!=typeof T)throw new TypeError("Argument must be a number");var t=S(T);return void 0!==m?"string"==typeof l?t.fill(m,l):t.fill(m):t.fill(0),t},A.allocUnsafe=function(T){if("number"!=typeof T)throw new TypeError("Argument must be a number");return S(T)},A.allocUnsafeSlow=function(T){if("number"!=typeof T)throw new TypeError("Argument must be a number");return C.SlowBuffer(T)}},21630:function(ie,B,e){ie.exports=S;var C=e(15398).EventEmitter;function S(){C.call(this)}e(42018)(S,C),S.Readable=e(40410),S.Writable=e(37493),S.Duplex=e(37865),S.Transform=e(74308),S.PassThrough=e(66897),S.finished=e(12726),S.pipeline=e(10168),S.Stream=S,S.prototype.pipe=function(u,A){var T=this;function m(s){u.writable&&!1===u.write(s)&&T.pause&&T.pause()}function l(){T.readable&&T.resume&&T.resume()}T.on("data",m),u.on("drain",l),u._isStdio||A&&!1===A.end||(T.on("end",o),T.on("close",r));var t=!1;function o(){t||(t=!0,u.end())}function r(){t||(t=!0,"function"==typeof u.destroy&&u.destroy())}function n(s){if(a(),0===C.listenerCount(this,"error"))throw s}function a(){T.removeListener("data",m),u.removeListener("drain",l),T.removeListener("end",o),T.removeListener("close",r),T.removeListener("error",n),u.removeListener("error",n),T.removeListener("end",a),T.removeListener("close",a),u.removeListener("close",a)}return T.on("error",n),u.on("error",n),T.on("end",a),T.on("close",a),u.on("close",a),u.emit("pipe",T),u}},74322:function(ie){"use strict";var B={};function e(S,u,A){A||(A=Error);var T=function(m){var l,t;function o(r,n,a){return m.call(this,"string"==typeof u?u:u(r,n,a))||this}return t=m,(l=o).prototype=Object.create(t.prototype),l.prototype.constructor=l,l.__proto__=t,o}(A);T.prototype.name=A.name,T.prototype.code=S,B[S]=T}function C(S,u){if(Array.isArray(S)){var A=S.length;return S=S.map(function(T){return String(T)}),A>2?"one of ".concat(u," ").concat(S.slice(0,A-1).join(", "),", or ")+S[A-1]:2===A?"one of ".concat(u," ").concat(S[0]," or ").concat(S[1]):"of ".concat(u," ").concat(S[0])}return"of ".concat(u," ").concat(String(S))}e("ERR_INVALID_OPT_VALUE",function(S,u){return'The value "'+u+'" is invalid for option "'+S+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(S,u,A){var T,l,t,o,n,s;if("string"==typeof u&&("not ","not "===u.substr(0,4))?(T="must not be",u=u.replace(/^not /,"")):T="must be",n=S," argument",(void 0===s||s>n.length)&&(s=n.length)," argument"===n.substring(s-9,s))l="The ".concat(S," ").concat(T," ").concat(C(u,"type"));else{var r=("number"!=typeof o&&(o=0),o+1>(t=S).length||-1===t.indexOf(".",o)?"argument":"property");l='The "'.concat(S,'" ').concat(r," ").concat(T," ").concat(C(u,"type"))}return l+". Received type ".concat(typeof A)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(S){return"The "+S+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(S){return"Cannot call "+S+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(S){return"Unknown encoding: "+S},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ie.exports.q=B},37865:function(ie,B,e){"use strict";var C=e(90386),S=Object.keys||function(n){var a=[];for(var s in n)a.push(s);return a};ie.exports=t;var u=e(40410),A=e(37493);e(42018)(t,u);for(var T=S(A.prototype),m=0;m<T.length;m++){var l=T[m];t.prototype[l]||(t.prototype[l]=A.prototype[l])}function t(n){if(!(this instanceof t))return new t(n);u.call(this,n),A.call(this,n),this.allowHalfOpen=!0,n&&(!1===n.readable&&(this.readable=!1),!1===n.writable&&(this.writable=!1),!1===n.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",o)))}function o(){this._writableState.ended||C.nextTick(r,this)}function r(n){n.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(n){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=n,this._writableState.destroyed=n)}})},66897:function(ie,B,e){"use strict";ie.exports=S;var C=e(74308);function S(u){if(!(this instanceof S))return new S(u);C.call(this,u)}e(42018)(S,C),S.prototype._transform=function(u,A,T){T(null,u)}},40410:function(ie,B,e){"use strict";var C,S=e(90386);ie.exports=M,M.ReadableState=b,e(15398);var u,A=function(re,Q){return re.listeners(Q).length},T=e(71405),m=e(12856).Buffer,l=e.g.Uint8Array||function(){},t=e(40964);u=t&&t.debuglog?t.debuglog("stream"):function(){};var o,r,n,a=e(31125),s=e(65756),c=e(56306).getHighWaterMark,p=e(74322).q,f=p.ERR_INVALID_ARG_TYPE,w=p.ERR_STREAM_PUSH_AFTER_EOF,v=p.ERR_METHOD_NOT_IMPLEMENTED,h=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(42018)(M,T);var _=s.errorOrDestroy,x=["error","close","destroy","pause","resume"];function b(re,Q,K){C=C||e(37865),"boolean"!=typeof K&&(K=Q instanceof C),this.objectMode=!!(re=re||{}).objectMode,K&&(this.objectMode=this.objectMode||!!re.readableObjectMode),this.highWaterMark=c(this,re,"readableHighWaterMark",K),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==re.emitClose,this.autoDestroy=!!re.autoDestroy,this.destroyed=!1,this.defaultEncoding=re.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,re.encoding&&(o||(o=e(68019).s),this.decoder=new o(re.encoding),this.encoding=re.encoding)}function M(re){if(C=C||e(37865),!(this instanceof M))return new M(re);this._readableState=new b(re,this,this instanceof C),this.readable=!0,re&&("function"==typeof re.read&&(this._read=re.read),"function"==typeof re.destroy&&(this._destroy=re.destroy)),T.call(this)}function d(re,Q,K,te,oe){u("readableAddChunk",Q);var ue,he,me,ke,Pe,fe=re._readableState;if(null===Q)fe.reading=!1,function(he,me){if(u("onEofChunk"),!me.ended){if(me.decoder){var ke=me.decoder.end();ke&&ke.length&&(me.buffer.push(ke),me.length+=me.objectMode?1:ke.length)}me.ended=!0,me.sync?L(he):(me.needReadable=!1,me.emittedReadable||(me.emittedReadable=!0,P(he)))}}(re,fe);else if(oe||(he=fe,m.isBuffer(Pe=me=Q)||Pe instanceof l||"string"==typeof me||void 0===me||he.objectMode||(ke=new f("chunk",["string","Buffer","Uint8Array"],me)),ue=ke),ue)_(re,ue);else if(fe.objectMode||Q&&Q.length>0)if("string"==typeof Q||fe.objectMode||Object.getPrototypeOf(Q)===m.prototype||(Q=function(he){return m.from(he)}(Q)),te)fe.endEmitted?_(re,new h):E(re,fe,Q,!0);else if(fe.ended)_(re,new w);else{if(fe.destroyed)return!1;fe.reading=!1,fe.decoder&&!K?(Q=fe.decoder.write(Q),fe.objectMode||0!==Q.length?E(re,fe,Q,!1):R(re,fe)):E(re,fe,Q,!1)}else te||(fe.reading=!1,R(re,fe));return!fe.ended&&(fe.length<fe.highWaterMark||0===fe.length)}function E(re,Q,K,te){Q.flowing&&0===Q.length&&!Q.sync?(Q.awaitDrain=0,re.emit("data",K)):(Q.length+=Q.objectMode?1:K.length,te?Q.buffer.unshift(K):Q.buffer.push(K),Q.needReadable&&L(re)),R(re,Q)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),M.prototype.destroy=s.destroy,M.prototype._undestroy=s.undestroy,M.prototype._destroy=function(re,Q){Q(re)},M.prototype.push=function(re,Q){var K,te=this._readableState;return te.objectMode?K=!0:"string"==typeof re&&((Q=Q||te.defaultEncoding)!==te.encoding&&(re=m.from(re,Q),Q=""),K=!0),d(this,re,Q,!1,K)},M.prototype.unshift=function(re){return d(this,re,null,!0,!1)},M.prototype.isPaused=function(){return!1===this._readableState.flowing},M.prototype.setEncoding=function(re){o||(o=e(68019).s);var Q=new o(re);this._readableState.decoder=Q,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,te="";null!==K;)te+=Q.write(K.data),K=K.next;return this._readableState.buffer.clear(),""!==te&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};var k=1073741824;function I(re,Q){return re<=0||0===Q.length&&Q.ended?0:Q.objectMode?1:re!=re?Q.flowing&&Q.length?Q.buffer.head.data.length:Q.length:(re>Q.highWaterMark&&(Q.highWaterMark=((K=re)>=k?K=k:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K)),re<=Q.length?re:Q.ended?Q.length:(Q.needReadable=!0,0));var K}function L(re){var Q=re._readableState;u("emitReadable",Q.needReadable,Q.emittedReadable),Q.needReadable=!1,Q.emittedReadable||(u("emitReadable",Q.flowing),Q.emittedReadable=!0,S.nextTick(P,re))}function P(re){var Q=re._readableState;u("emitReadable_",Q.destroyed,Q.length,Q.ended),Q.destroyed||!Q.length&&!Q.ended||(re.emit("readable"),Q.emittedReadable=!1),Q.needReadable=!Q.flowing&&!Q.ended&&Q.length<=Q.highWaterMark,H(re)}function R(re,Q){Q.readingMore||(Q.readingMore=!0,S.nextTick(z,re,Q))}function z(re,Q){for(;!Q.reading&&!Q.ended&&(Q.length<Q.highWaterMark||Q.flowing&&0===Q.length);){var K=Q.length;if(u("maybeReadMore read 0"),re.read(0),K===Q.length)break}Q.readingMore=!1}function $(re){var Q=re._readableState;Q.readableListening=re.listenerCount("readable")>0,Q.resumeScheduled&&!Q.paused?Q.flowing=!0:re.listenerCount("data")>0&&re.resume()}function N(re){u("readable nexttick read 0"),re.read(0)}function W(re,Q){u("resume",Q.reading),Q.reading||re.read(0),Q.resumeScheduled=!1,re.emit("resume"),H(re),Q.flowing&&!Q.reading&&re.read(0)}function H(re){var Q=re._readableState;for(u("flow",Q.flowing);Q.flowing&&null!==re.read(););}function U(re,Q){return 0===Q.length?null:(Q.objectMode?K=Q.buffer.shift():!re||re>=Q.length?(K=Q.decoder?Q.buffer.join(""):1===Q.buffer.length?Q.buffer.first():Q.buffer.concat(Q.length),Q.buffer.clear()):K=Q.buffer.consume(re,Q.decoder),K);var K}function Z(re){var Q=re._readableState;u("endReadable",Q.endEmitted),Q.endEmitted||(Q.ended=!0,S.nextTick(Y,Q,re))}function Y(re,Q){if(u("endReadableNT",re.endEmitted,re.length),!re.endEmitted&&0===re.length&&(re.endEmitted=!0,Q.readable=!1,Q.emit("end"),re.autoDestroy)){var K=Q._writableState;(!K||K.autoDestroy&&K.finished)&&Q.destroy()}}function ae(re,Q){for(var K=0,te=re.length;K<te;K++)if(re[K]===Q)return K;return-1}M.prototype.read=function(re){u("read",re),re=parseInt(re,10);var Q=this._readableState,K=re;if(0!==re&&(Q.emittedReadable=!1),0===re&&Q.needReadable&&((0!==Q.highWaterMark?Q.length>=Q.highWaterMark:Q.length>0)||Q.ended))return u("read: emitReadable",Q.length,Q.ended),0===Q.length&&Q.ended?Z(this):L(this),null;if(0===(re=I(re,Q))&&Q.ended)return 0===Q.length&&Z(this),null;var te,oe=Q.needReadable;return u("need readable",oe),(0===Q.length||Q.length-re<Q.highWaterMark)&&u("length less than watermark",oe=!0),Q.ended||Q.reading?u("reading or ended",oe=!1):oe&&(u("do read"),Q.reading=!0,Q.sync=!0,0===Q.length&&(Q.needReadable=!0),this._read(Q.highWaterMark),Q.sync=!1,Q.reading||(re=I(K,Q))),null===(te=re>0?U(re,Q):null)?(Q.needReadable=Q.length<=Q.highWaterMark,re=0):(Q.length-=re,Q.awaitDrain=0),0===Q.length&&(Q.ended||(Q.needReadable=!0),K!==re&&Q.ended&&Z(this)),null!==te&&this.emit("data",te),te},M.prototype._read=function(re){_(this,new v("_read()"))},M.prototype.pipe=function(re,Q){var K=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=re;break;case 1:te.pipes=[te.pipes,re];break;default:te.pipes.push(re)}te.pipesCount+=1,u("pipe count=%d opts=%j",te.pipesCount,Q);var oe=Q&&!1===Q.end||re===S.stdout||re===S.stderr?be:ue;function ue(){u("onend"),re.end()}te.endEmitted?S.nextTick(oe):K.once("end",oe),re.on("unpipe",function xe(Ne,Se){u("onunpipe"),Ne===K&&Se&&!1===Se.hasUnpiped&&(Se.hasUnpiped=!0,u("cleanup"),re.removeListener("close",Pe),re.removeListener("finish",Te),re.removeListener("drain",fe),re.removeListener("error",ke),re.removeListener("unpipe",xe),K.removeListener("end",ue),K.removeListener("end",be),K.removeListener("data",me),he=!0,!te.awaitDrain||re._writableState&&!re._writableState.needDrain||fe())});var xe,fe=(xe=K,function(){var Ne=xe._readableState;u("pipeOnDrain",Ne.awaitDrain),Ne.awaitDrain&&Ne.awaitDrain--,0===Ne.awaitDrain&&A(xe,"data")&&(Ne.flowing=!0,H(xe))});re.on("drain",fe);var he=!1;function me(xe){u("ondata");var Ne=re.write(xe);u("dest.write",Ne),!1===Ne&&((1===te.pipesCount&&te.pipes===re||te.pipesCount>1&&-1!==ae(te.pipes,re))&&!he&&(u("false write response, pause",te.awaitDrain),te.awaitDrain++),K.pause())}function ke(xe){u("onerror",xe),be(),re.removeListener("error",ke),0===A(re,"error")&&_(re,xe)}function Pe(){re.removeListener("finish",Te),be()}function Te(){u("onfinish"),re.removeListener("close",Pe),be()}function be(){u("unpipe"),K.unpipe(re)}return K.on("data",me),function(xe,Ne,Se){if("function"==typeof xe.prependListener)return xe.prependListener(Ne,Se);xe._events&&xe._events[Ne]?Array.isArray(xe._events[Ne])?xe._events[Ne].unshift(Se):xe._events[Ne]=[Se,xe._events[Ne]]:xe.on(Ne,Se)}(re,"error",ke),re.once("close",Pe),re.once("finish",Te),re.emit("pipe",K),te.flowing||(u("pipe resume"),K.resume()),re},M.prototype.unpipe=function(re){var Q=this._readableState,K={hasUnpiped:!1};if(0===Q.pipesCount)return this;if(1===Q.pipesCount)return re&&re!==Q.pipes||(re||(re=Q.pipes),Q.pipes=null,Q.pipesCount=0,Q.flowing=!1,re&&re.emit("unpipe",this,K)),this;if(!re){var te=Q.pipes,oe=Q.pipesCount;Q.pipes=null,Q.pipesCount=0,Q.flowing=!1;for(var ue=0;ue<oe;ue++)te[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=ae(Q.pipes,re);return-1===fe||(Q.pipes.splice(fe,1),Q.pipesCount-=1,1===Q.pipesCount&&(Q.pipes=Q.pipes[0]),re.emit("unpipe",this,K)),this},M.prototype.addListener=M.prototype.on=function(re,Q){var K=T.prototype.on.call(this,re,Q),te=this._readableState;return"data"===re?(te.readableListening=this.listenerCount("readable")>0,!1!==te.flowing&&this.resume()):"readable"===re&&(te.endEmitted||te.readableListening||(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,u("on readable",te.length,te.reading),te.length?L(this):te.reading||S.nextTick(N,this))),K},M.prototype.removeListener=function(re,Q){var K=T.prototype.removeListener.call(this,re,Q);return"readable"===re&&S.nextTick($,this),K},M.prototype.removeAllListeners=function(re){var Q=T.prototype.removeAllListeners.apply(this,arguments);return"readable"!==re&&void 0!==re||S.nextTick($,this),Q},M.prototype.resume=function(){var K,re=this._readableState;return re.flowing||(u("resume"),re.flowing=!re.readableListening,this,(K=re).resumeScheduled||(K.resumeScheduled=!0,S.nextTick(W,this,K))),re.paused=!1,this},M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},M.prototype.wrap=function(re){var Q=this,K=this._readableState,te=!1;for(var oe in re.on("end",function(){if(u("wrapped end"),K.decoder&&!K.ended){var fe=K.decoder.end();fe&&fe.length&&Q.push(fe)}Q.push(null)}),re.on("data",function(fe){u("wrapped data"),K.decoder&&(fe=K.decoder.write(fe)),K.objectMode&&null==fe||(K.objectMode||fe&&fe.length)&&(Q.push(fe)||(te=!0,re.pause()))}),re)void 0===this[oe]&&"function"==typeof re[oe]&&(this[oe]=function(fe){return function(){return re[fe].apply(re,arguments)}}(oe));for(var ue=0;ue<x.length;ue++)re.on(x[ue],this.emit.bind(this,x[ue]));return this._read=function(fe){u("wrapped _read",fe),te&&(te=!1,re.resume())},this},"function"==typeof Symbol&&(M.prototype[Symbol.asyncIterator]=function(){return void 0===r&&(r=e(68221)),r(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),M._fromList=U,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(M.from=function(re,Q){return void 0===n&&(n=e(31748)),n(M,re,Q)})},74308:function(ie,B,e){"use strict";ie.exports=t;var C=e(74322).q,S=C.ERR_METHOD_NOT_IMPLEMENTED,u=C.ERR_MULTIPLE_CALLBACK,A=C.ERR_TRANSFORM_ALREADY_TRANSFORMING,T=C.ERR_TRANSFORM_WITH_LENGTH_0,m=e(37865);function l(n,a){var s=this._transformState;s.transforming=!1;var c=s.writecb;if(null===c)return this.emit("error",new u);s.writechunk=null,s.writecb=null,null!=a&&this.push(a),c(n);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);m.call(this,n),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&("function"==typeof n.transform&&(this._transform=n.transform),"function"==typeof n.flush&&(this._flush=n.flush)),this.on("prefinish",o)}function o(){var n=this;"function"!=typeof this._flush||this._readableState.destroyed?r(this,null,null):this._flush(function(a,s){r(n,a,s)})}function r(n,a,s){if(a)return n.emit("error",a);if(null!=s&&n.push(s),n._writableState.length)throw new T;if(n._transformState.transforming)throw new A;return n.push(null)}e(42018)(t,m),t.prototype.push=function(n,a){return this._transformState.needTransform=!1,m.prototype.push.call(this,n,a)},t.prototype._transform=function(n,a,s){s(new S("_transform()"))},t.prototype._write=function(n,a,s){var c=this._transformState;if(c.writecb=s,c.writechunk=n,c.writeencoding=a,!c.transforming){var p=this._readableState;(c.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},t.prototype._read=function(n){var a=this._transformState;null===a.writechunk||a.transforming?a.needTransform=!0:(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform))},t.prototype._destroy=function(n,a){m.prototype._destroy.call(this,n,function(s){a(s)})}},37493:function(ie,B,e){"use strict";var C,S=e(90386);function u(R){var z=this;this.next=null,this.entry=null,this.finish=function(){!function($,N,W){var H=$.entry;for($.entry=null;H;){var U=H.callback;N.pendingcb--,U(void 0),H=H.next}N.corkedRequestsFree.next=$}(z,R)}}ie.exports=M,M.WritableState=b;var A,T={deprecate:e(20588)},m=e(71405),l=e(12856).Buffer,t=e.g.Uint8Array||function(){},o=e(65756),r=e(56306).getHighWaterMark,n=e(74322).q,a=n.ERR_INVALID_ARG_TYPE,s=n.ERR_METHOD_NOT_IMPLEMENTED,c=n.ERR_MULTIPLE_CALLBACK,p=n.ERR_STREAM_CANNOT_PIPE,f=n.ERR_STREAM_DESTROYED,w=n.ERR_STREAM_NULL_VALUES,v=n.ERR_STREAM_WRITE_AFTER_END,h=n.ERR_UNKNOWN_ENCODING,_=o.errorOrDestroy;function x(){}function b(R,z,$){C=C||e(37865),"boolean"!=typeof $&&($=z instanceof C),this.objectMode=!!(R=R||{}).objectMode,$&&(this.objectMode=this.objectMode||!!R.writableObjectMode),this.highWaterMark=r(this,R,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===R.decodeStrings),this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){!function(H,U){var Q,Z=H._writableState,Y=Z.sync,ae=Z.writecb;if("function"!=typeof ae)throw new c;if((Q=Z).writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,U)!function(Q,K,te,oe,ue){--K.pendingcb,te?(S.nextTick(ue,oe),S.nextTick(P,Q,K),Q._writableState.errorEmitted=!0,_(Q,oe)):(ue(oe),Q._writableState.errorEmitted=!0,_(Q,oe),P(Q,K))}(H,Z,Y,U,ae);else{var re=I(Z)||H.destroyed;re||Z.corked||Z.bufferProcessing||!Z.bufferedRequest||k(H,Z),Y?S.nextTick(E,H,Z,re,ae):E(H,Z,re,ae)}}(z,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==R.emitClose,this.autoDestroy=!!R.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function M(R){var z=this instanceof(C=C||e(37865));if(!z&&!A.call(M,this))return new M(R);this._writableState=new b(R,this,z),this.writable=!0,R&&("function"==typeof R.write&&(this._write=R.write),"function"==typeof R.writev&&(this._writev=R.writev),"function"==typeof R.destroy&&(this._destroy=R.destroy),"function"==typeof R.final&&(this._final=R.final)),m.call(this)}function d(R,z,$,N,W,H,U){z.writelen=N,z.writecb=U,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new f("write")):$?R._writev(W,z.onwrite):R._write(W,H,z.onwrite),z.sync=!1}function E(R,z,$,N){var W,H;$||(W=R,0===(H=z).length&&H.needDrain&&(H.needDrain=!1,W.emit("drain"))),z.pendingcb--,N(),P(R,z)}function k(R,z){z.bufferProcessing=!0;var $=z.bufferedRequest;if(R._writev&&$&&$.next){var W=new Array(z.bufferedRequestCount),H=z.corkedRequestsFree;H.entry=$;for(var U=0,Z=!0;$;)W[U]=$,$.isBuf||(Z=!1),$=$.next,U+=1;W.allBuffers=Z,d(R,z,!0,z.length,W,"",H.finish),z.pendingcb++,z.lastBufferedRequest=null,H.next?(z.corkedRequestsFree=H.next,H.next=null):z.corkedRequestsFree=new u(z),z.bufferedRequestCount=0}else{for(;$;){var Y=$.chunk;if(d(R,z,!1,z.objectMode?1:Y.length,Y,$.encoding,$.callback),$=$.next,z.bufferedRequestCount--,z.writing)break}null===$&&(z.lastBufferedRequest=null)}z.bufferedRequest=$,z.bufferProcessing=!1}function I(R){return R.ending&&0===R.length&&null===R.bufferedRequest&&!R.finished&&!R.writing}function L(R,z){R._final(function($){z.pendingcb--,$&&_(R,$),z.prefinished=!0,R.emit("prefinish"),P(R,z)})}function P(R,z){var W,H,$=I(z);if($&&(W=R,(H=z).prefinished||H.finalCalled||("function"!=typeof W._final||H.destroyed?(H.prefinished=!0,W.emit("prefinish")):(H.pendingcb++,H.finalCalled=!0,S.nextTick(L,W,H))),0===z.pendingcb&&(z.finished=!0,R.emit("finish"),z.autoDestroy))){var N=R._readableState;(!N||N.autoDestroy&&N.endEmitted)&&R.destroy()}return $}e(42018)(M,m),b.prototype.getBuffer=function(){for(var R=this.bufferedRequest,z=[];R;)z.push(R),R=R.next;return z},function(){try{Object.defineProperty(b.prototype,"buffer",{get:T.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(R){return!!A.call(this,R)||this===M&&R&&R._writableState instanceof b}})):A=function(R){return R instanceof this},M.prototype.pipe=function(){_(this,new p)},M.prototype.write=function(R,z,$){var N,Z,Y,ae,W=this._writableState,H=!1,U=!W.objectMode&&(l.isBuffer(N=R)||N instanceof t);return U&&!l.isBuffer(R)&&(R=l.from(R)),"function"==typeof z&&($=z,z=null),U?z="buffer":z||(z=W.defaultEncoding),"function"!=typeof $&&($=x),W.ending?(Z=this,Y=$,ae=new v,_(Z,ae),S.nextTick(Y,ae)):(U||function(Z,Y,ae,re){var Q;return null===ae?Q=new w:"string"==typeof ae||Y.objectMode||(Q=new a("chunk",["string","Buffer"],ae)),!Q||(_(Z,Q),S.nextTick(re,Q),!1)}(this,W,R,$))&&(W.pendingcb++,H=function(Z,Y,ae,re,Q,K){if(!ae){var te=(me=re,(he=Y).objectMode||!1===he.decodeStrings||"string"!=typeof me||(me=l.from(me,Q)),me);re!==te&&(ae=!0,Q="buffer",re=te)}var he,me,oe=Y.objectMode?1:re.length;Y.length+=oe;var ue=Y.length<Y.highWaterMark;if(ue||(Y.needDrain=!0),Y.writing||Y.corked){var fe=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:re,encoding:Q,isBuf:ae,callback:K,next:null},fe?fe.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else d(Z,Y,!1,oe,re,Q,K);return ue}(this,W,U,R,z,$)),H},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,R.writing||R.corked||R.bufferProcessing||!R.bufferedRequest||k(this,R))},M.prototype.setDefaultEncoding=function(R){if("string"==typeof R&&(R=R.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((R+"").toLowerCase())>-1))throw new h(R);return this._writableState.defaultEncoding=R,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(R,z,$){$(new s("_write()"))},M.prototype._writev=null,M.prototype.end=function(R,z,$){var W,H,U,N=this._writableState;return"function"==typeof R?($=R,R=null,z=null):"function"==typeof z&&($=z,z=null),null!=R&&this.write(R,z),N.corked&&(N.corked=1,this.uncork()),N.ending||(W=this,U=$,(H=N).ending=!0,P(W,H),U&&(H.finished?S.nextTick(U):W.once("finish",U)),H.ended=!0,W.writable=!1),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),M.prototype.destroy=o.destroy,M.prototype._undestroy=o.undestroy,M.prototype._destroy=function(R,z){z(R)}},68221:function(ie,B,e){"use strict";var C,S=e(90386);function u(w,v,h){return v in w?Object.defineProperty(w,v,{value:h,enumerable:!0,configurable:!0,writable:!0}):w[v]=h,w}var A=e(12726),T=Symbol("lastResolve"),m=Symbol("lastReject"),l=Symbol("error"),t=Symbol("ended"),o=Symbol("lastPromise"),r=Symbol("handlePromise"),n=Symbol("stream");function a(w,v){return{value:w,done:v}}function s(w){var v=w[T];if(null!==v){var h=w[n].read();null!==h&&(w[o]=null,w[T]=null,w[m]=null,v(a(h,!1)))}}function c(w){S.nextTick(s,w)}var p=Object.getPrototypeOf(function(){}),f=Object.setPrototypeOf((u(C={get stream(){return this[n]},next:function(){var w=this,v=this[l];if(null!==v)return Promise.reject(v);if(this[t])return Promise.resolve(a(void 0,!0));if(this[n].destroyed)return new Promise(function(b,M){S.nextTick(function(){w[l]?M(w[l]):b(a(void 0,!0))})});var h,b,M,_=this[o];if(_)h=new Promise((b=_,M=this,function(d,E){b.then(function(){M[t]?d(a(void 0,!0)):M[r](d,E)},E)}));else{var x=this[n].read();if(null!==x)return Promise.resolve(a(x,!1));h=new Promise(this[r])}return this[o]=h,h}},Symbol.asyncIterator,function(){return this}),u(C,"return",function(){var w=this;return new Promise(function(v,h){w[n].destroy(null,function(_){_?h(_):v(a(void 0,!0))})})}),C),p);ie.exports=function(w){var v,h=Object.create(f,(u(v={},n,{value:w,writable:!0}),u(v,T,{value:null,writable:!0}),u(v,m,{value:null,writable:!0}),u(v,l,{value:null,writable:!0}),u(v,t,{value:w._readableState.endEmitted,writable:!0}),u(v,r,{value:function(_,x){var b=h[n].read();b?(h[o]=null,h[T]=null,h[m]=null,_(a(b,!1))):(h[T]=_,h[m]=x)},writable:!0}),v));return h[o]=null,A(w,function(_){if(_&&"ERR_STREAM_PREMATURE_CLOSE"!==_.code){var x=h[m];return null!==x&&(h[o]=null,h[T]=null,h[m]=null,x(_)),void(h[l]=_)}var b=h[T];null!==b&&(h[o]=null,h[T]=null,h[m]=null,b(a(void 0,!0))),h[t]=!0}),w.on("readable",c.bind(null,h)),h}},31125:function(ie,B,e){"use strict";function C(l,t){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable})),o.push.apply(o,r)}return o}function S(l,t,o){return t in l?Object.defineProperty(l,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[t]=o,l}var A=e(12856).Buffer,T=e(69862).inspect,m=T&&T.custom||"inspect";ie.exports=function(){function l(){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}var o;return o=[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(0!==this.length){var r=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(0===this.length)return"";for(var n=this.head,a=""+n.data;n=n.next;)a+=r+n.data;return a}},{key:"concat",value:function(r){if(0===this.length)return A.alloc(0);for(var c=A.allocUnsafe(r>>>0),p=this.head,f=0;p;)A.prototype.copy.call(p.data,c,f),f+=p.data.length,p=p.next;return c}},{key:"consume",value:function(r,n){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):a=r===this.head.data.length?this.shift():n?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,a=1,s=n.data;for(r-=s.length;n=n.next;){var c=n.data,p=r>c.length?c.length:r;if(s+=p===c.length?c:c.slice(0,r),0==(r-=p)){p===c.length?(++a,this.head=n.next?n.next:this.tail=null):(this.head=n,n.data=c.slice(p));break}++a}return this.length-=a,s}},{key:"_getBuffer",value:function(r){var n=A.allocUnsafe(r),a=this.head,s=1;for(a.data.copy(n),r-=a.data.length;a=a.next;){var c=a.data,p=r>c.length?c.length:r;if(c.copy(n,n.length-r,0,p),0==(r-=p)){p===c.length?(++s,this.head=a.next?a.next:this.tail=null):(this.head=a,a.data=c.slice(p));break}++s}return this.length-=s,n}},{key:m,value:function(r,n){return T(this,function(a){for(var s=1;s<arguments.length;s++){var c=null!=arguments[s]?arguments[s]:{};s%2?C(Object(c),!0).forEach(function(p){S(a,p,c[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):C(Object(c)).forEach(function(p){Object.defineProperty(a,p,Object.getOwnPropertyDescriptor(c,p))})}return a}({},n,{depth:0,customInspect:!1}))}}],o&&function u(l,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(l,r.key,r)}}(l.prototype,o),l}()},65756:function(ie,B,e){"use strict";var C=e(90386);function S(T,m){A(T,m),u(T)}function u(T){T._writableState&&!T._writableState.emitClose||T._readableState&&!T._readableState.emitClose||T.emit("close")}function A(T,m){T.emit("error",m)}ie.exports={destroy:function(T,m){var l=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(m?m(T):T&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,C.nextTick(A,this,T)):C.nextTick(A,this,T)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(T||null,function(r){!m&&r?l._writableState?l._writableState.errorEmitted?C.nextTick(u,l):(l._writableState.errorEmitted=!0,C.nextTick(S,l,r)):C.nextTick(S,l,r):m?(C.nextTick(u,l),m(r)):C.nextTick(u,l)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(T,m){var l=T._readableState,t=T._writableState;l&&l.autoDestroy||t&&t.autoDestroy?T.destroy(m):T.emit("error",m)}}},12726:function(ie,B,e){"use strict";var C=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function S(){}ie.exports=function u(A,T,m){if("function"==typeof T)return u(A,null,T);var w,v;T||(T={}),w=m||S,v=!1,m=function(){if(!v){v=!0;for(var h=arguments.length,_=new Array(h),x=0;x<h;x++)_[x]=arguments[x];w.apply(this,_)}};var l=T.readable||!1!==T.readable&&A.readable,t=T.writable||!1!==T.writable&&A.writable,o=function(){A.writable||n()},r=A._writableState&&A._writableState.finished,n=function(){t=!1,r=!0,l||m.call(A)},a=A._readableState&&A._readableState.endEmitted,s=function(){l=!1,a=!0,t||m.call(A)},c=function(w){m.call(A,w)},p=function(){var w;return l&&!a?(A._readableState&&A._readableState.ended||(w=new C),m.call(A,w)):t&&!r?(A._writableState&&A._writableState.ended||(w=new C),m.call(A,w)):void 0},f=function(){A.req.on("finish",n)};return function(w){return w.setHeader&&"function"==typeof w.abort}(A)?(A.on("complete",n),A.on("abort",p),A.req?f():A.on("request",f)):t&&!A._writableState&&(A.on("end",o),A.on("close",o)),A.on("end",s),A.on("finish",n),!1!==T.error&&A.on("error",c),A.on("close",p),function(){A.removeListener("complete",n),A.removeListener("abort",p),A.removeListener("request",f),A.req&&A.req.removeListener("finish",n),A.removeListener("end",o),A.removeListener("close",o),A.removeListener("finish",n),A.removeListener("end",s),A.removeListener("error",c),A.removeListener("close",p)}}},31748:function(ie){ie.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(ie,B,e){"use strict";var C,S=e(74322).q,u=S.ERR_MISSING_ARGS,A=S.ERR_STREAM_DESTROYED;function T(t){if(t)throw t}function m(t){t()}function l(t,o){return t.pipe(o)}ie.exports=function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];var n,c,a=(c=o).length?"function"!=typeof c[c.length-1]?T:c.pop():T;if(Array.isArray(o[0])&&(o=o[0]),o.length<2)throw new u("streams");var s=o.map(function(c,p){var f=p<o.length-1;return function(w,v,h,_){var M,d;M=_,d=!1,_=function(){d||(d=!0,M.apply(void 0,arguments))};var x=!1;w.on("close",function(){x=!0}),void 0===C&&(C=e(12726)),C(w,{readable:v,writable:h},function(M){if(M)return _(M);x=!0,_()});var b=!1;return function(M){if(!x&&!b)return b=!0,function(d){return d.setHeader&&"function"==typeof d.abort}(w)?w.abort():"function"==typeof w.destroy?w.destroy():void _(M||new A("pipe"))}}(c,f,p>0,function(w){n||(n=w),w&&s.forEach(m),f||(s.forEach(m),a(n))})});return o.reduce(l)}},56306:function(ie,B,e){"use strict";var C=e(74322).q.ERR_INVALID_OPT_VALUE;ie.exports={getHighWaterMark:function(S,u,A,T){var l,m=null!=(l=u).highWaterMark?l.highWaterMark:T?l[A]:null;if(null!=m){if(!isFinite(m)||Math.floor(m)!==m||m<0)throw new C(T?A:"highWaterMark",m);return Math.floor(m)}return S.objectMode?16:16384}}},71405:function(ie,B,e){ie.exports=e(15398).EventEmitter},68019:function(ie,B,e){"use strict";var C=e(71665).Buffer,S=C.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(a){var s;switch(this.encoding=function(c){var p=function(f){if(!f)return"utf8";for(var w;;)switch(f){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return f;default:if(w)return;f=(""+f).toLowerCase(),w=!0}}(c);if("string"!=typeof p&&(C.isEncoding===S||!S(c)))throw new Error("Unknown encoding: "+c);return p||c}(a),this.encoding){case"utf16le":this.text=m,this.end=l,s=4;break;case"utf8":this.fillLast=T,s=4;break;case"base64":this.text=t,this.end=o,s=3;break;default:return this.write=r,void(this.end=n)}this.lastNeed=0,this.lastTotal=0,this.lastChar=C.allocUnsafe(s)}function A(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:a>>6==2?-1:-2}function T(a){var s=this.lastTotal-this.lastNeed,c=function(p,f,w){if(128!=(192&f[0]))return p.lastNeed=0,"\ufffd";if(p.lastNeed>1&&f.length>1){if(128!=(192&f[1]))return p.lastNeed=1,"\ufffd";if(p.lastNeed>2&&f.length>2&&128!=(192&f[2]))return p.lastNeed=2,"\ufffd"}}(this,a);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,s,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,s,0,a.length),void(this.lastNeed-=a.length))}function m(a,s){if((a.length-s)%2==0){var c=a.toString("utf16le",s);if(c){var p=c.charCodeAt(c.length-1);if(p>=55296&&p<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",s,a.length-1)}function l(a){var s=a&&a.length?this.write(a):"";return this.lastNeed?s+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):s}function t(a,s){var c=(a.length-s)%3;return 0===c?a.toString("base64",s):(this.lastNeed=3-c,this.lastTotal=3,1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",s,a.length-c))}function o(a){var s=a&&a.length?this.write(a):"";return this.lastNeed?s+this.lastChar.toString("base64",0,3-this.lastNeed):s}function r(a){return a.toString(this.encoding)}function n(a){return a&&a.length?this.write(a):""}B.s=u,u.prototype.write=function(a){if(0===a.length)return"";var s,c;if(this.lastNeed){if(void 0===(s=this.fillLast(a)))return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<a.length?s?s+this.text(a,c):this.text(a,c):s||""},u.prototype.end=function(a){var s=a&&a.length?this.write(a):"";return this.lastNeed?s+"\ufffd":s},u.prototype.text=function(a,s){var c=function(f,w,v){var h=w.length-1;if(h<v)return 0;var _=A(w[h]);return _>=0?(_>0&&(f.lastNeed=_-1),_):--h<v||-2===_?0:(_=A(w[h]))>=0?(_>0&&(f.lastNeed=_-2),_):--h<v||-2===_?0:(_=A(w[h]))>=0?(_>0&&(2===_?_=0:f.lastNeed=_-3),_):0}(this,a,s);if(!this.lastNeed)return a.toString("utf8",s);this.lastTotal=c;var p=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,p),a.toString("utf8",s,p)},u.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},90715:function(ie,B,e){var C=e(32791),S=e(41633)("stream-parser");ie.exports=function(f){var w=f&&"function"==typeof f._transform;if(!(w||f&&"function"==typeof f._write))throw new Error("must pass a Writable or Transform stream in");S("extending Parser into stream"),f._bytes=t,f._skipBytes=o,w&&(f._passthrough=r),w?f._transform=a:f._write=n};var u=-1,A=0,T=1,m=2;function l(f){S("initializing parser stream"),f._parserBytesLeft=0,f._parserBuffers=[],f._parserBuffered=0,f._parserState=u,f._parserCallback=null,"function"==typeof f.push&&(f._parserOutput=f.push.bind(f)),f._parserInit=!0}function t(f,w){C(!this._parserCallback,'there is already a "callback" set!'),C(isFinite(f)&&f>0,'can only buffer a finite number of bytes > 0, got "'+f+'"'),this._parserInit||l(this),S("buffering %o bytes",f),this._parserBytesLeft=f,this._parserCallback=w,this._parserState=A}function o(f,w){C(!this._parserCallback,'there is already a "callback" set!'),C(f>0,'can only skip > 0 bytes, got "'+f+'"'),this._parserInit||l(this),S("skipping %o bytes",f),this._parserBytesLeft=f,this._parserCallback=w,this._parserState=T}function r(f,w){C(!this._parserCallback,'There is already a "callback" set!'),C(f>0,'can only pass through > 0 bytes, got "'+f+'"'),this._parserInit||l(this),S("passing through %o bytes",f),this._parserBytesLeft=f,this._parserCallback=w,this._parserState=m}function n(f,w,v){this._parserInit||l(this),S("write(%o bytes)",f.length),"function"==typeof w&&(v=w),c(this,f,null,v)}function a(f,w,v){this._parserInit||l(this),S("transform(%o bytes)",f.length),"function"!=typeof w&&(w=this._parserOutput),c(this,f,w,v)}function s(f,w,v,h){if(f._parserBytesLeft-=w.length,S("%o bytes left for stream piece",f._parserBytesLeft),f._parserState===A?(f._parserBuffers.push(w),f._parserBuffered+=w.length):f._parserState===m&&v(w),0!==f._parserBytesLeft)return h;var _=f._parserCallback;if(_&&f._parserState===A&&f._parserBuffers.length>1&&(w=Buffer.concat(f._parserBuffers,f._parserBuffered)),f._parserState!==A&&(w=null),f._parserCallback=null,f._parserBuffered=0,f._parserState=u,f._parserBuffers.splice(0),_){var x=[];w&&x.push(w),v&&x.push(v);var b=_.length>x.length;b&&x.push(p(h));var M=_.apply(f,x);if(!b||h===M)return h}}var c=p(function f(w,v,h,_){return w._parserBytesLeft<=0?_(new Error("got data but not currently parsing anything")):v.length<=w._parserBytesLeft?function(){return s(w,v,h,_)}:function(){var x=v.slice(0,w._parserBytesLeft);return s(w,x,h,function(b){return b?_(b):v.length>x.length?function(){return f(w,v.slice(x.length),h,_)}:void 0})}});function p(f){return function(){for(var w=f.apply(this,arguments);"function"==typeof w;)w=w();return w}}},41633:function(ie,B,e){var C=e(90386);function S(){var u;try{u=B.storage.debug}catch{}return!u&&void 0!==C&&"env"in C&&(u=C.env.DEBUG),u}(B=ie.exports=e(74469)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},B.formatArgs=function(u){var A=this.useColors;if(u[0]=(A?"%c":"")+this.namespace+(A?" %c":" ")+u[0]+(A?"%c ":" ")+"+"+B.humanize(this.diff),A){var T="color: "+this.color;u.splice(1,0,T,"color: inherit");var m=0,l=0;u[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(m++,"%c"===t&&(l=m))}),u.splice(l,0,T)}},B.save=function(u){try{null==u?B.storage.removeItem("debug"):B.storage.debug=u}catch{}},B.load=S,B.useColors=function(){return!(typeof window>"u"||!window.process||"renderer"!==window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},B.storage=typeof chrome<"u"&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),B.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],B.formatters.j=function(u){try{return JSON.stringify(u)}catch(A){return"[UnexpectedJSONParseError]: "+A.message}},B.enable(S())},74469:function(ie,B,e){var C;function S(u){function A(){if(A.enabled){var T=A,m=+new Date;T.diff=m-(C||m),T.prev=C,T.curr=m,C=m;for(var t=new Array(arguments.length),o=0;o<t.length;o++)t[o]=arguments[o];t[0]=B.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var r=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(n,a){if("%%"===n)return n;r++;var s=B.formatters[a];return"function"==typeof s&&(n=s.call(T,t[r]),t.splice(r,1),r--),n}),B.formatArgs.call(T,t),(A.log||B.log||console.log.bind(console)).apply(T,t)}}return A.namespace=u,A.enabled=B.enabled(u),A.useColors=B.useColors(),A.color=function(T){var m,l=0;for(m in T)l=(l<<5)-l+T.charCodeAt(m),l|=0;return B.colors[Math.abs(l)%B.colors.length]}(u),"function"==typeof B.init&&B.init(A),A}(B=ie.exports=S.debug=S.default=S).coerce=function(u){return u instanceof Error?u.stack||u.message:u},B.disable=function(){B.enable("")},B.enable=function(u){B.save(u),B.names=[],B.skips=[];for(var A=("string"==typeof u?u:"").split(/[\s,]+/),T=A.length,m=0;m<T;m++)A[m]&&("-"===(u=A[m].replace(/\*/g,".*?"))[0]?B.skips.push(new RegExp("^"+u.substr(1)+"$")):B.names.push(new RegExp("^"+u+"$")))},B.enabled=function(u){var A,T;for(A=0,T=B.skips.length;A<T;A++)if(B.skips[A].test(u))return!1;for(A=0,T=B.names.length;A<T;A++)if(B.names[A].test(u))return!0;return!1},B.humanize=e(11375),B.names=[],B.skips=[],B.formatters={}},11375:function(ie){var B=1e3,e=60*B,C=60*e,S=24*C;function u(A,T,m){if(!(A<T))return A<1.5*T?Math.floor(A/T)+" "+m:Math.ceil(A/T)+" "+m+"s"}ie.exports=function(A,T){T=T||{};var m,t,l=typeof A;if("string"===l&&A.length>0)return function(t){if(!((t=String(t)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(o){var r=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*S;case"hours":case"hour":case"hrs":case"hr":case"h":return r*C;case"minutes":case"minute":case"mins":case"min":case"m":return r*e;case"seconds":case"second":case"secs":case"sec":case"s":return r*B;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(A);if("number"===l&&!1===isNaN(A))return T.long?u(m=A,S,"day")||u(m,C,"hour")||u(m,e,"minute")||u(m,B,"second")||m+" ms":(t=A)>=S?Math.round(t/S)+"d":t>=C?Math.round(t/C)+"h":t>=e?Math.round(t/e)+"m":t>=B?Math.round(t/B)+"s":t+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(A))}},99011:function(ie,B,e){"use strict";var C=e(88641);ie.exports=function(S,u,A){if(null==S)throw Error("First argument should be a string");if(null==u)throw Error("Separator should be a string or a RegExp");A?("string"==typeof A||Array.isArray(A))&&(A={ignore:A}):A={},null==A.escape&&(A.escape=!0),null==A.ignore?A.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof A.ignore&&(A.ignore=[A.ignore]),A.ignore=A.ignore.map(function(n){return 1===n.length&&(n+=n),n}));var T=C.parse(S,{flat:!0,brackets:A.ignore}),m=T[0].split(u);if(A.escape){for(var l=[],t=0;t<m.length;t++){var o=m[t];"\\"===o[o.length-1]&&"\\"!==o[o.length-2]?(l.push(o+u+m[t+1]),t++):l.push(o)}m=l}for(t=0;t<m.length;t++)T[0]=m[t],m[t]=C.stringify(T,{flat:!0});return m}},68664:function(ie){"use strict";ie.exports=function(B){for(var e=B.length,C=new Array(e),S=new Array(e),u=new Array(e),A=new Array(e),T=new Array(e),m=new Array(e),l=0;l<e;++l)C[l]=-1,S[l]=0,u[l]=!1,A[l]=0,T[l]=-1,m[l]=[];var t,o=0,r=[],n=[];function a(p){var f=[p],w=[p];for(C[p]=S[p]=o,u[p]=!0,o+=1;w.length>0;){var v=B[p=w[w.length-1]];if(A[p]<v.length){for(var h=A[p];h<v.length;++h){var _=v[h];if(C[_]<0){C[_]=S[_]=o,u[_]=!0,o+=1,f.push(_),w.push(_);break}u[_]&&(S[p]=0|Math.min(S[p],S[_])),T[_]>=0&&m[p].push(T[_])}A[p]=h}else{if(S[p]===C[p]){var x=[],b=[],M=0;for(h=f.length-1;h>=0;--h){var d=f[h];if(u[d]=!1,x.push(d),b.push(m[d]),M+=m[d].length,T[d]=r.length,d===p){f.length=h;break}}r.push(x);var E=new Array(M);for(h=0;h<b.length;h++)for(var k=0;k<b[h].length;k++)E[--M]=b[h][k];n.push(E)}w.pop()}}}for(l=0;l<e;++l)C[l]<0&&a(l);for(l=0;l<n.length;l++){var s=n[l];if(0!==s.length){s.sort(function(p,f){return p-f}),t=[s[0]];for(var c=1;c<s.length;c++)s[c]!==s[c-1]&&t.push(s[c]);n[l]=t}}return{components:r,adjacencyList:n}}},7095:function(ie,B,e){"use strict";e.r(B);var C=2*Math.PI,S=function(T,m,l,t,o,r,n){var a=T.x,s=T.y;return{x:t*(a*=m)-o*(s*=l)+r,y:o*a+t*s+n}},u=function(T,m){var l=1.5707963267948966===m?.551915024494:-1.5707963267948966===m?-.551915024494:1.3333333333333333*Math.tan(m/4),t=Math.cos(T),o=Math.sin(T),r=Math.cos(T+m),n=Math.sin(T+m);return[{x:t-o*l,y:o+t*l},{x:r+n*l,y:n-r*l},{x:r,y:n}]},A=function(T,m,l,t){var o=T*l+m*t;return o>1&&(o=1),o<-1&&(o=-1),(T*t-m*l<0?-1:1)*Math.acos(o)};B.default=function(T){var m=T.px,l=T.py,t=T.cx,o=T.cy,r=T.rx,n=T.ry,a=T.xAxisRotation,s=void 0===a?0:a,c=T.largeArcFlag,p=void 0===c?0:c,f=T.sweepFlag,w=void 0===f?0:f,v=[];if(0===r||0===n)return[];var h=Math.sin(s*C/360),_=Math.cos(s*C/360),x=_*(m-t)/2+h*(l-o)/2,b=-h*(m-t)/2+_*(l-o)/2;if(0===x&&0===b)return[];r=Math.abs(r),n=Math.abs(n);var M=Math.pow(x,2)/Math.pow(r,2)+Math.pow(b,2)/Math.pow(n,2);M>1&&(r*=Math.sqrt(M),n*=Math.sqrt(M));var E=function(N,W){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return function(H,U){var Z=[],Y=!0,ae=!1,re=void 0;try{for(var Q,K=H[Symbol.iterator]();!(Y=(Q=K.next()).done)&&(Z.push(Q.value),4!==Z.length);Y=!0);}catch(te){ae=!0,re=te}finally{try{!Y&&K.return&&K.return()}finally{if(ae)throw re}}return Z}(N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(N,W,H,U,Z,Y,ae,re,Q,K,te,oe){var ue=Math.pow(Z,2),fe=Math.pow(Y,2),he=Math.pow(te,2),me=Math.pow(oe,2),ke=ue*fe-ue*me-fe*he;ke<0&&(ke=0),ke/=ue*me+fe*he;var Pe=(ke=Math.sqrt(ke)*(ae===re?-1:1))*Z/Y*oe,Te=ke*-Y/Z*te,be=K*Pe-Q*Te+(N+H)/2,xe=Q*Pe+K*Te+(W+U)/2,Ne=(te-Pe)/Z,Se=(oe-Te)/Y,Ce=(-te-Pe)/Z,pe=(-oe-Te)/Y,de=A(1,0,Ne,Se),se=A(Ne,Se,Ce,pe);return 0===re&&se>0&&(se-=C),1===re&&se<0&&(se+=C),[be,xe,de,se]}(m,l,t,o,r,n,p,w,h,_,x,b)),k=E[0],I=E[1],L=E[2],P=E[3],R=Math.abs(P)/(C/4);Math.abs(1-R)<1e-7&&(R=1);var z=Math.max(Math.ceil(R),1);P/=z;for(var $=0;$<z;$++)v.push(u(L,P)),L+=P;return v.map(function(N){var W=S(N[0],r,n,_,h,k,I),H=W.x,U=W.y,Z=S(N[1],r,n,_,h,k,I),Y=Z.x,ae=Z.y,re=S(N[2],r,n,_,h,k,I);return{x1:H,y1:U,x2:Y,y2:ae,x:re.x,y:re.y}})}},1750:function(ie,B,e){"use strict";var C=e(95616),S=e(65185),u=e(29988),A=e(89546),T=e(32791);ie.exports=function(m){if(Array.isArray(m)&&1===m.length&&"string"==typeof m[0]&&(m=m[0]),"string"==typeof m&&(T(A(m),"String is not an SVG path."),m=C(m)),T(Array.isArray(m),"Argument should be a string or an array of path segments."),m=S(m),!(m=u(m)).length)return[0,0,0,0];for(var l=[1/0,1/0,-1/0,-1/0],t=0,o=m.length;t<o;t++)for(var r=m[t].slice(1),n=0;n<r.length;n+=2)r[n+0]<l[0]&&(l[0]=r[n+0]),r[n+1]<l[1]&&(l[1]=r[n+1]),r[n+0]>l[2]&&(l[2]=r[n+0]),r[n+1]>l[3]&&(l[3]=r[n+1]);return l}},29988:function(ie,B,e){"use strict";ie.exports=function(A){for(var T,m=[],l=0,t=0,o=0,r=0,n=null,a=null,s=0,c=0,p=0,f=A.length;p<f;p++){var w=A[p],v=w[0];switch(v){case"M":o=w[1],r=w[2];break;case"A":var h=C({px:s,py:c,cx:w[6],cy:w[7],rx:w[1],ry:w[2],xAxisRotation:w[3],largeArcFlag:w[4],sweepFlag:w[5]});if(!h.length)continue;for(var _,x=0;x<h.length;x++)w=["C",(_=h[x]).x1,_.y1,_.x2,_.y2,_.x,_.y],x<h.length-1&&m.push(w);break;case"S":var b=s,M=c;"C"!=T&&"S"!=T||(b+=b-l,M+=M-t),w=["C",b,M,w[1],w[2],w[3],w[4]];break;case"T":"Q"==T||"T"==T?(n=2*s-n,a=2*c-a):(n=s,a=c),w=u(s,c,n,a,w[1],w[2]);break;case"Q":n=w[1],a=w[2],w=u(s,c,w[1],w[2],w[3],w[4]);break;case"L":w=S(s,c,w[1],w[2]);break;case"H":w=S(s,c,w[1],c);break;case"V":w=S(s,c,s,w[1]);break;case"Z":w=S(s,c,o,r)}T=v,s=w[w.length-2],c=w[w.length-1],w.length>4?(l=w[w.length-4],t=w[w.length-3]):(l=s,t=c),m.push(w)}return m};var C=e(7095);function S(A,T,m,l){return["C",A,T,m,l,m,l]}function u(A,T,m,l,t,o){return["C",A/3+.6666666666666666*m,T/3+.6666666666666666*l,t/3+.6666666666666666*m,o/3+.6666666666666666*l,t,o]}},82019:function(ie,B,e){"use strict";var C,S=e(1750),u=e(95616),A=e(31457),T=e(89546),m=e(44781),l=document.createElement("canvas"),t=l.getContext("2d");ie.exports=function(o,r){if(!T(o))throw Error("Argument should be valid svg path string");var n,a;r||(r={}),r.shape?(n=r.shape[0],a=r.shape[1]):(n=l.width=r.w||r.width||200,a=l.height=r.h||r.height||200);var s=Math.min(n,a),c=r.stroke||0,p=r.viewbox||r.viewBox||S(o),f=[n/(p[2]-p[0]),a/(p[3]-p[1])],w=Math.min(f[0]||0,f[1]||0)/2;if(t.fillStyle="black",t.fillRect(0,0,n,a),t.fillStyle="white",c&&("number"!=typeof c&&(c=1),t.strokeStyle=c>0?"white":"black",t.lineWidth=Math.abs(c)),t.translate(.5*n,.5*a),t.scale(w,w),function(){if(null!=C)return C;var _=document.createElement("canvas").getContext("2d");if(_.canvas.width=_.canvas.height=1,!window.Path2D)return C=!1;var x=new Path2D("M0,0h1v1h-1v-1Z");_.fillStyle="black",_.fill(x);var b=_.getImageData(0,0,1,1);return C=b&&b.data&&255===b.data[3]}()){var v=new Path2D(o);t.fill(v),c&&t.stroke(v)}else{var h=u(o);A(t,h),t.fill(),c&&t.stroke()}return t.setTransform(1,0,0,1,0,0),m(t,{cutoff:null!=r.cutoff?r.cutoff:.5,radius:null!=r.radius?r.radius:.5*s})}},84267:function(ie,B,e){var C;!function(S){var u=/^\s+/,A=/\s+$/,T=0,m=S.round,l=S.min,t=S.max,o=S.random;function r(te,oe){if(oe=oe||{},(te=te||"")instanceof r)return te;if(!(this instanceof r))return new r(te,oe);var fe,me,ke,Pe,Te,be,xe,Ne,Se,Ce,ue=(Pe={r:0,g:0,b:0},Te=1,be=null,xe=null,Ne=null,Se=!1,Ce=!1,"string"==typeof(fe=te)&&(fe=function(pe){pe=pe.replace(u,"").replace(A,"").toLowerCase();var de,se=!1;if(L[pe])pe=L[pe],se=!0;else if("transparent"==pe)return{r:0,g:0,b:0,a:0,format:"name"};return(de=Q.rgb.exec(pe))?{r:de[1],g:de[2],b:de[3]}:(de=Q.rgba.exec(pe))?{r:de[1],g:de[2],b:de[3],a:de[4]}:(de=Q.hsl.exec(pe))?{h:de[1],s:de[2],l:de[3]}:(de=Q.hsla.exec(pe))?{h:de[1],s:de[2],l:de[3],a:de[4]}:(de=Q.hsv.exec(pe))?{h:de[1],s:de[2],v:de[3]}:(de=Q.hsva.exec(pe))?{h:de[1],s:de[2],v:de[3],a:de[4]}:(de=Q.hex8.exec(pe))?{r:N(de[1]),g:N(de[2]),b:N(de[3]),a:Z(de[4]),format:se?"name":"hex8"}:(de=Q.hex6.exec(pe))?{r:N(de[1]),g:N(de[2]),b:N(de[3]),format:se?"name":"hex"}:(de=Q.hex4.exec(pe))?{r:N(de[1]+""+de[1]),g:N(de[2]+""+de[2]),b:N(de[3]+""+de[3]),a:Z(de[4]+""+de[4]),format:se?"name":"hex8"}:!!(de=Q.hex3.exec(pe))&&{r:N(de[1]+""+de[1]),g:N(de[2]+""+de[2]),b:N(de[3]+""+de[3]),format:se?"name":"hex"}}(fe)),"object"==typeof fe&&(K(fe.r)&&K(fe.g)&&K(fe.b)?(me=fe.g,ke=fe.b,Pe={r:255*z(fe.r,255),g:255*z(me,255),b:255*z(ke,255)},Se=!0,Ce="%"===String(fe.r).substr(-1)?"prgb":"rgb"):K(fe.h)&&K(fe.s)&&K(fe.v)?(be=H(fe.s),xe=H(fe.v),Pe=function(pe,de,se){pe=6*z(pe,360),de=z(de,100),se=z(se,100);var we=S.floor(pe),Re=pe-we,Ee=se*(1-de),Ue=se*(1-Re*de),$e=se*(1-(1-Re)*de),ve=we%6;return{r:255*[se,Ue,Ee,Ee,$e,se][ve],g:255*[$e,se,se,Ue,Ee,Ee][ve],b:255*[Ee,Ee,$e,se,se,Ue][ve]}}(fe.h,be,xe),Se=!0,Ce="hsv"):K(fe.h)&&K(fe.s)&&K(fe.l)&&(be=H(fe.s),Ne=H(fe.l),Pe=function(pe,de,se){var we,Re,Ee;function Ue(Ie,De,ze){return ze<0&&(ze+=1),ze>1&&(ze-=1),ze<1/6?Ie+6*(De-Ie)*ze:ze<.5?De:ze<2/3?Ie+(De-Ie)*(2/3-ze)*6:Ie}if(pe=z(pe,360),de=z(de,100),se=z(se,100),0===de)we=Re=Ee=se;else{var $e=se<.5?se*(1+de):se+de-se*de,ve=2*se-$e;we=Ue(ve,$e,pe+1/3),Re=Ue(ve,$e,pe),Ee=Ue(ve,$e,pe-1/3)}return{r:255*we,g:255*Re,b:255*Ee}}(fe.h,be,Ne),Se=!0,Ce="hsl"),fe.hasOwnProperty("a")&&(Te=fe.a)),Te=R(Te),{ok:Se,format:fe.format||Ce,r:l(255,t(Pe.r,0)),g:l(255,t(Pe.g,0)),b:l(255,t(Pe.b,0)),a:Te});this._originalInput=te,this._r=ue.r,this._g=ue.g,this._b=ue.b,this._a=ue.a,this._roundA=m(100*this._a)/100,this._format=oe.format||ue.format,this._gradientType=oe.gradientType,this._r<1&&(this._r=m(this._r)),this._g<1&&(this._g=m(this._g)),this._b<1&&(this._b=m(this._b)),this._ok=ue.ok,this._tc_id=T++}function n(te,oe,ue){te=z(te,255),oe=z(oe,255),ue=z(ue,255);var fe,he,me=t(te,oe,ue),ke=l(te,oe,ue),Pe=(me+ke)/2;if(me==ke)fe=he=0;else{var Te=me-ke;switch(he=Pe>.5?Te/(2-me-ke):Te/(me+ke),me){case te:fe=(oe-ue)/Te+(oe<ue?6:0);break;case oe:fe=(ue-te)/Te+2;break;case ue:fe=(te-oe)/Te+4}fe/=6}return{h:fe,s:he,l:Pe}}function a(te,oe,ue){te=z(te,255),oe=z(oe,255),ue=z(ue,255);var fe,he,me=t(te,oe,ue),ke=l(te,oe,ue),Pe=me,Te=me-ke;if(he=0===me?0:Te/me,me==ke)fe=0;else{switch(me){case te:fe=(oe-ue)/Te+(oe<ue?6:0);break;case oe:fe=(ue-te)/Te+2;break;case ue:fe=(te-oe)/Te+4}fe/=6}return{h:fe,s:he,v:Pe}}function s(te,oe,ue,fe){var he=[W(m(te).toString(16)),W(m(oe).toString(16)),W(m(ue).toString(16))];return fe&&he[0].charAt(0)==he[0].charAt(1)&&he[1].charAt(0)==he[1].charAt(1)&&he[2].charAt(0)==he[2].charAt(1)?he[0].charAt(0)+he[1].charAt(0)+he[2].charAt(0):he.join("")}function c(te,oe,ue,fe){return[W(U(fe)),W(m(te).toString(16)),W(m(oe).toString(16)),W(m(ue).toString(16))].join("")}function p(te,oe){oe=0===oe?0:oe||10;var ue=r(te).toHsl();return ue.s-=oe/100,ue.s=$(ue.s),r(ue)}function f(te,oe){oe=0===oe?0:oe||10;var ue=r(te).toHsl();return ue.s+=oe/100,ue.s=$(ue.s),r(ue)}function w(te){return r(te).desaturate(100)}function v(te,oe){oe=0===oe?0:oe||10;var ue=r(te).toHsl();return ue.l+=oe/100,ue.l=$(ue.l),r(ue)}function h(te,oe){oe=0===oe?0:oe||10;var ue=r(te).toRgb();return ue.r=t(0,l(255,ue.r-m(-oe/100*255))),ue.g=t(0,l(255,ue.g-m(-oe/100*255))),ue.b=t(0,l(255,ue.b-m(-oe/100*255))),r(ue)}function _(te,oe){oe=0===oe?0:oe||10;var ue=r(te).toHsl();return ue.l-=oe/100,ue.l=$(ue.l),r(ue)}function x(te,oe){var ue=r(te).toHsl(),fe=(ue.h+oe)%360;return ue.h=fe<0?360+fe:fe,r(ue)}function b(te){var oe=r(te).toHsl();return oe.h=(oe.h+180)%360,r(oe)}function M(te){var oe=r(te).toHsl(),ue=oe.h;return[r(te),r({h:(ue+120)%360,s:oe.s,l:oe.l}),r({h:(ue+240)%360,s:oe.s,l:oe.l})]}function d(te){var oe=r(te).toHsl(),ue=oe.h;return[r(te),r({h:(ue+90)%360,s:oe.s,l:oe.l}),r({h:(ue+180)%360,s:oe.s,l:oe.l}),r({h:(ue+270)%360,s:oe.s,l:oe.l})]}function E(te){var oe=r(te).toHsl(),ue=oe.h;return[r(te),r({h:(ue+72)%360,s:oe.s,l:oe.l}),r({h:(ue+216)%360,s:oe.s,l:oe.l})]}function k(te,oe,ue){oe=oe||6,ue=ue||30;var fe=r(te).toHsl(),he=360/ue,me=[r(te)];for(fe.h=(fe.h-(he*oe>>1)+720)%360;--oe;)fe.h=(fe.h+he)%360,me.push(r(fe));return me}function I(te,oe){oe=oe||6;for(var ue=r(te).toHsv(),fe=ue.h,he=ue.s,me=ue.v,ke=[],Pe=1/oe;oe--;)ke.push(r({h:fe,s:he,v:me})),me=(me+Pe)%1;return ke}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var te=this.toRgb();return(299*te.r+587*te.g+114*te.b)/1e3},getLuminance:function(){var te,oe,ue,fe=this.toRgb();return oe=fe.g/255,ue=fe.b/255,.2126*((te=fe.r/255)<=.03928?te/12.92:S.pow((te+.055)/1.055,2.4))+.7152*(oe<=.03928?oe/12.92:S.pow((oe+.055)/1.055,2.4))+.0722*(ue<=.03928?ue/12.92:S.pow((ue+.055)/1.055,2.4))},setAlpha:function(te){return this._a=R(te),this._roundA=m(100*this._a)/100,this},toHsv:function(){var te=a(this._r,this._g,this._b);return{h:360*te.h,s:te.s,v:te.v,a:this._a}},toHsvString:function(){var te=a(this._r,this._g,this._b),oe=m(360*te.h),ue=m(100*te.s),fe=m(100*te.v);return 1==this._a?"hsv("+oe+", "+ue+"%, "+fe+"%)":"hsva("+oe+", "+ue+"%, "+fe+"%, "+this._roundA+")"},toHsl:function(){var te=n(this._r,this._g,this._b);return{h:360*te.h,s:te.s,l:te.l,a:this._a}},toHslString:function(){var te=n(this._r,this._g,this._b),oe=m(360*te.h),ue=m(100*te.s),fe=m(100*te.l);return 1==this._a?"hsl("+oe+", "+ue+"%, "+fe+"%)":"hsla("+oe+", "+ue+"%, "+fe+"%, "+this._roundA+")"},toHex:function(te){return s(this._r,this._g,this._b,te)},toHexString:function(te){return"#"+this.toHex(te)},toHex8:function(te){return ue=this._g,fe=this._b,he=this._a,me=te,ke=[W(m(this._r).toString(16)),W(m(ue).toString(16)),W(m(fe).toString(16)),W(U(he))],me&&ke[0].charAt(0)==ke[0].charAt(1)&&ke[1].charAt(0)==ke[1].charAt(1)&&ke[2].charAt(0)==ke[2].charAt(1)&&ke[3].charAt(0)==ke[3].charAt(1)?ke[0].charAt(0)+ke[1].charAt(0)+ke[2].charAt(0)+ke[3].charAt(0):ke.join("");var ue,fe,he,me,ke},toHex8String:function(te){return"#"+this.toHex8(te)},toRgb:function(){return{r:m(this._r),g:m(this._g),b:m(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+m(this._r)+", "+m(this._g)+", "+m(this._b)+")":"rgba("+m(this._r)+", "+m(this._g)+", "+m(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:m(100*z(this._r,255))+"%",g:m(100*z(this._g,255))+"%",b:m(100*z(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+m(100*z(this._r,255))+"%, "+m(100*z(this._g,255))+"%, "+m(100*z(this._b,255))+"%)":"rgba("+m(100*z(this._r,255))+"%, "+m(100*z(this._g,255))+"%, "+m(100*z(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(te){var oe="#"+c(this._r,this._g,this._b,this._a),ue=oe,fe=this._gradientType?"GradientType = 1, ":"";if(te){var he=r(te);ue="#"+c(he._r,he._g,he._b,he._a)}return"progid:DXImageTransform.Microsoft.gradient("+fe+"startColorstr="+oe+",endColorstr="+ue+")"},toString:function(te){var oe=!!te;te=te||this._format;var ue=!1;return oe||!(this._a<1&&this._a>=0)||"hex"!==te&&"hex6"!==te&&"hex3"!==te&&"hex4"!==te&&"hex8"!==te&&"name"!==te?("rgb"===te&&(ue=this.toRgbString()),"prgb"===te&&(ue=this.toPercentageRgbString()),"hex"!==te&&"hex6"!==te||(ue=this.toHexString()),"hex3"===te&&(ue=this.toHexString(!0)),"hex4"===te&&(ue=this.toHex8String(!0)),"hex8"===te&&(ue=this.toHex8String()),"name"===te&&(ue=this.toName()),"hsl"===te&&(ue=this.toHslString()),"hsv"===te&&(ue=this.toHsvString()),ue||this.toHexString()):"name"===te&&0===this._a?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(te,oe){var ue=te.apply(null,[this].concat([].slice.call(oe)));return this._r=ue._r,this._g=ue._g,this._b=ue._b,this.setAlpha(ue._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(te,oe){return te.apply(null,[this].concat([].slice.call(oe)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(d,arguments)}},r.fromRatio=function(te,oe){if("object"==typeof te){var ue={};for(var fe in te)te.hasOwnProperty(fe)&&(ue[fe]="a"===fe?te[fe]:H(te[fe]));te=ue}return r(te,oe)},r.equals=function(te,oe){return!(!te||!oe)&&r(te).toRgbString()==r(oe).toRgbString()},r.random=function(){return r.fromRatio({r:o(),g:o(),b:o()})},r.mix=function(te,oe,ue){ue=0===ue?0:ue||50;var fe=r(te).toRgb(),he=r(oe).toRgb(),me=ue/100;return r({r:(he.r-fe.r)*me+fe.r,g:(he.g-fe.g)*me+fe.g,b:(he.b-fe.b)*me+fe.b,a:(he.a-fe.a)*me+fe.a})},r.readability=function(te,oe){var ue=r(te),fe=r(oe);return(S.max(ue.getLuminance(),fe.getLuminance())+.05)/(S.min(ue.getLuminance(),fe.getLuminance())+.05)},r.isReadable=function(te,oe,ue){var fe,he,me,ke,Pe,Te=r.readability(te,oe);switch(he=!1,(me=ue,"AA"!==(ke=((me=me||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==ke&&(ke="AA"),"small"!==(Pe=(me.size||"small").toLowerCase())&&"large"!==Pe&&(Pe="small"),fe={level:ke,size:Pe}).level+fe.size){case"AAsmall":case"AAAlarge":he=Te>=4.5;break;case"AAlarge":he=Te>=3;break;case"AAAsmall":he=Te>=7}return he},r.mostReadable=function(te,oe,ue){var fe,he,me,ke,Pe=null,Te=0;he=(ue=ue||{}).includeFallbackColors,me=ue.level,ke=ue.size;for(var be=0;be<oe.length;be++)(fe=r.readability(te,oe[be]))>Te&&(Te=fe,Pe=r(oe[be]));return r.isReadable(te,Pe,{level:me,size:ke})||!he?Pe:(ue.includeFallbackColors=!1,r.mostReadable(te,["#fff","#000"],ue))};var L=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=r.hexNames=function(te){var oe={};for(var ue in te)te.hasOwnProperty(ue)&&(oe[te[ue]]=ue);return oe}(L);function R(te){return te=parseFloat(te),(isNaN(te)||te<0||te>1)&&(te=1),te}function z(te,oe){var fe;"string"==typeof(fe=te)&&-1!=fe.indexOf(".")&&1===parseFloat(fe)&&(te="100%");var ue=function(fe){return"string"==typeof fe&&-1!=fe.indexOf("%")}(te);return te=l(oe,t(0,parseFloat(te))),ue&&(te=parseInt(te*oe,10)/100),S.abs(te-oe)<1e-6?1:te%oe/parseFloat(oe)}function $(te){return l(1,t(0,te))}function N(te){return parseInt(te,16)}function W(te){return 1==te.length?"0"+te:""+te}function H(te){return te<=1&&(te=100*te+"%"),te}function U(te){return S.round(255*parseFloat(te)).toString(16)}function Z(te){return N(te)/255}var Y,ae,re,Q=(ae="[\\s|\\(]+("+(Y="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",re="[\\s|\\(]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",{CSS_UNIT:new RegExp(Y),rgb:new RegExp("rgb"+ae),rgba:new RegExp("rgba"+re),hsl:new RegExp("hsl"+ae),hsla:new RegExp("hsla"+re),hsv:new RegExp("hsv"+ae),hsva:new RegExp("hsva"+re),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function K(te){return!!Q.CSS_UNIT.exec(te)}ie.exports?ie.exports=r:void 0===(C=function(){return r}.call(B,e,B,ie))||(ie.exports=C)}(Math)},57060:function(ie){"use strict";ie.exports=e,ie.exports.float32=ie.exports.float=e,ie.exports.fract32=ie.exports.fract=function(C,S){if(C.length){if(C instanceof Float32Array)return new Float32Array(C.length);S instanceof Float32Array||(S=e(C));for(var u=0,A=S.length;u<A;u++)S[u]=C[u]-S[u];return S}return e(C-e(C))};var B=new Float32Array(1);function e(C){return C.length?C instanceof Float32Array?C:new Float32Array(C):(B[0]=C,B[0])}},75686:function(ie,B,e){"use strict";var C=e(25677);ie.exports=A;var S=96;function u(T,m){var l=C(getComputedStyle(T).getPropertyValue(m));return l[0]*A(l[1],T)}function A(T,m){switch(m=m||document.body,T=(T||"px").trim().toLowerCase(),m!==window&&m!==document||(m=document.body),T){case"%":return m.clientHeight/100;case"ch":case"ex":return function(l,t){var o=document.createElement("div");o.style["font-size"]="128"+l,t.appendChild(o);var r=u(o,"font-size")/128;return t.removeChild(o),r}(T,m);case"em":return u(m,"font-size");case"rem":return u(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return S;case"cm":return S/2.54;case"mm":return S/25.4;case"pt":return S/72;case"pc":return S/6}return 1}},96892:function(ie,B,e){"use strict";function C(A){return A}function S(A,T){return"string"==typeof T&&(T=A.objects[T]),"GeometryCollection"===T.type?{type:"FeatureCollection",features:T.geometries.map(function(m){return u(A,m)})}:u(A,T)}function u(A,T){var m=T.id,l=T.bbox,t=null==T.properties?{}:T.properties,o=function(r,n){var a=function(h){if(null==h)return C;var _,x,b=h.scale[0],M=h.scale[1],d=h.translate[0],E=h.translate[1];return function(k,I){I||(_=x=0);var L=2,P=k.length,R=new Array(P);for(R[0]=(_+=k[0])*b+d,R[1]=(x+=k[1])*M+E;L<P;)R[L]=k[L],++L;return R}}(r.transform),s=r.arcs;function c(h,_){_.length&&_.pop();for(var x=s[h<0?~h:h],b=0,M=x.length;b<M;++b)_.push(a(x[b],b));h<0&&function(d,E){for(var k,I=d.length,L=I-E;L<--I;)k=d[L],d[L++]=d[I],d[I]=k}(_,M)}function p(h){return a(h)}function f(h){for(var _=[],x=0,b=h.length;x<b;++x)c(h[x],_);return _.length<2&&_.push(_[0]),_}function w(h){for(var _=f(h);_.length<4;)_.push(_[0]);return _}function v(h){return h.map(w)}return function h(_){var x,b=_.type;switch(b){case"GeometryCollection":return{type:b,geometries:_.geometries.map(h)};case"Point":x=p(_.coordinates);break;case"MultiPoint":x=_.coordinates.map(p);break;case"LineString":x=f(_.arcs);break;case"MultiLineString":x=_.arcs.map(f);break;case"Polygon":x=v(_.arcs);break;case"MultiPolygon":x=_.arcs.map(v);break;default:return null}return{type:b,coordinates:x}}(n)}(A,T);return null==m&&null==l?{type:"Feature",properties:t,geometry:o}:null==l?{type:"Feature",id:m,properties:t,geometry:o}:{type:"Feature",id:m,bbox:l,properties:t,geometry:o}}e.d(B,{zL:function(){return S}})},73116:function(ie,B,e){"use strict";var C=e(24511);ie.exports=function(S){if("function"!=typeof S||!hasOwnProperty.call(S,"length"))return!1;try{if("number"!=typeof S.length||"function"!=typeof S.call||"function"!=typeof S.apply)return!1}catch{return!1}return!C(S)}},69190:function(ie,B,e){"use strict";var C=e(24582),S=e(47403),u=e(9234),A=e(6048),T=function(m,l){return m.replace("%v",A(l))};ie.exports=function(m,l,t){if(!S(t))throw new TypeError(T(l,m));if(!C(m)){if("default"in t)return t.default;if(t.isOptional)return null}var o=u(t.errorMessage);throw C(o)||(o=l),new TypeError(T(o,m))}},18497:function(ie){"use strict";ie.exports=function(B){try{return B.toString()}catch{try{return String(B)}catch{return null}}}},6048:function(ie,B,e){"use strict";var C=e(18497),S=/[\n\r\u2028\u2029]/g;ie.exports=function(u){var A=C(u);return null===A?"<Non-coercible to string value>":(A.length>100&&(A=A.slice(0,99)+"\u2026"),A=A.replace(S,function(T){switch(T){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(ie,B,e){"use strict";var C=e(24582),S={object:!0,function:!0,undefined:!0};ie.exports=function(u){return!!C(u)&&hasOwnProperty.call(S,typeof u)}},82527:function(ie,B,e){"use strict";var C=e(69190),S=e(84985);ie.exports=function(u){return S(u)?u:C(u,"%v is not a plain function",arguments[1])}},84985:function(ie,B,e){"use strict";var C=e(73116),S=/^\s*class[\s{/}]/,u=Function.prototype.toString;ie.exports=function(A){return!!C(A)&&!S.test(u.call(A))}},24511:function(ie,B,e){"use strict";var C=e(47403);ie.exports=function(S){if(!C(S))return!1;try{return!!S.constructor&&S.constructor.prototype===S}catch{return!1}}},9234:function(ie,B,e){"use strict";var C=e(24582),S=e(47403),u=Object.prototype.toString;ie.exports=function(A){if(!C(A))return null;if(S(A)){var T=A.toString;if("function"!=typeof T||T===u)return null}try{return""+A}catch{return null}}},10424:function(ie,B,e){"use strict";var C=e(69190),S=e(24582);ie.exports=function(u){return S(u)?u:C(u,"Cannot use %v",arguments[1])}},24582:function(ie){"use strict";ie.exports=function(B){return null!=B}},58404:function(ie,B,e){"use strict";var C=e(13547),S=e(12129),u=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:S([32,0]),UINT16:S([32,0]),UINT32:S([32,0]),BIGUINT64:S([32,0]),INT8:S([32,0]),INT16:S([32,0]),INT32:S([32,0]),BIGINT64:S([32,0]),FLOAT:S([32,0]),DOUBLE:S([32,0]),DATA:S([32,0]),UINT8C:S([32,0]),BUFFER:S([32,0])});var A=typeof Uint8ClampedArray<"u",T=typeof BigUint64Array<"u",m=typeof BigInt64Array<"u",l=e.g.__TYPEDARRAY_POOL;l.UINT8C||(l.UINT8C=S([32,0])),l.BIGUINT64||(l.BIGUINT64=S([32,0])),l.BIGINT64||(l.BIGINT64=S([32,0])),l.BUFFER||(l.BUFFER=S([32,0]));var t=l.DATA,o=l.BUFFER;function r(E){if(E){var I=C.log2(E.length||E.byteLength);t[I].push(E)}}function n(E){E=C.nextPow2(E);var k=C.log2(E),I=t[k];return I.length>0?I.pop():new ArrayBuffer(E)}function a(E){return new Uint8Array(n(E),0,E)}function s(E){return new Uint16Array(n(2*E),0,E)}function c(E){return new Uint32Array(n(4*E),0,E)}function p(E){return new Int8Array(n(E),0,E)}function f(E){return new Int16Array(n(2*E),0,E)}function w(E){return new Int32Array(n(4*E),0,E)}function v(E){return new Float32Array(n(4*E),0,E)}function h(E){return new Float64Array(n(8*E),0,E)}function _(E){return A?new Uint8ClampedArray(n(E),0,E):a(E)}function x(E){return T?new BigUint64Array(n(8*E),0,E):null}function b(E){return m?new BigInt64Array(n(8*E),0,E):null}function M(E){return new DataView(n(E),0,E)}function d(E){E=C.nextPow2(E);var k=C.log2(E),I=o[k];return I.length>0?I.pop():new u(E)}B.free=function(E){if(u.isBuffer(E))o[C.log2(E.length)].push(E);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(E)&&(E=E.buffer),!E)return;var I=0|C.log2(E.length||E.byteLength);t[I].push(E)}},B.freeUint8=B.freeUint16=B.freeUint32=B.freeBigUint64=B.freeInt8=B.freeInt16=B.freeInt32=B.freeBigInt64=B.freeFloat32=B.freeFloat=B.freeFloat64=B.freeDouble=B.freeUint8Clamped=B.freeDataView=function(E){r(E.buffer)},B.freeArrayBuffer=r,B.freeBuffer=function(E){o[C.log2(E.length)].push(E)},B.malloc=function(E,k){if(void 0===k||"arraybuffer"===k)return n(E);switch(k){case"uint8":return a(E);case"uint16":return s(E);case"uint32":return c(E);case"int8":return p(E);case"int16":return f(E);case"int32":return w(E);case"float":case"float32":return v(E);case"double":case"float64":return h(E);case"uint8_clamped":return _(E);case"bigint64":return b(E);case"biguint64":return x(E);case"buffer":return d(E);case"data":case"dataview":return M(E);default:return null}return null},B.mallocArrayBuffer=n,B.mallocUint8=a,B.mallocUint16=s,B.mallocUint32=c,B.mallocInt8=p,B.mallocInt16=f,B.mallocInt32=w,B.mallocFloat32=B.mallocFloat=v,B.mallocFloat64=B.mallocDouble=h,B.mallocUint8Clamped=_,B.mallocBigUint64=x,B.mallocBigInt64=b,B.mallocDataView=M,B.mallocBuffer=d,B.clearCache=function(){for(var E=0;E<32;++E)l.UINT8[E].length=0,l.UINT16[E].length=0,l.UINT32[E].length=0,l.INT8[E].length=0,l.INT16[E].length=0,l.INT32[E].length=0,l.FLOAT[E].length=0,l.DOUBLE[E].length=0,l.BIGUINT64[E].length=0,l.BIGINT64[E].length=0,l.UINT8C[E].length=0,t[E].length=0,o[E].length=0}},90448:function(ie){var B=/[\'\"]/;ie.exports=function(e){return e?(B.test(e.charAt(0))&&(e=e.substr(1)),B.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},93447:function(ie){"use strict";ie.exports=function(B,e,C){Array.isArray(C)||(C=[].slice.call(arguments,2));for(var S=0,u=C.length;S<u;S++){var A=C[S];for(var T in A)if((void 0===e[T]||Array.isArray(e[T])||B[T]!==e[T])&&T in e){var m;if(!0===A[T])m=e[T];else if(!1===A[T]||"function"==typeof A[T]&&void 0===(m=A[T](e[T],B,e)))continue;B[T]=m}}return B}},20588:function(ie,B,e){function C(S){try{if(!e.g.localStorage)return!1}catch{return!1}var u=e.g.localStorage[S];return null!=u&&"true"===String(u).toLowerCase()}ie.exports=function(S,u){if(C("noDeprecation"))return S;var A=!1;return function(){if(!A){if(C("throwDeprecation"))throw new Error(u);C("traceDeprecation")?console.trace(u):console.warn(u),A=!0}return S.apply(this,arguments)}}},45920:function(ie){ie.exports=function(B){return B&&"object"==typeof B&&"function"==typeof B.copy&&"function"==typeof B.fill&&"function"==typeof B.readUInt8}},4936:function(ie,B,e){"use strict";var C=e(47216),S=e(65481),u=e(21099),A=e(9187);function T(z){return z.call.bind(z)}var m=typeof BigInt<"u",l=typeof Symbol<"u",t=T(Object.prototype.toString),o=T(Number.prototype.valueOf),r=T(String.prototype.valueOf),n=T(Boolean.prototype.valueOf);if(m)var a=T(BigInt.prototype.valueOf);if(l)var s=T(Symbol.prototype.valueOf);function c(z,$){if("object"!=typeof z)return!1;try{return $(z),!0}catch{return!1}}function p(z){return"[object Map]"===t(z)}function f(z){return"[object Set]"===t(z)}function w(z){return"[object WeakMap]"===t(z)}function v(z){return"[object WeakSet]"===t(z)}function h(z){return"[object ArrayBuffer]"===t(z)}function _(z){return typeof ArrayBuffer<"u"&&(h.working?h(z):z instanceof ArrayBuffer)}function x(z){return"[object DataView]"===t(z)}function b(z){return typeof DataView<"u"&&(x.working?x(z):z instanceof DataView)}B.isArgumentsObject=C,B.isGeneratorFunction=S,B.isTypedArray=A,B.isPromise=function(z){return typeof Promise<"u"&&z instanceof Promise||null!==z&&"object"==typeof z&&"function"==typeof z.then&&"function"==typeof z.catch},B.isArrayBufferView=function(z){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(z):A(z)||b(z)},B.isUint8Array=function(z){return"Uint8Array"===u(z)},B.isUint8ClampedArray=function(z){return"Uint8ClampedArray"===u(z)},B.isUint16Array=function(z){return"Uint16Array"===u(z)},B.isUint32Array=function(z){return"Uint32Array"===u(z)},B.isInt8Array=function(z){return"Int8Array"===u(z)},B.isInt16Array=function(z){return"Int16Array"===u(z)},B.isInt32Array=function(z){return"Int32Array"===u(z)},B.isFloat32Array=function(z){return"Float32Array"===u(z)},B.isFloat64Array=function(z){return"Float64Array"===u(z)},B.isBigInt64Array=function(z){return"BigInt64Array"===u(z)},B.isBigUint64Array=function(z){return"BigUint64Array"===u(z)},p.working=typeof Map<"u"&&p(new Map),B.isMap=function(z){return typeof Map<"u"&&(p.working?p(z):z instanceof Map)},f.working=typeof Set<"u"&&f(new Set),B.isSet=function(z){return typeof Set<"u"&&(f.working?f(z):z instanceof Set)},w.working=typeof WeakMap<"u"&&w(new WeakMap),B.isWeakMap=function(z){return typeof WeakMap<"u"&&(w.working?w(z):z instanceof WeakMap)},v.working=typeof WeakSet<"u"&&v(new WeakSet),B.isWeakSet=function(z){return v(z)},h.working=typeof ArrayBuffer<"u"&&h(new ArrayBuffer),B.isArrayBuffer=_,x.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&x(new DataView(new ArrayBuffer(1),0,1)),B.isDataView=b;var M=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function d(z){return"[object SharedArrayBuffer]"===t(z)}function E(z){return void 0!==M&&(void 0===d.working&&(d.working=d(new M)),d.working?d(z):z instanceof M)}function k(z){return c(z,o)}function I(z){return c(z,r)}function L(z){return c(z,n)}function P(z){return m&&c(z,a)}function R(z){return l&&c(z,s)}B.isSharedArrayBuffer=E,B.isAsyncFunction=function(z){return"[object AsyncFunction]"===t(z)},B.isMapIterator=function(z){return"[object Map Iterator]"===t(z)},B.isSetIterator=function(z){return"[object Set Iterator]"===t(z)},B.isGeneratorObject=function(z){return"[object Generator]"===t(z)},B.isWebAssemblyCompiledModule=function(z){return"[object WebAssembly.Module]"===t(z)},B.isNumberObject=k,B.isStringObject=I,B.isBooleanObject=L,B.isBigIntObject=P,B.isSymbolObject=R,B.isBoxedPrimitive=function(z){return k(z)||I(z)||L(z)||P(z)||R(z)},B.isAnyArrayBuffer=function(z){return typeof Uint8Array<"u"&&(_(z)||E(z))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(z){Object.defineProperty(B,z,{enumerable:!1,value:function(){throw new Error(z+" is not supported in userland")}})})},43827:function(ie,B,e){var C=e(90386),S=Object.getOwnPropertyDescriptors||function(R){for(var z=Object.keys(R),$={},N=0;N<z.length;N++)$[z[N]]=Object.getOwnPropertyDescriptor(R,z[N]);return $},u=/%[sdj%]/g;B.format=function(R){if(!w(R)){for(var z=[],$=0;$<arguments.length;$++)z.push(l(arguments[$]));return z.join(" ")}$=1;for(var N=arguments,W=N.length,H=String(R).replace(u,function(Z){if("%%"===Z)return"%";if($>=W)return Z;switch(Z){case"%s":return String(N[$++]);case"%d":return Number(N[$++]);case"%j":try{return JSON.stringify(N[$++])}catch{return"[Circular]"}default:return Z}}),U=N[$];$<W;U=N[++$])p(U)||!_(U)?H+=" "+U:H+=" "+l(U);return H},B.deprecate=function(R,z){if(void 0!==C&&!0===C.noDeprecation)return R;if(void 0===C)return function(){return B.deprecate(R,z).apply(this,arguments)};var $=!1;return function(){if(!$){if(C.throwDeprecation)throw new Error(z);C.traceDeprecation?console.trace(z):console.error(z),$=!0}return R.apply(this,arguments)}};var A={},T=/^$/;if(C.env.NODE_DEBUG){var m=C.env.NODE_DEBUG;m=m.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),T=new RegExp("^"+m+"$","i")}function l(R,z){var $={seen:[],stylize:o};return arguments.length>=3&&($.depth=arguments[2]),arguments.length>=4&&($.colors=arguments[3]),c(z)?$.showHidden=z:z&&B._extend($,z),v($.showHidden)&&($.showHidden=!1),v($.depth)&&($.depth=2),v($.colors)&&($.colors=!1),v($.customInspect)&&($.customInspect=!0),$.colors&&($.stylize=t),r($,R,$.depth)}function t(R,z){var $=l.styles[z];return $?"\x1b["+l.colors[$][0]+"m"+R+"\x1b["+l.colors[$][1]+"m":R}function o(R,z){return R}function r(R,z,$){if(R.customInspect&&z&&M(z.inspect)&&z.inspect!==B.inspect&&(!z.constructor||z.constructor.prototype!==z)){var N=z.inspect($,R);return w(N)||(N=r(R,N,$)),N}var W=function(K,te){if(v(te))return K.stylize("undefined","undefined");if(w(te)){var oe="'"+JSON.stringify(te).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(oe,"string")}return f(te)?K.stylize(""+te,"number"):c(te)?K.stylize(""+te,"boolean"):p(te)?K.stylize("null","null"):void 0}(R,z);if(W)return W;var te,H=Object.keys(z),U=(te={},H.forEach(function(oe,ue){te[oe]=!0}),te);if(R.showHidden&&(H=Object.getOwnPropertyNames(z)),b(z)&&(H.indexOf("message")>=0||H.indexOf("description")>=0))return n(z);if(0===H.length){if(M(z))return R.stylize("[Function"+(z.name?": "+z.name:"")+"]","special");if(h(z))return R.stylize(RegExp.prototype.toString.call(z),"regexp");if(x(z))return R.stylize(Date.prototype.toString.call(z),"date");if(b(z))return n(z)}var Y,ae="",re=!1,Q=["{","}"];return s(z)&&(re=!0,Q=["[","]"]),M(z)&&(ae=" [Function"+(z.name?": "+z.name:"")+"]"),h(z)&&(ae=" "+RegExp.prototype.toString.call(z)),x(z)&&(ae=" "+Date.prototype.toUTCString.call(z)),b(z)&&(ae=" "+n(z)),0!==H.length||re&&0!=z.length?$<0?h(z)?R.stylize(RegExp.prototype.toString.call(z),"regexp"):R.stylize("[Object]","special"):(R.seen.push(z),Y=re?function(K,te,oe,ue,fe){for(var he=[],me=0,ke=te.length;me<ke;++me)I(te,String(me))?he.push(a(K,te,oe,ue,String(me),!0)):he.push("");return fe.forEach(function(Pe){Pe.match(/^\d+$/)||he.push(a(K,te,oe,ue,Pe,!0))}),he}(R,z,$,U,H):H.map(function(K){return a(R,z,$,U,K,re)}),R.seen.pop(),function(K,te,oe){return K.reduce(function(ue,fe){return fe.indexOf("\n"),ue+fe.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?oe[0]+(""===te?"":te+"\n ")+" "+K.join(",\n  ")+" "+oe[1]:oe[0]+te+" "+K.join(", ")+" "+oe[1]}(Y,ae,Q)):Q[0]+ae+Q[1]}function n(R){return"["+Error.prototype.toString.call(R)+"]"}function a(R,z,$,N,W,H){var U,Z,Y;if((Y=Object.getOwnPropertyDescriptor(z,W)||{value:z[W]}).get?Z=R.stylize(Y.set?"[Getter/Setter]":"[Getter]","special"):Y.set&&(Z=R.stylize("[Setter]","special")),I(N,W)||(U="["+W+"]"),Z||(R.seen.indexOf(Y.value)<0?(Z=p($)?r(R,Y.value,null):r(R,Y.value,$-1)).indexOf("\n")>-1&&(Z=H?Z.split("\n").map(function(ae){return"  "+ae}).join("\n").slice(2):"\n"+Z.split("\n").map(function(ae){return"   "+ae}).join("\n")):Z=R.stylize("[Circular]","special")),v(U)){if(H&&W.match(/^\d+$/))return Z;(U=JSON.stringify(""+W)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.slice(1,-1),U=R.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=R.stylize(U,"string"))}return U+": "+Z}function s(R){return Array.isArray(R)}function c(R){return"boolean"==typeof R}function p(R){return null===R}function f(R){return"number"==typeof R}function w(R){return"string"==typeof R}function v(R){return void 0===R}function h(R){return _(R)&&"[object RegExp]"===d(R)}function _(R){return"object"==typeof R&&null!==R}function x(R){return _(R)&&"[object Date]"===d(R)}function b(R){return _(R)&&("[object Error]"===d(R)||R instanceof Error)}function M(R){return"function"==typeof R}function d(R){return Object.prototype.toString.call(R)}function E(R){return R<10?"0"+R.toString(10):R.toString(10)}B.debuglog=function(R){if(R=R.toUpperCase(),!A[R])if(T.test(R)){var z=C.pid;A[R]=function(){var $=B.format.apply(B,arguments);console.error("%s %d: %s",R,z,$)}}else A[R]=function(){};return A[R]},B.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},B.types=e(4936),B.isArray=s,B.isBoolean=c,B.isNull=p,B.isNullOrUndefined=function(R){return null==R},B.isNumber=f,B.isString=w,B.isSymbol=function(R){return"symbol"==typeof R},B.isUndefined=v,B.isRegExp=h,B.types.isRegExp=h,B.isObject=_,B.isDate=x,B.types.isDate=x,B.isError=b,B.types.isNativeError=b,B.isFunction=M,B.isPrimitive=function(R){return null===R||"boolean"==typeof R||"number"==typeof R||"string"==typeof R||"symbol"==typeof R||void 0===R},B.isBuffer=e(45920);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(R,z){return Object.prototype.hasOwnProperty.call(R,z)}B.log=function(){var R,z;console.log("%s - %s",(z=[E((R=new Date).getHours()),E(R.getMinutes()),E(R.getSeconds())].join(":"),[R.getDate(),k[R.getMonth()],z].join(" ")),B.format.apply(B,arguments))},B.inherits=e(42018),B._extend=function(R,z){if(!z||!_(z))return R;for(var $=Object.keys(z),N=$.length;N--;)R[$[N]]=z[$[N]];return R};var L=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function P(R,z){if(!R){var $=new Error("Promise was rejected with a falsy value");$.reason=R,R=$}return z(R)}B.promisify=function(R){if("function"!=typeof R)throw new TypeError('The "original" argument must be of type Function');if(L&&R[L]){var z;if("function"!=typeof(z=R[L]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(z,L,{value:z,enumerable:!1,writable:!1,configurable:!0}),z}function z(){for(var $,N,W=new Promise(function(Z,Y){$=Z,N=Y}),H=[],U=0;U<arguments.length;U++)H.push(arguments[U]);H.push(function(Z,Y){Z?N(Z):$(Y)});try{R.apply(this,H)}catch(Z){N(Z)}return W}return Object.setPrototypeOf(z,Object.getPrototypeOf(R)),L&&Object.defineProperty(z,L,{value:z,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(z,S(R))},B.promisify.custom=L,B.callbackify=function(R){if("function"!=typeof R)throw new TypeError('The "original" argument must be of type Function');function z(){for(var $=[],N=0;N<arguments.length;N++)$.push(arguments[N]);var W=$.pop();if("function"!=typeof W)throw new TypeError("The last argument must be of type Function");var H=this,U=function(){return W.apply(H,arguments)};R.apply(this,$).then(function(Z){C.nextTick(U.bind(null,null,Z))},function(Z){C.nextTick(P.bind(null,Z,U))})}return Object.setPrototypeOf(z,Object.getPrototypeOf(R)),Object.defineProperties(z,S(R)),z}},40372:function(ie,B,e){var C=e(86249);ie.exports=function(S){return C("webgl",S)}},21099:function(ie,B,e){"use strict";var C=e(31353),S=e(72077),u=e(6614),A=e(40383),T=u("Object.prototype.toString"),m=e(84543)(),l=typeof globalThis>"u"?e.g:globalThis,t=S(),o=u("String.prototype.slice"),r={},n=Object.getPrototypeOf;m&&A&&n&&C(t,function(s){if("function"==typeof l[s]){var c=new l[s];if(Symbol.toStringTag in c){var p=n(c),f=A(p,Symbol.toStringTag);if(!f){var w=n(p);f=A(w,Symbol.toStringTag)}r[s]=f.get}}});var a=e(9187);ie.exports=function(s){return!!a(s)&&(m&&Symbol.toStringTag in s?(c=s,p=!1,C(r,function(f,w){if(!p)try{var v=f.call(c);v===w&&(p=v)}catch{}}),p):o(T(s),8,-1));var c,p}},3961:function(ie,B,e){var C=e(63489),S=e(56131),u=C.instance();function A(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}S(A.prototype=new C.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(n,a){if("string"==typeof n){var s=n.match(m);return s?s[0]:""}var c=this._validateYear(n),p=n.month(),f=""+this.toChineseMonth(c,p);return a&&f.length<2&&(f="0"+f),this.isIntercalaryMonth(c,p)&&(f+="i"),f},monthNames:function(n){if("string"==typeof n){var a=n.match(l);return a?a[0]:""}var s=this._validateYear(n),c=n.month(),p=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(s,c)-1];return this.isIntercalaryMonth(s,c)&&(p="\u95f0"+p),p},monthNamesShort:function(n){if("string"==typeof n){var a=n.match(t);return a?a[0]:""}var s=this._validateYear(n),c=n.month(),p=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(s,c)-1];return this.isIntercalaryMonth(s,c)&&(p="\u95f0"+p),p},parseMonth:function(n,a){n=this._validateYear(n);var s,c=parseInt(a);if(isNaN(c))"\u95f0"===a[0]&&(s=!0,a=a.substring(1)),"\u6708"===a[a.length-1]&&(a=a.substring(0,a.length-1)),c=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(a);else{var p=a[a.length-1];s="i"===p||"I"===p}return this.toMonthIndex(n,c,s)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(n,a){if(n.year&&(n=n.year()),"number"!=typeof n||n<1888||n>2111)throw a.replace(/\{0\}/,this.local.name);return n},toMonthIndex:function(n,a,s){var c=this.intercalaryMonth(n);if(s&&a!==c||a<1||a>12)throw C.local.invalidMonth.replace(/\{0\}/,this.local.name);return c?!s&&a<=c?a-1:a:a-1},toChineseMonth:function(n,a){n.year&&(a=(n=n.year()).month());var s=this.intercalaryMonth(n);if(a<0||a>(s?12:11))throw C.local.invalidMonth.replace(/\{0\}/,this.local.name);return s?a<s?a+1:a:a+1},intercalaryMonth:function(n){return n=this._validateYear(n),o[n-o[0]]>>13},isIntercalaryMonth:function(n,a){n.year&&(a=(n=n.year()).month());var s=this.intercalaryMonth(n);return!!s&&s===a},leapYear:function(n){return 0!==this.intercalaryMonth(n)},weekOfYear:function(n,a,s){var c,p=this._validateYear(n,C.local.invalidyear),f=r[p-r[0]];(c=u.newDate(f>>9&4095,f>>5&15,31&f)).add(4-(c.dayOfWeek()||7),"d");var _=this.toJD(n,a,s)-c.toJD();return 1+Math.floor(_/7)},monthsInYear:function(n){return this.leapYear(n)?13:12},daysInMonth:function(n,a){n.year&&(a=n.month(),n=n.year()),n=this._validateYear(n);var s=o[n-o[0]];if(a>(s>>13?12:11))throw C.local.invalidMonth.replace(/\{0\}/,this.local.name);return s&1<<12-a?30:29},weekDay:function(n,a,s){return(this.dayOfWeek(n,a,s)||7)<6},toJD:function(n,a,s){var c=this._validate(n,f,s,C.local.invalidDate);n=this._validateYear(c.year()),a=c.month(),s=c.day();var p=this.isIntercalaryMonth(n,a),f=this.toChineseMonth(n,a),w=function(v,h,_,x,b){var M,d,E;if("object"==typeof v)d=v,M=h||{};else{var k;if(!("number"==typeof v&&v>=1888&&v<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof h&&h>=1&&h<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof _&&_>=1&&_<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof x?(k=!1,M=x):(k=!!x,M={}),d={year:v,month:h,day:_,isIntercalary:k}}E=d.day-1;var I,L=o[d.year-o[0]],P=L>>13;I=P&&(d.month>P||d.isIntercalary)?d.month:d.month-1;for(var R=0;R<I;R++)E+=L&1<<12-R?30:29;var z=r[d.year-r[0]],$=new Date(z>>9&4095,(z>>5&15)-1,(31&z)+E);return M.year=$.getFullYear(),M.month=1+$.getMonth(),M.day=$.getDate(),M}(n,f,s,p);return u.toJD(w.year,w.month,w.day)},fromJD:function(n){var a=u.fromJD(n),s=function(p,f,w,v){var h,_;if("object"==typeof p)h=p,_=f||{};else{if(!("number"==typeof p&&p>=1888&&p<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof f&&f>=1&&f<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof w&&w>=1&&w<=31))throw new Error("Solar day outside range 1 - 31");h={year:p,month:f,day:w},_={}}var x=r[h.year-r[0]];_.year=(h.year<<9|h.month<<5|h.day)>=x?h.year:h.year-1,x=r[_.year-r[0]];var M,d=new Date(x>>9&4095,(x>>5&15)-1,31&x),E=new Date(h.year,h.month-1,h.day);M=Math.round((E-d)/864e5);var k,I=o[_.year-o[0]];for(k=0;k<13;k++){var L=I&1<<12-k?30:29;if(M<L)break;M-=L}var P=I>>13;return!P||k<P?(_.isIntercalary=!1,_.month=1+k):k===P?(_.isIntercalary=!0,_.month=k):(_.isIntercalary=!1,_.month=k),_.day=1+M,_}(a.year(),a.month(),a.day()),c=this.toMonthIndex(s.year,s.month,s.isIntercalary);return this.newDate(s.year,c,s.day)},fromString:function(n){var a=n.match(T),s=this._validateYear(+a[1]),f=this.toMonthIndex(s,+a[2],!!a[3]);return this.newDate(s,f,+a[4])},add:function(n,a,s){var c=n.year(),p=n.month(),f=this.isIntercalaryMonth(c,p),w=this.toChineseMonth(c,p),v=Object.getPrototypeOf(A.prototype).add.call(this,n,a,s);if("y"===s){var h=v.year(),_=v.month(),x=this.isIntercalaryMonth(h,w),b=this.toMonthIndex(h,w,!(!f||!x));b!==_&&v.month(b)}return v}});var T=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,m=/^\d?\d[iI]?/m,l=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,t=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;C.calendars.chinese=A;var o=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],r=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(ie,B,e){var C=e(63489);function u(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}e(56131)(u.prototype=new C.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var T=this._validate(A,this.minMonth,this.minDay,C.local.invalidYear);return(A=T.year()+(T.year()<0?1:0))%4==3||A%4==-1},monthsInYear:function(A){return this._validate(A,this.minMonth,this.minDay,C.local.invalidYear||C.regionalOptions[""].invalidYear),13},weekOfYear:function(A,T,m){var l=this.newDate(A,T,m);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(A,T){var m=this._validate(A,T,this.minDay,C.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(13===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(A,T,m){return(this.dayOfWeek(A,T,m)||7)<6},toJD:function(A,T,m){var l=this._validate(A,T,m,C.local.invalidDate);return(A=l.year())<0&&A++,l.day()+30*(l.month()-1)+365*(A-1)+Math.floor(A/4)+this.jdEpoch-1},fromJD:function(A){var T=Math.floor(A)+.5-this.jdEpoch,m=Math.floor((T-Math.floor((T+366)/1461))/365)+1;m<=0&&m--,T=Math.floor(A)+.5-this.newDate(m,1,1).toJD();var l=Math.floor(T/30)+1;return this.newDate(m,l,T-30*(l-1)+1)}}),C.calendars.coptic=u},86825:function(ie,B,e){var C=e(63489);function u(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}e(56131)(u.prototype=new C.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(T){return this._validate(T,this.minMonth,this.minDay,C.local.invalidYear),!1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,C.local.invalidYear),13},daysInYear:function(T){return this._validate(T,this.minMonth,this.minDay,C.local.invalidYear),400},weekOfYear:function(T,m,l){var t=this.newDate(T,m,l);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(T,m){var l=this._validate(T,m,this.minDay,C.local.invalidMonth);return this.daysPerMonth[l.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(T,m,l){return(this._validate(T,m,l,C.local.invalidDate).day()+1)%8},weekDay:function(T,m,l){var t=this.dayOfWeek(T,m,l);return t>=2&&t<=6},extraInfo:function(T,m,l){var t=this._validate(T,m,l,C.local.invalidDate);return{century:A[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(T,m,l){var t=this._validate(T,m,l,C.local.invalidDate);return T=t.year()+(t.year()<0?1:0),m=t.month(),(l=t.day())+(m>1?16:0)+(m>2?32*(m-2):0)+400*(T-1)+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T+.5)-Math.floor(this.jdEpoch)-1;var m=Math.floor(T/400)+1;T-=400*(m-1),T+=T>15?16:0;var l=Math.floor(T/32)+1;return this.newDate(m<=0?m-1:m,l,T-32*(l-1)+1)}});var A={20:"Fruitbat",21:"Anchovy"};C.calendars.discworld=u},37715:function(ie,B,e){var C=e(63489);function u(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}e(56131)(u.prototype=new C.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var T=this._validate(A,this.minMonth,this.minDay,C.local.invalidYear);return(A=T.year()+(T.year()<0?1:0))%4==3||A%4==-1},monthsInYear:function(A){return this._validate(A,this.minMonth,this.minDay,C.local.invalidYear||C.regionalOptions[""].invalidYear),13},weekOfYear:function(A,T,m){var l=this.newDate(A,T,m);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(A,T){var m=this._validate(A,T,this.minDay,C.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(13===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(A,T,m){return(this.dayOfWeek(A,T,m)||7)<6},toJD:function(A,T,m){var l=this._validate(A,T,m,C.local.invalidDate);return(A=l.year())<0&&A++,l.day()+30*(l.month()-1)+365*(A-1)+Math.floor(A/4)+this.jdEpoch-1},fromJD:function(A){var T=Math.floor(A)+.5-this.jdEpoch,m=Math.floor((T-Math.floor((T+366)/1461))/365)+1;m<=0&&m--,T=Math.floor(A)+.5-this.newDate(m,1,1).toJD();var l=Math.floor(T/30)+1;return this.newDate(m,l,T-30*(l-1)+1)}}),C.calendars.ethiopian=u},99384:function(ie,B,e){var C=e(63489);function u(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}function A(T,m){return T-m*Math.floor(T/m)}e(56131)(u.prototype=new C.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var m=this._validate(T,this.minMonth,this.minDay,C.local.invalidYear);return this._leapYear(m.year())},_leapYear:function(T){return A(7*(T=T<0?T+1:T)+1,19)<7},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,C.local.invalidYear),this._leapYear(T.year?T.year():T)?13:12},weekOfYear:function(T,m,l){var t=this.newDate(T,m,l);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(T){return T=this._validate(T,this.minMonth,this.minDay,C.local.invalidYear).year(),this.toJD(-1===T?1:T+1,7,1)-this.toJD(T,7,1)},daysInMonth:function(T,m){return T.year&&(m=T.month(),T=T.year()),this._validate(T,m,this.minDay,C.local.invalidMonth),12===m&&this.leapYear(T)||8===m&&5===A(this.daysInYear(T),10)?30:9===m&&3===A(this.daysInYear(T),10)?29:this.daysPerMonth[m-1]},weekDay:function(T,m,l){return 6!==this.dayOfWeek(T,m,l)},extraInfo:function(T,m,l){var t=this._validate(T,m,l,C.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(T,m,l){var t=this._validate(T,m,l,C.local.invalidDate);T=t.year(),m=t.month(),l=t.day();var o=T<=0?T+1:T,r=this.jdEpoch+this._delay1(o)+this._delay2(o)+l+1;if(m<7){for(var n=7;n<=this.monthsInYear(T);n++)r+=this.daysInMonth(T,n);for(n=1;n<m;n++)r+=this.daysInMonth(T,n)}else for(n=7;n<m;n++)r+=this.daysInMonth(T,n);return r},_delay1:function(T){var m=Math.floor((235*T-234)/19),t=29*m+Math.floor((12084+13753*m)/25920);return A(3*(t+1),7)<3&&t++,t},_delay2:function(T){var m=this._delay1(T-1),l=this._delay1(T);return this._delay1(T+1)-l==356?2:l-m==382?1:0},fromJD:function(T){T=Math.floor(T)+.5;for(var m=Math.floor(98496*(T-this.jdEpoch)/35975351)-1;T>=this.toJD(-1===m?1:m+1,7,1);)m++;for(var l=T<this.toJD(m,1,1)?7:1;T>this.toJD(m,l,this.daysInMonth(m,l));)l++;var t=T-this.toJD(m,l,1)+1;return this.newDate(m,l,t)}}),C.calendars.hebrew=u},43805:function(ie,B,e){var C=e(63489);function u(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}e(56131)(u.prototype=new C.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(A){return(11*this._validate(A,this.minMonth,this.minDay,C.local.invalidYear).year()+14)%30<11},weekOfYear:function(A,T,m){var l=this.newDate(A,T,m);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(A){return this.leapYear(A)?355:354},daysInMonth:function(A,T){var m=this._validate(A,T,this.minDay,C.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(12===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(A,T,m){return 5!==this.dayOfWeek(A,T,m)},toJD:function(A,T,m){var l=this._validate(A,T,m,C.local.invalidDate);return A=l.year(),T=l.month(),A=A<=0?A+1:A,(m=l.day())+Math.ceil(29.5*(T-1))+354*(A-1)+Math.floor((3+11*A)/30)+this.jdEpoch-1},fromJD:function(A){A=Math.floor(A)+.5;var T=Math.floor((30*(A-this.jdEpoch)+10646)/10631);T=T<=0?T-1:T;var m=Math.min(12,Math.ceil((A-29-this.toJD(T,1,1))/29.5)+1),l=A-this.toJD(T,m,1)+1;return this.newDate(T,m,l)}}),C.calendars.islamic=u},88874:function(ie,B,e){var C=e(63489);function u(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}e(56131)(u.prototype=new C.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var T=this._validate(A,this.minMonth,this.minDay,C.local.invalidYear);return(A=T.year()<0?T.year()+1:T.year())%4==0},weekOfYear:function(A,T,m){var l=this.newDate(A,T,m);return l.add(4-(l.dayOfWeek()||7),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(A,T){var m=this._validate(A,T,this.minDay,C.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(2===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(A,T,m){return(this.dayOfWeek(A,T,m)||7)<6},toJD:function(A,T,m){var l=this._validate(A,T,m,C.local.invalidDate);return A=l.year(),T=l.month(),m=l.day(),A<0&&A++,T<=2&&(A--,T+=12),Math.floor(365.25*(A+4716))+Math.floor(30.6001*(T+1))+m-1524.5},fromJD:function(A){var T=Math.floor(A+.5)+1524,m=Math.floor((T-122.1)/365.25),l=Math.floor(365.25*m),t=Math.floor((T-l)/30.6001),o=t-Math.floor(t<14?1:13),r=m-Math.floor(o>2?4716:4715),n=T-l-Math.floor(30.6001*t);return r<=0&&r--,this.newDate(r,o,n)}}),C.calendars.julian=u},83290:function(ie,B,e){var C=e(63489);function u(m){this.local=this.regionalOptions[m||""]||this.regionalOptions[""]}function A(m,l){return m-l*Math.floor(m/l)}function T(m,l){return A(m-1,l)+1}e(56131)(u.prototype=new C.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(m){return this._validate(m,this.minMonth,this.minDay,C.local.invalidYear),!1},formatYear:function(m){m=this._validate(m,this.minMonth,this.minDay,C.local.invalidYear).year();var l=Math.floor(m/400);return m%=400,m+=m<0?400:0,l+"."+Math.floor(m/20)+"."+m%20},forYear:function(m){if((m=m.split(".")).length<3)throw"Invalid Mayan year";for(var l=0,t=0;t<m.length;t++){var o=parseInt(m[t],10);if(Math.abs(o)>19||t>0&&o<0)throw"Invalid Mayan year";l=20*l+o}return l},monthsInYear:function(m){return this._validate(m,this.minMonth,this.minDay,C.local.invalidYear),18},weekOfYear:function(m,l,t){return this._validate(m,l,t,C.local.invalidDate),0},daysInYear:function(m){return this._validate(m,this.minMonth,this.minDay,C.local.invalidYear),360},daysInMonth:function(m,l){return this._validate(m,l,this.minDay,C.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(m,l,t){return this._validate(m,l,t,C.local.invalidDate).day()},weekDay:function(m,l,t){return this._validate(m,l,t,C.local.invalidDate),!0},extraInfo:function(m,l,t){var o=this._validate(m,l,t,C.local.invalidDate).toJD(),r=this._toHaab(o),n=this._toTzolkin(o);return{haabMonthName:this.local.haabMonths[r[0]-1],haabMonth:r[0],haabDay:r[1],tzolkinDayName:this.local.tzolkinMonths[n[0]-1],tzolkinDay:n[0],tzolkinTrecena:n[1]}},_toHaab:function(m){var l=A(8+(m-=this.jdEpoch)+340,365);return[Math.floor(l/20)+1,A(l,20)]},_toTzolkin:function(m){return[T(20+(m-=this.jdEpoch),20),T(m+4,13)]},toJD:function(m,l,t){var o=this._validate(m,l,t,C.local.invalidDate);return o.day()+20*o.month()+360*o.year()+this.jdEpoch},fromJD:function(m){m=Math.floor(m)+.5-this.jdEpoch;var l=Math.floor(m/360);m%=360,m+=m<0?360:0;var t=Math.floor(m/20);return this.newDate(l,t,m%20)}}),C.calendars.mayan=u},29108:function(ie,B,e){var C=e(63489),S=e(56131);function u(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}u.prototype=new C.baseCalendar;var A=C.instance("gregorian");S(u.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var m=this._validate(T,this.minMonth,this.minDay,C.local.invalidYear||C.regionalOptions[""].invalidYear);return A.leapYear(m.year()+(m.year()<1?1:0)+1469)},weekOfYear:function(T,m,l){var t=this.newDate(T,m,l);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(T,m){var l=this._validate(T,m,this.minDay,C.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(12===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(T,m,l){return(this.dayOfWeek(T,m,l)||7)<6},toJD:function(T,m,l){var t=this._validate(T,m,l,C.local.invalidMonth);(T=t.year())<0&&T++;for(var o=t.day(),r=1;r<t.month();r++)o+=this.daysPerMonth[r-1];return o+A.toJD(T+1468,3,13)},fromJD:function(T){T=Math.floor(T+.5);for(var m=Math.floor((T-(this.jdEpoch-1))/366);T>=this.toJD(m+1,1,1);)m++;for(var l=T-Math.floor(this.toJD(m,1,1)+.5)+1,t=1;l>this.daysInMonth(m,t);)l-=this.daysInMonth(m,t),t++;return this.newDate(m,t,l)}}),C.calendars.nanakshahi=u},55422:function(ie,B,e){var C=e(63489);function u(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}e(56131)(u.prototype=new C.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(A){return this.daysInYear(A)!==this.daysPerYear},weekOfYear:function(A,T,m){var l=this.newDate(A,T,m);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(A){if(A=this._validate(A,this.minMonth,this.minDay,C.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[A])return this.daysPerYear;for(var T=0,m=this.minMonth;m<=12;m++)T+=this.NEPALI_CALENDAR_DATA[A][m];return T},daysInMonth:function(A,T){return A.year&&(T=A.month(),A=A.year()),this._validate(A,T,this.minDay,C.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[A]?this.daysPerMonth[T-1]:this.NEPALI_CALENDAR_DATA[A][T]},weekDay:function(A,T,m){return 6!==this.dayOfWeek(A,T,m)},toJD:function(A,T,m){var l=this._validate(A,T,m,C.local.invalidDate);A=l.year(),T=l.month(),m=l.day();var t=C.instance(),o=0,r=T,n=A;this._createMissingCalendarData(A);var a=A-(r>9||9===r&&m>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(9!==T&&(o=m,r--);9!==r;)r<=0&&(r=12,n--),o+=this.NEPALI_CALENDAR_DATA[n][r],r--;return 9===T?(o+=m-this.NEPALI_CALENDAR_DATA[n][0])<0&&(o+=t.daysInYear(a)):o+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(a,1,1).add(o,"d").toJD()},fromJD:function(A){var T=C.instance().fromJD(A),m=T.year(),l=T.dayOfYear(),t=m+56;this._createMissingCalendarData(t);for(var o=9,n=this.NEPALI_CALENDAR_DATA[t][o]-this.NEPALI_CALENDAR_DATA[t][0]+1;l>n;)++o>12&&(o=1,t++),n+=this.NEPALI_CALENDAR_DATA[t][o];return this.newDate(t,o,this.NEPALI_CALENDAR_DATA[t][o]-(n-l))},_createMissingCalendarData:function(A){var T=this.daysPerMonth.slice(0);T.unshift(17);for(var m=A-1;m<A+2;m++)void 0===this.NEPALI_CALENDAR_DATA[m]&&(this.NEPALI_CALENDAR_DATA[m]=T)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),C.calendars.nepali=u},94320:function(ie,B,e){var C=e(63489);function u(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}function A(T,m){return T-m*Math.floor(T/m)}e(56131)(u.prototype=new C.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(T){var m=this._validate(T,this.minMonth,this.minDay,C.local.invalidYear);return 682*((m.year()-(m.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(T,m,l){var t=this.newDate(T,m,l);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(T,m){var l=this._validate(T,m,this.minDay,C.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(12===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(T,m,l){return 5!==this.dayOfWeek(T,m,l)},toJD:function(T,m,l){var t=this._validate(T,m,l,C.local.invalidDate);T=t.year(),m=t.month(),l=t.day();var o=T-(T>=0?474:473),r=474+A(o,2820);return l+(m<=7?31*(m-1):30*(m-1)+6)+Math.floor((682*r-110)/2816)+365*(r-1)+1029983*Math.floor(o/2820)+this.jdEpoch-1},fromJD:function(T){var m=(T=Math.floor(T)+.5)-this.toJD(475,1,1),l=Math.floor(m/1029983),t=A(m,1029983),o=2820;if(1029982!==t){var r=Math.floor(t/366),n=A(t,366);o=Math.floor((2134*r+2816*n+2815)/1028522)+r+1}var a=o+2820*l+474,s=T-this.toJD(a=a<=0?a-1:a,1,1)+1,c=s<=186?Math.ceil(s/31):Math.ceil((s-6)/30),p=T-this.toJD(a,c,1)+1;return this.newDate(a,c,p)}}),C.calendars.persian=u,C.calendars.jalali=u},31320:function(ie,B,e){var C=e(63489),S=e(56131),u=C.instance();function A(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}S(A.prototype=new C.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(T){var m=this._validate(T,this.minMonth,this.minDay,C.local.invalidYear);return T=this._t2gYear(m.year()),u.leapYear(T)},weekOfYear:function(T,m,l){var t=this._validate(T,this.minMonth,this.minDay,C.local.invalidYear);return T=this._t2gYear(t.year()),u.weekOfYear(T,t.month(),t.day())},daysInMonth:function(T,m){var l=this._validate(T,m,this.minDay,C.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(2===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(T,m,l){return(this.dayOfWeek(T,m,l)||7)<6},toJD:function(T,m,l){var t=this._validate(T,m,l,C.local.invalidDate);return T=this._t2gYear(t.year()),u.toJD(T,t.month(),t.day())},fromJD:function(T){var m=u.fromJD(T),l=this._g2tYear(m.year());return this.newDate(l,m.month(),m.day())},_t2gYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)},_g2tYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)}}),C.calendars.taiwan=A},51367:function(ie,B,e){var C=e(63489),S=e(56131),u=C.instance();function A(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}S(A.prototype=new C.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var m=this._validate(T,this.minMonth,this.minDay,C.local.invalidYear);return T=this._t2gYear(m.year()),u.leapYear(T)},weekOfYear:function(T,m,l){var t=this._validate(T,this.minMonth,this.minDay,C.local.invalidYear);return T=this._t2gYear(t.year()),u.weekOfYear(T,t.month(),t.day())},daysInMonth:function(T,m){var l=this._validate(T,m,this.minDay,C.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(2===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(T,m,l){return(this.dayOfWeek(T,m,l)||7)<6},toJD:function(T,m,l){var t=this._validate(T,m,l,C.local.invalidDate);return T=this._t2gYear(t.year()),u.toJD(T,t.month(),t.day())},fromJD:function(T){var m=u.fromJD(T),l=this._g2tYear(m.year());return this.newDate(l,m.month(),m.day())},_t2gYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)},_g2tYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)}}),C.calendars.thai=A},21457:function(ie,B,e){var C=e(63489);function u(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}e(56131)(u.prototype=new C.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(T){var m=this._validate(T,this.minMonth,this.minDay,C.local.invalidYear);return 355===this.daysInYear(m.year())},weekOfYear:function(T,m,l){var t=this.newDate(T,m,l);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(T){for(var m=0,l=1;l<=12;l++)m+=this.daysInMonth(T,l);return m},daysInMonth:function(T,m){for(var l=this._validate(T,m,this.minDay,C.local.invalidMonth).toJD()-24e5+.5,t=0,o=0;o<A.length;o++){if(A[o]>l)return A[t]-A[t-1];t++}return 30},weekDay:function(T,m,l){return 5!==this.dayOfWeek(T,m,l)},toJD:function(T,m,l){var t=this._validate(T,m,l,C.local.invalidDate),o=12*(t.year()-1)+t.month()-15292;return t.day()+A[o-1]-1+24e5-.5},fromJD:function(T){for(var m=T-24e5+.5,l=0,t=0;t<A.length&&!(A[t]>m);t++)l++;var o=l+15292,r=Math.floor((o-1)/12);return this.newDate(r+1,o-12*r,m-A[l-1]+1)},isValid:function(T,m,l){var t=C.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(T=null!=T.year?T.year:T)>=1276&&T<=1500),t},_validate:function(T,m,l,t){var o=C.baseCalendar.prototype._validate.apply(this,arguments);if(o.year<1276||o.year>1500)throw t.replace(/\{0\}/,this.local.name);return o}}),C.calendars.ummalqura=u;var A=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(ie,B,e){var C=e(56131);function S(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function u(t,o,r,n){if(this._calendar=t,this._year=o,this._month=r,this._day=n,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function A(t,o){return"000000".substring(0,o-(t=""+t).length)+t}function T(){this.shortYearCutoff="+10"}function m(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}C(S.prototype,{instance:function(t,o){t=(t||"gregorian").toLowerCase();var r=this._localCals[t+"-"+(o=o||"")];if(!r&&this.calendars[t]&&(r=new this.calendars[t](o),this._localCals[t+"-"+o]=r),!r)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return r},newDate:function(t,o,r,n,a){return(n=(null!=t&&t.year?t.calendar():"string"==typeof n?this.instance(n,a):n)||this.instance()).newDate(t,o,r)},substituteDigits:function(t){return function(o){return(o+"").replace(/[0-9]/g,function(r){return t[r]})}},substituteChineseDigits:function(t,o){return function(r){for(var n="",a=0;r>0;){var s=r%10;n=(0===s?"":t[s]+o[a])+n,a++,r=Math.floor(r/10)}return 0===n.indexOf(t[1]+o[1])&&(n=n.substr(1)),n||t[0]}}}),C(u.prototype,{newDate:function(t,o,r){return this._calendar.newDate(t??this,o,r)},year:function(t){return 0===arguments.length?this._year:this.set(t,"y")},month:function(t){return 0===arguments.length?this._month:this.set(t,"m")},day:function(t){return 0===arguments.length?this._day:this.set(t,"d")},date:function(t,o,r){if(!this._calendar.isValid(t,o,r))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=o,this._day=r,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,o){return this._calendar.add(this,t,o)},set:function(t,o){return this._calendar.set(this,t,o)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var o=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return 0===o?0:o<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+A(Math.abs(this.year()),4)+"-"+A(this.month(),2)+"-"+A(this.day(),2)}}),C(T.prototype,{_validateLevel:0,newDate:function(t,o,r){return null==t?this.today():(t.year&&(this._validate(t,o,r,l.local.invalidDate||l.regionalOptions[""].invalidDate),r=t.day(),o=t.month(),t=t.year()),new u(this,t,o,r))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var o=this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return(o.year()<0?"-":"")+A(Math.abs(o.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),12},monthOfYear:function(t,o){var r=this._validate(t,o,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return(r.month()+this.monthsInYear(r)-this.firstMonth)%this.monthsInYear(r)+this.minMonth},fromMonthOfYear:function(t,o){var r=(o+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,r,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth),r},daysInYear:function(t){var o=this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return this.leapYear(o)?366:365},dayOfYear:function(t,o,r){var n=this._validate(t,o,r,l.local.invalidDate||l.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,o,r){var n=this._validate(t,o,r,l.local.invalidDate||l.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,o,r){return this._validate(t,o,r,l.local.invalidDate||l.regionalOptions[""].invalidDate),{}},add:function(t,o,r){return this._validate(t,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,o,r),o,r)},_add:function(t,o,r){if(this._validateLevel++,"d"===r||"w"===r){var n=t.toJD()+o*("w"===r?this.daysInWeek():1),a=t.calendar().fromJD(n);return this._validateLevel--,[a.year(),a.month(),a.day()]}try{var s=t.year()+("y"===r?o:0),c=t.monthOfYear()+("m"===r?o:0);a=t.day(),"y"===r?(t.month()!==this.fromMonthOfYear(s,c)&&(c=this.newDate(s,t.month(),this.minDay).monthOfYear()),c=Math.min(c,this.monthsInYear(s)),a=Math.min(a,this.daysInMonth(s,this.fromMonthOfYear(s,c)))):"m"===r&&(function(f){for(;c<f.minMonth;)s--,c+=f.monthsInYear(s);for(var w=f.monthsInYear(s);c>w-1+f.minMonth;)s++,c-=w,w=f.monthsInYear(s)}(this),a=Math.min(a,this.daysInMonth(s,this.fromMonthOfYear(s,c))));var p=[s,this.fromMonthOfYear(s,c),a];return this._validateLevel--,p}catch(f){throw this._validateLevel--,f}},_correctAdd:function(t,o,r,n){if(!(this.hasYearZero||"y"!==n&&"m"!==n||0!==o[0]&&t.year()>0==o[0]>0)){var a={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n];o=this._add(t,r*a[0]+(r<0?-1:1)*a[1],a[2])}return t.date(o[0],o[1],o[2])},set:function(t,o,r){this._validate(t,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate);var n="y"===r?o:t.year(),a="m"===r?o:t.month(),s="d"===r?o:t.day();return"y"!==r&&"m"!==r||(s=Math.min(s,this.daysInMonth(n,a))),t.date(n,a,s)},isValid:function(t,o,r){this._validateLevel++;var n=this.hasYearZero||0!==t;if(n){var a=this.newDate(t,o,this.minDay);n=o>=this.minMonth&&o-this.minMonth<this.monthsInYear(a)&&r>=this.minDay&&r-this.minDay<this.daysInMonth(a)}return this._validateLevel--,n},toJSDate:function(t,o,r){var n=this._validate(t,o,r,l.local.invalidDate||l.regionalOptions[""].invalidDate);return l.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(l.instance().fromJSDate(t).toJD())},_validate:function(t,o,r,n){if(t.year){if(0===this._validateLevel&&this.name!==t.calendar().name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(t,o,r))throw n.replace(/\{0\}/,this.local.name);var a=this.newDate(t,o,r);return this._validateLevel--,a}catch(s){throw this._validateLevel--,s}}}),C(m.prototype=new T,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var o=this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return(t=o.year()+(o.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,o,r){var n=this.newDate(t,o,r);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,o){var r=this._validate(t,o,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,o,r){return(this.dayOfWeek(t,o,r)||7)<6},toJD:function(t,o,r){var n=this._validate(t,o,r,l.local.invalidDate||l.regionalOptions[""].invalidDate);t=n.year(),o=n.month(),r=n.day(),t<0&&t++,o<3&&(o+=12,t--);var a=Math.floor(t/100),s=2-a+Math.floor(a/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(o+1))+r+s-1524.5},fromJD:function(t){var o=Math.floor(t+.5),r=Math.floor((o-1867216.25)/36524.25),n=1524+(r=o+1+r-Math.floor(r/4)),a=Math.floor((n-122.1)/365.25),s=Math.floor(365.25*a),c=Math.floor((n-s)/30.6001),p=n-s-Math.floor(30.6001*c),f=c-(c>13.5?13:1),w=a-(f>2.5?4716:4715);return w<=0&&w--,this.newDate(w,f,p)},toJSDate:function(t,o,r){var n=this._validate(t,o,r,l.local.invalidDate||l.regionalOptions[""].invalidDate),a=new Date(n.year(),n.month()-1,n.day());return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(a.getHours()>12?a.getHours()+2:0),a},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var l=ie.exports=new S;l.cdate=u,l.baseCalendar=T,l.calendars.gregorian=m},94338:function(ie,B,e){var C=e(56131),S=e(63489);C(S.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),S.local=S.regionalOptions[""],C(S.cdate.prototype,{formatDate:function(u,A){return"string"!=typeof u&&(A=u,u=""),this._calendar.formatDate(u||"",this,A)}}),C(S.baseCalendar.prototype,{UNIX_EPOCH:S.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:S.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(u,A,T){if("string"!=typeof u&&(T=A,A=u,u=""),!A)return"";if(A.calendar()!==this)throw S.local.invalidFormat||S.regionalOptions[""].invalidFormat;u=u||this.local.dateFormat;for(var m,l,t,o=(T=T||{}).dayNamesShort||this.local.dayNamesShort,r=T.dayNames||this.local.dayNames,n=T.monthNumbers||this.local.monthNumbers,a=T.monthNamesShort||this.local.monthNamesShort,s=T.monthNames||this.local.monthNames,c=function(d,E){for(var k=1;M+k<u.length&&u.charAt(M+k)===d;)k++;return M+=k-1,Math.floor(k/(E||1))>1},p=function(d,E,k,I){var L=""+E;if(c(d,I))for(;L.length<k;)L="0"+L;return L},f=this,v=function(d,E){return E?"function"==typeof s?s.call(f,d):s[d.month()-f.minMonth]:"function"==typeof a?a.call(f,d):a[d.month()-f.minMonth]},h=this.local.digits,_=function(d){return T.localNumbers&&h?h(d):d},x="",b=!1,M=0;M<u.length;M++)if(b)"'"!==u.charAt(M)||c("'")?x+=u.charAt(M):b=!1;else switch(u.charAt(M)){case"d":x+=_(p("d",A.day(),2));break;case"D":x+=(m=A.dayOfWeek(),l=o,t=r,c("D")?t[m]:l[m]);break;case"o":x+=p("o",A.dayOfYear(),3);break;case"w":x+=p("w",A.weekOfYear(),2);break;case"m":x+=(d=A,"function"==typeof n?n.call(f,d,c("m")):_(p("m",d.month(),2)));break;case"M":x+=v(A,c("M"));break;case"y":x+=c("y",2)?A.year():(A.year()%100<10?"0":"")+A.year()%100;break;case"Y":c("Y",2),x+=A.formatYear();break;case"J":x+=A.toJD();break;case"@":x+=(A.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":x+=(A.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":c("'")?x+="'":b=!0;break;default:x+=u.charAt(M)}var d;return x},parseDate:function(u,A,T){if(null==A)throw S.local.invalidArguments||S.regionalOptions[""].invalidArguments;if(""===(A="object"==typeof A?A.toString():A+""))return null;u=u||this.local.dateFormat;var m=(T=T||{}).shortYearCutoff||this.shortYearCutoff;m="string"!=typeof m?m:this.today().year()%100+parseInt(m,10);for(var l=T.dayNamesShort||this.local.dayNamesShort,t=T.dayNames||this.local.dayNames,o=T.parseMonth||this.local.parseMonth,r=T.monthNumbers||this.local.monthNumbers,n=T.monthNamesShort||this.local.monthNamesShort,a=T.monthNames||this.local.monthNames,s=-1,c=-1,p=-1,f=-1,w=-1,v=!1,h=!1,_=function(z,$){for(var N=1;L+N<u.length&&u.charAt(L+N)===z;)N++;return L+=N-1,Math.floor(N/($||1))>1},x=function(z,$){var N=_(z,$),W=[2,3,N?4:2,N?4:2,10,11,20]["oyYJ@!".indexOf(z)+1],H=new RegExp("^-?\\d{1,"+W+"}"),U=A.substring(I).match(H);if(!U)throw(S.local.missingNumberAt||S.regionalOptions[""].missingNumberAt).replace(/\{0\}/,I);return I+=U[0].length,parseInt(U[0],10)},b=this,M=function(){if("function"==typeof r){_("m");var z=r.call(b,A.substring(I));return I+=z.length,z}return x("m")},d=function(z,$,N,W){for(var H=_(z,W)?N:$,U=0;U<H.length;U++)if(A.substr(I,H[U].length).toLowerCase()===H[U].toLowerCase())return I+=H[U].length,U+b.minMonth;throw(S.local.unknownNameAt||S.regionalOptions[""].unknownNameAt).replace(/\{0\}/,I)},E=function(){if("function"==typeof a){var z=_("M")?a.call(b,A.substring(I)):n.call(b,A.substring(I));return I+=z.length,z}return d("M",n,a)},k=function(){if(A.charAt(I)!==u.charAt(L))throw(S.local.unexpectedLiteralAt||S.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,I);I++},I=0,L=0;L<u.length;L++)if(h)"'"!==u.charAt(L)||_("'")?k():h=!1;else switch(u.charAt(L)){case"d":f=x("d");break;case"D":d("D",l,t);break;case"o":w=x("o");break;case"w":x("w");break;case"m":p=M();break;case"M":p=E();break;case"y":var P=L;v=!_("y",2),L=P,c=x("y",2);break;case"Y":c=x("Y",2);break;case"J":s=x("J")+.5,"."===A.charAt(I)&&(I++,x("J"));break;case"@":s=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":s=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":I=A.length;break;case"'":_("'")?k():h=!0;break;default:k()}if(I<A.length)throw S.local.unexpectedText||S.regionalOptions[""].unexpectedText;if(-1===c?c=this.today().year():c<100&&v&&(c+=-1===m?1900:this.today().year()-this.today().year()%100-(c<=m?0:100)),"string"==typeof p&&(p=o.call(this,c,p)),w>-1){f=w;for(var R=this.daysInMonth(c,p=1);f>R;R=this.daysInMonth(c,p))p++,f-=R}return s>-1?this.fromJD(s):this.newDate(c,p,f)},determineDate:function(u,A,T,m,l){T&&"object"!=typeof T&&(l=m,m=T,T=null),"string"!=typeof m&&(l=m,m="");var t=this;return A=A?A.newDate():null,null==u?A:"string"==typeof u?function(o){try{return t.parseDate(m,o,l)}catch{}for(var r=((o=o.toLowerCase()).match(/^c/)&&T?T.newDate():null)||t.today(),n=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,a=n.exec(o);a;)r.add(parseInt(a[1],10),a[2]||"d"),a=n.exec(o);return r}(u):"number"==typeof u?isNaN(u)||u===1/0||u===-1/0?A:t.today().add(u,"d"):t.newDate(u)}})},69862:function(){},40964:function(){},72077:function(ie,B,e){"use strict";var C=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],S=typeof globalThis>"u"?e.g:globalThis;ie.exports=function(){for(var u=[],A=0;A<C.length;A++)"function"==typeof S[C[A]]&&(u[u.length]=C[A]);return u}},81684:function(ie,B,e){"use strict";function C(Te,be,xe){Te.prototype=be.prototype=xe,xe.constructor=Te}function S(Te,be){var xe=Object.create(Te.prototype);for(var Ne in be)xe[Ne]=be[Ne];return xe}function u(){}e.d(B,{sX:function(){return Pe},k4:function(){return K}});var A=.7,T=1/A,m="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o=/^#([0-9a-f]{3,8})$/,r=new RegExp("^rgb\\(".concat(m,",").concat(m,",").concat(m,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),a=new RegExp("^rgba\\(".concat(m,",").concat(m,",").concat(m,",").concat(l,"\\)$")),s=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(l,"\\)$")),c=new RegExp("^hsl\\(".concat(l,",").concat(t,",").concat(t,"\\)$")),p=new RegExp("^hsla\\(".concat(l,",").concat(t,",").concat(t,",").concat(l,"\\)$")),f={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function w(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function h(Te){var be,xe;return Te=(Te+"").trim().toLowerCase(),(be=o.exec(Te))?(xe=be[1].length,be=parseInt(be[1],16),6===xe?_(be):3===xe?new M(be>>8&15|be>>4&240,be>>4&15|240&be,(15&be)<<4|15&be,1):8===xe?x(be>>24&255,be>>16&255,be>>8&255,(255&be)/255):4===xe?x(be>>12&15|be>>8&240,be>>8&15|be>>4&240,be>>4&15|240&be,((15&be)<<4|15&be)/255):null):(be=r.exec(Te))?new M(be[1],be[2],be[3],1):(be=n.exec(Te))?new M(255*be[1]/100,255*be[2]/100,255*be[3]/100,1):(be=a.exec(Te))?x(be[1],be[2],be[3],be[4]):(be=s.exec(Te))?x(255*be[1]/100,255*be[2]/100,255*be[3]/100,be[4]):(be=c.exec(Te))?P(be[1],be[2]/100,be[3]/100,1):(be=p.exec(Te))?P(be[1],be[2]/100,be[3]/100,be[4]):f.hasOwnProperty(Te)?_(f[Te]):"transparent"===Te?new M(NaN,NaN,NaN,0):null}function _(Te){return new M(Te>>16&255,Te>>8&255,255&Te,1)}function x(Te,be,xe,Ne){return Ne<=0&&(Te=be=xe=NaN),new M(Te,be,xe,Ne)}function b(Te,be,xe,Ne){return 1===arguments.length?((Se=Te)instanceof u||(Se=h(Se)),Se?new M((Se=Se.rgb()).r,Se.g,Se.b,Se.opacity):new M):new M(Te,be,xe,Ne??1);var Se}function M(Te,be,xe,Ne){this.r=+Te,this.g=+be,this.b=+xe,this.opacity=+Ne}function d(){return"#".concat(L(this.r)).concat(L(this.g)).concat(L(this.b))}function E(){var Te=k(this.opacity);return"".concat(1===Te?"rgb(":"rgba(").concat(I(this.r),", ").concat(I(this.g),", ").concat(I(this.b)).concat(1===Te?")":", ".concat(Te,")"))}function k(Te){return isNaN(Te)?1:Math.max(0,Math.min(1,Te))}function I(Te){return Math.max(0,Math.min(255,Math.round(Te)||0))}function L(Te){return((Te=I(Te))<16?"0":"")+Te.toString(16)}function P(Te,be,xe,Ne){return Ne<=0?Te=be=xe=NaN:xe<=0||xe>=1?Te=be=NaN:be<=0&&(Te=NaN),new z(Te,be,xe,Ne)}function R(Te){if(Te instanceof z)return new z(Te.h,Te.s,Te.l,Te.opacity);if(Te instanceof u||(Te=h(Te)),!Te)return new z;if(Te instanceof z)return Te;var be=(Te=Te.rgb()).r/255,xe=Te.g/255,Ne=Te.b/255,Se=Math.min(be,xe,Ne),Ce=Math.max(be,xe,Ne),pe=NaN,de=Ce-Se,se=(Ce+Se)/2;return de?(pe=be===Ce?(xe-Ne)/de+6*(xe<Ne):xe===Ce?(Ne-be)/de+2:(be-xe)/de+4,de/=se<.5?Ce+Se:2-Ce-Se,pe*=60):de=se>0&&se<1?0:pe,new z(pe,de,se,Te.opacity)}function z(Te,be,xe,Ne){this.h=+Te,this.s=+be,this.l=+xe,this.opacity=+Ne}function $(Te){return(Te=(Te||0)%360)<0?Te+360:Te}function N(Te){return Math.max(0,Math.min(1,Te||0))}function W(Te,be,xe){return 255*(Te<60?be+(xe-be)*Te/60:Te<180?xe:Te<240?be+(xe-be)*(240-Te)/60:be)}function H(Te,be,xe,Ne,Se){var Ce=Te*Te,pe=Ce*Te;return((1-3*Te+3*Ce-pe)*be+(4-6*Ce+3*pe)*xe+(1+3*Te+3*Ce-3*pe)*Ne+pe*Se)/6}C(u,h,{copy:function(Te){return Object.assign(new this.constructor,this,Te)},displayable:function(){return this.rgb().displayable()},hex:w,formatHex:w,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return R(this).formatHsl()},formatRgb:v,toString:v}),C(M,b,S(u,{brighter:function(Te){return Te=null==Te?T:Math.pow(T,Te),new M(this.r*Te,this.g*Te,this.b*Te,this.opacity)},darker:function(Te){return Te=null==Te?A:Math.pow(A,Te),new M(this.r*Te,this.g*Te,this.b*Te,this.opacity)},rgb:function(){return this},clamp:function(){return new M(I(this.r),I(this.g),I(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d,formatHex:d,formatHex8:function(){return"#".concat(L(this.r)).concat(L(this.g)).concat(L(this.b)).concat(L(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:E,toString:E})),C(z,function(Te,be,xe,Ne){return 1===arguments.length?R(Te):new z(Te,be,xe,Ne??1)},S(u,{brighter:function(Te){return Te=null==Te?T:Math.pow(T,Te),new z(this.h,this.s,this.l*Te,this.opacity)},darker:function(Te){return Te=null==Te?A:Math.pow(A,Te),new z(this.h,this.s,this.l*Te,this.opacity)},rgb:function(){var Te=this.h%360+360*(this.h<0),be=isNaN(Te)||isNaN(this.s)?0:this.s,xe=this.l,Ne=xe+(xe<.5?xe:1-xe)*be,Se=2*xe-Ne;return new M(W(Te>=240?Te-240:Te+120,Se,Ne),W(Te,Se,Ne),W(Te<120?Te+240:Te-120,Se,Ne),this.opacity)},clamp:function(){return new z($(this.h),N(this.s),N(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Te=k(this.opacity);return"".concat(1===Te?"hsl(":"hsla(").concat($(this.h),", ").concat(100*N(this.s),"%, ").concat(100*N(this.l),"%").concat(1===Te?")":", ".concat(Te,")"))}}));var U=function(Te){return function(){return Te}};function Z(Te,be){var Ne,Se,xe=be-Te;return xe?(Ne=Te,Se=xe,function(Ce){return Ne+Ce*Se}):U(isNaN(Te)?be:Te)}var Y=function Te(be){var Se,xe=1==(Se=+(Se=be))?Z:function(Ce,pe){return pe-Ce?(de=Ce,se=pe,we=Se,de=Math.pow(de,we),se=Math.pow(se,we)-de,we=1/we,function(Re){return Math.pow(de+Re*se,we)}):U(isNaN(Ce)?pe:Ce);var de,se,we};function Ne(Se,Ce){var pe=xe((Se=b(Se)).r,(Ce=b(Ce)).r),de=xe(Se.g,Ce.g),se=xe(Se.b,Ce.b),we=Z(Se.opacity,Ce.opacity);return function(Re){return Se.r=pe(Re),Se.g=de(Re),Se.b=se(Re),Se.opacity=we(Re),Se+""}}return Ne.gamma=Te,Ne}(1);function ae(Te){return function(be){var xe,Ne,Se=be.length,Ce=new Array(Se),pe=new Array(Se),de=new Array(Se);for(xe=0;xe<Se;++xe)Ne=b(be[xe]),Ce[xe]=Ne.r||0,pe[xe]=Ne.g||0,de[xe]=Ne.b||0;return Ce=Te(Ce),pe=Te(pe),de=Te(de),Ne.opacity=1,function(se){return Ne.r=Ce(se),Ne.g=pe(se),Ne.b=de(se),Ne+""}}}function re(Te,be){var xe,Ne=be?be.length:0,Se=Te?Math.min(Ne,Te.length):0,Ce=new Array(Se),pe=new Array(Ne);for(xe=0;xe<Se;++xe)Ce[xe]=Pe(Te[xe],be[xe]);for(;xe<Ne;++xe)pe[xe]=be[xe];return function(de){for(xe=0;xe<Se;++xe)pe[xe]=Ce[xe](de);return pe}}function Q(Te,be){var xe=new Date;return Te=+Te,be=+be,function(Ne){return xe.setTime(Te*(1-Ne)+be*Ne),xe}}function K(Te,be){return Te=+Te,be=+be,function(xe){return Te*(1-xe)+be*xe}}function te(Te){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(Te)}function oe(Te,be){var xe,Ne={},Se={};for(xe in null!==Te&&"object"===te(Te)||(Te={}),null!==be&&"object"===te(be)||(be={}),be)xe in Te?Ne[xe]=Pe(Te[xe],be[xe]):Se[xe]=be[xe];return function(Ce){for(xe in Ne)Se[xe]=Ne[xe](Ce);return Se}}ae(function(Te){var be=Te.length-1;return function(xe){var Ne=xe<=0?xe=0:xe>=1?(xe=1,be-1):Math.floor(xe*be),Se=Te[Ne],Ce=Te[Ne+1];return H((xe-Ne/be)*be,Ne>0?Te[Ne-1]:2*Se-Ce,Se,Ce,Ne<be-1?Te[Ne+2]:2*Ce-Se)}}),ae(function(Te){var be=Te.length;return function(xe){var Ne=Math.floor(((xe%=1)<0?++xe:xe)*be);return H((xe-Ne/be)*be,Te[(Ne+be-1)%be],Te[Ne%be],Te[(Ne+1)%be],Te[(Ne+2)%be])}});var ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fe=new RegExp(ue.source,"g");function he(Te,be){var xe,Ne,Se,we,Ce=ue.lastIndex=fe.lastIndex=0,pe=-1,de=[],se=[];for(Te+="",be+="";(xe=ue.exec(Te))&&(Ne=fe.exec(be));)(Se=Ne.index)>Ce&&(Se=be.slice(Ce,Se),de[pe]?de[pe]+=Se:de[++pe]=Se),(xe=xe[0])===(Ne=Ne[0])?de[pe]?de[pe]+=Ne:de[++pe]=Ne:(de[++pe]=null,se.push({i:pe,x:K(xe,Ne)})),Ce=fe.lastIndex;return Ce<be.length&&(Se=be.slice(Ce),de[pe]?de[pe]+=Se:de[++pe]=Se),de.length<2?se[0]?(we=se[0].x,function(Re){return we(Re)+""}):function(we){return function(){return we}}(be):(be=se.length,function(we){for(var Re,Ee=0;Ee<be;++Ee)de[(Re=se[Ee]).i]=Re.x(we);return de.join("")})}function me(Te,be){be||(be=[]);var xe,Ne=Te?Math.min(be.length,Te.length):0,Se=be.slice();return function(Ce){for(xe=0;xe<Ne;++xe)Se[xe]=Te[xe]*(1-Ce)+be[xe]*Ce;return Se}}function ke(Te){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(Te)}function Pe(Te,be){var xe,Ne,Se=ke(be);return null==be||"boolean"===Se?U(be):("number"===Se?K:"string"===Se?(xe=h(be))?(be=xe,Y):he:be instanceof h?Y:be instanceof Date?Q:(Ne=be,!ArrayBuffer.isView(Ne)||Ne instanceof DataView?Array.isArray(be)?re:"function"!=typeof be.valueOf&&"function"!=typeof be.toString||isNaN(be)?oe:K:me))(Te,be)}},40402:function(ie){"use strict";ie.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(ie){"use strict";ie.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(ie){"use strict";ie.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(ie){"use strict";ie.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(ie){"use strict";ie.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(ie){"use strict";ie.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},xa={};function gr(ie){var B=xa[ie];if(void 0!==B)return B.exports;var e=xa[ie]={exports:{}};return Qa[ie].call(e.exports,e,e.exports,gr),e.exports}return gr.n=function(ie){var B=ie&&ie.__esModule?function(){return ie.default}:function(){return ie};return gr.d(B,{a:B}),B},gr.d=function(ie,B){for(var e in B)gr.o(B,e)&&!gr.o(ie,e)&&Object.defineProperty(ie,e,{enumerable:!0,get:B[e]})},gr.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),gr.o=function(ie,B){return Object.prototype.hasOwnProperty.call(ie,B)},gr.r=function(ie){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ie,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ie,"__esModule",{value:!0})},gr(27909)}()}},Hf=>{Hf(Hf.s=976)}]);